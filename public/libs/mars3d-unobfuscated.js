/**
 * Mars3D三维可视化平台  mars3d
 *
 * 版本信息：v3.10.3
 * 编译日期：2025-08-22 11:17
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：火星科技免费公开版 ，2025-07-01
 */
(function (global, factory) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    factory(exports, window.Cesium || require("mars3d-cesium"), window.turf || require("@turf/turf"));
  } else if (typeof define === "function" && define.amd) {
    define(["exports", "mars3d-cesium", "@turf/turf"], factory);
  } else {
    global = typeof globalThis !== "undefined" ? globalThis : global || self;
    factory(global.mars3d = {}, global.Cesium, global.turf);
  }
})(this, function (exports, Cesium, turf) {
  'use strict';

  function _interopNamespace(_0x350479) {
    if (_0x350479 && _0x350479.__esModule) {
      return _0x350479;
    }
    var _0x191be2 = Object.create(null);
    if (_0x350479) {
      Object.keys(_0x350479).forEach(function (_0x2c3ef3) {
        if (_0x2c3ef3 !== "default") {
          var _0x2cc090 = Object.getOwnPropertyDescriptor(_0x350479, _0x2c3ef3);
          Object.defineProperty(_0x191be2, _0x2c3ef3, _0x2cc090.get ? _0x2cc090 : {
            enumerable: true,
            get: function () {
              return _0x350479[_0x2c3ef3];
            }
          });
        }
      });
    }
    _0x191be2.default = _0x350479;
    return _0x191be2;
  }
  var Cesium__namespace = _interopNamespace(Cesium);
  var turf__namespace = _interopNamespace(turf);
  function expandCesium$t() {
    const _0x3249e8 = Cesium__namespace.Resource.prototype.getUrlComponent;
    Cesium__namespace.Resource.prototype.getUrlComponent = function (_0x26c57d, _0x45dbeb) {
      let _0x4b7221 = _0x3249e8.bind(this)(_0x26c57d, _0x45dbeb);
      if (Cesium__namespace.Resource.ReplaceMars3DUrl) {
        _0x4b7221 = Cesium__namespace.Resource.ReplaceMars3DUrl.bind(this)(_0x4b7221);
      }
      if (Cesium__namespace.Resource.ReplaceUrl) {
        _0x4b7221 = Cesium__namespace.Resource.ReplaceUrl.bind(this)(_0x4b7221);
      }
      this._last_url = _0x4b7221;
      return _0x4b7221;
    };
    const _0xb7f4f = Cesium__namespace.Resource._Implementations.loadImageElement;
    Cesium__namespace.Resource._Implementations.loadImageElement = function (_0x22920e, _0x1b0b1b, _0x13cd6c) {
      if (_0x22920e.startsWith("file:")) {
        _0x1b0b1b = true;
      }
      return _0xb7f4f(_0x22920e, _0x1b0b1b, _0x13cd6c);
    };
    Cesium__namespace.Resource.prototype.cancelRequest = function () {
      if (Cesium__namespace.defined(this.request.deferred)) {
        const _0x2ab049 = this.request.deferred;
        this.request.deferred = undefined;
        _0x2ab049.reject();
      }
      if (Cesium__namespace.defined(this.request.cancelFunction)) {
        this.request.cancelFunction();
      }
    };
  }
  function expandCesium$s() {
    const _0x4eb7da = Cesium__namespace.Rectangle.union;
    Cesium__namespace.Rectangle.union = function (_0x24645e, _0x272682, _0x589ea4) {
      _0x589ea4 = _0x4eb7da(_0x24645e, _0x272682, _0x589ea4);
      if (Cesium__namespace.defined(_0x24645e.maxHeight)) {
        _0x589ea4.maxHeight = _0x24645e.maxHeight;
        if (Cesium__namespace.defined(_0x272682.maxHeight)) {
          _0x589ea4.maxHeight = Math.max(_0x589ea4.maxHeight, _0x272682.maxHeight);
        }
      } else if (Cesium__namespace.defined(_0x272682.maxHeight)) {
        _0x589ea4.maxHeight = _0x272682.maxHeight;
      }
      return _0x589ea4;
    };
  }
  function expandCesium$r() {
    const _0x2f4c10 = Cesium__namespace.ConstantPositionProperty.prototype.getValueInReferenceFrame;
    Cesium__namespace.ConstantPositionProperty.prototype.getValueInReferenceFrame = function (_0x4e45f2, _0x4f0a5e, _0x23d661) {
      if (!Cesium__namespace.defined(_0x4e45f2)) {
        _0x4e45f2 = Cesium__namespace.JulianDate.now();
      }
      return _0x2f4c10.bind(this)(_0x4e45f2, _0x4f0a5e, _0x23d661);
    };
  }
  function expandCesium$q() {
    Cesium__namespace.VelocityOrientationProperty.prototype.getValue = function (_0x613e45, _0x332167) {
      if (!this._positionScratch) {
        this._positionScratch = new Cesium__namespace.Cartesian3();
        this._velocityScratch = new Cesium__namespace.Cartesian3();
        this._rotationScratch = new Cesium__namespace.Matrix3();
        this._timeScratch = new Cesium__namespace.JulianDate();
      }
      if (!Cesium__namespace.defined(_0x613e45)) {
        _0x613e45 = Cesium__namespace.JulianDate.now(this._timeScratch);
      }
      let _0x2a5d1a = this._velocityVectorProperty._getValue(_0x613e45, this._velocityScratch, this._positionScratch);
      if (Cesium__namespace.defined(_0x2a5d1a)) {
        this._last_velocity = _0x2a5d1a.clone();
      } else {
        if (!this._getLatelyValueOK && !this._last_velocity && this._velocityVectorProperty._getLatelyValue) {
          this._last_velocity = this._velocityVectorProperty._getLatelyValue(_0x613e45, this._velocityScratch, this._positionScratch);
          if (this._last_velocity) {
            this._getLatelyValueOK = true;
          }
        }
        _0x2a5d1a = this._last_velocity;
      }
      if (!Cesium__namespace.defined(_0x2a5d1a)) {
        return undefined;
      }
      Cesium__namespace.Transforms.rotationMatrixFromPositionVelocity(this._positionScratch, _0x2a5d1a, this._ellipsoid, this._rotationScratch);
      return Cesium__namespace.Quaternion.fromRotationMatrix(this._rotationScratch, _0x332167);
    };
  }
  function expandCesium$p() {
    Cesium__namespace.VelocityVectorProperty.prototype.getValue = function (_0xd158ee, _0x3225e5) {
      let _0xba5eff = this._getValue(_0xd158ee, _0x3225e5);
      if (Cesium__namespace.defined(_0xba5eff)) {
        this._last_velocity = _0xba5eff.clone();
      } else {
        _0xba5eff = this._last_velocity;
      }
      return _0xba5eff;
    };
    const _0x48bdf5 = new Cesium__namespace.Cartesian3();
    const _0x582060 = new Cesium__namespace.Cartesian3();
    const _0x473d50 = Cesium__namespace.Cartesian3;
    Cesium__namespace.VelocityVectorProperty.prototype._getLatelyValue = function (_0x4c4344, _0x3e7fd5, _0x7e39ed) {
      const _0x563785 = this._position;
      if (!(_0x563785 instanceof Cesium__namespace.SampledPositionProperty)) {
        return;
      }
      const _0x3294b2 = _0x563785._property?._times;
      const _0x289eb8 = _0x563785._property._values;
      const _0x47d2e0 = _0x3294b2.length;
      if (_0x47d2e0 < 2) {
        return;
      }
      if (_0x563785.forwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD && Cesium__namespace.JulianDate.secondsDifference(_0x4c4344, _0x3294b2[_0x47d2e0 - 1]) > 0) {
        const _0x5a020e = _0x473d50.unpack(_0x289eb8, (_0x47d2e0 - 2) * _0x473d50.packedLength, _0x48bdf5);
        const _0x4a8659 = _0x473d50.unpack(_0x289eb8, (_0x47d2e0 - 1) * _0x473d50.packedLength, _0x582060);
        if (!Cesium__namespace.defined(_0x5a020e) || !Cesium__namespace.defined(_0x4a8659) || _0x5a020e.equals(_0x4a8659)) {
          return undefined;
        }
        if (Cesium__namespace.defined(_0x7e39ed)) {
          _0x5a020e.clone(_0x7e39ed);
        }
        if (Cesium__namespace.Cartesian3.equals(_0x5a020e, _0x4a8659)) {
          if (this._normalize) {
            return undefined;
          } else {
            return Cesium__namespace.Cartesian3.clone(Cesium__namespace.Cartesian3.ZERO, _0x3e7fd5);
          }
        }
        const _0x95b679 = Cesium__namespace.Cartesian3.subtract(_0x4a8659, _0x5a020e, _0x3e7fd5);
        if (this._normalize) {
          return Cesium__namespace.Cartesian3.normalize(_0x95b679, _0x3e7fd5);
        }
        const _0xbf0a27 = Cesium__namespace.JulianDate.secondsDifference(_0x3294b2[_0x47d2e0 - 2], _0x3294b2[_0x47d2e0 - 1]);
        return Cesium__namespace.Cartesian3.divideByScalar(_0x95b679, _0xbf0a27, _0x3e7fd5);
      }
      if (_0x563785.backwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD && Cesium__namespace.JulianDate.secondsDifference(_0x4c4344, _0x3294b2[0]) < 0) {
        const _0x3ba03f = _0x473d50.unpack(_0x289eb8, 0, _0x48bdf5);
        const _0xaeb12a = _0x473d50.unpack(_0x289eb8, _0x473d50.packedLength, _0x582060);
        if (!Cesium__namespace.defined(_0x3ba03f) || !Cesium__namespace.defined(_0xaeb12a) || _0x3ba03f.equals(_0xaeb12a)) {
          return undefined;
        }
        if (Cesium__namespace.defined(_0x7e39ed)) {
          _0x3ba03f.clone(_0x7e39ed);
        }
        if (Cesium__namespace.Cartesian3.equals(_0x3ba03f, _0xaeb12a)) {
          if (this._normalize) {
            return undefined;
          } else {
            return Cesium__namespace.Cartesian3.clone(Cesium__namespace.Cartesian3.ZERO, _0x3e7fd5);
          }
        }
        const _0x22c7be = Cesium__namespace.Cartesian3.subtract(_0xaeb12a, _0x3ba03f, _0x3e7fd5);
        if (this._normalize) {
          return Cesium__namespace.Cartesian3.normalize(_0x22c7be, _0x3e7fd5);
        }
        const _0x5e61b6 = Cesium__namespace.JulianDate.secondsDifference(_0x3294b2[0], _0x3294b2[1]);
        return Cesium__namespace.Cartesian3.divideByScalar(_0x22c7be, _0x5e61b6, _0x3e7fd5);
      }
    };
  }
  function expandCesium$o() {
    const _0xbf61ef = Cesium__namespace.Globe.prototype.beginFrame;
    Cesium__namespace.Globe.prototype.beginFrame = function (_0x25b001) {
      var _0xb2f105;
      var _0x97f9ad;
      var _0x116a2b;
      var _0x8989e3;
      const _0x4d87fc = (_0xb2f105 = this._surface._tileProvider) === null || _0xb2f105 === undefined || (_0xb2f105 = _0xb2f105.marsOptions) === null || _0xb2f105 === undefined ? undefined : _0xb2f105.flat;
      if (_0x4d87fc) {
        if (_0x4d87fc.hasUpdate) {
          if (_0x4d87fc.texture) {
            _0x4d87fc.texture.destroy();
          }
          _0x4d87fc.texture = createCroppingRangeTexture(_0x25b001, _0x4d87fc);
          _0x4d87fc.hasUpdate = false;
        }
      }
      const _0x2b77c5 = (_0x97f9ad = this._surface._tileProvider) === null || _0x97f9ad === undefined || (_0x97f9ad = _0x97f9ad.marsOptions) === null || _0x97f9ad === undefined ? undefined : _0x97f9ad.uplift;
      if (_0x2b77c5) {
        if (_0x2b77c5.hasUpdate) {
          if (_0x2b77c5.texture) {
            _0x2b77c5.texture.destroy();
          }
          _0x2b77c5.texture = createCroppingRangeTexture(_0x25b001, _0x2b77c5);
          _0x2b77c5.hasUpdate = false;
        }
      }
      const _0x190c4a = (_0x116a2b = this._surface._tileProvider) === null || _0x116a2b === undefined || (_0x116a2b = _0x116a2b.marsOptions) === null || _0x116a2b === undefined ? undefined : _0x116a2b.clip;
      if (_0x190c4a) {
        if (_0x190c4a.hasUpdate) {
          if (_0x190c4a.texture) {
            _0x190c4a.texture.destroy();
          }
          _0x190c4a.texture = createCroppingRangeTexture(_0x25b001, _0x190c4a);
          _0x190c4a.hasUpdate = false;
        }
      }
      const _0x4483b8 = (_0x8989e3 = this._surface._tileProvider) === null || _0x8989e3 === undefined || (_0x8989e3 = _0x8989e3.marsOptions) === null || _0x8989e3 === undefined ? undefined : _0x8989e3.flood;
      if (_0x4483b8) {
        if (_0x4483b8.hasUpdate) {
          if (_0x4483b8.texture) {
            _0x4483b8.texture.destroy();
          }
          _0x4483b8.texture = createCroppingRangeTexture(_0x25b001, _0x4483b8);
          _0x4483b8.hasUpdate = false;
        }
      }
      return _0xbf61ef.bind(this)(_0x25b001);
    };
  }
  function wgs84ToMercatorBoungingBox(_0x14a2bf, _0x1a9cf5) {
    const _0x4a074d = _0x14a2bf.project(Cesium__namespace.Cartographic.fromRadians(_0x1a9cf5.west, _0x1a9cf5.south));
    const _0x250435 = _0x14a2bf.project(Cesium__namespace.Cartographic.fromRadians(_0x1a9cf5.east, _0x1a9cf5.north));
    const _0x430000 = {
      north: _0x250435.y,
      east: _0x250435.x,
      south: _0x4a074d.y,
      west: _0x4a074d.x
    };
    return _0x430000;
  }
  const maxCanvasSize = 4096;
  const minCanvasSize = 512;
  function caculateCanvasSize$1(_0x5921b2) {
    const {
      south: _0x57fcb9,
      west: _0x2d0a76,
      north: _0xbe0bf,
      east: _0x103e0a
    } = _0x5921b2;
    const _0x14b74a = Math.abs(_0x103e0a - _0x2d0a76);
    const _0x1bea4f = Math.abs(_0xbe0bf - _0x57fcb9);
    let _0xf777e9 = 1;
    const _0x1a4587 = Math.max(_0x14b74a, _0x1bea4f);
    const _0x353a13 = Math.min(_0x14b74a, _0x1bea4f);
    if (_0x1a4587 > maxCanvasSize) {
      _0xf777e9 = _0x1a4587 / maxCanvasSize;
      if (_0x353a13 / _0xf777e9 < minCanvasSize) {
        _0xf777e9 = _0x353a13 / minCanvasSize;
      }
    } else if (_0x353a13 < minCanvasSize) {
      _0xf777e9 = _0x353a13 / minCanvasSize;
      if (_0x1a4587 / _0xf777e9 > maxCanvasSize) {
        _0xf777e9 = _0x1a4587 / maxCanvasSize;
      }
    }
    const _0x5bb913 = {
      factor: _0xf777e9,
      width: _0x14b74a / _0xf777e9,
      height: _0x1bea4f / _0xf777e9
    };
    return _0x5bb913;
  }
  function mercatorPointToCanvasPoint(_0x5c9f94, _0x40517f) {
    const _0x102f70 = {
      x: undefined,
      y: undefined
    };
    const _0x4384e5 = _0x102f70;
    _0x4384e5.x = Math.round((_0x5c9f94.x - _0x40517f.xoffset) / _0x40517f.factor);
    _0x4384e5.y = _0x40517f.height - Math.round((_0x5c9f94.y - _0x40517f.yoffset) / _0x40517f.factor);
    return _0x4384e5;
  }
  let defaultMapProjection;
  function createCroppingRangeTexture(_0x386b20, _0x4bb0c6) {
    const _0x3b5dfb = _0x386b20.context;
    let _0x10ea2f = _0x386b20.mapProjection;
    if (_0x386b20.mode !== Cesium__namespace.SceneMode.SCENE3D) {
      if (!defaultMapProjection) {
        defaultMapProjection = new Cesium__namespace.GeographicProjection(Cesium__namespace.Ellipsoid.default);
      }
      _0x10ea2f = defaultMapProjection;
    }
    const _0x54eb52 = _0x4bb0c6.areas;
    const _0x48c1c9 = _0x54eb52?.length;
    if (_0x48c1c9 > 0) {
      const _0x19c722 = wgs84ToMercatorBoungingBox(_0x10ea2f, _0x4bb0c6.rectangle);
      const _0x25ea29 = caculateCanvasSize$1(_0x19c722);
      const _0x5ce805 = _0x19c722.west;
      const _0x4fc007 = _0x19c722.south;
      const _0x13348d = {
        xoffset: _0x5ce805,
        yoffset: _0x4fc007,
        factor: _0x25ea29.factor,
        height: _0x25ea29.height
      };
      const _0xdaa382 = _0x13348d;
      const _0x56e5f7 = document.createElement("canvas");
      _0x56e5f7.width = _0x25ea29.width;
      _0x56e5f7.height = _0x25ea29.height;
      _0x56e5f7.style.width = _0x25ea29.width + " px";
      _0x56e5f7.style.height = _0x25ea29.height + " px";
      _0x56e5f7.style.backgroundColor = "#000000";
      const _0x5e1e48 = _0x56e5f7.getContext("2d");
      _0x54eb52.forEach((_0x220100, _0x3255e0) => {
        _0x5e1e48.globalCompositeOperation = "lighter";
        _0x5e1e48.beginPath();
        const _0x59222d = _0x220100[0];
        const _0x288305 = mercatorPointToCanvasPoint(_0x10ea2f.project(_0x59222d), _0xdaa382);
        _0x5e1e48.moveTo(_0x288305.x, _0x288305.y);
        for (let _0x63e25c = 1; _0x63e25c < _0x220100.length; _0x63e25c++) {
          const _0x2f5422 = mercatorPointToCanvasPoint(_0x10ea2f.project(_0x220100[_0x63e25c]), _0xdaa382);
          _0x5e1e48.lineTo(_0x2f5422.x, _0x2f5422.y);
        }
        _0x5e1e48.closePath();
        if (_0x4bb0c6.heights) {
          const _0x32aebb = Cesium__namespace.Cartesian4.packFloat(_0x4bb0c6.heights[_0x3255e0]);
          const _0x14d7c0 = Cesium__namespace.Color.fromBytes(_0x32aebb.x, _0x32aebb.y, _0x32aebb.z, _0x32aebb.w).toCssColorString();
          _0x5e1e48.fillStyle = _0x14d7c0;
          console.log("fillStyle", _0x14d7c0);
        } else {
          _0x5e1e48.fillStyle = "red";
        }
        _0x5e1e48.fill();
        _0x5e1e48.restore();
      });
      return new Cesium__namespace.Texture({
        context: _0x3b5dfb,
        pixelFormat: Cesium__namespace.PixelFormat.RGBA,
        pixelDatatype: Cesium__namespace.PixelDatatype.FLOAT,
        sampler: new Cesium__namespace.Sampler({
          wrapS: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          wrapT: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          minificationFilter: Cesium__namespace.TextureMinificationFilter.NEAREST,
          magnificationFilter: Cesium__namespace.TextureMagnificationFilter.NEAREST
        }),
        flipY: true,
        source: _0x56e5f7
      });
    }
    return undefined;
  }
  function expandCesium$n() {
    const _0x4c1663 = {
      get: function () {
        return this._marsOptions;
      }
    };
    const _0x319a11 = {
      marsOptions: _0x4c1663
    };
    Object.defineProperties(Cesium__namespace.GlobeSurfaceTileProvider.prototype, _0x319a11);
    Cesium__namespace.GlobeSurfaceTileProvider.prototype._initByMars3D = function (_0x298b70) {
      this._marsOptions = {
        flat: {
          clear: function () {
            this.enabled = false;
            this.heights = [];
            this.rectangle = undefined;
            this.areas = undefined;
            this.rectangles = undefined;
            this.texture = undefined;
            this.hasUpdate = false;
          }
        },
        uplift: {
          clear: function () {
            this.enabled = false;
            this.showUp = true;
            this.height = 0;
            this.rectangle = undefined;
            this.rectangles = undefined;
            this.areas = undefined;
            this.texture = undefined;
            this.hasUpdate = false;
          }
        },
        clip: {
          clear: function () {
            this.enabled = false;
            this.rectangle = undefined;
            this.areas = undefined;
            this.texture = undefined;
            this.hasUpdate = false;
            this.onlySelf = false;
          }
        },
        flood: {
          clear: function () {
            this.enabled = false;
            this.rectangle = undefined;
            this.areas = undefined;
            this.texture = undefined;
            this.hasUpdate = false;
            this.onlySelf = false;
          }
        },
        resetValue: function () {
          this.flat.clear();
          this.uplift.clear();
          this.clip.clear();
          this.flood.clear();
        }
      };
      this._marsOptions.resetValue();
    };
  }
  function expandCesium$m() {
    Cesium__namespace.ImageryLayer.prototype._initByMars3D = function (_0x33b074, _0x4419cf) {
      this.invertColor = _0x4419cf.invertColor ?? _0x33b074.invertColor;
      this.filterColor = _0x4419cf.filterColor ?? _0x33b074.filterColor;
      if (this.filterColor && typeof this.filterColor === "string" && this.filterColor.constructor === String) {
        this.filterColor = Cesium__namespace.Color.fromCssColorString(this.filterColor);
      }
    };
  }
  function expandCesium$l() {
    Cesium__namespace.ImageryLayerCollection.prototype.addImageryProvider = function (_0x411d51, _0x5e2037) {
      const _0x2d6179 = new Cesium__namespace.ImageryLayer(_0x411d51, _0x411d51.options);
      this.add(_0x2d6179, _0x5e2037);
      return _0x2d6179;
    };
    const _0x199b43 = Cesium__namespace.ImageryLayerCollection.prototype.pickImageryLayerFeatures;
    Cesium__namespace.ImageryLayerCollection.prototype.pickImageryLayerFeatures = function (_0x2eabde, _0x2fc874, _0x4ee167) {
      if (!_0x4ee167) {
        return;
      }
      return _0x199b43.bind(this)(_0x2eabde, _0x2fc874);
    };
  }
  function expandCesium$k() {
    const _0x170aef = Cesium__namespace.ShadowMapShader.createShadowReceiveFragmentShader;
    Cesium__namespace.ShadowMapShader.createShadowReceiveFragmentShader = function (_0x644aea, _0x39815a, _0x478435, _0x5ebc01, _0x3f5a3f) {
      const _0xef27cb = _0x170aef.bind(this)(_0x644aea, _0x39815a, _0x478435, _0x5ebc01, _0x3f5a3f);
      if (!isSun(_0x39815a._lightCamera.position)) {
        const _0x605244 = _0xef27cb.sources[_0xef27cb.sources.length - 1];
        _0xef27cb.sources[_0xef27cb.sources.length - 1] = _0x605244.replace("out_FragColor.rgb *= visibility;", "out_FragColor.rgb = out_FragColor.rgb;");
      }
      return _0xef27cb;
    };
  }
  function isSun(_0x19053a) {
    if (Math.abs(_0x19053a.x) > 7471000) {
      return true;
    }
    if (Math.abs(_0x19053a.y) > 7471000) {
      return true;
    }
    if (Math.abs(_0x19053a.z) > 7471000) {
      return true;
    }
    return false;
  }
  function expandCesium$j() {
    const _0x56f72a = {
      set: function (_0x1cf253) {
        this.ellipse = _0x1cf253;
      },
      get: function () {
        return this.ellipse;
      }
    };
    const _0x536627 = {
      circle: _0x56f72a
    };
    Object.defineProperties(Cesium__namespace.Entity.prototype, _0x536627);
    const _0x472cc6 = Cesium__namespace.Entity.prototype.isAvailable;
    Cesium__namespace.Entity.prototype.isAvailable = function (_0x51281c) {
      if (this.isAvailableByMap && this.isAvailableByMap(_0x51281c) === false) {
        return true;
      }
      const _0x5da855 = _0x472cc6.bind(this)(_0x51281c);
      if ((this._lastAvailableVal ?? false) !== _0x5da855) {
        if (this.changeAvailableByMap) {
          this.changeAvailableByMap({
            new: _0x5da855,
            old: this._lastAvailableVal
          });
        }
      }
      this._lastAvailableVal = _0x5da855;
      return _0x5da855;
    };
  }
  function expandCesium$i() {
    Cesium__namespace.Cesium3DTileset.prototype._initForMars3D = function (_0x36580c) {
      this.options = _0x36580c;
    };
  }
  function expandCesium$h() {
    const _0x3247e4 = Cesium__namespace.I3SLayer.prototype.load;
    Cesium__namespace.I3SLayer.prototype.load = function () {
      var _0x38a650;
      const _0x364980 = (_0x38a650 = this._data) === null || _0x38a650 === undefined || (_0x38a650 = _0x38a650.spatialReference) === null || _0x38a650 === undefined ? undefined : _0x38a650.wkid;
      if (_0x364980 === 4490) {
        this._data.spatialReference.wkid = 4326;
      } else if (_0x364980 !== 4326) {
        console.warn("Cesium.I3SLayer:当前仅支持EPSG：4326和EPSG：4490坐标系", this);
      }
      return _0x3247e4.bind(this)();
    };
  }
  function expandCesium$g() {
    const _0x4a0fb9 = Cesium__namespace.TrustedServers.contains;
    Cesium__namespace.TrustedServers.contains = function (_0x5b38f4) {
      if (_0x5b38f4.startsWith("file:")) {
        return false;
      }
      return _0x4a0fb9.bind(this)(_0x5b38f4);
    };
  }
  function expandCesium$f() {
    const _0x3948cf = Cesium__namespace.Billboard._updateClamping;
    Cesium__namespace.Billboard._updateClamping = function (_0x249d36, _0x13a21a) {
      const _0x357187 = _0x249d36._scene;
      if (!Cesium__namespace.defined(_0x357187)) {
        return;
      }
      const _0x3e7a28 = _0x357187.frameState.mode;
      if (_0x3e7a28 !== Cesium__namespace.SceneMode.SCENE3D && _0x13a21a._heightReference !== Cesium__namespace.HeightReference.NONE) {
        if (Cesium__namespace.defined(_0x13a21a._removeCallbackFunc)) {
          _0x13a21a._removeCallbackFunc();
          _0x13a21a._removeCallbackFunc = undefined;
        }
        _0x13a21a._clampedPosition = undefined;
        return;
      }
      return _0x3948cf(_0x249d36, _0x13a21a);
    };
    const _0x38e362 = Cesium__namespace.Billboard._computeActualPosition;
    Cesium__namespace.Billboard._computeActualPosition = function (_0x26ce6d, _0x305ed6, _0x1b0552, _0x400dae) {
      if (_0x26ce6d._heightReference !== Cesium__namespace.HeightReference.NONE) {
        _0x26ce6d._updateClamping();
      }
      return _0x38e362(_0x26ce6d, _0x305ed6, _0x1b0552, _0x400dae);
    };
  }
  function expandCesium$e() {
    const _0x1b9715 = Cesium__namespace.BillboardCollection.prototype.add;
    Cesium__namespace.BillboardCollection.prototype.add = function (_0x559e3d) {
      if (this.defaultStyle) {
        _0x559e3d = {
          ...this.defaultStyle,
          ..._0x559e3d
        };
      }
      return _0x1b9715.bind(this)(_0x559e3d);
    };
  }
  function expandCesium$d() {
    const _0x3cee6c = {
      set: function (_0x454546) {
        this._isCluster = _0x454546;
        this.show = !_0x454546;
      },
      get: function () {
        return this._isCluster;
      }
    };
    const _0x13de29 = {
      isCluster: _0x3cee6c
    };
    Object.defineProperties(Cesium__namespace.Label.prototype, _0x13de29);
    Cesium__namespace.Label.prototype.getBoundingBox = function (_0x321839, _0x47cf4e) {
      let _0x47f7cf = false;
      if (this._glyphs?.length > 0) {
        _0x47cf4e = Cesium__namespace.Label.getScreenSpaceBoundingBox(this, _0x321839, _0x47cf4e);
        if (_0x47cf4e.x === Number.POSITIVE_INFINITY || _0x47cf4e.y === Number.POSITIVE_INFINITY) {
          _0x47f7cf = true;
        }
      } else {
        _0x47f7cf = true;
      }
      if (_0x47f7cf) {
        if (!Cesium__namespace.defined(_0x47cf4e)) {
          _0x47cf4e = new Cesium__namespace.BoundingRectangle();
        }
        const _0x5202c3 = (this._text?.length ?? 1) * 10;
        const _0x170f7d = 5;
        const _0x2c0656 = _0x321839.x - _0x5202c3 * 0.5;
        const _0x1e2c02 = _0x321839.y - _0x170f7d * 0.5;
        _0x47cf4e.x = _0x2c0656;
        _0x47cf4e.y = _0x1e2c02;
        _0x47cf4e.width = _0x5202c3;
        _0x47cf4e.height = _0x170f7d;
      }
      return _0x47cf4e;
    };
  }
  function expandCesium$c() {
    CanvasRenderingContext2D.prototype.strokeTextBySpacing = function (_0x5620a0, _0x3db032, _0x3320bf, _0x332632, _0x1abbbd) {
      if (!_0x332632) {
        return this.strokeText(_0x5620a0, _0x3db032, _0x3320bf);
      }
      const _0x4fc509 = this;
      const _0x2319b8 = _0x4fc509.canvas;
      if (!_0x332632 && _0x2319b8) {
        _0x332632 = parseFloat(window.getComputedStyle(_0x2319b8).spacing);
      }
      if (!_0x332632) {
        return this.strokeText(_0x5620a0, _0x3db032, _0x3320bf);
      }
      const _0x41b809 = _0x5620a0.split("");
      const _0x5f5b07 = _0x4fc509.textAlign || "left";
      if (!_0x1abbbd) {
        const _0x3a5bf9 = _0x4fc509.measureText(_0x5620a0).width;
        _0x1abbbd = _0x3a5bf9 + _0x332632 * (_0x41b809.length - 1);
      }
      if (_0x5f5b07 === "center") {
        _0x3db032 = _0x3db032 - _0x1abbbd / 2;
      } else if (_0x5f5b07 === "right") {
        _0x3db032 = _0x3db032 - _0x1abbbd;
      }
      _0x4fc509.textAlign = "left";
      _0x41b809.forEach(function (_0x13f78d) {
        const _0x144ae8 = _0x4fc509.measureText(_0x13f78d).width;
        _0x4fc509.strokeText(_0x13f78d, _0x3db032, _0x3320bf);
        _0x3db032 = _0x3db032 + _0x144ae8 + _0x332632;
      });
      _0x4fc509.textAlign = _0x5f5b07;
    };
    CanvasRenderingContext2D.prototype.fillTextBySpacing = function (_0x6d5848, _0x1c108d, _0x3a13ee, _0x3fe80f, _0x1f4d6c) {
      if (!_0x3fe80f) {
        return this.fillText(_0x6d5848, _0x1c108d, _0x3a13ee);
      }
      const _0x1b7130 = this;
      const _0x1ee6ff = _0x1b7130.canvas;
      if (!_0x3fe80f && _0x1ee6ff) {
        _0x3fe80f = parseFloat(window.getComputedStyle(_0x1ee6ff).spacing);
      }
      if (!_0x3fe80f) {
        return this.fillText(_0x6d5848, _0x1c108d, _0x3a13ee);
      }
      const _0x4e7a79 = _0x6d5848.split("");
      const _0xe5f133 = _0x1b7130.textAlign || "left";
      if (!_0x1f4d6c) {
        const _0x3ac6a6 = _0x1b7130.measureText(_0x6d5848).width;
        _0x1f4d6c = _0x3ac6a6 + _0x3fe80f * (_0x4e7a79.length - 1);
      }
      if (_0xe5f133 === "center") {
        _0x1c108d = _0x1c108d - _0x1f4d6c / 2;
      } else if (_0xe5f133 === "right") {
        _0x1c108d = _0x1c108d - _0x1f4d6c;
      }
      _0x1b7130.textAlign = "left";
      _0x4e7a79.forEach(function (_0xf89864) {
        const _0x5c04e1 = _0x1b7130.measureText(_0xf89864).width;
        _0x1b7130.fillText(_0xf89864, _0x1c108d, _0x3a13ee);
        _0x1c108d = _0x1c108d + _0x5c04e1 + _0x3fe80f;
      });
      _0x1b7130.textAlign = _0xe5f133;
    };
  }
  function expandCesium$b() {
    const _0x2d62ae = Cesium__namespace.PostProcessStage.prototype.execute;
    Cesium__namespace.PostProcessStage.prototype.execute = function (_0x196cb4, _0x17ddaa, _0x3848ec, _0x40703e) {
      if (!_0x17ddaa) {
        return;
      }
      return _0x2d62ae.bind(this)(_0x196cb4, _0x17ddaa, _0x3848ec, _0x40703e);
    };
  }
  function expandCesium$a() {
    const _0x586e54 = Cesium__namespace.DataSourceDisplay.prototype._onDataSourceAdded;
    Cesium__namespace.DataSourceDisplay.prototype._onDataSourceAdded = function (_0x354af6, _0x4e2bbf) {
      const _0x4bbde0 = _0x4e2bbf.zIndex;
      if (Cesium__namespace.defined(_0x4bbde0)) {
        this._primitives.zIndex = _0x4bbde0;
        this._groundPrimitives.zIndex = _0x4bbde0;
      }
      return _0x586e54.bind(this)(_0x354af6, _0x4e2bbf);
    };
  }
  function expandCesium$9() {
    Cesium__namespace.SampledPositionProperty.prototype.getIndex = function (_0x78822a, _0x518b21) {
      return this._property.getIndex(_0x78822a, _0x518b21);
    };
    Cesium__namespace.SampledPositionProperty.prototype.getValueByIndex = function (_0x39ab37, _0x2dbedf) {
      return this._property.getValueByIndex(_0x39ab37, _0x2dbedf);
    };
    const _0xeed531 = new Cesium__namespace.JulianDate();
    Cesium__namespace.SampledProperty.prototype.getIndex = function (_0x203d14, _0x1bd8a4) {
      if (!Cesium__namespace.defined(_0x203d14)) {
        _0x203d14 = Cesium__namespace.JulianDate.now(_0xeed531);
      }
      const _0x551fb3 = this._times;
      const _0x1ed6fa = _0x551fb3.length;
      if (_0x1ed6fa === 0) {
        return {
          index: 0
        };
      }
      let _0x17d4b7;
      const _0x3c41a5 = this._innerType;
      const _0x2a2d02 = this._values;
      let _0x32583f = Cesium__namespace.binarySearch(_0x551fb3, _0x203d14, Cesium__namespace.JulianDate.compare);
      if (_0x32583f < 0) {
        _0x32583f = ~_0x32583f;
        if (_0x32583f === 0) {
          const _0x1cbe4c = _0x551fb3[_0x32583f];
          _0x17d4b7 = this._backwardExtrapolationDuration;
          if (this._backwardExtrapolationType === Cesium__namespace.ExtrapolationType.NONE || _0x17d4b7 !== 0 && Cesium__namespace.JulianDate.secondsDifference(_0x1cbe4c, _0x203d14) > _0x17d4b7) {
            const _0x4ce03b = {
              index: _0x32583f
            };
            return _0x4ce03b;
          }
          if (this._backwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
            return {
              value: _0x3c41a5.unpack(_0x2a2d02, 0, _0x1bd8a4),
              index: _0x32583f
            };
          }
        }
        if (_0x32583f >= _0x1ed6fa) {
          _0x32583f = _0x1ed6fa - 1;
          const _0x2673e3 = _0x551fb3[_0x32583f];
          _0x17d4b7 = this._forwardExtrapolationDuration;
          if (this._forwardExtrapolationType === Cesium__namespace.ExtrapolationType.NONE || _0x17d4b7 !== 0 && Cesium__namespace.JulianDate.secondsDifference(_0x203d14, _0x2673e3) > _0x17d4b7) {
            const _0x452114 = {
              index: _0x32583f
            };
            return _0x452114;
          }
          if (this._forwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
            _0x32583f = _0x1ed6fa - 1;
            return {
              value: _0x3c41a5.unpack(_0x2a2d02, _0x32583f * _0x3c41a5.packedLength, _0x1bd8a4),
              index: _0x32583f
            };
          }
        }
        const _0x1895af = this._xTable;
        const _0x272aad = this._yTable;
        const _0x35615f = this._interpolationAlgorithm;
        const _0x1e3d55 = this._packedInterpolationLength;
        const _0x552ad5 = this._inputOrder;
        if (this._updateTableLength) {
          this._updateTableLength = false;
          const _0x435211 = Math.min(_0x35615f.getRequiredDataPoints(this._interpolationDegree, _0x552ad5), _0x1ed6fa);
          if (_0x435211 !== this._numberOfPoints) {
            this._numberOfPoints = _0x435211;
            _0x1895af.length = _0x435211;
            _0x272aad.length = _0x435211 * _0x1e3d55;
          }
        }
        const _0x1f71b2 = this._numberOfPoints - 1;
        if (_0x1f71b2 < 1) {
          _0x32583f = 0;
          const _0x402112 = {
            index: _0x32583f
          };
          return _0x402112;
        }
        let _0x2ebaf3 = 0;
        let _0x1c8a6d = _0x1ed6fa - 1;
        const _0x307fd2 = _0x1c8a6d - _0x2ebaf3 + 1;
        if (_0x307fd2 >= _0x1f71b2 + 1) {
          let _0x435df4 = _0x32583f - (_0x1f71b2 / 2 | 0) - 1;
          if (_0x435df4 < _0x2ebaf3) {
            _0x435df4 = _0x2ebaf3;
          }
          let _0x22a7ec = _0x435df4 + _0x1f71b2;
          if (_0x22a7ec > _0x1c8a6d) {
            _0x22a7ec = _0x1c8a6d;
            _0x435df4 = _0x22a7ec - _0x1f71b2;
            if (_0x435df4 < _0x2ebaf3) {
              _0x435df4 = _0x2ebaf3;
            }
          }
          _0x2ebaf3 = _0x435df4;
          _0x1c8a6d = _0x22a7ec;
        }
        const _0x52f6c2 = _0x1c8a6d - _0x2ebaf3 + 1;
        for (let _0x249628 = 0; _0x249628 < _0x52f6c2; ++_0x249628) {
          _0x1895af[_0x249628] = Cesium__namespace.JulianDate.secondsDifference(_0x551fb3[_0x2ebaf3 + _0x249628], _0x551fb3[_0x1c8a6d]);
        }
        if (!Cesium__namespace.defined(_0x3c41a5.convertPackedArrayForInterpolation)) {
          let _0x2a0279 = 0;
          const _0x1b8e61 = this._packedLength;
          let _0x2a65f3 = _0x2ebaf3 * _0x1b8e61;
          const _0x403ce1 = (_0x1c8a6d + 1) * _0x1b8e61;
          while (_0x2a65f3 < _0x403ce1) {
            _0x272aad[_0x2a0279] = _0x2a2d02[_0x2a65f3];
            _0x2a65f3++;
            _0x2a0279++;
          }
        } else {
          _0x3c41a5.convertPackedArrayForInterpolation(_0x2a2d02, _0x2ebaf3, _0x1c8a6d, _0x272aad);
        }
        const _0x474de5 = Cesium__namespace.JulianDate.secondsDifference(_0x203d14, _0x551fb3[_0x1c8a6d]);
        let _0x342e22;
        if (_0x552ad5 === 0 || !Cesium__namespace.defined(_0x35615f.interpolate)) {
          _0x342e22 = _0x35615f.interpolateOrderZero(_0x474de5, _0x1895af, _0x272aad, _0x1e3d55, this._interpolationResult);
        } else {
          const _0x251acb = Math.floor(_0x1e3d55 / (_0x552ad5 + 1));
          _0x342e22 = _0x35615f.interpolate(_0x474de5, _0x1895af, _0x272aad, _0x251acb, _0x552ad5, _0x552ad5, this._interpolationResult);
        }
        _0x32583f = _0x2ebaf3;
        for (let _0x9c2463 = _0x2ebaf3; _0x9c2463 <= _0x1c8a6d; _0x9c2463++) {
          const _0x26b95b = Cesium__namespace.JulianDate.compare(_0x203d14, _0x551fb3[_0x9c2463]);
          if (_0x26b95b <= 0) {
            _0x32583f = _0x9c2463 - 1;
            break;
          }
        }
        if (!Cesium__namespace.defined(_0x3c41a5.unpackInterpolationResult)) {
          return {
            value: _0x3c41a5.unpack(_0x342e22, 0, _0x1bd8a4),
            index: _0x32583f
          };
        }
        return {
          value: _0x3c41a5.unpackInterpolationResult(_0x342e22, _0x2a2d02, _0x2ebaf3, _0x1c8a6d, _0x1bd8a4),
          index: _0x32583f
        };
      }
      return {
        value: _0x3c41a5.unpack(_0x2a2d02, _0x32583f * this._packedLength, _0x1bd8a4),
        index: _0x32583f
      };
    };
    Cesium__namespace.SampledProperty.prototype.getValueByIndex = function (_0x471d12, _0x34c930) {
      const _0xcf356 = this._values;
      const _0x5161c9 = _0xcf356.length / this._packedLength;
      if (_0x471d12 < 0 || _0x471d12 >= _0x5161c9) {
        return;
      }
      const _0x1c245c = this._innerType;
      return _0x1c245c.unpack(_0xcf356, _0x471d12 * this._packedLength, _0x34c930);
    };
  }
  function expandCesium$8() {
    const _0x11ea0d = {
      set: function (_0x252baf) {
        this._globalAlpha = _0x252baf;
      },
      get: function () {
        return this._globalAlpha ?? 1;
      }
    };
    const _0x12a6b8 = {
      globalAlpha: _0x11ea0d
    };
    Object.defineProperties(Cesium__namespace.CheckerboardMaterialProperty.prototype, _0x12a6b8);
    const _0x377ab2 = Cesium__namespace.CheckerboardMaterialProperty.prototype.getValue;
    Cesium__namespace.CheckerboardMaterialProperty.prototype.getValue = function (_0xbbd87b, _0x2dec81) {
      _0x2dec81 = _0x377ab2.bind(this)(_0xbbd87b, _0x2dec81);
      if (this.globalAlpha !== 1) {
        if (_0x2dec81.lightColor) {
          _0x2dec81.lightColor.alpha *= this.globalAlpha;
        }
        if (_0x2dec81.darkColor) {
          _0x2dec81.darkColor.alpha *= this.globalAlpha;
        }
        if (_0x2dec81.evenColor) {
          _0x2dec81.evenColor.alpha *= this.globalAlpha;
        }
        if (_0x2dec81.oddColor) {
          _0x2dec81.oddColor.alpha *= this.globalAlpha;
        }
      }
      return _0x2dec81;
    };
  }
  let _hasInfo = true;
  let _hasWarn = true;
  let _hasError = true;
  function hasInfo(_0x4c7b2e) {
    _hasInfo = _0x4c7b2e;
  }
  function hasWarn(_0x3ad965) {
    _hasWarn = _0x3ad965;
  }
  function hasError(_0x5ce282) {
    _hasError = _0x5ce282;
  }
  function logInfo(..._0x1c62bc) {
    if (!_hasInfo) {
      return;
    }
    console.log("%c [mars3d-sdk调试]: %s", "color:#333537; font-family: \"微软雅黑\";", ..._0x1c62bc);
  }
  function logWarn(..._0x3eb3da) {
    if (!_hasWarn) {
      return;
    }
    console.log("%c [mars3d-sdk警告]: %s", "color:#FF5F00; font-family: \"微软雅黑\";", ..._0x3eb3da);
  }
  function logError(..._0x13a75b) {
    if (!_hasError) {
      return;
    }
    console.error("%c [mars3d-sdk错误]: %s", "color:#D30003; font-family: \"微软雅黑\";", ..._0x13a75b);
  }
  const _0x1b19f0 = {
    __proto__: null,
    hasInfo: hasInfo,
    hasWarn: hasWarn,
    hasError: hasError,
    logInfo: logInfo,
    logWarn: logWarn,
    logError: logError
  };
  var Log = _0x1b19f0;
  const GraphicType = {};
  const GraphicClass = {};
  function getTypes() {
    const _0x2f132a = [];
    for (const _0x44d172 in GraphicClass) {
      const _0xed3e4e = GraphicClass[_0x44d172];
      _0x2f132a.push({
        name: _0x44d172,
        type: _0x44d172,
        isPoint: Boolean(_0xed3e4e.isPoint),
        isCombine: Boolean(_0xed3e4e.isCombine)
      });
    }
    return _0x2f132a;
  }
  function hasType(_0x3d5b8d) {
    if (GraphicClass[_0x3d5b8d]) {
      return true;
    } else {
      return false;
    }
  }
  function eachGraphicType(_0x558f52) {
    Object.keys(GraphicClass).forEach((_0x1c394f, _0x441880) => {
      if (_0x558f52) {
        _0x558f52.call(this, _0x1c394f, _0x441880);
      }
    });
  }
  function isPointType(_0x47a41a) {
    if (!_0x47a41a) {
      return false;
    }
    if (GraphicClass[_0x47a41a] && GraphicClass[_0x47a41a].isPoint) {
      return true;
    } else {
      return false;
    }
  }
  function isCombineType(_0x168256) {
    if (!_0x168256) {
      return false;
    }
    if (GraphicClass[_0x168256] && GraphicClass[_0x168256].isCombine) {
      return true;
    } else {
      return false;
    }
  }
  function register$5(_0x5b1bc4, _0x5f04fa, _0x1d0f71) {
    if (GraphicClass[_0x5b1bc4]) {
      logError("register Graphic: " + _0x5b1bc4 + "类型已存在", _0x5f04fa);
    }
    GraphicType[_0x5b1bc4] = _0x5b1bc4;
    GraphicClass[_0x5b1bc4] = _0x5f04fa;
    _0x5f04fa.type = _0x5b1bc4;
    _0x5f04fa.prototype._type = _0x5b1bc4;
    if (_0x1d0f71) {
      _0x5f04fa.isPoint = true;
      _0x5f04fa.prototype._isPoint = true;
    }
  }
  function getClass$5(_0x2ca246) {
    if (GraphicClass[_0x2ca246]) {
      return GraphicClass[_0x2ca246];
    } else {
      logWarn("getClass:未找到该类型对应的处理类", _0x2ca246);
      return null;
    }
  }
  function create$5(_0x53417f, _0x158b5c) {
    const _0x2de1fc = getClass$5(_0x53417f);
    if (!_0x2de1fc) {
      return;
    }
    const _0x526c0c = new _0x2de1fc(_0x158b5c);
    return _0x526c0c;
  }
  function fromDraw(_0x173a2e, _0x429668) {
    if (!_0x429668.type) {
      logError("fromDraw:需要传入指定绘制的type类型！");
      return;
    }
    const _0x5417ef = getClass$5(_0x429668.type);
    if (!_0x5417ef || !_0x5417ef.prototype.startDraw) {
      logInfo("对象不支持标绘", _0x5417ef);
      return;
    }
    const _0x5dd7ce = new _0x5417ef(_0x429668);
    _0x5dd7ce.startDraw(_0x173a2e);
    return _0x5dd7ce;
  }
  const _0x1cc69c = {
    __proto__: null,
    getTypes: getTypes,
    hasType: hasType,
    eachGraphicType: eachGraphicType,
    isPointType: isPointType,
    isCombineType: isCombineType,
    register: register$5,
    getClass: getClass$5,
    create: create$5,
    fromDraw: fromDraw
  };
  var GraphicUtil = _0x1cc69c;
  var edgeIntersectsEdge = function edgeIntersectsEdge(_0x31be73, _0x1a691f, _0x2856c1, _0x3ad6b3) {
    var _0x2859ff = (_0x3ad6b3[0] - _0x2856c1[0]) * (_0x31be73[1] - _0x2856c1[1]) - (_0x3ad6b3[1] - _0x2856c1[1]) * (_0x31be73[0] - _0x2856c1[0]);
    var _0x10e91e = (_0x1a691f[0] - _0x31be73[0]) * (_0x31be73[1] - _0x2856c1[1]) - (_0x1a691f[1] - _0x31be73[1]) * (_0x31be73[0] - _0x2856c1[0]);
    var _0x17b292 = (_0x3ad6b3[1] - _0x2856c1[1]) * (_0x1a691f[0] - _0x31be73[0]) - (_0x3ad6b3[0] - _0x2856c1[0]) * (_0x1a691f[1] - _0x31be73[1]);
    if (_0x17b292 !== 0) {
      var _0x1fbe7b = _0x2859ff / _0x17b292;
      var _0x3ae0b7 = _0x10e91e / _0x17b292;
      if (_0x1fbe7b >= 0 && _0x1fbe7b <= 1 && _0x3ae0b7 >= 0 && _0x3ae0b7 <= 1) {
        return true;
      }
    }
    return false;
  };
  var coordinatesContainPoint = function coordinatesContainPoint(_0x58c6bd, _0x58650c) {
    var _0x27e429 = false;
    for (var _0x5a0bf8 = -1, _0x233527 = _0x58c6bd.length, _0x38a90e = _0x233527 - 1; ++_0x5a0bf8 < _0x233527; _0x38a90e = _0x5a0bf8) {
      if ((_0x58c6bd[_0x5a0bf8][1] <= _0x58650c[1] && _0x58650c[1] < _0x58c6bd[_0x38a90e][1] || _0x58c6bd[_0x38a90e][1] <= _0x58650c[1] && _0x58650c[1] < _0x58c6bd[_0x5a0bf8][1]) && _0x58650c[0] < (_0x58c6bd[_0x38a90e][0] - _0x58c6bd[_0x5a0bf8][0]) * (_0x58650c[1] - _0x58c6bd[_0x5a0bf8][1]) / (_0x58c6bd[_0x38a90e][1] - _0x58c6bd[_0x5a0bf8][1]) + _0x58c6bd[_0x5a0bf8][0]) {
        _0x27e429 = !_0x27e429;
      }
    }
    return _0x27e429;
  };
  var pointsEqual = function pointsEqual(_0x5b40b1, _0xe5dfda) {
    for (var _0x3f0c7f = 0; _0x3f0c7f < _0x5b40b1.length; _0x3f0c7f++) {
      if (_0x5b40b1[_0x3f0c7f] !== _0xe5dfda[_0x3f0c7f]) {
        return false;
      }
    }
    return true;
  };
  var arrayIntersectsArray = function arrayIntersectsArray(_0x163a1e, _0x1a1a69) {
    for (var _0x211227 = 0; _0x211227 < _0x163a1e.length - 1; _0x211227++) {
      for (var _0x43451c = 0; _0x43451c < _0x1a1a69.length - 1; _0x43451c++) {
        if (edgeIntersectsEdge(_0x163a1e[_0x211227], _0x163a1e[_0x211227 + 1], _0x1a1a69[_0x43451c], _0x1a1a69[_0x43451c + 1])) {
          return true;
        }
      }
    }
    return false;
  };
  var closeRing = function closeRing(_0xb889ba) {
    if (!pointsEqual(_0xb889ba[0], _0xb889ba[_0xb889ba.length - 1])) {
      _0xb889ba.push(_0xb889ba[0]);
    }
    return _0xb889ba;
  };
  var ringIsClockwise = function ringIsClockwise(_0x1b6ee4) {
    var _0x1c286a = 0;
    var _0x31baf6 = 0;
    var _0x1596ba = _0x1b6ee4.length;
    var _0x30eb16 = _0x1b6ee4[_0x31baf6];
    var _0x1798eb;
    for (_0x31baf6; _0x31baf6 < _0x1596ba - 1; _0x31baf6++) {
      _0x1798eb = _0x1b6ee4[_0x31baf6 + 1];
      _0x1c286a += (_0x1798eb[0] - _0x30eb16[0]) * (_0x1798eb[1] + _0x30eb16[1]);
      _0x30eb16 = _0x1798eb;
    }
    return _0x1c286a >= 0;
  };
  var shallowClone = function shallowClone(_0x186ee9) {
    var _0x2df899 = {};
    for (var _0x56b448 in _0x186ee9) {
      if (_0x186ee9.hasOwnProperty(_0x56b448)) {
        _0x2df899[_0x56b448] = _0x186ee9[_0x56b448];
      }
    }
    return _0x2df899;
  };
  var coordinatesContainCoordinates = function coordinatesContainCoordinates(_0x232ebe, _0x39a5cb) {
    var _0x1f9a4e = arrayIntersectsArray(_0x232ebe, _0x39a5cb);
    var _0x58302c = coordinatesContainPoint(_0x232ebe, _0x39a5cb[0]);
    if (!_0x1f9a4e && _0x58302c) {
      return true;
    }
    return false;
  };
  var convertRingsToGeoJSON = function convertRingsToGeoJSON(_0x804824) {
    var _0x2e8387 = [];
    var _0xcbbfd9 = [];
    var _0x205ba7;
    var _0xebedd;
    var _0x53573d;
    for (var _0x42b7ce = 0; _0x42b7ce < _0x804824.length; _0x42b7ce++) {
      var _0x3302b3 = closeRing(_0x804824[_0x42b7ce].slice(0));
      if (_0x3302b3.length < 4) {
        continue;
      }
      if (ringIsClockwise(_0x3302b3)) {
        var _0x4483a8 = [_0x3302b3.slice().reverse()];
        _0x2e8387.push(_0x4483a8);
      } else {
        _0xcbbfd9.push(_0x3302b3.slice().reverse());
      }
    }
    var _0x298d05 = [];
    while (_0xcbbfd9.length) {
      _0x53573d = _0xcbbfd9.pop();
      var _0x5714bf = false;
      for (_0x205ba7 = _0x2e8387.length - 1; _0x205ba7 >= 0; _0x205ba7--) {
        _0xebedd = _0x2e8387[_0x205ba7][0];
        if (coordinatesContainCoordinates(_0xebedd, _0x53573d)) {
          _0x2e8387[_0x205ba7].push(_0x53573d);
          _0x5714bf = true;
          break;
        }
      }
      if (!_0x5714bf) {
        _0x298d05.push(_0x53573d);
      }
    }
    while (_0x298d05.length) {
      _0x53573d = _0x298d05.pop();
      var _0x52a747 = false;
      for (_0x205ba7 = _0x2e8387.length - 1; _0x205ba7 >= 0; _0x205ba7--) {
        _0xebedd = _0x2e8387[_0x205ba7][0];
        if (arrayIntersectsArray(_0xebedd, _0x53573d)) {
          _0x2e8387[_0x205ba7].push(_0x53573d);
          _0x52a747 = true;
          break;
        }
      }
      if (!_0x52a747) {
        _0x2e8387.push([_0x53573d.reverse()]);
      }
    }
    if (_0x2e8387.length === 1) {
      const _0x28e280 = {
        type: "Polygon",
        coordinates: _0x2e8387[0]
      };
      return _0x28e280;
    } else {
      const _0x3c001f = {
        type: "MultiPolygon",
        coordinates: _0x2e8387
      };
      return _0x3c001f;
    }
  };
  var getId = function getId(_0x118f31, _0x1aaf7f) {
    var _0x87bb8c = _0x1aaf7f ? [_0x1aaf7f, "OBJECTID", "FID"] : ["OBJECTID", "FID"];
    for (var _0x491529 = 0; _0x491529 < _0x87bb8c.length; _0x491529++) {
      var _0x2e59f7 = _0x87bb8c[_0x491529];
      if (_0x2e59f7 in _0x118f31 && (typeof _0x118f31[_0x2e59f7] === "string" || typeof _0x118f31[_0x2e59f7] === "number")) {
        return _0x118f31[_0x2e59f7];
      }
    }
    throw Error("No valid id attribute found");
  };
  var arcgisToGeoJSON$1 = function arcgisToGeoJSON(_0x52de5b, _0x5169d0) {
    var _0x3e4feb = {};
    if (_0x52de5b.features) {
      _0x3e4feb.type = "FeatureCollection";
      _0x3e4feb.features = [];
      for (var _0x44a5ef = 0; _0x44a5ef < _0x52de5b.features.length; _0x44a5ef++) {
        _0x3e4feb.features.push(arcgisToGeoJSON(_0x52de5b.features[_0x44a5ef], _0x5169d0));
      }
    }
    if (typeof _0x52de5b.x === "number" && typeof _0x52de5b.y === "number") {
      _0x3e4feb.type = "Point";
      _0x3e4feb.coordinates = [_0x52de5b.x, _0x52de5b.y];
      if (typeof _0x52de5b.z === "number") {
        _0x3e4feb.coordinates.push(_0x52de5b.z);
      }
    }
    if (_0x52de5b.points) {
      _0x3e4feb.type = "MultiPoint";
      _0x3e4feb.coordinates = _0x52de5b.points.slice(0);
    }
    if (_0x52de5b.paths) {
      if (_0x52de5b.paths.length === 1) {
        _0x3e4feb.type = "LineString";
        _0x3e4feb.coordinates = _0x52de5b.paths[0].slice(0);
      } else {
        _0x3e4feb.type = "MultiLineString";
        _0x3e4feb.coordinates = _0x52de5b.paths.slice(0);
      }
    }
    if (_0x52de5b.rings) {
      _0x3e4feb = convertRingsToGeoJSON(_0x52de5b.rings.slice(0));
    }
    if (typeof _0x52de5b.xmin === "number" && typeof _0x52de5b.ymin === "number" && typeof _0x52de5b.xmax === "number" && typeof _0x52de5b.ymax === "number") {
      _0x3e4feb.type = "Polygon";
      _0x3e4feb.coordinates = [[[_0x52de5b.xmax, _0x52de5b.ymax], [_0x52de5b.xmin, _0x52de5b.ymax], [_0x52de5b.xmin, _0x52de5b.ymin], [_0x52de5b.xmax, _0x52de5b.ymin], [_0x52de5b.xmax, _0x52de5b.ymax]]];
    }
    if (_0x52de5b.geometry || _0x52de5b.attributes) {
      _0x3e4feb.type = "Feature";
      _0x3e4feb.geometry = _0x52de5b.geometry ? arcgisToGeoJSON(_0x52de5b.geometry) : null;
      _0x3e4feb.properties = _0x52de5b.attributes ? shallowClone(_0x52de5b.attributes) : null;
      if (_0x52de5b.attributes) {
        try {
          _0x3e4feb.id = getId(_0x52de5b.attributes, _0x5169d0);
        } catch (_0x55129b) {}
      }
    }
    if (JSON.stringify(_0x3e4feb.geometry) === JSON.stringify({})) {
      _0x3e4feb.geometry = null;
    }
    if (_0x52de5b.spatialReference && _0x52de5b.spatialReference.wkid && _0x52de5b.spatialReference.wkid !== 4326) {
      console.warn("Object converted in non-standard crs - " + JSON.stringify(_0x52de5b.spatialReference));
    }
    return _0x3e4feb;
  };
  var orientRings = function orientRings(_0x3bbfd5) {
    var _0x133876 = [];
    var _0x101bdc = _0x3bbfd5.slice(0);
    var _0x363f6b = closeRing(_0x101bdc.shift().slice(0));
    if (_0x363f6b.length >= 4) {
      if (!ringIsClockwise(_0x363f6b)) {
        _0x363f6b.reverse();
      }
      _0x133876.push(_0x363f6b);
      for (var _0x22cf66 = 0; _0x22cf66 < _0x101bdc.length; _0x22cf66++) {
        var _0x2aeead = closeRing(_0x101bdc[_0x22cf66].slice(0));
        if (_0x2aeead.length >= 4) {
          if (ringIsClockwise(_0x2aeead)) {
            _0x2aeead.reverse();
          }
          _0x133876.push(_0x2aeead);
        }
      }
    }
    return _0x133876;
  };
  var flattenMultiPolygonRings = function flattenMultiPolygonRings(_0x5acec6) {
    var _0x131dd4 = [];
    for (var _0x5c6ba2 = 0; _0x5c6ba2 < _0x5acec6.length; _0x5c6ba2++) {
      var _0x5cc951 = orientRings(_0x5acec6[_0x5c6ba2]);
      for (var _0x3eec44 = _0x5cc951.length - 1; _0x3eec44 >= 0; _0x3eec44--) {
        var _0x108ebe = _0x5cc951[_0x3eec44].slice(0);
        _0x131dd4.push(_0x108ebe);
      }
    }
    return _0x131dd4;
  };
  var geojsonToArcGIS$1 = function geojsonToArcGIS(_0x28f09c, _0x3e2180) {
    _0x3e2180 = _0x3e2180 || "OBJECTID";
    var _0x5c873c = {
      wkid: 4326
    };
    var _0x1dca85 = {};
    var _0x1213d3;
    switch (_0x28f09c.type) {
      case "Point":
        _0x1dca85.x = _0x28f09c.coordinates[0];
        _0x1dca85.y = _0x28f09c.coordinates[1];
        if (_0x28f09c.coordinates[2] != null) {
          _0x1dca85.z = _0x28f09c.coordinates[2];
        }
        _0x1dca85.spatialReference = _0x5c873c;
        break;
      case "MultiPoint":
        _0x1dca85.points = _0x28f09c.coordinates.slice(0);
        if (_0x28f09c.coordinates[0][2] != null) {
          _0x1dca85.hasZ = true;
        }
        _0x1dca85.spatialReference = _0x5c873c;
        break;
      case "LineString":
        _0x1dca85.paths = [_0x28f09c.coordinates.slice(0)];
        if (_0x28f09c.coordinates[0][2] != null) {
          _0x1dca85.hasZ = true;
        }
        _0x1dca85.spatialReference = _0x5c873c;
        break;
      case "MultiLineString":
        _0x1dca85.paths = _0x28f09c.coordinates.slice(0);
        if (_0x28f09c.coordinates[0][0][2] != null) {
          _0x1dca85.hasZ = true;
        }
        _0x1dca85.spatialReference = _0x5c873c;
        break;
      case "Polygon":
        _0x1dca85.rings = orientRings(_0x28f09c.coordinates.slice(0));
        if (_0x28f09c.coordinates[0][0][2] != null) {
          _0x1dca85.hasZ = true;
        }
        _0x1dca85.spatialReference = _0x5c873c;
        break;
      case "MultiPolygon":
        _0x1dca85.rings = flattenMultiPolygonRings(_0x28f09c.coordinates.slice(0));
        if (_0x28f09c.coordinates[0][0][0][2] != null) {
          _0x1dca85.hasZ = true;
        }
        _0x1dca85.spatialReference = _0x5c873c;
        break;
      case "Feature":
        if (_0x28f09c.geometry) {
          _0x1dca85.geometry = geojsonToArcGIS(_0x28f09c.geometry, _0x3e2180);
        }
        _0x1dca85.attributes = _0x28f09c.properties ? shallowClone(_0x28f09c.properties) : {};
        if (_0x28f09c.id) {
          _0x1dca85.attributes[_0x3e2180] = _0x28f09c.id;
        }
        break;
      case "FeatureCollection":
        _0x1dca85 = [];
        for (_0x1213d3 = 0; _0x1213d3 < _0x28f09c.features.length; _0x1213d3++) {
          _0x1dca85.push(geojsonToArcGIS(_0x28f09c.features[_0x1213d3], _0x3e2180));
        }
        break;
      case "GeometryCollection":
        _0x1dca85 = [];
        for (_0x1213d3 = 0; _0x1213d3 < _0x28f09c.geometries.length; _0x1213d3++) {
          _0x1dca85.push(geojsonToArcGIS(_0x28f09c.geometries[_0x1213d3], _0x3e2180));
        }
        break;
    }
    return _0x1dca85;
  };
  function globals(_0x166554) {
    _0x166554("EPSG:4326", "+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");
    _0x166554("EPSG:4269", "+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");
    _0x166554("EPSG:3857", "+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");
    _0x166554.WGS84 = _0x166554["EPSG:4326"];
    _0x166554["EPSG:3785"] = _0x166554["EPSG:3857"];
    _0x166554.GOOGLE = _0x166554["EPSG:3857"];
    _0x166554["EPSG:900913"] = _0x166554["EPSG:3857"];
    _0x166554["EPSG:102113"] = _0x166554["EPSG:3857"];
  }
  var PJD_3PARAM = 1;
  var PJD_7PARAM = 2;
  var PJD_GRIDSHIFT = 3;
  var PJD_WGS84 = 4;
  var PJD_NODATUM = 5;
  var SRS_WGS84_SEMIMAJOR = 6378137;
  var SRS_WGS84_SEMIMINOR = 6356752.314;
  var SRS_WGS84_ESQUARED = 0.0066943799901413165;
  var SEC_TO_RAD = 0.00000484813681109536;
  var HALF_PI = Math.PI / 2;
  var SIXTH = 0.16666666666666666;
  var RA4 = 0.04722222222222222;
  var RA6 = 0.022156084656084655;
  var EPSLN = 1e-10;
  var D2R$1 = 0.017453292519943295;
  var R2D = 57.29577951308232;
  var FORTPI = Math.PI / 4;
  var TWO_PI = Math.PI * 2;
  var SPI = 3.14159265359;
  var exports$3 = {
    greenwich: 0,
    lisbon: -9.131906111111,
    paris: 2.337229166667,
    bogota: -74.080916666667,
    madrid: -3.687938888889,
    rome: 12.452333333333,
    bern: 7.439583333333,
    jakarta: 106.807719444444,
    ferro: -17.666666666667,
    brussels: 4.367975,
    stockholm: 18.058277777778,
    athens: 23.7163375,
    oslo: 10.722916666667
  };
  const _0x35f41d = {
    to_meter: 1200 / 3937
  };
  const _0x37fd4a = {
    ft: {
      to_meter: 0.3048
    },
    "us-ft": _0x35f41d
  };
  var units = _0x37fd4a;
  var ignoredChar = /[\s_\-\/\(\)]/g;
  function match(_0x29bd89, _0x2ab7c8) {
    if (_0x29bd89[_0x2ab7c8]) {
      return _0x29bd89[_0x2ab7c8];
    }
    var _0x5ba8f2 = Object.keys(_0x29bd89);
    var _0x5e94d6 = _0x2ab7c8.toLowerCase().replace(ignoredChar, "");
    var _0xf01417 = -1;
    var _0x8fe84;
    var _0x4967f3;
    while (++_0xf01417 < _0x5ba8f2.length) {
      _0x8fe84 = _0x5ba8f2[_0xf01417];
      _0x4967f3 = _0x8fe84.toLowerCase().replace(ignoredChar, "");
      if (_0x4967f3 === _0x5e94d6) {
        return _0x29bd89[_0x8fe84];
      }
    }
  }
  function projStr(_0x59bd34) {
    var _0x4e950c = {};
    var _0x7e5367 = _0x59bd34.split("+").map(function (_0x19d113) {
      return _0x19d113.trim();
    }).filter(function (_0x267157) {
      return _0x267157;
    }).reduce(function (_0x23d627, _0x499f97) {
      var _0x3ad0e6 = _0x499f97.split("=");
      _0x3ad0e6.push(true);
      _0x23d627[_0x3ad0e6[0].toLowerCase()] = _0x3ad0e6[1];
      return _0x23d627;
    }, {});
    var _0x4a0fed;
    var _0x306e9a;
    var _0x48ed37;
    var _0x298800 = {
      proj: "projName",
      datum: "datumCode",
      rf: function (_0x213b0a) {
        _0x4e950c.rf = parseFloat(_0x213b0a);
      },
      lat_0: function (_0x1af448) {
        _0x4e950c.lat0 = _0x1af448 * D2R$1;
      },
      lat_1: function (_0x1927d0) {
        _0x4e950c.lat1 = _0x1927d0 * D2R$1;
      },
      lat_2: function (_0x3fa7e5) {
        _0x4e950c.lat2 = _0x3fa7e5 * D2R$1;
      },
      lat_ts: function (_0x14a151) {
        _0x4e950c.lat_ts = _0x14a151 * D2R$1;
      },
      lon_0: function (_0x5f45b3) {
        _0x4e950c.long0 = _0x5f45b3 * D2R$1;
      },
      lon_1: function (_0x2f94da) {
        _0x4e950c.long1 = _0x2f94da * D2R$1;
      },
      lon_2: function (_0x34f79a) {
        _0x4e950c.long2 = _0x34f79a * D2R$1;
      },
      alpha: function (_0x13bb2d) {
        _0x4e950c.alpha = parseFloat(_0x13bb2d) * D2R$1;
      },
      gamma: function (_0xbf4205) {
        _0x4e950c.rectified_grid_angle = parseFloat(_0xbf4205);
      },
      lonc: function (_0x5171d2) {
        _0x4e950c.longc = _0x5171d2 * D2R$1;
      },
      x_0: function (_0x321e4f) {
        _0x4e950c.x0 = parseFloat(_0x321e4f);
      },
      y_0: function (_0x38c931) {
        _0x4e950c.y0 = parseFloat(_0x38c931);
      },
      k_0: function (_0xa23e03) {
        _0x4e950c.k0 = parseFloat(_0xa23e03);
      },
      k: function (_0x45b6f2) {
        _0x4e950c.k0 = parseFloat(_0x45b6f2);
      },
      a: function (_0x3b6b5a) {
        _0x4e950c.a = parseFloat(_0x3b6b5a);
      },
      b: function (_0x48b0ac) {
        _0x4e950c.b = parseFloat(_0x48b0ac);
      },
      r: function (_0x3f7a79) {
        _0x4e950c.a = _0x4e950c.b = parseFloat(_0x3f7a79);
      },
      r_a: function () {
        _0x4e950c.R_A = true;
      },
      zone: function (_0x79bca5) {
        _0x4e950c.zone = parseInt(_0x79bca5, 10);
      },
      south: function () {
        _0x4e950c.utmSouth = true;
      },
      towgs84: function (_0xdb573b) {
        _0x4e950c.datum_params = _0xdb573b.split(",").map(function (_0x7f0d04) {
          return parseFloat(_0x7f0d04);
        });
      },
      to_meter: function (_0x1ea4be) {
        _0x4e950c.to_meter = parseFloat(_0x1ea4be);
      },
      units: function (_0x3858df) {
        _0x4e950c.units = _0x3858df;
        var _0xa4e7b6 = match(units, _0x3858df);
        if (_0xa4e7b6) {
          _0x4e950c.to_meter = _0xa4e7b6.to_meter;
        }
      },
      from_greenwich: function (_0x31b7ab) {
        _0x4e950c.from_greenwich = _0x31b7ab * D2R$1;
      },
      pm: function (_0x3a03de) {
        var _0x31aa6f = match(exports$3, _0x3a03de);
        _0x4e950c.from_greenwich = (_0x31aa6f ? _0x31aa6f : parseFloat(_0x3a03de)) * D2R$1;
      },
      nadgrids: function (_0x2c0584) {
        if (_0x2c0584 === "@null") {
          _0x4e950c.datumCode = "none";
        } else {
          _0x4e950c.nadgrids = _0x2c0584;
        }
      },
      axis: function (_0x54d605) {
        var _0x4e3d32 = "ewnsud";
        if (_0x54d605.length === 3 && _0x4e3d32.indexOf(_0x54d605.substr(0, 1)) !== -1 && _0x4e3d32.indexOf(_0x54d605.substr(1, 1)) !== -1 && _0x4e3d32.indexOf(_0x54d605.substr(2, 1)) !== -1) {
          _0x4e950c.axis = _0x54d605;
        }
      },
      approx: function () {
        _0x4e950c.approx = true;
      }
    };
    for (_0x4a0fed in _0x7e5367) {
      _0x306e9a = _0x7e5367[_0x4a0fed];
      if (_0x4a0fed in _0x298800) {
        _0x48ed37 = _0x298800[_0x4a0fed];
        if (typeof _0x48ed37 === "function") {
          _0x48ed37(_0x306e9a);
        } else {
          _0x4e950c[_0x48ed37] = _0x306e9a;
        }
      } else {
        _0x4e950c[_0x4a0fed] = _0x306e9a;
      }
    }
    if (typeof _0x4e950c.datumCode === "string" && _0x4e950c.datumCode !== "WGS84") {
      _0x4e950c.datumCode = _0x4e950c.datumCode.toLowerCase();
    }
    return _0x4e950c;
  }
  var NEUTRAL = 1;
  var KEYWORD = 2;
  var NUMBER = 3;
  var QUOTED = 4;
  var AFTERQUOTE = 5;
  var ENDED = -1;
  var whitespace = /\s/;
  var latin = /[A-Za-z]/;
  var keyword = /[A-Za-z84_]/;
  var endThings = /[,\]]/;
  var digets = /[\d\.E\-\+]/;
  function Parser(_0x532e41) {
    if (typeof _0x532e41 !== "string") {
      throw new Error("not a string");
    }
    this.text = _0x532e41.trim();
    this.level = 0;
    this.place = 0;
    this.root = null;
    this.stack = [];
    this.currentObject = null;
    this.state = NEUTRAL;
  }
  Parser.prototype.readCharicter = function () {
    var _0x4727bf = this.text[this.place++];
    if (this.state !== QUOTED) {
      while (whitespace.test(_0x4727bf)) {
        if (this.place >= this.text.length) {
          return;
        }
        _0x4727bf = this.text[this.place++];
      }
    }
    switch (this.state) {
      case NEUTRAL:
        return this.neutral(_0x4727bf);
      case KEYWORD:
        return this.keyword(_0x4727bf);
      case QUOTED:
        return this.quoted(_0x4727bf);
      case AFTERQUOTE:
        return this.afterquote(_0x4727bf);
      case NUMBER:
        return this.number(_0x4727bf);
      case ENDED:
        return;
    }
  };
  Parser.prototype.afterquote = function (_0x248e2d) {
    if (_0x248e2d === "\"") {
      this.word += "\"";
      this.state = QUOTED;
      return;
    }
    if (endThings.test(_0x248e2d)) {
      this.word = this.word.trim();
      this.afterItem(_0x248e2d);
      return;
    }
    throw new Error("havn't handled \"" + _0x248e2d + "\" in afterquote yet, index " + this.place);
  };
  Parser.prototype.afterItem = function (_0x298642) {
    if (_0x298642 === ",") {
      if (this.word !== null) {
        this.currentObject.push(this.word);
      }
      this.word = null;
      this.state = NEUTRAL;
      return;
    }
    if (_0x298642 === "]") {
      this.level--;
      if (this.word !== null) {
        this.currentObject.push(this.word);
        this.word = null;
      }
      this.state = NEUTRAL;
      this.currentObject = this.stack.pop();
      if (!this.currentObject) {
        this.state = ENDED;
      }
      return;
    }
  };
  Parser.prototype.number = function (_0x327bc4) {
    if (digets.test(_0x327bc4)) {
      this.word += _0x327bc4;
      return;
    }
    if (endThings.test(_0x327bc4)) {
      this.word = parseFloat(this.word);
      this.afterItem(_0x327bc4);
      return;
    }
    throw new Error("havn't handled \"" + _0x327bc4 + "\" in number yet, index " + this.place);
  };
  Parser.prototype.quoted = function (_0x2b4b4a) {
    if (_0x2b4b4a === "\"") {
      this.state = AFTERQUOTE;
      return;
    }
    this.word += _0x2b4b4a;
    return;
  };
  Parser.prototype.keyword = function (_0x26f1f3) {
    if (keyword.test(_0x26f1f3)) {
      this.word += _0x26f1f3;
      return;
    }
    if (_0x26f1f3 === "[") {
      var _0x42bc4c = [];
      _0x42bc4c.push(this.word);
      this.level++;
      if (this.root === null) {
        this.root = _0x42bc4c;
      } else {
        this.currentObject.push(_0x42bc4c);
      }
      this.stack.push(this.currentObject);
      this.currentObject = _0x42bc4c;
      this.state = NEUTRAL;
      return;
    }
    if (endThings.test(_0x26f1f3)) {
      this.afterItem(_0x26f1f3);
      return;
    }
    throw new Error("havn't handled \"" + _0x26f1f3 + "\" in keyword yet, index " + this.place);
  };
  Parser.prototype.neutral = function (_0x32681d) {
    if (latin.test(_0x32681d)) {
      this.word = _0x32681d;
      this.state = KEYWORD;
      return;
    }
    if (_0x32681d === "\"") {
      this.word = "";
      this.state = QUOTED;
      return;
    }
    if (digets.test(_0x32681d)) {
      this.word = _0x32681d;
      this.state = NUMBER;
      return;
    }
    if (endThings.test(_0x32681d)) {
      this.afterItem(_0x32681d);
      return;
    }
    throw new Error("havn't handled \"" + _0x32681d + "\" in neutral yet, index " + this.place);
  };
  Parser.prototype.output = function () {
    while (this.place < this.text.length) {
      this.readCharicter();
    }
    if (this.state === ENDED) {
      return this.root;
    }
    throw new Error("unable to parse string \"" + this.text + "\". State is " + this.state);
  };
  function parseString(_0x51925f) {
    var _0xb484e = new Parser(_0x51925f);
    return _0xb484e.output();
  }
  function mapit(_0x1582d1, _0x3991ce, _0xfc6e49) {
    if (Array.isArray(_0x3991ce)) {
      _0xfc6e49.unshift(_0x3991ce);
      _0x3991ce = null;
    }
    var _0x354e11 = _0x3991ce ? {} : _0x1582d1;
    var _0x676d9d = _0xfc6e49.reduce(function (_0x2c547b, _0x4425f5) {
      sExpr(_0x4425f5, _0x2c547b);
      return _0x2c547b;
    }, _0x354e11);
    if (_0x3991ce) {
      _0x1582d1[_0x3991ce] = _0x676d9d;
    }
  }
  function sExpr(_0x309c21, _0x6946f) {
    if (!Array.isArray(_0x309c21)) {
      _0x6946f[_0x309c21] = true;
      return;
    }
    var _0x54d560 = _0x309c21.shift();
    if (_0x54d560 === "PARAMETER") {
      _0x54d560 = _0x309c21.shift();
    }
    if (_0x309c21.length === 1) {
      if (Array.isArray(_0x309c21[0])) {
        _0x6946f[_0x54d560] = {};
        sExpr(_0x309c21[0], _0x6946f[_0x54d560]);
        return;
      }
      _0x6946f[_0x54d560] = _0x309c21[0];
      return;
    }
    if (!_0x309c21.length) {
      _0x6946f[_0x54d560] = true;
      return;
    }
    if (_0x54d560 === "TOWGS84") {
      _0x6946f[_0x54d560] = _0x309c21;
      return;
    }
    if (_0x54d560 === "AXIS") {
      if (!(_0x54d560 in _0x6946f)) {
        _0x6946f[_0x54d560] = [];
      }
      _0x6946f[_0x54d560].push(_0x309c21);
      return;
    }
    if (!Array.isArray(_0x54d560)) {
      _0x6946f[_0x54d560] = {};
    }
    var _0xd88721;
    switch (_0x54d560) {
      case "UNIT":
      case "PRIMEM":
      case "VERT_DATUM":
        _0x6946f[_0x54d560] = {
          name: _0x309c21[0].toLowerCase(),
          convert: _0x309c21[1]
        };
        if (_0x309c21.length === 3) {
          sExpr(_0x309c21[2], _0x6946f[_0x54d560]);
        }
        return;
      case "SPHEROID":
      case "ELLIPSOID":
        const _0x4563c0 = {
          name: _0x309c21[0],
          a: _0x309c21[1],
          rf: _0x309c21[2]
        };
        _0x6946f[_0x54d560] = _0x4563c0;
        if (_0x309c21.length === 4) {
          sExpr(_0x309c21[3], _0x6946f[_0x54d560]);
        }
        return;
      case "PROJECTEDCRS":
      case "PROJCRS":
      case "GEOGCS":
      case "GEOCCS":
      case "PROJCS":
      case "LOCAL_CS":
      case "GEODCRS":
      case "GEODETICCRS":
      case "GEODETICDATUM":
      case "EDATUM":
      case "ENGINEERINGDATUM":
      case "VERT_CS":
      case "VERTCRS":
      case "VERTICALCRS":
      case "COMPD_CS":
      case "COMPOUNDCRS":
      case "ENGINEERINGCRS":
      case "ENGCRS":
      case "FITTED_CS":
      case "LOCAL_DATUM":
      case "DATUM":
        _0x309c21[0] = ["name", _0x309c21[0]];
        mapit(_0x6946f, _0x54d560, _0x309c21);
        return;
      default:
        _0xd88721 = -1;
        while (++_0xd88721 < _0x309c21.length) {
          if (!Array.isArray(_0x309c21[_0xd88721])) {
            return sExpr(_0x309c21, _0x6946f[_0x54d560]);
          }
        }
        return mapit(_0x6946f, _0x54d560, _0x309c21);
    }
  }
  var D2R = 0.017453292519943295;
  function rename(_0xa9ad46, _0x14b2de) {
    var _0x4a7023 = _0x14b2de[0];
    var _0x50b914 = _0x14b2de[1];
    if (!(_0x4a7023 in _0xa9ad46) && _0x50b914 in _0xa9ad46) {
      _0xa9ad46[_0x4a7023] = _0xa9ad46[_0x50b914];
      if (_0x14b2de.length === 3) {
        _0xa9ad46[_0x4a7023] = _0x14b2de[2](_0xa9ad46[_0x4a7023]);
      }
    }
  }
  function d2r(_0x5e22a2) {
    return _0x5e22a2 * D2R;
  }
  function cleanWKT(_0x3200fb) {
    if (_0x3200fb.type === "GEOGCS") {
      _0x3200fb.projName = "longlat";
    } else if (_0x3200fb.type === "LOCAL_CS") {
      _0x3200fb.projName = "identity";
      _0x3200fb.local = true;
    } else if (typeof _0x3200fb.PROJECTION === "object") {
      _0x3200fb.projName = Object.keys(_0x3200fb.PROJECTION)[0];
    } else {
      _0x3200fb.projName = _0x3200fb.PROJECTION;
    }
    if (_0x3200fb.AXIS) {
      var _0x2d585b = "";
      for (var _0x5e395e = 0, _0x5afdf1 = _0x3200fb.AXIS.length; _0x5e395e < _0x5afdf1; ++_0x5e395e) {
        var _0x20fbbf = [_0x3200fb.AXIS[_0x5e395e][0].toLowerCase(), _0x3200fb.AXIS[_0x5e395e][1].toLowerCase()];
        if (_0x20fbbf[0].indexOf("north") !== -1 || (_0x20fbbf[0] === "y" || _0x20fbbf[0] === "lat") && _0x20fbbf[1] === "north") {
          _0x2d585b += "n";
        } else if (_0x20fbbf[0].indexOf("south") !== -1 || (_0x20fbbf[0] === "y" || _0x20fbbf[0] === "lat") && _0x20fbbf[1] === "south") {
          _0x2d585b += "s";
        } else if (_0x20fbbf[0].indexOf("east") !== -1 || (_0x20fbbf[0] === "x" || _0x20fbbf[0] === "lon") && _0x20fbbf[1] === "east") {
          _0x2d585b += "e";
        } else if (_0x20fbbf[0].indexOf("west") !== -1 || (_0x20fbbf[0] === "x" || _0x20fbbf[0] === "lon") && _0x20fbbf[1] === "west") {
          _0x2d585b += "w";
        }
      }
      if (_0x2d585b.length === 2) {
        _0x2d585b += "u";
      }
      if (_0x2d585b.length === 3) {
        _0x3200fb.axis = _0x2d585b;
      }
    }
    if (_0x3200fb.UNIT) {
      _0x3200fb.units = _0x3200fb.UNIT.name.toLowerCase();
      if (_0x3200fb.units === "metre") {
        _0x3200fb.units = "meter";
      }
      if (_0x3200fb.UNIT.convert) {
        if (_0x3200fb.type === "GEOGCS") {
          if (_0x3200fb.DATUM && _0x3200fb.DATUM.SPHEROID) {
            _0x3200fb.to_meter = _0x3200fb.UNIT.convert * _0x3200fb.DATUM.SPHEROID.a;
          }
        } else {
          _0x3200fb.to_meter = _0x3200fb.UNIT.convert;
        }
      }
    }
    var _0x4ed93b = _0x3200fb.GEOGCS;
    if (_0x3200fb.type === "GEOGCS") {
      _0x4ed93b = _0x3200fb;
    }
    if (_0x4ed93b) {
      if (_0x4ed93b.DATUM) {
        _0x3200fb.datumCode = _0x4ed93b.DATUM.name.toLowerCase();
      } else {
        _0x3200fb.datumCode = _0x4ed93b.name.toLowerCase();
      }
      if (_0x3200fb.datumCode.slice(0, 2) === "d_") {
        _0x3200fb.datumCode = _0x3200fb.datumCode.slice(2);
      }
      if (_0x3200fb.datumCode === "new_zealand_geodetic_datum_1949" || _0x3200fb.datumCode === "new_zealand_1949") {
        _0x3200fb.datumCode = "nzgd49";
      }
      if (_0x3200fb.datumCode === "wgs_1984" || _0x3200fb.datumCode === "world_geodetic_system_1984") {
        if (_0x3200fb.PROJECTION === "Mercator_Auxiliary_Sphere") {
          _0x3200fb.sphere = true;
        }
        _0x3200fb.datumCode = "wgs84";
      }
      if (_0x3200fb.datumCode.slice(-6) === "_ferro") {
        _0x3200fb.datumCode = _0x3200fb.datumCode.slice(0, -6);
      }
      if (_0x3200fb.datumCode.slice(-8) === "_jakarta") {
        _0x3200fb.datumCode = _0x3200fb.datumCode.slice(0, -8);
      }
      if (~_0x3200fb.datumCode.indexOf("belge")) {
        _0x3200fb.datumCode = "rnb72";
      }
      if (_0x4ed93b.DATUM && _0x4ed93b.DATUM.SPHEROID) {
        _0x3200fb.ellps = _0x4ed93b.DATUM.SPHEROID.name.replace("_19", "").replace(/[Cc]larke\_18/, "clrk");
        if (_0x3200fb.ellps.toLowerCase().slice(0, 13) === "international") {
          _0x3200fb.ellps = "intl";
        }
        _0x3200fb.a = _0x4ed93b.DATUM.SPHEROID.a;
        _0x3200fb.rf = parseFloat(_0x4ed93b.DATUM.SPHEROID.rf, 10);
      }
      if (_0x4ed93b.DATUM && _0x4ed93b.DATUM.TOWGS84) {
        _0x3200fb.datum_params = _0x4ed93b.DATUM.TOWGS84;
      }
      if (~_0x3200fb.datumCode.indexOf("osgb_1936")) {
        _0x3200fb.datumCode = "osgb36";
      }
      if (~_0x3200fb.datumCode.indexOf("osni_1952")) {
        _0x3200fb.datumCode = "osni52";
      }
      if (~_0x3200fb.datumCode.indexOf("tm65") || ~_0x3200fb.datumCode.indexOf("geodetic_datum_of_1965")) {
        _0x3200fb.datumCode = "ire65";
      }
      if (_0x3200fb.datumCode === "ch1903+") {
        _0x3200fb.datumCode = "ch1903";
      }
      if (~_0x3200fb.datumCode.indexOf("israel")) {
        _0x3200fb.datumCode = "isr93";
      }
    }
    if (_0x3200fb.b && !isFinite(_0x3200fb.b)) {
      _0x3200fb.b = _0x3200fb.a;
    }
    function _0x3885b3(_0x489fc1) {
      var _0x186e58 = _0x3200fb.to_meter || 1;
      return _0x489fc1 * _0x186e58;
    }
    function _0x214d06(_0x181439) {
      return rename(_0x3200fb, _0x181439);
    }
    var _0x2a7180 = [["standard_parallel_1", "Standard_Parallel_1"], ["standard_parallel_1", "Latitude of 1st standard parallel"], ["standard_parallel_2", "Standard_Parallel_2"], ["standard_parallel_2", "Latitude of 2nd standard parallel"], ["false_easting", "False_Easting"], ["false_easting", "False easting"], ["false-easting", "Easting at false origin"], ["false_northing", "False_Northing"], ["false_northing", "False northing"], ["false_northing", "Northing at false origin"], ["central_meridian", "Central_Meridian"], ["central_meridian", "Longitude of natural origin"], ["central_meridian", "Longitude of false origin"], ["latitude_of_origin", "Latitude_Of_Origin"], ["latitude_of_origin", "Central_Parallel"], ["latitude_of_origin", "Latitude of natural origin"], ["latitude_of_origin", "Latitude of false origin"], ["scale_factor", "Scale_Factor"], ["k0", "scale_factor"], ["latitude_of_center", "Latitude_Of_Center"], ["latitude_of_center", "Latitude_of_center"], ["lat0", "latitude_of_center", d2r], ["longitude_of_center", "Longitude_Of_Center"], ["longitude_of_center", "Longitude_of_center"], ["longc", "longitude_of_center", d2r], ["x0", "false_easting", _0x3885b3], ["y0", "false_northing", _0x3885b3], ["long0", "central_meridian", d2r], ["lat0", "latitude_of_origin", d2r], ["lat0", "standard_parallel_1", d2r], ["lat1", "standard_parallel_1", d2r], ["lat2", "standard_parallel_2", d2r], ["azimuth", "Azimuth"], ["alpha", "azimuth", d2r], ["srsCode", "name"]];
    _0x2a7180.forEach(_0x214d06);
    if (!_0x3200fb.long0 && _0x3200fb.longc && (_0x3200fb.projName === "Albers_Conic_Equal_Area" || _0x3200fb.projName === "Lambert_Azimuthal_Equal_Area")) {
      _0x3200fb.long0 = _0x3200fb.longc;
    }
    if (!_0x3200fb.lat_ts && _0x3200fb.lat1 && (_0x3200fb.projName === "Stereographic_South_Pole" || _0x3200fb.projName === "Polar Stereographic (variant B)")) {
      _0x3200fb.lat0 = d2r(_0x3200fb.lat1 > 0 ? 90 : -90);
      _0x3200fb.lat_ts = _0x3200fb.lat1;
    } else if (!_0x3200fb.lat_ts && _0x3200fb.lat0 && _0x3200fb.projName === "Polar_Stereographic") {
      _0x3200fb.lat_ts = _0x3200fb.lat0;
      _0x3200fb.lat0 = d2r(_0x3200fb.lat0 > 0 ? 90 : -90);
    }
  }
  function wkt(_0x426dd9) {
    var _0x42a3e5 = parseString(_0x426dd9);
    var _0x49d3c2 = _0x42a3e5.shift();
    var _0x4ef7c2 = _0x42a3e5.shift();
    _0x42a3e5.unshift(["name", _0x4ef7c2]);
    _0x42a3e5.unshift(["type", _0x49d3c2]);
    var _0x27fe70 = {};
    sExpr(_0x42a3e5, _0x27fe70);
    cleanWKT(_0x27fe70);
    return _0x27fe70;
  }
  function defs(_0x249c78) {
    var _0x55f7b2 = this;
    if (arguments.length === 2) {
      var _0x26894d = arguments[1];
      if (typeof _0x26894d === "string") {
        if (_0x26894d.charAt(0) === "+") {
          defs[_0x249c78] = projStr(arguments[1]);
        } else {
          defs[_0x249c78] = wkt(arguments[1]);
        }
      } else {
        defs[_0x249c78] = _0x26894d;
      }
    } else if (arguments.length === 1) {
      if (Array.isArray(_0x249c78)) {
        return _0x249c78.map(function (_0x37fdf8) {
          if (Array.isArray(_0x37fdf8)) {
            defs.apply(_0x55f7b2, _0x37fdf8);
          } else {
            defs(_0x37fdf8);
          }
        });
      } else if (typeof _0x249c78 === "string") {
        if (_0x249c78 in defs) {
          return defs[_0x249c78];
        }
      } else if ("EPSG" in _0x249c78) {
        defs["EPSG:" + _0x249c78.EPSG] = _0x249c78;
      } else if ("ESRI" in _0x249c78) {
        defs["ESRI:" + _0x249c78.ESRI] = _0x249c78;
      } else if ("IAU2000" in _0x249c78) {
        defs["IAU2000:" + _0x249c78.IAU2000] = _0x249c78;
      } else {
        console.log(_0x249c78);
      }
      return;
    }
  }
  globals(defs);
  function testObj(_0x578604) {
    return typeof _0x578604 === "string";
  }
  function testDef(_0x124474) {
    return _0x124474 in defs;
  }
  var codeWords = ["PROJECTEDCRS", "PROJCRS", "GEOGCS", "GEOCCS", "PROJCS", "LOCAL_CS", "GEODCRS", "GEODETICCRS", "GEODETICDATUM", "ENGCRS", "ENGINEERINGCRS"];
  function testWKT(_0xeb214d) {
    return codeWords.some(function (_0x3d341b) {
      return _0xeb214d.indexOf(_0x3d341b) > -1;
    });
  }
  var codes = ["3857", "900913", "3785", "102113"];
  function checkMercator(_0x535600) {
    var _0x523466 = match(_0x535600, "authority");
    if (!_0x523466) {
      return;
    }
    var _0x3fba18 = match(_0x523466, "epsg");
    return _0x3fba18 && codes.indexOf(_0x3fba18) > -1;
  }
  function checkProjStr(_0x3888c4) {
    var _0xb193b = match(_0x3888c4, "extension");
    if (!_0xb193b) {
      return;
    }
    return match(_0xb193b, "proj4");
  }
  function testProj(_0x178544) {
    return _0x178544[0] === "+";
  }
  function parse(_0x2afd15) {
    if (testObj(_0x2afd15)) {
      if (testDef(_0x2afd15)) {
        return defs[_0x2afd15];
      }
      if (testWKT(_0x2afd15)) {
        var _0x4f27c8 = wkt(_0x2afd15);
        if (checkMercator(_0x4f27c8)) {
          return defs["EPSG:3857"];
        }
        var _0x338e6c = checkProjStr(_0x4f27c8);
        if (_0x338e6c) {
          return projStr(_0x338e6c);
        }
        return _0x4f27c8;
      }
      if (testProj(_0x2afd15)) {
        return projStr(_0x2afd15);
      }
    } else {
      return _0x2afd15;
    }
  }
  function extend(_0x37ea49, _0x408cf0) {
    _0x37ea49 = _0x37ea49 || {};
    var _0x4380f5;
    var _0x3442ce;
    if (!_0x408cf0) {
      return _0x37ea49;
    }
    for (_0x3442ce in _0x408cf0) {
      _0x4380f5 = _0x408cf0[_0x3442ce];
      if (_0x4380f5 !== undefined) {
        _0x37ea49[_0x3442ce] = _0x4380f5;
      }
    }
    return _0x37ea49;
  }
  function msfnz(_0x5f0458, _0x2d548d, _0x3a7a31) {
    var _0x5b0f8a = _0x5f0458 * _0x2d548d;
    return _0x3a7a31 / Math.sqrt(1 - _0x5b0f8a * _0x5b0f8a);
  }
  function sign(_0x403b34) {
    if (_0x403b34 < 0) {
      return -1;
    } else {
      return 1;
    }
  }
  function adjust_lon(_0x1c17ae) {
    if (Math.abs(_0x1c17ae) <= SPI) {
      return _0x1c17ae;
    } else {
      return _0x1c17ae - sign(_0x1c17ae) * TWO_PI;
    }
  }
  function tsfnz(_0x1902bc, _0x279cea, _0x581dfd) {
    var _0x345dcf = _0x1902bc * _0x581dfd;
    var _0x324161 = _0x1902bc * 0.5;
    _0x345dcf = Math.pow((1 - _0x345dcf) / (1 + _0x345dcf), _0x324161);
    return Math.tan((HALF_PI - _0x279cea) * 0.5) / _0x345dcf;
  }
  function phi2z(_0x19c62a, _0x1ed5f3) {
    var _0x27c088 = _0x19c62a * 0.5;
    var _0x5a4351;
    var _0x58fcdb;
    var _0x37ef29 = HALF_PI - Math.atan(_0x1ed5f3) * 2;
    for (var _0x28eacd = 0; _0x28eacd <= 15; _0x28eacd++) {
      _0x5a4351 = _0x19c62a * Math.sin(_0x37ef29);
      _0x58fcdb = HALF_PI - Math.atan(_0x1ed5f3 * Math.pow((1 - _0x5a4351) / (1 + _0x5a4351), _0x27c088)) * 2 - _0x37ef29;
      _0x37ef29 += _0x58fcdb;
      if (Math.abs(_0x58fcdb) <= 1e-10) {
        return _0x37ef29;
      }
    }
    return -9999;
  }
  function init$w() {
    var _0x6307ff = this.b / this.a;
    this.es = 1 - _0x6307ff * _0x6307ff;
    if (!("x0" in this)) {
      this.x0 = 0;
    }
    if (!("y0" in this)) {
      this.y0 = 0;
    }
    this.e = Math.sqrt(this.es);
    if (this.lat_ts) {
      if (this.sphere) {
        this.k0 = Math.cos(this.lat_ts);
      } else {
        this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));
      }
    } else if (!this.k0) {
      if (this.k) {
        this.k0 = this.k;
      } else {
        this.k0 = 1;
      }
    }
  }
  function forward$v(_0x47c380) {
    var _0x5e65ba = _0x47c380.x;
    var _0x5591b3 = _0x47c380.y;
    if (_0x5591b3 * R2D > 90 && _0x5591b3 * R2D < -90 && _0x5e65ba * R2D > 180 && _0x5e65ba * R2D < -180) {
      return null;
    }
    var _0x52da59;
    var _0x1ed5f1;
    if (Math.abs(Math.abs(_0x5591b3) - HALF_PI) <= EPSLN) {
      return null;
    } else {
      if (this.sphere) {
        _0x52da59 = this.x0 + this.a * this.k0 * adjust_lon(_0x5e65ba - this.long0);
        _0x1ed5f1 = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + _0x5591b3 * 0.5));
      } else {
        var _0x3bde7a = Math.sin(_0x5591b3);
        var _0x308580 = tsfnz(this.e, _0x5591b3, _0x3bde7a);
        _0x52da59 = this.x0 + this.a * this.k0 * adjust_lon(_0x5e65ba - this.long0);
        _0x1ed5f1 = this.y0 - this.a * this.k0 * Math.log(_0x308580);
      }
      _0x47c380.x = _0x52da59;
      _0x47c380.y = _0x1ed5f1;
      return _0x47c380;
    }
  }
  function inverse$v(_0x289368) {
    var _0x437e7f = _0x289368.x - this.x0;
    var _0x17e908 = _0x289368.y - this.y0;
    var _0x2985ed;
    var _0x331aa0;
    if (this.sphere) {
      _0x331aa0 = HALF_PI - Math.atan(Math.exp(-_0x17e908 / (this.a * this.k0))) * 2;
    } else {
      var _0x29f13e = Math.exp(-_0x17e908 / (this.a * this.k0));
      _0x331aa0 = phi2z(this.e, _0x29f13e);
      if (_0x331aa0 === -9999) {
        return null;
      }
    }
    _0x2985ed = adjust_lon(this.long0 + _0x437e7f / (this.a * this.k0));
    _0x289368.x = _0x2985ed;
    _0x289368.y = _0x331aa0;
    return _0x289368;
  }
  var names$x = ["Mercator", "Popular Visualisation Pseudo Mercator", "Mercator_1SP", "Mercator_Auxiliary_Sphere", "merc"];
  const _0xb12c73 = {
    init: init$w,
    forward: forward$v,
    inverse: inverse$v,
    names: names$x
  };
  var merc = _0xb12c73;
  function init$v() {}
  function identity(_0x51fd52) {
    return _0x51fd52;
  }
  var names$w = ["longlat", "identity"];
  const _0x1e51a1 = {
    init: init$v,
    forward: identity,
    inverse: identity,
    names: names$w
  };
  var longlat = _0x1e51a1;
  var projs = [merc, longlat];
  var names$v = {};
  var projStore = [];
  function add$1(_0x4a04f2, _0x378ecb) {
    var _0x1c5e3b = projStore.length;
    if (!_0x4a04f2.names) {
      console.log(_0x378ecb);
      return true;
    }
    projStore[_0x1c5e3b] = _0x4a04f2;
    _0x4a04f2.names.forEach(function (_0x4c0075) {
      names$v[_0x4c0075.toLowerCase()] = _0x1c5e3b;
    });
    return this;
  }
  function get$1(_0x2f07e2) {
    if (!_0x2f07e2) {
      return false;
    }
    var _0x4c65ba = _0x2f07e2.toLowerCase();
    if (typeof names$v[_0x4c65ba] !== "undefined" && projStore[names$v[_0x4c65ba]]) {
      return projStore[names$v[_0x4c65ba]];
    }
  }
  function start() {
    projs.forEach(add$1);
  }
  const _0x19fc28 = {
    start: start,
    add: add$1,
    get: get$1
  };
  var projections = _0x19fc28;
  var exports$2 = {};
  exports$2.MERIT = {
    a: 6378137,
    rf: 298.257,
    ellipseName: "MERIT 1983"
  };
  exports$2.SGS85 = {
    a: 6378136,
    rf: 298.257,
    ellipseName: "Soviet Geodetic System 85"
  };
  exports$2.GRS80 = {
    a: 6378137,
    rf: 298.257222101,
    ellipseName: "GRS 1980(IUGG, 1980)"
  };
  exports$2.IAU76 = {
    a: 6378140,
    rf: 298.257,
    ellipseName: "IAU 1976"
  };
  exports$2.airy = {
    a: 6377563.396,
    b: 6356256.91,
    ellipseName: "Airy 1830"
  };
  exports$2.APL4 = {
    a: 6378137,
    rf: 298.25,
    ellipseName: "Appl. Physics. 1965"
  };
  exports$2.NWL9D = {
    a: 6378145,
    rf: 298.25,
    ellipseName: "Naval Weapons Lab., 1965"
  };
  exports$2.mod_airy = {
    a: 6377340.189,
    b: 6356034.446,
    ellipseName: "Modified Airy"
  };
  exports$2.andrae = {
    a: 6377104.43,
    rf: 300,
    ellipseName: "Andrae 1876 (Den., Iclnd.)"
  };
  exports$2.aust_SA = {
    a: 6378160,
    rf: 298.25,
    ellipseName: "Australian Natl & S. Amer. 1969"
  };
  exports$2.GRS67 = {
    a: 6378160,
    rf: 298.247167427,
    ellipseName: "GRS 67(IUGG 1967)"
  };
  exports$2.bessel = {
    a: 6377397.155,
    rf: 299.1528128,
    ellipseName: "Bessel 1841"
  };
  exports$2.bess_nam = {
    a: 6377483.865,
    rf: 299.1528128,
    ellipseName: "Bessel 1841 (Namibia)"
  };
  exports$2.clrk66 = {
    a: 6378206.4,
    b: 6356583.8,
    ellipseName: "Clarke 1866"
  };
  exports$2.clrk80 = {
    a: 6378249.145,
    rf: 293.4663,
    ellipseName: "Clarke 1880 mod."
  };
  exports$2.clrk80ign = {
    a: 6378249.2,
    b: 6356515,
    rf: 293.4660213,
    ellipseName: "Clarke 1880 (IGN)"
  };
  exports$2.clrk58 = {
    a: 6378293.645208759,
    rf: 294.2606763692654,
    ellipseName: "Clarke 1858"
  };
  exports$2.CPM = {
    a: 6375738.7,
    rf: 334.29,
    ellipseName: "Comm. des Poids et Mesures 1799"
  };
  exports$2.delmbr = {
    a: 6376428,
    rf: 311.5,
    ellipseName: "Delambre 1810 (Belgium)"
  };
  exports$2.engelis = {
    a: 6378136.05,
    rf: 298.2566,
    ellipseName: "Engelis 1985"
  };
  exports$2.evrst30 = {
    a: 6377276.345,
    rf: 300.8017,
    ellipseName: "Everest 1830"
  };
  exports$2.evrst48 = {
    a: 6377304.063,
    rf: 300.8017,
    ellipseName: "Everest 1948"
  };
  exports$2.evrst56 = {
    a: 6377301.243,
    rf: 300.8017,
    ellipseName: "Everest 1956"
  };
  exports$2.evrst69 = {
    a: 6377295.664,
    rf: 300.8017,
    ellipseName: "Everest 1969"
  };
  exports$2.evrstSS = {
    a: 6377298.556,
    rf: 300.8017,
    ellipseName: "Everest (Sabah & Sarawak)"
  };
  exports$2.fschr60 = {
    a: 6378166,
    rf: 298.3,
    ellipseName: "Fischer (Mercury Datum) 1960"
  };
  exports$2.fschr60m = {
    a: 6378155,
    rf: 298.3,
    ellipseName: "Fischer 1960"
  };
  exports$2.fschr68 = {
    a: 6378150,
    rf: 298.3,
    ellipseName: "Fischer 1968"
  };
  exports$2.helmert = {
    a: 6378200,
    rf: 298.3,
    ellipseName: "Helmert 1906"
  };
  exports$2.hough = {
    a: 6378270,
    rf: 297,
    ellipseName: "Hough"
  };
  exports$2.intl = {
    a: 6378388,
    rf: 297,
    ellipseName: "International 1909 (Hayford)"
  };
  exports$2.kaula = {
    a: 6378163,
    rf: 298.24,
    ellipseName: "Kaula 1961"
  };
  exports$2.lerch = {
    a: 6378139,
    rf: 298.257,
    ellipseName: "Lerch 1979"
  };
  exports$2.mprts = {
    a: 6397300,
    rf: 191,
    ellipseName: "Maupertius 1738"
  };
  exports$2.new_intl = {
    a: 6378157.5,
    b: 6356772.2,
    ellipseName: "New International 1967"
  };
  exports$2.plessis = {
    a: 6376523,
    rf: 6355863,
    ellipseName: "Plessis 1817 (France)"
  };
  exports$2.krass = {
    a: 6378245,
    rf: 298.3,
    ellipseName: "Krassovsky, 1942"
  };
  exports$2.SEasia = {
    a: 6378155,
    b: 6356773.3205,
    ellipseName: "Southeast Asia"
  };
  exports$2.walbeck = {
    a: 6376896,
    b: 6355834.8467,
    ellipseName: "Walbeck"
  };
  exports$2.WGS60 = {
    a: 6378165,
    rf: 298.3,
    ellipseName: "WGS 60"
  };
  exports$2.WGS66 = {
    a: 6378145,
    rf: 298.25,
    ellipseName: "WGS 66"
  };
  exports$2.WGS7 = {
    a: 6378135,
    rf: 298.26,
    ellipseName: "WGS 72"
  };
  var WGS84 = exports$2.WGS84 = {
    a: 6378137,
    rf: 298.257223563,
    ellipseName: "WGS 84"
  };
  exports$2.sphere = {
    a: 6370997,
    b: 6370997,
    ellipseName: "Normal Sphere (r=6370997)"
  };
  function eccentricity(_0x3bd7c1, _0x577cbd, _0x4a0f3f, _0x5a26e9) {
    var _0x4f15c6 = _0x3bd7c1 * _0x3bd7c1;
    var _0x4a52b3 = _0x577cbd * _0x577cbd;
    var _0x171fe9 = (_0x4f15c6 - _0x4a52b3) / _0x4f15c6;
    var _0x356b28 = 0;
    if (_0x5a26e9) {
      _0x3bd7c1 *= 1 - _0x171fe9 * (SIXTH + _0x171fe9 * (RA4 + _0x171fe9 * RA6));
      _0x4f15c6 = _0x3bd7c1 * _0x3bd7c1;
      _0x171fe9 = 0;
    } else {
      _0x356b28 = Math.sqrt(_0x171fe9);
    }
    var _0xdeafdb = (_0x4f15c6 - _0x4a52b3) / _0x4a52b3;
    const _0x2a7773 = {
      es: _0x171fe9,
      e: _0x356b28,
      ep2: _0xdeafdb
    };
    return _0x2a7773;
  }
  function sphere(_0x2c1730, _0x3301d2, _0x413580, _0x34b5b2, _0x2d6b6b) {
    if (!_0x2c1730) {
      var _0x374f98 = match(exports$2, _0x34b5b2);
      if (!_0x374f98) {
        _0x374f98 = WGS84;
      }
      _0x2c1730 = _0x374f98.a;
      _0x3301d2 = _0x374f98.b;
      _0x413580 = _0x374f98.rf;
    }
    if (_0x413580 && !_0x3301d2) {
      _0x3301d2 = (1 - 1 / _0x413580) * _0x2c1730;
    }
    if (_0x413580 === 0 || Math.abs(_0x2c1730 - _0x3301d2) < EPSLN) {
      _0x2d6b6b = true;
      _0x3301d2 = _0x2c1730;
    }
    const _0x5cd607 = {
      a: _0x2c1730,
      b: _0x3301d2,
      rf: _0x413580,
      sphere: _0x2d6b6b
    };
    return _0x5cd607;
  }
  var exports$1 = {};
  exports$1.wgs84 = {
    towgs84: "0,0,0",
    ellipse: "WGS84",
    datumName: "WGS84"
  };
  exports$1.ch1903 = {
    towgs84: "674.374,15.056,405.346",
    ellipse: "bessel",
    datumName: "swiss"
  };
  exports$1.ggrs87 = {
    towgs84: "-199.87,74.79,246.62",
    ellipse: "GRS80",
    datumName: "Greek_Geodetic_Reference_System_1987"
  };
  exports$1.nad83 = {
    towgs84: "0,0,0",
    ellipse: "GRS80",
    datumName: "North_American_Datum_1983"
  };
  exports$1.nad27 = {
    nadgrids: "@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",
    ellipse: "clrk66",
    datumName: "North_American_Datum_1927"
  };
  exports$1.potsdam = {
    towgs84: "598.1,73.7,418.2,0.202,0.045,-2.455,6.7",
    ellipse: "bessel",
    datumName: "Potsdam Rauenberg 1950 DHDN"
  };
  exports$1.carthage = {
    towgs84: "-263.0,6.0,431.0",
    ellipse: "clark80",
    datumName: "Carthage 1934 Tunisia"
  };
  exports$1.hermannskogel = {
    towgs84: "577.326,90.129,463.919,5.137,1.474,5.297,2.4232",
    ellipse: "bessel",
    datumName: "Hermannskogel"
  };
  exports$1.militargeographische_institut = {
    towgs84: "577.326,90.129,463.919,5.137,1.474,5.297,2.4232",
    ellipse: "bessel",
    datumName: "Militar-Geographische Institut"
  };
  exports$1.osni52 = {
    towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
    ellipse: "airy",
    datumName: "Irish National"
  };
  exports$1.ire65 = {
    towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
    ellipse: "mod_airy",
    datumName: "Ireland 1965"
  };
  exports$1.rassadiran = {
    towgs84: "-133.63,-157.5,-158.62",
    ellipse: "intl",
    datumName: "Rassadiran"
  };
  exports$1.nzgd49 = {
    towgs84: "59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",
    ellipse: "intl",
    datumName: "New Zealand Geodetic Datum 1949"
  };
  exports$1.osgb36 = {
    towgs84: "446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",
    ellipse: "airy",
    datumName: "Airy 1830"
  };
  exports$1.s_jtsk = {
    towgs84: "589,76,480",
    ellipse: "bessel",
    datumName: "S-JTSK (Ferro)"
  };
  exports$1.beduaram = {
    towgs84: "-106,-87,188",
    ellipse: "clrk80",
    datumName: "Beduaram"
  };
  exports$1.gunung_segara = {
    towgs84: "-403,684,41",
    ellipse: "bessel",
    datumName: "Gunung Segara Jakarta"
  };
  exports$1.rnb72 = {
    towgs84: "106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",
    ellipse: "intl",
    datumName: "Reseau National Belge 1972"
  };
  function datum(_0x4740cc, _0x5b551a, _0x429eb4, _0x340d54, _0x222f21, _0x43bd66, _0x434a9b) {
    var _0x1236e9 = {};
    if (_0x4740cc === undefined || _0x4740cc === "none") {
      _0x1236e9.datum_type = PJD_NODATUM;
    } else {
      _0x1236e9.datum_type = PJD_WGS84;
    }
    if (_0x5b551a) {
      _0x1236e9.datum_params = _0x5b551a.map(parseFloat);
      if (_0x1236e9.datum_params[0] !== 0 || _0x1236e9.datum_params[1] !== 0 || _0x1236e9.datum_params[2] !== 0) {
        _0x1236e9.datum_type = PJD_3PARAM;
      }
      if (_0x1236e9.datum_params.length > 3) {
        if (_0x1236e9.datum_params[3] !== 0 || _0x1236e9.datum_params[4] !== 0 || _0x1236e9.datum_params[5] !== 0 || _0x1236e9.datum_params[6] !== 0) {
          _0x1236e9.datum_type = PJD_7PARAM;
          _0x1236e9.datum_params[3] *= SEC_TO_RAD;
          _0x1236e9.datum_params[4] *= SEC_TO_RAD;
          _0x1236e9.datum_params[5] *= SEC_TO_RAD;
          _0x1236e9.datum_params[6] = _0x1236e9.datum_params[6] / 1000000 + 1;
        }
      }
    }
    if (_0x434a9b) {
      _0x1236e9.datum_type = PJD_GRIDSHIFT;
      _0x1236e9.grids = _0x434a9b;
    }
    _0x1236e9.a = _0x429eb4;
    _0x1236e9.b = _0x340d54;
    _0x1236e9.es = _0x222f21;
    _0x1236e9.ep2 = _0x43bd66;
    return _0x1236e9;
  }
  var loadedNadgrids = {};
  function nadgrid(_0x2cbe2f, _0x78a048) {
    var _0x329867 = new DataView(_0x78a048);
    var _0xb9d2d0 = detectLittleEndian(_0x329867);
    var _0xc8c773 = readHeader(_0x329867, _0xb9d2d0);
    var _0x2dbf64 = readSubgrids(_0x329867, _0xc8c773, _0xb9d2d0);
    const _0x6641ee = {
      header: _0xc8c773,
      subgrids: _0x2dbf64
    };
    var _0x39fe21 = _0x6641ee;
    loadedNadgrids[_0x2cbe2f] = _0x39fe21;
    return _0x39fe21;
  }
  function getNadgrids(_0x562643) {
    if (_0x562643 === undefined) {
      return null;
    }
    var _0x437cf0 = _0x562643.split(",");
    return _0x437cf0.map(parseNadgridString);
  }
  function parseNadgridString(_0x147cc9) {
    if (_0x147cc9.length === 0) {
      return null;
    }
    var _0x5be0b4 = _0x147cc9[0] === "@";
    if (_0x5be0b4) {
      _0x147cc9 = _0x147cc9.slice(1);
    }
    if (_0x147cc9 === "null") {
      const _0x14a6cd = {
        name: "null",
        mandatory: !_0x5be0b4,
        grid: null,
        isNull: true
      };
      return _0x14a6cd;
    }
    const _0x15595f = {
      name: _0x147cc9,
      mandatory: !_0x5be0b4,
      grid: loadedNadgrids[_0x147cc9] || null,
      isNull: false
    };
    return _0x15595f;
  }
  function secondsToRadians(_0x1f1b46) {
    return _0x1f1b46 / 3600 * Math.PI / 180;
  }
  function detectLittleEndian(_0x4be89e) {
    var _0x56d45b = _0x4be89e.getInt32(8, false);
    if (_0x56d45b === 11) {
      return false;
    }
    _0x56d45b = _0x4be89e.getInt32(8, true);
    if (_0x56d45b !== 11) {
      console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");
    }
    return true;
  }
  function readHeader(_0x334825, _0x54c8bc) {
    return {
      nFields: _0x334825.getInt32(8, _0x54c8bc),
      nSubgridFields: _0x334825.getInt32(24, _0x54c8bc),
      nSubgrids: _0x334825.getInt32(40, _0x54c8bc),
      shiftType: decodeString(_0x334825, 56, 64).trim(),
      fromSemiMajorAxis: _0x334825.getFloat64(120, _0x54c8bc),
      fromSemiMinorAxis: _0x334825.getFloat64(136, _0x54c8bc),
      toSemiMajorAxis: _0x334825.getFloat64(152, _0x54c8bc),
      toSemiMinorAxis: _0x334825.getFloat64(168, _0x54c8bc)
    };
  }
  function decodeString(_0x5a3dfa, _0x478585, _0x3557b3) {
    return String.fromCharCode.apply(null, new Uint8Array(_0x5a3dfa.buffer.slice(_0x478585, _0x3557b3)));
  }
  function readSubgrids(_0x272ef6, _0x407b8b, _0x123eb9) {
    var _0x46e234 = 176;
    var _0xc1ca06 = [];
    for (var _0x481177 = 0; _0x481177 < _0x407b8b.nSubgrids; _0x481177++) {
      var _0x4f6f7c = readGridHeader(_0x272ef6, _0x46e234, _0x123eb9);
      var _0x4fea07 = readGridNodes(_0x272ef6, _0x46e234, _0x4f6f7c, _0x123eb9);
      var _0x59af9f = Math.round(1 + (_0x4f6f7c.upperLongitude - _0x4f6f7c.lowerLongitude) / _0x4f6f7c.longitudeInterval);
      var _0x569201 = Math.round(1 + (_0x4f6f7c.upperLatitude - _0x4f6f7c.lowerLatitude) / _0x4f6f7c.latitudeInterval);
      _0xc1ca06.push({
        ll: [secondsToRadians(_0x4f6f7c.lowerLongitude), secondsToRadians(_0x4f6f7c.lowerLatitude)],
        del: [secondsToRadians(_0x4f6f7c.longitudeInterval), secondsToRadians(_0x4f6f7c.latitudeInterval)],
        lim: [_0x59af9f, _0x569201],
        count: _0x4f6f7c.gridNodeCount,
        cvs: mapNodes(_0x4fea07)
      });
      _0x46e234 += 176 + _0x4f6f7c.gridNodeCount * 16;
    }
    return _0xc1ca06;
  }
  function mapNodes(_0x15a491) {
    return _0x15a491.map(function (_0x12ad61) {
      return [secondsToRadians(_0x12ad61.longitudeShift), secondsToRadians(_0x12ad61.latitudeShift)];
    });
  }
  function readGridHeader(_0x320c69, _0x35b6c2, _0x2ed85d) {
    return {
      name: decodeString(_0x320c69, _0x35b6c2 + 8, _0x35b6c2 + 16).trim(),
      parent: decodeString(_0x320c69, _0x35b6c2 + 24, _0x35b6c2 + 24 + 8).trim(),
      lowerLatitude: _0x320c69.getFloat64(_0x35b6c2 + 72, _0x2ed85d),
      upperLatitude: _0x320c69.getFloat64(_0x35b6c2 + 88, _0x2ed85d),
      lowerLongitude: _0x320c69.getFloat64(_0x35b6c2 + 104, _0x2ed85d),
      upperLongitude: _0x320c69.getFloat64(_0x35b6c2 + 120, _0x2ed85d),
      latitudeInterval: _0x320c69.getFloat64(_0x35b6c2 + 136, _0x2ed85d),
      longitudeInterval: _0x320c69.getFloat64(_0x35b6c2 + 152, _0x2ed85d),
      gridNodeCount: _0x320c69.getInt32(_0x35b6c2 + 168, _0x2ed85d)
    };
  }
  function readGridNodes(_0x1408fe, _0x57a923, _0x5467c5, _0x377a27) {
    var _0xc7d41b = _0x57a923 + 176;
    var _0x3432e0 = 16;
    var _0x574d49 = [];
    for (var _0x3061f8 = 0; _0x3061f8 < _0x5467c5.gridNodeCount; _0x3061f8++) {
      var _0x50b9bd = {
        latitudeShift: _0x1408fe.getFloat32(_0xc7d41b + _0x3061f8 * _0x3432e0, _0x377a27),
        longitudeShift: _0x1408fe.getFloat32(_0xc7d41b + _0x3061f8 * _0x3432e0 + 4, _0x377a27),
        latitudeAccuracy: _0x1408fe.getFloat32(_0xc7d41b + _0x3061f8 * _0x3432e0 + 8, _0x377a27),
        longitudeAccuracy: _0x1408fe.getFloat32(_0xc7d41b + _0x3061f8 * _0x3432e0 + 12, _0x377a27)
      };
      _0x574d49.push(_0x50b9bd);
    }
    return _0x574d49;
  }
  function Projection(_0x503126, _0x205193) {
    if (!(this instanceof Projection)) {
      return new Projection(_0x503126);
    }
    _0x205193 = _0x205193 || function (_0x474534) {
      if (_0x474534) {
        throw _0x474534;
      }
    };
    var _0x5d9861 = parse(_0x503126);
    if (typeof _0x5d9861 !== "object") {
      _0x205193(_0x503126);
      return;
    }
    var _0x5c020a = Projection.projections.get(_0x5d9861.projName);
    if (!_0x5c020a) {
      _0x205193(_0x503126);
      return;
    }
    if (_0x5d9861.datumCode && _0x5d9861.datumCode !== "none") {
      var _0x57db44 = match(exports$1, _0x5d9861.datumCode);
      if (_0x57db44) {
        _0x5d9861.datum_params = _0x5d9861.datum_params || (_0x57db44.towgs84 ? _0x57db44.towgs84.split(",") : null);
        _0x5d9861.ellps = _0x57db44.ellipse;
        _0x5d9861.datumName = _0x57db44.datumName ? _0x57db44.datumName : _0x5d9861.datumCode;
      }
    }
    _0x5d9861.k0 = _0x5d9861.k0 || 1;
    _0x5d9861.axis = _0x5d9861.axis || "enu";
    _0x5d9861.ellps = _0x5d9861.ellps || "wgs84";
    _0x5d9861.lat1 = _0x5d9861.lat1 || _0x5d9861.lat0;
    var _0x191968 = sphere(_0x5d9861.a, _0x5d9861.b, _0x5d9861.rf, _0x5d9861.ellps, _0x5d9861.sphere);
    var _0x5c672b = eccentricity(_0x191968.a, _0x191968.b, _0x191968.rf, _0x5d9861.R_A);
    var _0x5dec4b = getNadgrids(_0x5d9861.nadgrids);
    var _0x10238 = _0x5d9861.datum || datum(_0x5d9861.datumCode, _0x5d9861.datum_params, _0x191968.a, _0x191968.b, _0x5c672b.es, _0x5c672b.ep2, _0x5dec4b);
    extend(this, _0x5d9861);
    extend(this, _0x5c020a);
    this.a = _0x191968.a;
    this.b = _0x191968.b;
    this.rf = _0x191968.rf;
    this.sphere = _0x191968.sphere;
    this.es = _0x5c672b.es;
    this.e = _0x5c672b.e;
    this.ep2 = _0x5c672b.ep2;
    this.datum = _0x10238;
    this.init();
    _0x205193(null, this);
  }
  Projection.projections = projections;
  Projection.projections.start();
  function compareDatums(_0x490a9e, _0x430cb5) {
    if (_0x490a9e.datum_type !== _0x430cb5.datum_type) {
      return false;
    } else if (_0x490a9e.a !== _0x430cb5.a || Math.abs(_0x490a9e.es - _0x430cb5.es) > 5e-11) {
      return false;
    } else if (_0x490a9e.datum_type === PJD_3PARAM) {
      return _0x490a9e.datum_params[0] === _0x430cb5.datum_params[0] && _0x490a9e.datum_params[1] === _0x430cb5.datum_params[1] && _0x490a9e.datum_params[2] === _0x430cb5.datum_params[2];
    } else if (_0x490a9e.datum_type === PJD_7PARAM) {
      return _0x490a9e.datum_params[0] === _0x430cb5.datum_params[0] && _0x490a9e.datum_params[1] === _0x430cb5.datum_params[1] && _0x490a9e.datum_params[2] === _0x430cb5.datum_params[2] && _0x490a9e.datum_params[3] === _0x430cb5.datum_params[3] && _0x490a9e.datum_params[4] === _0x430cb5.datum_params[4] && _0x490a9e.datum_params[5] === _0x430cb5.datum_params[5] && _0x490a9e.datum_params[6] === _0x430cb5.datum_params[6];
    } else {
      return true;
    }
  }
  function geodeticToGeocentric(_0x5ba42b, _0x4cc88b, _0x384ba3) {
    var _0x28e310 = _0x5ba42b.x;
    var _0x5794f6 = _0x5ba42b.y;
    var _0x59a48c = _0x5ba42b.z ? _0x5ba42b.z : 0;
    var _0x135320;
    var _0x509e4c;
    var _0x221a63;
    var _0x646fd5;
    if (_0x5794f6 < -HALF_PI && _0x5794f6 > HALF_PI * -1.001) {
      _0x5794f6 = -HALF_PI;
    } else if (_0x5794f6 > HALF_PI && _0x5794f6 < HALF_PI * 1.001) {
      _0x5794f6 = HALF_PI;
    } else if (_0x5794f6 < -HALF_PI) {
      const _0x21c8c1 = {
        x: -Infinity,
        y: -Infinity,
        z: _0x5ba42b.z
      };
      return _0x21c8c1;
    } else if (_0x5794f6 > HALF_PI) {
      const _0x28c342 = {
        x: Infinity,
        y: Infinity,
        z: _0x5ba42b.z
      };
      return _0x28c342;
    }
    if (_0x28e310 > Math.PI) {
      _0x28e310 -= Math.PI * 2;
    }
    _0x509e4c = Math.sin(_0x5794f6);
    _0x646fd5 = Math.cos(_0x5794f6);
    _0x221a63 = _0x509e4c * _0x509e4c;
    _0x135320 = _0x384ba3 / Math.sqrt(1 - _0x4cc88b * _0x221a63);
    return {
      x: (_0x135320 + _0x59a48c) * _0x646fd5 * Math.cos(_0x28e310),
      y: (_0x135320 + _0x59a48c) * _0x646fd5 * Math.sin(_0x28e310),
      z: (_0x135320 * (1 - _0x4cc88b) + _0x59a48c) * _0x509e4c
    };
  }
  function geocentricToGeodetic(_0x591b60, _0x394fbe, _0x169e5c, _0x5ab71a) {
    var _0x2c1b32 = 1e-12;
    var _0x17a4b6 = _0x2c1b32 * _0x2c1b32;
    var _0xda9d1b = 30;
    var _0x242b47;
    var _0x4b0dab;
    var _0x4ea111;
    var _0x2ae18f;
    var _0x5bb10b;
    var _0x4743d2;
    var _0xd0684d;
    var _0x45b152;
    var _0x2edd18;
    var _0xc26857;
    var _0x497e3e;
    var _0x29b6f5;
    var _0x52b8b8;
    var _0x344b9d = _0x591b60.x;
    var _0x31272e = _0x591b60.y;
    var _0x1b7199 = _0x591b60.z ? _0x591b60.z : 0;
    var _0x184d57;
    var _0x56b9c2;
    var _0x51be7f;
    _0x242b47 = Math.sqrt(_0x344b9d * _0x344b9d + _0x31272e * _0x31272e);
    _0x4b0dab = Math.sqrt(_0x344b9d * _0x344b9d + _0x31272e * _0x31272e + _0x1b7199 * _0x1b7199);
    if (_0x242b47 / _0x169e5c < _0x2c1b32) {
      _0x184d57 = 0;
      if (_0x4b0dab / _0x169e5c < _0x2c1b32) {
        _0x56b9c2 = HALF_PI;
        _0x51be7f = -_0x5ab71a;
        const _0x231595 = {
          x: _0x591b60.x,
          y: _0x591b60.y,
          z: _0x591b60.z
        };
        return _0x231595;
      }
    } else {
      _0x184d57 = Math.atan2(_0x31272e, _0x344b9d);
    }
    _0x4ea111 = _0x1b7199 / _0x4b0dab;
    _0x2ae18f = _0x242b47 / _0x4b0dab;
    _0x5bb10b = 1 / Math.sqrt(1 - _0x394fbe * (2 - _0x394fbe) * _0x2ae18f * _0x2ae18f);
    _0x45b152 = _0x2ae18f * (1 - _0x394fbe) * _0x5bb10b;
    _0x2edd18 = _0x4ea111 * _0x5bb10b;
    _0x52b8b8 = 0;
    do {
      _0x52b8b8++;
      _0xd0684d = _0x169e5c / Math.sqrt(1 - _0x394fbe * _0x2edd18 * _0x2edd18);
      _0x51be7f = _0x242b47 * _0x45b152 + _0x1b7199 * _0x2edd18 - _0xd0684d * (1 - _0x394fbe * _0x2edd18 * _0x2edd18);
      _0x4743d2 = _0x394fbe * _0xd0684d / (_0xd0684d + _0x51be7f);
      _0x5bb10b = 1 / Math.sqrt(1 - _0x4743d2 * (2 - _0x4743d2) * _0x2ae18f * _0x2ae18f);
      _0xc26857 = _0x2ae18f * (1 - _0x4743d2) * _0x5bb10b;
      _0x497e3e = _0x4ea111 * _0x5bb10b;
      _0x29b6f5 = _0x497e3e * _0x45b152 - _0xc26857 * _0x2edd18;
      _0x45b152 = _0xc26857;
      _0x2edd18 = _0x497e3e;
    } while (_0x29b6f5 * _0x29b6f5 > _0x17a4b6 && _0x52b8b8 < _0xda9d1b);
    _0x56b9c2 = Math.atan(_0x497e3e / Math.abs(_0xc26857));
    const _0x26418d = {
      x: _0x184d57,
      y: _0x56b9c2,
      z: _0x51be7f
    };
    return _0x26418d;
  }
  function geocentricToWgs84(_0xfc1b99, _0xd4c64b, _0x10f641) {
    if (_0xd4c64b === PJD_3PARAM) {
      const _0x441c71 = {
        x: _0xfc1b99.x + _0x10f641[0],
        y: _0xfc1b99.y + _0x10f641[1],
        z: _0xfc1b99.z + _0x10f641[2]
      };
      return _0x441c71;
    } else if (_0xd4c64b === PJD_7PARAM) {
      var _0x3bae65 = _0x10f641[0];
      var _0x5200cd = _0x10f641[1];
      var _0x969da8 = _0x10f641[2];
      var _0x801b8b = _0x10f641[3];
      var _0x4b32d0 = _0x10f641[4];
      var _0x49068a = _0x10f641[5];
      var _0x3963ef = _0x10f641[6];
      const _0x2cc5c8 = {
        x: _0x3963ef * (_0xfc1b99.x - _0x49068a * _0xfc1b99.y + _0x4b32d0 * _0xfc1b99.z) + _0x3bae65,
        y: _0x3963ef * (_0x49068a * _0xfc1b99.x + _0xfc1b99.y - _0x801b8b * _0xfc1b99.z) + _0x5200cd,
        z: _0x3963ef * (-_0x4b32d0 * _0xfc1b99.x + _0x801b8b * _0xfc1b99.y + _0xfc1b99.z) + _0x969da8
      };
      return _0x2cc5c8;
    }
  }
  function geocentricFromWgs84(_0x287e44, _0x2fe5c3, _0x6b3498) {
    if (_0x2fe5c3 === PJD_3PARAM) {
      const _0x40fe8f = {
        x: _0x287e44.x - _0x6b3498[0],
        y: _0x287e44.y - _0x6b3498[1],
        z: _0x287e44.z - _0x6b3498[2]
      };
      return _0x40fe8f;
    } else if (_0x2fe5c3 === PJD_7PARAM) {
      var _0x34686c = _0x6b3498[0];
      var _0x1015eb = _0x6b3498[1];
      var _0x4ee728 = _0x6b3498[2];
      var _0x505dfd = _0x6b3498[3];
      var _0x51e731 = _0x6b3498[4];
      var _0x3d9c1c = _0x6b3498[5];
      var _0x372d3b = _0x6b3498[6];
      var _0x413ecd = (_0x287e44.x - _0x34686c) / _0x372d3b;
      var _0x4037d5 = (_0x287e44.y - _0x1015eb) / _0x372d3b;
      var _0x5c4dd3 = (_0x287e44.z - _0x4ee728) / _0x372d3b;
      const _0x554aa7 = {
        x: _0x413ecd + _0x3d9c1c * _0x4037d5 - _0x51e731 * _0x5c4dd3,
        y: -_0x3d9c1c * _0x413ecd + _0x4037d5 + _0x505dfd * _0x5c4dd3,
        z: _0x51e731 * _0x413ecd - _0x505dfd * _0x4037d5 + _0x5c4dd3
      };
      return _0x554aa7;
    }
  }
  function checkParams(_0x4a7188) {
    return _0x4a7188 === PJD_3PARAM || _0x4a7188 === PJD_7PARAM;
  }
  function datum_transform(_0x1605f9, _0x1b4c3a, _0x522887) {
    if (compareDatums(_0x1605f9, _0x1b4c3a)) {
      return _0x522887;
    }
    if (_0x1605f9.datum_type === PJD_NODATUM || _0x1b4c3a.datum_type === PJD_NODATUM) {
      return _0x522887;
    }
    var _0x251103 = _0x1605f9.a;
    var _0x3fe51e = _0x1605f9.es;
    if (_0x1605f9.datum_type === PJD_GRIDSHIFT) {
      var _0x2b84e9 = applyGridShift(_0x1605f9, false, _0x522887);
      if (_0x2b84e9 !== 0) {
        return undefined;
      }
      _0x251103 = SRS_WGS84_SEMIMAJOR;
      _0x3fe51e = SRS_WGS84_ESQUARED;
    }
    var _0x3bcf63 = _0x1b4c3a.a;
    var _0x5eef92 = _0x1b4c3a.b;
    var _0x5d9376 = _0x1b4c3a.es;
    if (_0x1b4c3a.datum_type === PJD_GRIDSHIFT) {
      _0x3bcf63 = SRS_WGS84_SEMIMAJOR;
      _0x5eef92 = SRS_WGS84_SEMIMINOR;
      _0x5d9376 = SRS_WGS84_ESQUARED;
    }
    if (_0x3fe51e === _0x5d9376 && _0x251103 === _0x3bcf63 && !checkParams(_0x1605f9.datum_type) && !checkParams(_0x1b4c3a.datum_type)) {
      return _0x522887;
    }
    _0x522887 = geodeticToGeocentric(_0x522887, _0x3fe51e, _0x251103);
    if (checkParams(_0x1605f9.datum_type)) {
      _0x522887 = geocentricToWgs84(_0x522887, _0x1605f9.datum_type, _0x1605f9.datum_params);
    }
    if (checkParams(_0x1b4c3a.datum_type)) {
      _0x522887 = geocentricFromWgs84(_0x522887, _0x1b4c3a.datum_type, _0x1b4c3a.datum_params);
    }
    _0x522887 = geocentricToGeodetic(_0x522887, _0x5d9376, _0x3bcf63, _0x5eef92);
    if (_0x1b4c3a.datum_type === PJD_GRIDSHIFT) {
      var _0x256262 = applyGridShift(_0x1b4c3a, true, _0x522887);
      if (_0x256262 !== 0) {
        return undefined;
      }
    }
    return _0x522887;
  }
  function applyGridShift(_0x21a29a, _0x2ca17d, _0x1291c9) {
    if (_0x21a29a.grids === null || _0x21a29a.grids.length === 0) {
      console.log("Grid shift grids not found");
      return -1;
    }
    const _0x7a43b1 = {
      x: -_0x1291c9.x,
      y: _0x1291c9.y
    };
    var _0x526be2 = _0x7a43b1;
    const _0x3defde = {
      x: Number.NaN,
      y: Number.NaN
    };
    var _0x1d17a9 = _0x3defde;
    var _0x32e241 = [];
    _0x33fec8: for (var _0x262af5 = 0; _0x262af5 < _0x21a29a.grids.length; _0x262af5++) {
      var _0x46b1fa = _0x21a29a.grids[_0x262af5];
      _0x32e241.push(_0x46b1fa.name);
      if (_0x46b1fa.isNull) {
        _0x1d17a9 = _0x526be2;
        break;
      }
      _0x46b1fa.mandatory;
      if (_0x46b1fa.grid === null) {
        if (_0x46b1fa.mandatory) {
          console.log("Unable to find mandatory grid '" + _0x46b1fa.name + "'");
          return -1;
        }
        continue;
      }
      var _0x428514 = _0x46b1fa.grid.subgrids;
      for (var _0x4c04cf = 0, _0x57fea5 = _0x428514.length; _0x4c04cf < _0x57fea5; _0x4c04cf++) {
        var _0x46550f = _0x428514[_0x4c04cf];
        var _0x360525 = (Math.abs(_0x46550f.del[1]) + Math.abs(_0x46550f.del[0])) / 10000;
        var _0x295904 = _0x46550f.ll[0] - _0x360525;
        var _0xfeef0d = _0x46550f.ll[1] - _0x360525;
        var _0x731d5f = _0x46550f.ll[0] + (_0x46550f.lim[0] - 1) * _0x46550f.del[0] + _0x360525;
        var _0x241d72 = _0x46550f.ll[1] + (_0x46550f.lim[1] - 1) * _0x46550f.del[1] + _0x360525;
        if (_0xfeef0d > _0x526be2.y || _0x295904 > _0x526be2.x || _0x241d72 < _0x526be2.y || _0x731d5f < _0x526be2.x) {
          continue;
        }
        _0x1d17a9 = applySubgridShift(_0x526be2, _0x2ca17d, _0x46550f);
        if (!isNaN(_0x1d17a9.x)) {
          break _0x33fec8;
        }
      }
    }
    if (isNaN(_0x1d17a9.x)) {
      console.log("Failed to find a grid shift table for location '" + -_0x526be2.x * R2D + " " + _0x526be2.y * R2D + " tried: '" + _0x32e241 + "'");
      return -1;
    }
    _0x1291c9.x = -_0x1d17a9.x;
    _0x1291c9.y = _0x1d17a9.y;
    return 0;
  }
  function applySubgridShift(_0x261675, _0x5c68a6, _0x215223) {
    const _0x3c4444 = {
      x: Number.NaN,
      y: Number.NaN
    };
    var _0x39883b = _0x3c4444;
    if (isNaN(_0x261675.x)) {
      return _0x39883b;
    }
    const _0x4d250f = {
      x: _0x261675.x,
      y: _0x261675.y
    };
    var _0x41000c = _0x4d250f;
    _0x41000c.x -= _0x215223.ll[0];
    _0x41000c.y -= _0x215223.ll[1];
    _0x41000c.x = adjust_lon(_0x41000c.x - Math.PI) + Math.PI;
    var _0x74ea30 = nadInterpolate(_0x41000c, _0x215223);
    if (_0x5c68a6) {
      if (isNaN(_0x74ea30.x)) {
        return _0x39883b;
      }
      _0x74ea30.x = _0x41000c.x - _0x74ea30.x;
      _0x74ea30.y = _0x41000c.y - _0x74ea30.y;
      var _0x11c9d6 = 9;
      var _0x357541 = 1e-12;
      var _0x5490ef;
      var _0x5b90fe;
      do {
        _0x5b90fe = nadInterpolate(_0x74ea30, _0x215223);
        if (isNaN(_0x5b90fe.x)) {
          console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");
          break;
        }
        const _0x454e51 = {
          x: _0x41000c.x - (_0x5b90fe.x + _0x74ea30.x),
          y: _0x41000c.y - (_0x5b90fe.y + _0x74ea30.y)
        };
        _0x5490ef = _0x454e51;
        _0x74ea30.x += _0x5490ef.x;
        _0x74ea30.y += _0x5490ef.y;
      } while (_0x11c9d6-- && Math.abs(_0x5490ef.x) > _0x357541 && Math.abs(_0x5490ef.y) > _0x357541);
      if (_0x11c9d6 < 0) {
        console.log("Inverse grid shift iterator failed to converge.");
        return _0x39883b;
      }
      _0x39883b.x = adjust_lon(_0x74ea30.x + _0x215223.ll[0]);
      _0x39883b.y = _0x74ea30.y + _0x215223.ll[1];
    } else if (!isNaN(_0x74ea30.x)) {
      _0x39883b.x = _0x261675.x + _0x74ea30.x;
      _0x39883b.y = _0x261675.y + _0x74ea30.y;
    }
    return _0x39883b;
  }
  function nadInterpolate(_0x59b298, _0x3791e7) {
    const _0x18bd01 = {
      x: _0x59b298.x / _0x3791e7.del[0],
      y: _0x59b298.y / _0x3791e7.del[1]
    };
    var _0xfbe098 = _0x18bd01;
    var _0x37fbaf = {
      x: Math.floor(_0xfbe098.x),
      y: Math.floor(_0xfbe098.y)
    };
    const _0x22cd35 = {
      x: _0xfbe098.x - _0x37fbaf.x * 1,
      y: _0xfbe098.y - _0x37fbaf.y * 1
    };
    var _0x11f573 = _0x22cd35;
    const _0x5683f4 = {
      x: Number.NaN,
      y: Number.NaN
    };
    var _0xd9eae = _0x5683f4;
    var _0x52ad8d;
    if (_0x37fbaf.x < 0 || _0x37fbaf.x >= _0x3791e7.lim[0]) {
      return _0xd9eae;
    }
    if (_0x37fbaf.y < 0 || _0x37fbaf.y >= _0x3791e7.lim[1]) {
      return _0xd9eae;
    }
    _0x52ad8d = _0x37fbaf.y * _0x3791e7.lim[0] + _0x37fbaf.x;
    const _0x46af96 = {
      x: _0x3791e7.cvs[_0x52ad8d][0],
      y: _0x3791e7.cvs[_0x52ad8d][1]
    };
    var _0x16f5c6 = _0x46af96;
    _0x52ad8d++;
    const _0x22cbd3 = {
      x: _0x3791e7.cvs[_0x52ad8d][0],
      y: _0x3791e7.cvs[_0x52ad8d][1]
    };
    var _0x64c2b6 = _0x22cbd3;
    _0x52ad8d += _0x3791e7.lim[0];
    const _0x9924ea = {
      x: _0x3791e7.cvs[_0x52ad8d][0],
      y: _0x3791e7.cvs[_0x52ad8d][1]
    };
    var _0x442810 = _0x9924ea;
    _0x52ad8d--;
    const _0xf133fb = {
      x: _0x3791e7.cvs[_0x52ad8d][0],
      y: _0x3791e7.cvs[_0x52ad8d][1]
    };
    var _0x1b2acf = _0xf133fb;
    var _0x10213e = _0x11f573.x * _0x11f573.y;
    var _0x2d4743 = _0x11f573.x * (1 - _0x11f573.y);
    var _0x4cce80 = (1 - _0x11f573.x) * (1 - _0x11f573.y);
    var _0x336c67 = (1 - _0x11f573.x) * _0x11f573.y;
    _0xd9eae.x = _0x4cce80 * _0x16f5c6.x + _0x2d4743 * _0x64c2b6.x + _0x336c67 * _0x1b2acf.x + _0x10213e * _0x442810.x;
    _0xd9eae.y = _0x4cce80 * _0x16f5c6.y + _0x2d4743 * _0x64c2b6.y + _0x336c67 * _0x1b2acf.y + _0x10213e * _0x442810.y;
    return _0xd9eae;
  }
  function adjust_axis(_0x2d8ed6, _0x14a9ab, _0x41db1e) {
    var _0x44d876 = _0x41db1e.x;
    var _0x330f13 = _0x41db1e.y;
    var _0x18d3f2 = _0x41db1e.z || 0;
    var _0x51dfbb;
    var _0x14385a;
    var _0x3b0420;
    var _0x2ec1e8 = {};
    for (_0x3b0420 = 0; _0x3b0420 < 3; _0x3b0420++) {
      if (_0x14a9ab && _0x3b0420 === 2 && _0x41db1e.z === undefined) {
        continue;
      }
      if (_0x3b0420 === 0) {
        _0x51dfbb = _0x44d876;
        if ("ew".indexOf(_0x2d8ed6.axis[_0x3b0420]) !== -1) {
          _0x14385a = "x";
        } else {
          _0x14385a = "y";
        }
      } else if (_0x3b0420 === 1) {
        _0x51dfbb = _0x330f13;
        if ("ns".indexOf(_0x2d8ed6.axis[_0x3b0420]) !== -1) {
          _0x14385a = "y";
        } else {
          _0x14385a = "x";
        }
      } else {
        _0x51dfbb = _0x18d3f2;
        _0x14385a = "z";
      }
      switch (_0x2d8ed6.axis[_0x3b0420]) {
        case "e":
          _0x2ec1e8[_0x14385a] = _0x51dfbb;
          break;
        case "w":
          _0x2ec1e8[_0x14385a] = -_0x51dfbb;
          break;
        case "n":
          _0x2ec1e8[_0x14385a] = _0x51dfbb;
          break;
        case "s":
          _0x2ec1e8[_0x14385a] = -_0x51dfbb;
          break;
        case "u":
          if (_0x41db1e[_0x14385a] !== undefined) {
            _0x2ec1e8.z = _0x51dfbb;
          }
          break;
        case "d":
          if (_0x41db1e[_0x14385a] !== undefined) {
            _0x2ec1e8.z = -_0x51dfbb;
          }
          break;
        default:
          return null;
      }
    }
    return _0x2ec1e8;
  }
  function common(_0x41ae18) {
    const _0xb1d50a = {
      x: _0x41ae18[0],
      y: _0x41ae18[1]
    };
    var _0x1c0099 = _0xb1d50a;
    if (_0x41ae18.length > 2) {
      _0x1c0099.z = _0x41ae18[2];
    }
    if (_0x41ae18.length > 3) {
      _0x1c0099.m = _0x41ae18[3];
    }
    return _0x1c0099;
  }
  function checkSanity(_0x5638de) {
    checkCoord(_0x5638de.x);
    checkCoord(_0x5638de.y);
  }
  function checkCoord(_0xd812f7) {
    if (typeof Number.isFinite === "function") {
      if (Number.isFinite(_0xd812f7)) {
        return;
      }
      throw new TypeError("coordinates must be finite numbers");
    }
    if (typeof _0xd812f7 !== "number" || _0xd812f7 !== _0xd812f7 || !isFinite(_0xd812f7)) {
      throw new TypeError("coordinates must be finite numbers");
    }
  }
  function checkNotWGS(_0x6d104e, _0x523fcd) {
    return (_0x6d104e.datum.datum_type === PJD_3PARAM || _0x6d104e.datum.datum_type === PJD_7PARAM || _0x6d104e.datum.datum_type === PJD_GRIDSHIFT) && _0x523fcd.datumCode !== "WGS84" || (_0x523fcd.datum.datum_type === PJD_3PARAM || _0x523fcd.datum.datum_type === PJD_7PARAM || _0x523fcd.datum.datum_type === PJD_GRIDSHIFT) && _0x6d104e.datumCode !== "WGS84";
  }
  function transform(_0x34155d, _0x2ab0d4, _0x372601, _0x4c01d6) {
    var _0x50a9d8;
    if (Array.isArray(_0x372601)) {
      _0x372601 = common(_0x372601);
    } else {
      _0x372601 = {
        x: _0x372601.x,
        y: _0x372601.y,
        z: _0x372601.z,
        m: _0x372601.m
      };
    }
    var _0x2bb921 = _0x372601.z !== undefined;
    checkSanity(_0x372601);
    if (_0x34155d.datum && _0x2ab0d4.datum && checkNotWGS(_0x34155d, _0x2ab0d4)) {
      _0x50a9d8 = new Projection("WGS84");
      _0x372601 = transform(_0x34155d, _0x50a9d8, _0x372601, _0x4c01d6);
      _0x34155d = _0x50a9d8;
    }
    if (_0x4c01d6 && _0x34155d.axis !== "enu") {
      _0x372601 = adjust_axis(_0x34155d, false, _0x372601);
    }
    if (_0x34155d.projName === "longlat") {
      _0x372601 = {
        x: _0x372601.x * D2R$1,
        y: _0x372601.y * D2R$1,
        z: _0x372601.z || 0
      };
    } else {
      if (_0x34155d.to_meter) {
        _0x372601 = {
          x: _0x372601.x * _0x34155d.to_meter,
          y: _0x372601.y * _0x34155d.to_meter,
          z: _0x372601.z || 0
        };
      }
      _0x372601 = _0x34155d.inverse(_0x372601);
      if (!_0x372601) {
        return;
      }
    }
    if (_0x34155d.from_greenwich) {
      _0x372601.x += _0x34155d.from_greenwich;
    }
    _0x372601 = datum_transform(_0x34155d.datum, _0x2ab0d4.datum, _0x372601);
    if (!_0x372601) {
      return;
    }
    if (_0x2ab0d4.from_greenwich) {
      _0x372601 = {
        x: _0x372601.x - _0x2ab0d4.from_greenwich,
        y: _0x372601.y,
        z: _0x372601.z || 0
      };
    }
    if (_0x2ab0d4.projName === "longlat") {
      _0x372601 = {
        x: _0x372601.x * R2D,
        y: _0x372601.y * R2D,
        z: _0x372601.z || 0
      };
    } else {
      _0x372601 = _0x2ab0d4.forward(_0x372601);
      if (_0x2ab0d4.to_meter) {
        _0x372601 = {
          x: _0x372601.x / _0x2ab0d4.to_meter,
          y: _0x372601.y / _0x2ab0d4.to_meter,
          z: _0x372601.z || 0
        };
      }
    }
    if (_0x4c01d6 && _0x2ab0d4.axis !== "enu") {
      return adjust_axis(_0x2ab0d4, true, _0x372601);
    }
    if (_0x372601 && !_0x2bb921) {
      delete _0x372601.z;
    }
    return _0x372601;
  }
  var wgs84 = Projection("WGS84");
  function transformer(_0x31e640, _0x48ca5c, _0x4b7ddf, _0x540ac2) {
    var _0xd1ef05;
    var _0x39044e;
    var _0x45806a;
    if (Array.isArray(_0x4b7ddf)) {
      const _0x20920a = {
        x: NaN,
        y: NaN
      };
      _0xd1ef05 = transform(_0x31e640, _0x48ca5c, _0x4b7ddf, _0x540ac2) || _0x20920a;
      if (_0x4b7ddf.length > 2) {
        if (typeof _0x31e640.name !== "undefined" && _0x31e640.name === "geocent" || typeof _0x48ca5c.name !== "undefined" && _0x48ca5c.name === "geocent") {
          if (typeof _0xd1ef05.z === "number") {
            return [_0xd1ef05.x, _0xd1ef05.y, _0xd1ef05.z].concat(_0x4b7ddf.splice(3));
          } else {
            return [_0xd1ef05.x, _0xd1ef05.y, _0x4b7ddf[2]].concat(_0x4b7ddf.splice(3));
          }
        } else {
          return [_0xd1ef05.x, _0xd1ef05.y].concat(_0x4b7ddf.splice(2));
        }
      } else {
        return [_0xd1ef05.x, _0xd1ef05.y];
      }
    } else {
      _0x39044e = transform(_0x31e640, _0x48ca5c, _0x4b7ddf, _0x540ac2);
      _0x45806a = Object.keys(_0x4b7ddf);
      if (_0x45806a.length === 2) {
        return _0x39044e;
      }
      _0x45806a.forEach(function (_0x3c5376) {
        if (typeof _0x31e640.name !== "undefined" && _0x31e640.name === "geocent" || typeof _0x48ca5c.name !== "undefined" && _0x48ca5c.name === "geocent") {
          if (_0x3c5376 === "x" || _0x3c5376 === "y" || _0x3c5376 === "z") {
            return;
          }
        } else if (_0x3c5376 === "x" || _0x3c5376 === "y") {
          return;
        }
        _0x39044e[_0x3c5376] = _0x4b7ddf[_0x3c5376];
      });
      return _0x39044e;
    }
  }
  function checkProj(_0x2354f7) {
    if (_0x2354f7 instanceof Projection) {
      return _0x2354f7;
    }
    if (_0x2354f7.oProj) {
      return _0x2354f7.oProj;
    }
    return Projection(_0x2354f7);
  }
  function proj4(_0x193850, _0x3dbf0a, _0x8b18da) {
    _0x193850 = checkProj(_0x193850);
    var _0x1f2506 = false;
    var _0x4d5a42;
    if (typeof _0x3dbf0a === "undefined") {
      _0x3dbf0a = _0x193850;
      _0x193850 = wgs84;
      _0x1f2506 = true;
    } else if (typeof _0x3dbf0a.x !== "undefined" || Array.isArray(_0x3dbf0a)) {
      _0x8b18da = _0x3dbf0a;
      _0x3dbf0a = _0x193850;
      _0x193850 = wgs84;
      _0x1f2506 = true;
    }
    _0x3dbf0a = checkProj(_0x3dbf0a);
    if (_0x8b18da) {
      return transformer(_0x193850, _0x3dbf0a, _0x8b18da);
    } else {
      _0x4d5a42 = {
        forward: function (_0xf4432e, _0x29853d) {
          return transformer(_0x193850, _0x3dbf0a, _0xf4432e, _0x29853d);
        },
        inverse: function (_0x33b262, _0x2b8faa) {
          return transformer(_0x3dbf0a, _0x193850, _0x33b262, _0x2b8faa);
        }
      };
      if (_0x1f2506) {
        _0x4d5a42.oProj = _0x3dbf0a;
      }
      return _0x4d5a42;
    }
  }
  var NUM_100K_SETS = 6;
  var SET_ORIGIN_COLUMN_LETTERS = "AJSAJS";
  var SET_ORIGIN_ROW_LETTERS = "AFAFAF";
  var A = 65;
  var I = 73;
  var O = 79;
  var V = 86;
  var Z = 90;
  const _0x99e626 = {
    forward: forward$u,
    inverse: inverse$u,
    toPoint: toPoint
  };
  var mgrs = _0x99e626;
  function forward$u(_0x11f16d, _0x7a3d16) {
    _0x7a3d16 = _0x7a3d16 || 5;
    const _0x27d454 = {
      lat: _0x11f16d[1],
      lon: _0x11f16d[0]
    };
    return encode$1(LLtoUTM(_0x27d454), _0x7a3d16);
  }
  function inverse$u(_0xb6640b) {
    var _0x1420b3 = UTMtoLL(decode(_0xb6640b.toUpperCase()));
    if (_0x1420b3.lat && _0x1420b3.lon) {
      return [_0x1420b3.lon, _0x1420b3.lat, _0x1420b3.lon, _0x1420b3.lat];
    }
    return [_0x1420b3.left, _0x1420b3.bottom, _0x1420b3.right, _0x1420b3.top];
  }
  function toPoint(_0x5dcff5) {
    var _0x3cc09c = UTMtoLL(decode(_0x5dcff5.toUpperCase()));
    if (_0x3cc09c.lat && _0x3cc09c.lon) {
      return [_0x3cc09c.lon, _0x3cc09c.lat];
    }
    return [(_0x3cc09c.left + _0x3cc09c.right) / 2, (_0x3cc09c.top + _0x3cc09c.bottom) / 2];
  }
  function degToRad(_0x385ef2) {
    return _0x385ef2 * (Math.PI / 180);
  }
  function radToDeg(_0x2b90a4) {
    return _0x2b90a4 / Math.PI * 180;
  }
  function LLtoUTM(_0x3f05d2) {
    var _0x45f3d4 = _0x3f05d2.lat;
    var _0x517b14 = _0x3f05d2.lon;
    var _0x3b4969 = 6378137;
    var _0x438f3a = 0.00669438;
    var _0x8b09ef = 0.9996;
    var _0x546a82;
    var _0x1c4377;
    var _0x47523c;
    var _0x4f3c95;
    var _0x4aa4e9;
    var _0x233a36;
    var _0x49be61;
    var _0x25b252 = degToRad(_0x45f3d4);
    var _0x57b481 = degToRad(_0x517b14);
    var _0x3de60a;
    var _0x4979d5;
    _0x4979d5 = Math.floor((_0x517b14 + 180) / 6) + 1;
    if (_0x517b14 === 180) {
      _0x4979d5 = 60;
    }
    if (_0x45f3d4 >= 56 && _0x45f3d4 < 64 && _0x517b14 >= 3 && _0x517b14 < 12) {
      _0x4979d5 = 32;
    }
    if (_0x45f3d4 >= 72 && _0x45f3d4 < 84) {
      if (_0x517b14 >= 0 && _0x517b14 < 9) {
        _0x4979d5 = 31;
      } else if (_0x517b14 >= 9 && _0x517b14 < 21) {
        _0x4979d5 = 33;
      } else if (_0x517b14 >= 21 && _0x517b14 < 33) {
        _0x4979d5 = 35;
      } else if (_0x517b14 >= 33 && _0x517b14 < 42) {
        _0x4979d5 = 37;
      }
    }
    _0x546a82 = (_0x4979d5 - 1) * 6 - 180 + 3;
    _0x3de60a = degToRad(_0x546a82);
    _0x1c4377 = _0x438f3a / (1 - _0x438f3a);
    _0x47523c = _0x3b4969 / Math.sqrt(1 - _0x438f3a * Math.sin(_0x25b252) * Math.sin(_0x25b252));
    _0x4f3c95 = Math.tan(_0x25b252) * Math.tan(_0x25b252);
    _0x4aa4e9 = _0x1c4377 * Math.cos(_0x25b252) * Math.cos(_0x25b252);
    _0x233a36 = Math.cos(_0x25b252) * (_0x57b481 - _0x3de60a);
    _0x49be61 = _0x3b4969 * ((1 - _0x438f3a / 4 - _0x438f3a * 3 * _0x438f3a / 64 - _0x438f3a * 5 * _0x438f3a * _0x438f3a / 256) * _0x25b252 - (_0x438f3a * 3 / 8 + _0x438f3a * 3 * _0x438f3a / 32 + _0x438f3a * 45 * _0x438f3a * _0x438f3a / 1024) * Math.sin(_0x25b252 * 2) + (_0x438f3a * 15 * _0x438f3a / 256 + _0x438f3a * 45 * _0x438f3a * _0x438f3a / 1024) * Math.sin(_0x25b252 * 4) - _0x438f3a * 35 * _0x438f3a * _0x438f3a / 3072 * Math.sin(_0x25b252 * 6));
    var _0x2703a4 = _0x8b09ef * _0x47523c * (_0x233a36 + (1 - _0x4f3c95 + _0x4aa4e9) * _0x233a36 * _0x233a36 * _0x233a36 / 6 + (5 - _0x4f3c95 * 18 + _0x4f3c95 * _0x4f3c95 + _0x4aa4e9 * 72 - _0x1c4377 * 58) * _0x233a36 * _0x233a36 * _0x233a36 * _0x233a36 * _0x233a36 / 120) + 500000;
    var _0xb7aea9 = _0x8b09ef * (_0x49be61 + _0x47523c * Math.tan(_0x25b252) * (_0x233a36 * _0x233a36 / 2 + (5 - _0x4f3c95 + _0x4aa4e9 * 9 + _0x4aa4e9 * 4 * _0x4aa4e9) * _0x233a36 * _0x233a36 * _0x233a36 * _0x233a36 / 24 + (61 - _0x4f3c95 * 58 + _0x4f3c95 * _0x4f3c95 + _0x4aa4e9 * 600 - _0x1c4377 * 330) * _0x233a36 * _0x233a36 * _0x233a36 * _0x233a36 * _0x233a36 * _0x233a36 / 720));
    if (_0x45f3d4 < 0) {
      _0xb7aea9 += 10000000;
    }
    return {
      northing: Math.round(_0xb7aea9),
      easting: Math.round(_0x2703a4),
      zoneNumber: _0x4979d5,
      zoneLetter: getLetterDesignator(_0x45f3d4)
    };
  }
  function UTMtoLL(_0x40b0af) {
    var _0x466ac8 = _0x40b0af.northing;
    var _0x46fd6f = _0x40b0af.easting;
    var _0x22c714 = _0x40b0af.zoneLetter;
    var _0x1cbefc = _0x40b0af.zoneNumber;
    if (_0x1cbefc < 0 || _0x1cbefc > 60) {
      return null;
    }
    var _0x14ec55 = 0.9996;
    var _0x2a06ca = 6378137;
    var _0x2d3c4c = 0.00669438;
    var _0x1d3ee2;
    var _0x273778 = (1 - Math.sqrt(1 - _0x2d3c4c)) / (1 + Math.sqrt(1 - _0x2d3c4c));
    var _0x5dcf31;
    var _0xd93d61;
    var _0xa009d9;
    var _0x4cc9b4;
    var _0x18c0ac;
    var _0x25c7f9;
    var _0x57607b;
    var _0x544c8a;
    var _0x209285;
    var _0x19a420 = _0x46fd6f - 500000;
    var _0x2c8717 = _0x466ac8;
    if (_0x22c714 < "N") {
      _0x2c8717 -= 10000000;
    }
    _0x57607b = (_0x1cbefc - 1) * 6 - 180 + 3;
    _0x1d3ee2 = _0x2d3c4c / (1 - _0x2d3c4c);
    _0x25c7f9 = _0x2c8717 / _0x14ec55;
    _0x544c8a = _0x25c7f9 / (_0x2a06ca * (1 - _0x2d3c4c / 4 - _0x2d3c4c * 3 * _0x2d3c4c / 64 - _0x2d3c4c * 5 * _0x2d3c4c * _0x2d3c4c / 256));
    _0x209285 = _0x544c8a + (_0x273778 * 3 / 2 - _0x273778 * 27 * _0x273778 * _0x273778 / 32) * Math.sin(_0x544c8a * 2) + (_0x273778 * 21 * _0x273778 / 16 - _0x273778 * 55 * _0x273778 * _0x273778 * _0x273778 / 32) * Math.sin(_0x544c8a * 4) + _0x273778 * 151 * _0x273778 * _0x273778 / 96 * Math.sin(_0x544c8a * 6);
    _0x5dcf31 = _0x2a06ca / Math.sqrt(1 - _0x2d3c4c * Math.sin(_0x209285) * Math.sin(_0x209285));
    _0xd93d61 = Math.tan(_0x209285) * Math.tan(_0x209285);
    _0xa009d9 = _0x1d3ee2 * Math.cos(_0x209285) * Math.cos(_0x209285);
    _0x4cc9b4 = _0x2a06ca * (1 - _0x2d3c4c) / Math.pow(1 - _0x2d3c4c * Math.sin(_0x209285) * Math.sin(_0x209285), 1.5);
    _0x18c0ac = _0x19a420 / (_0x5dcf31 * _0x14ec55);
    var _0x2db231 = _0x209285 - _0x5dcf31 * Math.tan(_0x209285) / _0x4cc9b4 * (_0x18c0ac * _0x18c0ac / 2 - (5 + _0xd93d61 * 3 + _0xa009d9 * 10 - _0xa009d9 * 4 * _0xa009d9 - _0x1d3ee2 * 9) * _0x18c0ac * _0x18c0ac * _0x18c0ac * _0x18c0ac / 24 + (61 + _0xd93d61 * 90 + _0xa009d9 * 298 + _0xd93d61 * 45 * _0xd93d61 - _0x1d3ee2 * 252 - _0xa009d9 * 3 * _0xa009d9) * _0x18c0ac * _0x18c0ac * _0x18c0ac * _0x18c0ac * _0x18c0ac * _0x18c0ac / 720);
    _0x2db231 = radToDeg(_0x2db231);
    var _0x27fe90 = (_0x18c0ac - (1 + _0xd93d61 * 2 + _0xa009d9) * _0x18c0ac * _0x18c0ac * _0x18c0ac / 6 + (5 - _0xa009d9 * 2 + _0xd93d61 * 28 - _0xa009d9 * 3 * _0xa009d9 + _0x1d3ee2 * 8 + _0xd93d61 * 24 * _0xd93d61) * _0x18c0ac * _0x18c0ac * _0x18c0ac * _0x18c0ac * _0x18c0ac / 120) / Math.cos(_0x209285);
    _0x27fe90 = _0x57607b + radToDeg(_0x27fe90);
    var _0x5555bf;
    if (_0x40b0af.accuracy) {
      const _0x37ea43 = {
        northing: _0x40b0af.northing + _0x40b0af.accuracy,
        easting: _0x40b0af.easting + _0x40b0af.accuracy,
        zoneLetter: _0x40b0af.zoneLetter,
        zoneNumber: _0x40b0af.zoneNumber
      };
      var _0x2f6fe6 = UTMtoLL(_0x37ea43);
      const _0xf42e12 = {
        top: _0x2f6fe6.lat,
        right: _0x2f6fe6.lon,
        bottom: _0x2db231,
        left: _0x27fe90
      };
      _0x5555bf = _0xf42e12;
    } else {
      const _0x6b184e = {
        lat: _0x2db231,
        lon: _0x27fe90
      };
      _0x5555bf = _0x6b184e;
    }
    return _0x5555bf;
  }
  function getLetterDesignator(_0x10e89b) {
    var _0xb62d52 = "Z";
    if (_0x10e89b <= 84 && _0x10e89b >= 72) {
      _0xb62d52 = "X";
    } else if (_0x10e89b < 72 && _0x10e89b >= 64) {
      _0xb62d52 = "W";
    } else if (_0x10e89b < 64 && _0x10e89b >= 56) {
      _0xb62d52 = "V";
    } else if (_0x10e89b < 56 && _0x10e89b >= 48) {
      _0xb62d52 = "U";
    } else if (_0x10e89b < 48 && _0x10e89b >= 40) {
      _0xb62d52 = "T";
    } else if (_0x10e89b < 40 && _0x10e89b >= 32) {
      _0xb62d52 = "S";
    } else if (_0x10e89b < 32 && _0x10e89b >= 24) {
      _0xb62d52 = "R";
    } else if (_0x10e89b < 24 && _0x10e89b >= 16) {
      _0xb62d52 = "Q";
    } else if (_0x10e89b < 16 && _0x10e89b >= 8) {
      _0xb62d52 = "P";
    } else if (_0x10e89b < 8 && _0x10e89b >= 0) {
      _0xb62d52 = "N";
    } else if (_0x10e89b < 0 && _0x10e89b >= -8) {
      _0xb62d52 = "M";
    } else if (_0x10e89b < -8 && _0x10e89b >= -16) {
      _0xb62d52 = "L";
    } else if (_0x10e89b < -16 && _0x10e89b >= -24) {
      _0xb62d52 = "K";
    } else if (_0x10e89b < -24 && _0x10e89b >= -32) {
      _0xb62d52 = "J";
    } else if (_0x10e89b < -32 && _0x10e89b >= -40) {
      _0xb62d52 = "H";
    } else if (_0x10e89b < -40 && _0x10e89b >= -48) {
      _0xb62d52 = "G";
    } else if (_0x10e89b < -48 && _0x10e89b >= -56) {
      _0xb62d52 = "F";
    } else if (_0x10e89b < -56 && _0x10e89b >= -64) {
      _0xb62d52 = "E";
    } else if (_0x10e89b < -64 && _0x10e89b >= -72) {
      _0xb62d52 = "D";
    } else if (_0x10e89b < -72 && _0x10e89b >= -80) {
      _0xb62d52 = "C";
    }
    return _0xb62d52;
  }
  function encode$1(_0x27d3e9, _0x287428) {
    var _0x403397 = "00000" + _0x27d3e9.easting;
    var _0x50d507 = "00000" + _0x27d3e9.northing;
    return _0x27d3e9.zoneNumber + _0x27d3e9.zoneLetter + get100kID(_0x27d3e9.easting, _0x27d3e9.northing, _0x27d3e9.zoneNumber) + _0x403397.substr(_0x403397.length - 5, _0x287428) + _0x50d507.substr(_0x50d507.length - 5, _0x287428);
  }
  function get100kID(_0x22317d, _0x195826, _0x47dba1) {
    var _0x15989f = get100kSetForZone(_0x47dba1);
    var _0x41b70f = Math.floor(_0x22317d / 100000);
    var _0x2660d1 = Math.floor(_0x195826 / 100000) % 20;
    return getLetter100kID(_0x41b70f, _0x2660d1, _0x15989f);
  }
  function get100kSetForZone(_0x4680ea) {
    var _0x1c6e42 = _0x4680ea % NUM_100K_SETS;
    if (_0x1c6e42 === 0) {
      _0x1c6e42 = NUM_100K_SETS;
    }
    return _0x1c6e42;
  }
  function getLetter100kID(_0xcf598d, _0x42caff, _0x3a87d9) {
    var _0x26aa69 = _0x3a87d9 - 1;
    var _0x566f14 = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(_0x26aa69);
    var _0x505b36 = SET_ORIGIN_ROW_LETTERS.charCodeAt(_0x26aa69);
    var _0x24dcec = _0x566f14 + _0xcf598d - 1;
    var _0x42efd7 = _0x505b36 + _0x42caff;
    var _0x236392 = false;
    if (_0x24dcec > Z) {
      _0x24dcec = _0x24dcec - Z + A - 1;
      _0x236392 = true;
    }
    if (_0x24dcec === I || _0x566f14 < I && _0x24dcec > I || (_0x24dcec > I || _0x566f14 < I) && _0x236392) {
      _0x24dcec++;
    }
    if (_0x24dcec === O || _0x566f14 < O && _0x24dcec > O || (_0x24dcec > O || _0x566f14 < O) && _0x236392) {
      _0x24dcec++;
      if (_0x24dcec === I) {
        _0x24dcec++;
      }
    }
    if (_0x24dcec > Z) {
      _0x24dcec = _0x24dcec - Z + A - 1;
    }
    if (_0x42efd7 > V) {
      _0x42efd7 = _0x42efd7 - V + A - 1;
      _0x236392 = true;
    } else {
      _0x236392 = false;
    }
    if (_0x42efd7 === I || _0x505b36 < I && _0x42efd7 > I || (_0x42efd7 > I || _0x505b36 < I) && _0x236392) {
      _0x42efd7++;
    }
    if (_0x42efd7 === O || _0x505b36 < O && _0x42efd7 > O || (_0x42efd7 > O || _0x505b36 < O) && _0x236392) {
      _0x42efd7++;
      if (_0x42efd7 === I) {
        _0x42efd7++;
      }
    }
    if (_0x42efd7 > V) {
      _0x42efd7 = _0x42efd7 - V + A - 1;
    }
    var _0x19f20f = String.fromCharCode(_0x24dcec) + String.fromCharCode(_0x42efd7);
    return _0x19f20f;
  }
  function decode(_0x5bc6a1) {
    if (_0x5bc6a1 && _0x5bc6a1.length === 0) {
      throw "MGRSPoint coverting from nothing";
    }
    var _0x1695e1 = _0x5bc6a1.length;
    var _0x187b9d = null;
    var _0x282805 = "";
    var _0x5118d7;
    var _0xf88dc8 = 0;
    while (!/[A-Z]/.test(_0x5118d7 = _0x5bc6a1.charAt(_0xf88dc8))) {
      if (_0xf88dc8 >= 2) {
        throw "MGRSPoint bad conversion from: " + _0x5bc6a1;
      }
      _0x282805 += _0x5118d7;
      _0xf88dc8++;
    }
    var _0x8076d7 = parseInt(_0x282805, 10);
    if (_0xf88dc8 === 0 || _0xf88dc8 + 3 > _0x1695e1) {
      throw "MGRSPoint bad conversion from: " + _0x5bc6a1;
    }
    var _0x4f4b48 = _0x5bc6a1.charAt(_0xf88dc8++);
    if (_0x4f4b48 <= "A" || _0x4f4b48 === "B" || _0x4f4b48 === "Y" || _0x4f4b48 >= "Z" || _0x4f4b48 === "I" || _0x4f4b48 === "O") {
      throw "MGRSPoint zone letter " + _0x4f4b48 + " not handled: " + _0x5bc6a1;
    }
    _0x187b9d = _0x5bc6a1.substring(_0xf88dc8, _0xf88dc8 += 2);
    var _0x4eb189 = get100kSetForZone(_0x8076d7);
    var _0x319b05 = getEastingFromChar(_0x187b9d.charAt(0), _0x4eb189);
    var _0x45a178 = getNorthingFromChar(_0x187b9d.charAt(1), _0x4eb189);
    while (_0x45a178 < getMinNorthing(_0x4f4b48)) {
      _0x45a178 += 2000000;
    }
    var _0x2c0fb3 = _0x1695e1 - _0xf88dc8;
    if (_0x2c0fb3 % 2 !== 0) {
      throw "MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters" + _0x5bc6a1;
    }
    var _0xfe507d = _0x2c0fb3 / 2;
    var _0x5dea72 = 0;
    var _0x6be47f = 0;
    var _0x4ffeea;
    var _0x911312;
    var _0x528d57;
    var _0x2926f4;
    var _0x5369f5;
    if (_0xfe507d > 0) {
      _0x4ffeea = 100000 / Math.pow(10, _0xfe507d);
      _0x911312 = _0x5bc6a1.substring(_0xf88dc8, _0xf88dc8 + _0xfe507d);
      _0x5dea72 = parseFloat(_0x911312) * _0x4ffeea;
      _0x528d57 = _0x5bc6a1.substring(_0xf88dc8 + _0xfe507d);
      _0x6be47f = parseFloat(_0x528d57) * _0x4ffeea;
    }
    _0x2926f4 = _0x5dea72 + _0x319b05;
    _0x5369f5 = _0x6be47f + _0x45a178;
    const _0x32023c = {
      easting: _0x2926f4,
      northing: _0x5369f5,
      zoneLetter: _0x4f4b48,
      zoneNumber: _0x8076d7,
      accuracy: _0x4ffeea
    };
    return _0x32023c;
  }
  function getEastingFromChar(_0x2df7ab, _0x22dc8a) {
    var _0x40f0cb = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(_0x22dc8a - 1);
    var _0x18962b = 100000;
    var _0x1b2582 = false;
    while (_0x40f0cb !== _0x2df7ab.charCodeAt(0)) {
      _0x40f0cb++;
      if (_0x40f0cb === I) {
        _0x40f0cb++;
      }
      if (_0x40f0cb === O) {
        _0x40f0cb++;
      }
      if (_0x40f0cb > Z) {
        if (_0x1b2582) {
          throw "Bad character: " + _0x2df7ab;
        }
        _0x40f0cb = A;
        _0x1b2582 = true;
      }
      _0x18962b += 100000;
    }
    return _0x18962b;
  }
  function getNorthingFromChar(_0x402d39, _0x2b8822) {
    if (_0x402d39 > "V") {
      throw "MGRSPoint given invalid Northing " + _0x402d39;
    }
    var _0x4fb5e9 = SET_ORIGIN_ROW_LETTERS.charCodeAt(_0x2b8822 - 1);
    var _0x47b8a8 = 0;
    var _0xe3cdbf = false;
    while (_0x4fb5e9 !== _0x402d39.charCodeAt(0)) {
      _0x4fb5e9++;
      if (_0x4fb5e9 === I) {
        _0x4fb5e9++;
      }
      if (_0x4fb5e9 === O) {
        _0x4fb5e9++;
      }
      if (_0x4fb5e9 > V) {
        if (_0xe3cdbf) {
          throw "Bad character: " + _0x402d39;
        }
        _0x4fb5e9 = A;
        _0xe3cdbf = true;
      }
      _0x47b8a8 += 100000;
    }
    return _0x47b8a8;
  }
  function getMinNorthing(_0x2b3c27) {
    var _0x30e27c;
    switch (_0x2b3c27) {
      case "C":
        _0x30e27c = 1100000;
        break;
      case "D":
        _0x30e27c = 2000000;
        break;
      case "E":
        _0x30e27c = 2800000;
        break;
      case "F":
        _0x30e27c = 3700000;
        break;
      case "G":
        _0x30e27c = 4600000;
        break;
      case "H":
        _0x30e27c = 5500000;
        break;
      case "J":
        _0x30e27c = 6400000;
        break;
      case "K":
        _0x30e27c = 7300000;
        break;
      case "L":
        _0x30e27c = 8200000;
        break;
      case "M":
        _0x30e27c = 9100000;
        break;
      case "N":
        _0x30e27c = 0;
        break;
      case "P":
        _0x30e27c = 800000;
        break;
      case "Q":
        _0x30e27c = 1700000;
        break;
      case "R":
        _0x30e27c = 2600000;
        break;
      case "S":
        _0x30e27c = 3500000;
        break;
      case "T":
        _0x30e27c = 4400000;
        break;
      case "U":
        _0x30e27c = 5300000;
        break;
      case "V":
        _0x30e27c = 6200000;
        break;
      case "W":
        _0x30e27c = 7000000;
        break;
      case "X":
        _0x30e27c = 7900000;
        break;
      default:
        _0x30e27c = -1;
    }
    if (_0x30e27c >= 0) {
      return _0x30e27c;
    } else {
      throw "Invalid zone letter: " + _0x2b3c27;
    }
  }
  function Point(_0x5cfe14, _0x1a1f0e, _0x4b378e) {
    if (!(this instanceof Point)) {
      return new Point(_0x5cfe14, _0x1a1f0e, _0x4b378e);
    }
    if (Array.isArray(_0x5cfe14)) {
      this.x = _0x5cfe14[0];
      this.y = _0x5cfe14[1];
      this.z = _0x5cfe14[2] || 0;
    } else if (typeof _0x5cfe14 === "object") {
      this.x = _0x5cfe14.x;
      this.y = _0x5cfe14.y;
      this.z = _0x5cfe14.z || 0;
    } else if (typeof _0x5cfe14 === "string" && typeof _0x1a1f0e === "undefined") {
      var _0x3ce41a = _0x5cfe14.split(",");
      this.x = parseFloat(_0x3ce41a[0], 10);
      this.y = parseFloat(_0x3ce41a[1], 10);
      this.z = parseFloat(_0x3ce41a[2], 10) || 0;
    } else {
      this.x = _0x5cfe14;
      this.y = _0x1a1f0e;
      this.z = _0x4b378e || 0;
    }
    console.warn("proj4.Point will be removed in version 3, use proj4.toPoint");
  }
  Point.fromMGRS = function (_0xa72826) {
    return new Point(toPoint(_0xa72826));
  };
  Point.prototype.toMGRS = function (_0x17f1d5) {
    return forward$u([this.x, this.y], _0x17f1d5);
  };
  var C00 = 1;
  var C02 = 0.25;
  var C04 = 0.046875;
  var C06 = 0.01953125;
  var C08 = 0.01068115234375;
  var C22 = 0.75;
  var C44 = 0.46875;
  var C46 = 0.013020833333333334;
  var C48 = 0.007120768229166667;
  var C66 = 0.3645833333333333;
  var C68 = 0.005696614583333333;
  var C88 = 0.3076171875;
  function pj_enfn(_0x46c94b) {
    var _0xc7d483 = [];
    _0xc7d483[0] = C00 - _0x46c94b * (C02 + _0x46c94b * (C04 + _0x46c94b * (C06 + _0x46c94b * C08)));
    _0xc7d483[1] = _0x46c94b * (C22 - _0x46c94b * (C04 + _0x46c94b * (C06 + _0x46c94b * C08)));
    var _0xbb96a5 = _0x46c94b * _0x46c94b;
    _0xc7d483[2] = _0xbb96a5 * (C44 - _0x46c94b * (C46 + _0x46c94b * C48));
    _0xbb96a5 *= _0x46c94b;
    _0xc7d483[3] = _0xbb96a5 * (C66 - _0x46c94b * C68);
    _0xc7d483[4] = _0xbb96a5 * _0x46c94b * C88;
    return _0xc7d483;
  }
  function pj_mlfn(_0x49598d, _0x2b86c2, _0x13ceaf, _0x21d29a) {
    _0x13ceaf *= _0x2b86c2;
    _0x2b86c2 *= _0x2b86c2;
    return _0x21d29a[0] * _0x49598d - _0x13ceaf * (_0x21d29a[1] + _0x2b86c2 * (_0x21d29a[2] + _0x2b86c2 * (_0x21d29a[3] + _0x2b86c2 * _0x21d29a[4])));
  }
  var MAX_ITER$3 = 20;
  function pj_inv_mlfn(_0x2ceced, _0x4a027d, _0x42eaf4) {
    var _0x4d6179 = 1 / (1 - _0x4a027d);
    var _0x50ca6f = _0x2ceced;
    for (var _0x3306a2 = MAX_ITER$3; _0x3306a2; --_0x3306a2) {
      var _0x299455 = Math.sin(_0x50ca6f);
      var _0x3d1819 = 1 - _0x4a027d * _0x299455 * _0x299455;
      _0x3d1819 = (pj_mlfn(_0x50ca6f, _0x299455, Math.cos(_0x50ca6f), _0x42eaf4) - _0x2ceced) * (_0x3d1819 * Math.sqrt(_0x3d1819)) * _0x4d6179;
      _0x50ca6f -= _0x3d1819;
      if (Math.abs(_0x3d1819) < EPSLN) {
        return _0x50ca6f;
      }
    }
    return _0x50ca6f;
  }
  function init$u() {
    this.x0 = this.x0 !== undefined ? this.x0 : 0;
    this.y0 = this.y0 !== undefined ? this.y0 : 0;
    this.long0 = this.long0 !== undefined ? this.long0 : 0;
    this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;
    if (this.es) {
      this.en = pj_enfn(this.es);
      this.ml0 = pj_mlfn(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en);
    }
  }
  function forward$t(_0x2148fe) {
    var _0x42ee9e = _0x2148fe.x;
    var _0x5ad4c1 = _0x2148fe.y;
    var _0x25385d = adjust_lon(_0x42ee9e - this.long0);
    var _0x212455;
    var _0x91c2ea;
    var _0x25dd0f;
    var _0x2d53e3 = Math.sin(_0x5ad4c1);
    var _0x261a9a = Math.cos(_0x5ad4c1);
    if (!this.es) {
      var _0x3a3195 = _0x261a9a * Math.sin(_0x25385d);
      if (Math.abs(Math.abs(_0x3a3195) - 1) < EPSLN) {
        return 93;
      } else {
        _0x91c2ea = this.a * 0.5 * this.k0 * Math.log((1 + _0x3a3195) / (1 - _0x3a3195)) + this.x0;
        _0x25dd0f = _0x261a9a * Math.cos(_0x25385d) / Math.sqrt(1 - Math.pow(_0x3a3195, 2));
        _0x3a3195 = Math.abs(_0x25dd0f);
        if (_0x3a3195 >= 1) {
          if (_0x3a3195 - 1 > EPSLN) {
            return 93;
          } else {
            _0x25dd0f = 0;
          }
        } else {
          _0x25dd0f = Math.acos(_0x25dd0f);
        }
        if (_0x5ad4c1 < 0) {
          _0x25dd0f = -_0x25dd0f;
        }
        _0x25dd0f = this.a * this.k0 * (_0x25dd0f - this.lat0) + this.y0;
      }
    } else {
      var _0x599002 = _0x261a9a * _0x25385d;
      var _0x59131 = Math.pow(_0x599002, 2);
      var _0x568c2c = this.ep2 * Math.pow(_0x261a9a, 2);
      var _0x20c162 = Math.pow(_0x568c2c, 2);
      var _0x265a34 = Math.abs(_0x261a9a) > EPSLN ? Math.tan(_0x5ad4c1) : 0;
      var _0x327342 = Math.pow(_0x265a34, 2);
      var _0x57e545 = Math.pow(_0x327342, 2);
      _0x212455 = 1 - this.es * Math.pow(_0x2d53e3, 2);
      _0x599002 = _0x599002 / Math.sqrt(_0x212455);
      var _0x3f18c1 = pj_mlfn(_0x5ad4c1, _0x2d53e3, _0x261a9a, this.en);
      _0x91c2ea = this.a * (this.k0 * _0x599002 * (1 + _0x59131 / 6 * (1 - _0x327342 + _0x568c2c + _0x59131 / 20 * (5 - _0x327342 * 18 + _0x57e545 + _0x568c2c * 14 - _0x327342 * 58 * _0x568c2c + _0x59131 / 42 * (61 + _0x57e545 * 179 - _0x57e545 * _0x327342 - _0x327342 * 479))))) + this.x0;
      _0x25dd0f = this.a * (this.k0 * (_0x3f18c1 - this.ml0 + _0x2d53e3 * _0x25385d * _0x599002 / 2 * (1 + _0x59131 / 12 * (5 - _0x327342 + _0x568c2c * 9 + _0x20c162 * 4 + _0x59131 / 30 * (61 + _0x57e545 - _0x327342 * 58 + _0x568c2c * 270 - _0x327342 * 330 * _0x568c2c + _0x59131 / 56 * (1385 + _0x57e545 * 543 - _0x57e545 * _0x327342 - _0x327342 * 3111)))))) + this.y0;
    }
    _0x2148fe.x = _0x91c2ea;
    _0x2148fe.y = _0x25dd0f;
    return _0x2148fe;
  }
  function inverse$t(_0x1a2ea1) {
    var _0x12df81;
    var _0x4b01b7;
    var _0xb01cd4;
    var _0x47ff80;
    var _0x17076e = (_0x1a2ea1.x - this.x0) * (1 / this.a);
    var _0x2636be = (_0x1a2ea1.y - this.y0) * (1 / this.a);
    if (!this.es) {
      var _0x48cc21 = Math.exp(_0x17076e / this.k0);
      var _0x31dce0 = (_0x48cc21 - 1 / _0x48cc21) * 0.5;
      var _0x54a62e = this.lat0 + _0x2636be / this.k0;
      var _0x58efdb = Math.cos(_0x54a62e);
      _0x12df81 = Math.sqrt((1 - Math.pow(_0x58efdb, 2)) / (1 + Math.pow(_0x31dce0, 2)));
      _0xb01cd4 = Math.asin(_0x12df81);
      if (_0x2636be < 0) {
        _0xb01cd4 = -_0xb01cd4;
      }
      if (_0x31dce0 === 0 && _0x58efdb === 0) {
        _0x47ff80 = 0;
      } else {
        _0x47ff80 = adjust_lon(Math.atan2(_0x31dce0, _0x58efdb) + this.long0);
      }
    } else {
      _0x12df81 = this.ml0 + _0x2636be / this.k0;
      _0x4b01b7 = pj_inv_mlfn(_0x12df81, this.es, this.en);
      if (Math.abs(_0x4b01b7) < HALF_PI) {
        var _0x1687fb = Math.sin(_0x4b01b7);
        var _0x22bc1a = Math.cos(_0x4b01b7);
        var _0x2a5bd7 = Math.abs(_0x22bc1a) > EPSLN ? Math.tan(_0x4b01b7) : 0;
        var _0x5df27f = this.ep2 * Math.pow(_0x22bc1a, 2);
        var _0x1c057b = Math.pow(_0x5df27f, 2);
        var _0x1b0ac3 = Math.pow(_0x2a5bd7, 2);
        var _0x269635 = Math.pow(_0x1b0ac3, 2);
        _0x12df81 = 1 - this.es * Math.pow(_0x1687fb, 2);
        var _0x21ec7b = _0x17076e * Math.sqrt(_0x12df81) / this.k0;
        var _0x469bc1 = Math.pow(_0x21ec7b, 2);
        _0x12df81 = _0x12df81 * _0x2a5bd7;
        _0xb01cd4 = _0x4b01b7 - _0x12df81 * _0x469bc1 / (1 - this.es) * 0.5 * (1 - _0x469bc1 / 12 * (5 + _0x1b0ac3 * 3 - _0x5df27f * 9 * _0x1b0ac3 + _0x5df27f - _0x1c057b * 4 - _0x469bc1 / 30 * (61 + _0x1b0ac3 * 90 - _0x5df27f * 252 * _0x1b0ac3 + _0x269635 * 45 + _0x5df27f * 46 - _0x469bc1 / 56 * (1385 + _0x1b0ac3 * 3633 + _0x269635 * 4095 + _0x269635 * 1574 * _0x1b0ac3))));
        _0x47ff80 = adjust_lon(this.long0 + _0x21ec7b * (1 - _0x469bc1 / 6 * (1 + _0x1b0ac3 * 2 + _0x5df27f - _0x469bc1 / 20 * (5 + _0x1b0ac3 * 28 + _0x269635 * 24 + _0x5df27f * 8 * _0x1b0ac3 + _0x5df27f * 6 - _0x469bc1 / 42 * (61 + _0x1b0ac3 * 662 + _0x269635 * 1320 + _0x269635 * 720 * _0x1b0ac3)))) / _0x22bc1a);
      } else {
        _0xb01cd4 = HALF_PI * sign(_0x2636be);
        _0x47ff80 = 0;
      }
    }
    _0x1a2ea1.x = _0x47ff80;
    _0x1a2ea1.y = _0xb01cd4;
    return _0x1a2ea1;
  }
  var names$u = ["Fast_Transverse_Mercator", "Fast Transverse Mercator"];
  const _0x394e9d = {
    init: init$u,
    forward: forward$t,
    inverse: inverse$t,
    names: names$u
  };
  var tmerc = _0x394e9d;
  function sinh(_0x597e57) {
    var _0x36f504 = Math.exp(_0x597e57);
    _0x36f504 = (_0x36f504 - 1 / _0x36f504) / 2;
    return _0x36f504;
  }
  function hypot(_0x19c6e4, _0x23e64f) {
    _0x19c6e4 = Math.abs(_0x19c6e4);
    _0x23e64f = Math.abs(_0x23e64f);
    var _0x21d2f7 = Math.max(_0x19c6e4, _0x23e64f);
    var _0x34756f = Math.min(_0x19c6e4, _0x23e64f) / (_0x21d2f7 ? _0x21d2f7 : 1);
    return _0x21d2f7 * Math.sqrt(1 + Math.pow(_0x34756f, 2));
  }
  function log1py(_0x3bab78) {
    var _0x11b1e3 = 1 + _0x3bab78;
    var _0x355145 = _0x11b1e3 - 1;
    if (_0x355145 === 0) {
      return _0x3bab78;
    } else {
      return _0x3bab78 * Math.log(_0x11b1e3) / _0x355145;
    }
  }
  function asinhy(_0x35ba41) {
    var _0x26c115 = Math.abs(_0x35ba41);
    _0x26c115 = log1py(_0x26c115 * (1 + _0x26c115 / (hypot(1, _0x26c115) + 1)));
    if (_0x35ba41 < 0) {
      return -_0x26c115;
    } else {
      return _0x26c115;
    }
  }
  function gatg(_0x1e1e84, _0xbdf0f9) {
    var _0x116ed3 = Math.cos(_0xbdf0f9 * 2) * 2;
    var _0x35e1d6 = _0x1e1e84.length - 1;
    var _0x4a4bf4 = _0x1e1e84[_0x35e1d6];
    var _0x482f1b = 0;
    var _0x1cf133;
    while (--_0x35e1d6 >= 0) {
      _0x1cf133 = -_0x482f1b + _0x116ed3 * _0x4a4bf4 + _0x1e1e84[_0x35e1d6];
      _0x482f1b = _0x4a4bf4;
      _0x4a4bf4 = _0x1cf133;
    }
    return _0xbdf0f9 + _0x1cf133 * Math.sin(_0xbdf0f9 * 2);
  }
  function clens(_0x1d577c, _0x321add) {
    var _0x54cd9f = Math.cos(_0x321add) * 2;
    var _0x451dfb = _0x1d577c.length - 1;
    var _0x45062a = _0x1d577c[_0x451dfb];
    var _0x342690 = 0;
    var _0x425fdc;
    while (--_0x451dfb >= 0) {
      _0x425fdc = -_0x342690 + _0x54cd9f * _0x45062a + _0x1d577c[_0x451dfb];
      _0x342690 = _0x45062a;
      _0x45062a = _0x425fdc;
    }
    return Math.sin(_0x321add) * _0x425fdc;
  }
  function cosh(_0x48a778) {
    var _0x581208 = Math.exp(_0x48a778);
    _0x581208 = (_0x581208 + 1 / _0x581208) / 2;
    return _0x581208;
  }
  function clens_cmplx(_0x104f9b, _0xaf1a3a, _0x3c4df1) {
    var _0x12701e = Math.sin(_0xaf1a3a);
    var _0x37311f = Math.cos(_0xaf1a3a);
    var _0x32aac6 = sinh(_0x3c4df1);
    var _0x4a8b72 = cosh(_0x3c4df1);
    var _0x57ac1f = _0x37311f * 2 * _0x4a8b72;
    var _0x1fe92e = _0x12701e * -2 * _0x32aac6;
    var _0x260423 = _0x104f9b.length - 1;
    var _0x2a7334 = _0x104f9b[_0x260423];
    var _0x24ca42 = 0;
    var _0x3d7651 = 0;
    var _0x1d692f = 0;
    var _0x15468b;
    var _0x9dde63;
    while (--_0x260423 >= 0) {
      _0x15468b = _0x3d7651;
      _0x9dde63 = _0x24ca42;
      _0x3d7651 = _0x2a7334;
      _0x24ca42 = _0x1d692f;
      _0x2a7334 = -_0x15468b + _0x57ac1f * _0x3d7651 - _0x1fe92e * _0x24ca42 + _0x104f9b[_0x260423];
      _0x1d692f = -_0x9dde63 + _0x1fe92e * _0x3d7651 + _0x57ac1f * _0x24ca42;
    }
    _0x57ac1f = _0x12701e * _0x4a8b72;
    _0x1fe92e = _0x37311f * _0x32aac6;
    return [_0x57ac1f * _0x2a7334 - _0x1fe92e * _0x1d692f, _0x57ac1f * _0x1d692f + _0x1fe92e * _0x2a7334];
  }
  function init$t() {
    if (!this.approx && (isNaN(this.es) || this.es <= 0)) {
      throw new Error("Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION[\"Fast_Transverse_Mercator\"] in the WKT.");
    }
    if (this.approx) {
      tmerc.init.apply(this);
      this.forward = tmerc.forward;
      this.inverse = tmerc.inverse;
    }
    this.x0 = this.x0 !== undefined ? this.x0 : 0;
    this.y0 = this.y0 !== undefined ? this.y0 : 0;
    this.long0 = this.long0 !== undefined ? this.long0 : 0;
    this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;
    this.cgb = [];
    this.cbg = [];
    this.utg = [];
    this.gtu = [];
    var _0x2ed7af = this.es / (1 + Math.sqrt(1 - this.es));
    var _0x11bcb6 = _0x2ed7af / (2 - _0x2ed7af);
    var _0x25aa7a = _0x11bcb6;
    this.cgb[0] = _0x11bcb6 * (2 + _0x11bcb6 * (-2 / 3 + _0x11bcb6 * (-2 + _0x11bcb6 * (116 / 45 + _0x11bcb6 * (26 / 45 + _0x11bcb6 * (-2854 / 675))))));
    this.cbg[0] = _0x11bcb6 * (-2 + _0x11bcb6 * (2 / 3 + _0x11bcb6 * (4 / 3 + _0x11bcb6 * (-82 / 45 + _0x11bcb6 * (32 / 45 + _0x11bcb6 * (4642 / 4725))))));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.cgb[1] = _0x25aa7a * (7 / 3 + _0x11bcb6 * (-8 / 5 + _0x11bcb6 * (-227 / 45 + _0x11bcb6 * (2704 / 315 + _0x11bcb6 * (2323 / 945)))));
    this.cbg[1] = _0x25aa7a * (5 / 3 + _0x11bcb6 * (-16 / 15 + _0x11bcb6 * (-13 / 9 + _0x11bcb6 * (904 / 315 + _0x11bcb6 * (-1522 / 945)))));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.cgb[2] = _0x25aa7a * (56 / 15 + _0x11bcb6 * (-136 / 35 + _0x11bcb6 * (-1262 / 105 + _0x11bcb6 * (73814 / 2835))));
    this.cbg[2] = _0x25aa7a * (-26 / 15 + _0x11bcb6 * (34 / 21 + _0x11bcb6 * (8 / 5 + _0x11bcb6 * (-12686 / 2835))));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.cgb[3] = _0x25aa7a * (4279 / 630 + _0x11bcb6 * (-332 / 35 + _0x11bcb6 * (-399572 / 14175)));
    this.cbg[3] = _0x25aa7a * (1237 / 630 + _0x11bcb6 * (-12 / 5 + _0x11bcb6 * (-24832 / 14175)));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.cgb[4] = _0x25aa7a * (4174 / 315 + _0x11bcb6 * (-144838 / 6237));
    this.cbg[4] = _0x25aa7a * (-734 / 315 + _0x11bcb6 * (109598 / 31185));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.cgb[5] = _0x25aa7a * (601676 / 22275);
    this.cbg[5] = _0x25aa7a * (444337 / 155925);
    _0x25aa7a = Math.pow(_0x11bcb6, 2);
    this.Qn = this.k0 / (1 + _0x11bcb6) * (1 + _0x25aa7a * (1 / 4 + _0x25aa7a * (1 / 64 + _0x25aa7a / 256)));
    this.utg[0] = _0x11bcb6 * (-0.5 + _0x11bcb6 * (2 / 3 + _0x11bcb6 * (-37 / 96 + _0x11bcb6 * (1 / 360 + _0x11bcb6 * (81 / 512 + _0x11bcb6 * (-96199 / 604800))))));
    this.gtu[0] = _0x11bcb6 * (0.5 + _0x11bcb6 * (-2 / 3 + _0x11bcb6 * (5 / 16 + _0x11bcb6 * (41 / 180 + _0x11bcb6 * (-127 / 288 + _0x11bcb6 * (7891 / 37800))))));
    this.utg[1] = _0x25aa7a * (-1 / 48 + _0x11bcb6 * (-1 / 15 + _0x11bcb6 * (437 / 1440 + _0x11bcb6 * (-46 / 105 + _0x11bcb6 * (1118711 / 3870720)))));
    this.gtu[1] = _0x25aa7a * (13 / 48 + _0x11bcb6 * (-3 / 5 + _0x11bcb6 * (557 / 1440 + _0x11bcb6 * (281 / 630 + _0x11bcb6 * (-1983433 / 1935360)))));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.utg[2] = _0x25aa7a * (-17 / 480 + _0x11bcb6 * (37 / 840 + _0x11bcb6 * (209 / 4480 + _0x11bcb6 * (-5569 / 90720))));
    this.gtu[2] = _0x25aa7a * (61 / 240 + _0x11bcb6 * (-103 / 140 + _0x11bcb6 * (15061 / 26880 + _0x11bcb6 * (167603 / 181440))));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.utg[3] = _0x25aa7a * (-4397 / 161280 + _0x11bcb6 * (11 / 504 + _0x11bcb6 * (830251 / 7257600)));
    this.gtu[3] = _0x25aa7a * (49561 / 161280 + _0x11bcb6 * (-179 / 168 + _0x11bcb6 * (6601661 / 7257600)));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.utg[4] = _0x25aa7a * (-4583 / 161280 + _0x11bcb6 * (108847 / 3991680));
    this.gtu[4] = _0x25aa7a * (34729 / 80640 + _0x11bcb6 * (-3418889 / 1995840));
    _0x25aa7a = _0x25aa7a * _0x11bcb6;
    this.utg[5] = _0x25aa7a * (-20648693 / 638668800);
    this.gtu[5] = _0x25aa7a * (212378941 / 319334400);
    var _0x1adbe4 = gatg(this.cbg, this.lat0);
    this.Zb = -this.Qn * (_0x1adbe4 + clens(this.gtu, _0x1adbe4 * 2));
  }
  function forward$s(_0x1010d8) {
    var _0x5d6940 = adjust_lon(_0x1010d8.x - this.long0);
    var _0x37fd2 = _0x1010d8.y;
    _0x37fd2 = gatg(this.cbg, _0x37fd2);
    var _0x40a958 = Math.sin(_0x37fd2);
    var _0x3db659 = Math.cos(_0x37fd2);
    var _0x2c00ec = Math.sin(_0x5d6940);
    var _0x13ecb6 = Math.cos(_0x5d6940);
    _0x37fd2 = Math.atan2(_0x40a958, _0x13ecb6 * _0x3db659);
    _0x5d6940 = Math.atan2(_0x2c00ec * _0x3db659, hypot(_0x40a958, _0x3db659 * _0x13ecb6));
    _0x5d6940 = asinhy(Math.tan(_0x5d6940));
    var _0xa73e82 = clens_cmplx(this.gtu, _0x37fd2 * 2, _0x5d6940 * 2);
    _0x37fd2 = _0x37fd2 + _0xa73e82[0];
    _0x5d6940 = _0x5d6940 + _0xa73e82[1];
    var _0x22a6a9;
    var _0x4d465b;
    if (Math.abs(_0x5d6940) <= 2.623395162778) {
      _0x22a6a9 = this.a * (this.Qn * _0x5d6940) + this.x0;
      _0x4d465b = this.a * (this.Qn * _0x37fd2 + this.Zb) + this.y0;
    } else {
      _0x22a6a9 = Infinity;
      _0x4d465b = Infinity;
    }
    _0x1010d8.x = _0x22a6a9;
    _0x1010d8.y = _0x4d465b;
    return _0x1010d8;
  }
  function inverse$s(_0x35920a) {
    var _0x3c84d6 = (_0x35920a.x - this.x0) * (1 / this.a);
    var _0x9ebd4b = (_0x35920a.y - this.y0) * (1 / this.a);
    _0x9ebd4b = (_0x9ebd4b - this.Zb) / this.Qn;
    _0x3c84d6 = _0x3c84d6 / this.Qn;
    var _0x3eccde;
    var _0x485be7;
    if (Math.abs(_0x3c84d6) <= 2.623395162778) {
      var _0x114059 = clens_cmplx(this.utg, _0x9ebd4b * 2, _0x3c84d6 * 2);
      _0x9ebd4b = _0x9ebd4b + _0x114059[0];
      _0x3c84d6 = _0x3c84d6 + _0x114059[1];
      _0x3c84d6 = Math.atan(sinh(_0x3c84d6));
      var _0x319aae = Math.sin(_0x9ebd4b);
      var _0x539cd3 = Math.cos(_0x9ebd4b);
      var _0x46dd38 = Math.sin(_0x3c84d6);
      var _0x304cd5 = Math.cos(_0x3c84d6);
      _0x9ebd4b = Math.atan2(_0x319aae * _0x304cd5, hypot(_0x46dd38, _0x304cd5 * _0x539cd3));
      _0x3c84d6 = Math.atan2(_0x46dd38, _0x304cd5 * _0x539cd3);
      _0x3eccde = adjust_lon(_0x3c84d6 + this.long0);
      _0x485be7 = gatg(this.cgb, _0x9ebd4b);
    } else {
      _0x3eccde = Infinity;
      _0x485be7 = Infinity;
    }
    _0x35920a.x = _0x3eccde;
    _0x35920a.y = _0x485be7;
    return _0x35920a;
  }
  var names$t = ["Extended_Transverse_Mercator", "Extended Transverse Mercator", "etmerc", "Transverse_Mercator", "Transverse Mercator", "Gauss Kruger", "Gauss_Kruger", "tmerc"];
  const _0x40132a = {
    init: init$t,
    forward: forward$s,
    inverse: inverse$s,
    names: names$t
  };
  var etmerc = _0x40132a;
  function adjust_zone(_0x59bf83, _0x345274) {
    if (_0x59bf83 === undefined) {
      _0x59bf83 = Math.floor((adjust_lon(_0x345274) + Math.PI) * 30 / Math.PI) + 1;
      if (_0x59bf83 < 0) {
        return 0;
      } else if (_0x59bf83 > 60) {
        return 60;
      }
    }
    return _0x59bf83;
  }
  var dependsOn = "etmerc";
  function init$s() {
    var _0x383906 = adjust_zone(this.zone, this.long0);
    if (_0x383906 === undefined) {
      throw new Error("unknown utm zone");
    }
    this.lat0 = 0;
    this.long0 = (Math.abs(_0x383906) * 6 - 183) * D2R$1;
    this.x0 = 500000;
    this.y0 = this.utmSouth ? 10000000 : 0;
    this.k0 = 0.9996;
    etmerc.init.apply(this);
    this.forward = etmerc.forward;
    this.inverse = etmerc.inverse;
  }
  var names$s = ["Universal Transverse Mercator System", "utm"];
  const _0x5c784b = {
    init: init$s,
    names: names$s,
    dependsOn: dependsOn
  };
  var utm = _0x5c784b;
  function srat(_0x2abdee, _0x3873b2) {
    return Math.pow((1 - _0x2abdee) / (1 + _0x2abdee), _0x3873b2);
  }
  var MAX_ITER$2 = 20;
  function init$r() {
    var _0x38a028 = Math.sin(this.lat0);
    var _0x39dc0e = Math.cos(this.lat0);
    _0x39dc0e *= _0x39dc0e;
    this.rc = Math.sqrt(1 - this.es) / (1 - this.es * _0x38a028 * _0x38a028);
    this.C = Math.sqrt(1 + this.es * _0x39dc0e * _0x39dc0e / (1 - this.es));
    this.phic0 = Math.asin(_0x38a028 / this.C);
    this.ratexp = this.C * 0.5 * this.e;
    this.K = Math.tan(this.phic0 * 0.5 + FORTPI) / (Math.pow(Math.tan(this.lat0 * 0.5 + FORTPI), this.C) * srat(this.e * _0x38a028, this.ratexp));
  }
  function forward$r(_0x179f0a) {
    var _0x4be96c = _0x179f0a.x;
    var _0x3385c5 = _0x179f0a.y;
    _0x179f0a.y = Math.atan(this.K * Math.pow(Math.tan(_0x3385c5 * 0.5 + FORTPI), this.C) * srat(this.e * Math.sin(_0x3385c5), this.ratexp)) * 2 - HALF_PI;
    _0x179f0a.x = this.C * _0x4be96c;
    return _0x179f0a;
  }
  function inverse$r(_0x5ade34) {
    var _0x30fff0 = 1e-14;
    var _0x3ee6f7 = _0x5ade34.x / this.C;
    var _0x38d19e = _0x5ade34.y;
    var _0x4c55c1 = Math.pow(Math.tan(_0x38d19e * 0.5 + FORTPI) / this.K, 1 / this.C);
    for (var _0x27c6f4 = MAX_ITER$2; _0x27c6f4 > 0; --_0x27c6f4) {
      _0x38d19e = Math.atan(_0x4c55c1 * srat(this.e * Math.sin(_0x5ade34.y), this.e * -0.5)) * 2 - HALF_PI;
      if (Math.abs(_0x38d19e - _0x5ade34.y) < _0x30fff0) {
        break;
      }
      _0x5ade34.y = _0x38d19e;
    }
    if (!_0x27c6f4) {
      return null;
    }
    _0x5ade34.x = _0x3ee6f7;
    _0x5ade34.y = _0x38d19e;
    return _0x5ade34;
  }
  var names$r = ["gauss"];
  const _0x5bace8 = {
    init: init$r,
    forward: forward$r,
    inverse: inverse$r,
    names: names$r
  };
  var gauss = _0x5bace8;
  function init$q() {
    gauss.init.apply(this);
    if (!this.rc) {
      return;
    }
    this.sinc0 = Math.sin(this.phic0);
    this.cosc0 = Math.cos(this.phic0);
    this.R2 = this.rc * 2;
    if (!this.title) {
      this.title = "Oblique Stereographic Alternative";
    }
  }
  function forward$q(_0x245d57) {
    var _0x4186b8;
    var _0x140594;
    var _0x53701a;
    var _0x330038;
    _0x245d57.x = adjust_lon(_0x245d57.x - this.long0);
    gauss.forward.apply(this, [_0x245d57]);
    _0x4186b8 = Math.sin(_0x245d57.y);
    _0x140594 = Math.cos(_0x245d57.y);
    _0x53701a = Math.cos(_0x245d57.x);
    _0x330038 = this.k0 * this.R2 / (1 + this.sinc0 * _0x4186b8 + this.cosc0 * _0x140594 * _0x53701a);
    _0x245d57.x = _0x330038 * _0x140594 * Math.sin(_0x245d57.x);
    _0x245d57.y = _0x330038 * (this.cosc0 * _0x4186b8 - this.sinc0 * _0x140594 * _0x53701a);
    _0x245d57.x = this.a * _0x245d57.x + this.x0;
    _0x245d57.y = this.a * _0x245d57.y + this.y0;
    return _0x245d57;
  }
  function inverse$q(_0x184691) {
    var _0x133c5c;
    var _0x322e2d;
    var _0x14b4e3;
    var _0x27e298;
    var _0x28645c;
    _0x184691.x = (_0x184691.x - this.x0) / this.a;
    _0x184691.y = (_0x184691.y - this.y0) / this.a;
    _0x184691.x /= this.k0;
    _0x184691.y /= this.k0;
    if (_0x28645c = hypot(_0x184691.x, _0x184691.y)) {
      var _0x5de8c5 = Math.atan2(_0x28645c, this.R2) * 2;
      _0x133c5c = Math.sin(_0x5de8c5);
      _0x322e2d = Math.cos(_0x5de8c5);
      _0x27e298 = Math.asin(_0x322e2d * this.sinc0 + _0x184691.y * _0x133c5c * this.cosc0 / _0x28645c);
      _0x14b4e3 = Math.atan2(_0x184691.x * _0x133c5c, _0x28645c * this.cosc0 * _0x322e2d - _0x184691.y * this.sinc0 * _0x133c5c);
    } else {
      _0x27e298 = this.phic0;
      _0x14b4e3 = 0;
    }
    _0x184691.x = _0x14b4e3;
    _0x184691.y = _0x27e298;
    gauss.inverse.apply(this, [_0x184691]);
    _0x184691.x = adjust_lon(_0x184691.x + this.long0);
    return _0x184691;
  }
  var names$q = ["Stereographic_North_Pole", "Oblique_Stereographic", "sterea", "Oblique Stereographic Alternative", "Double_Stereographic"];
  const _0x2c36c7 = {
    init: init$q,
    forward: forward$q,
    inverse: inverse$q,
    names: names$q
  };
  var sterea = _0x2c36c7;
  function ssfn_(_0x433a5, _0x1caffa, _0x12dc5b) {
    _0x1caffa *= _0x12dc5b;
    return Math.tan((HALF_PI + _0x433a5) * 0.5) * Math.pow((1 - _0x1caffa) / (1 + _0x1caffa), _0x12dc5b * 0.5);
  }
  function init$p() {
    this.x0 = this.x0 || 0;
    this.y0 = this.y0 || 0;
    this.lat0 = this.lat0 || 0;
    this.long0 = this.long0 || 0;
    this.coslat0 = Math.cos(this.lat0);
    this.sinlat0 = Math.sin(this.lat0);
    if (this.sphere) {
      if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {
        this.k0 = (1 + sign(this.lat0) * Math.sin(this.lat_ts)) * 0.5;
      }
    } else {
      if (Math.abs(this.coslat0) <= EPSLN) {
        if (this.lat0 > 0) {
          this.con = 1;
        } else {
          this.con = -1;
        }
      }
      this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));
      if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN && Math.abs(Math.cos(this.lat_ts)) > EPSLN) {
        this.k0 = this.cons * 0.5 * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));
      }
      this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);
      this.X0 = Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) * 2 - HALF_PI;
      this.cosX0 = Math.cos(this.X0);
      this.sinX0 = Math.sin(this.X0);
    }
  }
  function forward$p(_0x4c1201) {
    var _0x8c173 = _0x4c1201.x;
    var _0x17f7fd = _0x4c1201.y;
    var _0x29c475 = Math.sin(_0x17f7fd);
    var _0x16fa30 = Math.cos(_0x17f7fd);
    var _0x3e8f36;
    var _0x34dff8;
    var _0x5559d8;
    var _0x5f1431;
    var _0xc2038c;
    var _0x4d2409;
    var _0x3cf08e = adjust_lon(_0x8c173 - this.long0);
    if (Math.abs(Math.abs(_0x8c173 - this.long0) - Math.PI) <= EPSLN && Math.abs(_0x17f7fd + this.lat0) <= EPSLN) {
      _0x4c1201.x = NaN;
      _0x4c1201.y = NaN;
      return _0x4c1201;
    }
    if (this.sphere) {
      _0x3e8f36 = this.k0 * 2 / (1 + this.sinlat0 * _0x29c475 + this.coslat0 * _0x16fa30 * Math.cos(_0x3cf08e));
      _0x4c1201.x = this.a * _0x3e8f36 * _0x16fa30 * Math.sin(_0x3cf08e) + this.x0;
      _0x4c1201.y = this.a * _0x3e8f36 * (this.coslat0 * _0x29c475 - this.sinlat0 * _0x16fa30 * Math.cos(_0x3cf08e)) + this.y0;
      return _0x4c1201;
    } else {
      _0x34dff8 = Math.atan(this.ssfn_(_0x17f7fd, _0x29c475, this.e)) * 2 - HALF_PI;
      _0x5f1431 = Math.cos(_0x34dff8);
      _0x5559d8 = Math.sin(_0x34dff8);
      if (Math.abs(this.coslat0) <= EPSLN) {
        _0xc2038c = tsfnz(this.e, _0x17f7fd * this.con, this.con * _0x29c475);
        _0x4d2409 = this.a * 2 * this.k0 * _0xc2038c / this.cons;
        _0x4c1201.x = this.x0 + _0x4d2409 * Math.sin(_0x8c173 - this.long0);
        _0x4c1201.y = this.y0 - this.con * _0x4d2409 * Math.cos(_0x8c173 - this.long0);
        return _0x4c1201;
      } else if (Math.abs(this.sinlat0) < EPSLN) {
        _0x3e8f36 = this.a * 2 * this.k0 / (1 + _0x5f1431 * Math.cos(_0x3cf08e));
        _0x4c1201.y = _0x3e8f36 * _0x5559d8;
      } else {
        _0x3e8f36 = this.a * 2 * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * _0x5559d8 + this.cosX0 * _0x5f1431 * Math.cos(_0x3cf08e)));
        _0x4c1201.y = _0x3e8f36 * (this.cosX0 * _0x5559d8 - this.sinX0 * _0x5f1431 * Math.cos(_0x3cf08e)) + this.y0;
      }
      _0x4c1201.x = _0x3e8f36 * _0x5f1431 * Math.sin(_0x3cf08e) + this.x0;
    }
    return _0x4c1201;
  }
  function inverse$p(_0x3a2290) {
    _0x3a2290.x -= this.x0;
    _0x3a2290.y -= this.y0;
    var _0x2b429a;
    var _0x1aaf23;
    var _0x3eac57;
    var _0x5a43b4;
    var _0xb20087;
    var _0x15c7c2 = Math.sqrt(_0x3a2290.x * _0x3a2290.x + _0x3a2290.y * _0x3a2290.y);
    if (this.sphere) {
      var _0x4ae5c5 = Math.atan(_0x15c7c2 / (this.a * 2 * this.k0)) * 2;
      _0x2b429a = this.long0;
      _0x1aaf23 = this.lat0;
      if (_0x15c7c2 <= EPSLN) {
        _0x3a2290.x = _0x2b429a;
        _0x3a2290.y = _0x1aaf23;
        return _0x3a2290;
      }
      _0x1aaf23 = Math.asin(Math.cos(_0x4ae5c5) * this.sinlat0 + _0x3a2290.y * Math.sin(_0x4ae5c5) * this.coslat0 / _0x15c7c2);
      if (Math.abs(this.coslat0) < EPSLN) {
        if (this.lat0 > 0) {
          _0x2b429a = adjust_lon(this.long0 + Math.atan2(_0x3a2290.x, _0x3a2290.y * -1));
        } else {
          _0x2b429a = adjust_lon(this.long0 + Math.atan2(_0x3a2290.x, _0x3a2290.y));
        }
      } else {
        _0x2b429a = adjust_lon(this.long0 + Math.atan2(_0x3a2290.x * Math.sin(_0x4ae5c5), _0x15c7c2 * this.coslat0 * Math.cos(_0x4ae5c5) - _0x3a2290.y * this.sinlat0 * Math.sin(_0x4ae5c5)));
      }
      _0x3a2290.x = _0x2b429a;
      _0x3a2290.y = _0x1aaf23;
      return _0x3a2290;
    } else if (Math.abs(this.coslat0) <= EPSLN) {
      if (_0x15c7c2 <= EPSLN) {
        _0x1aaf23 = this.lat0;
        _0x2b429a = this.long0;
        _0x3a2290.x = _0x2b429a;
        _0x3a2290.y = _0x1aaf23;
        return _0x3a2290;
      }
      _0x3a2290.x *= this.con;
      _0x3a2290.y *= this.con;
      _0x3eac57 = _0x15c7c2 * this.cons / (this.a * 2 * this.k0);
      _0x1aaf23 = this.con * phi2z(this.e, _0x3eac57);
      _0x2b429a = this.con * adjust_lon(this.con * this.long0 + Math.atan2(_0x3a2290.x, _0x3a2290.y * -1));
    } else {
      _0x5a43b4 = Math.atan(_0x15c7c2 * this.cosX0 / (this.a * 2 * this.k0 * this.ms1)) * 2;
      _0x2b429a = this.long0;
      if (_0x15c7c2 <= EPSLN) {
        _0xb20087 = this.X0;
      } else {
        _0xb20087 = Math.asin(Math.cos(_0x5a43b4) * this.sinX0 + _0x3a2290.y * Math.sin(_0x5a43b4) * this.cosX0 / _0x15c7c2);
        _0x2b429a = adjust_lon(this.long0 + Math.atan2(_0x3a2290.x * Math.sin(_0x5a43b4), _0x15c7c2 * this.cosX0 * Math.cos(_0x5a43b4) - _0x3a2290.y * this.sinX0 * Math.sin(_0x5a43b4)));
      }
      _0x1aaf23 = phi2z(this.e, Math.tan((HALF_PI + _0xb20087) * 0.5)) * -1;
    }
    _0x3a2290.x = _0x2b429a;
    _0x3a2290.y = _0x1aaf23;
    return _0x3a2290;
  }
  var names$p = ["stere", "Stereographic_South_Pole", "Polar Stereographic (variant B)", "Polar_Stereographic"];
  const _0x5cd88b = {
    init: init$p,
    forward: forward$p,
    inverse: inverse$p,
    names: names$p,
    ssfn_: ssfn_
  };
  var stere = _0x5cd88b;
  function init$o() {
    var _0x4d435a = this.lat0;
    this.lambda0 = this.long0;
    var _0x24dc56 = Math.sin(_0x4d435a);
    var _0x5bcdf6 = this.a;
    var _0xcd6e9f = this.rf;
    var _0xe450e1 = 1 / _0xcd6e9f;
    var _0xd9092 = _0xe450e1 * 2 - Math.pow(_0xe450e1, 2);
    var _0x3233e4 = this.e = Math.sqrt(_0xd9092);
    this.R = this.k0 * _0x5bcdf6 * Math.sqrt(1 - _0xd9092) / (1 - _0xd9092 * Math.pow(_0x24dc56, 2));
    this.alpha = Math.sqrt(1 + _0xd9092 / (1 - _0xd9092) * Math.pow(Math.cos(_0x4d435a), 4));
    this.b0 = Math.asin(_0x24dc56 / this.alpha);
    var _0x52063d = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));
    var _0x4ac2be = Math.log(Math.tan(Math.PI / 4 + _0x4d435a / 2));
    var _0x240baf = Math.log((1 + _0x3233e4 * _0x24dc56) / (1 - _0x3233e4 * _0x24dc56));
    this.K = _0x52063d - this.alpha * _0x4ac2be + this.alpha * _0x3233e4 / 2 * _0x240baf;
  }
  function forward$o(_0x526299) {
    var _0x47d61b = Math.log(Math.tan(Math.PI / 4 - _0x526299.y / 2));
    var _0x47f07a = this.e / 2 * Math.log((1 + this.e * Math.sin(_0x526299.y)) / (1 - this.e * Math.sin(_0x526299.y)));
    var _0x465c29 = -this.alpha * (_0x47d61b + _0x47f07a) + this.K;
    var _0x330409 = (Math.atan(Math.exp(_0x465c29)) - Math.PI / 4) * 2;
    var _0x283915 = this.alpha * (_0x526299.x - this.lambda0);
    var _0x2e7b20 = Math.atan(Math.sin(_0x283915) / (Math.sin(this.b0) * Math.tan(_0x330409) + Math.cos(this.b0) * Math.cos(_0x283915)));
    var _0x904b = Math.asin(Math.cos(this.b0) * Math.sin(_0x330409) - Math.sin(this.b0) * Math.cos(_0x330409) * Math.cos(_0x283915));
    _0x526299.y = this.R / 2 * Math.log((1 + Math.sin(_0x904b)) / (1 - Math.sin(_0x904b))) + this.y0;
    _0x526299.x = this.R * _0x2e7b20 + this.x0;
    return _0x526299;
  }
  function inverse$o(_0x2969d5) {
    var _0x24ca52 = _0x2969d5.x - this.x0;
    var _0x328f16 = _0x2969d5.y - this.y0;
    var _0x92030b = _0x24ca52 / this.R;
    var _0x1cf6e9 = (Math.atan(Math.exp(_0x328f16 / this.R)) - Math.PI / 4) * 2;
    var _0x5b5b4a = Math.asin(Math.cos(this.b0) * Math.sin(_0x1cf6e9) + Math.sin(this.b0) * Math.cos(_0x1cf6e9) * Math.cos(_0x92030b));
    var _0x4a186d = Math.atan(Math.sin(_0x92030b) / (Math.cos(this.b0) * Math.cos(_0x92030b) - Math.sin(this.b0) * Math.tan(_0x1cf6e9)));
    var _0x35ec9b = this.lambda0 + _0x4a186d / this.alpha;
    var _0xf990a = 0;
    var _0x551efd = _0x5b5b4a;
    var _0x3f02ff = -1000;
    var _0x5b324c = 0;
    while (Math.abs(_0x551efd - _0x3f02ff) > 1e-7) {
      if (++_0x5b324c > 20) {
        return;
      }
      _0xf990a = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + _0x5b5b4a / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(_0x551efd)) / 2));
      _0x3f02ff = _0x551efd;
      _0x551efd = Math.atan(Math.exp(_0xf990a)) * 2 - Math.PI / 2;
    }
    _0x2969d5.x = _0x35ec9b;
    _0x2969d5.y = _0x551efd;
    return _0x2969d5;
  }
  var names$o = ["somerc"];
  const _0x3cb588 = {
    init: init$o,
    forward: forward$o,
    inverse: inverse$o,
    names: names$o
  };
  var somerc = _0x3cb588;
  var TOL = 1e-7;
  function isTypeA(_0x374375) {
    var _0x3014d5 = ["Hotine_Oblique_Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin"];
    var _0xd633c3 = typeof _0x374375.PROJECTION === "object" ? Object.keys(_0x374375.PROJECTION)[0] : _0x374375.PROJECTION;
    return "no_uoff" in _0x374375 || "no_off" in _0x374375 || _0x3014d5.indexOf(_0xd633c3) !== -1;
  }
  function init$n() {
    var _0x10eeca;
    var _0x2924f7;
    var _0x1b49cb;
    var _0x1aace4;
    var _0x2cc68a;
    var _0x43f38b;
    var _0x3ef98e;
    var _0x3abc63;
    var _0x2fb924;
    var _0x581d53;
    var _0x443331 = 0;
    var _0x56f69b;
    var _0x2efeca = 0;
    var _0x4e62f4 = 0;
    var _0x3282a9 = 0;
    var _0x220210 = 0;
    var _0x5cd7c9 = 0;
    var _0x46b473 = 0;
    this.no_off = isTypeA(this);
    this.no_rot = "no_rot" in this;
    var _0x473703 = false;
    if ("alpha" in this) {
      _0x473703 = true;
    }
    var _0x515725 = false;
    if ("rectified_grid_angle" in this) {
      _0x515725 = true;
    }
    if (_0x473703) {
      _0x46b473 = this.alpha;
    }
    if (_0x515725) {
      _0x443331 = this.rectified_grid_angle * D2R$1;
    }
    if (_0x473703 || _0x515725) {
      _0x2efeca = this.longc;
    } else {
      _0x4e62f4 = this.long1;
      _0x220210 = this.lat1;
      _0x3282a9 = this.long2;
      _0x5cd7c9 = this.lat2;
      if (Math.abs(_0x220210 - _0x5cd7c9) <= TOL || (_0x10eeca = Math.abs(_0x220210)) <= TOL || Math.abs(_0x10eeca - HALF_PI) <= TOL || Math.abs(Math.abs(this.lat0) - HALF_PI) <= TOL || Math.abs(Math.abs(_0x5cd7c9) - HALF_PI) <= TOL) {
        throw new Error();
      }
    }
    var _0x340a40 = 1 - this.es;
    _0x2924f7 = Math.sqrt(_0x340a40);
    if (Math.abs(this.lat0) > EPSLN) {
      _0x3abc63 = Math.sin(this.lat0);
      _0x1b49cb = Math.cos(this.lat0);
      _0x10eeca = 1 - this.es * _0x3abc63 * _0x3abc63;
      this.B = _0x1b49cb * _0x1b49cb;
      this.B = Math.sqrt(1 + this.es * this.B * this.B / _0x340a40);
      this.A = this.B * this.k0 * _0x2924f7 / _0x10eeca;
      _0x1aace4 = this.B * _0x2924f7 / (_0x1b49cb * Math.sqrt(_0x10eeca));
      _0x2cc68a = _0x1aace4 * _0x1aace4 - 1;
      if (_0x2cc68a <= 0) {
        _0x2cc68a = 0;
      } else {
        _0x2cc68a = Math.sqrt(_0x2cc68a);
        if (this.lat0 < 0) {
          _0x2cc68a = -_0x2cc68a;
        }
      }
      this.E = _0x2cc68a += _0x1aace4;
      this.E *= Math.pow(tsfnz(this.e, this.lat0, _0x3abc63), this.B);
    } else {
      this.B = 1 / _0x2924f7;
      this.A = this.k0;
      this.E = _0x1aace4 = _0x2cc68a = 1;
    }
    if (_0x473703 || _0x515725) {
      if (_0x473703) {
        _0x56f69b = Math.asin(Math.sin(_0x46b473) / _0x1aace4);
        if (!_0x515725) {
          _0x443331 = _0x46b473;
        }
      } else {
        _0x56f69b = _0x443331;
        _0x46b473 = Math.asin(_0x1aace4 * Math.sin(_0x56f69b));
      }
      this.lam0 = _0x2efeca - Math.asin((_0x2cc68a - 1 / _0x2cc68a) * 0.5 * Math.tan(_0x56f69b)) / this.B;
    } else {
      _0x43f38b = Math.pow(tsfnz(this.e, _0x220210, Math.sin(_0x220210)), this.B);
      _0x3ef98e = Math.pow(tsfnz(this.e, _0x5cd7c9, Math.sin(_0x5cd7c9)), this.B);
      _0x2cc68a = this.E / _0x43f38b;
      _0x2fb924 = (_0x3ef98e - _0x43f38b) / (_0x3ef98e + _0x43f38b);
      _0x581d53 = this.E * this.E;
      _0x581d53 = (_0x581d53 - _0x3ef98e * _0x43f38b) / (_0x581d53 + _0x3ef98e * _0x43f38b);
      _0x10eeca = _0x4e62f4 - _0x3282a9;
      if (_0x10eeca < -Math.pi) {
        _0x3282a9 -= TWO_PI;
      } else if (_0x10eeca > Math.pi) {
        _0x3282a9 += TWO_PI;
      }
      this.lam0 = adjust_lon((_0x4e62f4 + _0x3282a9) * 0.5 - Math.atan(_0x581d53 * Math.tan(this.B * 0.5 * (_0x4e62f4 - _0x3282a9)) / _0x2fb924) / this.B);
      _0x56f69b = Math.atan(Math.sin(this.B * adjust_lon(_0x4e62f4 - this.lam0)) * 2 / (_0x2cc68a - 1 / _0x2cc68a));
      _0x443331 = _0x46b473 = Math.asin(_0x1aace4 * Math.sin(_0x56f69b));
    }
    this.singam = Math.sin(_0x56f69b);
    this.cosgam = Math.cos(_0x56f69b);
    this.sinrot = Math.sin(_0x443331);
    this.cosrot = Math.cos(_0x443331);
    this.rB = 1 / this.B;
    this.ArB = this.A * this.rB;
    this.BrA = 1 / this.ArB;
    this.A * this.B;
    if (this.no_off) {
      this.u_0 = 0;
    } else {
      this.u_0 = Math.abs(this.ArB * Math.atan(Math.sqrt(_0x1aace4 * _0x1aace4 - 1) / Math.cos(_0x46b473)));
      if (this.lat0 < 0) {
        this.u_0 = -this.u_0;
      }
    }
    _0x2cc68a = _0x56f69b * 0.5;
    this.v_pole_n = this.ArB * Math.log(Math.tan(FORTPI - _0x2cc68a));
    this.v_pole_s = this.ArB * Math.log(Math.tan(FORTPI + _0x2cc68a));
  }
  function forward$n(_0xce0af4) {
    var _0x5584e0 = {};
    var _0x1d0d2c;
    var _0x27f5f4;
    var _0x40b952;
    var _0xe1d679;
    var _0x454040;
    var _0x4f7837;
    var _0x519c29;
    var _0x5a0766;
    _0xce0af4.x = _0xce0af4.x - this.lam0;
    if (Math.abs(Math.abs(_0xce0af4.y) - HALF_PI) > EPSLN) {
      _0x454040 = this.E / Math.pow(tsfnz(this.e, _0xce0af4.y, Math.sin(_0xce0af4.y)), this.B);
      _0x4f7837 = 1 / _0x454040;
      _0x1d0d2c = (_0x454040 - _0x4f7837) * 0.5;
      _0x27f5f4 = (_0x454040 + _0x4f7837) * 0.5;
      _0xe1d679 = Math.sin(this.B * _0xce0af4.x);
      _0x40b952 = (_0x1d0d2c * this.singam - _0xe1d679 * this.cosgam) / _0x27f5f4;
      if (Math.abs(Math.abs(_0x40b952) - 1) < EPSLN) {
        throw new Error();
      }
      _0x5a0766 = this.ArB * 0.5 * Math.log((1 - _0x40b952) / (1 + _0x40b952));
      _0x4f7837 = Math.cos(this.B * _0xce0af4.x);
      if (Math.abs(_0x4f7837) < TOL) {
        _0x519c29 = this.A * _0xce0af4.x;
      } else {
        _0x519c29 = this.ArB * Math.atan2(_0x1d0d2c * this.cosgam + _0xe1d679 * this.singam, _0x4f7837);
      }
    } else {
      _0x5a0766 = _0xce0af4.y > 0 ? this.v_pole_n : this.v_pole_s;
      _0x519c29 = this.ArB * _0xce0af4.y;
    }
    if (this.no_rot) {
      _0x5584e0.x = _0x519c29;
      _0x5584e0.y = _0x5a0766;
    } else {
      _0x519c29 -= this.u_0;
      _0x5584e0.x = _0x5a0766 * this.cosrot + _0x519c29 * this.sinrot;
      _0x5584e0.y = _0x519c29 * this.cosrot - _0x5a0766 * this.sinrot;
    }
    _0x5584e0.x = this.a * _0x5584e0.x + this.x0;
    _0x5584e0.y = this.a * _0x5584e0.y + this.y0;
    return _0x5584e0;
  }
  function inverse$n(_0x169140) {
    var _0x4145ca;
    var _0x266c7c;
    var _0xf1b0c0;
    var _0x2d0488;
    var _0x37e0d3;
    var _0x3f51a6;
    var _0x3dfc48;
    var _0xc266b8 = {};
    _0x169140.x = (_0x169140.x - this.x0) * (1 / this.a);
    _0x169140.y = (_0x169140.y - this.y0) * (1 / this.a);
    if (this.no_rot) {
      _0x266c7c = _0x169140.y;
      _0x4145ca = _0x169140.x;
    } else {
      _0x266c7c = _0x169140.x * this.cosrot - _0x169140.y * this.sinrot;
      _0x4145ca = _0x169140.y * this.cosrot + _0x169140.x * this.sinrot + this.u_0;
    }
    _0xf1b0c0 = Math.exp(-this.BrA * _0x266c7c);
    _0x2d0488 = (_0xf1b0c0 - 1 / _0xf1b0c0) * 0.5;
    _0x37e0d3 = (_0xf1b0c0 + 1 / _0xf1b0c0) * 0.5;
    _0x3f51a6 = Math.sin(this.BrA * _0x4145ca);
    _0x3dfc48 = (_0x3f51a6 * this.cosgam + _0x2d0488 * this.singam) / _0x37e0d3;
    if (Math.abs(Math.abs(_0x3dfc48) - 1) < EPSLN) {
      _0xc266b8.x = 0;
      _0xc266b8.y = _0x3dfc48 < 0 ? -HALF_PI : HALF_PI;
    } else {
      _0xc266b8.y = this.E / Math.sqrt((1 + _0x3dfc48) / (1 - _0x3dfc48));
      _0xc266b8.y = phi2z(this.e, Math.pow(_0xc266b8.y, 1 / this.B));
      if (_0xc266b8.y === Infinity) {
        throw new Error();
      }
      _0xc266b8.x = -this.rB * Math.atan2(_0x2d0488 * this.cosgam - _0x3f51a6 * this.singam, Math.cos(this.BrA * _0x4145ca));
    }
    _0xc266b8.x += this.lam0;
    return _0xc266b8;
  }
  var names$n = ["Hotine_Oblique_Mercator", "Hotine Oblique Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin", "Hotine_Oblique_Mercator_Two_Point_Natural_Origin", "Hotine_Oblique_Mercator_Azimuth_Center", "Oblique_Mercator", "omerc"];
  const _0x433568 = {
    init: init$n,
    forward: forward$n,
    inverse: inverse$n,
    names: names$n
  };
  var omerc = _0x433568;
  function init$m() {
    if (!this.lat2) {
      this.lat2 = this.lat1;
    }
    if (!this.k0) {
      this.k0 = 1;
    }
    this.x0 = this.x0 || 0;
    this.y0 = this.y0 || 0;
    if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
      return;
    }
    var _0x5bd270 = this.b / this.a;
    this.e = Math.sqrt(1 - _0x5bd270 * _0x5bd270);
    var _0x363972 = Math.sin(this.lat1);
    var _0x4d1d60 = Math.cos(this.lat1);
    var _0x59c232 = msfnz(this.e, _0x363972, _0x4d1d60);
    var _0x4cf177 = tsfnz(this.e, this.lat1, _0x363972);
    var _0x22d8fb = Math.sin(this.lat2);
    var _0x2ba894 = Math.cos(this.lat2);
    var _0x357872 = msfnz(this.e, _0x22d8fb, _0x2ba894);
    var _0x1990cd = tsfnz(this.e, this.lat2, _0x22d8fb);
    var _0x160b64 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));
    if (Math.abs(this.lat1 - this.lat2) > EPSLN) {
      this.ns = Math.log(_0x59c232 / _0x357872) / Math.log(_0x4cf177 / _0x1990cd);
    } else {
      this.ns = _0x363972;
    }
    if (isNaN(this.ns)) {
      this.ns = _0x363972;
    }
    this.f0 = _0x59c232 / (this.ns * Math.pow(_0x4cf177, this.ns));
    this.rh = this.a * this.f0 * Math.pow(_0x160b64, this.ns);
    if (!this.title) {
      this.title = "Lambert Conformal Conic";
    }
  }
  function forward$m(_0x690b9c) {
    var _0x142653 = _0x690b9c.x;
    var _0x1152ad = _0x690b9c.y;
    if (Math.abs(Math.abs(_0x1152ad) * 2 - Math.PI) <= EPSLN) {
      _0x1152ad = sign(_0x1152ad) * (HALF_PI - EPSLN * 2);
    }
    var _0x5b0ab3 = Math.abs(Math.abs(_0x1152ad) - HALF_PI);
    var _0x13afcd;
    var _0x359cd2;
    if (_0x5b0ab3 > EPSLN) {
      _0x13afcd = tsfnz(this.e, _0x1152ad, Math.sin(_0x1152ad));
      _0x359cd2 = this.a * this.f0 * Math.pow(_0x13afcd, this.ns);
    } else {
      _0x5b0ab3 = _0x1152ad * this.ns;
      if (_0x5b0ab3 <= 0) {
        return null;
      }
      _0x359cd2 = 0;
    }
    var _0x5cd9c3 = this.ns * adjust_lon(_0x142653 - this.long0);
    _0x690b9c.x = this.k0 * (_0x359cd2 * Math.sin(_0x5cd9c3)) + this.x0;
    _0x690b9c.y = this.k0 * (this.rh - _0x359cd2 * Math.cos(_0x5cd9c3)) + this.y0;
    return _0x690b9c;
  }
  function inverse$m(_0x397548) {
    var _0x54e52c;
    var _0x3ec5e8;
    var _0x2a3d91;
    var _0x1e7247;
    var _0x5196b7;
    var _0x40e93a = (_0x397548.x - this.x0) / this.k0;
    var _0x123c55 = this.rh - (_0x397548.y - this.y0) / this.k0;
    if (this.ns > 0) {
      _0x54e52c = Math.sqrt(_0x40e93a * _0x40e93a + _0x123c55 * _0x123c55);
      _0x3ec5e8 = 1;
    } else {
      _0x54e52c = -Math.sqrt(_0x40e93a * _0x40e93a + _0x123c55 * _0x123c55);
      _0x3ec5e8 = -1;
    }
    var _0x2d42bc = 0;
    if (_0x54e52c !== 0) {
      _0x2d42bc = Math.atan2(_0x3ec5e8 * _0x40e93a, _0x3ec5e8 * _0x123c55);
    }
    if (_0x54e52c !== 0 || this.ns > 0) {
      _0x3ec5e8 = 1 / this.ns;
      _0x2a3d91 = Math.pow(_0x54e52c / (this.a * this.f0), _0x3ec5e8);
      _0x1e7247 = phi2z(this.e, _0x2a3d91);
      if (_0x1e7247 === -9999) {
        return null;
      }
    } else {
      _0x1e7247 = -HALF_PI;
    }
    _0x5196b7 = adjust_lon(_0x2d42bc / this.ns + this.long0);
    _0x397548.x = _0x5196b7;
    _0x397548.y = _0x1e7247;
    return _0x397548;
  }
  var names$m = ["Lambert Tangential Conformal Conic Projection", "Lambert_Conformal_Conic", "Lambert_Conformal_Conic_1SP", "Lambert_Conformal_Conic_2SP", "lcc", "Lambert Conic Conformal (1SP)", "Lambert Conic Conformal (2SP)"];
  const _0x2f6a66 = {
    init: init$m,
    forward: forward$m,
    inverse: inverse$m,
    names: names$m
  };
  var lcc = _0x2f6a66;
  function init$l() {
    this.a = 6377397.155;
    this.es = 0.006674372230614;
    this.e = Math.sqrt(this.es);
    if (!this.lat0) {
      this.lat0 = 0.863937979737193;
    }
    if (!this.long0) {
      this.long0 = 0.4334234309119251;
    }
    if (!this.k0) {
      this.k0 = 0.9999;
    }
    this.s45 = 0.785398163397448;
    this.s90 = this.s45 * 2;
    this.fi0 = this.lat0;
    this.e2 = this.es;
    this.e = Math.sqrt(this.e2);
    this.alfa = Math.sqrt(1 + this.e2 * Math.pow(Math.cos(this.fi0), 4) / (1 - this.e2));
    this.uq = 1.04216856380474;
    this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);
    this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);
    this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;
    this.k1 = this.k0;
    this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));
    this.s0 = 1.37008346281555;
    this.n = Math.sin(this.s0);
    this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);
    this.ad = this.s90 - this.uq;
  }
  function forward$l(_0x410f01) {
    var _0x501141;
    var _0x4fd9f8;
    var _0x2838f0;
    var _0x29d7d1;
    var _0x44c11d;
    var _0x356920;
    var _0x58cf3d;
    var _0x2aea1e = _0x410f01.x;
    var _0x5951e6 = _0x410f01.y;
    var _0x18fb81 = adjust_lon(_0x2aea1e - this.long0);
    _0x501141 = Math.pow((1 + this.e * Math.sin(_0x5951e6)) / (1 - this.e * Math.sin(_0x5951e6)), this.alfa * this.e / 2);
    _0x4fd9f8 = (Math.atan(this.k * Math.pow(Math.tan(_0x5951e6 / 2 + this.s45), this.alfa) / _0x501141) - this.s45) * 2;
    _0x2838f0 = -_0x18fb81 * this.alfa;
    _0x29d7d1 = Math.asin(Math.cos(this.ad) * Math.sin(_0x4fd9f8) + Math.sin(this.ad) * Math.cos(_0x4fd9f8) * Math.cos(_0x2838f0));
    _0x44c11d = Math.asin(Math.cos(_0x4fd9f8) * Math.sin(_0x2838f0) / Math.cos(_0x29d7d1));
    _0x356920 = this.n * _0x44c11d;
    _0x58cf3d = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(_0x29d7d1 / 2 + this.s45), this.n);
    _0x410f01.y = _0x58cf3d * Math.cos(_0x356920) / 1;
    _0x410f01.x = _0x58cf3d * Math.sin(_0x356920) / 1;
    if (!this.czech) {
      _0x410f01.y *= -1;
      _0x410f01.x *= -1;
    }
    return _0x410f01;
  }
  function inverse$l(_0x2294b9) {
    var _0x5ca03a;
    var _0x2e4361;
    var _0x238a14;
    var _0x5a8d6f;
    var _0x1093fc;
    var _0x2e1fc8;
    var _0x1b4f47;
    var _0xe103a2;
    var _0x3233ba = _0x2294b9.x;
    _0x2294b9.x = _0x2294b9.y;
    _0x2294b9.y = _0x3233ba;
    if (!this.czech) {
      _0x2294b9.y *= -1;
      _0x2294b9.x *= -1;
    }
    _0x2e1fc8 = Math.sqrt(_0x2294b9.x * _0x2294b9.x + _0x2294b9.y * _0x2294b9.y);
    _0x1093fc = Math.atan2(_0x2294b9.y, _0x2294b9.x);
    _0x5a8d6f = _0x1093fc / Math.sin(this.s0);
    _0x238a14 = (Math.atan(Math.pow(this.ro0 / _0x2e1fc8, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45) * 2;
    _0x5ca03a = Math.asin(Math.cos(this.ad) * Math.sin(_0x238a14) - Math.sin(this.ad) * Math.cos(_0x238a14) * Math.cos(_0x5a8d6f));
    _0x2e4361 = Math.asin(Math.cos(_0x238a14) * Math.sin(_0x5a8d6f) / Math.cos(_0x5ca03a));
    _0x2294b9.x = this.long0 - _0x2e4361 / this.alfa;
    _0x1b4f47 = _0x5ca03a;
    _0xe103a2 = 0;
    var _0x39f190 = 0;
    do {
      _0x2294b9.y = (Math.atan(Math.pow(this.k, -1 / this.alfa) * Math.pow(Math.tan(_0x5ca03a / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(_0x1b4f47)) / (1 - this.e * Math.sin(_0x1b4f47)), this.e / 2)) - this.s45) * 2;
      if (Math.abs(_0x1b4f47 - _0x2294b9.y) < 1e-10) {
        _0xe103a2 = 1;
      }
      _0x1b4f47 = _0x2294b9.y;
      _0x39f190 += 1;
    } while (_0xe103a2 === 0 && _0x39f190 < 15);
    if (_0x39f190 >= 15) {
      return null;
    }
    return _0x2294b9;
  }
  var names$l = ["Krovak", "krovak"];
  const _0x17aed1 = {
    init: init$l,
    forward: forward$l,
    inverse: inverse$l,
    names: names$l
  };
  var krovak = _0x17aed1;
  function mlfn(_0x354f52, _0x55343e, _0x4b8148, _0x38ea59, _0x3c6c67) {
    return _0x354f52 * _0x3c6c67 - _0x55343e * Math.sin(_0x3c6c67 * 2) + _0x4b8148 * Math.sin(_0x3c6c67 * 4) - _0x38ea59 * Math.sin(_0x3c6c67 * 6);
  }
  function e0fn(_0x31fecc) {
    return 1 - _0x31fecc * 0.25 * (1 + _0x31fecc / 16 * (3 + _0x31fecc * 1.25));
  }
  function e1fn(_0xdb27fc) {
    return _0xdb27fc * 0.375 * (1 + _0xdb27fc * 0.25 * (1 + _0xdb27fc * 0.46875));
  }
  function e2fn(_0x3b2fa7) {
    return _0x3b2fa7 * 0.05859375 * _0x3b2fa7 * (1 + _0x3b2fa7 * 0.75);
  }
  function e3fn(_0x2691ae) {
    return _0x2691ae * _0x2691ae * _0x2691ae * (35 / 3072);
  }
  function gN(_0x4aa08b, _0xced031, _0x18782b) {
    var _0x4e655f = _0xced031 * _0x18782b;
    return _0x4aa08b / Math.sqrt(1 - _0x4e655f * _0x4e655f);
  }
  function adjust_lat(_0x3be0a3) {
    if (Math.abs(_0x3be0a3) < HALF_PI) {
      return _0x3be0a3;
    } else {
      return _0x3be0a3 - sign(_0x3be0a3) * Math.PI;
    }
  }
  function imlfn(_0x4c7c63, _0x1f44ea, _0x4d946f, _0x3e3251, _0x386a52) {
    var _0x558eac;
    var _0x281ef8;
    _0x558eac = _0x4c7c63 / _0x1f44ea;
    for (var _0x48a631 = 0; _0x48a631 < 15; _0x48a631++) {
      _0x281ef8 = (_0x4c7c63 - (_0x1f44ea * _0x558eac - _0x4d946f * Math.sin(_0x558eac * 2) + _0x3e3251 * Math.sin(_0x558eac * 4) - _0x386a52 * Math.sin(_0x558eac * 6))) / (_0x1f44ea - _0x4d946f * 2 * Math.cos(_0x558eac * 2) + _0x3e3251 * 4 * Math.cos(_0x558eac * 4) - _0x386a52 * 6 * Math.cos(_0x558eac * 6));
      _0x558eac += _0x281ef8;
      if (Math.abs(_0x281ef8) <= 1e-10) {
        return _0x558eac;
      }
    }
    return NaN;
  }
  function init$k() {
    if (!this.sphere) {
      this.e0 = e0fn(this.es);
      this.e1 = e1fn(this.es);
      this.e2 = e2fn(this.es);
      this.e3 = e3fn(this.es);
      this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
    }
  }
  function forward$k(_0xe1fde4) {
    var _0x1690be;
    var _0x21a194;
    var _0x4504de = _0xe1fde4.x;
    var _0x1e8e54 = _0xe1fde4.y;
    _0x4504de = adjust_lon(_0x4504de - this.long0);
    if (this.sphere) {
      _0x1690be = this.a * Math.asin(Math.cos(_0x1e8e54) * Math.sin(_0x4504de));
      _0x21a194 = this.a * (Math.atan2(Math.tan(_0x1e8e54), Math.cos(_0x4504de)) - this.lat0);
    } else {
      var _0x8e0892 = Math.sin(_0x1e8e54);
      var _0x53a0c6 = Math.cos(_0x1e8e54);
      var _0x436ab5 = gN(this.a, this.e, _0x8e0892);
      var _0x41f81f = Math.tan(_0x1e8e54) * Math.tan(_0x1e8e54);
      var _0x1f6fc4 = _0x4504de * Math.cos(_0x1e8e54);
      var _0x58f009 = _0x1f6fc4 * _0x1f6fc4;
      var _0x13c33b = this.es * _0x53a0c6 * _0x53a0c6 / (1 - this.es);
      var _0x4db2a6 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, _0x1e8e54);
      _0x1690be = _0x436ab5 * _0x1f6fc4 * (1 - _0x58f009 * _0x41f81f * (1 / 6 - (8 - _0x41f81f + _0x13c33b * 8) * _0x58f009 / 120));
      _0x21a194 = _0x4db2a6 - this.ml0 + _0x436ab5 * _0x8e0892 / _0x53a0c6 * _0x58f009 * (0.5 + (5 - _0x41f81f + _0x13c33b * 6) * _0x58f009 / 24);
    }
    _0xe1fde4.x = _0x1690be + this.x0;
    _0xe1fde4.y = _0x21a194 + this.y0;
    return _0xe1fde4;
  }
  function inverse$k(_0x151ea3) {
    _0x151ea3.x -= this.x0;
    _0x151ea3.y -= this.y0;
    var _0x6fde42 = _0x151ea3.x / this.a;
    var _0x5c2924 = _0x151ea3.y / this.a;
    var _0x3eb0d5;
    var _0x1658ef;
    if (this.sphere) {
      var _0x52c583 = _0x5c2924 + this.lat0;
      _0x3eb0d5 = Math.asin(Math.sin(_0x52c583) * Math.cos(_0x6fde42));
      _0x1658ef = Math.atan2(Math.tan(_0x6fde42), Math.cos(_0x52c583));
    } else {
      var _0x25d6bc = this.ml0 / this.a + _0x5c2924;
      var _0x437a32 = imlfn(_0x25d6bc, this.e0, this.e1, this.e2, this.e3);
      if (Math.abs(Math.abs(_0x437a32) - HALF_PI) <= EPSLN) {
        _0x151ea3.x = this.long0;
        _0x151ea3.y = HALF_PI;
        if (_0x5c2924 < 0) {
          _0x151ea3.y *= -1;
        }
        return _0x151ea3;
      }
      var _0x4ff85e = gN(this.a, this.e, Math.sin(_0x437a32));
      var _0x551b84 = _0x4ff85e * _0x4ff85e * _0x4ff85e / this.a / this.a * (1 - this.es);
      var _0x4586c0 = Math.pow(Math.tan(_0x437a32), 2);
      var _0x1f8c92 = _0x6fde42 * this.a / _0x4ff85e;
      var _0xf4e41b = _0x1f8c92 * _0x1f8c92;
      _0x3eb0d5 = _0x437a32 - _0x4ff85e * Math.tan(_0x437a32) / _0x551b84 * _0x1f8c92 * _0x1f8c92 * (0.5 - (1 + _0x4586c0 * 3) * _0x1f8c92 * _0x1f8c92 / 24);
      _0x1658ef = _0x1f8c92 * (1 - _0xf4e41b * (_0x4586c0 / 3 + (1 + _0x4586c0 * 3) * _0x4586c0 * _0xf4e41b / 15)) / Math.cos(_0x437a32);
    }
    _0x151ea3.x = adjust_lon(_0x1658ef + this.long0);
    _0x151ea3.y = adjust_lat(_0x3eb0d5);
    return _0x151ea3;
  }
  var names$k = ["Cassini", "Cassini_Soldner", "cass"];
  const _0x586a25 = {
    init: init$k,
    forward: forward$k,
    inverse: inverse$k,
    names: names$k
  };
  var cass = _0x586a25;
  function qsfnz(_0x4a1302, _0x2b3bed) {
    var _0xb99870;
    if (_0x4a1302 > 1e-7) {
      _0xb99870 = _0x4a1302 * _0x2b3bed;
      return (1 - _0x4a1302 * _0x4a1302) * (_0x2b3bed / (1 - _0xb99870 * _0xb99870) - 0.5 / _0x4a1302 * Math.log((1 - _0xb99870) / (1 + _0xb99870)));
    } else {
      return _0x2b3bed * 2;
    }
  }
  var S_POLE = 1;
  var N_POLE = 2;
  var EQUIT = 3;
  var OBLIQ = 4;
  function init$j() {
    var _0x34e01e = Math.abs(this.lat0);
    if (Math.abs(_0x34e01e - HALF_PI) < EPSLN) {
      this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;
    } else if (Math.abs(_0x34e01e) < EPSLN) {
      this.mode = this.EQUIT;
    } else {
      this.mode = this.OBLIQ;
    }
    if (this.es > 0) {
      var _0x43a1c3;
      this.qp = qsfnz(this.e, 1);
      this.mmf = 0.5 / (1 - this.es);
      this.apa = authset(this.es);
      switch (this.mode) {
        case this.N_POLE:
          this.dd = 1;
          break;
        case this.S_POLE:
          this.dd = 1;
          break;
        case this.EQUIT:
          this.rq = Math.sqrt(this.qp * 0.5);
          this.dd = 1 / this.rq;
          this.xmf = 1;
          this.ymf = this.qp * 0.5;
          break;
        case this.OBLIQ:
          this.rq = Math.sqrt(this.qp * 0.5);
          _0x43a1c3 = Math.sin(this.lat0);
          this.sinb1 = qsfnz(this.e, _0x43a1c3) / this.qp;
          this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);
          this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * _0x43a1c3 * _0x43a1c3) * this.rq * this.cosb1);
          this.ymf = (this.xmf = this.rq) / this.dd;
          this.xmf *= this.dd;
          break;
      }
    } else if (this.mode === this.OBLIQ) {
      this.sinph0 = Math.sin(this.lat0);
      this.cosph0 = Math.cos(this.lat0);
    }
  }
  function forward$j(_0xb438dc) {
    var _0x5842b9;
    var _0x196a00;
    var _0x3ce362;
    var _0x237579;
    var _0x5356c2;
    var _0x5b90b9;
    var _0x458d24;
    var _0x24144a;
    var _0x3e091d;
    var _0x1f5855;
    var _0x2c4043 = _0xb438dc.x;
    var _0x1dba1c = _0xb438dc.y;
    _0x2c4043 = adjust_lon(_0x2c4043 - this.long0);
    if (this.sphere) {
      _0x5356c2 = Math.sin(_0x1dba1c);
      _0x1f5855 = Math.cos(_0x1dba1c);
      _0x3ce362 = Math.cos(_0x2c4043);
      if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
        _0x196a00 = this.mode === this.EQUIT ? 1 + _0x1f5855 * _0x3ce362 : 1 + this.sinph0 * _0x5356c2 + this.cosph0 * _0x1f5855 * _0x3ce362;
        if (_0x196a00 <= EPSLN) {
          return null;
        }
        _0x196a00 = Math.sqrt(2 / _0x196a00);
        _0x5842b9 = _0x196a00 * _0x1f5855 * Math.sin(_0x2c4043);
        _0x196a00 *= this.mode === this.EQUIT ? _0x5356c2 : this.cosph0 * _0x5356c2 - this.sinph0 * _0x1f5855 * _0x3ce362;
      } else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
        if (this.mode === this.N_POLE) {
          _0x3ce362 = -_0x3ce362;
        }
        if (Math.abs(_0x1dba1c + this.lat0) < EPSLN) {
          return null;
        }
        _0x196a00 = FORTPI - _0x1dba1c * 0.5;
        _0x196a00 = (this.mode === this.S_POLE ? Math.cos(_0x196a00) : Math.sin(_0x196a00)) * 2;
        _0x5842b9 = _0x196a00 * Math.sin(_0x2c4043);
        _0x196a00 *= _0x3ce362;
      }
    } else {
      _0x458d24 = 0;
      _0x24144a = 0;
      _0x3e091d = 0;
      _0x3ce362 = Math.cos(_0x2c4043);
      _0x237579 = Math.sin(_0x2c4043);
      _0x5356c2 = Math.sin(_0x1dba1c);
      _0x5b90b9 = qsfnz(this.e, _0x5356c2);
      if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
        _0x458d24 = _0x5b90b9 / this.qp;
        _0x24144a = Math.sqrt(1 - _0x458d24 * _0x458d24);
      }
      switch (this.mode) {
        case this.OBLIQ:
          _0x3e091d = 1 + this.sinb1 * _0x458d24 + this.cosb1 * _0x24144a * _0x3ce362;
          break;
        case this.EQUIT:
          _0x3e091d = 1 + _0x24144a * _0x3ce362;
          break;
        case this.N_POLE:
          _0x3e091d = HALF_PI + _0x1dba1c;
          _0x5b90b9 = this.qp - _0x5b90b9;
          break;
        case this.S_POLE:
          _0x3e091d = _0x1dba1c - HALF_PI;
          _0x5b90b9 = this.qp + _0x5b90b9;
          break;
      }
      if (Math.abs(_0x3e091d) < EPSLN) {
        return null;
      }
      switch (this.mode) {
        case this.OBLIQ:
        case this.EQUIT:
          _0x3e091d = Math.sqrt(2 / _0x3e091d);
          if (this.mode === this.OBLIQ) {
            _0x196a00 = this.ymf * _0x3e091d * (this.cosb1 * _0x458d24 - this.sinb1 * _0x24144a * _0x3ce362);
          } else {
            _0x196a00 = (_0x3e091d = Math.sqrt(2 / (1 + _0x24144a * _0x3ce362))) * _0x458d24 * this.ymf;
          }
          _0x5842b9 = this.xmf * _0x3e091d * _0x24144a * _0x237579;
          break;
        case this.N_POLE:
        case this.S_POLE:
          if (_0x5b90b9 >= 0) {
            _0x5842b9 = (_0x3e091d = Math.sqrt(_0x5b90b9)) * _0x237579;
            _0x196a00 = _0x3ce362 * (this.mode === this.S_POLE ? _0x3e091d : -_0x3e091d);
          } else {
            _0x5842b9 = _0x196a00 = 0;
          }
          break;
      }
    }
    _0xb438dc.x = this.a * _0x5842b9 + this.x0;
    _0xb438dc.y = this.a * _0x196a00 + this.y0;
    return _0xb438dc;
  }
  function inverse$j(_0xf2e92b) {
    _0xf2e92b.x -= this.x0;
    _0xf2e92b.y -= this.y0;
    var _0x4fcfd7 = _0xf2e92b.x / this.a;
    var _0x55ba0d = _0xf2e92b.y / this.a;
    var _0x58b372;
    var _0x691499;
    var _0x19940d;
    var _0x15e225;
    var _0x3b84cf;
    var _0xc6e39e;
    var _0x30958e;
    if (this.sphere) {
      var _0x41ec04 = 0;
      var _0x4fd2a1;
      var _0x2b3396 = 0;
      _0x4fd2a1 = Math.sqrt(_0x4fcfd7 * _0x4fcfd7 + _0x55ba0d * _0x55ba0d);
      _0x691499 = _0x4fd2a1 * 0.5;
      if (_0x691499 > 1) {
        return null;
      }
      _0x691499 = Math.asin(_0x691499) * 2;
      if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
        _0x2b3396 = Math.sin(_0x691499);
        _0x41ec04 = Math.cos(_0x691499);
      }
      switch (this.mode) {
        case this.EQUIT:
          _0x691499 = Math.abs(_0x4fd2a1) <= EPSLN ? 0 : Math.asin(_0x55ba0d * _0x2b3396 / _0x4fd2a1);
          _0x4fcfd7 *= _0x2b3396;
          _0x55ba0d = _0x41ec04 * _0x4fd2a1;
          break;
        case this.OBLIQ:
          _0x691499 = Math.abs(_0x4fd2a1) <= EPSLN ? this.lat0 : Math.asin(_0x41ec04 * this.sinph0 + _0x55ba0d * _0x2b3396 * this.cosph0 / _0x4fd2a1);
          _0x4fcfd7 *= _0x2b3396 * this.cosph0;
          _0x55ba0d = (_0x41ec04 - Math.sin(_0x691499) * this.sinph0) * _0x4fd2a1;
          break;
        case this.N_POLE:
          _0x55ba0d = -_0x55ba0d;
          _0x691499 = HALF_PI - _0x691499;
          break;
        case this.S_POLE:
          _0x691499 -= HALF_PI;
          break;
      }
      _0x58b372 = _0x55ba0d === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ) ? 0 : Math.atan2(_0x4fcfd7, _0x55ba0d);
    } else {
      _0x30958e = 0;
      if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
        _0x4fcfd7 /= this.dd;
        _0x55ba0d *= this.dd;
        _0xc6e39e = Math.sqrt(_0x4fcfd7 * _0x4fcfd7 + _0x55ba0d * _0x55ba0d);
        if (_0xc6e39e < EPSLN) {
          _0xf2e92b.x = this.long0;
          _0xf2e92b.y = this.lat0;
          return _0xf2e92b;
        }
        _0x15e225 = Math.asin(_0xc6e39e * 0.5 / this.rq) * 2;
        _0x19940d = Math.cos(_0x15e225);
        _0x4fcfd7 *= _0x15e225 = Math.sin(_0x15e225);
        if (this.mode === this.OBLIQ) {
          _0x30958e = _0x19940d * this.sinb1 + _0x55ba0d * _0x15e225 * this.cosb1 / _0xc6e39e;
          _0x3b84cf = this.qp * _0x30958e;
          _0x55ba0d = _0xc6e39e * this.cosb1 * _0x19940d - _0x55ba0d * this.sinb1 * _0x15e225;
        } else {
          _0x30958e = _0x55ba0d * _0x15e225 / _0xc6e39e;
          _0x3b84cf = this.qp * _0x30958e;
          _0x55ba0d = _0xc6e39e * _0x19940d;
        }
      } else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
        if (this.mode === this.N_POLE) {
          _0x55ba0d = -_0x55ba0d;
        }
        _0x3b84cf = _0x4fcfd7 * _0x4fcfd7 + _0x55ba0d * _0x55ba0d;
        if (!_0x3b84cf) {
          _0xf2e92b.x = this.long0;
          _0xf2e92b.y = this.lat0;
          return _0xf2e92b;
        }
        _0x30958e = 1 - _0x3b84cf / this.qp;
        if (this.mode === this.S_POLE) {
          _0x30958e = -_0x30958e;
        }
      }
      _0x58b372 = Math.atan2(_0x4fcfd7, _0x55ba0d);
      _0x691499 = authlat(Math.asin(_0x30958e), this.apa);
    }
    _0xf2e92b.x = adjust_lon(this.long0 + _0x58b372);
    _0xf2e92b.y = _0x691499;
    return _0xf2e92b;
  }
  var P00 = 0.3333333333333333;
  var P01 = 0.17222222222222222;
  var P02 = 0.10257936507936508;
  var P10 = 0.06388888888888888;
  var P11 = 0.0664021164021164;
  var P20 = 0.016415012942191543;
  function authset(_0x2e2c71) {
    var _0x1ecb26;
    var _0x4f455b = [];
    _0x4f455b[0] = _0x2e2c71 * P00;
    _0x1ecb26 = _0x2e2c71 * _0x2e2c71;
    _0x4f455b[0] += _0x1ecb26 * P01;
    _0x4f455b[1] = _0x1ecb26 * P10;
    _0x1ecb26 *= _0x2e2c71;
    _0x4f455b[0] += _0x1ecb26 * P02;
    _0x4f455b[1] += _0x1ecb26 * P11;
    _0x4f455b[2] = _0x1ecb26 * P20;
    return _0x4f455b;
  }
  function authlat(_0x1b3e4b, _0x5b57e8) {
    var _0xfcf575 = _0x1b3e4b + _0x1b3e4b;
    return _0x1b3e4b + _0x5b57e8[0] * Math.sin(_0xfcf575) + _0x5b57e8[1] * Math.sin(_0xfcf575 + _0xfcf575) + _0x5b57e8[2] * Math.sin(_0xfcf575 + _0xfcf575 + _0xfcf575);
  }
  var names$j = ["Lambert Azimuthal Equal Area", "Lambert_Azimuthal_Equal_Area", "laea"];
  const _0xe9f557 = {
    init: init$j,
    forward: forward$j,
    inverse: inverse$j,
    names: names$j,
    S_POLE: S_POLE,
    N_POLE: N_POLE,
    EQUIT: EQUIT,
    OBLIQ: OBLIQ
  };
  var laea = _0xe9f557;
  function asinz(_0xc5e1e1) {
    if (Math.abs(_0xc5e1e1) > 1) {
      _0xc5e1e1 = _0xc5e1e1 > 1 ? 1 : -1;
    }
    return Math.asin(_0xc5e1e1);
  }
  function init$i() {
    if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
      return;
    }
    this.temp = this.b / this.a;
    this.es = 1 - Math.pow(this.temp, 2);
    this.e3 = Math.sqrt(this.es);
    this.sin_po = Math.sin(this.lat1);
    this.cos_po = Math.cos(this.lat1);
    this.t1 = this.sin_po;
    this.con = this.sin_po;
    this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);
    this.qs1 = qsfnz(this.e3, this.sin_po);
    this.sin_po = Math.sin(this.lat2);
    this.cos_po = Math.cos(this.lat2);
    this.t2 = this.sin_po;
    this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);
    this.qs2 = qsfnz(this.e3, this.sin_po);
    this.sin_po = Math.sin(this.lat0);
    this.cos_po = Math.cos(this.lat0);
    this.t3 = this.sin_po;
    this.qs0 = qsfnz(this.e3, this.sin_po);
    if (Math.abs(this.lat1 - this.lat2) > EPSLN) {
      this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);
    } else {
      this.ns0 = this.con;
    }
    this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;
    this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;
  }
  function forward$i(_0x5c437a) {
    var _0x220d30 = _0x5c437a.x;
    var _0x5d8b12 = _0x5c437a.y;
    this.sin_phi = Math.sin(_0x5d8b12);
    this.cos_phi = Math.cos(_0x5d8b12);
    var _0x1f1834 = qsfnz(this.e3, this.sin_phi);
    var _0x1040a9 = this.a * Math.sqrt(this.c - this.ns0 * _0x1f1834) / this.ns0;
    var _0x14138a = this.ns0 * adjust_lon(_0x220d30 - this.long0);
    var _0x3175ac = _0x1040a9 * Math.sin(_0x14138a) + this.x0;
    var _0x2802be = this.rh - _0x1040a9 * Math.cos(_0x14138a) + this.y0;
    _0x5c437a.x = _0x3175ac;
    _0x5c437a.y = _0x2802be;
    return _0x5c437a;
  }
  function inverse$i(_0x159d30) {
    var _0x10fc85;
    var _0x3b7131;
    var _0x1f4046;
    var _0x1953d7;
    var _0xfe2846;
    var _0xc2e026;
    _0x159d30.x -= this.x0;
    _0x159d30.y = this.rh - _0x159d30.y + this.y0;
    if (this.ns0 >= 0) {
      _0x10fc85 = Math.sqrt(_0x159d30.x * _0x159d30.x + _0x159d30.y * _0x159d30.y);
      _0x1f4046 = 1;
    } else {
      _0x10fc85 = -Math.sqrt(_0x159d30.x * _0x159d30.x + _0x159d30.y * _0x159d30.y);
      _0x1f4046 = -1;
    }
    _0x1953d7 = 0;
    if (_0x10fc85 !== 0) {
      _0x1953d7 = Math.atan2(_0x1f4046 * _0x159d30.x, _0x1f4046 * _0x159d30.y);
    }
    _0x1f4046 = _0x10fc85 * this.ns0 / this.a;
    if (this.sphere) {
      _0xc2e026 = Math.asin((this.c - _0x1f4046 * _0x1f4046) / (this.ns0 * 2));
    } else {
      _0x3b7131 = (this.c - _0x1f4046 * _0x1f4046) / this.ns0;
      _0xc2e026 = this.phi1z(this.e3, _0x3b7131);
    }
    _0xfe2846 = adjust_lon(_0x1953d7 / this.ns0 + this.long0);
    _0x159d30.x = _0xfe2846;
    _0x159d30.y = _0xc2e026;
    return _0x159d30;
  }
  function phi1z(_0x4a86ee, _0x35c815) {
    var _0x41fe4b;
    var _0x3048ea;
    var _0x108a09;
    var _0x17ca8e;
    var _0xf072ff;
    var _0x41b8db = asinz(_0x35c815 * 0.5);
    if (_0x4a86ee < EPSLN) {
      return _0x41b8db;
    }
    var _0x547256 = _0x4a86ee * _0x4a86ee;
    for (var _0x1d9efb = 1; _0x1d9efb <= 25; _0x1d9efb++) {
      _0x41fe4b = Math.sin(_0x41b8db);
      _0x3048ea = Math.cos(_0x41b8db);
      _0x108a09 = _0x4a86ee * _0x41fe4b;
      _0x17ca8e = 1 - _0x108a09 * _0x108a09;
      _0xf072ff = _0x17ca8e * 0.5 * _0x17ca8e / _0x3048ea * (_0x35c815 / (1 - _0x547256) - _0x41fe4b / _0x17ca8e + 0.5 / _0x4a86ee * Math.log((1 - _0x108a09) / (1 + _0x108a09)));
      _0x41b8db = _0x41b8db + _0xf072ff;
      if (Math.abs(_0xf072ff) <= 1e-7) {
        return _0x41b8db;
      }
    }
    return null;
  }
  var names$i = ["Albers_Conic_Equal_Area", "Albers", "aea"];
  const _0x534eda = {
    init: init$i,
    forward: forward$i,
    inverse: inverse$i,
    names: names$i,
    phi1z: phi1z
  };
  var aea = _0x534eda;
  function init$h() {
    this.sin_p14 = Math.sin(this.lat0);
    this.cos_p14 = Math.cos(this.lat0);
    this.infinity_dist = this.a * 1000;
    this.rc = 1;
  }
  function forward$h(_0x36ca3f) {
    var _0x300f3f;
    var _0x196ca0;
    var _0xef30d4;
    var _0x102e5f;
    var _0x1a4694;
    var _0x5bab35;
    var _0x20f587;
    var _0x340bc2;
    var _0x596b75 = _0x36ca3f.x;
    var _0x4b03a5 = _0x36ca3f.y;
    _0xef30d4 = adjust_lon(_0x596b75 - this.long0);
    _0x300f3f = Math.sin(_0x4b03a5);
    _0x196ca0 = Math.cos(_0x4b03a5);
    _0x102e5f = Math.cos(_0xef30d4);
    _0x5bab35 = this.sin_p14 * _0x300f3f + this.cos_p14 * _0x196ca0 * _0x102e5f;
    _0x1a4694 = 1;
    if (_0x5bab35 > 0 || Math.abs(_0x5bab35) <= EPSLN) {
      _0x20f587 = this.x0 + this.a * _0x1a4694 * _0x196ca0 * Math.sin(_0xef30d4) / _0x5bab35;
      _0x340bc2 = this.y0 + this.a * _0x1a4694 * (this.cos_p14 * _0x300f3f - this.sin_p14 * _0x196ca0 * _0x102e5f) / _0x5bab35;
    } else {
      _0x20f587 = this.x0 + this.infinity_dist * _0x196ca0 * Math.sin(_0xef30d4);
      _0x340bc2 = this.y0 + this.infinity_dist * (this.cos_p14 * _0x300f3f - this.sin_p14 * _0x196ca0 * _0x102e5f);
    }
    _0x36ca3f.x = _0x20f587;
    _0x36ca3f.y = _0x340bc2;
    return _0x36ca3f;
  }
  function inverse$h(_0x54174f) {
    var _0x199b5a;
    var _0xd2da43;
    var _0x5052bd;
    var _0x5c2fff;
    var _0x2a3a8e;
    var _0x2ee21a;
    _0x54174f.x = (_0x54174f.x - this.x0) / this.a;
    _0x54174f.y = (_0x54174f.y - this.y0) / this.a;
    _0x54174f.x /= this.k0;
    _0x54174f.y /= this.k0;
    if (_0x199b5a = Math.sqrt(_0x54174f.x * _0x54174f.x + _0x54174f.y * _0x54174f.y)) {
      _0x5c2fff = Math.atan2(_0x199b5a, this.rc);
      _0xd2da43 = Math.sin(_0x5c2fff);
      _0x5052bd = Math.cos(_0x5c2fff);
      _0x2ee21a = asinz(_0x5052bd * this.sin_p14 + _0x54174f.y * _0xd2da43 * this.cos_p14 / _0x199b5a);
      _0x2a3a8e = Math.atan2(_0x54174f.x * _0xd2da43, _0x199b5a * this.cos_p14 * _0x5052bd - _0x54174f.y * this.sin_p14 * _0xd2da43);
      _0x2a3a8e = adjust_lon(this.long0 + _0x2a3a8e);
    } else {
      _0x2ee21a = this.phic0;
      _0x2a3a8e = 0;
    }
    _0x54174f.x = _0x2a3a8e;
    _0x54174f.y = _0x2ee21a;
    return _0x54174f;
  }
  var names$h = ["gnom"];
  const _0x3db4ec = {
    init: init$h,
    forward: forward$h,
    inverse: inverse$h,
    names: names$h
  };
  var gnom = _0x3db4ec;
  function iqsfnz(_0x1b4b0e, _0x5d7f40) {
    var _0x35e9e3 = 1 - (1 - _0x1b4b0e * _0x1b4b0e) / (_0x1b4b0e * 2) * Math.log((1 - _0x1b4b0e) / (1 + _0x1b4b0e));
    if (Math.abs(Math.abs(_0x5d7f40) - _0x35e9e3) < 0.000001) {
      if (_0x5d7f40 < 0) {
        return HALF_PI * -1;
      } else {
        return HALF_PI;
      }
    }
    var _0x5a8cbb = Math.asin(_0x5d7f40 * 0.5);
    var _0x1c224a;
    var _0x33056e;
    var _0xefc76;
    var _0x58abce;
    for (var _0x24c43c = 0; _0x24c43c < 30; _0x24c43c++) {
      _0x33056e = Math.sin(_0x5a8cbb);
      _0xefc76 = Math.cos(_0x5a8cbb);
      _0x58abce = _0x1b4b0e * _0x33056e;
      _0x1c224a = Math.pow(1 - _0x58abce * _0x58abce, 2) / (_0xefc76 * 2) * (_0x5d7f40 / (1 - _0x1b4b0e * _0x1b4b0e) - _0x33056e / (1 - _0x58abce * _0x58abce) + 0.5 / _0x1b4b0e * Math.log((1 - _0x58abce) / (1 + _0x58abce)));
      _0x5a8cbb += _0x1c224a;
      if (Math.abs(_0x1c224a) <= 1e-10) {
        return _0x5a8cbb;
      }
    }
    return NaN;
  }
  function init$g() {
    if (!this.sphere) {
      this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));
    }
  }
  function forward$g(_0x575649) {
    var _0x2af813 = _0x575649.x;
    var _0x138efe = _0x575649.y;
    var _0x197ab4;
    var _0x3cd560;
    var _0x2cbe70 = adjust_lon(_0x2af813 - this.long0);
    if (this.sphere) {
      _0x197ab4 = this.x0 + this.a * _0x2cbe70 * Math.cos(this.lat_ts);
      _0x3cd560 = this.y0 + this.a * Math.sin(_0x138efe) / Math.cos(this.lat_ts);
    } else {
      var _0x2ded73 = qsfnz(this.e, Math.sin(_0x138efe));
      _0x197ab4 = this.x0 + this.a * this.k0 * _0x2cbe70;
      _0x3cd560 = this.y0 + this.a * _0x2ded73 * 0.5 / this.k0;
    }
    _0x575649.x = _0x197ab4;
    _0x575649.y = _0x3cd560;
    return _0x575649;
  }
  function inverse$g(_0x9635e) {
    _0x9635e.x -= this.x0;
    _0x9635e.y -= this.y0;
    var _0x17840d;
    var _0x44338d;
    if (this.sphere) {
      _0x17840d = adjust_lon(this.long0 + _0x9635e.x / this.a / Math.cos(this.lat_ts));
      _0x44338d = Math.asin(_0x9635e.y / this.a * Math.cos(this.lat_ts));
    } else {
      _0x44338d = iqsfnz(this.e, _0x9635e.y * 2 * this.k0 / this.a);
      _0x17840d = adjust_lon(this.long0 + _0x9635e.x / (this.a * this.k0));
    }
    _0x9635e.x = _0x17840d;
    _0x9635e.y = _0x44338d;
    return _0x9635e;
  }
  var names$g = ["cea"];
  const _0x564b84 = {
    init: init$g,
    forward: forward$g,
    inverse: inverse$g,
    names: names$g
  };
  var cea = _0x564b84;
  function init$f() {
    this.x0 = this.x0 || 0;
    this.y0 = this.y0 || 0;
    this.lat0 = this.lat0 || 0;
    this.long0 = this.long0 || 0;
    this.lat_ts = this.lat_ts || 0;
    this.title = this.title || "Equidistant Cylindrical (Plate Carre)";
    this.rc = Math.cos(this.lat_ts);
  }
  function forward$f(_0x497c07) {
    var _0x4388bf = _0x497c07.x;
    var _0x14a4e4 = _0x497c07.y;
    var _0x14cb3e = adjust_lon(_0x4388bf - this.long0);
    var _0x4c687d = adjust_lat(_0x14a4e4 - this.lat0);
    _0x497c07.x = this.x0 + this.a * _0x14cb3e * this.rc;
    _0x497c07.y = this.y0 + this.a * _0x4c687d;
    return _0x497c07;
  }
  function inverse$f(_0x290014) {
    var _0x29d790 = _0x290014.x;
    var _0x29f388 = _0x290014.y;
    _0x290014.x = adjust_lon(this.long0 + (_0x29d790 - this.x0) / (this.a * this.rc));
    _0x290014.y = adjust_lat(this.lat0 + (_0x29f388 - this.y0) / this.a);
    return _0x290014;
  }
  var names$f = ["Equirectangular", "Equidistant_Cylindrical", "eqc"];
  const _0x19afc3 = {
    init: init$f,
    forward: forward$f,
    inverse: inverse$f,
    names: names$f
  };
  var eqc = _0x19afc3;
  var MAX_ITER$1 = 20;
  function init$e() {
    this.temp = this.b / this.a;
    this.es = 1 - Math.pow(this.temp, 2);
    this.e = Math.sqrt(this.es);
    this.e0 = e0fn(this.es);
    this.e1 = e1fn(this.es);
    this.e2 = e2fn(this.es);
    this.e3 = e3fn(this.es);
    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
  }
  function forward$e(_0x2ff61d) {
    var _0x2bcade = _0x2ff61d.x;
    var _0x13a7dc = _0x2ff61d.y;
    var _0x2e7bcd;
    var _0x3ff838;
    var _0x6ec2f2;
    var _0x3663d1 = adjust_lon(_0x2bcade - this.long0);
    _0x6ec2f2 = _0x3663d1 * Math.sin(_0x13a7dc);
    if (this.sphere) {
      if (Math.abs(_0x13a7dc) <= EPSLN) {
        _0x2e7bcd = this.a * _0x3663d1;
        _0x3ff838 = this.a * -1 * this.lat0;
      } else {
        _0x2e7bcd = this.a * Math.sin(_0x6ec2f2) / Math.tan(_0x13a7dc);
        _0x3ff838 = this.a * (adjust_lat(_0x13a7dc - this.lat0) + (1 - Math.cos(_0x6ec2f2)) / Math.tan(_0x13a7dc));
      }
    } else if (Math.abs(_0x13a7dc) <= EPSLN) {
      _0x2e7bcd = this.a * _0x3663d1;
      _0x3ff838 = this.ml0 * -1;
    } else {
      var _0x108ffe = gN(this.a, this.e, Math.sin(_0x13a7dc)) / Math.tan(_0x13a7dc);
      _0x2e7bcd = _0x108ffe * Math.sin(_0x6ec2f2);
      _0x3ff838 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, _0x13a7dc) - this.ml0 + _0x108ffe * (1 - Math.cos(_0x6ec2f2));
    }
    _0x2ff61d.x = _0x2e7bcd + this.x0;
    _0x2ff61d.y = _0x3ff838 + this.y0;
    return _0x2ff61d;
  }
  function inverse$e(_0x4d2113) {
    var _0x3dd67a;
    var _0x2aaaf5;
    var _0x5efc9d;
    var _0x9780cd;
    var _0x5e4e43;
    var _0x303d59;
    var _0x54754a;
    var _0x4db671;
    var _0x1f5096;
    _0x5efc9d = _0x4d2113.x - this.x0;
    _0x9780cd = _0x4d2113.y - this.y0;
    if (this.sphere) {
      if (Math.abs(_0x9780cd + this.a * this.lat0) <= EPSLN) {
        _0x3dd67a = adjust_lon(_0x5efc9d / this.a + this.long0);
        _0x2aaaf5 = 0;
      } else {
        _0x303d59 = this.lat0 + _0x9780cd / this.a;
        _0x54754a = _0x5efc9d * _0x5efc9d / this.a / this.a + _0x303d59 * _0x303d59;
        _0x4db671 = _0x303d59;
        var _0x1280d9;
        for (_0x5e4e43 = MAX_ITER$1; _0x5e4e43; --_0x5e4e43) {
          _0x1280d9 = Math.tan(_0x4db671);
          _0x1f5096 = (_0x303d59 * (_0x4db671 * _0x1280d9 + 1) - _0x4db671 - (_0x4db671 * _0x4db671 + _0x54754a) * 0.5 * _0x1280d9) * -1 / ((_0x4db671 - _0x303d59) / _0x1280d9 - 1);
          _0x4db671 += _0x1f5096;
          if (Math.abs(_0x1f5096) <= EPSLN) {
            _0x2aaaf5 = _0x4db671;
            break;
          }
        }
        _0x3dd67a = adjust_lon(this.long0 + Math.asin(_0x5efc9d * Math.tan(_0x4db671) / this.a) / Math.sin(_0x2aaaf5));
      }
    } else if (Math.abs(_0x9780cd + this.ml0) <= EPSLN) {
      _0x2aaaf5 = 0;
      _0x3dd67a = adjust_lon(this.long0 + _0x5efc9d / this.a);
    } else {
      _0x303d59 = (this.ml0 + _0x9780cd) / this.a;
      _0x54754a = _0x5efc9d * _0x5efc9d / this.a / this.a + _0x303d59 * _0x303d59;
      _0x4db671 = _0x303d59;
      var _0x40b386;
      var _0x3f06e7;
      var _0x345987;
      var _0x5d68ce;
      var _0x20b40f;
      for (_0x5e4e43 = MAX_ITER$1; _0x5e4e43; --_0x5e4e43) {
        _0x20b40f = this.e * Math.sin(_0x4db671);
        _0x40b386 = Math.sqrt(1 - _0x20b40f * _0x20b40f) * Math.tan(_0x4db671);
        _0x3f06e7 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, _0x4db671);
        _0x345987 = this.e0 - this.e1 * 2 * Math.cos(_0x4db671 * 2) + this.e2 * 4 * Math.cos(_0x4db671 * 4) - this.e3 * 6 * Math.cos(_0x4db671 * 6);
        _0x5d68ce = _0x3f06e7 / this.a;
        _0x1f5096 = (_0x303d59 * (_0x40b386 * _0x5d68ce + 1) - _0x5d68ce - _0x40b386 * 0.5 * (_0x5d68ce * _0x5d68ce + _0x54754a)) / (this.es * Math.sin(_0x4db671 * 2) * (_0x5d68ce * _0x5d68ce + _0x54754a - _0x303d59 * 2 * _0x5d68ce) / (_0x40b386 * 4) + (_0x303d59 - _0x5d68ce) * (_0x40b386 * _0x345987 - 2 / Math.sin(_0x4db671 * 2)) - _0x345987);
        _0x4db671 -= _0x1f5096;
        if (Math.abs(_0x1f5096) <= EPSLN) {
          _0x2aaaf5 = _0x4db671;
          break;
        }
      }
      _0x40b386 = Math.sqrt(1 - this.es * Math.pow(Math.sin(_0x2aaaf5), 2)) * Math.tan(_0x2aaaf5);
      _0x3dd67a = adjust_lon(this.long0 + Math.asin(_0x5efc9d * _0x40b386 / this.a) / Math.sin(_0x2aaaf5));
    }
    _0x4d2113.x = _0x3dd67a;
    _0x4d2113.y = _0x2aaaf5;
    return _0x4d2113;
  }
  var names$e = ["Polyconic", "poly"];
  const _0x21234f = {
    init: init$e,
    forward: forward$e,
    inverse: inverse$e,
    names: names$e
  };
  var poly = _0x21234f;
  function init$d() {
    this.A = [];
    this.A[1] = 0.6399175073;
    this.A[2] = -0.1358797613;
    this.A[3] = 0.063294409;
    this.A[4] = -0.02526853;
    this.A[5] = 0.0117879;
    this.A[6] = -0.0055161;
    this.A[7] = 0.0026906;
    this.A[8] = -0.001333;
    this.A[9] = 0.00067;
    this.A[10] = -0.00034;
    this.B_re = [];
    this.B_im = [];
    this.B_re[1] = 0.7557853228;
    this.B_im[1] = 0;
    this.B_re[2] = 0.249204646;
    this.B_im[2] = 0.003371507;
    this.B_re[3] = -0.001541739;
    this.B_im[3] = 0.04105856;
    this.B_re[4] = -0.10162907;
    this.B_im[4] = 0.01727609;
    this.B_re[5] = -0.26623489;
    this.B_im[5] = -0.36249218;
    this.B_re[6] = -0.6870983;
    this.B_im[6] = -1.1651967;
    this.C_re = [];
    this.C_im = [];
    this.C_re[1] = 1.3231270439;
    this.C_im[1] = 0;
    this.C_re[2] = -0.577245789;
    this.C_im[2] = -0.007809598;
    this.C_re[3] = 0.508307513;
    this.C_im[3] = -0.112208952;
    this.C_re[4] = -0.15094762;
    this.C_im[4] = 0.18200602;
    this.C_re[5] = 1.01418179;
    this.C_im[5] = 1.64497696;
    this.C_re[6] = 1.9660549;
    this.C_im[6] = 2.5127645;
    this.D = [];
    this.D[1] = 1.5627014243;
    this.D[2] = 0.5185406398;
    this.D[3] = -0.03333098;
    this.D[4] = -0.1052906;
    this.D[5] = -0.0368594;
    this.D[6] = 0.007317;
    this.D[7] = 0.0122;
    this.D[8] = 0.00394;
    this.D[9] = -0.0013;
  }
  function forward$d(_0x3401a0) {
    var _0x368726;
    var _0x2bcb96 = _0x3401a0.x;
    var _0x41ba37 = _0x3401a0.y;
    var _0x4c16bc = _0x41ba37 - this.lat0;
    var _0x145c3e = _0x2bcb96 - this.long0;
    var _0x5b76fd = _0x4c16bc / SEC_TO_RAD * 0.00001;
    var _0x15de1e = _0x145c3e;
    var _0x319afd = 1;
    var _0x5bc03e = 0;
    for (_0x368726 = 1; _0x368726 <= 10; _0x368726++) {
      _0x319afd = _0x319afd * _0x5b76fd;
      _0x5bc03e = _0x5bc03e + this.A[_0x368726] * _0x319afd;
    }
    var _0x2bde00 = _0x5bc03e;
    var _0x75a5df = _0x15de1e;
    var _0x56ffb2 = 1;
    var _0x3ec035 = 0;
    var _0x2d72d6;
    var _0x2ec9a3;
    var _0x5d55ed = 0;
    var _0x59a66d = 0;
    for (_0x368726 = 1; _0x368726 <= 6; _0x368726++) {
      _0x2d72d6 = _0x56ffb2 * _0x2bde00 - _0x3ec035 * _0x75a5df;
      _0x2ec9a3 = _0x3ec035 * _0x2bde00 + _0x56ffb2 * _0x75a5df;
      _0x56ffb2 = _0x2d72d6;
      _0x3ec035 = _0x2ec9a3;
      _0x5d55ed = _0x5d55ed + this.B_re[_0x368726] * _0x56ffb2 - this.B_im[_0x368726] * _0x3ec035;
      _0x59a66d = _0x59a66d + this.B_im[_0x368726] * _0x56ffb2 + this.B_re[_0x368726] * _0x3ec035;
    }
    _0x3401a0.x = _0x59a66d * this.a + this.x0;
    _0x3401a0.y = _0x5d55ed * this.a + this.y0;
    return _0x3401a0;
  }
  function inverse$d(_0x2a0327) {
    var _0x4a0247;
    var _0x3441b7 = _0x2a0327.x;
    var _0x37ee31 = _0x2a0327.y;
    var _0x5e8fac = _0x3441b7 - this.x0;
    var _0x1f6e41 = _0x37ee31 - this.y0;
    var _0x2dcd7c = _0x1f6e41 / this.a;
    var _0x58fbf8 = _0x5e8fac / this.a;
    var _0x1a24c4 = 1;
    var _0xc043a8 = 0;
    var _0x3b49f4;
    var _0x28c5e3;
    var _0x509046 = 0;
    var _0xaadad8 = 0;
    for (_0x4a0247 = 1; _0x4a0247 <= 6; _0x4a0247++) {
      _0x3b49f4 = _0x1a24c4 * _0x2dcd7c - _0xc043a8 * _0x58fbf8;
      _0x28c5e3 = _0xc043a8 * _0x2dcd7c + _0x1a24c4 * _0x58fbf8;
      _0x1a24c4 = _0x3b49f4;
      _0xc043a8 = _0x28c5e3;
      _0x509046 = _0x509046 + this.C_re[_0x4a0247] * _0x1a24c4 - this.C_im[_0x4a0247] * _0xc043a8;
      _0xaadad8 = _0xaadad8 + this.C_im[_0x4a0247] * _0x1a24c4 + this.C_re[_0x4a0247] * _0xc043a8;
    }
    for (var _0x21f579 = 0; _0x21f579 < this.iterations; _0x21f579++) {
      var _0x12403b = _0x509046;
      var _0x4b9bdc = _0xaadad8;
      var _0x1d1ebb;
      var _0x3b38bb;
      var _0x43fa7b = _0x2dcd7c;
      var _0x4e15cc = _0x58fbf8;
      for (_0x4a0247 = 2; _0x4a0247 <= 6; _0x4a0247++) {
        _0x1d1ebb = _0x12403b * _0x509046 - _0x4b9bdc * _0xaadad8;
        _0x3b38bb = _0x4b9bdc * _0x509046 + _0x12403b * _0xaadad8;
        _0x12403b = _0x1d1ebb;
        _0x4b9bdc = _0x3b38bb;
        _0x43fa7b = _0x43fa7b + (_0x4a0247 - 1) * (this.B_re[_0x4a0247] * _0x12403b - this.B_im[_0x4a0247] * _0x4b9bdc);
        _0x4e15cc = _0x4e15cc + (_0x4a0247 - 1) * (this.B_im[_0x4a0247] * _0x12403b + this.B_re[_0x4a0247] * _0x4b9bdc);
      }
      _0x12403b = 1;
      _0x4b9bdc = 0;
      var _0x144f82 = this.B_re[1];
      var _0x41947e = this.B_im[1];
      for (_0x4a0247 = 2; _0x4a0247 <= 6; _0x4a0247++) {
        _0x1d1ebb = _0x12403b * _0x509046 - _0x4b9bdc * _0xaadad8;
        _0x3b38bb = _0x4b9bdc * _0x509046 + _0x12403b * _0xaadad8;
        _0x12403b = _0x1d1ebb;
        _0x4b9bdc = _0x3b38bb;
        _0x144f82 = _0x144f82 + _0x4a0247 * (this.B_re[_0x4a0247] * _0x12403b - this.B_im[_0x4a0247] * _0x4b9bdc);
        _0x41947e = _0x41947e + _0x4a0247 * (this.B_im[_0x4a0247] * _0x12403b + this.B_re[_0x4a0247] * _0x4b9bdc);
      }
      var _0x446837 = _0x144f82 * _0x144f82 + _0x41947e * _0x41947e;
      _0x509046 = (_0x43fa7b * _0x144f82 + _0x4e15cc * _0x41947e) / _0x446837;
      _0xaadad8 = (_0x4e15cc * _0x144f82 - _0x43fa7b * _0x41947e) / _0x446837;
    }
    var _0xfff4cf = _0x509046;
    var _0x2d4f87 = _0xaadad8;
    var _0x2233c8 = 1;
    var _0x476719 = 0;
    for (_0x4a0247 = 1; _0x4a0247 <= 9; _0x4a0247++) {
      _0x2233c8 = _0x2233c8 * _0xfff4cf;
      _0x476719 = _0x476719 + this.D[_0x4a0247] * _0x2233c8;
    }
    var _0x1f2596 = this.lat0 + _0x476719 * SEC_TO_RAD * 100000;
    var _0xe0773f = this.long0 + _0x2d4f87;
    _0x2a0327.x = _0xe0773f;
    _0x2a0327.y = _0x1f2596;
    return _0x2a0327;
  }
  var names$d = ["New_Zealand_Map_Grid", "nzmg"];
  const _0x8da5d6 = {
    init: init$d,
    forward: forward$d,
    inverse: inverse$d,
    names: names$d
  };
  var nzmg = _0x8da5d6;
  function init$c() {}
  function forward$c(_0x193359) {
    var _0x693084 = _0x193359.x;
    var _0x4eeaf4 = _0x193359.y;
    var _0x2f29e4 = adjust_lon(_0x693084 - this.long0);
    var _0x2be389 = this.x0 + this.a * _0x2f29e4;
    var _0x49ced3 = this.y0 + this.a * Math.log(Math.tan(Math.PI / 4 + _0x4eeaf4 / 2.5)) * 1.25;
    _0x193359.x = _0x2be389;
    _0x193359.y = _0x49ced3;
    return _0x193359;
  }
  function inverse$c(_0x4339ee) {
    _0x4339ee.x -= this.x0;
    _0x4339ee.y -= this.y0;
    var _0x3605d5 = adjust_lon(this.long0 + _0x4339ee.x / this.a);
    var _0x488c91 = (Math.atan(Math.exp(_0x4339ee.y * 0.8 / this.a)) - Math.PI / 4) * 2.5;
    _0x4339ee.x = _0x3605d5;
    _0x4339ee.y = _0x488c91;
    return _0x4339ee;
  }
  var names$c = ["Miller_Cylindrical", "mill"];
  const _0x26404e = {
    init: init$c,
    forward: forward$c,
    inverse: inverse$c,
    names: names$c
  };
  var mill = _0x26404e;
  var MAX_ITER = 20;
  function init$b() {
    if (!this.sphere) {
      this.en = pj_enfn(this.es);
    } else {
      this.n = 1;
      this.m = 0;
      this.es = 0;
      this.C_y = Math.sqrt((this.m + 1) / this.n);
      this.C_x = this.C_y / (this.m + 1);
    }
  }
  function forward$b(_0x983ca5) {
    var _0x1abfb1;
    var _0x1ea4f6;
    var _0x2558b8 = _0x983ca5.x;
    var _0x333f0a = _0x983ca5.y;
    _0x2558b8 = adjust_lon(_0x2558b8 - this.long0);
    if (this.sphere) {
      if (!this.m) {
        _0x333f0a = this.n !== 1 ? Math.asin(this.n * Math.sin(_0x333f0a)) : _0x333f0a;
      } else {
        var _0x6fffa0 = this.n * Math.sin(_0x333f0a);
        for (var _0x4c1814 = MAX_ITER; _0x4c1814; --_0x4c1814) {
          var _0x3d5dfd = (this.m * _0x333f0a + Math.sin(_0x333f0a) - _0x6fffa0) / (this.m + Math.cos(_0x333f0a));
          _0x333f0a -= _0x3d5dfd;
          if (Math.abs(_0x3d5dfd) < EPSLN) {
            break;
          }
        }
      }
      _0x1abfb1 = this.a * this.C_x * _0x2558b8 * (this.m + Math.cos(_0x333f0a));
      _0x1ea4f6 = this.a * this.C_y * _0x333f0a;
    } else {
      var _0x5c490a = Math.sin(_0x333f0a);
      var _0x3328a5 = Math.cos(_0x333f0a);
      _0x1ea4f6 = this.a * pj_mlfn(_0x333f0a, _0x5c490a, _0x3328a5, this.en);
      _0x1abfb1 = this.a * _0x2558b8 * _0x3328a5 / Math.sqrt(1 - this.es * _0x5c490a * _0x5c490a);
    }
    _0x983ca5.x = _0x1abfb1;
    _0x983ca5.y = _0x1ea4f6;
    return _0x983ca5;
  }
  function inverse$b(_0xcb944a) {
    var _0x1390e2;
    var _0x3cecb2;
    var _0x3b2d67;
    var _0x3e8c9d;
    _0xcb944a.x -= this.x0;
    _0x3b2d67 = _0xcb944a.x / this.a;
    _0xcb944a.y -= this.y0;
    _0x1390e2 = _0xcb944a.y / this.a;
    if (this.sphere) {
      _0x1390e2 /= this.C_y;
      _0x3b2d67 = _0x3b2d67 / (this.C_x * (this.m + Math.cos(_0x1390e2)));
      if (this.m) {
        _0x1390e2 = asinz((this.m * _0x1390e2 + Math.sin(_0x1390e2)) / this.n);
      } else if (this.n !== 1) {
        _0x1390e2 = asinz(Math.sin(_0x1390e2) / this.n);
      }
      _0x3b2d67 = adjust_lon(_0x3b2d67 + this.long0);
      _0x1390e2 = adjust_lat(_0x1390e2);
    } else {
      _0x1390e2 = pj_inv_mlfn(_0xcb944a.y / this.a, this.es, this.en);
      _0x3e8c9d = Math.abs(_0x1390e2);
      if (_0x3e8c9d < HALF_PI) {
        _0x3e8c9d = Math.sin(_0x1390e2);
        _0x3cecb2 = this.long0 + _0xcb944a.x * Math.sqrt(1 - this.es * _0x3e8c9d * _0x3e8c9d) / (this.a * Math.cos(_0x1390e2));
        _0x3b2d67 = adjust_lon(_0x3cecb2);
      } else if (_0x3e8c9d - EPSLN < HALF_PI) {
        _0x3b2d67 = this.long0;
      }
    }
    _0xcb944a.x = _0x3b2d67;
    _0xcb944a.y = _0x1390e2;
    return _0xcb944a;
  }
  var names$b = ["Sinusoidal", "sinu"];
  const _0x41e215 = {
    init: init$b,
    forward: forward$b,
    inverse: inverse$b,
    names: names$b
  };
  var sinu = _0x41e215;
  function init$a() {}
  function forward$a(_0x1db742) {
    var _0x21d1ce = _0x1db742.x;
    var _0x4e7a90 = _0x1db742.y;
    var _0x2e23bf = adjust_lon(_0x21d1ce - this.long0);
    var _0x3debc7 = _0x4e7a90;
    var _0x51cdec = Math.PI * Math.sin(_0x4e7a90);
    while (true) {
      var _0xcbd0cf = -(_0x3debc7 + Math.sin(_0x3debc7) - _0x51cdec) / (1 + Math.cos(_0x3debc7));
      _0x3debc7 += _0xcbd0cf;
      if (Math.abs(_0xcbd0cf) < EPSLN) {
        break;
      }
    }
    _0x3debc7 /= 2;
    if (Math.PI / 2 - Math.abs(_0x4e7a90) < EPSLN) {
      _0x2e23bf = 0;
    }
    var _0x13f37f = this.a * 0.900316316158 * _0x2e23bf * Math.cos(_0x3debc7) + this.x0;
    var _0x5319af = this.a * 1.4142135623731 * Math.sin(_0x3debc7) + this.y0;
    _0x1db742.x = _0x13f37f;
    _0x1db742.y = _0x5319af;
    return _0x1db742;
  }
  function inverse$a(_0x29a75e) {
    var _0x64f2a1;
    var _0x344023;
    _0x29a75e.x -= this.x0;
    _0x29a75e.y -= this.y0;
    _0x344023 = _0x29a75e.y / (this.a * 1.4142135623731);
    if (Math.abs(_0x344023) > 0.999999999999) {
      _0x344023 = 0.999999999999;
    }
    _0x64f2a1 = Math.asin(_0x344023);
    var _0x2d1c86 = adjust_lon(this.long0 + _0x29a75e.x / (this.a * 0.900316316158 * Math.cos(_0x64f2a1)));
    if (_0x2d1c86 < -Math.PI) {
      _0x2d1c86 = -Math.PI;
    }
    if (_0x2d1c86 > Math.PI) {
      _0x2d1c86 = Math.PI;
    }
    _0x344023 = (_0x64f2a1 * 2 + Math.sin(_0x64f2a1 * 2)) / Math.PI;
    if (Math.abs(_0x344023) > 1) {
      _0x344023 = 1;
    }
    var _0x4325bd = Math.asin(_0x344023);
    _0x29a75e.x = _0x2d1c86;
    _0x29a75e.y = _0x4325bd;
    return _0x29a75e;
  }
  var names$a = ["Mollweide", "moll"];
  const _0x395f63 = {
    init: init$a,
    forward: forward$a,
    inverse: inverse$a,
    names: names$a
  };
  var moll = _0x395f63;
  function init$9() {
    if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
      return;
    }
    this.lat2 = this.lat2 || this.lat1;
    this.temp = this.b / this.a;
    this.es = 1 - Math.pow(this.temp, 2);
    this.e = Math.sqrt(this.es);
    this.e0 = e0fn(this.es);
    this.e1 = e1fn(this.es);
    this.e2 = e2fn(this.es);
    this.e3 = e3fn(this.es);
    this.sinphi = Math.sin(this.lat1);
    this.cosphi = Math.cos(this.lat1);
    this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);
    this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);
    if (Math.abs(this.lat1 - this.lat2) < EPSLN) {
      this.ns = this.sinphi;
    } else {
      this.sinphi = Math.sin(this.lat2);
      this.cosphi = Math.cos(this.lat2);
      this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);
      this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);
      this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);
    }
    this.g = this.ml1 + this.ms1 / this.ns;
    this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
    this.rh = this.a * (this.g - this.ml0);
  }
  function forward$9(_0x21773f) {
    var _0x202134 = _0x21773f.x;
    var _0x238dc9 = _0x21773f.y;
    var _0x162690;
    if (this.sphere) {
      _0x162690 = this.a * (this.g - _0x238dc9);
    } else {
      var _0x24a88a = mlfn(this.e0, this.e1, this.e2, this.e3, _0x238dc9);
      _0x162690 = this.a * (this.g - _0x24a88a);
    }
    var _0x11eea8 = this.ns * adjust_lon(_0x202134 - this.long0);
    var _0x32abc9 = this.x0 + _0x162690 * Math.sin(_0x11eea8);
    var _0x2e11d5 = this.y0 + this.rh - _0x162690 * Math.cos(_0x11eea8);
    _0x21773f.x = _0x32abc9;
    _0x21773f.y = _0x2e11d5;
    return _0x21773f;
  }
  function inverse$9(_0x17f8bd) {
    _0x17f8bd.x -= this.x0;
    _0x17f8bd.y = this.rh - _0x17f8bd.y + this.y0;
    var _0x2d7842;
    var _0x1ebc74;
    var _0x28aafb;
    var _0x13bc65;
    if (this.ns >= 0) {
      _0x1ebc74 = Math.sqrt(_0x17f8bd.x * _0x17f8bd.x + _0x17f8bd.y * _0x17f8bd.y);
      _0x2d7842 = 1;
    } else {
      _0x1ebc74 = -Math.sqrt(_0x17f8bd.x * _0x17f8bd.x + _0x17f8bd.y * _0x17f8bd.y);
      _0x2d7842 = -1;
    }
    var _0x46ca7f = 0;
    if (_0x1ebc74 !== 0) {
      _0x46ca7f = Math.atan2(_0x2d7842 * _0x17f8bd.x, _0x2d7842 * _0x17f8bd.y);
    }
    if (this.sphere) {
      _0x13bc65 = adjust_lon(this.long0 + _0x46ca7f / this.ns);
      _0x28aafb = adjust_lat(this.g - _0x1ebc74 / this.a);
      _0x17f8bd.x = _0x13bc65;
      _0x17f8bd.y = _0x28aafb;
      return _0x17f8bd;
    } else {
      var _0x1f9280 = this.g - _0x1ebc74 / this.a;
      _0x28aafb = imlfn(_0x1f9280, this.e0, this.e1, this.e2, this.e3);
      _0x13bc65 = adjust_lon(this.long0 + _0x46ca7f / this.ns);
      _0x17f8bd.x = _0x13bc65;
      _0x17f8bd.y = _0x28aafb;
      return _0x17f8bd;
    }
  }
  var names$9 = ["Equidistant_Conic", "eqdc"];
  const _0x1eb528 = {
    init: init$9,
    forward: forward$9,
    inverse: inverse$9,
    names: names$9
  };
  var eqdc = _0x1eb528;
  function init$8() {
    this.R = this.a;
  }
  function forward$8(_0x3c36f6) {
    var _0xed3f75 = _0x3c36f6.x;
    var _0x28e6b0 = _0x3c36f6.y;
    var _0x125ffb = adjust_lon(_0xed3f75 - this.long0);
    var _0x5f2390;
    var _0x28803c;
    if (Math.abs(_0x28e6b0) <= EPSLN) {
      _0x5f2390 = this.x0 + this.R * _0x125ffb;
      _0x28803c = this.y0;
    }
    var _0xc2ff10 = asinz(Math.abs(_0x28e6b0 / Math.PI) * 2);
    if (Math.abs(_0x125ffb) <= EPSLN || Math.abs(Math.abs(_0x28e6b0) - HALF_PI) <= EPSLN) {
      _0x5f2390 = this.x0;
      if (_0x28e6b0 >= 0) {
        _0x28803c = this.y0 + Math.PI * this.R * Math.tan(_0xc2ff10 * 0.5);
      } else {
        _0x28803c = this.y0 + Math.PI * this.R * -Math.tan(_0xc2ff10 * 0.5);
      }
    }
    var _0x56acd7 = Math.abs(Math.PI / _0x125ffb - _0x125ffb / Math.PI) * 0.5;
    var _0x419061 = _0x56acd7 * _0x56acd7;
    var _0x2bad56 = Math.sin(_0xc2ff10);
    var _0x5d01f3 = Math.cos(_0xc2ff10);
    var _0x11440e = _0x5d01f3 / (_0x2bad56 + _0x5d01f3 - 1);
    var _0x17efb0 = _0x11440e * _0x11440e;
    var _0x407580 = _0x11440e * (2 / _0x2bad56 - 1);
    var _0x30b465 = _0x407580 * _0x407580;
    var _0x59b1c6 = Math.PI * this.R * (_0x56acd7 * (_0x11440e - _0x30b465) + Math.sqrt(_0x419061 * (_0x11440e - _0x30b465) * (_0x11440e - _0x30b465) - (_0x30b465 + _0x419061) * (_0x17efb0 - _0x30b465))) / (_0x30b465 + _0x419061);
    if (_0x125ffb < 0) {
      _0x59b1c6 = -_0x59b1c6;
    }
    _0x5f2390 = this.x0 + _0x59b1c6;
    var _0x26631c = _0x419061 + _0x11440e;
    _0x59b1c6 = Math.PI * this.R * (_0x407580 * _0x26631c - _0x56acd7 * Math.sqrt((_0x30b465 + _0x419061) * (_0x419061 + 1) - _0x26631c * _0x26631c)) / (_0x30b465 + _0x419061);
    if (_0x28e6b0 >= 0) {
      _0x28803c = this.y0 + _0x59b1c6;
    } else {
      _0x28803c = this.y0 - _0x59b1c6;
    }
    _0x3c36f6.x = _0x5f2390;
    _0x3c36f6.y = _0x28803c;
    return _0x3c36f6;
  }
  function inverse$8(_0x58db52) {
    var _0xcb0168;
    var _0xf68b3b;
    var _0x5427ce;
    var _0x575bad;
    var _0x35b10a;
    var _0x664d4f;
    var _0x52c461;
    var _0x2aa1e6;
    var _0xe52051;
    var _0x2e52a2;
    var _0x400f80;
    var _0x283a7c;
    var _0x5771e8;
    _0x58db52.x -= this.x0;
    _0x58db52.y -= this.y0;
    _0x400f80 = Math.PI * this.R;
    _0x5427ce = _0x58db52.x / _0x400f80;
    _0x575bad = _0x58db52.y / _0x400f80;
    _0x35b10a = _0x5427ce * _0x5427ce + _0x575bad * _0x575bad;
    _0x664d4f = -Math.abs(_0x575bad) * (1 + _0x35b10a);
    _0x52c461 = _0x664d4f - _0x575bad * 2 * _0x575bad + _0x5427ce * _0x5427ce;
    _0x2aa1e6 = _0x664d4f * -2 + 1 + _0x575bad * 2 * _0x575bad + _0x35b10a * _0x35b10a;
    _0x5771e8 = _0x575bad * _0x575bad / _0x2aa1e6 + (_0x52c461 * 2 * _0x52c461 * _0x52c461 / _0x2aa1e6 / _0x2aa1e6 / _0x2aa1e6 - _0x664d4f * 9 * _0x52c461 / _0x2aa1e6 / _0x2aa1e6) / 27;
    _0xe52051 = (_0x664d4f - _0x52c461 * _0x52c461 / 3 / _0x2aa1e6) / _0x2aa1e6;
    _0x2e52a2 = Math.sqrt(-_0xe52051 / 3) * 2;
    _0x400f80 = _0x5771e8 * 3 / _0xe52051 / _0x2e52a2;
    if (Math.abs(_0x400f80) > 1) {
      if (_0x400f80 >= 0) {
        _0x400f80 = 1;
      } else {
        _0x400f80 = -1;
      }
    }
    _0x283a7c = Math.acos(_0x400f80) / 3;
    if (_0x58db52.y >= 0) {
      _0xf68b3b = (-_0x2e52a2 * Math.cos(_0x283a7c + Math.PI / 3) - _0x52c461 / 3 / _0x2aa1e6) * Math.PI;
    } else {
      _0xf68b3b = -(-_0x2e52a2 * Math.cos(_0x283a7c + Math.PI / 3) - _0x52c461 / 3 / _0x2aa1e6) * Math.PI;
    }
    if (Math.abs(_0x5427ce) < EPSLN) {
      _0xcb0168 = this.long0;
    } else {
      _0xcb0168 = adjust_lon(this.long0 + Math.PI * (_0x35b10a - 1 + Math.sqrt(1 + (_0x5427ce * _0x5427ce - _0x575bad * _0x575bad) * 2 + _0x35b10a * _0x35b10a)) / 2 / _0x5427ce);
    }
    _0x58db52.x = _0xcb0168;
    _0x58db52.y = _0xf68b3b;
    return _0x58db52;
  }
  var names$8 = ["Van_der_Grinten_I", "VanDerGrinten", "vandg"];
  const _0x19edbe = {
    init: init$8,
    forward: forward$8,
    inverse: inverse$8,
    names: names$8
  };
  var vandg = _0x19edbe;
  function init$7() {
    this.sin_p12 = Math.sin(this.lat0);
    this.cos_p12 = Math.cos(this.lat0);
  }
  function forward$7(_0x17e770) {
    var _0x13a68f = _0x17e770.x;
    var _0x27e0a9 = _0x17e770.y;
    var _0x4e6164 = Math.sin(_0x17e770.y);
    var _0x13edd1 = Math.cos(_0x17e770.y);
    var _0x1be29d = adjust_lon(_0x13a68f - this.long0);
    var _0x5741b3;
    var _0x551cb4;
    var _0x4ed04c;
    var _0x4e3f5a;
    var _0x78c915;
    var _0x2def31;
    var _0x18d6b1;
    var _0x5c3575;
    var _0x1fdc0e;
    var _0x5c1e6b;
    var _0x366c3e;
    var _0x47543c;
    var _0x49924f;
    var _0x246391;
    var _0x1a60d2;
    var _0x13ae70;
    var _0x3137f9;
    var _0x2347a9;
    var _0x277c60;
    var _0x1546cb;
    var _0x1f7b8a;
    var _0x204cab;
    var _0x3c8488;
    if (this.sphere) {
      if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
        _0x17e770.x = this.x0 + this.a * (HALF_PI - _0x27e0a9) * Math.sin(_0x1be29d);
        _0x17e770.y = this.y0 - this.a * (HALF_PI - _0x27e0a9) * Math.cos(_0x1be29d);
        return _0x17e770;
      } else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
        _0x17e770.x = this.x0 + this.a * (HALF_PI + _0x27e0a9) * Math.sin(_0x1be29d);
        _0x17e770.y = this.y0 + this.a * (HALF_PI + _0x27e0a9) * Math.cos(_0x1be29d);
        return _0x17e770;
      } else {
        _0x2347a9 = this.sin_p12 * _0x4e6164 + this.cos_p12 * _0x13edd1 * Math.cos(_0x1be29d);
        _0x13ae70 = Math.acos(_0x2347a9);
        _0x3137f9 = _0x13ae70 ? _0x13ae70 / Math.sin(_0x13ae70) : 1;
        _0x17e770.x = this.x0 + this.a * _0x3137f9 * _0x13edd1 * Math.sin(_0x1be29d);
        _0x17e770.y = this.y0 + this.a * _0x3137f9 * (this.cos_p12 * _0x4e6164 - this.sin_p12 * _0x13edd1 * Math.cos(_0x1be29d));
        return _0x17e770;
      }
    } else {
      _0x5741b3 = e0fn(this.es);
      _0x551cb4 = e1fn(this.es);
      _0x4ed04c = e2fn(this.es);
      _0x4e3f5a = e3fn(this.es);
      if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
        _0x78c915 = this.a * mlfn(_0x5741b3, _0x551cb4, _0x4ed04c, _0x4e3f5a, HALF_PI);
        _0x2def31 = this.a * mlfn(_0x5741b3, _0x551cb4, _0x4ed04c, _0x4e3f5a, _0x27e0a9);
        _0x17e770.x = this.x0 + (_0x78c915 - _0x2def31) * Math.sin(_0x1be29d);
        _0x17e770.y = this.y0 - (_0x78c915 - _0x2def31) * Math.cos(_0x1be29d);
        return _0x17e770;
      } else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
        _0x78c915 = this.a * mlfn(_0x5741b3, _0x551cb4, _0x4ed04c, _0x4e3f5a, HALF_PI);
        _0x2def31 = this.a * mlfn(_0x5741b3, _0x551cb4, _0x4ed04c, _0x4e3f5a, _0x27e0a9);
        _0x17e770.x = this.x0 + (_0x78c915 + _0x2def31) * Math.sin(_0x1be29d);
        _0x17e770.y = this.y0 + (_0x78c915 + _0x2def31) * Math.cos(_0x1be29d);
        return _0x17e770;
      } else {
        _0x18d6b1 = _0x4e6164 / _0x13edd1;
        _0x5c3575 = gN(this.a, this.e, this.sin_p12);
        _0x1fdc0e = gN(this.a, this.e, _0x4e6164);
        _0x5c1e6b = Math.atan((1 - this.es) * _0x18d6b1 + this.es * _0x5c3575 * this.sin_p12 / (_0x1fdc0e * _0x13edd1));
        _0x366c3e = Math.atan2(Math.sin(_0x1be29d), this.cos_p12 * Math.tan(_0x5c1e6b) - this.sin_p12 * Math.cos(_0x1be29d));
        if (_0x366c3e === 0) {
          _0x277c60 = Math.asin(this.cos_p12 * Math.sin(_0x5c1e6b) - this.sin_p12 * Math.cos(_0x5c1e6b));
        } else if (Math.abs(Math.abs(_0x366c3e) - Math.PI) <= EPSLN) {
          _0x277c60 = -Math.asin(this.cos_p12 * Math.sin(_0x5c1e6b) - this.sin_p12 * Math.cos(_0x5c1e6b));
        } else {
          _0x277c60 = Math.asin(Math.sin(_0x1be29d) * Math.cos(_0x5c1e6b) / Math.sin(_0x366c3e));
        }
        _0x47543c = this.e * this.sin_p12 / Math.sqrt(1 - this.es);
        _0x49924f = this.e * this.cos_p12 * Math.cos(_0x366c3e) / Math.sqrt(1 - this.es);
        _0x246391 = _0x47543c * _0x49924f;
        _0x1a60d2 = _0x49924f * _0x49924f;
        _0x1546cb = _0x277c60 * _0x277c60;
        _0x1f7b8a = _0x1546cb * _0x277c60;
        _0x204cab = _0x1f7b8a * _0x277c60;
        _0x3c8488 = _0x204cab * _0x277c60;
        _0x13ae70 = _0x5c3575 * _0x277c60 * (1 - _0x1546cb * _0x1a60d2 * (1 - _0x1a60d2) / 6 + _0x1f7b8a / 8 * _0x246391 * (1 - _0x1a60d2 * 2) + _0x204cab / 120 * (_0x1a60d2 * (4 - _0x1a60d2 * 7) - _0x47543c * 3 * _0x47543c * (1 - _0x1a60d2 * 7)) - _0x3c8488 / 48 * _0x246391);
        _0x17e770.x = this.x0 + _0x13ae70 * Math.sin(_0x366c3e);
        _0x17e770.y = this.y0 + _0x13ae70 * Math.cos(_0x366c3e);
        return _0x17e770;
      }
    }
  }
  function inverse$7(_0xe5e51a) {
    _0xe5e51a.x -= this.x0;
    _0xe5e51a.y -= this.y0;
    var _0x46c75b;
    var _0x3df0ce;
    var _0x297bb6;
    var _0x1bad6e;
    var _0x3a9cb0;
    var _0x41449;
    var _0x4ea718;
    var _0x5e1fa4;
    var _0x5dab21;
    var _0x53630b;
    var _0x56c168;
    var _0x1a44c8;
    var _0x29b026;
    var _0x592602;
    var _0x419054;
    var _0x3d3a0c;
    var _0x24a39a;
    var _0x5e4d9d;
    var _0x1ec24b;
    var _0x3bb7d6;
    var _0x1d95da;
    var _0x1ca88d;
    var _0x1adc97;
    var _0x5f519e;
    if (this.sphere) {
      _0x46c75b = Math.sqrt(_0xe5e51a.x * _0xe5e51a.x + _0xe5e51a.y * _0xe5e51a.y);
      if (_0x46c75b > HALF_PI * 2 * this.a) {
        return;
      }
      _0x3df0ce = _0x46c75b / this.a;
      _0x297bb6 = Math.sin(_0x3df0ce);
      _0x1bad6e = Math.cos(_0x3df0ce);
      _0x3a9cb0 = this.long0;
      if (Math.abs(_0x46c75b) <= EPSLN) {
        _0x41449 = this.lat0;
      } else {
        _0x41449 = asinz(_0x1bad6e * this.sin_p12 + _0xe5e51a.y * _0x297bb6 * this.cos_p12 / _0x46c75b);
        _0x4ea718 = Math.abs(this.lat0) - HALF_PI;
        if (Math.abs(_0x4ea718) <= EPSLN) {
          if (this.lat0 >= 0) {
            _0x3a9cb0 = adjust_lon(this.long0 + Math.atan2(_0xe5e51a.x, -_0xe5e51a.y));
          } else {
            _0x3a9cb0 = adjust_lon(this.long0 - Math.atan2(-_0xe5e51a.x, _0xe5e51a.y));
          }
        } else {
          _0x3a9cb0 = adjust_lon(this.long0 + Math.atan2(_0xe5e51a.x * _0x297bb6, _0x46c75b * this.cos_p12 * _0x1bad6e - _0xe5e51a.y * this.sin_p12 * _0x297bb6));
        }
      }
      _0xe5e51a.x = _0x3a9cb0;
      _0xe5e51a.y = _0x41449;
      return _0xe5e51a;
    } else {
      _0x5e1fa4 = e0fn(this.es);
      _0x5dab21 = e1fn(this.es);
      _0x53630b = e2fn(this.es);
      _0x56c168 = e3fn(this.es);
      if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
        _0x1a44c8 = this.a * mlfn(_0x5e1fa4, _0x5dab21, _0x53630b, _0x56c168, HALF_PI);
        _0x46c75b = Math.sqrt(_0xe5e51a.x * _0xe5e51a.x + _0xe5e51a.y * _0xe5e51a.y);
        _0x29b026 = _0x1a44c8 - _0x46c75b;
        _0x41449 = imlfn(_0x29b026 / this.a, _0x5e1fa4, _0x5dab21, _0x53630b, _0x56c168);
        _0x3a9cb0 = adjust_lon(this.long0 + Math.atan2(_0xe5e51a.x, _0xe5e51a.y * -1));
        _0xe5e51a.x = _0x3a9cb0;
        _0xe5e51a.y = _0x41449;
        return _0xe5e51a;
      } else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
        _0x1a44c8 = this.a * mlfn(_0x5e1fa4, _0x5dab21, _0x53630b, _0x56c168, HALF_PI);
        _0x46c75b = Math.sqrt(_0xe5e51a.x * _0xe5e51a.x + _0xe5e51a.y * _0xe5e51a.y);
        _0x29b026 = _0x46c75b - _0x1a44c8;
        _0x41449 = imlfn(_0x29b026 / this.a, _0x5e1fa4, _0x5dab21, _0x53630b, _0x56c168);
        _0x3a9cb0 = adjust_lon(this.long0 + Math.atan2(_0xe5e51a.x, _0xe5e51a.y));
        _0xe5e51a.x = _0x3a9cb0;
        _0xe5e51a.y = _0x41449;
        return _0xe5e51a;
      } else {
        _0x46c75b = Math.sqrt(_0xe5e51a.x * _0xe5e51a.x + _0xe5e51a.y * _0xe5e51a.y);
        _0x3d3a0c = Math.atan2(_0xe5e51a.x, _0xe5e51a.y);
        _0x592602 = gN(this.a, this.e, this.sin_p12);
        _0x24a39a = Math.cos(_0x3d3a0c);
        _0x5e4d9d = this.e * this.cos_p12 * _0x24a39a;
        _0x1ec24b = -_0x5e4d9d * _0x5e4d9d / (1 - this.es);
        _0x3bb7d6 = this.es * 3 * (1 - _0x1ec24b) * this.sin_p12 * this.cos_p12 * _0x24a39a / (1 - this.es);
        _0x1d95da = _0x46c75b / _0x592602;
        _0x1ca88d = _0x1d95da - _0x1ec24b * (1 + _0x1ec24b) * Math.pow(_0x1d95da, 3) / 6 - _0x3bb7d6 * (1 + _0x1ec24b * 3) * Math.pow(_0x1d95da, 4) / 24;
        _0x1adc97 = 1 - _0x1ec24b * _0x1ca88d * _0x1ca88d / 2 - _0x1d95da * _0x1ca88d * _0x1ca88d * _0x1ca88d / 6;
        _0x419054 = Math.asin(this.sin_p12 * Math.cos(_0x1ca88d) + this.cos_p12 * Math.sin(_0x1ca88d) * _0x24a39a);
        _0x3a9cb0 = adjust_lon(this.long0 + Math.asin(Math.sin(_0x3d3a0c) * Math.sin(_0x1ca88d) / Math.cos(_0x419054)));
        _0x5f519e = Math.sin(_0x419054);
        _0x41449 = Math.atan2((_0x5f519e - this.es * _0x1adc97 * this.sin_p12) * Math.tan(_0x419054), _0x5f519e * (1 - this.es));
        _0xe5e51a.x = _0x3a9cb0;
        _0xe5e51a.y = _0x41449;
        return _0xe5e51a;
      }
    }
  }
  var names$7 = ["Azimuthal_Equidistant", "aeqd"];
  const _0x512b49 = {
    init: init$7,
    forward: forward$7,
    inverse: inverse$7,
    names: names$7
  };
  var aeqd = _0x512b49;
  function init$6() {
    this.sin_p14 = Math.sin(this.lat0);
    this.cos_p14 = Math.cos(this.lat0);
  }
  function forward$6(_0x5881ce) {
    var _0x1c52d0;
    var _0x17784c;
    var _0x443494;
    var _0x1c9d2e;
    var _0x3fa23b;
    var _0x4538aa;
    var _0x500678;
    var _0x2a82df;
    var _0x9d4769 = _0x5881ce.x;
    var _0x18235d = _0x5881ce.y;
    _0x443494 = adjust_lon(_0x9d4769 - this.long0);
    _0x1c52d0 = Math.sin(_0x18235d);
    _0x17784c = Math.cos(_0x18235d);
    _0x1c9d2e = Math.cos(_0x443494);
    _0x4538aa = this.sin_p14 * _0x1c52d0 + this.cos_p14 * _0x17784c * _0x1c9d2e;
    _0x3fa23b = 1;
    if (_0x4538aa > 0 || Math.abs(_0x4538aa) <= EPSLN) {
      _0x500678 = this.a * _0x3fa23b * _0x17784c * Math.sin(_0x443494);
      _0x2a82df = this.y0 + this.a * _0x3fa23b * (this.cos_p14 * _0x1c52d0 - this.sin_p14 * _0x17784c * _0x1c9d2e);
    }
    _0x5881ce.x = _0x500678;
    _0x5881ce.y = _0x2a82df;
    return _0x5881ce;
  }
  function inverse$6(_0x2a6255) {
    var _0x10e05c;
    var _0x1370be;
    var _0x233384;
    var _0x30c959;
    var _0xe02845;
    var _0x574c8b;
    var _0x2f753b;
    _0x2a6255.x -= this.x0;
    _0x2a6255.y -= this.y0;
    _0x10e05c = Math.sqrt(_0x2a6255.x * _0x2a6255.x + _0x2a6255.y * _0x2a6255.y);
    _0x1370be = asinz(_0x10e05c / this.a);
    _0x233384 = Math.sin(_0x1370be);
    _0x30c959 = Math.cos(_0x1370be);
    _0x574c8b = this.long0;
    if (Math.abs(_0x10e05c) <= EPSLN) {
      _0x2f753b = this.lat0;
      _0x2a6255.x = _0x574c8b;
      _0x2a6255.y = _0x2f753b;
      return _0x2a6255;
    }
    _0x2f753b = asinz(_0x30c959 * this.sin_p14 + _0x2a6255.y * _0x233384 * this.cos_p14 / _0x10e05c);
    _0xe02845 = Math.abs(this.lat0) - HALF_PI;
    if (Math.abs(_0xe02845) <= EPSLN) {
      if (this.lat0 >= 0) {
        _0x574c8b = adjust_lon(this.long0 + Math.atan2(_0x2a6255.x, -_0x2a6255.y));
      } else {
        _0x574c8b = adjust_lon(this.long0 - Math.atan2(-_0x2a6255.x, _0x2a6255.y));
      }
      _0x2a6255.x = _0x574c8b;
      _0x2a6255.y = _0x2f753b;
      return _0x2a6255;
    }
    _0x574c8b = adjust_lon(this.long0 + Math.atan2(_0x2a6255.x * _0x233384, _0x10e05c * this.cos_p14 * _0x30c959 - _0x2a6255.y * this.sin_p14 * _0x233384));
    _0x2a6255.x = _0x574c8b;
    _0x2a6255.y = _0x2f753b;
    return _0x2a6255;
  }
  var names$6 = ["ortho"];
  const _0x3330f5 = {
    init: init$6,
    forward: forward$6,
    inverse: inverse$6,
    names: names$6
  };
  var ortho = _0x3330f5;
  var FACE_ENUM = {
    FRONT: 1,
    RIGHT: 2,
    BACK: 3,
    LEFT: 4,
    TOP: 5,
    BOTTOM: 6
  };
  var AREA_ENUM = {
    AREA_0: 1,
    AREA_1: 2,
    AREA_2: 3,
    AREA_3: 4
  };
  function init$5() {
    this.x0 = this.x0 || 0;
    this.y0 = this.y0 || 0;
    this.lat0 = this.lat0 || 0;
    this.long0 = this.long0 || 0;
    this.lat_ts = this.lat_ts || 0;
    this.title = this.title || "Quadrilateralized Spherical Cube";
    if (this.lat0 >= HALF_PI - FORTPI / 2) {
      this.face = FACE_ENUM.TOP;
    } else if (this.lat0 <= -(HALF_PI - FORTPI / 2)) {
      this.face = FACE_ENUM.BOTTOM;
    } else if (Math.abs(this.long0) <= FORTPI) {
      this.face = FACE_ENUM.FRONT;
    } else if (Math.abs(this.long0) <= HALF_PI + FORTPI) {
      this.face = this.long0 > 0 ? FACE_ENUM.RIGHT : FACE_ENUM.LEFT;
    } else {
      this.face = FACE_ENUM.BACK;
    }
    if (this.es !== 0) {
      this.one_minus_f = 1 - (this.a - this.b) / this.a;
      this.one_minus_f_squared = this.one_minus_f * this.one_minus_f;
    }
  }
  function forward$5(_0x1e7be2) {
    var _0x338da6 = {
      x: 0,
      y: 0
    };
    var _0x5910b9;
    var _0x353175;
    var _0x12ef82;
    var _0x562c98;
    var _0x6ed34d;
    var _0x746328;
    var _0x5d76e2 = {
      value: 0
    };
    _0x1e7be2.x -= this.long0;
    if (this.es !== 0) {
      _0x5910b9 = Math.atan(this.one_minus_f_squared * Math.tan(_0x1e7be2.y));
    } else {
      _0x5910b9 = _0x1e7be2.y;
    }
    _0x353175 = _0x1e7be2.x;
    if (this.face === FACE_ENUM.TOP) {
      _0x562c98 = HALF_PI - _0x5910b9;
      if (_0x353175 >= FORTPI && _0x353175 <= HALF_PI + FORTPI) {
        _0x5d76e2.value = AREA_ENUM.AREA_0;
        _0x12ef82 = _0x353175 - HALF_PI;
      } else if (_0x353175 > HALF_PI + FORTPI || _0x353175 <= -(HALF_PI + FORTPI)) {
        _0x5d76e2.value = AREA_ENUM.AREA_1;
        _0x12ef82 = _0x353175 > 0 ? _0x353175 - SPI : _0x353175 + SPI;
      } else if (_0x353175 > -(HALF_PI + FORTPI) && _0x353175 <= -FORTPI) {
        _0x5d76e2.value = AREA_ENUM.AREA_2;
        _0x12ef82 = _0x353175 + HALF_PI;
      } else {
        _0x5d76e2.value = AREA_ENUM.AREA_3;
        _0x12ef82 = _0x353175;
      }
    } else if (this.face === FACE_ENUM.BOTTOM) {
      _0x562c98 = HALF_PI + _0x5910b9;
      if (_0x353175 >= FORTPI && _0x353175 <= HALF_PI + FORTPI) {
        _0x5d76e2.value = AREA_ENUM.AREA_0;
        _0x12ef82 = -_0x353175 + HALF_PI;
      } else if (_0x353175 < FORTPI && _0x353175 >= -FORTPI) {
        _0x5d76e2.value = AREA_ENUM.AREA_1;
        _0x12ef82 = -_0x353175;
      } else if (_0x353175 < -FORTPI && _0x353175 >= -(HALF_PI + FORTPI)) {
        _0x5d76e2.value = AREA_ENUM.AREA_2;
        _0x12ef82 = -_0x353175 - HALF_PI;
      } else {
        _0x5d76e2.value = AREA_ENUM.AREA_3;
        _0x12ef82 = _0x353175 > 0 ? -_0x353175 + SPI : -_0x353175 - SPI;
      }
    } else {
      var _0x55fb3d;
      var _0x4ac092;
      var _0x43ab03;
      var _0x19d57b;
      var _0x1c82eb;
      var _0x4e046e;
      var _0x2ea700;
      if (this.face === FACE_ENUM.RIGHT) {
        _0x353175 = qsc_shift_lon_origin(_0x353175, +HALF_PI);
      } else if (this.face === FACE_ENUM.BACK) {
        _0x353175 = qsc_shift_lon_origin(_0x353175, +SPI);
      } else if (this.face === FACE_ENUM.LEFT) {
        _0x353175 = qsc_shift_lon_origin(_0x353175, -HALF_PI);
      }
      _0x19d57b = Math.sin(_0x5910b9);
      _0x1c82eb = Math.cos(_0x5910b9);
      _0x4e046e = Math.sin(_0x353175);
      _0x2ea700 = Math.cos(_0x353175);
      _0x55fb3d = _0x1c82eb * _0x2ea700;
      _0x4ac092 = _0x1c82eb * _0x4e046e;
      _0x43ab03 = _0x19d57b;
      if (this.face === FACE_ENUM.FRONT) {
        _0x562c98 = Math.acos(_0x55fb3d);
        _0x12ef82 = qsc_fwd_equat_face_theta(_0x562c98, _0x43ab03, _0x4ac092, _0x5d76e2);
      } else if (this.face === FACE_ENUM.RIGHT) {
        _0x562c98 = Math.acos(_0x4ac092);
        _0x12ef82 = qsc_fwd_equat_face_theta(_0x562c98, _0x43ab03, -_0x55fb3d, _0x5d76e2);
      } else if (this.face === FACE_ENUM.BACK) {
        _0x562c98 = Math.acos(-_0x55fb3d);
        _0x12ef82 = qsc_fwd_equat_face_theta(_0x562c98, _0x43ab03, -_0x4ac092, _0x5d76e2);
      } else if (this.face === FACE_ENUM.LEFT) {
        _0x562c98 = Math.acos(-_0x4ac092);
        _0x12ef82 = qsc_fwd_equat_face_theta(_0x562c98, _0x43ab03, _0x55fb3d, _0x5d76e2);
      } else {
        _0x562c98 = _0x12ef82 = 0;
        _0x5d76e2.value = AREA_ENUM.AREA_0;
      }
    }
    _0x746328 = Math.atan(12 / SPI * (_0x12ef82 + Math.acos(Math.sin(_0x12ef82) * Math.cos(FORTPI)) - HALF_PI));
    _0x6ed34d = Math.sqrt((1 - Math.cos(_0x562c98)) / (Math.cos(_0x746328) * Math.cos(_0x746328)) / (1 - Math.cos(Math.atan(1 / Math.cos(_0x12ef82)))));
    if (_0x5d76e2.value === AREA_ENUM.AREA_1) {
      _0x746328 += HALF_PI;
    } else if (_0x5d76e2.value === AREA_ENUM.AREA_2) {
      _0x746328 += SPI;
    } else if (_0x5d76e2.value === AREA_ENUM.AREA_3) {
      _0x746328 += SPI * 1.5;
    }
    _0x338da6.x = _0x6ed34d * Math.cos(_0x746328);
    _0x338da6.y = _0x6ed34d * Math.sin(_0x746328);
    _0x338da6.x = _0x338da6.x * this.a + this.x0;
    _0x338da6.y = _0x338da6.y * this.a + this.y0;
    _0x1e7be2.x = _0x338da6.x;
    _0x1e7be2.y = _0x338da6.y;
    return _0x1e7be2;
  }
  function inverse$5(_0x17c2ae) {
    var _0x183364 = {
      lam: 0,
      phi: 0
    };
    var _0x230314;
    var _0xbb6229;
    var _0x898eaf;
    var _0x4110a2;
    var _0x19eb84;
    var _0x19299c;
    var _0x31da9e;
    var _0x1957a9;
    var _0x19e758;
    var _0x483387 = {
      value: 0
    };
    _0x17c2ae.x = (_0x17c2ae.x - this.x0) / this.a;
    _0x17c2ae.y = (_0x17c2ae.y - this.y0) / this.a;
    _0xbb6229 = Math.atan(Math.sqrt(_0x17c2ae.x * _0x17c2ae.x + _0x17c2ae.y * _0x17c2ae.y));
    _0x230314 = Math.atan2(_0x17c2ae.y, _0x17c2ae.x);
    if (_0x17c2ae.x >= 0 && _0x17c2ae.x >= Math.abs(_0x17c2ae.y)) {
      _0x483387.value = AREA_ENUM.AREA_0;
    } else if (_0x17c2ae.y >= 0 && _0x17c2ae.y >= Math.abs(_0x17c2ae.x)) {
      _0x483387.value = AREA_ENUM.AREA_1;
      _0x230314 -= HALF_PI;
    } else if (_0x17c2ae.x < 0 && -_0x17c2ae.x >= Math.abs(_0x17c2ae.y)) {
      _0x483387.value = AREA_ENUM.AREA_2;
      _0x230314 = _0x230314 < 0 ? _0x230314 + SPI : _0x230314 - SPI;
    } else {
      _0x483387.value = AREA_ENUM.AREA_3;
      _0x230314 += HALF_PI;
    }
    _0x19e758 = SPI / 12 * Math.tan(_0x230314);
    _0x19eb84 = Math.sin(_0x19e758) / (Math.cos(_0x19e758) - 1 / Math.sqrt(2));
    _0x19299c = Math.atan(_0x19eb84);
    _0x898eaf = Math.cos(_0x230314);
    _0x4110a2 = Math.tan(_0xbb6229);
    _0x31da9e = 1 - _0x898eaf * _0x898eaf * _0x4110a2 * _0x4110a2 * (1 - Math.cos(Math.atan(1 / Math.cos(_0x19299c))));
    if (_0x31da9e < -1) {
      _0x31da9e = -1;
    } else if (_0x31da9e > +1) {
      _0x31da9e = +1;
    }
    if (this.face === FACE_ENUM.TOP) {
      _0x1957a9 = Math.acos(_0x31da9e);
      _0x183364.phi = HALF_PI - _0x1957a9;
      if (_0x483387.value === AREA_ENUM.AREA_0) {
        _0x183364.lam = _0x19299c + HALF_PI;
      } else if (_0x483387.value === AREA_ENUM.AREA_1) {
        _0x183364.lam = _0x19299c < 0 ? _0x19299c + SPI : _0x19299c - SPI;
      } else if (_0x483387.value === AREA_ENUM.AREA_2) {
        _0x183364.lam = _0x19299c - HALF_PI;
      } else {
        _0x183364.lam = _0x19299c;
      }
    } else if (this.face === FACE_ENUM.BOTTOM) {
      _0x1957a9 = Math.acos(_0x31da9e);
      _0x183364.phi = _0x1957a9 - HALF_PI;
      if (_0x483387.value === AREA_ENUM.AREA_0) {
        _0x183364.lam = -_0x19299c + HALF_PI;
      } else if (_0x483387.value === AREA_ENUM.AREA_1) {
        _0x183364.lam = -_0x19299c;
      } else if (_0x483387.value === AREA_ENUM.AREA_2) {
        _0x183364.lam = -_0x19299c - HALF_PI;
      } else {
        _0x183364.lam = _0x19299c < 0 ? -_0x19299c - SPI : -_0x19299c + SPI;
      }
    } else {
      var _0x5d35e1;
      var _0x44db28;
      var _0x1b5c7b;
      _0x5d35e1 = _0x31da9e;
      _0x19e758 = _0x5d35e1 * _0x5d35e1;
      if (_0x19e758 >= 1) {
        _0x1b5c7b = 0;
      } else {
        _0x1b5c7b = Math.sqrt(1 - _0x19e758) * Math.sin(_0x19299c);
      }
      _0x19e758 += _0x1b5c7b * _0x1b5c7b;
      if (_0x19e758 >= 1) {
        _0x44db28 = 0;
      } else {
        _0x44db28 = Math.sqrt(1 - _0x19e758);
      }
      if (_0x483387.value === AREA_ENUM.AREA_1) {
        _0x19e758 = _0x44db28;
        _0x44db28 = -_0x1b5c7b;
        _0x1b5c7b = _0x19e758;
      } else if (_0x483387.value === AREA_ENUM.AREA_2) {
        _0x44db28 = -_0x44db28;
        _0x1b5c7b = -_0x1b5c7b;
      } else if (_0x483387.value === AREA_ENUM.AREA_3) {
        _0x19e758 = _0x44db28;
        _0x44db28 = _0x1b5c7b;
        _0x1b5c7b = -_0x19e758;
      }
      if (this.face === FACE_ENUM.RIGHT) {
        _0x19e758 = _0x5d35e1;
        _0x5d35e1 = -_0x44db28;
        _0x44db28 = _0x19e758;
      } else if (this.face === FACE_ENUM.BACK) {
        _0x5d35e1 = -_0x5d35e1;
        _0x44db28 = -_0x44db28;
      } else if (this.face === FACE_ENUM.LEFT) {
        _0x19e758 = _0x5d35e1;
        _0x5d35e1 = _0x44db28;
        _0x44db28 = -_0x19e758;
      }
      _0x183364.phi = Math.acos(-_0x1b5c7b) - HALF_PI;
      _0x183364.lam = Math.atan2(_0x44db28, _0x5d35e1);
      if (this.face === FACE_ENUM.RIGHT) {
        _0x183364.lam = qsc_shift_lon_origin(_0x183364.lam, -HALF_PI);
      } else if (this.face === FACE_ENUM.BACK) {
        _0x183364.lam = qsc_shift_lon_origin(_0x183364.lam, -SPI);
      } else if (this.face === FACE_ENUM.LEFT) {
        _0x183364.lam = qsc_shift_lon_origin(_0x183364.lam, +HALF_PI);
      }
    }
    if (this.es !== 0) {
      var _0x49f9b5;
      var _0x4676b9;
      var _0x2bb6f6;
      _0x49f9b5 = _0x183364.phi < 0 ? 1 : 0;
      _0x4676b9 = Math.tan(_0x183364.phi);
      _0x2bb6f6 = this.b / Math.sqrt(_0x4676b9 * _0x4676b9 + this.one_minus_f_squared);
      _0x183364.phi = Math.atan(Math.sqrt(this.a * this.a - _0x2bb6f6 * _0x2bb6f6) / (this.one_minus_f * _0x2bb6f6));
      if (_0x49f9b5) {
        _0x183364.phi = -_0x183364.phi;
      }
    }
    _0x183364.lam += this.long0;
    _0x17c2ae.x = _0x183364.lam;
    _0x17c2ae.y = _0x183364.phi;
    return _0x17c2ae;
  }
  function qsc_fwd_equat_face_theta(_0x52dd89, _0x4431f5, _0x54d73d, _0xae6517) {
    var _0x58311c;
    if (_0x52dd89 < EPSLN) {
      _0xae6517.value = AREA_ENUM.AREA_0;
      _0x58311c = 0;
    } else {
      _0x58311c = Math.atan2(_0x4431f5, _0x54d73d);
      if (Math.abs(_0x58311c) <= FORTPI) {
        _0xae6517.value = AREA_ENUM.AREA_0;
      } else if (_0x58311c > FORTPI && _0x58311c <= HALF_PI + FORTPI) {
        _0xae6517.value = AREA_ENUM.AREA_1;
        _0x58311c -= HALF_PI;
      } else if (_0x58311c > HALF_PI + FORTPI || _0x58311c <= -(HALF_PI + FORTPI)) {
        _0xae6517.value = AREA_ENUM.AREA_2;
        _0x58311c = _0x58311c >= 0 ? _0x58311c - SPI : _0x58311c + SPI;
      } else {
        _0xae6517.value = AREA_ENUM.AREA_3;
        _0x58311c += HALF_PI;
      }
    }
    return _0x58311c;
  }
  function qsc_shift_lon_origin(_0x3db72e, _0x377919) {
    var _0x40d96a = _0x3db72e + _0x377919;
    if (_0x40d96a < -SPI) {
      _0x40d96a += TWO_PI;
    } else if (_0x40d96a > +SPI) {
      _0x40d96a -= TWO_PI;
    }
    return _0x40d96a;
  }
  var names$5 = ["Quadrilateralized Spherical Cube", "Quadrilateralized_Spherical_Cube", "qsc"];
  const _0x41e923 = {
    init: init$5,
    forward: forward$5,
    inverse: inverse$5,
    names: names$5
  };
  var qsc = _0x41e923;
  var COEFS_X = [[1, 2.2199e-17, -0.0000715515, 0.0000031103], [0.9986, -0.000482243, -0.000024897, -0.0000013309], [0.9954, -0.00083103, -0.0000448605, -9.86701e-7], [0.99, -0.00135364, -0.000059661, 0.0000036777], [0.9822, -0.00167442, -0.00000449547, -0.00000572411], [0.973, -0.00214868, -0.0000903571, 1.8736e-8], [0.96, -0.00305085, -0.0000900761, 0.00000164917], [0.9427, -0.00382792, -0.0000653386, -0.0000026154], [0.9216, -0.00467746, -0.00010457, 0.00000481243], [0.8962, -0.00536223, -0.0000323831, -0.00000543432], [0.8679, -0.00609363, -0.000113898, 0.00000332484], [0.835, -0.00698325, -0.0000640253, 9.34959e-7], [0.7986, -0.00755338, -0.0000500009, 9.35324e-7], [0.7597, -0.00798324, -0.000035971, -0.00000227626], [0.7186, -0.00851367, -0.0000701149, -0.0000086303], [0.6732, -0.00986209, -0.000199569, 0.0000191974], [0.6213, -0.010418, 0.0000883923, 0.00000624051], [0.5722, -0.00906601, 0.000182, 0.00000624051], [0.5322, -0.00677797, 0.000275608, 0.00000624051]];
  var COEFS_Y = [[-5.20417e-18, 0.0124, 1.21431e-18, -8.45284e-11], [0.062, 0.0124, -1.26793e-9, 4.22642e-10], [0.124, 0.0124, 5.07171e-9, -1.60604e-9], [0.186, 0.0123999, -1.90189e-8, 6.00152e-9], [0.248, 0.0124002, 7.10039e-8, -2.24e-8], [0.31, 0.0123992, -2.64997e-7, 8.35986e-8], [0.372, 0.0124029, 9.88983e-7, -3.11994e-7], [0.434, 0.0123893, -0.00000369093, -4.35621e-7], [0.4958, 0.0123198, -0.0000102252, -3.45523e-7], [0.5571, 0.0121916, -0.0000154081, -5.82288e-7], [0.6176, 0.0119938, -0.0000241424, -5.25327e-7], [0.6769, 0.011713, -0.0000320223, -5.16405e-7], [0.7346, 0.0113541, -0.0000397684, -6.09052e-7], [0.7903, 0.0109107, -0.0000489042, -0.00000104739], [0.8435, 0.0103431, -0.000064615, -1.40374e-9], [0.8936, 0.00969686, -0.000064636, -0.000008547], [0.9394, 0.00840947, -0.000192841, -0.0000042106], [0.9761, 0.00616527, -0.000256, -0.0000042106], [1, 0.00328947, -0.000319159, -0.0000042106]];
  var FXC = 0.8487;
  var FYC = 1.3523;
  var C1 = R2D / 5;
  var RC1 = 1 / C1;
  var NODES = 18;
  function poly3_val(_0xfacb04, _0x2bd240) {
    return _0xfacb04[0] + _0x2bd240 * (_0xfacb04[1] + _0x2bd240 * (_0xfacb04[2] + _0x2bd240 * _0xfacb04[3]));
  }
  function poly3_der(_0x1bb434, _0xe634a8) {
    return _0x1bb434[1] + _0xe634a8 * (_0x1bb434[2] * 2 + _0xe634a8 * 3 * _0x1bb434[3]);
  }
  function newton_rapshon(_0x376f1a, _0x5c8f87, _0x3710ca, _0x5878e5) {
    var _0x4b7c30 = _0x5c8f87;
    for (; _0x5878e5; --_0x5878e5) {
      var _0x70513a = _0x376f1a(_0x4b7c30);
      _0x4b7c30 -= _0x70513a;
      if (Math.abs(_0x70513a) < _0x3710ca) {
        break;
      }
    }
    return _0x4b7c30;
  }
  function init$4() {
    this.x0 = this.x0 || 0;
    this.y0 = this.y0 || 0;
    this.long0 = this.long0 || 0;
    this.es = 0;
    this.title = this.title || "Robinson";
  }
  function forward$4(_0x200b3e) {
    var _0x2153e3 = adjust_lon(_0x200b3e.x - this.long0);
    var _0x195613 = Math.abs(_0x200b3e.y);
    var _0x1e978c = Math.floor(_0x195613 * C1);
    if (_0x1e978c < 0) {
      _0x1e978c = 0;
    } else if (_0x1e978c >= NODES) {
      _0x1e978c = NODES - 1;
    }
    _0x195613 = R2D * (_0x195613 - RC1 * _0x1e978c);
    var _0x228525 = {
      x: poly3_val(COEFS_X[_0x1e978c], _0x195613) * _0x2153e3,
      y: poly3_val(COEFS_Y[_0x1e978c], _0x195613)
    };
    if (_0x200b3e.y < 0) {
      _0x228525.y = -_0x228525.y;
    }
    _0x228525.x = _0x228525.x * this.a * FXC + this.x0;
    _0x228525.y = _0x228525.y * this.a * FYC + this.y0;
    return _0x228525;
  }
  function inverse$4(_0x11a775) {
    var _0x1d004a = {
      x: (_0x11a775.x - this.x0) / (this.a * FXC),
      y: Math.abs(_0x11a775.y - this.y0) / (this.a * FYC)
    };
    if (_0x1d004a.y >= 1) {
      _0x1d004a.x /= COEFS_X[NODES][0];
      _0x1d004a.y = _0x11a775.y < 0 ? -HALF_PI : HALF_PI;
    } else {
      var _0x3c1cba = Math.floor(_0x1d004a.y * NODES);
      if (_0x3c1cba < 0) {
        _0x3c1cba = 0;
      } else if (_0x3c1cba >= NODES) {
        _0x3c1cba = NODES - 1;
      }
      while (true) {
        if (COEFS_Y[_0x3c1cba][0] > _0x1d004a.y) {
          --_0x3c1cba;
        } else if (COEFS_Y[_0x3c1cba + 1][0] <= _0x1d004a.y) {
          ++_0x3c1cba;
        } else {
          break;
        }
      }
      var _0x478bc3 = COEFS_Y[_0x3c1cba];
      var _0x2e59e0 = (_0x1d004a.y - _0x478bc3[0]) * 5 / (COEFS_Y[_0x3c1cba + 1][0] - _0x478bc3[0]);
      _0x2e59e0 = newton_rapshon(function (_0xdcc34) {
        return (poly3_val(_0x478bc3, _0xdcc34) - _0x1d004a.y) / poly3_der(_0x478bc3, _0xdcc34);
      }, _0x2e59e0, EPSLN, 100);
      _0x1d004a.x /= poly3_val(COEFS_X[_0x3c1cba], _0x2e59e0);
      _0x1d004a.y = (_0x3c1cba * 5 + _0x2e59e0) * D2R$1;
      if (_0x11a775.y < 0) {
        _0x1d004a.y = -_0x1d004a.y;
      }
    }
    _0x1d004a.x = adjust_lon(_0x1d004a.x + this.long0);
    return _0x1d004a;
  }
  var names$4 = ["Robinson", "robin"];
  const _0x539fe4 = {
    init: init$4,
    forward: forward$4,
    inverse: inverse$4,
    names: names$4
  };
  var robin = _0x539fe4;
  function init$3() {
    this.name = "geocent";
  }
  function forward$3(_0x369507) {
    var _0x133b4e = geodeticToGeocentric(_0x369507, this.es, this.a);
    return _0x133b4e;
  }
  function inverse$3(_0x640d99) {
    var _0x321a71 = geocentricToGeodetic(_0x640d99, this.es, this.a, this.b);
    return _0x321a71;
  }
  var names$3 = ["Geocentric", "geocentric", "geocent", "Geocent"];
  const _0x493dd3 = {
    init: init$3,
    forward: forward$3,
    inverse: inverse$3,
    names: names$3
  };
  var geocent = _0x493dd3;
  var mode = {
    N_POLE: 0,
    S_POLE: 1,
    EQUIT: 2,
    OBLIQ: 3
  };
  var params = {
    h: {
      def: 100000,
      num: true
    },
    azi: {
      def: 0,
      num: true,
      degrees: true
    },
    tilt: {
      def: 0,
      num: true,
      degrees: true
    },
    long0: {
      def: 0,
      num: true
    },
    lat0: {
      def: 0,
      num: true
    }
  };
  function init$2() {
    Object.keys(params).forEach(function (_0xc6304d) {
      if (typeof this[_0xc6304d] === "undefined") {
        this[_0xc6304d] = params[_0xc6304d].def;
      } else if (params[_0xc6304d].num && isNaN(this[_0xc6304d])) {
        throw new Error("Invalid parameter value, must be numeric " + _0xc6304d + " = " + this[_0xc6304d]);
      } else if (params[_0xc6304d].num) {
        this[_0xc6304d] = parseFloat(this[_0xc6304d]);
      }
      if (params[_0xc6304d].degrees) {
        this[_0xc6304d] = this[_0xc6304d] * D2R$1;
      }
    }.bind(this));
    if (Math.abs(Math.abs(this.lat0) - HALF_PI) < EPSLN) {
      this.mode = this.lat0 < 0 ? mode.S_POLE : mode.N_POLE;
    } else if (Math.abs(this.lat0) < EPSLN) {
      this.mode = mode.EQUIT;
    } else {
      this.mode = mode.OBLIQ;
      this.sinph0 = Math.sin(this.lat0);
      this.cosph0 = Math.cos(this.lat0);
    }
    this.pn1 = this.h / this.a;
    if (this.pn1 <= 0 || this.pn1 > 10000000000) {
      throw new Error("Invalid height");
    }
    this.p = 1 + this.pn1;
    this.rp = 1 / this.p;
    this.h1 = 1 / this.pn1;
    this.pfact = (this.p + 1) * this.h1;
    this.es = 0;
    var _0x584ec3 = this.tilt;
    var _0x5cedd1 = this.azi;
    this.cg = Math.cos(_0x5cedd1);
    this.sg = Math.sin(_0x5cedd1);
    this.cw = Math.cos(_0x584ec3);
    this.sw = Math.sin(_0x584ec3);
  }
  function forward$2(_0x1a507d) {
    _0x1a507d.x -= this.long0;
    var _0x1c9cb3 = Math.sin(_0x1a507d.y);
    var _0x5431b8 = Math.cos(_0x1a507d.y);
    var _0x8ff6c6 = Math.cos(_0x1a507d.x);
    var _0x2ac3b1;
    var _0x45efb3;
    switch (this.mode) {
      case mode.OBLIQ:
        _0x45efb3 = this.sinph0 * _0x1c9cb3 + this.cosph0 * _0x5431b8 * _0x8ff6c6;
        break;
      case mode.EQUIT:
        _0x45efb3 = _0x5431b8 * _0x8ff6c6;
        break;
      case mode.S_POLE:
        _0x45efb3 = -_0x1c9cb3;
        break;
      case mode.N_POLE:
        _0x45efb3 = _0x1c9cb3;
        break;
    }
    _0x45efb3 = this.pn1 / (this.p - _0x45efb3);
    _0x2ac3b1 = _0x45efb3 * _0x5431b8 * Math.sin(_0x1a507d.x);
    switch (this.mode) {
      case mode.OBLIQ:
        _0x45efb3 *= this.cosph0 * _0x1c9cb3 - this.sinph0 * _0x5431b8 * _0x8ff6c6;
        break;
      case mode.EQUIT:
        _0x45efb3 *= _0x1c9cb3;
        break;
      case mode.N_POLE:
        _0x45efb3 *= -(_0x5431b8 * _0x8ff6c6);
        break;
      case mode.S_POLE:
        _0x45efb3 *= _0x5431b8 * _0x8ff6c6;
        break;
    }
    var _0x65b612;
    var _0x24e12e;
    _0x65b612 = _0x45efb3 * this.cg + _0x2ac3b1 * this.sg;
    _0x24e12e = 1 / (_0x65b612 * this.sw * this.h1 + this.cw);
    _0x2ac3b1 = (_0x2ac3b1 * this.cg - _0x45efb3 * this.sg) * this.cw * _0x24e12e;
    _0x45efb3 = _0x65b612 * _0x24e12e;
    _0x1a507d.x = _0x2ac3b1 * this.a;
    _0x1a507d.y = _0x45efb3 * this.a;
    return _0x1a507d;
  }
  function inverse$2(_0x579686) {
    _0x579686.x /= this.a;
    _0x579686.y /= this.a;
    const _0x57a62c = {
      x: _0x579686.x,
      y: _0x579686.y
    };
    var _0x1281fe = _0x57a62c;
    var _0x1b332a;
    var _0x28cbec;
    var _0x194b85;
    _0x194b85 = 1 / (this.pn1 - _0x579686.y * this.sw);
    _0x1b332a = this.pn1 * _0x579686.x * _0x194b85;
    _0x28cbec = this.pn1 * _0x579686.y * this.cw * _0x194b85;
    _0x579686.x = _0x1b332a * this.cg + _0x28cbec * this.sg;
    _0x579686.y = _0x28cbec * this.cg - _0x1b332a * this.sg;
    var _0x42b294 = hypot(_0x579686.x, _0x579686.y);
    if (Math.abs(_0x42b294) < EPSLN) {
      _0x1281fe.x = 0;
      _0x1281fe.y = _0x579686.y;
    } else {
      var _0xbc9dbe;
      var _0x4def38;
      _0x4def38 = 1 - _0x42b294 * _0x42b294 * this.pfact;
      _0x4def38 = (this.p - Math.sqrt(_0x4def38)) / (this.pn1 / _0x42b294 + _0x42b294 / this.pn1);
      _0xbc9dbe = Math.sqrt(1 - _0x4def38 * _0x4def38);
      switch (this.mode) {
        case mode.OBLIQ:
          _0x1281fe.y = Math.asin(_0xbc9dbe * this.sinph0 + _0x579686.y * _0x4def38 * this.cosph0 / _0x42b294);
          _0x579686.y = (_0xbc9dbe - this.sinph0 * Math.sin(_0x1281fe.y)) * _0x42b294;
          _0x579686.x *= _0x4def38 * this.cosph0;
          break;
        case mode.EQUIT:
          _0x1281fe.y = Math.asin(_0x579686.y * _0x4def38 / _0x42b294);
          _0x579686.y = _0xbc9dbe * _0x42b294;
          _0x579686.x *= _0x4def38;
          break;
        case mode.N_POLE:
          _0x1281fe.y = Math.asin(_0xbc9dbe);
          _0x579686.y = -_0x579686.y;
          break;
        case mode.S_POLE:
          _0x1281fe.y = -Math.asin(_0xbc9dbe);
          break;
      }
      _0x1281fe.x = Math.atan2(_0x579686.x, _0x579686.y);
    }
    _0x579686.x = _0x1281fe.x + this.long0;
    _0x579686.y = _0x1281fe.y;
    return _0x579686;
  }
  var names$2 = ["Tilted_Perspective", "tpers"];
  const _0x3f7deb = {
    init: init$2,
    forward: forward$2,
    inverse: inverse$2,
    names: names$2
  };
  var tpers = _0x3f7deb;
  function init$1() {
    this.flip_axis = this.sweep === "x" ? 1 : 0;
    this.h = Number(this.h);
    this.radius_g_1 = this.h / this.a;
    if (this.radius_g_1 <= 0 || this.radius_g_1 > 10000000000) {
      throw new Error();
    }
    this.radius_g = 1 + this.radius_g_1;
    this.C = this.radius_g * this.radius_g - 1;
    if (this.es !== 0) {
      var _0x296c6e = 1 - this.es;
      var _0x3aa4f1 = 1 / _0x296c6e;
      this.radius_p = Math.sqrt(_0x296c6e);
      this.radius_p2 = _0x296c6e;
      this.radius_p_inv2 = _0x3aa4f1;
      this.shape = "ellipse";
    } else {
      this.radius_p = 1;
      this.radius_p2 = 1;
      this.radius_p_inv2 = 1;
      this.shape = "sphere";
    }
    if (!this.title) {
      this.title = "Geostationary Satellite View";
    }
  }
  function forward$1(_0x5942b2) {
    var _0x5efc00 = _0x5942b2.x;
    var _0x49fa46 = _0x5942b2.y;
    var _0x2000ed;
    var _0x1ccb67;
    var _0xfcfc34;
    var _0x10a7c0;
    _0x5efc00 = _0x5efc00 - this.long0;
    if (this.shape === "ellipse") {
      _0x49fa46 = Math.atan(this.radius_p2 * Math.tan(_0x49fa46));
      var _0x3e990e = this.radius_p / hypot(this.radius_p * Math.cos(_0x49fa46), Math.sin(_0x49fa46));
      _0x1ccb67 = _0x3e990e * Math.cos(_0x5efc00) * Math.cos(_0x49fa46);
      _0xfcfc34 = _0x3e990e * Math.sin(_0x5efc00) * Math.cos(_0x49fa46);
      _0x10a7c0 = _0x3e990e * Math.sin(_0x49fa46);
      if ((this.radius_g - _0x1ccb67) * _0x1ccb67 - _0xfcfc34 * _0xfcfc34 - _0x10a7c0 * _0x10a7c0 * this.radius_p_inv2 < 0) {
        _0x5942b2.x = Number.NaN;
        _0x5942b2.y = Number.NaN;
        return _0x5942b2;
      }
      _0x2000ed = this.radius_g - _0x1ccb67;
      if (this.flip_axis) {
        _0x5942b2.x = this.radius_g_1 * Math.atan(_0xfcfc34 / hypot(_0x10a7c0, _0x2000ed));
        _0x5942b2.y = this.radius_g_1 * Math.atan(_0x10a7c0 / _0x2000ed);
      } else {
        _0x5942b2.x = this.radius_g_1 * Math.atan(_0xfcfc34 / _0x2000ed);
        _0x5942b2.y = this.radius_g_1 * Math.atan(_0x10a7c0 / hypot(_0xfcfc34, _0x2000ed));
      }
    } else if (this.shape === "sphere") {
      _0x2000ed = Math.cos(_0x49fa46);
      _0x1ccb67 = Math.cos(_0x5efc00) * _0x2000ed;
      _0xfcfc34 = Math.sin(_0x5efc00) * _0x2000ed;
      _0x10a7c0 = Math.sin(_0x49fa46);
      _0x2000ed = this.radius_g - _0x1ccb67;
      if (this.flip_axis) {
        _0x5942b2.x = this.radius_g_1 * Math.atan(_0xfcfc34 / hypot(_0x10a7c0, _0x2000ed));
        _0x5942b2.y = this.radius_g_1 * Math.atan(_0x10a7c0 / _0x2000ed);
      } else {
        _0x5942b2.x = this.radius_g_1 * Math.atan(_0xfcfc34 / _0x2000ed);
        _0x5942b2.y = this.radius_g_1 * Math.atan(_0x10a7c0 / hypot(_0xfcfc34, _0x2000ed));
      }
    }
    _0x5942b2.x = _0x5942b2.x * this.a;
    _0x5942b2.y = _0x5942b2.y * this.a;
    return _0x5942b2;
  }
  function inverse$1(_0x3d972b) {
    var _0x160fd2 = -1;
    var _0x321c52 = 0;
    var _0x3788b3 = 0;
    var _0x2640e1;
    var _0x39e171;
    var _0x301905;
    var _0xcbfa84;
    _0x3d972b.x = _0x3d972b.x / this.a;
    _0x3d972b.y = _0x3d972b.y / this.a;
    if (this.shape === "ellipse") {
      if (this.flip_axis) {
        _0x3788b3 = Math.tan(_0x3d972b.y / this.radius_g_1);
        _0x321c52 = Math.tan(_0x3d972b.x / this.radius_g_1) * hypot(1, _0x3788b3);
      } else {
        _0x321c52 = Math.tan(_0x3d972b.x / this.radius_g_1);
        _0x3788b3 = Math.tan(_0x3d972b.y / this.radius_g_1) * hypot(1, _0x321c52);
      }
      var _0x46dbda = _0x3788b3 / this.radius_p;
      _0x2640e1 = _0x321c52 * _0x321c52 + _0x46dbda * _0x46dbda + _0x160fd2 * _0x160fd2;
      _0x39e171 = this.radius_g * 2 * _0x160fd2;
      _0x301905 = _0x39e171 * _0x39e171 - _0x2640e1 * 4 * this.C;
      if (_0x301905 < 0) {
        _0x3d972b.x = Number.NaN;
        _0x3d972b.y = Number.NaN;
        return _0x3d972b;
      }
      _0xcbfa84 = (-_0x39e171 - Math.sqrt(_0x301905)) / (_0x2640e1 * 2);
      _0x160fd2 = this.radius_g + _0xcbfa84 * _0x160fd2;
      _0x321c52 *= _0xcbfa84;
      _0x3788b3 *= _0xcbfa84;
      _0x3d972b.x = Math.atan2(_0x321c52, _0x160fd2);
      _0x3d972b.y = Math.atan(_0x3788b3 * Math.cos(_0x3d972b.x) / _0x160fd2);
      _0x3d972b.y = Math.atan(this.radius_p_inv2 * Math.tan(_0x3d972b.y));
    } else if (this.shape === "sphere") {
      if (this.flip_axis) {
        _0x3788b3 = Math.tan(_0x3d972b.y / this.radius_g_1);
        _0x321c52 = Math.tan(_0x3d972b.x / this.radius_g_1) * Math.sqrt(1 + _0x3788b3 * _0x3788b3);
      } else {
        _0x321c52 = Math.tan(_0x3d972b.x / this.radius_g_1);
        _0x3788b3 = Math.tan(_0x3d972b.y / this.radius_g_1) * Math.sqrt(1 + _0x321c52 * _0x321c52);
      }
      _0x2640e1 = _0x321c52 * _0x321c52 + _0x3788b3 * _0x3788b3 + _0x160fd2 * _0x160fd2;
      _0x39e171 = this.radius_g * 2 * _0x160fd2;
      _0x301905 = _0x39e171 * _0x39e171 - _0x2640e1 * 4 * this.C;
      if (_0x301905 < 0) {
        _0x3d972b.x = Number.NaN;
        _0x3d972b.y = Number.NaN;
        return _0x3d972b;
      }
      _0xcbfa84 = (-_0x39e171 - Math.sqrt(_0x301905)) / (_0x2640e1 * 2);
      _0x160fd2 = this.radius_g + _0xcbfa84 * _0x160fd2;
      _0x321c52 *= _0xcbfa84;
      _0x3788b3 *= _0xcbfa84;
      _0x3d972b.x = Math.atan2(_0x321c52, _0x160fd2);
      _0x3d972b.y = Math.atan(_0x3788b3 * Math.cos(_0x3d972b.x) / _0x160fd2);
    }
    _0x3d972b.x = _0x3d972b.x + this.long0;
    return _0x3d972b;
  }
  var names$1 = ["Geostationary Satellite View", "Geostationary_Satellite", "geos"];
  const _0x333afb = {
    init: init$1,
    forward: forward$1,
    inverse: inverse$1,
    names: names$1
  };
  var geos = _0x333afb;
  var A1 = 1.340264;
  var A2 = -0.081106;
  var A3 = 0.000893;
  var A4 = 0.003796;
  var M = Math.sqrt(3) / 2;
  function init() {
    this.es = 0;
    this.long0 = this.long0 !== undefined ? this.long0 : 0;
  }
  function forward(_0x1e8535) {
    var _0x2727ad = adjust_lon(_0x1e8535.x - this.long0);
    var _0x2a7dc5 = _0x1e8535.y;
    var _0x2c0371 = Math.asin(M * Math.sin(_0x2a7dc5));
    var _0x454137 = _0x2c0371 * _0x2c0371;
    var _0x570af5 = _0x454137 * _0x454137 * _0x454137;
    _0x1e8535.x = _0x2727ad * Math.cos(_0x2c0371) / (M * (A1 + A2 * 3 * _0x454137 + _0x570af5 * (A3 * 7 + A4 * 9 * _0x454137)));
    _0x1e8535.y = _0x2c0371 * (A1 + A2 * _0x454137 + _0x570af5 * (A3 + A4 * _0x454137));
    _0x1e8535.x = this.a * _0x1e8535.x + this.x0;
    _0x1e8535.y = this.a * _0x1e8535.y + this.y0;
    return _0x1e8535;
  }
  function inverse(_0x4be229) {
    _0x4be229.x = (_0x4be229.x - this.x0) / this.a;
    _0x4be229.y = (_0x4be229.y - this.y0) / this.a;
    var _0x222dfd = 1e-9;
    var _0x5a0dd2 = 12;
    var _0x44b9d7 = _0x4be229.y;
    var _0x509306;
    var _0x24312a;
    var _0x352088;
    var _0x1f4c73;
    var _0x58d488;
    var _0xe537c5;
    for (_0xe537c5 = 0; _0xe537c5 < _0x5a0dd2; ++_0xe537c5) {
      _0x509306 = _0x44b9d7 * _0x44b9d7;
      _0x24312a = _0x509306 * _0x509306 * _0x509306;
      _0x352088 = _0x44b9d7 * (A1 + A2 * _0x509306 + _0x24312a * (A3 + A4 * _0x509306)) - _0x4be229.y;
      _0x1f4c73 = A1 + A2 * 3 * _0x509306 + _0x24312a * (A3 * 7 + A4 * 9 * _0x509306);
      _0x44b9d7 -= _0x58d488 = _0x352088 / _0x1f4c73;
      if (Math.abs(_0x58d488) < _0x222dfd) {
        break;
      }
    }
    _0x509306 = _0x44b9d7 * _0x44b9d7;
    _0x24312a = _0x509306 * _0x509306 * _0x509306;
    _0x4be229.x = M * _0x4be229.x * (A1 + A2 * 3 * _0x509306 + _0x24312a * (A3 * 7 + A4 * 9 * _0x509306)) / Math.cos(_0x44b9d7);
    _0x4be229.y = Math.asin(Math.sin(_0x44b9d7) / M);
    _0x4be229.x = adjust_lon(_0x4be229.x + this.long0);
    return _0x4be229;
  }
  var names = ["eqearth", "Equal Earth", "Equal_Earth"];
  const _0x557661 = {
    init: init,
    forward: forward,
    inverse: inverse,
    names: names
  };
  var eqearth = _0x557661;
  function includedProjections(_0x40d4a1) {
    _0x40d4a1.Proj.projections.add(tmerc);
    _0x40d4a1.Proj.projections.add(etmerc);
    _0x40d4a1.Proj.projections.add(utm);
    _0x40d4a1.Proj.projections.add(sterea);
    _0x40d4a1.Proj.projections.add(stere);
    _0x40d4a1.Proj.projections.add(somerc);
    _0x40d4a1.Proj.projections.add(omerc);
    _0x40d4a1.Proj.projections.add(lcc);
    _0x40d4a1.Proj.projections.add(krovak);
    _0x40d4a1.Proj.projections.add(cass);
    _0x40d4a1.Proj.projections.add(laea);
    _0x40d4a1.Proj.projections.add(aea);
    _0x40d4a1.Proj.projections.add(gnom);
    _0x40d4a1.Proj.projections.add(cea);
    _0x40d4a1.Proj.projections.add(eqc);
    _0x40d4a1.Proj.projections.add(poly);
    _0x40d4a1.Proj.projections.add(nzmg);
    _0x40d4a1.Proj.projections.add(mill);
    _0x40d4a1.Proj.projections.add(sinu);
    _0x40d4a1.Proj.projections.add(moll);
    _0x40d4a1.Proj.projections.add(eqdc);
    _0x40d4a1.Proj.projections.add(vandg);
    _0x40d4a1.Proj.projections.add(aeqd);
    _0x40d4a1.Proj.projections.add(ortho);
    _0x40d4a1.Proj.projections.add(qsc);
    _0x40d4a1.Proj.projections.add(robin);
    _0x40d4a1.Proj.projections.add(geocent);
    _0x40d4a1.Proj.projections.add(tpers);
    _0x40d4a1.Proj.projections.add(geos);
    _0x40d4a1.Proj.projections.add(eqearth);
  }
  proj4.defaultDatum = "WGS84";
  proj4.Proj = Projection;
  proj4.WGS84 = new proj4.Proj("WGS84");
  proj4.Point = Point;
  proj4.toPoint = common;
  proj4.defs = defs;
  proj4.nadgrid = nadgrid;
  proj4.transform = transform;
  proj4.mgrs = mgrs;
  proj4.version = "__VERSION__";
  includedProjections(proj4);
  const CRS = {
    EPSG3857: "EPSG:3857",
    EPSG4326: "EPSG:4326",
    EPSG4490: "EPSG:4490",
    CGCS2000_GK_Zone_3: "CGCS2000_GK_Zone_3",
    CGCS2000_GK_Zone_6: "CGCS2000_GK_Zone_6",
    CGCS2000_GK_CM_3: "CGCS2000_GK_CM_3",
    CGCS2000_GK_CM_6: "CGCS2000_GK_CM_6"
  };
  const PI$1 = 3.141592653589793;
  class LngLatPoint {
    constructor(_0x373c9d, _0x13c6a2, _0x16770d) {
      this._lng = Number(_0x373c9d || 0);
      this._lat = Number(_0x13c6a2 || 0);
      this._alt = Number(_0x16770d || 0);
    }
    get lng() {
      return this._lng;
    }
    set lng(_0x58860d) {
      if (isNaN(_0x58860d)) {
        _0x58860d = 0;
      }
      this._lng = +_0x58860d;
      this._position = null;
    }
    get lat() {
      return this._lat;
    }
    set lat(_0x467883) {
      if (isNaN(_0x467883)) {
        _0x467883 = 0;
      }
      this._lat = +_0x467883;
      this._position = null;
    }
    get alt() {
      return this._alt || 0;
    }
    set alt(_0x11c7ad) {
      if (isNaN(_0x11c7ad)) {
        _0x11c7ad = 0;
      }
      this._alt = +_0x11c7ad;
      if (this._position && this._position instanceof Cesium__namespace.Cartesian3) {
        this._position = null;
      }
    }
    clone() {
      const _0x7949b1 = new LngLatPoint();
      _0x7949b1.lng = this.lng || 0;
      _0x7949b1.lat = this.lat || 0;
      _0x7949b1.alt = this.alt || 0;
      return _0x7949b1;
    }
    format() {
      this._lng = formatNum$4(this.lng, LngLatPoint.FormatLength);
      this._lat = formatNum$4(this.lat, LngLatPoint.FormatLength);
      this._alt = formatNum$4(this.alt, LngLatPoint.FormatAltLength);
      return this;
    }
    toArray(_0x244cdb) {
      this.format();
      if (_0x244cdb) {
        return [this.lng, this.lat];
      } else {
        return [this.lng, this.lat, this.alt];
      }
    }
    toString() {
      this.format();
      return this.lng + "," + this.lat + "," + this.alt;
    }
    toObject() {
      this.format();
      const _0x434e27 = {
        lng: this.lng,
        lat: this.lat,
        alt: this.alt
      };
      return _0x434e27;
    }
    toCartesian(_0x29a2ef = false) {
      if (!_0x29a2ef && this._position) {
        return this._position;
      } else {
        return Cesium__namespace.Cartesian3.fromDegrees(this.lng, this.lat, this.alt);
      }
    }
    toCartographic() {
      return Cesium__namespace.Cartographic.fromDegrees(this.lng, this.lat, this.alt);
    }
    toMercator() {
      let _0xa92d2c = Math.min(this.lng, 180);
      _0xa92d2c = Math.max(_0xa92d2c, -180);
      let _0x4d93be = Math.min(this.lat, 85.05112877980659);
      _0x4d93be = Math.max(_0x4d93be, -85.05112877980659);
      const _0xe75843 = _0xa92d2c * 20037508.34 / 180;
      let _0x5f0356 = Math.log(Math.tan((90 + _0x4d93be) * PI$1 / 360)) / (PI$1 / 180);
      _0x5f0356 = _0x5f0356 * 20037508.34 / 180;
      return [_0xe75843, _0x5f0356, this.alt];
    }
    equals(_0x30a1e3) {
      return this === _0x30a1e3 || _0x30a1e3 instanceof LngLatPoint && this._alt === _0x30a1e3._alt && this._lat === _0x30a1e3._lat && this._lng === _0x30a1e3._lng;
    }
    valid() {
      if (isNaN(this._lat) || isNaN(this._lng)) {
        return false;
      }
      if (this._lat < -90 || this._lat > 90 || this._lng < -180 || this._lng > 180) {
        return false;
      }
      if (this._lat === 0 && this._lng === 0 && this._alt === 0) {
        return false;
      }
      return true;
    }
    static parse(_0x395d0e, _0x41c139) {
      if (!_0x395d0e) {
        return new LngLatPoint();
      }
      if (_0x395d0e instanceof LngLatPoint) {
        return _0x395d0e;
      }
      let _0x33ff4d;
      if (typeof _0x395d0e === "string") {
        _0x33ff4d = LngLatPoint.fromString(_0x395d0e);
      } else if (Array.isArray(_0x395d0e)) {
        _0x33ff4d = LngLatPoint.fromArray(_0x395d0e);
      } else if (_0x395d0e instanceof LngLatPoint) {
        _0x33ff4d = _0x395d0e.clone();
      } else if (Cesium__namespace.defined(_0x395d0e.lat) && Cesium__namespace.defined(_0x395d0e.lng)) {
        _0x33ff4d = new LngLatPoint(_0x395d0e.lng, _0x395d0e.lat, _0x395d0e.alt);
        for (const _0x2782f8 in _0x395d0e) {
          _0x33ff4d[_0x2782f8] = _0x395d0e[_0x2782f8];
        }
      } else if (_0x395d0e instanceof Cesium__namespace.Cartesian3 || _0x395d0e._value || _0x395d0e.getValue) {
        _0x33ff4d = LngLatPoint.fromCartesian(_0x395d0e, _0x41c139);
        _0x33ff4d._position = _0x395d0e;
      } else if (Cesium__namespace.defined(_0x395d0e.x) && Cesium__namespace.defined(_0x395d0e.y) && Cesium__namespace.defined(_0x395d0e.z)) {
        _0x395d0e = new Cesium__namespace.Cartesian3(_0x395d0e.x, _0x395d0e.y, _0x395d0e.z);
        _0x33ff4d = LngLatPoint.fromCartesian(_0x395d0e, _0x41c139);
        _0x33ff4d._position = _0x395d0e;
      } else {
        _0x33ff4d = new LngLatPoint();
        logError("坐标解析失败，请确认参数是否无误", _0x395d0e);
      }
      return _0x33ff4d;
    }
    static fromCartesian(_0x5c3e2d, _0x18cc5d) {
      const _0x1c558b = new LngLatPoint();
      let _0x1f64c5;
      if (_0x5c3e2d) {
        if (_0x5c3e2d instanceof Cesium__namespace.Cartesian3) {
          if (isNaN(_0x5c3e2d.x)) {
            _0x5c3e2d.x = 0;
          }
          if (isNaN(_0x5c3e2d.y)) {
            _0x5c3e2d.y = 0;
          }
          if (isNaN(_0x5c3e2d.z)) {
            _0x5c3e2d.z = 0;
          }
          _0x1f64c5 = _0x5c3e2d;
        } else if (_0x5c3e2d._value && _0x5c3e2d._value instanceof Cesium__namespace.Cartesian3) {
          _0x1f64c5 = _0x5c3e2d._value;
        } else if (typeof _0x5c3e2d.getValue === "function") {
          _0x1f64c5 = _0x5c3e2d.getValue(_0x18cc5d || Cesium__namespace.JulianDate.now());
        }
      }
      if (_0x1f64c5) {
        const _0x2de76f = Cesium__namespace.Cartographic.fromCartesian(_0x1f64c5);
        if (_0x2de76f) {
          _0x1c558b.lat = Cesium__namespace.Math.toDegrees(_0x2de76f.latitude);
          _0x1c558b.lng = Cesium__namespace.Math.toDegrees(_0x2de76f.longitude);
          _0x1c558b.alt = _0x2de76f.height;
          _0x1c558b.format();
        }
      }
      _0x1c558b._position = _0x5c3e2d;
      return _0x1c558b;
    }
    static fromArray(_0x2d6a7d) {
      const _0x58fcda = new LngLatPoint();
      if (Array.isArray(_0x2d6a7d)) {
        _0x58fcda.lng = _0x2d6a7d[0] || 0;
        _0x58fcda.lat = _0x2d6a7d[1] || 0;
        _0x58fcda.alt = _0x2d6a7d[2] || 0;
        if (_0x2d6a7d.length === 4) {
          _0x58fcda.time = _0x2d6a7d[3];
        }
      }
      return _0x58fcda;
    }
    static fromString(_0x292574) {
      let _0xdba3b1 = new LngLatPoint();
      if (_0x292574 && typeof _0x292574 === "string") {
        const _0x27384f = _0x292574.split(",");
        _0xdba3b1 = this.fromArray(_0x27384f);
      }
      return _0xdba3b1;
    }
    static fromCartographic(_0x5206a2) {
      const _0xcb4b12 = new LngLatPoint();
      _0xcb4b12.lat = Cesium__namespace.Math.toDegrees(_0x5206a2.latitude);
      _0xcb4b12.lng = Cesium__namespace.Math.toDegrees(_0x5206a2.longitude);
      _0xcb4b12.alt = _0x5206a2.height;
      return _0xcb4b12;
    }
    static fromMercator(_0xb36347) {
      const _0x50bf0f = Number(_0xb36347[0]);
      const _0x345023 = Number(_0xb36347[1]);
      const _0x4b12e7 = _0x50bf0f / 20037508.34 * 180;
      let _0x7cd2c6 = _0x345023 / 20037508.34 * 180;
      _0x7cd2c6 = 180 / PI$1 * (Math.atan(Math.exp(_0x7cd2c6 * PI$1 / 180)) * 2 - PI$1 / 2);
      const _0xb65f0d = new LngLatPoint(_0x4b12e7, _0x7cd2c6, _0xb36347[2] || 0);
      return _0xb65f0d;
    }
    static toCartesian(_0x4f16b2, _0x27d521) {
      if (!_0x4f16b2 || _0x4f16b2 instanceof Cesium__namespace.Cartesian3) {
        return _0x4f16b2;
      }
      return LngLatPoint.parse(_0x4f16b2, _0x27d521).toCartesian(true);
    }
    static toCartographic(_0x1badc0, _0x3a0d9f) {
      if (!_0x1badc0 || _0x1badc0 instanceof Cesium__namespace.Cartographic) {
        return _0x1badc0;
      }
      return LngLatPoint.parse(_0x1badc0, _0x3a0d9f).toCartographic();
    }
    static toArray(_0x5c31c9, _0xfd89ad) {
      const _0xdc7497 = LngLatPoint.parse(_0x5c31c9);
      if (!_0xdc7497 || !_0xdc7497.valid()) {
        return [];
      }
      return _0xdc7497.toArray(_0xfd89ad);
    }
  }
  LngLatPoint.FormatLength = 6;
  LngLatPoint.FormatAltLength = 1;
  function formatNum$4(_0x5bb542, _0x41f3f4 = 0) {
    const _0x501600 = Math.pow(10, _0x41f3f4);
    return Math.round(_0x5bb542 * _0x501600) / _0x501600;
  }
  class LngLatArray {
    static toCartesians(_0x1a9bf5, _0x1e9538) {
      if (!_0x1a9bf5 || !Array.isArray(_0x1a9bf5)) {
        return _0x1a9bf5;
      }
      const _0x5d20e8 = [];
      _0x1a9bf5.forEach(function (_0xfc79e3) {
        if (_0xfc79e3 instanceof Cesium__namespace.Cartesian3) {
          if (_0x1e9538) {
            _0x5d20e8.push(_0xfc79e3.clone());
          } else {
            _0x5d20e8.push(_0xfc79e3);
          }
          return;
        }
        const _0x33cab0 = LngLatPoint.parse(_0xfc79e3);
        if (!_0x33cab0 || !_0x33cab0.valid()) {
          return;
        }
        _0x5d20e8.push(_0x33cab0.toCartesian(true));
      });
      return _0x5d20e8;
    }
    static toCartographics(_0x2140d4, _0x8cfb2d) {
      if (!_0x2140d4 || !Array.isArray(_0x2140d4)) {
        return _0x2140d4;
      }
      const _0x56e47a = [];
      _0x2140d4.forEach(function (_0x5aa4e2) {
        if (_0x5aa4e2 instanceof Cesium__namespace.Cartographic) {
          if (_0x8cfb2d) {
            _0x56e47a.push(_0x5aa4e2.clone());
          } else {
            _0x56e47a.push(_0x5aa4e2);
          }
          return;
        }
        const _0x38ea74 = LngLatPoint.parse(_0x5aa4e2);
        if (!_0x38ea74 || !_0x38ea74.valid()) {
          return;
        }
        _0x56e47a.push(_0x38ea74.toCartographic());
      });
      return _0x56e47a;
    }
    static toPoints(_0x210969, _0x10bbf2) {
      if (!_0x210969 || !Array.isArray(_0x210969)) {
        return _0x210969;
      }
      const _0x1ebd0c = [];
      _0x210969.forEach(function (_0x1fbd65) {
        if (_0x1fbd65 instanceof LngLatPoint && !_0x10bbf2) {
          _0x1ebd0c.push(_0x1fbd65);
          return;
        }
        const _0xd29542 = LngLatPoint.parse(_0x1fbd65);
        if (!_0xd29542 || !_0xd29542.valid()) {
          return;
        }
        _0x1ebd0c.push(_0xd29542);
      });
      return _0x1ebd0c;
    }
    static toArray(_0x31f159, _0x15e1ca) {
      if (!_0x31f159 || !Array.isArray(_0x31f159)) {
        return _0x31f159;
      }
      const _0x2cbc3b = [];
      _0x31f159.forEach(function (_0x22774f) {
        if (Array.isArray(_0x22774f)) {
          _0x2cbc3b.push(_0x22774f);
          return;
        }
        const _0x2db886 = LngLatPoint.parse(_0x22774f);
        if (!_0x2db886 || !_0x2db886.valid()) {
          return;
        }
        _0x2cbc3b.push(_0x2db886.toArray(_0x15e1ca));
      });
      return _0x2cbc3b;
    }
    static toGeoJSONPolygonGeometry(_0x476a6d) {
      _0x476a6d = LngLatArray.toArray(_0x476a6d);
      const _0x38255b = _0x476a6d[0];
      const _0x181612 = _0x476a6d[_0x476a6d.length - 1];
      if (_0x38255b[0] !== _0x181612[0] || _0x38255b[1] !== _0x181612[1]) {
        _0x476a6d.push(_0x476a6d[0]);
      }
      const _0x3ca90b = {
        type: "Polygon",
        coordinates: [_0x476a6d]
      };
      return _0x3ca90b;
    }
  }
  function degree2dms(_0x3641d1, _0x5f03c0 = 0) {
    let _0x330fd0 = 1;
    if (_0x3641d1 < 0) {
      _0x330fd0 = -1;
    }
    _0x3641d1 = Math.abs(_0x3641d1);
    let _0x2c1df5 = Math.floor(_0x3641d1);
    let _0x19f3ab = Math.floor((_0x3641d1 - _0x2c1df5) * 60);
    let _0x3cc42f = ((_0x3641d1 - _0x2c1df5) * 3600 % 60).toFixed(_0x5f03c0);
    if (_0x3cc42f === 60) {
      _0x19f3ab += 1;
      _0x3cc42f = 0;
    }
    if (_0x19f3ab === 60) {
      _0x2c1df5 += 1;
      _0x19f3ab = 0;
    }
    _0x2c1df5 *= _0x330fd0;
    const _0x11ee9d = {
      degree: _0x2c1df5,
      minute: _0x19f3ab,
      second: _0x3cc42f,
      str: _0x2c1df5 + "° " + _0x19f3ab + "' " + _0x3cc42f + "\""
    };
    return _0x11ee9d;
  }
  function dms2degree(_0x261cf2, _0x5e7886, _0x3de345) {
    let _0x59f616 = Math.abs(_0x261cf2) + _0x5e7886 / 60 + _0x3de345 / 3600;
    if (_0x261cf2 < 0) {
      _0x59f616 *= -1;
    }
    return _0x59f616;
  }
  function getCGCS2000EPSGByLng(_0x4576c5, _0x2ff386, _0x416362 = true) {
    let _0x121f37;
    if (_0x2ff386) {
      const _0x3a239f = parseInt(_0x4576c5 / 6) + 1;
      if (_0x3a239f < 13 || _0x3a239f > 23) {
        return undefined;
      }
      if (_0x416362) {
        _0x121f37 = _0x3a239f + 4478;
      } else {
        _0x121f37 = _0x3a239f + 4489;
      }
    } else {
      const _0x120927 = parseInt((_0x4576c5 - 1.5) / 3) + 1;
      if (_0x120927 < 25 || _0x120927 > 45) {
        return undefined;
      }
      if (_0x416362) {
        _0x121f37 = _0x120927 + 4488;
      } else {
        _0x121f37 = _0x120927 + 4509;
      }
    }
    return "EPSG:" + _0x121f37;
  }
  function getCGCS2000EPSGByX(_0x1ebb22) {
    const _0x4777eb = parseInt(_0x1ebb22.toString().slice(0, 2));
    if (_0x4777eb >= 13 && _0x4777eb <= 23) {
      return "EPSG:" + (_0x4777eb + 4478);
    } else if (_0x4777eb >= 25 && _0x4777eb <= 45) {
      return "EPSG:" + (_0x4777eb + 4488);
    } else {
      return undefined;
    }
  }
  function proj4Trans(_0x5a82f8, _0x325413, _0x467cb5 = "EPSG:4326") {
    if (!_0x325413 || !_0x467cb5 || _0x325413 === _0x467cb5) {
      return _0x5a82f8;
    }
    try {
      if (_0x325413 === CRS.CGCS2000_GK_Zone_3 || _0x325413 === CRS.CGCS2000_GK_Zone_6) {
        _0x325413 = getCGCS2000EPSGByX(_0x5a82f8[0]);
      }
      if (_0x467cb5 === CRS.CGCS2000_GK_Zone_3) {
        _0x467cb5 = getCGCS2000EPSGByLng(_0x5a82f8[0], false, true);
      } else if (_0x467cb5 === CRS.CGCS2000_GK_Zone_6) {
        _0x467cb5 = getCGCS2000EPSGByLng(_0x5a82f8[0], true, true);
      } else if (_0x467cb5 === CRS.CGCS2000_GK_CM_3) {
        _0x467cb5 = getCGCS2000EPSGByLng(_0x5a82f8[0], false, false);
      } else if (_0x467cb5 === CRS.CGCS2000_GK_CM_6) {
        _0x467cb5 = getCGCS2000EPSGByLng(_0x5a82f8[0], true, false);
      }
      if (!_0x325413 || !_0x467cb5 || _0x325413 === _0x467cb5) {
        return _0x5a82f8;
      }
      const _0x32943c = proj4(_0x325413, _0x467cb5, _0x5a82f8);
      if (Cesium__namespace.defined(_0x32943c) && _0x32943c.length > 1 && !isNaN(_0x32943c[0]) && _0x32943c[0] !== Infinity) {
        return _0x32943c;
      }
    } catch (_0x263a76) {}
    return _0x5a82f8;
  }
  function proj4TransArr(_0x2a07ec, _0x44a977, _0x2da4f8 = "EPSG:4326") {
    if (!_0x44a977 || _0x44a977 === _0x2da4f8) {
      return _0x2a07ec;
    }
    const _0x54821f = [];
    for (let _0x4c00e8 = 0, _0x17f6ee = _0x2a07ec.length; _0x4c00e8 < _0x17f6ee; _0x4c00e8++) {
      const _0x2435f4 = _0x2a07ec[_0x4c00e8];
      if (Array.isArray(_0x2435f4[0])) {
        const _0x311cd4 = proj4TransArr(_0x2435f4, _0x44a977, _0x2da4f8);
        if (_0x311cd4 && _0x311cd4.length > 0) {
          _0x54821f.push(_0x311cd4);
        }
      } else {
        const _0x14663e = proj4Trans(_0x2435f4, _0x44a977, _0x2da4f8);
        if (_0x14663e) {
          _0x54821f.push(_0x14663e);
        }
      }
    }
    return _0x54821f;
  }
  function toWindowCoordinates$1(_0x516d42, _0x2076e5, _0x2e7f7b) {
    if (Cesium__namespace.SceneTransforms.worldToWindowCoordinates) {
      return Cesium__namespace.SceneTransforms.worldToWindowCoordinates(_0x516d42, _0x2076e5, _0x2e7f7b);
    }
    if (Cesium__namespace.SceneTransforms.wgs84ToWindowCoordinates) {
      return Cesium__namespace.SceneTransforms.wgs84ToWindowCoordinates(_0x516d42, _0x2076e5, _0x2e7f7b);
    }
    return new Cesium__namespace.Cartesian2(0, 0);
  }
  function cartesian2lonlat(_0x508058, _0x30d1cc) {
    return LngLatPoint.toArray(_0x508058, _0x30d1cc);
  }
  function cartesians2lonlats(_0x333bb7, _0x35f99b) {
    return LngLatArray.toArray(_0x333bb7, _0x35f99b);
  }
  function cartesian2mercator(_0x1e9dd7) {
    if (!_0x1e9dd7) {
      return null;
    }
    const _0xcb5a7a = LngLatPoint.fromCartesian(_0x1e9dd7);
    return _0xcb5a7a.toMercator();
  }
  function cartesians2mercators(_0x59b52c) {
    const _0x4dfe5e = [];
    for (let _0x316614 = 0, _0x2687d9 = _0x59b52c.length; _0x316614 < _0x2687d9; _0x316614++) {
      const _0x363d43 = cartesian2mercator(_0x59b52c[_0x316614]);
      if (_0x363d43) {
        _0x4dfe5e.push(_0x363d43);
      }
    }
    return _0x4dfe5e;
  }
  function lonlat2cartesian(_0xf86908, _0x49a67f = 0) {
    if (!_0xf86908 || _0xf86908.length < 2) {
      return null;
    }
    return Cesium__namespace.Cartesian3.fromDegrees(_0xf86908[0], _0xf86908[1], _0xf86908[2] || _0x49a67f);
  }
  function lonlats2cartesians(_0x1673b2, _0x2197ef) {
    const _0x4bb1a1 = [];
    for (let _0x54791b = 0, _0x13dfbf = _0x1673b2.length; _0x54791b < _0x13dfbf; _0x54791b++) {
      const _0x20f58a = _0x1673b2[_0x54791b];
      if (Array.isArray(_0x20f58a[0])) {
        const _0x1db634 = lonlats2cartesians(_0x20f58a, _0x2197ef);
        if (_0x1db634 && _0x1db634.length > 0) {
          _0x4bb1a1.push(_0x1db634);
        }
      } else {
        const _0x208120 = lonlat2cartesian(_0x20f58a, _0x2197ef);
        if (_0x208120) {
          _0x4bb1a1.push(_0x208120);
        }
      }
    }
    return _0x4bb1a1;
  }
  function lonlat2mercator(_0x54efd8) {
    const _0x2ffcc8 = LngLatPoint.fromArray(_0x54efd8);
    return _0x2ffcc8.toMercator();
  }
  function lonlats2mercators(_0x41b1a0) {
    const _0x4357a9 = [];
    for (let _0x21f2ca = 0, _0x3e58cc = _0x41b1a0.length; _0x21f2ca < _0x3e58cc; _0x21f2ca++) {
      const _0xd87bd2 = lonlat2mercator(_0x41b1a0[_0x21f2ca]);
      _0x4357a9.push(_0xd87bd2);
    }
    return _0x4357a9;
  }
  function mercator2cartesian(_0xbc3afe, _0x35f120) {
    if (isNaN(_0xbc3afe[0]) || isNaN(_0xbc3afe[1])) {
      return null;
    }
    const _0x140beb = LngLatPoint.fromMercator(_0xbc3afe);
    if (Cesium__namespace.defined(_0x35f120)) {
      _0x140beb.alt = _0x35f120;
    }
    return _0x140beb.toCartesian();
  }
  function mercators2cartesians(_0x2c9aa0, _0x931a7b) {
    const _0x169a65 = [];
    for (let _0x528737 = 0, _0x30b2f4 = _0x2c9aa0.length; _0x528737 < _0x30b2f4; _0x528737++) {
      const _0x3109d9 = mercator2cartesian(_0x2c9aa0[_0x528737], _0x931a7b);
      if (_0x3109d9) {
        _0x169a65.push(_0x3109d9);
      }
    }
    return _0x169a65;
  }
  function mercator2lonlat(_0x3c4e07) {
    const _0x565e95 = LngLatPoint.fromMercator(_0x3c4e07);
    return _0x565e95.toArray();
  }
  function mercators2lonlats(_0x296d6f) {
    const _0x29f861 = [];
    for (let _0x1dabb3 = 0, _0x57ae80 = _0x296d6f.length; _0x1dabb3 < _0x57ae80; _0x1dabb3++) {
      const _0x2476b1 = mercator2lonlat(_0x296d6f[_0x1dabb3]);
      _0x29f861.push(_0x2476b1);
    }
    return _0x29f861;
  }
  const x_PI = 9424.77796076938 / 180;
  const PI = 3.141592653589793;
  const a = 6378245;
  const ee = 0.00669342162296594;
  function transformlat(_0xf28c8b, _0x5923c1) {
    let _0x467428 = -100 + _0xf28c8b * 2 + _0x5923c1 * 3 + _0x5923c1 * 0.2 * _0x5923c1 + _0xf28c8b * 0.1 * _0x5923c1 + Math.sqrt(Math.abs(_0xf28c8b)) * 0.2;
    _0x467428 += (Math.sin(_0xf28c8b * 6 * PI) * 20 + Math.sin(_0xf28c8b * 2 * PI) * 20) * 2 / 3;
    _0x467428 += (Math.sin(_0x5923c1 * PI) * 20 + Math.sin(_0x5923c1 / 3 * PI) * 40) * 2 / 3;
    _0x467428 += (Math.sin(_0x5923c1 / 12 * PI) * 160 + Math.sin(_0x5923c1 * PI / 30) * 320) * 2 / 3;
    return _0x467428;
  }
  function transformlng(_0x53dd08, _0x1f880b) {
    let _0x398300 = 300 + _0x53dd08 + _0x1f880b * 2 + _0x53dd08 * 0.1 * _0x53dd08 + _0x53dd08 * 0.1 * _0x1f880b + Math.sqrt(Math.abs(_0x53dd08)) * 0.1;
    _0x398300 += (Math.sin(_0x53dd08 * 6 * PI) * 20 + Math.sin(_0x53dd08 * 2 * PI) * 20) * 2 / 3;
    _0x398300 += (Math.sin(_0x53dd08 * PI) * 20 + Math.sin(_0x53dd08 / 3 * PI) * 40) * 2 / 3;
    _0x398300 += (Math.sin(_0x53dd08 / 12 * PI) * 150 + Math.sin(_0x53dd08 / 30 * PI) * 300) * 2 / 3;
    return _0x398300;
  }
  function isOutChina(_0x94b434) {
    const _0xd9ea3b = Number(_0x94b434[0]);
    const _0x4d072f = Number(_0x94b434[1]);
    if (_0x4d072f > 22.5 && _0x4d072f < 39.77 && _0xd9ea3b > 123.12 && _0xd9ea3b < 135.2) {
      return false;
    }
    if (_0x4d072f > 15 && _0x4d072f < 21.45 && _0xd9ea3b > 72 && _0xd9ea3b < 107.96) {
      return false;
    }
    return _0x4d072f < 15 || _0x4d072f > 53 || _0xd9ea3b < 72 || _0xd9ea3b > 135.2;
  }
  function bd2gcj(_0x387260) {
    if (isOutChina(_0x387260)) {
      return _0x387260;
    }
    const _0xdc4fdb = Number(_0x387260[0]);
    const _0x5b2dc0 = Number(_0x387260[1]);
    const _0x560406 = 9424.77796076938 / 180;
    const _0x530520 = _0xdc4fdb - 0.0065;
    const _0x4bb892 = _0x5b2dc0 - 0.006;
    const _0x61fb19 = Math.sqrt(_0x530520 * _0x530520 + _0x4bb892 * _0x4bb892) - Math.sin(_0x4bb892 * _0x560406) * 0.00002;
    const _0x164d90 = Math.atan2(_0x4bb892, _0x530520) - Math.cos(_0x530520 * _0x560406) * 0.000003;
    let _0x1118cc = _0x61fb19 * Math.cos(_0x164d90);
    let _0x2c32ab = _0x61fb19 * Math.sin(_0x164d90);
    _0x1118cc = Number(_0x1118cc.toFixed(LngLatPoint.FormatLength));
    _0x2c32ab = Number(_0x2c32ab.toFixed(LngLatPoint.FormatLength));
    return [_0x1118cc, _0x2c32ab];
  }
  function gcj2bd(_0x3c7aab) {
    if (isOutChina(_0x3c7aab)) {
      return _0x3c7aab;
    }
    const _0x5f3838 = Number(_0x3c7aab[0]);
    const _0x4882ae = Number(_0x3c7aab[1]);
    const _0x5d4a1b = Math.sqrt(_0x5f3838 * _0x5f3838 + _0x4882ae * _0x4882ae) + Math.sin(_0x4882ae * x_PI) * 0.00002;
    const _0x2e074e = Math.atan2(_0x4882ae, _0x5f3838) + Math.cos(_0x5f3838 * x_PI) * 0.000003;
    let _0x14d50b = _0x5d4a1b * Math.cos(_0x2e074e) + 0.0065;
    let _0x48b470 = _0x5d4a1b * Math.sin(_0x2e074e) + 0.006;
    _0x14d50b = Number(_0x14d50b.toFixed(LngLatPoint.FormatLength));
    _0x48b470 = Number(_0x48b470.toFixed(LngLatPoint.FormatLength));
    return [_0x14d50b, _0x48b470];
  }
  function wgs2gcj(_0x3f292a) {
    if (isOutChina(_0x3f292a)) {
      return _0x3f292a;
    }
    const _0x3363ae = Number(_0x3f292a[0]);
    const _0x3b68bc = Number(_0x3f292a[1]);
    let _0x4f2a0a = transformlat(_0x3363ae - 105, _0x3b68bc - 35);
    let _0x2059b2 = transformlng(_0x3363ae - 105, _0x3b68bc - 35);
    const _0x4f4091 = _0x3b68bc / 180 * PI;
    let _0xd5b190 = Math.sin(_0x4f4091);
    _0xd5b190 = 1 - ee * _0xd5b190 * _0xd5b190;
    const _0x55765c = Math.sqrt(_0xd5b190);
    _0x4f2a0a = _0x4f2a0a * 180 / (a * (1 - ee) / (_0xd5b190 * _0x55765c) * PI);
    _0x2059b2 = _0x2059b2 * 180 / (a / _0x55765c * Math.cos(_0x4f4091) * PI);
    let _0x5e83ec = _0x3b68bc + _0x4f2a0a;
    let _0xea0f2a = _0x3363ae + _0x2059b2;
    _0xea0f2a = Number(_0xea0f2a.toFixed(LngLatPoint.FormatLength));
    _0x5e83ec = Number(_0x5e83ec.toFixed(LngLatPoint.FormatLength));
    return [_0xea0f2a, _0x5e83ec];
  }
  function gcj2wgs(_0x136ee2) {
    if (isOutChina(_0x136ee2)) {
      return _0x136ee2;
    }
    const _0x400746 = Number(_0x136ee2[0]);
    const _0x4ea38e = Number(_0x136ee2[1]);
    let _0x19a639 = transformlat(_0x400746 - 105, _0x4ea38e - 35);
    let _0x1ad7fc = transformlng(_0x400746 - 105, _0x4ea38e - 35);
    const _0x6592b2 = _0x4ea38e / 180 * PI;
    let _0x3ab347 = Math.sin(_0x6592b2);
    _0x3ab347 = 1 - ee * _0x3ab347 * _0x3ab347;
    const _0x5ae19d = Math.sqrt(_0x3ab347);
    _0x19a639 = _0x19a639 * 180 / (a * (1 - ee) / (_0x3ab347 * _0x5ae19d) * PI);
    _0x1ad7fc = _0x1ad7fc * 180 / (a / _0x5ae19d * Math.cos(_0x6592b2) * PI);
    const _0x10d1a2 = _0x4ea38e + _0x19a639;
    const _0x4636b2 = _0x400746 + _0x1ad7fc;
    let _0x2f3738 = _0x400746 * 2 - _0x4636b2;
    let _0x1489ce = _0x4ea38e * 2 - _0x10d1a2;
    _0x2f3738 = Number(_0x2f3738.toFixed(LngLatPoint.FormatLength));
    _0x1489ce = Number(_0x1489ce.toFixed(LngLatPoint.FormatLength));
    return [_0x2f3738, _0x1489ce];
  }
  function bd2wgs(_0x904c01) {
    return gcj2wgs(bd2gcj(_0x904c01));
  }
  function wgs2bd(_0x6b55d4) {
    return gcj2bd(wgs2gcj(_0x6b55d4));
  }
  const _0x52de04 = {
    __proto__: null,
    degree2dms: degree2dms,
    dms2degree: dms2degree,
    getCGCS2000EPSGByLng: getCGCS2000EPSGByLng,
    getCGCS2000EPSGByX: getCGCS2000EPSGByX,
    proj4Trans: proj4Trans,
    proj4TransArr: proj4TransArr,
    toWindowCoordinates: toWindowCoordinates$1,
    cartesian2lonlat: cartesian2lonlat,
    cartesians2lonlats: cartesians2lonlats,
    cartesian2mercator: cartesian2mercator,
    cartesians2mercators: cartesians2mercators,
    lonlat2cartesian: lonlat2cartesian,
    lonlats2cartesians: lonlats2cartesians,
    lonlat2mercator: lonlat2mercator,
    lonlats2mercators: lonlats2mercators,
    mercator2cartesian: mercator2cartesian,
    mercators2cartesians: mercators2cartesians,
    mercator2lonlat: mercator2lonlat,
    mercators2lonlats: mercators2lonlats,
    isOutChina: isOutChina,
    bd2gcj: bd2gcj,
    gcj2bd: gcj2bd,
    wgs2gcj: wgs2gcj,
    gcj2wgs: gcj2wgs,
    bd2wgs: bd2wgs,
    wgs2bd: wgs2bd
  };
  var PointTrans = _0x52de04;
  function xhrAdapter(_0x37d2f0) {
    _0x37d2f0 = {
      method: "get",
      timeout: 0,
      maxContentLength: -1,
      maxBodyLength: -1,
      params: _0x37d2f0.queryParameters || {},
      ..._0x37d2f0
    };
    return new Promise(function _0x137c44(_0x414f7c, _0x34c23c) {
      let _0x47b240 = _0x37d2f0.data;
      const _0x482ec7 = _0x37d2f0.headers || {};
      const _0x37e0da = _0x37d2f0.responseType;
      if (isFormData(_0x47b240)) {
        delete _0x482ec7["Content-Type"];
      }
      let _0x45305a = new XMLHttpRequest();
      _0x45305a.open(_0x37d2f0.method.toUpperCase(), buildURL(_0x37d2f0.url, _0x37d2f0.params, _0x37d2f0.paramsSerializer), true);
      _0x45305a.timeout = _0x37d2f0.timeout;
      function _0x851b73() {
        if (!_0x45305a) {
          return;
        }
        const _0x52ab05 = "getAllResponseHeaders" in _0x45305a ? parseHeaders(_0x45305a.getAllResponseHeaders()) : null;
        const _0x2c0239 = !_0x37e0da || _0x37e0da === "text" || _0x37e0da === "json" ? _0x45305a.responseText : _0x45305a.response;
        const _0x58ad60 = {
          data: transformResponse(_0x45305a, _0x2c0239),
          status: _0x45305a.status,
          statusText: _0x45305a.statusText,
          headers: _0x52ab05,
          options: _0x37d2f0,
          request: _0x45305a
        };
        settle(function _0xb46dcb(_0x415499) {
          _0x414f7c(_0x415499);
        }, function _0xe4e3d6(_0x42cfc2) {
          _0x34c23c(_0x42cfc2);
        }, _0x58ad60);
        _0x45305a = null;
      }
      if ("onloadend" in _0x45305a) {
        _0x45305a.onloadend = _0x851b73;
      } else {
        _0x45305a.onreadystatechange = function _0x34f13d() {
          if (!_0x45305a || _0x45305a.readyState !== 4) {
            return;
          }
          if (_0x45305a.status === 0 && (!_0x45305a.responseURL || _0x45305a.responseURL.indexOf("file:") !== 0)) {
            return;
          }
          setTimeout(_0x851b73);
        };
      }
      _0x45305a.onabort = function _0x2afb41() {
        if (!_0x45305a) {
          return;
        }
        _0x34c23c(createError("Request aborted", _0x37d2f0, "ECONNABORTED", _0x45305a));
        _0x45305a = null;
      };
      _0x45305a.onerror = function _0xce6680() {
        _0x34c23c(createError("Network Error", _0x37d2f0, null, _0x45305a));
        _0x45305a = null;
      };
      _0x45305a.ontimeout = function _0x33084c() {
        let _0x50f87c = "timeout of " + _0x37d2f0.timeout + "ms exceeded";
        if (_0x37d2f0.timeoutErrorMessage) {
          _0x50f87c = _0x37d2f0.timeoutErrorMessage;
        }
        _0x34c23c(createError(_0x50f87c, _0x37d2f0, "ECONNABORTED", _0x45305a));
        _0x45305a = null;
      };
      if ("setRequestHeader" in _0x45305a) {
        forEach(_0x482ec7, function _0xb747ef(_0x4db876, _0x5a09a1) {
          if (typeof _0x47b240 === "undefined" && _0x5a09a1.toLowerCase() === "content-type") {
            delete _0x482ec7[_0x5a09a1];
          } else {
            _0x45305a.setRequestHeader(_0x5a09a1, _0x4db876);
          }
        });
      }
      if (!isUndefined(_0x37d2f0.withCredentials)) {
        _0x45305a.withCredentials = !!_0x37d2f0.withCredentials;
      }
      if (_0x37e0da && _0x37e0da !== "json") {
        _0x45305a.responseType = _0x37d2f0.responseType;
      }
      if (typeof _0x37d2f0.onDownloadProgress === "function") {
        _0x45305a.addEventListener("progress", _0x37d2f0.onDownloadProgress);
      }
      if (typeof _0x37d2f0.onUploadProgress === "function" && _0x45305a.upload) {
        _0x45305a.upload.addEventListener("progress", _0x37d2f0.onUploadProgress);
      }
      if (!_0x47b240) {
        _0x47b240 = null;
      }
      _0x45305a.send(_0x47b240);
    });
  }
  function isString$1(_0x233ded) {
    return typeof _0x233ded === "string";
  }
  function isDate(_0x499366) {
    return toString.call(_0x499366) === "[object Date]";
  }
  function isObject$1(_0xd06e69) {
    return _0xd06e69 !== null && typeof _0xd06e69 === "object";
  }
  function isFormData(_0x6c0f5e) {
    return typeof FormData !== "undefined" && _0x6c0f5e instanceof FormData;
  }
  function isUndefined(_0x4166d7) {
    return typeof _0x4166d7 === "undefined";
  }
  function isURLSearchParams(_0x28c05c) {
    return typeof URLSearchParams !== "undefined" && _0x28c05c instanceof URLSearchParams;
  }
  function forEach(_0x19949b, _0x12755c) {
    if (_0x19949b === null || typeof _0x19949b === "undefined") {
      return;
    }
    if (typeof _0x19949b !== "object") {
      _0x19949b = [_0x19949b];
    }
    if (Array.isArray(_0x19949b)) {
      for (let _0x24c78d = 0, _0x3de903 = _0x19949b.length; _0x24c78d < _0x3de903; _0x24c78d++) {
        _0x12755c.call(null, _0x19949b[_0x24c78d], _0x24c78d, _0x19949b);
      }
    } else {
      for (const _0x2326e0 in _0x19949b) {
        if (Object.prototype.hasOwnProperty.call(_0x19949b, _0x2326e0)) {
          _0x12755c.call(null, _0x19949b[_0x2326e0], _0x2326e0, _0x19949b);
        }
      }
    }
  }
  function encode(_0x13ff68) {
    return encodeURIComponent(_0x13ff68).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
  }
  function trim$1(_0x3fcc3f) {
    if (_0x3fcc3f.trim) {
      return _0x3fcc3f.trim();
    } else {
      return _0x3fcc3f.replace(/^\s+|\s+$/g, "");
    }
  }
  function buildURL(_0x11a6c8, _0x215a9a, _0x130249) {
    if (!_0x215a9a) {
      return _0x11a6c8;
    }
    let _0x44de60;
    if (_0x130249) {
      _0x44de60 = _0x130249(_0x215a9a);
    } else if (isURLSearchParams(_0x215a9a)) {
      _0x44de60 = _0x215a9a.toString();
    } else {
      const _0x3c32c3 = [];
      forEach(_0x215a9a, function _0x5b7d47(_0x49c7ed, _0x4d3f44) {
        if (_0x49c7ed === null || typeof _0x49c7ed === "undefined") {
          return;
        }
        if (Array.isArray(_0x49c7ed)) {
          _0x4d3f44 = _0x4d3f44 + "[]";
        } else {
          _0x49c7ed = [_0x49c7ed];
        }
        forEach(_0x49c7ed, function _0x590bd5(_0x4cbb2d) {
          if (isDate(_0x4cbb2d)) {
            _0x4cbb2d = _0x4cbb2d.toISOString();
          } else if (isObject$1(_0x4cbb2d)) {
            _0x4cbb2d = JSON.stringify(_0x4cbb2d);
          }
          _0x3c32c3.push(encode(_0x4d3f44) + "=" + encode(_0x4cbb2d));
        });
      });
      _0x44de60 = _0x3c32c3.join("&");
    }
    if (_0x44de60) {
      const _0x46c4e7 = _0x11a6c8.indexOf("#");
      if (_0x46c4e7 !== -1) {
        _0x11a6c8 = _0x11a6c8.slice(0, _0x46c4e7);
      }
      _0x11a6c8 += (_0x11a6c8.indexOf("?") === -1 ? "?" : "&") + _0x44de60;
    }
    return _0x11a6c8;
  }
  const ignoreDuplicateOf = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"];
  function parseHeaders(_0x54548a) {
    const _0x3c0f2e = {};
    let _0x5a3518;
    let _0x239a76;
    let _0x3e53de;
    if (!_0x54548a) {
      return _0x3c0f2e;
    }
    forEach(_0x54548a.split("\n"), function _0x110f93(_0x5a76e7) {
      _0x3e53de = _0x5a76e7.indexOf(":");
      _0x5a3518 = trim$1(_0x5a76e7.substr(0, _0x3e53de)).toLowerCase();
      _0x239a76 = trim$1(_0x5a76e7.substr(_0x3e53de + 1));
      if (_0x5a3518) {
        if (_0x3c0f2e[_0x5a3518] && ignoreDuplicateOf.indexOf(_0x5a3518) >= 0) {
          return;
        }
        if (_0x5a3518 === "set-cookie") {
          _0x3c0f2e[_0x5a3518] = (_0x3c0f2e[_0x5a3518] ? _0x3c0f2e[_0x5a3518] : []).concat([_0x239a76]);
        } else {
          _0x3c0f2e[_0x5a3518] = _0x3c0f2e[_0x5a3518] ? _0x3c0f2e[_0x5a3518] + ", " + _0x239a76 : _0x239a76;
        }
      }
    });
    return _0x3c0f2e;
  }
  function settle(_0x35d939, _0x176e53, _0x3f450b) {
    if (!_0x3f450b.status || validateStatus(_0x3f450b.status)) {
      _0x35d939(_0x3f450b);
    } else {
      _0x176e53(createError("Request failed with status code " + _0x3f450b.status, _0x3f450b.options, null, _0x3f450b.request, _0x3f450b));
    }
  }
  function validateStatus(_0x2ad3a0) {
    return _0x2ad3a0 >= 200 && _0x2ad3a0 < 300;
  }
  function createError(_0x3e745c, _0x340760, _0x535eb3, _0x387378, _0x332569) {
    const _0xff986b = new Error(_0x3e745c);
    return enhanceError(_0xff986b, _0x340760, _0x535eb3, _0x387378, _0x332569);
  }
  function enhanceError(_0x527598, _0x5f2bc3, _0x51278f, _0x395dc8, _0x391336) {
    _0x527598.options = _0x5f2bc3;
    if (_0x51278f) {
      _0x527598.code = _0x51278f;
    }
    _0x527598.request = _0x395dc8;
    _0x527598.response = _0x391336;
    _0x527598.isAxiosError = true;
    _0x527598.toJSON = function _0x42edfb() {
      const _0x511fe1 = {
        message: this.message,
        name: this.name,
        description: this.description,
        number: this.number,
        fileName: this.fileName,
        lineNumber: this.lineNumber,
        columnNumber: this.columnNumber,
        stack: this.stack,
        options: this.options,
        code: this.code,
        status: this.response && this.response.status ? this.response.status : null
      };
      return _0x511fe1;
    };
    return _0x527598;
  }
  function transformResponse(_0x1d3af2, _0x48f98a) {
    if (isString$1(_0x48f98a) && _0x48f98a.length) {
      try {
        return JSON.parse(_0x48f98a);
      } catch (_0x23f392) {}
    }
    return _0x48f98a;
  }
  const Lang = {
    type: "cn",
    ErrorCreateCatch: "WebGL渲染初始化出错",
    ErrorCreateCatchMessage: "请参考<a href=\"http://mars3d.cn/docs/guide/support/\">客户端系统环境要求说明</a>，确认验证您的机器浏览器和硬件是否支持WebGL，考虑尝试其他Web浏览器或更新显卡驱动程序。\n详细错误信息如下：",
    ErrorTitleRenderStopped: "WebGL渲染运行出错 (页面已停止,请刷新页面)",
    Today: "今天",
    TodayRealTime: "今天（实际时间）",
    Pause: "暂停",
    PlayReverse: "后退播放",
    PlayForward: "前进播放",
    CurrentTimeNotInRange: "当前时间不在范围内",
    Imagery: "影像",
    CesiumIon: "官方ION",
    Other: "其他",
    Terrain: "地形服务",
    EllipsoidTerrainProvider: "无地形",
    EllipsoidTerrainProviderTooltip: "WGS84标准椭球体，没有地形数据",
    TerrainProvider: "有地形",
    TerrainProviderTooltip: "提供的高精度的DEM地形服务",
    FullScreen: "全屏",
    ExitFullScreen: "退出全屏",
    FullScreenUnavailable: "全屏不可用",
    EnterAnAddressOrLandmark: "请输入关键字...",
    Searching: "查询中...",
    ViewHome: "初始视图",
    NavigationInstructions: "帮助",
    Mouse: "鼠标操作",
    Touch: "触摸手势",
    PanView: "平移视图",
    LeftClickDrag: "鼠标左键+拖拽",
    ZoomView: "缩放视图",
    RightClick: "右键+拖拽，或者",
    MouseWheelScroll: "中键滚动",
    RotateView: "旋转视图",
    MiddleClickDrag: "中键按下拖拽，或者",
    CtrlAndClickDrag: "按Ctrl键 同时 左/右键拖拽",
    OneFingerDrag: "单指拖动",
    TwoFingerPinch: "双指向内或向外滑动",
    TiltView: "倾斜视图",
    TwoFingerDragSameDirection: "双指按相同方向拖动",
    TwoFingerDragOppositeDirection: "双指按相反方向拖动",
    PerspectiveProjection: "透视投影",
    OrthographicProjection: "正射投影",
    _2D: "二维视图",
    _3D: "三维视图",
    ColumbusView: "哥伦布2.5D视图",
    EnterVRMode: "进入VR模式",
    ExitVRMode: "退出VR模式",
    VRModeIsUnavailable: "VR模式不可用",
    _放大: "放大",
    _缩小: "缩小",
    _暂停: "暂停",
    _继续: "继续",
    _导航球: "导航球",
    _拖拽调整俯仰角: "拖拽调整俯仰角",
    _拖拽调整四周方向角: "拖拽调整四周方向角，双击回正北",
    _查看此处坐标: "查看此处坐标",
    _位置信息: "位置信息",
    _经度: "经度",
    _纬度: "纬度",
    _海拔: "高程",
    _横坐标: "横坐标",
    _纵坐标: "纵坐标",
    _查看当前视角: "查看当前视角",
    _当前视角信息: "当前视角信息",
    _视角切换: "视角切换",
    _禁止进入地下: "禁止进入地下",
    _允许进入地下: "允许进入地下",
    _绕此处环绕飞行: "绕此处环绕飞行",
    _关闭环绕飞行: "关闭环绕飞行",
    _移动到此处: "移动到此处",
    _第一视角站到此处: "第一视角站到此处",
    _开启键盘漫游: "开启键盘漫游",
    _关闭键盘漫游: "关闭键盘漫游",
    _跟踪锁定: "跟踪锁定",
    _取消锁定: "取消锁定",
    _图层: "当前图层",
    _显示三角网: "显示三角网",
    _关闭三角网: "关闭三角网",
    _显示包围盒: "显示包围盒",
    _关闭包围盒: "关闭包围盒",
    _地形: "地形服务",
    _开启地形: "开启地形",
    _关闭地形: "关闭地形",
    _图上标记: "图上标记",
    _标记点: "标记点",
    _标记线: "标记线",
    _标记面: "标记面",
    _标记圆: "标记圆",
    _标记矩形: "标记矩形",
    _允许编辑: "允许编辑",
    _禁止编辑: "禁止编辑",
    _导出JSON: "导出JSON",
    _导入JSON: "导入JSON",
    _清除标记: "清除标记",
    _特效效果: "特效效果",
    _开启下雨: "开启下雨",
    _关闭下雨: "关闭下雨",
    _开启下雪: "开启下雪",
    _关闭下雪: "关闭下雪",
    _开启雾天气: "开启雾天气",
    _关闭雾天气: "关闭雾天气",
    _开启泛光: "开启泛光",
    _关闭泛光: "关闭泛光",
    _开启亮度: "开启亮度",
    _关闭亮度: "关闭亮度",
    _开启夜视: "开启夜视",
    _关闭夜视: "关闭夜视",
    _开启黑白: "开启黑白",
    _关闭黑白: "关闭黑白",
    _开启拾取高亮: "开启拾取高亮",
    _关闭拾取高亮: "关闭拾取高亮",
    _场景: "场景设置",
    _开启深度监测: "开启深度监测",
    _关闭深度监测: "关闭深度监测",
    _显示星空背景: "显示星空背景",
    _关闭星空背景: "关闭星空背景",
    _开启日照阴影: "开启日照阴影",
    _关闭日照阴影: "关闭日照阴影",
    _开启大气渲染: "开启大气渲染",
    _关闭大气渲染: "关闭大气渲染",
    _场景出图: "场景出图",
    _图上量算: "图上量算",
    _删除测量: "删除测量",
    _角度: "角度",
    _距离: "距离",
    _面积: "面积",
    _总长: "总长",
    _起点: "起点",
    _高度差: "高度差",
    _空间距离: "空间距离",
    _水平距离: "水平距离",
    _正在计算体积: "正在计算体积",
    _填方体积: "填方体积",
    _挖方体积: "挖方体积",
    _横切面积: "横切面积",
    _面上: "面上",
    _面下: "面下",
    _米: "米",
    _公里: "公里",
    _万米: "万米",
    _海里: "海里",
    _丈: "丈",
    _平方米: "平方米",
    _平方公里: "平方公里",
    _亩: "亩",
    _公顷: "公顷",
    _立方米: "方",
    _万立方米: "万方",
    _秒: "秒",
    _分钟: "分钟",
    _小时: "小时",
    _单击开始绘制: "单击开始绘制",
    _单击完成绘制: "单击完成绘制",
    _双击完成绘制: "双击完成绘制",
    _单击增加点: "单击增加点",
    _右击删除点: "右击删除点",
    _单击后激活编辑: "单击后激活编辑",
    _右击菜单删除: "右击菜单删除",
    _更多功能请右击: "更多功能请右击",
    _停止编辑: "停止编辑",
    _删除该点: "删除该点",
    _按轴平移: "按轴平移",
    _停止按轴平移: "停止按轴平移",
    _按轴旋转: "按轴旋转",
    _停止按轴旋转: "停止按轴旋转",
    _调整比例: "调整比例",
    _停止调整比例: "停止调整比例",
    _释放后完成修改: "释放后完成修改",
    _该对象不允许编辑: "该对象不允许编辑",
    _拖动该点后: "拖动该点后",
    _拖动对象后: "拖动对象后",
    _修改位置: "修改位置",
    _修改第X个坐标: "修改第{index}个坐标",
    _整体平移: "整体平移",
    _增加点: "增加点",
    _修改高度: "修改高度",
    _修改半径: "修改半径",
    _修改长度: "修改长度(X方向)",
    _修改宽度: "修改宽度(Y方向)",
    _修改方向: "修改方向",
    _修改缩放比例: "修改缩放比例",
    _无法删除不能少于最小点数: "无法删除，点数量不能少于",
    _删除: "删除",
    _粘贴: "粘贴",
    _半径: "半径",
    _加载模型中: "加载模型中,请稍等…"
  };
  function getLangText(_0x19bda0) {
    return Lang[_0x19bda0];
  }
  const ChinaCRS = {
    WGS84: "WGS84",
    GCJ02: "GCJ02",
    BAIDU: "BD09"
  };
  function pick3DTileset(_0x3b6246, _0x157f0f) {
    if (!_0x157f0f) {
      return null;
    }
    if (_0x157f0f instanceof Cesium__namespace.Cartesian3) {
      _0x157f0f = [_0x157f0f];
    }
    for (let _0x3d4d3a = 0, _0x816aee = _0x157f0f.length; _0x3d4d3a < _0x816aee; ++_0x3d4d3a) {
      const _0x408839 = _0x157f0f[_0x3d4d3a];
      const _0x310c13 = toWindowCoordinates(_0x3b6246, _0x408839);
      if (!Cesium__namespace.defined(_0x310c13)) {
        continue;
      }
      const _0x1bcf52 = _0x3b6246.pick(_0x310c13, 10, 10);
      if (Cesium__namespace.defined(_0x1bcf52) && Cesium__namespace.defined(_0x1bcf52.primitive) && _0x1bcf52.primitive.isCesium3DTileset) {
        return _0x1bcf52.primitive;
      }
    }
    return null;
  }
  function toWindowCoordinates(_0xecb3b7, _0x101df4, _0x4d6e5c) {
    if (Cesium__namespace.SceneTransforms.worldToWindowCoordinates) {
      return Cesium__namespace.SceneTransforms.worldToWindowCoordinates(_0xecb3b7, _0x101df4, _0x4d6e5c);
    }
    if (Cesium__namespace.SceneTransforms.wgs84ToWindowCoordinates) {
      return Cesium__namespace.SceneTransforms.wgs84ToWindowCoordinates(_0xecb3b7, _0x101df4, _0x4d6e5c);
    }
    return new Cesium__namespace.Cartesian2(0, 0);
  }
  class SurfacePoint {
    constructor(_0x3472fc) {
      this.options = _0x3472fc;
      this.scene = _0x3472fc.map ? _0x3472fc.map.scene : _0x3472fc.scene;
      if (!this.scene) {
        logError("SurfacePoint: 请传入scene参数", this.options);
      }
      this._point = LngLatPoint.parse(_0x3472fc.position);
      if (this._point) {
        this._position = this._point.toCartesian();
        this._cartographic = this._point.toCartographic();
        this._height_original = this._point.alt;
      }
    }
    async start() {
      if (!this._point) {
        return this.getResult();
      }
      if (this.scene._terrainProviderPromise) {
        await this.scene._terrainProviderPromise;
      }
      const _0x28944c = this.options.has3dtiles ?? Cesium__namespace.defined(pick3DTileset(this.scene, this._position));
      const _0x577a2d = !(this.scene.terrainProvider instanceof Cesium__namespace.EllipsoidTerrainProvider);
      this._has3dtiles = _0x28944c;
      this._hasTerrain = _0x577a2d;
      if (!_0x577a2d && !_0x28944c) {
        return this.getResult();
      }
      if (_0x28944c) {
        const _0xa60f49 = await this.scene.clampToHeightMostDetailed([this._position.clone()], this.options.objectsToExclude, this.options.width);
        if (_0xa60f49.length > 0) {
          const _0x509603 = _0xa60f49[0];
          if (Cesium__namespace.defined(_0x509603)) {
            const _0x295a2b = Cesium__namespace.Cartographic.fromCartesian(_0x509603);
            const _0x204a37 = _0x295a2b?.height;
            if (Cesium__namespace.defined(_0x204a37) && parseInt(_0x204a37) !== 0 && _0x204a37 > -1000) {
              return this.getResult(_0x204a37);
            }
          }
        } else {
          const _0x5458dc = this.scene.sampleHeight(this._cartographic, this.options.objectsToExclude, this.options.width);
          if (Cesium__namespace.defined(_0x5458dc) && _0x5458dc > -1000) {
            return this.getResult(_0x5458dc);
          }
        }
      }
      if (this._hasTerrain) {
        let _0x4ce2ae;
        try {
          var _0x2a3926;
          if ((_0x2a3926 = this.scene.terrainProvider) !== null && _0x2a3926 !== undefined && _0x2a3926.availability) {
            _0x4ce2ae = await Cesium__namespace.sampleTerrainMostDetailed(this.scene.terrainProvider, [this._cartographic]);
          }
        } catch (_0x58731c) {
          logWarn("SurfacePoint:贴地形高度计算失败", _0x58731c);
        }
        if (_0x4ce2ae && _0x4ce2ae.length > 0) {
          const _0x4453bc = _0x4ce2ae[0];
          if (Cesium__namespace.defined(_0x4453bc) && Cesium__namespace.defined(_0x4453bc.height)) {
            return this.getResult(_0x4453bc.height);
          }
        } else {
          return this.getResult(this.scene.globe.getHeight(this._cartographic) || 0);
        }
      }
      return this.getResult();
    }
    getResult(_0x78dc78 = 0) {
      if (this.options.callback) {
        this.options.callback(_0x78dc78);
      }
      this._point.alt = _0x78dc78;
      return {
        height: _0x78dc78,
        height_original: this._height_original,
        point: this._point,
        position: Cesium__namespace.Cartesian3.fromRadians(this._cartographic.longitude, this._cartographic.latitude, _0x78dc78),
        position_original: this._position,
        has3dtiles: this._has3dtiles,
        hasTerrain: this._hasTerrain
      };
    }
  }
  function getTransFun(_0x1c1a16, _0x504e9a) {
    if (!_0x1c1a16 || !_0x504e9a) {
      return false;
    }
    _0x1c1a16 = crsName2FunName(_0x1c1a16);
    _0x504e9a = crsName2FunName(_0x504e9a);
    if (_0x504e9a === _0x1c1a16) {
      return false;
    }
    const _0x5b5617 = _0x1c1a16 + "2" + _0x504e9a;
    if (!PointTrans[_0x5b5617]) {
      return false;
    }
    return PointTrans[_0x5b5617];
  }
  function crsName2FunName(_0x36035c) {
    switch (_0x36035c) {
      case ChinaCRS.GCJ02:
        return "gcj";
      case ChinaCRS.BAIDU:
        return "bd";
      case ChinaCRS.WGS84:
      default:
        return "wgs";
    }
  }
  function getPositionValue(_0x5e404a, _0x12f5cb) {
    if (!_0x5e404a) {
      return _0x5e404a;
    }
    let _0x3a94e9;
    if (_0x5e404a instanceof Cesium__namespace.Cartesian3) {
      _0x3a94e9 = _0x5e404a;
    } else if (_0x5e404a._value && _0x5e404a._value instanceof Cesium__namespace.Cartesian3) {
      _0x3a94e9 = _0x5e404a._value;
    } else if (typeof _0x5e404a.getValue === "function") {
      _0x3a94e9 = _0x5e404a.getValue(_0x12f5cb || Cesium__namespace.JulianDate.now());
    }
    return _0x3a94e9;
  }
  function getMaxHeight(_0x1a45b4, _0x1d0a02 = 0) {
    if (_0x1a45b4 == null || _0x1a45b4.length === 0) {
      return _0x1d0a02;
    }
    let _0x47caa4 = _0x1d0a02;
    for (let _0x50c13e = 0; _0x50c13e < _0x1a45b4.length; _0x50c13e++) {
      const _0x55e9ac = LngLatPoint.parse(_0x1a45b4[_0x50c13e]);
      if (_0x50c13e === 0) {
        _0x47caa4 = _0x55e9ac.alt;
      }
      if (_0x55e9ac.alt > _0x47caa4) {
        _0x47caa4 = _0x55e9ac.alt;
      }
    }
    return formatNum$3(_0x47caa4, LngLatPoint.FormatAltLength);
  }
  function formatNum$3(_0x27572c, _0x429a3a = 0) {
    const _0x2de16a = Math.pow(10, _0x429a3a);
    return Math.round(_0x27572c * _0x2de16a) / _0x2de16a;
  }
  function getMinHeight(_0x5052ea, _0x26cc86 = 0) {
    if (_0x5052ea == null || _0x5052ea.length === 0) {
      return _0x26cc86;
    }
    let _0x1abd46 = _0x26cc86;
    for (let _0x1409c4 = 0; _0x1409c4 < _0x5052ea.length; _0x1409c4++) {
      const _0x58a39e = Cesium__namespace.Cartographic.fromCartesian(_0x5052ea[_0x1409c4]);
      if (_0x1409c4 === 0) {
        _0x1abd46 = _0x58a39e.height;
      }
      if (_0x58a39e.height < _0x1abd46) {
        _0x1abd46 = _0x58a39e.height;
      }
    }
    return formatNum$3(_0x1abd46, LngLatPoint.FormatAltLength);
  }
  function addPositionsHeight(_0x1d36e3, _0x3642ab = 0) {
    _0x3642ab = Number(_0x3642ab);
    if (isNaN(_0x3642ab) || _0x3642ab === 0) {
      return _0x1d36e3;
    }
    if (Array.isArray(_0x1d36e3)) {
      const _0x58f2ec = [];
      for (let _0x3b0ca0 = 0, _0x553613 = _0x1d36e3.length; _0x3b0ca0 < _0x553613; _0x3b0ca0++) {
        const _0x3dfaaa = Cesium__namespace.Cartographic.fromCartesian(_0x1d36e3[_0x3b0ca0]);
        const _0x359e1b = Cesium__namespace.Cartesian3.fromRadians(_0x3dfaaa.longitude, _0x3dfaaa.latitude, _0x3dfaaa.height + _0x3642ab);
        _0x58f2ec.push(_0x359e1b);
      }
      return _0x58f2ec;
    } else {
      const _0x20fad6 = Cesium__namespace.Cartographic.fromCartesian(_0x1d36e3);
      return Cesium__namespace.Cartesian3.fromRadians(_0x20fad6.longitude, _0x20fad6.latitude, _0x20fad6.height + _0x3642ab);
    }
  }
  function setPositionsHeight(_0x24d137, _0x56d638 = 0) {
    if (!_0x24d137) {
      return _0x24d137;
    }
    if (Array.isArray(_0x24d137)) {
      const _0x52a519 = [];
      for (let _0x44abef = 0, _0x517939 = _0x24d137.length; _0x44abef < _0x517939; _0x44abef++) {
        const _0x39b2e8 = Cesium__namespace.Cartographic.fromCartesian(_0x24d137[_0x44abef]);
        const _0xecc13 = Cesium__namespace.Cartesian3.fromRadians(_0x39b2e8.longitude, _0x39b2e8.latitude, _0x56d638);
        _0x52a519.push(_0xecc13);
      }
      return _0x52a519;
    } else {
      const _0x4b2505 = Cesium__namespace.Cartographic.fromCartesian(_0x24d137);
      return Cesium__namespace.Cartesian3.fromRadians(_0x4b2505.longitude, _0x4b2505.latitude, _0x56d638);
    }
  }
  function getHeight(_0x3a6468, _0x4a85a2, _0x347143) {
    const _0x4ce6de = LngLatPoint.toCartographic(_0x4a85a2);
    let _0x31f80c;
    if (_0x3a6468.getHeight) {
      _0x31f80c = _0x3a6468.getHeight(_0x4ce6de, _0x347143?.heightReference);
    } else {
      _0x31f80c = _0x3a6468.globe.getHeight(_0x4ce6de);
    }
    if (Cesium__namespace.defined(_0x31f80c) && _0x31f80c > -999) {
      if (Cesium__namespace.defined(_0x347143?.min) && _0x31f80c < _0x347143?.min) {
        return _0x347143.min;
      }
      if (Cesium__namespace.defined(_0x347143?.max) && _0x31f80c > _0x347143?.max) {
        return _0x347143.max;
      }
      return _0x31f80c;
    }
    if (_0x347143 !== null && _0x347143 !== undefined && _0x347143.original) {
      return _0x4ce6de.height;
    }
    return undefined;
  }
  function getSurfaceHeight(_0x12278b, _0x494acb, _0x263dbc = {}) {
    _0x263dbc.scene = _0x12278b;
    _0x263dbc.position = _0x494acb;
    return new SurfacePoint(_0x263dbc).start();
  }
  function getSurfaceTerrainHeight(_0x396953, _0x7b34b2) {
    const _0x11f24c = {
      scene: _0x396953,
      position: _0x7b34b2,
      has3dtiles: false
    };
    const _0x19aef3 = _0x11f24c;
    return new SurfacePoint(_0x19aef3).start();
  }
  function getSurfacePosition(_0x51ad44, _0x2d4111, _0x3f5cb1 = {}) {
    if (!_0x2d4111) {
      return _0x2d4111;
    }
    const _0x3ece03 = LngLatPoint.toCartographic(_0x2d4111);
    const _0x2c17fa = getHeight(_0x51ad44, _0x3ece03, _0x3f5cb1);
    if (!Cesium__namespace.defined(_0x2c17fa) || Cesium__namespace.defined(_0x3f5cb1.minHeight) && _0x2c17fa < _0x3f5cb1.minHeight || Cesium__namespace.defined(_0x3f5cb1.maxHeight) && _0x2c17fa > _0x3f5cb1.maxHeight) {
      return _0x2d4111;
    }
    if (_0x3f5cb1.heightReference === Cesium__namespace.HeightReference.RELATIVE_TO_GROUND || _0x3f5cb1.heightReference === Cesium__namespace.HeightReference.RELATIVE_TO_TERRAIN || _0x3f5cb1.heightReference === Cesium__namespace.HeightReference.RELATIVE_TO_3D_TILE) {
      _0x3ece03.height += _0x2c17fa;
    }
    return Cesium__namespace.Cartesian3.fromRadians(_0x3ece03.longitude, _0x3ece03.latitude, _0x2c17fa);
  }
  function getCurrentMouseTerrainPosition(_0x5c46f, _0x37e1bb) {
    let _0x4d6f33;
    if (_0x5c46f.mode === Cesium__namespace.SceneMode.SCENE3D) {
      const _0x4f02df = _0x5c46f.camera.getPickRay(_0x37e1bb);
      _0x4d6f33 = _0x5c46f.globe.pick(_0x4f02df, _0x5c46f);
      if (!_0x4d6f33) {
        _0x4d6f33 = _0x5c46f.camera.pickEllipsoid(_0x37e1bb, _0x5c46f.globe.ellipsoid);
      }
    } else {
      _0x4d6f33 = _0x5c46f.camera.pickEllipsoid(_0x37e1bb, _0x5c46f.globe.ellipsoid);
    }
    return _0x4d6f33;
  }
  function getMidpoint(_0x134c27, _0x3b7bf4, _0x3c6695 = 0.5) {
    if (!_0x3b7bf4 || !_0x134c27) {
      return undefined;
    }
    if (_0x3c6695 !== 0.5) {
      const _0x2410f6 = LngLatPoint.toCartographic(_0x134c27);
      const _0x36426b = LngLatPoint.toCartographic(_0x3b7bf4);
      const _0x3d9f03 = (_0x2410f6.height + _0x36426b.height) / 2;
      const _0xb500b = new Cesium__namespace.EllipsoidGeodesic(_0x2410f6, _0x36426b).interpolateUsingFraction(_0x3c6695);
      return Cesium__namespace.Cartesian3.fromRadians(_0xb500b.longitude, _0xb500b.latitude, _0x3d9f03);
    }
    return Cesium__namespace.Cartesian3.midpoint(_0x134c27, _0x3b7bf4, new Cesium__namespace.Cartesian3());
  }
  function isRepeatPoint(_0x4894d6, _0x4f3d41) {
    if (!_0x4f3d41 || !_0x4894d6) {
      return false;
    }
    if (Math.abs(_0x4894d6.x - _0x4f3d41.x) < 0.1 && Math.abs(_0x4894d6.y - _0x4f3d41.y) < 0.1 && Math.abs(_0x4894d6.z - _0x4f3d41.z) < 0.1) {
      return true;
    } else {
      return false;
    }
  }
  function getRotateCenterPoint(_0x1640ad, _0x42a3a1, _0x7f5416) {
    const _0x294d4c = Cesium__namespace.Cartographic.fromCartesian(_0x1640ad);
    _0x294d4c.height = 0;
    const _0x11e6a3 = Cesium__namespace.Cartographic.toCartesian(_0x294d4c);
    let _0xb6f76a = Cesium__namespace.Cartesian3.subtract(_0x11e6a3, _0x1640ad, new Cesium__namespace.Cartesian3());
    _0xb6f76a = Cesium__namespace.Cartesian3.normalize(_0xb6f76a, new Cesium__namespace.Cartesian3());
    const _0x5a9d25 = Cesium__namespace.Quaternion.fromAxisAngle(_0xb6f76a, Cesium__namespace.Math.toRadians(_0x7f5416));
    const _0x30717a = Cesium__namespace.Matrix3.fromQuaternion(_0x5a9d25);
    const _0x4646 = Cesium__namespace.Matrix4.fromRotationTranslation(_0x30717a);
    const _0x1bf54e = Cesium__namespace.Cartesian3.subtract(_0x42a3a1, _0x1640ad, new Cesium__namespace.Cartesian3());
    const _0x5b743c = Cesium__namespace.Matrix4.multiplyByPoint(_0x4646, _0x1bf54e, new Cesium__namespace.Cartesian3());
    const _0x5c5e45 = Cesium__namespace.Cartesian3.add(_0x5b743c, _0x1640ad, new Cesium__namespace.Cartesian3());
    return _0x5c5e45;
  }
  function getOnLinePointByLen(_0x394576, _0x4eaf8a, _0x4cad44, _0x6d9594) {
    const _0x4ded3e = Cesium__namespace.Cartesian3.distance(_0x394576, _0x4eaf8a);
    let _0x366412;
    if (_0x4ded3e !== 0) {
      _0x366412 = _0x4cad44 / _0x4ded3e;
    } else {
      _0x366412 = 0.001;
    }
    if (_0x6d9594) {
      _0x366412 += 1;
    }
    return getOnLinePointByRatio(_0x394576, _0x4eaf8a, _0x366412);
  }
  function getOnLinePointByRatio(_0x3aa244, _0x11f821, _0x49196c) {
    const _0x1ac76d = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x3aa244);
    const _0x1f31b4 = Cesium__namespace.Matrix4.inverse(_0x1ac76d, new Cesium__namespace.Matrix4());
    _0x3aa244 = Cesium__namespace.Matrix4.multiplyByPoint(_0x1f31b4, _0x3aa244, new Cesium__namespace.Cartesian3());
    _0x11f821 = Cesium__namespace.Matrix4.multiplyByPoint(_0x1f31b4, _0x11f821, new Cesium__namespace.Cartesian3());
    const _0x4bd538 = Cesium__namespace.Cartesian3.subtract(_0x11f821, _0x3aa244, new Cesium__namespace.Cartesian3());
    const _0x1cd44d = Cesium__namespace.Cartesian3.multiplyByScalar(_0x4bd538, _0x49196c, new Cesium__namespace.Cartesian3());
    return Cesium__namespace.Matrix4.multiplyByPoint(_0x1ac76d, _0x1cd44d, new Cesium__namespace.Cartesian3());
  }
  function getPositionByHprAndOffset(_0x2225d8, _0x463b19, _0x2ff5f0, _0x5b70c8, _0x539c82) {
    _0x2225d8 = LngLatPoint.toCartesian(_0x2225d8);
    if (!_0x2ff5f0) {
      _0x2ff5f0 = new Cesium__namespace.HeadingPitchRoll();
    }
    const _0x33bf9d = Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x2225d8, _0x2ff5f0, _0x5b70c8, _0x539c82);
    const _0x492a6b = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromQuaternion(_0x33bf9d, new Cesium__namespace.Matrix3()), _0x2225d8, new Cesium__namespace.Matrix4());
    const _0x18383d = Cesium__namespace.Matrix4.multiplyByPoint(_0x492a6b, _0x463b19, new Cesium__namespace.Cartesian3());
    return _0x18383d;
  }
  function getPositionByDirectionAndLen(_0x4f1196, _0x1fba3c, _0x267427) {
    if (!_0x4f1196) {
      return _0x4f1196;
    }
    _0x4f1196 = LngLatPoint.toCartesian(_0x4f1196);
    const _0x4b6078 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x4f1196);
    const _0x53ed85 = Cesium__namespace.Matrix3.fromRotationZ(Cesium__namespace.Math.toRadians(360 - (_0x1fba3c || 0)));
    const _0x4a8c34 = Cesium__namespace.Matrix4.fromRotationTranslation(_0x53ed85);
    Cesium__namespace.Matrix4.multiply(_0x4b6078, _0x4a8c34, _0x4b6078);
    const _0x51f2e8 = Cesium__namespace.Matrix4.multiplyByPoint(_0x4b6078, new Cesium__namespace.Cartesian3(_0x267427, 0, 0), new Cesium__namespace.Cartesian3());
    return _0x51f2e8;
  }
  function getPositionByHprAndLen(_0x43f983, _0x2fe4be, _0x34efb5) {
    _0x43f983 = LngLatPoint.toCartesian(_0x43f983);
    const _0x39037f = Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x43f983, _0x2fe4be);
    const _0x186272 = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromQuaternion(_0x39037f, new Cesium__namespace.Matrix3()), _0x43f983, new Cesium__namespace.Matrix4());
    const _0x440c65 = Cesium__namespace.Matrix4.multiplyByPoint(_0x186272, new Cesium__namespace.Cartesian3(0, 0, -_0x34efb5), new Cesium__namespace.Cartesian3());
    return _0x440c65;
  }
  function getRayEarthPosition(_0x51fb77, _0x2fec10, _0x1b7e78, _0x17f7de, _0xe93dc9) {
    if (!_0x51fb77 || !_0x2fec10) {
      return;
    }
    if (_0x2fec10 instanceof Cesium__namespace.HeadingPitchRoll) {
      _0x2fec10 = Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x51fb77, _0x2fec10, _0x17f7de, _0xe93dc9);
    }
    const _0x5b2f52 = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromQuaternion(_0x2fec10, new Cesium__namespace.Matrix3()), _0x51fb77, new Cesium__namespace.Matrix4());
    return getRayEarthPositionByMatrix(_0x5b2f52, _0x1b7e78, _0x17f7de);
  }
  function getRayEarthPositionByMatrix(_0x575249, _0x2ad607, _0x3c6a23) {
    const _0x1d9592 = new Cesium__namespace.Cartesian3();
    const _0x6da619 = new Cesium__namespace.Ray();
    Cesium__namespace.Matrix4.multiplyByPoint(_0x575249, Cesium__namespace.Cartesian3.ZERO, _0x1d9592);
    _0x1d9592.clone(_0x6da619.origin);
    const _0x57ad73 = new Cesium__namespace.Cartesian3(0, 0, _0x2ad607 ? -1 : 1);
    const _0x36f44c = extend2Earth(_0x57ad73, _0x575249, _0x6da619, _0x3c6a23);
    return _0x36f44c;
  }
  function extend2Earth(_0x5c7169, _0x2414c4, _0x56f64d, _0x37aec2) {
    _0x37aec2 = _0x37aec2 || Cesium__namespace.Ellipsoid.WGS84;
    const _0x25ab77 = Cesium__namespace.Matrix4.multiplyByPoint(_0x2414c4, _0x5c7169, new Cesium__namespace.Cartesian3());
    Cesium__namespace.Cartesian3.subtract(_0x25ab77, _0x56f64d.origin, _0x56f64d.direction);
    Cesium__namespace.Cartesian3.normalize(_0x56f64d.direction, _0x56f64d.direction);
    const _0x3faffe = Cesium__namespace.IntersectionTests.rayEllipsoid(_0x56f64d, _0x37aec2);
    if (!_0x3faffe) {
      return undefined;
    }
    const _0x1cffc3 = _0x3faffe.start > 0 ? _0x3faffe.start : _0x3faffe.stop;
    const _0x46b78d = Cesium__namespace.Ray.getPoint(_0x56f64d, _0x1cffc3, new Cesium__namespace.Cartesian3());
    if (_0x46b78d) {
      try {
        const _0x473b5f = Cesium__namespace.Cartographic.fromCartesian(_0x46b78d, null, new Cesium__namespace.Cartographic());
      } catch (_0x3095cf) {
        return undefined;
      }
    }
    return _0x46b78d;
  }
  function getHeadingPitchRollByOrientation(_0x56de8d, _0x147b88, _0x4dd78c, _0x5d07f4) {
    if (!Cesium__namespace.defined(_0x147b88) || !Cesium__namespace.defined(_0x56de8d)) {
      return new Cesium__namespace.HeadingPitchRoll();
    }
    const _0x5f460d = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromQuaternion(_0x147b88, new Cesium__namespace.Matrix3()), _0x56de8d, new Cesium__namespace.Matrix4());
    return Cesium__namespace.Transforms.fixedFrameToHeadingPitchRoll(_0x5f460d, _0x4dd78c, _0x5d07f4);
  }
  function getHeadingPitchRollByMatrix(_0x21734f, _0x145a99, _0x4cdef3, _0x42defe) {
    return Cesium__namespace.Transforms.fixedFrameToHeadingPitchRoll(_0x21734f, _0x145a99, _0x4cdef3, _0x42defe);
  }
  function getHeadingPitchRollForLine(_0x183a75, _0x4f0284, _0x42375c) {
    _0x183a75 = LngLatPoint.toCartesian(_0x183a75);
    _0x4f0284 = LngLatPoint.toCartesian(_0x4f0284);
    const _0x4f2a0f = Cesium__namespace.Ellipsoid.WGS84;
    const _0x14e5ae = new Cesium__namespace.Cartesian3();
    const _0x23a3a2 = new Cesium__namespace.Matrix4();
    const _0x5dc9bf = new Cesium__namespace.Matrix3();
    const _0x48c43f = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x4f0284, _0x183a75, _0x14e5ae), _0x14e5ae);
    Cesium__namespace.Transforms.rotationMatrixFromPositionVelocity(_0x183a75, _0x48c43f, _0x4f2a0f, _0x5dc9bf);
    const _0x560514 = Cesium__namespace.Matrix4.fromRotationTranslation(_0x5dc9bf, _0x183a75, _0x23a3a2);
    if (_0x42375c) {
      Cesium__namespace.Matrix4.multiplyTransformation(_0x560514, Cesium__namespace.Axis.Z_UP_TO_X_UP, _0x560514);
    } else {
      Cesium__namespace.Matrix4.multiplyTransformation(_0x560514, Cesium__namespace.Axis.X_UP_TO_Z_UP, _0x560514);
    }
    return Cesium__namespace.Transforms.fixedFrameToHeadingPitchRoll(_0x560514, _0x4f2a0f);
  }
  function getReflectVector(_0x4aa93a, _0x90750f) {
    const _0xab64d0 = _0x90750f.clone();
    const _0xdcfa5e = _0x4aa93a.clone();
    const _0xa209fa = Cesium__namespace.Cartesian3.dot(_0x4aa93a, _0x90750f) * 2;
    Cesium__namespace.Cartesian3.multiplyByScalar(_0x90750f, _0xa209fa, _0xab64d0);
    return Cesium__namespace.Cartesian3.subtract(_0x4aa93a, _0xab64d0, _0xdcfa5e);
  }
  function getPropertyIndex(_0x1a5fd6, _0x162578, _0x24e849) {
    const _0x170e25 = _0x1a5fd6?._property;
    const _0x27071e = _0x170e25?._times;
    const _0x35bfc4 = _0x27071e.length;
    if (_0x35bfc4 === 0) {
      return {
        index: 0
      };
    }
    let _0xa42474;
    const _0x2b80ec = Cesium__namespace.Cartesian3;
    const _0x4bc2ae = _0x170e25._values;
    let _0x1a4790 = Cesium__namespace.binarySearch(_0x27071e, _0x162578, Cesium__namespace.JulianDate.compare);
    if (_0x1a4790 < 0) {
      _0x1a4790 = ~_0x1a4790;
      if (_0x1a4790 === 0) {
        const _0x2f7e29 = _0x27071e[_0x1a4790];
        _0xa42474 = _0x170e25._backwardExtrapolationDuration;
        if (_0x170e25._backwardExtrapolationType === Cesium__namespace.ExtrapolationType.NONE || _0xa42474 !== 0 && Cesium__namespace.JulianDate.secondsDifference(_0x2f7e29, _0x162578) > _0xa42474) {
          const _0x42ab3f = {
            index: _0x1a4790
          };
          return _0x42ab3f;
        }
        if (_0x170e25._backwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
          return {
            position: _0x2b80ec.unpack(_0x4bc2ae, 0, _0x24e849),
            index: _0x1a4790
          };
        }
      }
      if (_0x1a4790 >= _0x35bfc4) {
        _0x1a4790 = _0x35bfc4 - 1;
        const _0x20d311 = _0x27071e[_0x1a4790];
        _0xa42474 = _0x170e25._forwardExtrapolationDuration;
        if (_0x170e25._forwardExtrapolationType === Cesium__namespace.ExtrapolationType.NONE || _0xa42474 !== 0 && Cesium__namespace.JulianDate.secondsDifference(_0x162578, _0x20d311) > _0xa42474) {
          const _0x598ca = {
            index: _0x1a4790
          };
          return _0x598ca;
        }
        if (_0x170e25._forwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
          _0x1a4790 = _0x35bfc4 - 1;
          return {
            position: _0x2b80ec.unpack(_0x4bc2ae, _0x1a4790 * _0x2b80ec.packedLength, _0x24e849),
            index: _0x1a4790
          };
        }
      }
      const _0x34de44 = _0x170e25._xTable;
      const _0x3ada0c = _0x170e25._yTable;
      const _0x3bddde = _0x170e25._interpolationAlgorithm;
      const _0x18af73 = _0x170e25._packedInterpolationLength;
      const _0xc7a9c3 = _0x170e25._inputOrder;
      if (_0x170e25._updateTableLength) {
        _0x170e25._updateTableLength = false;
        const _0x9e4ab3 = Math.min(_0x3bddde.getRequiredDataPoints(_0x170e25._interpolationDegree, _0xc7a9c3), _0x35bfc4);
        if (_0x9e4ab3 !== _0x170e25._numberOfPoints) {
          _0x170e25._numberOfPoints = _0x9e4ab3;
          _0x34de44.length = _0x9e4ab3;
          _0x3ada0c.length = _0x9e4ab3 * _0x18af73;
        }
      }
      const _0xe63a18 = _0x170e25._numberOfPoints - 1;
      if (_0xe63a18 < 1) {
        _0x1a4790 = 0;
        const _0x21dc33 = {
          index: _0x1a4790
        };
        return _0x21dc33;
      }
      let _0x425019 = 0;
      let _0x281d7e = _0x35bfc4 - 1;
      const _0x40ae28 = _0x281d7e - _0x425019 + 1;
      if (_0x40ae28 >= _0xe63a18 + 1) {
        let _0x1a38ac = _0x1a4790 - (_0xe63a18 / 2 | 0) - 1;
        if (_0x1a38ac < _0x425019) {
          _0x1a38ac = _0x425019;
        }
        let _0x53b1cf = _0x1a38ac + _0xe63a18;
        if (_0x53b1cf > _0x281d7e) {
          _0x53b1cf = _0x281d7e;
          _0x1a38ac = _0x53b1cf - _0xe63a18;
          if (_0x1a38ac < _0x425019) {
            _0x1a38ac = _0x425019;
          }
        }
        _0x425019 = _0x1a38ac;
        _0x281d7e = _0x53b1cf;
      }
      const _0x1ae476 = _0x281d7e - _0x425019 + 1;
      for (let _0x3a5a02 = 0; _0x3a5a02 < _0x1ae476; ++_0x3a5a02) {
        _0x34de44[_0x3a5a02] = Cesium__namespace.JulianDate.secondsDifference(_0x27071e[_0x425019 + _0x3a5a02], _0x27071e[_0x281d7e]);
      }
      if (!Cesium__namespace.defined(_0x2b80ec.convertPackedArrayForInterpolation)) {
        let _0x60721d = 0;
        const _0x4e6070 = _0x170e25._packedLength;
        let _0x35374d = _0x425019 * _0x4e6070;
        const _0x5235b5 = (_0x281d7e + 1) * _0x4e6070;
        while (_0x35374d < _0x5235b5) {
          _0x3ada0c[_0x60721d] = _0x4bc2ae[_0x35374d];
          _0x35374d++;
          _0x60721d++;
        }
      } else {
        _0x2b80ec.convertPackedArrayForInterpolation(_0x4bc2ae, _0x425019, _0x281d7e, _0x3ada0c);
      }
      const _0x2b8f84 = Cesium__namespace.JulianDate.secondsDifference(_0x162578, _0x27071e[_0x281d7e]);
      let _0x5f05dd;
      if (_0xc7a9c3 === 0 || !Cesium__namespace.defined(_0x3bddde.interpolate)) {
        _0x5f05dd = _0x3bddde.interpolateOrderZero(_0x2b8f84, _0x34de44, _0x3ada0c, _0x18af73, _0x170e25._interpolationResult);
      } else {
        const _0x5453b6 = Math.floor(_0x18af73 / (_0xc7a9c3 + 1));
        _0x5f05dd = _0x3bddde.interpolate(_0x2b8f84, _0x34de44, _0x3ada0c, _0x5453b6, _0xc7a9c3, _0xc7a9c3, _0x170e25._interpolationResult);
      }
      _0x1a4790 = _0x425019;
      for (let _0x57404e = _0x425019; _0x57404e <= _0x281d7e; _0x57404e++) {
        const _0x1a2a0a = Cesium__namespace.JulianDate.compare(_0x162578, _0x27071e[_0x57404e]);
        if (_0x1a2a0a <= 0) {
          _0x1a4790 = _0x57404e - 1;
          break;
        }
      }
      if (!Cesium__namespace.defined(_0x2b80ec.unpackInterpolationResult)) {
        return {
          position: _0x2b80ec.unpack(_0x5f05dd, 0, _0x24e849),
          index: _0x1a4790
        };
      }
      return {
        position: _0x2b80ec.unpackInterpolationResult(_0x5f05dd, _0x4bc2ae, _0x425019, _0x281d7e, _0x24e849),
        index: _0x1a4790
      };
    }
    return {
      position: _0x2b80ec.unpack(_0x4bc2ae, _0x1a4790 * _0x170e25._packedLength, _0x24e849),
      index: _0x1a4790
    };
  }
  function getCameraHeadingPitchRollForLine(_0x33d95e, _0xc3ef51, _0x3fd27d) {
    _0xc3ef51 = LngLatPoint.toCartesian(_0xc3ef51);
    _0x3fd27d = LngLatPoint.toCartesian(_0x3fd27d);
    const _0x2e7f71 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x3fd27d, _0xc3ef51, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
    const _0x1aba47 = Cesium__namespace.Cartesian3.normalize(_0xc3ef51, new Cesium__namespace.Cartesian3());
    const _0x35fda1 = new Cesium__namespace.Camera(_0x33d95e);
    _0x35fda1.position = _0xc3ef51;
    _0x35fda1.direction = _0x2e7f71;
    _0x35fda1.up = _0x1aba47;
    return new Cesium__namespace.HeadingPitchRoll(_0x35fda1.heading, _0x35fda1.pitch, _0x35fda1.roll);
  }
  function locHpr2CameraHpr(_0x2ac65c, _0x334e83, _0x1be381) {
    let _0x1e5615;
    if (_0x2ac65c instanceof Cesium__namespace.Camera) {
      _0x1e5615 = _0x2ac65c;
    } else {
      _0x1e5615 = new Cesium__namespace.Camera(_0x2ac65c);
      _0x1e5615.position = _0x334e83;
      _0x1e5615.frustum.aspectRatio = 1;
      _0x1e5615.frustum.fov = Cesium__namespace.Math.toRadians(45);
      _0x1e5615.frustum.near = 0.01;
      _0x1e5615.frustum.far = 1;
    }
    const _0x2b9b2e = {
      heading: _0x1be381.heading,
      pitch: _0x1be381.pitch,
      roll: _0x1be381.roll
    };
    const _0x273a9c = {
      destination: _0x334e83,
      orientation: _0x2b9b2e
    };
    _0x1e5615.setView(_0x273a9c);
    const _0xb701ad = new Cesium__namespace.Cartesian3();
    const _0x43b3b4 = new Cesium__namespace.Matrix3();
    const _0x20b9a3 = new Cesium__namespace.Quaternion();
    const _0x22fa57 = _0x1e5615.directionWC;
    const _0x3a517e = _0x1e5615.upWC;
    const _0x41825e = Cesium__namespace.Cartesian3.negate(_0x1e5615.rightWC, _0xb701ad);
    Cesium__namespace.Matrix3.setColumn(_0x43b3b4, 0, _0x41825e, _0x43b3b4);
    Cesium__namespace.Matrix3.setColumn(_0x43b3b4, 1, _0x3a517e, _0x43b3b4);
    Cesium__namespace.Matrix3.setColumn(_0x43b3b4, 2, _0x22fa57, _0x43b3b4);
    const _0x111c4b = Cesium__namespace.Quaternion.fromRotationMatrix(_0x43b3b4, _0x20b9a3);
    const _0x3f346e = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromQuaternion(_0x111c4b, new Cesium__namespace.Matrix3()), _0x334e83, new Cesium__namespace.Matrix4());
    return Cesium__namespace.Transforms.fixedFrameToHeadingPitchRoll(_0x3f346e, _0x2ac65c.globe.ellipsoid);
  }
  const _0x9cd4eb = {
    __proto__: null,
    getTransFun: getTransFun,
    getPositionValue: getPositionValue,
    getMaxHeight: getMaxHeight,
    getMinHeight: getMinHeight,
    addPositionsHeight: addPositionsHeight,
    setPositionsHeight: setPositionsHeight,
    getHeight: getHeight,
    getSurfaceHeight: getSurfaceHeight,
    getSurfaceTerrainHeight: getSurfaceTerrainHeight,
    getSurfacePosition: getSurfacePosition,
    getCurrentMouseTerrainPosition: getCurrentMouseTerrainPosition,
    getMidpoint: getMidpoint,
    isRepeatPoint: isRepeatPoint,
    getRotateCenterPoint: getRotateCenterPoint,
    getOnLinePointByLen: getOnLinePointByLen,
    getOnLinePointByRatio: getOnLinePointByRatio,
    getPositionByHprAndOffset: getPositionByHprAndOffset,
    getPositionByDirectionAndLen: getPositionByDirectionAndLen,
    getPositionByHprAndLen: getPositionByHprAndLen,
    getRayEarthPosition: getRayEarthPosition,
    getRayEarthPositionByMatrix: getRayEarthPositionByMatrix,
    extend2Earth: extend2Earth,
    getHeadingPitchRollByOrientation: getHeadingPitchRollByOrientation,
    getHeadingPitchRollByMatrix: getHeadingPitchRollByMatrix,
    getHeadingPitchRollForLine: getHeadingPitchRollForLine,
    getReflectVector: getReflectVector,
    getPropertyIndex: getPropertyIndex,
    getCameraHeadingPitchRollForLine: getCameraHeadingPitchRollForLine,
    locHpr2CameraHpr: locHpr2CameraHpr
  };
  var PointUtil = _0x9cd4eb;
  class SurfacePoints {
    constructor(_0x24d4ac) {
      this.options = _0x24d4ac;
      this.scene = _0x24d4ac.map ? _0x24d4ac.map.scene : _0x24d4ac.scene;
      if (!this.scene) {
        logError("SurfacePoints: 请传入scene参数", this.options);
      }
      this.positions = LngLatArray.toCartesians(this.options.positions);
    }
    async start() {
      if (this.positions == null || this.positions.length === 0) {
        this.getResult();
        return;
      }
      if (this.scene._terrainProviderPromise) {
        await this.scene._terrainProviderPromise;
      }
      const _0x32c10e = this.options.has3dtiles ?? Cesium__namespace.defined(pick3DTileset(this.scene, this.positions));
      const _0x5d897e = this.options.hasTerrain ?? !(this.scene.terrainProvider instanceof Cesium__namespace.EllipsoidTerrainProvider);
      this._has3dtiles = _0x32c10e;
      this._hasTerrain = _0x5d897e;
      if (!_0x5d897e && !_0x32c10e) {
        return this.getResult();
      }
      if (this.options.exact) {
        return this._startForExact();
      } else {
        return this._startForSketchy();
      }
    }
    async _startForExact() {
      var _0x1570b8;
      const _0x3fb1e7 = this.positions;
      if (this._has3dtiles) {
        const _0x19a122 = [];
        for (let _0x30aa28 = 0, _0x471e82 = _0x3fb1e7.length; _0x30aa28 < _0x471e82; ++_0x30aa28) {
          _0x19a122.push(_0x3fb1e7[_0x30aa28].clone());
        }
        let _0x501278 = await this.scene.clampToHeightMostDetailed(_0x19a122, this.options.objectsToExclude);
        for (let _0x3e8d5c = 0; _0x3e8d5c < _0x501278.length; ++_0x3e8d5c) {
          if (!_0x501278[_0x3e8d5c]) {
            _0x501278[_0x3e8d5c] = this.positions[_0x3e8d5c];
          }
        }
        if (_0x501278.length > 0) {
          if (this.options.offset) {
            _0x501278 = addPositionsHeight(_0x501278, this.options.offset);
          }
          return this.getResult(_0x501278);
        }
      }
      const _0xc394b7 = this.scene?.verticalExaggeration ?? 1;
      if (this._hasTerrain && (_0x1570b8 = this.scene.terrainProvider) !== null && _0x1570b8 !== undefined && _0x1570b8.availability) {
        const _0x4737d4 = this.scene.globe.ellipsoid;
        const _0xf8648b = _0x4737d4.cartesianArrayToCartographicArray(_0x3fb1e7);
        const _0x1b5659 = Cesium__namespace.Cartographic.fromCartesian(_0x3fb1e7[0]).height;
        const _0x8a9523 = this.options.offset ?? 0;
        let _0x1161ed = false;
        const _0x47eb55 = await Cesium__namespace.sampleTerrainMostDetailed(this.scene.terrainProvider, _0xf8648b);
        for (let _0x305da0 = 0; _0x305da0 < _0x47eb55.length; ++_0x305da0) {
          if (!_0x47eb55[_0x305da0]) {
            _0x47eb55[_0x305da0] = this.positions[_0x305da0];
          }
          if (_0x47eb55[_0x305da0].height == null) {
            _0x1161ed = true;
            _0x47eb55[_0x305da0].height = _0x8a9523 + _0x1b5659;
          } else {
            _0x47eb55[_0x305da0].height = _0x8a9523 + _0x47eb55[_0x305da0].height * _0xc394b7;
          }
        }
        const _0x50083b = _0x4737d4.cartographicArrayToCartesianArray(_0x47eb55);
        return this.getResult(_0x50083b, _0x1161ed);
      }
      return this._startForSketchy();
    }
    async _startForSketchy() {
      const _0x22cfcf = [];
      for (let _0x3a644d = 0, _0x342489 = this.positions.length; _0x3a644d < _0x342489; ++_0x3a644d) {
        const _0x4ca2c3 = Cesium__namespace.Cartographic.fromCartesian(this.positions[_0x3a644d]);
        let _0x52379a;
        if (this._has3dtiles) {
          const _0x542af3 = this.scene.sampleHeight(_0x4ca2c3, this.options.objectsToExclude, this.options.width);
          if (Cesium__namespace.defined(_0x542af3) && _0x542af3 > -1000) {
            _0x52379a = _0x542af3;
          }
        }
        if (!Cesium__namespace.defined(_0x52379a)) {
          const _0x1f5f9d = this.scene.globe.getHeight(_0x4ca2c3);
          if (Cesium__namespace.defined(_0x1f5f9d) && _0x1f5f9d > -1000) {
            _0x52379a = _0x1f5f9d;
          }
        }
        _0x22cfcf.push(Cesium__namespace.Cartesian3.fromRadians(_0x4ca2c3.longitude, _0x4ca2c3.latitude, _0x52379a ?? _0x4ca2c3.height));
      }
      return this.getResult(_0x22cfcf);
    }
    getResult(_0x2d3b9f, _0x578965) {
      if (this.options.callback) {
        this.options.callback(_0x2d3b9f, _0x578965, this.positions);
      }
      const _0x177454 = {
        positions: _0x2d3b9f || this.positions,
        positions_original: this.positions,
        noHeight: _0x578965,
        has3dtiles: this._has3dtiles,
        hasTerrain: this._hasTerrain
      };
      return _0x177454;
    }
  }
  function area(_0x25c488) {
    try {
      return turf__namespace.area(_0x25c488);
    } catch (_0x17240f) {
      return 0;
    }
  }
  function bbox(_0x32e358) {
    return turf__namespace.bbox(_0x32e358);
  }
  function bezierSpline(_0x38b1f1, _0x39ac8d) {
    try {
      return turf__namespace.bezierSpline(_0x38b1f1, _0x39ac8d);
    } catch (_0x444239) {
      return _0x38b1f1;
    }
  }
  function lineOffset(_0x18456b, _0x51285f, _0x3932b0) {
    try {
      const _0x215eb7 = turf__namespace.lineString(_0x18456b);
      const _0x423842 = turf__namespace.lineOffset(_0x215eb7, _0x51285f, _0x3932b0);
      const _0x26415d = _0x423842.geometry.coordinates;
      for (let _0x2861ec = 0, _0x574ea1 = _0x26415d.length; _0x2861ec < _0x574ea1; _0x2861ec++) {
        _0x26415d[_0x2861ec][2] = _0x18456b[_0x2861ec][2];
      }
      return _0x26415d;
    } catch (_0xe0bdac) {
      return _0x18456b;
    }
  }
  function buffer$1(_0x19ed9c, _0x48c54a, _0x9afd75) {
    try {
      return turf__namespace.buffer(_0x19ed9c, _0x48c54a, _0x9afd75);
    } catch (_0x27e109) {
      return _0x19ed9c;
    }
  }
  function convex$1(_0x2bf4cb, _0x3deffc) {
    try {
      return turf__namespace.convex(_0x2bf4cb, _0x3deffc);
    } catch (_0x15d970) {
      return _0x2bf4cb;
    }
  }
  function pointGrid(_0x45b87a, _0x4aec3b, _0x1ed43c) {
    try {
      return turf__namespace.pointGrid(_0x45b87a, _0x4aec3b, _0x1ed43c);
    } catch (_0x5d7509) {
      return {
        features: []
      };
    }
  }
  function booleanPointInPolygon(_0x1f849e, _0x1a88f3, _0x1bb1a1) {
    try {
      return turf__namespace.booleanPointInPolygon(_0x1f849e, _0x1a88f3, _0x1bb1a1);
    } catch (_0x3648e3) {
      return false;
    }
  }
  function simplify(_0x26a8c7, _0x48dfdd) {
    try {
      const _0x46fd7a = {
        type: "Polygon",
        coordinates: [_0x26a8c7]
      };
      const _0x1f9d14 = {
        tolerance: 0.0001,
        highQuality: true,
        mutate: true,
        ..._0x48dfdd
      };
      const _0x2fe8bf = turf__namespace.simplify(_0x46fd7a, _0x1f9d14);
      return _0x2fe8bf.coordinates[0];
    } catch (_0x3af4d0) {
      return _0x26a8c7;
    }
  }
  const pickTilesetPassState$1 = new Cesium__namespace.Cesium3DTilePassState({
    pass: Cesium__namespace.Cesium3DTilePass.PICK
  });
  const packedDepthScale$1 = new Cesium__namespace.Cartesian4(1, 1 / 255, 1 / 65025, 1 / 16581375);
  const scratchRectangle$1 = new Cesium__namespace.BoundingRectangle(0, 0, 3, 3);
  const scratchColorZero$1 = new Cesium__namespace.Color(0, 0, 0, 0);
  const scratchRight = new Cesium__namespace.Cartesian3();
  const scratchUp = new Cesium__namespace.Cartesian3();
  const scratchPackedDepthArray = [];
  function interPolygonByDepth$1(_0x1e8777) {
    const _0x31e142 = _0x1e8777.scene;
    const _0x2cad37 = LngLatArray.toCartesians(_0x1e8777.positions);
    const _0x18699e = _0x31e142.globe.depthTestAgainstTerrain;
    _0x31e142.globe.depthTestAgainstTerrain = true;
    const _0x42cd74 = _0x1e8777.cameraHeight ?? _0x31e142.camera.positionCartographic.height;
    const {
      ray: _0x30e63b,
      frustumWidth: _0x5ddbcd,
      frustumHeight: _0x196442,
      cameraUp: _0x2fad4f
    } = getCameraInforForPoints(_0x2cad37, _0x42cd74);
    const _0x3c4db2 = Number(_0x1e8777.splitNum ?? 512);
    const _0x57ed02 = _0x5ddbcd / _0x3c4db2;
    const _0x369c98 = _0x196442 / _0x3c4db2;
    const _0x1cba99 = new Cesium__namespace.Picking(_0x31e142);
    const _0x3d8957 = _0x1cba99._pickOffscreenView;
    const _0x378320 = new Cesium__namespace.BoundingRectangle(0, 0, _0x3c4db2, _0x3c4db2);
    _0x3d8957.viewport = _0x378320;
    _0x3d8957.passState.viewport = _0x378320;
    _0x31e142.view = _0x3d8957;
    updateOffscreenCamera(_0x30e63b.origin, _0x30e63b.direction, _0x2fad4f, _0x5ddbcd, _0x196442, _0x3d8957.camera);
    Cesium__namespace.BoundingRectangle.clone(_0x3d8957.viewport, scratchRectangle$1);
    const _0x1aefa8 = _0x3d8957.pickFramebuffer.begin(scratchRectangle$1, _0x3d8957.viewport);
    _0x31e142.jobScheduler.disableThisFrame();
    _0x31e142.updateFrameState();
    _0x31e142.frameState.invertClassification = false;
    _0x31e142.frameState.passes.pick = true;
    _0x31e142.frameState.passes.offscreen = true;
    _0x31e142.frameState.tilesetPassState = pickTilesetPassState$1;
    _0x31e142.context.uniformState.update(_0x31e142.frameState);
    _0x31e142.updateEnvironment();
    _0x31e142.updateAndExecuteCommands(_0x1aefa8, scratchColorZero$1);
    _0x31e142.resolveFramebuffers(_0x1aefa8);
    const _0x56879a = [];
    if (_0x31e142.context.depthTexture) {
      const _0x554867 = _0x3d8957.frustumCommandsList.length;
      const _0x1b9b48 = new Cesium__namespace.Cartesian3();
      for (let _0xe69199 = 0; _0xe69199 < _0x554867; ++_0xe69199) {
        const _0x5eb66e = _0x1cba99.getPickDepth(_0x31e142, _0xe69199);
        const _0xe2ccb8 = getDepth(_0x31e142.context, 0, 0, _0x3c4db2, _0x3c4db2, _0x5eb66e);
        for (let _0x4edd40 = 0; _0x4edd40 < _0xe2ccb8.length; _0x4edd40++) {
          const _0x21b197 = _0xe2ccb8[_0x4edd40];
          if (_0x21b197 > 0 && _0x21b197 < 1) {
            const _0x5e578d = _0x3d8957.frustumCommandsList[_0xe69199];
            const _0x3ffe15 = _0x5e578d.near * (_0x4edd40 !== 0 ? _0x31e142.opaqueFrustumNearOffset : 1);
            const {
              far: _0x1f708a
            } = _0x5e578d;
            const _0x3ee97c = _0x3ffe15 + _0x21b197 * (_0x1f708a - _0x3ffe15);
            const _0x2f02e9 = Math.floor(_0x4edd40 / _0x3c4db2);
            const _0x143069 = _0x4edd40 % _0x3c4db2;
            const _0x1b039d = (_0x2f02e9 - _0x3c4db2 / 2) * _0x196442 / _0x3c4db2;
            const _0x4656a4 = (_0x143069 - _0x3c4db2 / 2) * _0x5ddbcd / _0x3c4db2;
            const _0x47e899 = new Cesium__namespace.Cartesian3();
            Cesium__namespace.Cartesian3.multiplyByScalar(_0x2fad4f, _0x1b039d, _0x1b9b48);
            Cesium__namespace.Cartesian3.add(_0x1b9b48, _0x3d8957.camera.position, _0x47e899);
            Cesium__namespace.Cartesian3.multiplyByScalar(_0x3d8957.camera.right, _0x4656a4, _0x1b9b48);
            Cesium__namespace.Cartesian3.add(_0x1b9b48, _0x47e899, _0x47e899);
            const _0x49c1d0 = Cesium__namespace.Ray.clone(_0x30e63b);
            _0x49c1d0.origin = _0x47e899;
            const _0xab7f1f = Cesium__namespace.Ray.getPoint(_0x49c1d0, _0x3ee97c);
            if (!_0x56879a[_0x4edd40]) {
              _0x56879a[_0x4edd40] = _0xab7f1f;
            }
          }
        }
      }
    }
    const _0x524c9d = [];
    let _0x3efc87 = Number.MAX_VALUE;
    let _0x2dc078 = -Number.MAX_VALUE;
    const _0x585e2c = _0x2cad37.map(_0x23dc7d => {
      const _0x581c69 = Cesium__namespace.Cartographic.fromCartesian(_0x23dc7d);
      return [_0x581c69.longitude, _0x581c69.latitude];
    });
    _0x56879a.forEach(_0x210cc9 => {
      const _0x597049 = Cesium__namespace.Cartographic.fromCartesian(_0x210cc9);
      if (_0x597049 && pointInPolygonNested([_0x597049.longitude, _0x597049.latitude], _0x585e2c)) {
        const _0x5aeb9c = _0x597049.height;
        if (_0x2dc078 < _0x5aeb9c) {
          _0x2dc078 = _0x5aeb9c;
        }
        if (_0x3efc87 > _0x5aeb9c) {
          _0x3efc87 = _0x5aeb9c;
        }
        _0x210cc9.height = _0x5aeb9c;
        _0x210cc9.getOutline = function () {
          return getBoxOutLine(this, _0x57ed02, _0x369c98, _0x2fad4f);
        };
        _0x524c9d.push(_0x210cc9);
      }
    });
    _0x31e142.globe.depthTestAgainstTerrain = _0x18699e;
    _0x31e142.view = _0x31e142.defaultView;
    _0x31e142.context.endFrame();
    _0x1cba99.destroy();
    if (_0x3efc87 === Number.MAX_VALUE) {
      _0x3efc87 = 0;
    }
    if (_0x2dc078 === -Number.MAX_VALUE) {
      _0x2dc078 = 9999;
    }
    const _0x1b8872 = _0x57ed02 * _0x369c98;
    const _0x27dc52 = {
      width: _0x57ed02,
      height: _0x369c98,
      area: _0x1b8872
    };
    const _0x107190 = {
      positions: _0x524c9d,
      count: _0x524c9d.length,
      minHeight: _0x3efc87,
      maxHeight: _0x2dc078,
      box: _0x27dc52,
      totalArea: _0x1b8872 * _0x524c9d.length
    };
    return _0x107190;
  }
  function interPolylineByDepth$1(_0x5cbe31) {
    const _0x2c41f3 = _0x5cbe31.scene;
    const _0x22dd2a = LngLatArray.toCartesians(_0x5cbe31.positions);
    const _0x2ecb4e = _0x2c41f3.globe.depthTestAgainstTerrain;
    _0x2c41f3.globe.depthTestAgainstTerrain = true;
    const _0x592cd0 = Cesium__namespace.defined(_0x2c41f3.globe) ? _0x2c41f3.globe.ellipsoid : _0x2c41f3.mapProjection.ellipsoid;
    const _0x4e4b4f = _0x2c41f3.context;
    const _0x4f0cbb = _0x4e4b4f.uniformState;
    const _0x1fc78d = _0x2c41f3.frameState;
    const _0x874244 = _0x5cbe31.cameraHeight ?? _0x2c41f3.camera.positionCartographic.height;
    const _0xfed756 = new Cesium__namespace.Picking(_0x2c41f3);
    const _0x573deb = _0xfed756._pickOffscreenView;
    const _0x2fea45 = 0.1;
    let _0x546c78 = [];
    const _0x38c791 = [];
    for (let _0x555240 = 0, _0x299b5b = _0x22dd2a.length - 1; _0x555240 < _0x299b5b; _0x555240++) {
      const _0x54ec04 = _0x22dd2a[_0x555240];
      const _0x3fd92b = _0x22dd2a[_0x555240 + 1];
      const _0x4d14d2 = Cesium__namespace.Cartographic.fromCartesian(_0x54ec04);
      const _0x42cd98 = Cesium__namespace.Cartographic.fromCartesian(_0x3fd92b);
      const _0x404bef = Cesium__namespace.Cartesian3.fromRadians(_0x4d14d2.longitude, _0x4d14d2.latitude);
      const _0x16b38b = Cesium__namespace.Cartesian3.fromRadians(_0x42cd98.longitude, _0x42cd98.latitude);
      const _0x52618b = Cesium__namespace.Cartesian3.distance(_0x404bef, _0x16b38b);
      let _0x3d75c4 = 100;
      if (Cesium__namespace.defined(_0x5cbe31.splitNum)) {
        _0x3d75c4 = Number(_0x5cbe31.splitNum);
      }
      if (Cesium__namespace.defined(_0x5cbe31.minDistance)) {
        _0x3d75c4 = Math.floor(_0x52618b / _0x5cbe31.minDistance);
      }
      if (_0x3d75c4 > Cesium__namespace.ContextLimits.maximumTextureSize) {
        _0x3d75c4 = Cesium__namespace.ContextLimits.maximumTextureSize;
      }
      const _0x3d13c4 = new Cesium__namespace.Ray();
      const _0x47afba = Cesium__namespace.Cartesian3.lerp(_0x404bef, _0x16b38b, 0.5, new Cesium__namespace.Cartesian3());
      const _0x22d8bb = Cesium__namespace.Cartographic.fromCartesian(_0x47afba);
      const _0x14c26a = _0x592cd0.geodeticSurfaceNormalCartographic(_0x22d8bb, new Cesium__namespace.Cartesian3());
      Cesium__namespace.Cartesian3.negate(_0x14c26a, _0x3d13c4.direction);
      _0x3d13c4.origin = Cesium__namespace.Cartesian3.fromRadians(_0x22d8bb.longitude, _0x22d8bb.latitude, _0x874244);
      const _0x2358e1 = Cesium__namespace.Cartesian3.subtract(_0x16b38b, _0x404bef, scratchUp);
      Cesium__namespace.Cartesian3.normalize(_0x2358e1, _0x2358e1);
      const _0x2d24c4 = _0x52618b;
      const _0x1cd6cb = new Cesium__namespace.BoundingRectangle(0, 0, 1, _0x3d75c4);
      _0x573deb.viewport = _0x1cd6cb;
      _0x573deb.passState.viewport = _0x1cd6cb;
      _0x2c41f3.view = _0x573deb;
      updateOffscreenCamera(_0x3d13c4.origin, _0x3d13c4.direction, _0x2358e1, _0x2fea45, _0x2d24c4, _0x573deb.camera);
      Cesium__namespace.BoundingRectangle.clone(_0x573deb.viewport, scratchRectangle$1);
      const _0x3ab07f = _0x573deb.pickFramebuffer.begin(scratchRectangle$1, _0x573deb.viewport);
      _0x2c41f3.jobScheduler.disableThisFrame();
      _0x2c41f3.updateFrameState();
      _0x1fc78d.invertClassification = false;
      _0x1fc78d.passes.pick = true;
      _0x1fc78d.passes.offscreen = true;
      _0x1fc78d.tilesetPassState = pickTilesetPassState$1;
      _0x4f0cbb.update(_0x1fc78d);
      _0x2c41f3.updateEnvironment();
      _0x2c41f3.updateAndExecuteCommands(_0x3ab07f, scratchColorZero$1);
      _0x2c41f3.resolveFramebuffers(_0x3ab07f);
      const _0x5018ca = [];
      if (_0x2c41f3.context.depthTexture) {
        const _0x43b1a4 = _0x573deb.frustumCommandsList.length;
        const _0x32db4b = new Cesium__namespace.Cartesian3();
        for (let _0x3adca3 = 0; _0x3adca3 < _0x43b1a4; ++_0x3adca3) {
          const _0x594099 = _0xfed756.getPickDepth(_0x2c41f3, _0x3adca3);
          const _0x5b9eac = getDepth(_0x4e4b4f, 0, 0, 1, _0x3d75c4, _0x594099);
          for (let _0x312ef5 = 0, _0x34279d = _0x5b9eac.length; _0x312ef5 < _0x34279d; _0x312ef5++) {
            const _0x1a240a = _0x5b9eac[_0x312ef5];
            if (_0x1a240a > 0 && _0x1a240a < 1) {
              const _0x3f816d = _0x573deb.frustumCommandsList[_0x3adca3];
              const _0x428902 = _0x3f816d.near * (_0x312ef5 !== 0 ? _0x2c41f3.opaqueFrustumNearOffset : 1);
              const _0x24025d = _0x3f816d.far;
              const _0x3e2ee4 = _0x428902 + _0x1a240a * (_0x24025d - _0x428902);
              if (_0x34279d > 1) {
                const _0x981b0d = (_0x312ef5 / (_0x5b9eac.length - 1) - 0.5) * _0x2d24c4;
                Cesium__namespace.Cartesian3.multiplyByScalar(_0x2358e1, _0x981b0d, _0x32db4b);
              }
              const _0x360dcc = Cesium__namespace.Ray.clone(_0x3d13c4);
              Cesium__namespace.Cartesian3.add(_0x360dcc.origin, _0x32db4b, _0x360dcc.origin);
              const _0x1b1140 = Cesium__namespace.Ray.getPoint(_0x360dcc, _0x3e2ee4);
              if (!_0x5018ca[_0x312ef5]) {
                _0x5018ca[_0x312ef5] = _0x1b1140;
              }
            }
          }
        }
      }
      _0x2c41f3.view = _0x2c41f3.defaultView;
      _0x4e4b4f.endFrame();
      const _0x4378d8 = [];
      for (let _0x434813 = 0, _0x2f8005 = _0x5018ca.length; _0x434813 < _0x2f8005; _0x434813++) {
        const _0x332009 = _0x5018ca[_0x434813];
        if (Cesium__namespace.defined(_0x332009)) {
          _0x4378d8.push(_0x332009);
        }
      }
      _0x546c78 = _0x546c78.concat(_0x4378d8);
      const _0x42cec4 = {
        distance: _0x52618b,
        positions: _0x4378d8
      };
      _0x38c791.push(_0x42cec4);
    }
    _0x2c41f3.globe.depthTestAgainstTerrain = _0x2ecb4e;
    _0xfed756.destroy();
    const _0x276cf4 = {
      positions: _0x546c78,
      list: _0x38c791
    };
    return _0x276cf4;
  }
  function getDepth(_0x359cc1, _0x2bdcec, _0x4d076a, _0x32c096, _0x26092a, _0x53645e) {
    const _0x1d3fe9 = {
      x: _0x2bdcec,
      y: _0x4d076a,
      width: _0x32c096,
      height: _0x26092a,
      framebuffer: _0x53645e.framebuffer
    };
    const _0x144101 = _0x359cc1.readPixels(_0x1d3fe9);
    const _0x5066b6 = Cesium__namespace.Cartesian4.unpackArray(_0x144101, scratchPackedDepthArray);
    const _0x4fb7f8 = [];
    for (let _0x2fe7ba = 0; _0x2fe7ba < _0x5066b6.length; ++_0x2fe7ba) {
      const _0x5635a6 = _0x5066b6[_0x2fe7ba];
      Cesium__namespace.Cartesian4.divideByScalar(_0x5635a6, 255, _0x5635a6);
      const _0x33b1f2 = Cesium__namespace.Cartesian4.dot(_0x5635a6, packedDepthScale$1);
      _0x4fb7f8.push(_0x33b1f2);
    }
    return _0x4fb7f8;
  }
  function updateOffscreenCamera(_0x38350c, _0x40a880, _0x18240a, _0x3dfad7, _0x50f3ce, _0x22bc8d) {
    const _0x12e4f2 = Cesium__namespace.Cartesian3.cross(_0x40a880, _0x18240a, scratchRight);
    _0x22bc8d.position = _0x38350c;
    _0x22bc8d.direction = _0x40a880;
    _0x22bc8d.up = _0x18240a;
    _0x22bc8d.right = _0x12e4f2;
    _0x22bc8d.frustum.width = _0x3dfad7;
    _0x22bc8d.frustum.aspectRatio = _0x3dfad7 / _0x50f3ce;
    return _0x22bc8d.frustum.computeCullingVolume(_0x22bc8d.positionWC, _0x22bc8d.directionWC, _0x22bc8d.upWC);
  }
  function getCameraInforForPoints(_0xd48d66, _0x51cddb) {
    const _0xb7c572 = Cesium__namespace.Rectangle.fromCartesianArray(_0xd48d66);
    const _0x5d8096 = Cesium__namespace.Rectangle.center(_0xb7c572);
    const _0x5595b6 = Cesium__namespace.Cartesian3.fromRadians(_0x5d8096.longitude, _0x5d8096.latitude, _0x51cddb);
    const _0x40e9a7 = Cesium__namespace.Ellipsoid.WGS84.geodeticSurfaceNormal(_0x5595b6);
    Cesium__namespace.Cartesian3.multiplyByScalar(_0x40e9a7, -1, _0x40e9a7);
    const _0x488d6a = Cesium__namespace.Cartesian3.fromRadians(_0x5d8096.longitude, _0x5d8096.latitude + _0xb7c572.height / 2, _0x51cddb);
    const _0x58206f = Cesium__namespace.Cartesian3.subtract(_0x488d6a, _0x5595b6, new Cesium__namespace.Cartesian3());
    const _0x5b488d = new Cesium__namespace.Ray(_0x5595b6, _0x40e9a7);
    const _0x15398c = Cesium__namespace.Rectangle.southwest(_0xb7c572);
    const _0x3b7686 = Cesium__namespace.Rectangle.southeast(_0xb7c572);
    const _0x5a2f79 = Cesium__namespace.Rectangle.northwest(_0xb7c572);
    const _0x58286d = Cesium__namespace.Cartographic.toCartesian(_0x15398c);
    const _0x4cd76d = Cesium__namespace.Cartographic.toCartesian(_0x3b7686);
    const _0x160800 = Cesium__namespace.Cartographic.toCartesian(_0x5a2f79);
    const _0x4d6c65 = Cesium__namespace.Cartesian3.distance(_0x58286d, _0x4cd76d);
    const _0x2e6915 = Cesium__namespace.Cartesian3.distance(_0x58286d, _0x160800);
    const _0x7313a1 = {
      ray: _0x5b488d,
      frustumWidth: _0x4d6c65,
      frustumHeight: _0x2e6915,
      cameraUp: _0x58206f
    };
    return _0x7313a1;
  }
  function pointInPolygonNested(_0x1c60bd, _0x499a33) {
    const _0x545b45 = _0x1c60bd[0];
    const _0x4a5b80 = _0x1c60bd[1];
    let _0x4d091a = false;
    const _0x461e9b = _0x499a33.length;
    for (let _0x34ad6e = 0, _0x4ee492 = _0x461e9b - 1; _0x34ad6e < _0x461e9b; _0x4ee492 = _0x34ad6e++) {
      const _0x185c32 = _0x499a33[_0x34ad6e][0];
      const _0x25c98e = _0x499a33[_0x34ad6e][1];
      const _0x1563ec = _0x499a33[_0x4ee492][0];
      const _0x2a4941 = _0x499a33[_0x4ee492][1];
      const _0x45fd0b = _0x25c98e > _0x4a5b80 !== _0x2a4941 > _0x4a5b80 && _0x545b45 < (_0x1563ec - _0x185c32) * (_0x4a5b80 - _0x25c98e) / (_0x2a4941 - _0x25c98e) + _0x185c32;
      if (_0x45fd0b) {
        _0x4d091a = !_0x4d091a;
      }
    }
    return _0x4d091a;
  }
  function getBoxOutLine(_0x1acec7, _0x1b60ba, _0x323fec, _0x34c4d7) {
    const _0x4dc0bf = Cesium__namespace.Cartesian3.normalize(_0x1acec7, new Cesium__namespace.Cartesian3());
    const _0x337374 = Cesium__namespace.Cartesian3.cross(_0x34c4d7, _0x4dc0bf, _0x4dc0bf);
    Cesium__namespace.Cartesian3.multiplyByScalar(_0x337374, _0x1b60ba / 2, _0x337374);
    const _0x4ebee5 = Cesium__namespace.Cartesian3.multiplyByScalar(_0x34c4d7, _0x323fec / 2, new Cesium__namespace.Cartesian3());
    const _0x23c012 = Cesium__namespace.Cartesian3.add(_0x1acec7, _0x4ebee5, new Cesium__namespace.Cartesian3());
    Cesium__namespace.Cartesian3.add(_0x23c012, _0x337374, _0x23c012);
    const _0x4f71f0 = Cesium__namespace.Cartesian3.add(_0x1acec7, _0x4ebee5, new Cesium__namespace.Cartesian3());
    Cesium__namespace.Cartesian3.subtract(_0x4f71f0, _0x337374, _0x4f71f0);
    const _0x5f2101 = Cesium__namespace.Cartesian3.subtract(_0x1acec7, _0x4ebee5, new Cesium__namespace.Cartesian3());
    Cesium__namespace.Cartesian3.add(_0x5f2101, _0x337374, _0x5f2101);
    const _0x531aab = Cesium__namespace.Cartesian3.subtract(_0x1acec7, _0x4ebee5, new Cesium__namespace.Cartesian3());
    Cesium__namespace.Cartesian3.subtract(_0x531aab, _0x337374, _0x531aab);
    return [_0x23c012, _0x5f2101, _0x531aab, _0x4f71f0];
  }
  const scratchPerspectiveFrustum$1 = new Cesium__namespace.PerspectiveFrustum();
  const scratchPerspectiveOffCenterFrustum$1 = new Cesium__namespace.PerspectiveOffCenterFrustum();
  const scratchOrthographicFrustum$1 = new Cesium__namespace.OrthographicFrustum();
  const scratchOrthographicOffCenterFrustum$1 = new Cesium__namespace.OrthographicOffCenterFrustum();
  function getRayIntersectingPositions$2(_0x5bc897) {
    const _0x4689f5 = _0x5bc897.scene;
    const _0x47b55a = _0x5bc897.camera ?? _0x4689f5.camera;
    const _0x28b0cc = Number(_0x5bc897.splitNum ?? 512);
    const _0x51e49d = new Cesium__namespace.Picking(_0x4689f5);
    const _0x5450d9 = _0x51e49d._pickOffscreenView;
    const _0x17a749 = new Cesium__namespace.BoundingRectangle(0, 0, _0x28b0cc, _0x28b0cc);
    _0x5450d9.viewport = _0x17a749;
    _0x5450d9.passState.viewport = _0x17a749;
    _0x4689f5.view = _0x5450d9;
    _0x5450d9.camera = _0x47b55a;
    Cesium__namespace.BoundingRectangle.clone(_0x5450d9.viewport, scratchRectangle$1);
    const _0x42b781 = _0x5450d9.pickFramebuffer.begin(scratchRectangle$1, _0x5450d9.viewport);
    _0x4689f5.jobScheduler.disableThisFrame();
    _0x4689f5.updateFrameState();
    _0x4689f5.frameState.invertClassification = false;
    _0x4689f5.frameState.passes.pick = true;
    _0x4689f5.frameState.passes.offscreen = true;
    _0x4689f5.frameState.tilesetPassState = pickTilesetPassState$1;
    _0x4689f5.context.uniformState.update(_0x4689f5.frameState);
    _0x4689f5.updateEnvironment();
    _0x4689f5.updateAndExecuteCommands(_0x42b781, scratchColorZero$1);
    _0x4689f5.resolveFramebuffers(_0x42b781);
    let _0x302447;
    if (Cesium__namespace.defined(_0x47b55a.frustum.fov)) {
      _0x302447 = _0x47b55a.frustum.clone(scratchPerspectiveFrustum$1);
    } else if (Cesium__namespace.defined(_0x47b55a.frustum.infiniteProjectionMatrix)) {
      _0x302447 = _0x5450d9.camera.frustum.clone(scratchPerspectiveOffCenterFrustum$1);
    } else if (Cesium__namespace.defined(_0x47b55a.frustum.width)) {
      _0x302447 = _0x47b55a.frustum.clone(scratchOrthographicFrustum$1);
    } else {
      _0x302447 = _0x47b55a.frustum.clone(scratchOrthographicOffCenterFrustum$1);
    }
    const _0x1d19bd = new Array(_0x28b0cc);
    for (let _0x204ed4 = 0; _0x204ed4 < _0x28b0cc; _0x204ed4++) {
      _0x1d19bd[_0x204ed4] = new Array(_0x28b0cc);
    }
    if (_0x4689f5.context.depthTexture) {
      const _0x507605 = _0x51e49d.getPickDepth(_0x4689f5, 0);
      const _0x1b185d = getDepth(_0x4689f5.context, 0, 0, _0x28b0cc, _0x28b0cc, _0x507605);
      for (let _0x209fb6 = 0; _0x209fb6 < _0x1b185d.length; _0x209fb6++) {
        const _0x34a8b3 = _0x1b185d[_0x209fb6];
        if (_0x34a8b3 > 0 && _0x34a8b3 < 1) {
          const _0x5abb0c = _0x5450d9.frustumCommandsList[0];
          if (!_0x5abb0c) {
            continue;
          }
          const _0x586098 = Math.floor(_0x209fb6 / _0x28b0cc);
          const _0x448ee9 = _0x209fb6 % _0x28b0cc;
          _0x302447.near = _0x5abb0c.near * _0x4689f5.opaqueFrustumNearOffset;
          _0x302447.far = _0x5abb0c.far;
          _0x4689f5.context.uniformState.updateFrustum(_0x302447);
          const _0x441b4f = Cesium__namespace.SceneTransforms.drawingBufferToWorldCoordinates(_0x4689f5, new Cesium__namespace.Cartesian2(_0x448ee9, _0x586098), _0x34a8b3, new Cesium__namespace.Cartesian3());
          _0x1d19bd[_0x448ee9][_0x586098] = _0x441b4f;
        }
      }
    }
    _0x4689f5.view = _0x4689f5.defaultView;
    _0x4689f5.context.endFrame();
    _0x51e49d.destroy();
    return _0x1d19bd;
  }
  function centerOfMass(_0xe7dffc, _0x453fc0) {
    if (!_0xe7dffc || _0xe7dffc.length === 0) {
      return;
    }
    const _0x475727 = LngLatArray.toCartesians(_0xe7dffc);
    try {
      if (_0x475727.length === 1) {
        return _0x475727[0];
      } else if (_0x475727.length === 2) {
        return getMidpoint(_0x475727[0], _0x475727[1]);
      }
      if (_0x453fc0 == null) {
        _0x453fc0 = getMaxHeight(_0x475727);
      }
      const _0x3ad3ca = Cesium__namespace.Rectangle.fromCartesianArray(_0x475727);
      const _0xab07fd = Cesium__namespace.Rectangle.center(_0x3ad3ca);
      const _0x308d7e = Cesium__namespace.Cartesian3.fromRadians(_0xab07fd.longitude, _0xab07fd.latitude, _0x453fc0);
      return _0x308d7e;
    } catch (_0x2e6b6d) {
      return _0x475727[Math.floor(_0x475727.length / 2)];
    }
  }
  function centerOfLine(_0x2f5986, _0x1008a9) {
    const _0x475ed7 = _0x2f5986?.length;
    if (!_0x2f5986 || _0x475ed7 === 0) {
      return null;
    } else if (_0x475ed7 === 1) {
      return _0x2f5986[0];
    }
    let _0x2d9638;
    if (_0x475ed7 < 10) {
      let _0xf1fcb5 = 0;
      for (let _0x20e29f = 1; _0x20e29f < _0x475ed7; _0x20e29f++) {
        _0xf1fcb5 += Cesium__namespace.Cartesian3.distance(_0x2f5986[_0x20e29f - 1], _0x2f5986[_0x20e29f]);
      }
      _0x2d9638 = sliceByMaxDistance(_0x2f5986, _0xf1fcb5 / 2, {
        point: true
      });
    } else {
      _0x2d9638 = _0x2f5986[Math.floor(_0x2f5986.length / 2)];
    }
    if (Cesium__namespace.defined(_0x1008a9)) {
      _0x2d9638 = setPositionsHeight(_0x2d9638, _0x1008a9);
    }
    return _0x2d9638;
  }
  function buffer(_0x16fee9, _0x2cee38 = 1, _0xd7da6e = 8) {
    try {
      var _0x4e4a62;
      if (((_0x4e4a62 = _0x16fee9) === null || _0x4e4a62 === undefined || (_0x4e4a62 = _0x4e4a62.geometry) === null || _0x4e4a62 === undefined ? undefined : _0x4e4a62.type) === "Polygon") {
        const _0x48078b = _0x16fee9.geometry.coordinates[0];
        const _0x261e37 = _0x48078b[0];
        const _0x4c4614 = _0x48078b[_0x48078b.length - 1];
        if (_0x261e37[0] !== _0x4c4614[0] || _0x261e37[1] !== _0x4c4614[1]) {
          _0x48078b.push(_0x261e37);
        }
      }
      const _0xf6aff0 = {
        units: "meters",
        steps: _0xd7da6e
      };
      _0x16fee9 = buffer$1(_0x16fee9, _0x2cee38, _0xf6aff0);
    } catch (_0x13c1d6) {
      logError("PolyUtil turf.buffer:缓冲分析异常 ", _0x13c1d6);
    }
    return _0x16fee9;
  }
  function bufferPoints(_0x50ff6d, _0x563a05 = 1, _0x44cdbd = 8) {
    try {
      const _0x435e43 = {
        type: "Feature",
        geometry: LngLatArray.toGeoJSONPolygonGeometry(_0x50ff6d)
      };
      const _0x445e90 = {
        units: "meters",
        steps: _0x44cdbd
      };
      const _0x1fd53c = buffer$1(_0x435e43, _0x563a05, _0x445e90);
      return LngLatArray.toPoints(_0x1fd53c.geometry.coordinates[0]);
    } catch (_0x457d0a) {
      logError("PolyUtil buffer:缓冲分析异常", _0x457d0a);
    }
    return _0x50ff6d;
  }
  function movePoints(_0x2eb50b, _0x48dbba = {}) {
    if (_0x2eb50b?.type === "ajax") {
      return _0x2eb50b;
    } else if (_0x2eb50b?.type === "time") {
      let _0x16fd0c;
      if (_0x48dbba.offset) {
        _0x16fd0c = _0x48dbba.offset;
      } else {
        if (_0x48dbba instanceof Cesium__namespace.Cartesian3) {
          _0x48dbba = {
            center: _0x48dbba
          };
        }
        const _0x21e1a1 = LngLatPoint.toCartesian(_0x48dbba.center);
        const _0x2a37ee = LngLatArray.toCartesians(_0x2eb50b.list[0].positions);
        const _0x3a0255 = centerOfMass(_0x2a37ee);
        _0x16fd0c = Cesium__namespace.Cartesian3.subtract(_0x21e1a1, _0x3a0255, new Cesium__namespace.Cartesian3());
      }
      const _0x4ba540 = [];
      for (let _0x538efd = 0, _0x39f6b7 = _0x2eb50b.list.length; _0x538efd < _0x39f6b7; _0x538efd++) {
        const _0x21a32d = [];
        const _0x543261 = LngLatArray.toCartesians(_0x2eb50b.list[_0x538efd].positions);
        _0x543261.forEach(_0x17bd98 => {
          const _0x91249e = Cesium__namespace.Cartesian3.add(_0x17bd98, _0x16fd0c, new Cesium__namespace.Cartesian3());
          _0x21a32d.push(_0x91249e);
        });
        const _0xee04d3 = {
          ..._0x2eb50b.list[_0x538efd]
        };
        _0xee04d3.positions = _0x21a32d;
        _0x4ba540.push(_0xee04d3);
      }
      const _0x5d4008 = {
        ..._0x2eb50b
      };
      _0x5d4008.list = _0x4ba540;
      return _0x5d4008;
    } else {
      const _0xa3f572 = LngLatArray.toCartesians(_0x2eb50b);
      let _0xe712e4;
      if (_0x48dbba.offset) {
        _0xe712e4 = _0x48dbba.offset;
      } else {
        if (_0x48dbba instanceof Cesium__namespace.Cartesian3) {
          _0x48dbba = {
            center: _0x48dbba
          };
        }
        const _0x4c4ee1 = LngLatPoint.toCartesian(_0x48dbba.center);
        const _0x24925e = centerOfMass(_0xa3f572);
        _0xe712e4 = Cesium__namespace.Cartesian3.subtract(_0x4c4ee1, _0x24925e, new Cesium__namespace.Cartesian3());
      }
      const _0x37abce = [];
      _0xa3f572.forEach(_0x37c2d3 => {
        const _0x5f2c1c = Cesium__namespace.Cartesian3.add(_0x37c2d3, _0xe712e4, new Cesium__namespace.Cartesian3());
        _0x37abce.push(_0x5f2c1c);
      });
      return _0x37abce;
    }
  }
  function getGranularity(_0x4c2d21, _0x4e4752 = 10) {
    const _0x537ea1 = Cesium__namespace.Rectangle.fromCartesianArray(LngLatArray.toCartesians(_0x4c2d21));
    let _0x3cd3ad = Math.max(_0x537ea1.height, _0x537ea1.width);
    _0x3cd3ad /= _0x4e4752;
    return _0x3cd3ad;
  }
  function interPolygon(_0x5e6def) {
    const _0x343653 = _0x5e6def.scene;
    const _0x85a6a9 = LngLatArray.toCartesians(_0x5e6def.positions, true);
    const _0x56f4b9 = getGranularity(_0x85a6a9, _0x5e6def.splitNum);
    return new Promise((_0x248a29, _0xa669b1) => {
      setTimeout(() => {
        const _0x3c2b81 = [];
        const _0x10bbea = new Cesium__namespace.PolygonGeometry.fromPositions({
          positions: _0x85a6a9,
          vertexFormat: Cesium__namespace.PerInstanceColorAppearance.FLAT_VERTEX_FORMAT,
          granularity: _0x56f4b9
        });
        const _0x3772c3 = new Cesium__namespace.PolygonGeometry.createGeometry(_0x10bbea);
        let _0x158282;
        let _0x3d4987;
        let _0x117dbc;
        let _0x3c5828;
        let _0x1f2072;
        let _0x280b9a;
        for (let _0xac2c28 = 0; _0xac2c28 < _0x3772c3.indices.length; _0xac2c28 += 3) {
          _0x158282 = _0x3772c3.indices[_0xac2c28];
          _0x3d4987 = _0x3772c3.indices[_0xac2c28 + 1];
          _0x117dbc = _0x3772c3.indices[_0xac2c28 + 2];
          _0x3c5828 = new Cesium__namespace.Cartesian3(_0x3772c3.attributes.position.values[_0x158282 * 3], _0x3772c3.attributes.position.values[_0x158282 * 3 + 1], _0x3772c3.attributes.position.values[_0x158282 * 3 + 2]);
          _0x3c2b81.push(_0x3c5828);
          _0x1f2072 = new Cesium__namespace.Cartesian3(_0x3772c3.attributes.position.values[_0x3d4987 * 3], _0x3772c3.attributes.position.values[_0x3d4987 * 3 + 1], _0x3772c3.attributes.position.values[_0x3d4987 * 3 + 2]);
          _0x3c2b81.push(_0x1f2072);
          _0x280b9a = new Cesium__namespace.Cartesian3(_0x3772c3.attributes.position.values[_0x117dbc * 3], _0x3772c3.attributes.position.values[_0x117dbc * 3 + 1], _0x3772c3.attributes.position.values[_0x117dbc * 3 + 2]);
          _0x3c2b81.push(_0x280b9a);
        }
        let _0x155bca = 0;
        let _0x205600 = 9999;
        const _0x3f60cf = _0x5e6def.onlyPoint ?? false;
        function _0x341005(_0xf96035, _0x16c9aa) {
          let _0x5c0ac0;
          let _0x5d56f4;
          let _0x5cbd03;
          let _0x334552;
          if (_0x16c9aa) {
            delete _0x5e6def.callback;
            _0x5c0ac0 = getHeight(_0x343653, _0xf96035, _0x5e6def);
            _0x334552 = Cesium__namespace.Cartographic.fromCartesian(_0xf96035);
            _0x5d56f4 = Cesium__namespace.Cartesian3.fromRadians(_0x334552.longitude, _0x334552.latitude, 0);
            _0x5cbd03 = Cesium__namespace.Cartesian3.fromRadians(_0x334552.longitude, _0x334552.latitude, _0x5c0ac0);
          } else {
            _0x334552 = Cesium__namespace.Cartographic.fromCartesian(_0xf96035);
            _0x5c0ac0 = _0x334552.height;
            _0x5d56f4 = Cesium__namespace.Cartesian3.fromRadians(_0x334552.longitude, _0x334552.latitude, 0);
            _0x5cbd03 = _0xf96035;
          }
          if (_0x155bca < _0x5c0ac0) {
            _0x155bca = _0x5c0ac0;
          }
          if (_0x205600 > _0x5c0ac0) {
            _0x205600 = _0x5c0ac0;
          }
          const _0x5dbe52 = {
            height: _0x5c0ac0,
            point: _0x5d56f4,
            pointDM: _0x5cbd03
          };
          return _0x5dbe52;
        }
        function _0x2357e7(_0x413f7c) {
          const _0x2a2ee6 = [];
          let _0x5bf71f;
          let _0x24f9b0;
          let _0x5a6cef;
          for (let _0x560d2a = 0; _0x560d2a < _0x413f7c.positions.length; _0x560d2a += 3) {
            _0x5bf71f = _0x341005(_0x413f7c.positions[_0x560d2a], _0x413f7c.noHeight);
            _0x24f9b0 = _0x341005(_0x413f7c.positions[_0x560d2a + 1], _0x413f7c.noHeight);
            _0x5a6cef = _0x341005(_0x413f7c.positions[_0x560d2a + 2], _0x413f7c.noHeight);
            if (_0x3f60cf) {
              addPointFoyArrOnly(_0x2a2ee6, _0x5bf71f);
              addPointFoyArrOnly(_0x2a2ee6, _0x24f9b0);
              addPointFoyArrOnly(_0x2a2ee6, _0x5a6cef);
            } else {
              const _0x501b89 = {
                point1: _0x5bf71f,
                point2: _0x24f9b0,
                point3: _0x5a6cef
              };
              _0x2a2ee6.push(_0x501b89);
            }
          }
          if (Cesium__namespace.defined(_0x5e6def.minHeight)) {
            _0x205600 = Math.max(_0x5e6def.minHeight, _0x205600);
            _0x155bca = Math.max(_0x155bca, _0x205600);
          }
          _0x413f7c.granularity = _0x56f4b9;
          _0x413f7c.maxHeight = _0x155bca;
          _0x413f7c.minHeight = _0x205600;
          _0x413f7c.list = _0x2a2ee6;
          _0x248a29(_0x413f7c);
        }
        if (_0x5e6def.exact) {
          const _0x5a0cff = {
            scene: _0x343653,
            positions: _0x3c2b81,
            has3dtiles: _0x5e6def.has3dtiles,
            exact: _0x5e6def.exact
          };
          computeSurfacePoints(_0x5a0cff).then(_0x2357e7);
        } else {
          const _0x4b3b45 = {
            positions: _0x3c2b81,
            noHeight: true,
            has3dtiles: _0x5e6def.has3dtiles,
            hasTerrain: _0x5e6def.hasTerrain
          };
          _0x2357e7(_0x4b3b45);
        }
      }, 50);
    });
  }
  function addPointFoyArrOnly(_0x56641b, _0x1ba31c) {
    let _0x2acd2c = false;
    const _0x29dd91 = _0x1ba31c.point;
    for (let _0x477a51 = 0; _0x477a51 < _0x56641b.length; _0x477a51++) {
      const _0x48273c = _0x56641b[_0x477a51].point;
      if (_0x29dd91.x === _0x48273c.x && _0x29dd91.y === _0x48273c.y && _0x29dd91.z === _0x48273c.z) {
        _0x2acd2c = true;
        break;
      }
    }
    if (!_0x2acd2c) {
      _0x56641b.push(_0x1ba31c);
    }
  }
  function getHeightRange(_0x47509c, _0x101d30, _0x25ef28) {
    const _0x2b1c18 = {
      positions: _0x47509c,
      scene: _0x101d30,
      ..._0x25ef28
    };
    return interPolygon(_0x2b1c18);
  }
  function getTriangleArea$1(_0x3a3c42, _0x3bdb13, _0x5ab827) {
    const _0x137d41 = Cesium__namespace.Cartesian3.distance(_0x3a3c42, _0x3bdb13);
    const _0x205bb3 = Cesium__namespace.Cartesian3.distance(_0x3bdb13, _0x5ab827);
    const _0x458a6f = Cesium__namespace.Cartesian3.distance(_0x5ab827, _0x3a3c42);
    const _0x2086ba = (_0x137d41 + _0x205bb3 + _0x458a6f) / 2;
    return Math.sqrt(_0x2086ba * (_0x2086ba - _0x137d41) * (_0x2086ba - _0x205bb3) * (_0x2086ba - _0x458a6f));
  }
  function computeVolume(_0x2e3921) {
    return interPolygon(_0x2e3921).then(_0x398f91 => {
      return updateVolumeByMinHeight(_0x398f91);
    });
  }
  function updateVolumeByMinHeight(_0x189e77) {
    const _0x2808cf = _0x189e77.minHeight;
    let _0x4e19af = 0;
    let _0x586f68 = 0;
    for (let _0x1f3521 = 0, _0x5f0020 = _0x189e77.list.length; _0x1f3521 < _0x5f0020; _0x1f3521++) {
      const _0x587374 = _0x189e77.list[_0x1f3521];
      const _0x172515 = _0x587374.point1;
      const _0x412cb6 = _0x587374.point2;
      const _0x2f16ca = _0x587374.point3;
      const _0x5d1592 = getTriangleArea$1(_0x172515.point, _0x412cb6.point, _0x2f16ca.point);
      _0x587374.area = _0x5d1592;
      _0x4e19af += _0x5d1592;
      let _0x5db2ef = _0x172515.height;
      let _0x472e79 = _0x412cb6.height;
      let _0x33d8f1 = _0x2f16ca.height;
      if (_0x5db2ef < _0x2808cf) {
        _0x5db2ef = _0x2808cf;
      }
      if (_0x472e79 < _0x2808cf) {
        _0x472e79 = _0x2808cf;
      }
      if (_0x33d8f1 < _0x2808cf) {
        _0x33d8f1 = _0x2808cf;
      }
      const _0x8efe7d = _0x5d1592 * (_0x5db2ef - _0x2808cf + _0x472e79 - _0x2808cf + _0x33d8f1 - _0x2808cf) / 3;
      _0x587374.cutVolume = _0x8efe7d;
      _0x586f68 = _0x586f68 + _0x8efe7d;
    }
    _0x189e77.totalArea = _0x4e19af;
    _0x189e77.totalVolume = _0x586f68;
    return _0x189e77;
  }
  function updateVolume(_0x186c58, _0x2b06f0) {
    if (!_0x186c58) {
      return;
    }
    const _0xab1d0 = _0x186c58.minHeight;
    const _0x598ef5 = _0x186c58.totalVolume;
    if (_0x2b06f0 <= _0xab1d0) {
      _0x186c58.fillVolume = 0;
      _0x186c58.digVolume = _0x598ef5;
      return _0x186c58;
    }
    let _0x36bb60 = 0;
    let _0x335a2c = 0;
    for (let _0x4e34e0 = 0, _0x35d34b = _0x186c58.list.length; _0x4e34e0 < _0x35d34b; _0x4e34e0++) {
      const _0x329715 = _0x186c58.list[_0x4e34e0];
      _0x36bb60 += _0x329715.area * (_0x2b06f0 - _0xab1d0);
      const _0x5735b7 = _0x329715.point1;
      const _0x5dcc83 = _0x329715.point2;
      const _0x23edf4 = _0x329715.point3;
      let _0x431ad3 = _0x5735b7.height;
      let _0x433a88 = _0x5dcc83.height;
      let _0x21e52f = _0x23edf4.height;
      if (_0x431ad3 < _0x2b06f0) {
        _0x431ad3 = _0x2b06f0;
      }
      if (_0x433a88 < _0x2b06f0) {
        _0x433a88 = _0x2b06f0;
      }
      if (_0x21e52f < _0x2b06f0) {
        _0x21e52f = _0x2b06f0;
      }
      _0x335a2c += _0x329715.area * (_0x431ad3 - _0x2b06f0 + _0x433a88 - _0x2b06f0 + _0x21e52f - _0x2b06f0) / 3;
    }
    _0x186c58.digVolume = _0x335a2c;
    _0x186c58.fillVolume = _0x36bb60 - (_0x598ef5 - _0x335a2c);
    return _0x186c58;
  }
  function getEllipseOuterPositions(_0x732f4a) {
    let _0x307f5 = _0x732f4a.position;
    if (!_0x307f5) {
      return null;
    }
    _0x307f5 = LngLatPoint.toCartesian(_0x307f5);
    const _0x190d66 = _0x732f4a.semiMajorAxis ?? _0x732f4a.radius;
    const _0x2954a8 = _0x732f4a.semiMinorAxis ?? _0x732f4a.radius;
    if (!_0x190d66 || !_0x2954a8) {
      return [_0x307f5, _0x307f5, _0x307f5];
    }
    const _0x52e39c = _0x732f4a.rotation ?? 0;
    let _0x4d1c9e = _0x732f4a.granularity || Cesium__namespace.Math.RADIANS_PER_DEGREE;
    if (_0x732f4a.count) {
      _0x4d1c9e = Math.PI / (_0x732f4a.count * 16);
    }
    const _0x284372 = {
      center: _0x307f5,
      semiMajorAxis: _0x190d66,
      semiMinorAxis: _0x2954a8,
      rotation: _0x52e39c,
      granularity: _0x4d1c9e
    };
    const _0x12348e = Cesium__namespace.EllipseGeometryLibrary.computeEllipsePositions(_0x284372, true, true);
    const _0x2c8ce4 = _0x12348e.outerPositions;
    const _0x4ab55a = [];
    for (let _0x3173cb = 0, _0x190e6c = _0x2c8ce4.length; _0x3173cb < _0x190e6c; _0x3173cb += 3) {
      const _0x14b8be = new Cesium__namespace.Cartesian3(_0x2c8ce4[_0x3173cb], _0x2c8ce4[_0x3173cb + 1], _0x2c8ce4[_0x3173cb + 2]);
      _0x4ab55a.push(_0x14b8be);
    }
    return _0x4ab55a;
  }
  function getCenter(_0x14bd64, _0xb5017d) {
    let _0x2677cc;
    try {
      const _0x2b658b = _0x14bd64.canvas;
      const _0x5cfa12 = new Cesium__namespace.Cartesian2(_0x2b658b.clientWidth / 2, _0x2b658b.clientHeight / 2);
      const _0x3908b7 = _0x14bd64.camera.getPickRay(_0x5cfa12);
      _0x2677cc = _0x14bd64.globe.pick(_0x3908b7, _0x14bd64);
      if (!_0x2677cc) {
        _0x2677cc = _0x14bd64.camera.pickEllipsoid(_0x5cfa12);
      }
      if (!_0x2677cc) {
        const _0x2a4d47 = _0x2b658b.clientHeight / 100;
        let _0x37ff8c;
        let _0x54e78f;
        for (let _0x4cfc8a = 0; _0x4cfc8a <= 100; _0x4cfc8a++) {
          _0x5cfa12.y = _0x2a4d47 * _0x4cfc8a;
          const _0x5082eb = _0x14bd64.camera.pickEllipsoid(_0x5cfa12, _0x14bd64.globe.ellipsoid);
          if (_0x5082eb) {
            _0x37ff8c = _0x4cfc8a;
            break;
          }
        }
        for (let _0x4fba4c = 100; _0x4fba4c > 0; _0x4fba4c--) {
          _0x5cfa12.y = _0x2a4d47 * _0x4fba4c;
          const _0x57bff2 = _0x14bd64.camera.pickEllipsoid(_0x5cfa12, _0x14bd64.globe.ellipsoid);
          if (_0x57bff2) {
            _0x54e78f = _0x4fba4c;
            break;
          }
        }
        _0x5cfa12.y = Math.floor(_0x2a4d47 * (_0x37ff8c + (_0x54e78f - _0x37ff8c) / 2));
        _0x2677cc = _0x14bd64.camera.pickEllipsoid(_0x5cfa12, _0x14bd64.globe.ellipsoid);
      }
      if (_0x2677cc) {
        if (!_0xb5017d) {
          _0x2677cc = LngLatPoint.fromCartesian(_0x2677cc);
        }
      }
    } catch (_0x2fc0ea) {}
    return _0x2677cc;
  }
  function getMapExtentPositions(_0x4e0d34) {
    const _0x3577c7 = _0x4e0d34.globe.ellipsoid;
    const _0x123500 = _0x4e0d34.canvas;
    const _0x12004b = _0x123500.clientWidth / 2;
    const _0x2be042 = _0x123500.clientHeight / 2;
    const _0xbada90 = _0x123500.clientWidth / 100;
    const _0x160f5a = _0x123500.clientWidth / 100;
    const _0x492dc8 = new Cesium__namespace.Cartesian2(_0x12004b, _0x2be042);
    let _0x13076a;
    let _0xdfe1be;
    let _0x456d40;
    let _0x25499d;
    let _0x2f55ad = 0;
    let _0x5e8e8b = 100;
    _0x492dc8.x = _0x12004b;
    for (let _0x4f9e10 = 0; _0x4f9e10 < 100; _0x4f9e10++) {
      _0x492dc8.y = _0x160f5a * _0x4f9e10;
      const _0x423c34 = _0x4e0d34.camera.pickEllipsoid(_0x492dc8, _0x3577c7);
      if (_0x423c34) {
        _0x2f55ad = _0x4f9e10;
        _0xdfe1be = _0x423c34;
        break;
      }
    }
    for (let _0x1d435b = 100; _0x1d435b > 0; _0x1d435b--) {
      _0x492dc8.y = _0x160f5a * _0x1d435b;
      const _0x191035 = _0x4e0d34.camera.pickEllipsoid(_0x492dc8, _0x3577c7);
      if (_0x191035) {
        _0x5e8e8b = _0x1d435b;
        _0x25499d = _0x191035;
        break;
      }
    }
    let _0x332d65 = 0;
    let _0x43592d = 100;
    _0x492dc8.y = _0x160f5a * (_0x5e8e8b - _0x2f55ad) / 2;
    for (let _0x1bddc3 = 0; _0x1bddc3 < 100; _0x1bddc3++) {
      _0x492dc8.x = _0xbada90 * _0x1bddc3;
      const _0x519967 = _0x4e0d34.camera.pickEllipsoid(_0x492dc8, _0x3577c7);
      if (_0x519967) {
        _0x332d65 = _0x1bddc3;
        _0x13076a = _0x519967;
        break;
      }
    }
    for (let _0x1bf493 = 100; _0x1bf493 > 0; _0x1bf493--) {
      _0x492dc8.x = _0xbada90 * _0x1bf493;
      const _0x4258c8 = _0x4e0d34.camera.pickEllipsoid(_0x492dc8, _0x3577c7);
      if (_0x4258c8) {
        _0x43592d = _0x1bf493;
        _0x456d40 = _0x4258c8;
        break;
      }
    }
    let _0x57b48f;
    let _0x2a240c;
    let _0x607fa8;
    let _0x2afd56;
    _0x492dc8.x = _0xbada90 * _0x332d65;
    for (let _0xcc8c41 = _0x2f55ad; _0xcc8c41 < _0x5e8e8b; _0xcc8c41++) {
      _0x492dc8.y = _0x160f5a * _0xcc8c41;
      const _0x194af6 = _0x4e0d34.camera.pickEllipsoid(_0x492dc8, _0x3577c7);
      if (_0x194af6) {
        _0x57b48f = _0x194af6;
        break;
      }
    }
    for (let _0x3262bd = _0x5e8e8b; _0x3262bd > _0x2f55ad; _0x3262bd--) {
      _0x492dc8.y = _0x160f5a * _0x3262bd;
      const _0x465652 = _0x4e0d34.camera.pickEllipsoid(_0x492dc8, _0x3577c7);
      if (_0x465652) {
        _0x2afd56 = _0x465652;
        break;
      }
    }
    _0x492dc8.x = _0xbada90 * _0x43592d;
    for (let _0x149d92 = _0x2f55ad; _0x149d92 < _0x5e8e8b; _0x149d92++) {
      _0x492dc8.y = _0x160f5a * _0x149d92;
      const _0x15369e = _0x4e0d34.camera.pickEllipsoid(_0x492dc8, _0x3577c7);
      if (_0x15369e) {
        _0x2a240c = _0x15369e;
        break;
      }
    }
    for (let _0x3e636e = _0x5e8e8b; _0x3e636e > _0x2f55ad; _0x3e636e--) {
      _0x492dc8.y = _0x160f5a * _0x3e636e;
      const _0x52eb95 = _0x4e0d34.camera.pickEllipsoid(_0x492dc8, _0x3577c7);
      if (_0x52eb95) {
        _0x607fa8 = _0x52eb95;
        break;
      }
    }
    const _0x5c26aa = [];
    if (_0x2a240c && _0x607fa8 && _0x2afd56 && _0x57b48f) {
      _0x5c26aa.push(_0x2a240c);
      _0x5c26aa.push(_0x607fa8);
      _0x5c26aa.push(_0x2afd56);
      _0x5c26aa.push(_0x57b48f);
    } else {
      if (_0xdfe1be) {
        _0x5c26aa.push(_0xdfe1be);
      }
      if (_0x2a240c) {
        _0x5c26aa.push(_0x2a240c);
      }
      if (_0x456d40) {
        _0x5c26aa.push(_0x456d40);
      }
      if (_0x607fa8) {
        _0x5c26aa.push(_0x607fa8);
      }
      if (_0x25499d) {
        _0x5c26aa.push(_0x25499d);
      }
      if (_0x2afd56) {
        _0x5c26aa.push(_0x2afd56);
      }
      if (_0x13076a) {
        _0x5c26aa.push(_0x13076a);
      }
      if (_0x57b48f) {
        _0x5c26aa.push(_0x57b48f);
      }
    }
    return _0x5c26aa;
  }
  function formatRectangle(_0x525165, _0x50128e = LngLatPoint.FormatLength) {
    let _0x450f7f = formatNum$2(Cesium__namespace.Math.toDegrees(_0x525165.west), _0x50128e);
    let _0x305911 = formatNum$2(Cesium__namespace.Math.toDegrees(_0x525165.east), _0x50128e);
    let _0x2c597a = formatNum$2(Cesium__namespace.Math.toDegrees(_0x525165.north), _0x50128e);
    let _0x31b010 = formatNum$2(Cesium__namespace.Math.toDegrees(_0x525165.south), _0x50128e);
    if (_0x450f7f > _0x305911) {
      const _0x151f9d = _0x450f7f;
      _0x450f7f = _0x305911;
      _0x305911 = _0x151f9d;
    }
    if (_0x31b010 > _0x2c597a) {
      const _0x346f61 = _0x31b010;
      _0x31b010 = _0x2c597a;
      _0x2c597a = _0x346f61;
    }
    const _0x4b9144 = {
      xmin: _0x450f7f,
      xmax: _0x305911,
      ymin: _0x31b010,
      ymax: _0x2c597a,
      height: _0x525165.maxHeight
    };
    return _0x4b9144;
  }
  function formatNum$2(_0x217fb3, _0x474a9a = 0) {
    const _0x5e878e = Math.pow(10, _0x474a9a);
    return Math.round(_0x217fb3 * _0x5e878e) / _0x5e878e;
  }
  function getExtentByGeoJSON(_0x344c81) {
    const _0x4bf914 = bbox(_0x344c81);
    if (_0x4bf914 && _0x4bf914.length === 4) {
      const _0x126605 = {
        xmin: _0x4bf914[0],
        ymin: _0x4bf914[1],
        xmax: _0x4bf914[2],
        ymax: _0x4bf914[3]
      };
      return _0x126605;
    }
    return null;
  }
  function getRectangle(_0x39b227, _0x48d783) {
    if (!_0x39b227) {
      return null;
    }
    for (let _0x55d53 = _0x39b227.length - 1; _0x55d53 >= 0; _0x55d53--) {
      if (!Cesium__namespace.defined(_0x39b227[_0x55d53])) {
        _0x39b227.splice(_0x55d53, 1);
      }
    }
    if (_0x39b227.length === 0) {
      return null;
    }
    const _0x1c075c = LngLatArray.toCartographics(_0x39b227);
    const _0x455a7e = _0x1c075c[0];
    if (!_0x455a7e) {
      return;
    }
    let _0x12ac48 = _0x455a7e.longitude;
    let _0x18e5d3 = _0x455a7e.longitude;
    let _0x15bcad = _0x455a7e.latitude;
    let _0x5acb97 = _0x455a7e.latitude;
    let _0x439f23 = _0x455a7e.height;
    _0x1c075c.forEach(_0xa6141a => {
      _0x12ac48 = Math.min(_0x12ac48, _0xa6141a.longitude);
      _0x18e5d3 = Math.max(_0x18e5d3, _0xa6141a.longitude);
      _0x15bcad = Math.min(_0x15bcad, _0xa6141a.latitude);
      _0x5acb97 = Math.max(_0x5acb97, _0xa6141a.latitude);
      _0x439f23 = Math.max(_0x439f23, _0xa6141a.height);
    });
    if (_0x48d783) {
      return {
        xmin: Cesium__namespace.Math.toDegrees(_0x12ac48),
        xmax: Cesium__namespace.Math.toDegrees(_0x18e5d3),
        ymin: Cesium__namespace.Math.toDegrees(_0x15bcad),
        ymax: Cesium__namespace.Math.toDegrees(_0x5acb97),
        height: _0x439f23
      };
    } else {
      const _0x40151b = Cesium__namespace.Rectangle.fromRadians(_0x12ac48, _0x15bcad, _0x18e5d3, _0x5acb97);
      _0x40151b.maxHeight = _0x439f23;
      return _0x40151b;
    }
  }
  function getPositionsRectVertex(_0x1114d1, _0x512df8 = 0) {
    _0x1114d1 = LngLatArray.toCartesians(_0x1114d1);
    const _0x4f17ed = Cesium__namespace.Rectangle.fromCartesianArray(_0x1114d1);
    const _0x505a25 = getMaxHeight(_0x1114d1);
    const _0x1f964c = {
      rectangle: _0x4f17ed,
      rotation: _0x512df8,
      height: _0x505a25
    };
    const _0x4faf91 = getRectangleOuterPositions(_0x1f964c);
    return _0x4faf91;
  }
  function getRectangleOuterPositions(_0x1c0a48) {
    const _0x882b36 = _0x1c0a48.rectangle;
    if (!_0x882b36) {
      return;
    }
    const _0x18c181 = _0x1c0a48.rotation ?? 0;
    const _0x2410aa = _0x1c0a48.height ?? 0;
    if (_0x18c181 === 0) {
      return [Cesium__namespace.Cartesian3.fromRadians(_0x882b36.west, _0x882b36.south, _0x2410aa), Cesium__namespace.Cartesian3.fromRadians(_0x882b36.east, _0x882b36.south, _0x2410aa), Cesium__namespace.Cartesian3.fromRadians(_0x882b36.east, _0x882b36.north, _0x2410aa), Cesium__namespace.Cartesian3.fromRadians(_0x882b36.west, _0x882b36.north, _0x2410aa)];
    }
    const _0xc85045 = _0x1c0a48.granularity ?? Cesium__namespace.Math.RADIANS_PER_DEGREE;
    const _0x1d3858 = new Cesium__namespace.Rectangle();
    const _0x2a9987 = new Cesium__namespace.Cartographic();
    const _0xfa1aa9 = Cesium__namespace.RectangleGeometryLibrary.computeOptions(_0x882b36, _0xc85045, _0x18c181, 0, _0x1d3858, _0x2a9987);
    const _0x50ee15 = _0xfa1aa9.height;
    const _0x373a46 = _0xfa1aa9.width;
    const _0x20f568 = _0x1c0a48.ellipsoid ?? Cesium__namespace.Ellipsoid.WGS84;
    let _0x40f447 = [new Cesium__namespace.Cartesian3(), new Cesium__namespace.Cartesian3(), new Cesium__namespace.Cartesian3(), new Cesium__namespace.Cartesian3()];
    Cesium__namespace.RectangleGeometryLibrary.computePosition(_0xfa1aa9, _0x20f568, false, 0, 0, _0x40f447[0]);
    Cesium__namespace.RectangleGeometryLibrary.computePosition(_0xfa1aa9, _0x20f568, false, 0, _0x373a46 - 1, _0x40f447[1]);
    Cesium__namespace.RectangleGeometryLibrary.computePosition(_0xfa1aa9, _0x20f568, false, _0x50ee15 - 1, _0x373a46 - 1, _0x40f447[2]);
    Cesium__namespace.RectangleGeometryLibrary.computePosition(_0xfa1aa9, _0x20f568, false, _0x50ee15 - 1, 0, _0x40f447[3]);
    if (_0x2410aa !== 0) {
      _0x40f447 = setPositionsHeight(_0x40f447, _0x2410aa);
    }
    return _0x40f447;
  }
  function getRectPositionsByCenter(_0x2f68f5) {
    const _0x2ada5d = LngLatPoint.toCartesian(_0x2f68f5.center);
    const _0x419230 = _0x2f68f5.width;
    const _0x23d138 = _0x2f68f5.height;
    const _0x9deca2 = _0x2f68f5.rotation ?? 0;
    const _0xa7ab6d = _0x2f68f5.originX ?? 0.5;
    const _0x551304 = _0x2f68f5.originY ?? 0.5;
    const _0x540557 = new Cesium__namespace.Matrix4();
    const _0x48ddcb = new Cesium__namespace.Quaternion();
    const _0x3df831 = new Cesium__namespace.Matrix4();
    const _0x4e4db0 = [Cesium__namespace.Cartesian3.fromElements(-_0xa7ab6d, -_0x551304, 0), Cesium__namespace.Cartesian3.fromElements(1 - _0xa7ab6d, -_0x551304, 0), Cesium__namespace.Cartesian3.fromElements(1 - _0xa7ab6d, 1 - _0x551304, 0), Cesium__namespace.Cartesian3.fromElements(-_0xa7ab6d, 1 - _0x551304, 0)];
    const _0x4cfae5 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x2ada5d, Cesium__namespace.Ellipsoid.WGS84, _0x540557);
    const _0x22e96d = Cesium__namespace.Quaternion.fromAxisAngle(Cesium__namespace.Cartesian3.UNIT_Z, _0x9deca2, _0x48ddcb);
    const _0x6ac165 = Cesium__namespace.Matrix4.fromTranslationQuaternionRotationScale;
    const _0x5f5606 = _0x6ac165(Cesium__namespace.Cartesian3.ZERO, _0x22e96d, Cesium__namespace.Cartesian3.fromElements(_0x419230, _0x23d138), _0x3df831);
    const _0x2d1c85 = Cesium__namespace.Matrix4.multiply(_0x4cfae5, _0x5f5606, _0x5f5606);
    const _0x262638 = [];
    _0x4e4db0.forEach(function (_0x53297c, _0xaca5d9) {
      if (typeof _0x262638[_0xaca5d9] === "undefined") {
        _0x262638[_0xaca5d9] = new Cesium__namespace.Cartesian3();
      }
      Cesium__namespace.Matrix4.multiplyByPoint(_0x2d1c85, _0x53297c, _0x262638[_0xaca5d9]);
    });
    return _0x262638;
  }
  function isInPoly(_0x201bac, _0x2ab8d1) {
    const _0x4789f5 = {
      type: "Feature",
      geometry: {
        type: "Point",
        coordinates: LngLatPoint.parse(_0x201bac).toArray()
      }
    };
    const _0x5759df = LngLatArray.toGeoJSONPolygonGeometry(_0x2ab8d1);
    return booleanPointInPolygon(_0x4789f5, _0x5759df);
  }
  function isInPoly2(_0x5d2227, _0x2c212b) {
    _0x2c212b = LngLatArray.toCartesians(_0x2c212b);
    _0x5d2227 = LngLatPoint.toCartesian(_0x5d2227);
    if (!_0x5d2227) {
      return false;
    }
    const _0x591627 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x5d2227);
    const _0x4b895e = Cesium__namespace.Matrix4.inverse(_0x591627, new Cesium__namespace.Matrix4());
    const _0x5782ba = [];
    _0x2c212b.forEach(_0x6d4a65 => {
      _0x5782ba.push(Cesium__namespace.Matrix4.multiplyByPoint(_0x4b895e, _0x6d4a65, new Cesium__namespace.Cartesian3()));
    });
    let _0x282523 = Cesium__namespace.BoundingRectangle.fromPoints(_0x5782ba, new Cesium__namespace.BoundingRectangle());
    _0x282523 = new Cesium__namespace.Cartesian4(_0x282523.x, _0x282523.y, _0x282523.x + _0x282523.width, _0x282523.y + _0x282523.height);
    const _0x5e7987 = new Cesium__namespace.Cartesian3(0, 0, 0);
    if (_0x5e7987.x >= _0x282523.x && _0x5e7987.x <= _0x282523.z && _0x5e7987.y >= _0x282523.y && _0x5e7987.y <= _0x282523.w) {
      const _0xc1c815 = _0x5782ba;
      const _0x4f4c60 = _0xc1c815.length;
      let _0x5ea28e = 0;
      for (let _0x3d386f = 0; _0x3d386f < _0x4f4c60; _0x3d386f++) {
        const _0x9c462f = _0xc1c815[_0x3d386f];
        let _0x321940;
        if (_0x3d386f < _0x4f4c60 - 1) {
          _0x321940 = _0xc1c815[_0x3d386f + 1];
        } else {
          _0x321940 = _0xc1c815[0];
        }
        if (_0x9c462f.y === _0x321940.y) {
          continue;
        }
        if (_0x5e7987.y < Math.min(_0x9c462f.y, _0x321940.y)) {
          continue;
        }
        if (_0x5e7987.y >= Math.max(_0x9c462f.y, _0x321940.y)) {
          continue;
        }
        const _0xde04d2 = (_0x5e7987.y - _0x9c462f.y) * (_0x321940.x - _0x9c462f.x) / (_0x321940.y - _0x9c462f.y) + _0x9c462f.x;
        if (_0xde04d2 > _0x5e7987.x) {
          _0x5ea28e++;
        }
      }
      if (_0x5ea28e % 2 === 1) {
        return true;
      }
    }
    return false;
  }
  function getBezierCurve(_0x25831f, _0x1945cd) {
    if (!_0x25831f || _0x25831f.length < 3) {
      return _0x25831f;
    }
    const _0x4cba53 = LngLatArray.toArray(_0x25831f);
    if (_0x1945cd !== null && _0x1945cd !== undefined && _0x1945cd.closure) {
      _0x4cba53.push(_0x4cba53[0]);
    }
    const _0x4fca9a = _0x4cba53[_0x4cba53.length - 1][2];
    const _0x46ceb5 = {
      type: "LineString",
      coordinates: _0x4cba53
    };
    const _0x44bd28 = {
      type: "Feature",
      geometry: _0x46ceb5
    };
    const _0xe09075 = {
      resolution: _0x1945cd?.resolution ?? 20000,
      sharpness: _0x1945cd?.sharpness ?? 0.8
    };
    const _0x3c0e91 = bezierSpline(_0x44bd28, _0xe09075);
    const _0x2f2aa9 = lonlats2cartesians(_0x3c0e91.geometry.coordinates, _0x4fca9a);
    if (_0x1945cd !== null && _0x1945cd !== undefined && _0x1945cd.closure) {
      _0x2f2aa9.push(_0x2f2aa9[0]);
    }
    return _0x2f2aa9;
  }
  function simplifyPositions(_0x15fcee, _0x1bb2ef) {
    if (!_0x15fcee || _0x15fcee.length < 3) {
      return _0x15fcee;
    }
    const _0x2e4a12 = LngLatArray.toArray(_0x15fcee);
    if (_0x1bb2ef !== null && _0x1bb2ef !== undefined && _0x1bb2ef.closure) {
      _0x2e4a12.push(_0x2e4a12[0]);
    }
    const _0x196927 = simplify(_0x2e4a12, _0x1bb2ef);
    return _0x196927;
  }
  function interPolyline(_0x1f0d2a) {
    const _0x31f142 = LngLatArray.toCartesians(_0x1f0d2a.positions);
    const _0x3eb8af = _0x1f0d2a.scene;
    let _0xe22448;
    if (!Cesium__namespace.defined(_0x1f0d2a.minDistance)) {
      _0xe22448 = getGranularity(_0x31f142, _0x1f0d2a.splitNum || (_0x1f0d2a.has3dtiles ? 10 : 100));
      if (_0xe22448 <= 0) {
        _0xe22448 = null;
      }
    }
    const _0x1f4c45 = {
      positions: _0x31f142,
      height: _0x1f0d2a.height,
      minDistance: _0x1f0d2a.minDistance,
      granularity: _0xe22448
    };
    const _0xfb84ef = Cesium__namespace.PolylinePipeline.generateArc(_0x1f4c45);
    const _0x5a5224 = [];
    for (let _0x13f032 = 0; _0x13f032 < _0xfb84ef.length; _0x13f032 += 3) {
      let _0x5dc123 = Cesium__namespace.Cartesian3.unpack(_0xfb84ef, _0x13f032);
      if (_0x3eb8af && (_0x1f0d2a.surfaceHeight ?? true)) {
        delete _0x1f0d2a.callback;
        const _0x338058 = getHeight(_0x3eb8af, _0x5dc123, _0x1f0d2a);
        const _0x52f729 = Cesium__namespace.Cartographic.fromCartesian(_0x5dc123);
        _0x5dc123 = Cesium__namespace.Cartesian3.fromRadians(_0x52f729.longitude, _0x52f729.latitude, _0x338058);
      }
      _0x5a5224.push(_0x5dc123);
    }
    return _0x5a5224;
  }
  function interLine(_0x3798ea, _0x3fdd06 = {}) {
    if (!_0x3798ea || _0x3798ea.length < 2) {
      return _0x3798ea;
    }
    _0x3798ea = LngLatArray.toCartesians(_0x3798ea);
    let _0xf5da8d;
    if (_0x3fdd06.splitNum && !Cesium__namespace.defined(_0x3fdd06.minDistance)) {
      _0xf5da8d = getGranularity(_0x3798ea, _0x3fdd06.splitNum);
      if (_0xf5da8d <= 0) {
        _0xf5da8d = null;
      }
    }
    if (_0x3fdd06.minDistance === "auto") {
      let _0x338ff8 = Number.MAX_VALUE;
      for (let _0xacada8 = 1, _0x200db5 = _0x3798ea.length; _0xacada8 < _0x200db5; _0xacada8++) {
        _0x338ff8 = Math.min(_0x338ff8, Cesium__namespace.Cartesian3.distance(_0x3798ea[_0xacada8 - 1], _0x3798ea[_0xacada8]));
      }
      _0x3fdd06.minDistance = _0x338ff8;
    }
    const _0x5b7223 = [_0x3798ea[0]];
    for (let _0x3c44fd = 1, _0x16af8e = _0x3798ea.length; _0x3c44fd < _0x16af8e; _0x3c44fd++) {
      const _0x3916f5 = _0x3798ea[_0x3c44fd - 1];
      const _0x245c8a = _0x3798ea[_0x3c44fd];
      const _0x5a6372 = {
        positions: [_0x3916f5, _0x245c8a],
        minDistance: _0x3fdd06.minDistance,
        granularity: _0xf5da8d
      };
      const _0x31aacc = Cesium__namespace.PolylinePipeline.generateArc(_0x5a6372);
      const _0x147d86 = Cesium__namespace.Cartographic.fromCartesian(_0x3916f5).height;
      const _0x412233 = Cesium__namespace.Cartographic.fromCartesian(_0x245c8a).height;
      const _0xf242e = (_0x412233 - _0x147d86) / _0x31aacc.length;
      for (let _0x436bb6 = 3, _0x1e80b5 = _0x31aacc.length; _0x436bb6 < _0x1e80b5; _0x436bb6 += 3) {
        let _0x43c97a = Cesium__namespace.Cartesian3.unpack(_0x31aacc, _0x436bb6);
        const _0x4f1c14 = Cesium__namespace.Cartographic.fromCartesian(_0x43c97a);
        const _0x4f40c8 = Number((_0x147d86 + _0xf242e * _0x436bb6).toFixed(1));
        _0x43c97a = Cesium__namespace.Cartesian3.fromRadians(_0x4f1c14.longitude, _0x4f1c14.latitude, _0x4f40c8);
        _0x5b7223.push(_0x43c97a);
      }
    }
    return _0x5b7223;
  }
  function computeSurfaceLine(_0x234fe9) {
    const _0x3ecd66 = {
      ..._0x234fe9
    };
    _0x3ecd66.surfaceHeight = false;
    const _0x2b0075 = interPolyline(_0x3ecd66);
    const _0x4aeee9 = [];
    for (let _0x3483b1 = 0, _0x50178f = _0x2b0075.length; _0x3483b1 < _0x50178f; ++_0x3483b1) {
      _0x4aeee9.push(_0x2b0075[_0x3483b1].clone());
    }
    _0x234fe9.positions = _0x4aeee9;
    return new SurfacePoints(_0x234fe9).start();
  }
  function computeSurfacePoints(_0x7b8843) {
    return new SurfacePoints(_0x7b8843).start();
  }
  function computeStepSurfaceLine(_0x53d629) {
    const _0x1c4977 = _0x53d629.positions;
    const _0x4391ba = [];
    const _0x4633a8 = {};
    for (const _0x26d555 in _0x53d629) {
      if (_0x26d555 === "positions" || _0x26d555 === "callback" || _0x26d555 === "end" || _0x26d555 === "endItem") {
        continue;
      }
      _0x4633a8[_0x26d555] = _0x53d629[_0x26d555];
    }
    return new Promise((_0x6123a8, _0x349409) => {
      setTimeout(() => {
        let _0x5f39a0 = 0;
        const _0x4f086c = _0x1c4977.length - 1;
        function _0x3081c4() {
          if (_0x5f39a0 >= _0x4f086c) {
            if (_0x53d629.callback) {
              _0x53d629.callback(_0x4391ba);
            }
            if (_0x53d629.end) {
              _0x53d629.end(_0x4391ba);
            }
            _0x6123a8(_0x4391ba);
            return;
          }
          if (_0x53d629.depth) {
            const _0x111cfd = {
              ..._0x53d629
            };
            _0x111cfd.positions = [_0x1c4977[_0x5f39a0], _0x1c4977[_0x5f39a0 + 1]];
            interPolylineByDepth(_0x111cfd).then(_0x407716 => {
              if (_0x53d629.endItem) {
                _0x53d629.endItem(_0x407716.positions, _0x407716.noHeight, _0x5f39a0);
              }
              _0x4391ba.push(_0x407716.positions);
              _0x5f39a0++;
              _0x3081c4();
            });
          } else {
            const _0x479dcc = {
              ..._0x53d629
            };
            _0x479dcc.positions = [_0x1c4977[_0x5f39a0], _0x1c4977[_0x5f39a0 + 1]];
            _0x479dcc.surfaceHeight = false;
            _0x4633a8.positions = interPolyline(_0x479dcc);
            new SurfacePoints(_0x4633a8).start().then(_0x4c6685 => {
              if (_0x53d629.endItem) {
                _0x53d629.endItem(_0x4c6685.positions, _0x4c6685.noHeight, _0x5f39a0);
              }
              _0x4391ba.push(_0x4c6685.positions);
              _0x5f39a0++;
              _0x3081c4();
            });
          }
        }
        _0x3081c4();
      }, 50);
    });
  }
  function getLinkedPointList(_0x2c5a03, _0x448ecf, _0x148362, _0x13b5b2) {
    const _0x2b80a4 = [];
    _0x2c5a03 = LngLatPoint.toCartesian(_0x2c5a03);
    _0x448ecf = LngLatPoint.toCartesian(_0x448ecf);
    if (Cesium__namespace.Cartesian3.distance(_0x2c5a03, _0x448ecf) === 0) {
      return _0x2b80a4;
    }
    const _0x55e52d = getSurfaceDistance$1(_0x2c5a03, _0x448ecf) * _0x148362;
    const _0x484c27 = Cesium__namespace.Cartesian3.clone(_0x2c5a03);
    const _0x16938d = Cesium__namespace.Cartesian3.clone(_0x448ecf);
    const _0x141fdb = Cesium__namespace.Cartesian3.distance(_0x484c27, Cesium__namespace.Cartesian3.ZERO);
    const _0x1865f6 = Cesium__namespace.Cartesian3.distance(_0x16938d, Cesium__namespace.Cartesian3.ZERO);
    Cesium__namespace.Cartesian3.normalize(_0x484c27, _0x484c27);
    Cesium__namespace.Cartesian3.normalize(_0x16938d, _0x16938d);
    const _0x8843bf = Cesium__namespace.Cartesian3.angleBetween(_0x484c27, _0x16938d);
    _0x2b80a4.push(_0x2c5a03);
    for (let _0x6dfca3 = 1; _0x6dfca3 < _0x13b5b2 - 1; _0x6dfca3++) {
      const _0x4731a4 = _0x6dfca3 * 1 / (_0x13b5b2 - 1);
      const _0x2440b2 = 1 - _0x4731a4;
      const _0x22e895 = Math.sin(_0x2440b2 * _0x8843bf) / Math.sin(_0x8843bf);
      const _0x5c7418 = Math.sin(_0x4731a4 * _0x8843bf) / Math.sin(_0x8843bf);
      const _0x32f723 = Cesium__namespace.Cartesian3.multiplyByScalar(_0x484c27, _0x22e895, new Cesium__namespace.Cartesian3());
      const _0x426ff1 = Cesium__namespace.Cartesian3.multiplyByScalar(_0x16938d, _0x5c7418, new Cesium__namespace.Cartesian3());
      let _0x13c871 = Cesium__namespace.Cartesian3.add(_0x32f723, _0x426ff1, new Cesium__namespace.Cartesian3());
      const _0x564060 = _0x4731a4 * Math.PI;
      const _0x3f786c = _0x141fdb * _0x2440b2 + _0x1865f6 * _0x4731a4 + Math.sin(_0x564060) * _0x55e52d;
      _0x13c871 = Cesium__namespace.Cartesian3.multiplyByScalar(_0x13c871, _0x3f786c, _0x13c871);
      _0x2b80a4.push(_0x13c871);
    }
    _0x2b80a4.push(_0x448ecf);
    return _0x2b80a4;
  }
  function getSurfaceDistance$1(_0x4eb468, _0x48fa36) {
    const _0xd42b42 = Cesium__namespace.Cartographic.fromCartesian(_0x4eb468);
    const _0x1203ec = Cesium__namespace.Cartographic.fromCartesian(_0x48fa36);
    const _0x3e7319 = _0xd42b42.longitude * 180 / Math.PI;
    const _0x3949da = _0xd42b42.latitude * 180 / Math.PI;
    const _0x2052b5 = _0x1203ec.longitude * 180 / Math.PI;
    const _0x33b70e = _0x1203ec.latitude * 180 / Math.PI;
    const _0x954e47 = Math.sqrt((_0x3e7319 - _0x2052b5) * (_0x3e7319 - _0x2052b5) + (_0x3949da - _0x33b70e) * (_0x3949da - _0x33b70e));
    return _0x954e47;
  }
  function getOffsetLine(_0x3436f5, _0x244f4e) {
    _0x3436f5 = LngLatArray.toArray(_0x3436f5);
    const _0x9d3e56 = lineOffset(_0x3436f5, _0x244f4e, {
      units: "meters"
    });
    return LngLatArray.toCartesians(_0x9d3e56);
  }
  function sliceByMaxDistance(_0x30a550, _0x191be8, _0x294dcb = {}) {
    if (!_0x30a550 || _0x30a550.length < 2) {
      if (_0x294dcb.point) {
        if (_0x30a550.length === 1) {
          return _0x30a550[0];
        } else {
          return undefined;
        }
      } else {
        return _0x30a550;
      }
    }
    _0x30a550 = LngLatArray.toCartesians(_0x30a550);
    for (let _0x4deace = _0x30a550.length - 1; _0x4deace >= 1; _0x4deace--) {
      const _0x51a701 = _0x30a550[_0x4deace];
      const _0x574c8a = _0x30a550[_0x4deace - 1];
      const _0x359967 = Cesium__namespace.Cartesian3.distance(_0x51a701, _0x574c8a);
      _0x191be8 -= _0x359967;
      if (_0x191be8 === 0) {
        if (_0x294dcb.point) {
          return _0x51a701;
        } else {
          return _0x30a550.slice(_0x4deace);
        }
      } else if (_0x191be8 < 0) {
        _0x191be8 += _0x359967;
        const _0x1418d2 = getOnLinePointByLen(_0x51a701, _0x574c8a, _0x191be8);
        if (_0x294dcb.point) {
          return _0x1418d2;
        } else {
          return [_0x1418d2].concat(_0x30a550.slice(_0x4deace));
        }
      }
    }
    if (_0x294dcb.point) {
      return _0x30a550[_0x30a550.length - 1];
    } else {
      return _0x30a550;
    }
  }
  function convex(_0x5c236e, _0x31217c) {
    if (_0x5c236e.length > 0) {
      const _0x23fb6f = [];
      for (let _0x2b4083 = 0; _0x2b4083 < _0x5c236e.length; _0x2b4083++) {
        const _0x2f406a = {
          type: "Point",
          coordinates: _0x5c236e[_0x2b4083]
        };
        const _0x56f45d = {
          type: "Feature",
          geometry: _0x2f406a
        };
        _0x23fb6f.push(_0x56f45d);
      }
      const _0xd1a932 = {
        type: "FeatureCollection",
        features: _0x23fb6f
      };
      const _0x4f5903 = convex$1(_0xd1a932, _0x31217c);
      if (_0x4f5903) {
        var _0xa508e1;
        const _0x72488b = _0x4f5903 === null || _0x4f5903 === undefined || (_0xa508e1 = _0x4f5903.geometry) === null || _0xa508e1 === undefined ? undefined : _0xa508e1.coordinates;
        if (_0x72488b && _0x72488b.length > 0) {
          _0x5c236e = _0x72488b[0];
        }
      }
    }
    return _0x5c236e;
  }
  function getGridPoints(_0x191bc7, _0x85d129, _0x1cc385) {
    const _0xedc39a = Cesium__namespace.Cartesian3.distance(Cesium__namespace.Cartesian3.fromDegrees(_0x191bc7[0], _0x191bc7[1]), Cesium__namespace.Cartesian3.fromDegrees(_0x191bc7[2], _0x191bc7[3])) / (Math.sqrt(2) * 1000);
    const _0x1bf642 = _0xedc39a / Math.sqrt(_0x85d129);
    const _0x3ca9a5 = pointGrid(_0x191bc7, _0x1bf642, {
      units: "kilometers"
    });
    const _0x2e0092 = [];
    _0x3ca9a5.features.forEach(_0x5e45f5 => {
      const _0x220bf9 = _0x5e45f5.geometry.coordinates;
      _0x2e0092.push(new LngLatPoint(_0x220bf9[0], _0x220bf9[1], _0x1cc385));
    });
    return {
      points: _0x2e0092,
      radius: Math.floor(_0x1bf642 * 1000 / 2)
    };
  }
  function getGridPointsByPoly(_0x44499e, _0x98801b, _0x170daa) {
    if (_0x44499e.length < 3) {
      return;
    }
    const _0x1aafdf = LngLatArray.toCartographics(_0x44499e);
    const _0x172976 = Cesium__namespace.defined(_0x170daa);
    const _0x408b4c = _0x1aafdf[0];
    let _0x2ff82c = _0x408b4c.longitude;
    let _0x254be7 = _0x408b4c.longitude;
    let _0x5c1d25 = _0x408b4c.latitude;
    let _0x1e4e47 = _0x408b4c.latitude;
    let _0x254438 = _0x172976 ? _0x170daa : _0x408b4c.height;
    const _0xaa66e8 = _0x1aafdf.map(_0x50fb40 => {
      _0x2ff82c = Math.min(_0x2ff82c, _0x50fb40.longitude);
      _0x254be7 = Math.max(_0x254be7, _0x50fb40.longitude);
      _0x5c1d25 = Math.min(_0x5c1d25, _0x50fb40.latitude);
      _0x1e4e47 = Math.max(_0x1e4e47, _0x50fb40.latitude);
      if (!_0x172976) {
        _0x254438 = Math.max(_0x254438, _0x50fb40.height);
      }
      return _0x50fb40;
    });
    const _0x282553 = [];
    const _0x55cf07 = _0x254be7 - _0x2ff82c;
    const _0x44e66a = _0x1e4e47 - _0x5c1d25;
    const _0x3a9ab7 = _0x98801b / distanceCoor([_0x2ff82c, _0x5c1d25], [_0x254be7, _0x5c1d25]);
    const _0x7112e9 = _0x98801b / distanceCoor([_0x2ff82c, _0x5c1d25], [_0x2ff82c, _0x1e4e47]);
    const _0x3934ff = _0x3a9ab7 * _0x55cf07;
    const _0x3363b9 = _0x7112e9 * _0x44e66a;
    const _0x1211f2 = Math.floor(_0x55cf07 / _0x3934ff);
    const _0x2d97ed = Math.floor(_0x44e66a / _0x3363b9);
    const _0x342798 = (_0x55cf07 - _0x1211f2 * _0x3934ff) / 2;
    const _0xe9abf0 = (_0x44e66a - _0x2d97ed * _0x3363b9) / 2;
    let _0x14733d = _0x2ff82c + _0x342798;
    while (_0x14733d <= _0x254be7) {
      let _0x181749 = _0x5c1d25 + _0xe9abf0;
      while (_0x181749 <= _0x1e4e47) {
        if (isInside([_0x14733d, _0x181749], _0xaa66e8)) {
          const _0x404a3e = Cesium__namespace.Math.toDegrees(_0x14733d);
          const _0x2a4c84 = Cesium__namespace.Math.toDegrees(_0x181749);
          _0x282553.push(new LngLatPoint(_0x404a3e, _0x2a4c84, _0x254438));
        }
        _0x181749 += _0x3363b9;
      }
      _0x14733d += _0x3934ff;
    }
    return _0x282553;
  }
  function distanceCoor(_0x78f868, _0x8ab89a) {
    const _0x44a333 = _0x8ab89a[1] - _0x78f868[1];
    const _0xb88cae = _0x8ab89a[0] - _0x78f868[0];
    const _0x5d993c = _0x78f868[1];
    const _0x2ef60d = _0x8ab89a[1];
    const _0x183277 = Math.pow(Math.sin(_0x44a333 / 2), 2) + Math.pow(Math.sin(_0xb88cae / 2), 2) * Math.cos(_0x5d993c) * Math.cos(_0x2ef60d);
    return Math.atan2(Math.sqrt(_0x183277), Math.sqrt(1 - _0x183277)) * 2 * 6371008.8;
  }
  function isInside(_0x4d977b, _0x59c92e) {
    let _0x21ad71 = false;
    const _0x727ed0 = _0x59c92e.length;
    const _0x596d13 = _0x4d977b[0];
    const _0x187348 = _0x4d977b[1];
    let _0x5cd16a = _0x59c92e[0];
    for (let _0x58a1fc = 0; _0x58a1fc < _0x727ed0; _0x58a1fc++) {
      let _0x350c90 = _0x58a1fc + 1;
      _0x350c90 = _0x350c90 === _0x727ed0 ? 0 : _0x350c90;
      const _0x162537 = _0x59c92e[_0x350c90];
      if (_0x5cd16a.longitude === _0x596d13 && _0x5cd16a.latitude === _0x187348 || _0x162537.longitude === _0x596d13 && _0x162537.latitude === _0x187348) {
        return true;
      } else if (_0x5cd16a.latitude < _0x187348 && _0x162537.latitude >= _0x187348 || _0x5cd16a.latitude >= _0x187348 && _0x162537.latitude < _0x187348) {
        const _0x6e215d = _0x5cd16a.longitude + (_0x187348 - _0x5cd16a.latitude) * (_0x162537.longitude - _0x5cd16a.longitude) / (_0x162537.latitude - _0x5cd16a.latitude);
        if (_0x6e215d === _0x596d13) {
          return true;
        } else if (_0x6e215d > _0x596d13) {
          _0x21ad71 = !_0x21ad71;
        }
      }
      _0x5cd16a = _0x162537;
    }
    return _0x21ad71;
  }
  function getHeightRangeByDepth(_0x12f606, _0x39a554, _0x46fbe4) {
    return new Promise((_0x34b454, _0x2be026) => {
      setTimeout(() => {
        const _0x516345 = {
          ..._0x46fbe4
        };
        _0x516345.positions = _0x12f606;
        _0x516345.scene = _0x39a554;
        const _0x505482 = interPolygonByDepth$1(_0x516345);
        setTimeout(() => {
          _0x34b454(_0x505482);
        }, 10);
      }, 10);
    });
  }
  function interPolygonByDepth(_0x2b59cb) {
    return new Promise((_0x2fc1b4, _0x469450) => {
      setTimeout(() => {
        const _0x2ad0a7 = interPolygonByDepth$1(_0x2b59cb);
        setTimeout(() => {
          _0x2fc1b4(_0x2ad0a7);
        }, 10);
      }, 10);
    });
  }
  const getRayIntersectingPositions$1 = getRayIntersectingPositions$2;
  function interPolylineByDepth(_0x2208b8) {
    return new Promise((_0x5c2e30, _0x1e54d4) => {
      setTimeout(() => {
        const _0x423ca8 = interPolylineByDepth$1(_0x2208b8);
        setTimeout(() => {
          _0x5c2e30(_0x423ca8);
        }, 10);
      }, 10);
    });
  }
  const _0x4a9d94 = {
    __proto__: null,
    centerOfMass: centerOfMass,
    centerOfLine: centerOfLine,
    buffer: buffer,
    bufferPoints: bufferPoints,
    movePoints: movePoints,
    getGranularity: getGranularity,
    interPolygon: interPolygon,
    getHeightRange: getHeightRange,
    computeVolume: computeVolume,
    updateVolumeByMinHeight: updateVolumeByMinHeight,
    updateVolume: updateVolume,
    getEllipseOuterPositions: getEllipseOuterPositions,
    getCenter: getCenter,
    getMapExtentPositions: getMapExtentPositions,
    formatRectangle: formatRectangle,
    getExtentByGeoJSON: getExtentByGeoJSON,
    getRectangle: getRectangle,
    getPositionsRectVertex: getPositionsRectVertex,
    getRectangleOuterPositions: getRectangleOuterPositions,
    getRectPositionsByCenter: getRectPositionsByCenter,
    isInPoly: isInPoly,
    isInPoly2: isInPoly2,
    getBezierCurve: getBezierCurve,
    simplifyPositions: simplifyPositions,
    interPolyline: interPolyline,
    interLine: interLine,
    computeSurfaceLine: computeSurfaceLine,
    computeSurfacePoints: computeSurfacePoints,
    computeStepSurfaceLine: computeStepSurfaceLine,
    getLinkedPointList: getLinkedPointList,
    getOffsetLine: getOffsetLine,
    sliceByMaxDistance: sliceByMaxDistance,
    convex: convex,
    getGridPoints: getGridPoints,
    getGridPointsByPoly: getGridPointsByPoly,
    getHeightRangeByDepth: getHeightRangeByDepth,
    interPolygonByDepth: interPolygonByDepth,
    getRayIntersectingPositions: getRayIntersectingPositions$1,
    interPolylineByDepth: interPolylineByDepth
  };
  var PolyUtil = _0x4a9d94;
  (function (_0x256ff2, _0xe5c010) {
    const _0x1b35c4 = {
      _0x29b8eb: 128,
      _0x53fba4: "6lzz",
      _0x2a6198: "V#J3",
      _0x4757b8: 770,
      _0x1746a8: 129,
      _0x18fd54: "Mq^1",
      _0x1abbe9: 138,
      _0x27b234: "RqlT",
      _0x364418: 142,
      _0x14b9af: "61#G",
      _0x5f2434: 127,
      _0x41055b: "MyH[",
      _0x3e8fb0: "*P27",
      _0x433350: 763,
      _0x19f8e5: 140,
      _0x37ad1a: "%Wij",
      _0x44b1e4: 123,
      _0x4fa432: "]YAv",
      _0x56389c: 119,
      _0x1731c9: "b#ea",
      _0x1dd7e6: "wX^)",
      _0xa3fd7: 767
    };
    const _0x23fd1e = {
      _0x420c25: 327
    };
    const _0x17a060 = {
      _0x39a30a: 579
    };
    const _0x18ef58 = _0x256ff2();
    function _0x359edc(_0x44f889, _0x12e542) {
      return _0xd199(_0x44f889 - -_0x17a060._0x39a30a, _0x12e542);
    }
    function _0x3ef688(_0x1c8e4c, _0x4ae0f9) {
      return _0xd199(_0x4ae0f9 - _0x23fd1e._0x420c25, _0x1c8e4c);
    }
    while (true) {
      try {
        const _0x3348e2 = parseInt(_0x359edc(-_0x1b35c4._0x29b8eb, _0x1b35c4._0x53fba4)) / 1 + parseInt(_0x3ef688(_0x1b35c4._0x2a6198, _0x1b35c4._0x4757b8)) / 2 * (parseInt(_0x359edc(-_0x1b35c4._0x1746a8, _0x1b35c4._0x18fd54)) / 3) + -parseInt(_0x359edc(-_0x1b35c4._0x1abbe9, _0x1b35c4._0x27b234)) / 4 * (-parseInt(_0x359edc(-_0x1b35c4._0x364418, _0x1b35c4._0x14b9af)) / 5) + parseInt(_0x359edc(-_0x1b35c4._0x5f2434, _0x1b35c4._0x41055b)) / 6 * (parseInt(_0x3ef688(_0x1b35c4._0x3e8fb0, _0x1b35c4._0x433350)) / 7) + -parseInt(_0x359edc(-_0x1b35c4._0x19f8e5, _0x1b35c4._0x37ad1a)) / 8 + -parseInt(_0x359edc(-_0x1b35c4._0x44b1e4, _0x1b35c4._0x4fa432)) / 9 * (parseInt(_0x359edc(-_0x1b35c4._0x56389c, _0x1b35c4._0x1731c9)) / 10) + parseInt(_0x3ef688(_0x1b35c4._0x1dd7e6, _0x1b35c4._0xa3fd7)) / 11;
        if (_0x3348e2 === _0xe5c010) {
          break;
        } else {
          _0x18ef58.push(_0x18ef58.shift());
        }
      } catch (_0x2e5926) {
        _0x18ef58.push(_0x18ef58.shift());
      }
    }
  })(_0x4466, 442405);
  function _0x47c55e(_0x385aac, _0x2b3344) {
    const _0x18323e = {
      _0x44ce96: 652
    };
    return _0xd199(_0x2b3344 - _0x18323e._0x44ce96, _0x385aac);
  }
  const version = _0x1d31db(207, "EoDg");
  _0x47c55e("EKlM", 1080);
  function _0xd199(_0x18e645, _0x3f0a65) {
    const _0x43a4fc = _0x4466();
    _0xd199 = function (_0x5d0f82, _0x325ed6) {
      _0x5d0f82 = _0x5d0f82 - 428;
      let _0xda1e3d = _0x43a4fc[_0x5d0f82];
      if (_0xd199.zKdRPE === undefined) {
        function _0x4ea168(_0x42929e) {
          const _0xe3ae90 = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";
          let _0x36b747 = "";
          let _0x5d0dc9 = "";
          for (let _0x1f1a67 = 0, _0x3368e7, _0x51d02b, _0x2f2190 = 0; _0x51d02b = _0x42929e.charAt(_0x2f2190++); ~_0x51d02b && (_0x3368e7 = _0x1f1a67 % 4 ? _0x3368e7 * 64 + _0x51d02b : _0x51d02b, _0x1f1a67++ % 4) ? _0x36b747 += String.fromCharCode(_0x3368e7 >> (_0x1f1a67 * -2 & 6) & 255) : 0) {
            _0x51d02b = _0xe3ae90.indexOf(_0x51d02b);
          }
          for (let _0x5b2f97 = 0, _0x884f74 = _0x36b747.length; _0x5b2f97 < _0x884f74; _0x5b2f97++) {
            _0x5d0dc9 += "%" + ("00" + _0x36b747.charCodeAt(_0x5b2f97).toString(16)).slice(-2);
          }
          return decodeURIComponent(_0x5d0dc9);
        }
        const _0x30134d = function (_0xa6c379, _0x1e4674) {
          let _0x14b0b4 = [];
          let _0x219305 = 0;
          let _0x54d830;
          let _0x211008 = "";
          _0xa6c379 = _0x4ea168(_0xa6c379);
          let _0x3320bb;
          for (_0x3320bb = 0; _0x3320bb < 256; _0x3320bb++) {
            _0x14b0b4[_0x3320bb] = _0x3320bb;
          }
          for (_0x3320bb = 0; _0x3320bb < 256; _0x3320bb++) {
            _0x219305 = (_0x219305 + _0x14b0b4[_0x3320bb] + _0x1e4674.charCodeAt(_0x3320bb % _0x1e4674.length)) % 256;
            _0x54d830 = _0x14b0b4[_0x3320bb];
            _0x14b0b4[_0x3320bb] = _0x14b0b4[_0x219305];
            _0x14b0b4[_0x219305] = _0x54d830;
          }
          _0x3320bb = 0;
          _0x219305 = 0;
          for (let _0x192ffc = 0; _0x192ffc < _0xa6c379.length; _0x192ffc++) {
            _0x3320bb = (_0x3320bb + 1) % 256;
            _0x219305 = (_0x219305 + _0x14b0b4[_0x3320bb]) % 256;
            _0x54d830 = _0x14b0b4[_0x3320bb];
            _0x14b0b4[_0x3320bb] = _0x14b0b4[_0x219305];
            _0x14b0b4[_0x219305] = _0x54d830;
            _0x211008 += String.fromCharCode(_0xa6c379.charCodeAt(_0x192ffc) ^ _0x14b0b4[(_0x14b0b4[_0x3320bb] + _0x14b0b4[_0x219305]) % 256]);
          }
          return _0x211008;
        };
        _0xd199.BjvFes = _0x30134d;
        _0x18e645 = arguments;
        _0xd199.zKdRPE = true;
      }
      const _0x21cf34 = _0x43a4fc[0];
      const _0x37e480 = _0x5d0f82 + _0x21cf34;
      const _0x3c9ed7 = _0x18e645[_0x37e480];
      if (!_0x3c9ed7) {
        if (_0xd199.NxlZHN === undefined) {
          _0xd199.NxlZHN = true;
        }
        _0xda1e3d = _0xd199.BjvFes(_0xda1e3d, _0x325ed6);
        _0x18e645[_0x37e480] = _0xda1e3d;
      } else {
        _0xda1e3d = _0x3c9ed7;
      }
      return _0xda1e3d;
    };
    return _0xd199(_0x18e645, _0x3f0a65);
  }
  function _0x1d31db(_0x2861ae, _0x444767) {
    const _0x5dce21 = {
      _0xcb2ad8: 250
    };
    return _0xd199(_0x2861ae - -_0x5dce21._0xcb2ad8, _0x444767);
  }
  _0x1d31db(205, "jCL[");
  const update = _0x1d31db(180, "*P27");
  function _0x4466() {
    const _0x5a86ea = ["54c45PM256so5OMF5yE/6lsn5ywR5B+954U/", "WRbFf8kHDCoOWPvdyu4yWQnZ", "d8oCe8oIW4LjqqhcT07dPYv4W5xdUmoi", "sSouxCooWQuPz0bcn8kIW7JcOW", "W6OWW6nCWRCHW7pcQCk8W5Prsu0", "ACo/lCo0u8oCba", "WQFcMmkhl8o4l8koWRi", "mIxdVmkwD1K", "d8oCfCoMW506ghBdRb3cHq", "WPRdKmoku8ktWP3dTSkcBCo2", "sGeRW6O5bmoZWQ3cKmkU", "WOZcQCkwW7NcHG8wFCo9WQxdNSoXcq", "y2VcQCouiHKYha9UWOaDvW", "W6lcO8oaW44RWQ/cNSkBWRZcSW", "W5tcJqqzW5BdSCoJjmoGEHxdMhRdRVcSRjjVW4vOW5qpW4PicqNLUlJLJBDJvbjUAmkuuUEiGdlMNkddOUwnU++/Oav1crFcUCoeExNdMmkqW5ldNMXZWPbZW6hNIRJMNzBVVQtdMKRdKCk5WQddImkPFg/dJCoo5P+S556Cw206BYBNVj3ORPdMLjtMN4ZVVOSfbCk/WRdcHSo6W6bZWPrygflcSsjrW5tdS8ksr+EjPUACVUwHP+AAG+++SmkCdNJcNMdcU8ovt0dcJCozWPpNI7BMNztLRjxLHitLSiFKUAFdO8oI5zc56ics54k45PIP56Ad5OQF5P+s6zI85yAd5y+VW4dNI4lOHPJMI4tMNOzkWQRcHCo+dCojvu4oyrDeW5/OVQFKUOdLJj/VVidKU4hKVP3KUzhKU77MIi/NUOxNUjdLN6tPG5lLR5BKUkRLIQxMNyVKU7VNM5VLI4xMJANKUj/LJ5/KUjxMSOdKUBxLH5/OTRxKV6pNL5lVVzVdN1OzdCk1A++8K+s6UUI+QEIGNEs5UUs+P+w8PEw9MoEBLoEJIUIKGUwqMUIIP+wkU++8MoERTEw6H+wmGEwTGEAwGow/NUEvQmknWPuKWPtcRmkV776Y5l6i55wZ5Q+w54Iz5P235l2V5Og15zY95OYr5yQE5y6c6lYE5ys/n8kHe+AiMEs7RUs+UoExSowTToAUNoEjIUACKEs9U+AdN+EBPEAEOoE4IUINJ+MePUAEJSklW7Dvm8oYW7BWRP2/5AYc57YQxmoMW4TEwHBcH8k7iSkFWRGAFxpcHmoUnCkEdCowW73JGidLJQtMNiRPMRBVVQ3NPQtKVBVMUkNNOyNJGQ5tW6/cRoodUoAxSoEQKUocJLBdNCkvipcMG6FOTRxKUij+W5OIW5nJWRZcImoMWQf3zGLcW6j1W70MW5qnEMLsW6nFymk+W5yyWPdWOAkh5BYx5l6ZDZxdL8otoSkNW4f6n0PrW7CMwSohw8kzW7ijW6KDW75jWPzusdShcg4OWRHdq3ZcQSoqqmkFFetdJmkLWR13fSkvWPuoWQVdUCoFW7bZEmoZW7pdUWftbvi8tKOTB1BdR8kal8odzf3dHuxdO2mkWPjQWRBdSCoziuGirCkrWRzhz09xELhcNN8TW4ZcSgZcK8k2yZv4W77dKCowW7yUW5BcGCkJgCoOW79wmCoBWQfgDCoupCk4W4ldJ8ktW7VcI8obgteMWQhdH8kkWRVdUHhcTgFcQCoKjSogW4RdQ8k3WOpdNdNdOSoNWR3cISkvvCk8W5ahwMVdMc/cQSoCWRqCW7SLgmkeimoe5BYo6l6n6zUA6BIJx39CCCkTW5XCW7RdPehcGCkyWO5abSosjKbsW5/cJSo5jZmJW4mXDmosW5LfnJdcVSkLWPefWQFcTCoDWPCUhCo3W6RdNSo2WQFcIdmRW7LfeSkxWRddOtFdSmkyvIddG1ldRZJcRuRcOfPYe8ozW4THW5qzW6CMWOdcQZ4csComEmkJbCoZi15gWQLSWOBcJCkQWQhdUCknrtHExqmt5B2W6l+76zI46BU4WQFdTJZdQCoHW5LwzSkOc8k6zCkvwXRcTCksWQZcTSoUxbSowSkNfepdQ8kpWOba", "W6GXWQSIW6LIWRNcNW", "vCorauNcMmkbgXnVkb0", "WQZdRSk8A21pxIZdOdnb", "W5ldUSomWQNdN0i", "hCkTixNcO8kTgqCeda", "vSoraeJdLCkgiarYia", "jadcU8kRW5O", "WOZcL8o6yJxcHCkWDxJdNCoX", "sGePW6TuvSoZWQpcJSkRWOGo", "tCorxmopW4X1jxn4aG", "WRe1W5XrrcddGa", "W7NcRSkrW5pcHSo2WOKDfSk9WR0y", "cSkeW5hdICoAW6tcJWNdQ8oF", "W5m0W6f7W7DTnW", "C0vBW5m6Dq", "W5RcU8ozWR0O", "rXzcnI9ZWOazcvNdG1xcJSkbCfvSW5ZdRmkeWRHTWPCIFg7cHSkTW7K5a8kbW7qkmXxdO8ktjYD/WOOmCKnigJr9W7BdP2G+W7hcNg9iW4HkaqxdTCkmW7LJB8ouCMlcRhxcO8okcCk4W53dUSkuWOldKmoSWQxdM8kCWOSbWQhdG8oXaSoswXxdP8kRWQ1KAJinAWlcQSk2W6HkW5FcT8koWQWckLRdNSo2WO4asCk7oSkKe8oMW7P5sHNcSvj8kZvAW6P8W6jqeSkXqqWacJ7dN1aJW6zKWOZcG8kPW4RdHSoGW4SHW6JdRx7dJtFcOKOdD8oiW6q3WRK1WPzsymoqj8ouW5ldIg3cV8kXWQXipmkRW5RdQ8oWWPuWWO7cReZdI8kVWPyYWQJcMCokWPhdRmk5W6GYteZdHYxcJ8oWWQiyeSkaW7yBW5eKasxdI8oCmCoRW6rcwNnoi0SDW73cMmoVW6jxugvUqdFcTCktzCoksKVcT3bJs8oTW7pdJNyagZWWBZ9Jj8kAW7NcJtWFWQmxkSoetGFcSLvwbCkrWOhcHCkAWPdcQSkmWRhdMg1Ia8kAgK/cN1xdK8oRW7BcKCkVrY7cI0KlWQZcNXpdK8kDW5hdHYNcQehdQmoZvmkYqLhcHJpcPSkeW6lcMqOwlXtcICkdWPHepqG0W4dcV11MWPdcHJeiq3ryWPtcRKZdSCoDiKfFWQvKWQNdOmoHW7pdJCk0rSkUWRLTqXFcMWddISkDWQnIWR0Bf8oSW4tdTGpcLZRdP8oQzeldL8kGkCohnCkDW7HsWOrvWQa1WPNcQxNcLmo8W5SRpbuYW68/s8kxW7WwoaddIttdV27dJ2XEWRBcRmoZWQXtoCkQzqJcJCkxWPFcOf/dO3i4WPtdNw/dUJNdTeFdRmoQW6hdHmkOa8kOW4XMwCk9W7VdPmoPW6rpWONcGh/dGhBdTdpcTJ5RgtlcQJ7cGsldOGrxWQVcNSoOW7lcNCk3xCk2W7NcR8klW6ddMXjjW7zAW77dOCojwZzxAdm5A8o2W7bwWQtcP8orW4/cHf9ZWQtdUmoeW5Tmqrv/vSk5W6xdUaJcJSoVFCowtSkCkSoDWPBcO8kzfvddR8ocW49NW5tcU8kkWR5QwSk9W7hdHMT0emoTWOJcOCkwnmktDSk7AmoBcCowWO7dHK1jEMSumSkCWO9TySoEW6pcTXdcN8kZkCkSW7ldPmkjySoXW4ZcUCkZW7ddRJJcG1P1gb0vvmk9sWldU2xcVmkbA8oxoIJcN8olWOKvW4FcUcNcL1JdGMT3yrnin8kRDbpcJh7dHmoHFJqhamkSy3SiWQ5iqvhdGCovFeDAW7GfWOBcGCoWW51zc8kvesBcUCoAW6rhfxdcQmoXaHHOfSoBq8obfJRdU8ofWOVcPtSZW55EWRjzgCk8FM8JyHFdOGdcILtdJ07dGSkHvHhcN2VdOXnQWODwW5BcRJ50W5H8WR9aW58/WRWJq0NdPWiZqmo3W73dNKpdTf7dLCouW7FdJ0iUjwRcQbjKrG7dS8kgpwZcOdtcVSkIW7a7W55dtbfLWR/dRwtdR8oagmowdComWRVcO8kIvvBdLCkGW4FcNfyaW7DCESkbqwVcVtaknColWQ8kW6BcKwmxBeiVug7cPg18kqyGWQefW7BdGNlcJSo8W40JcfH0WOvlpdJcRmkAkSoyW5TPCSkpoh7dTtxdOe3cPmk3bSo3d8oVWQRcJmkmjmoUzmkMmSkytWDgF8o7vmo+fCkzv2BcPmkuW5tdKCkLm10LWQ9pi2jSW4pcT8ojEeaWpsPFFHWEW5eyjveobsOcCaidWQXEi8oalXlcV8oHrSkqFYRdHZKteIRdGmk7t0OHWRNdMvJcNgRcVmoEySocW6xcVSoTbeGBW5m+rmoHW4tdT8kpW5KmvSkjb8ouW4pcKGdcUsP1xmkudSktW6FdU2aPz8oSm03dTe1+vmoTqrqAW6ZdMMVcOmk2WRaTrK/cHwddReddHSopW7VcLaRcPf98lrpdGCo8W4FdVSogWQ3dTmotBhBdLSk0WQ/dHWiDo8oIW4hdPCo5W4D3WQrxWOFdMSkxW5SnumkiW67cJCoEW6ddLmkZW7xdR0xcGLhdRWmJW57cTgnLW7tcHmosW44LWQNdOSkymLtdJCoAW4CRyZxdS8oJWOCUWOeBWRJdLCknzmkeyeanWOv5cCoYW7RcQmomW5/dQ8ouEKLxWQxdUXCVrmorefBcM3TOnarcW5VdMZrDW5PKW4JcRCkLpSklbCoHW51dWOVdUCkfixWytSkFwmolvSozkCosW7qrgWfWuMJdIJldTviIaCkmWQTnWQvuW47cJcG3W6udbXvJW75XWRBcL8kOELVcG1FdTSornezQECkqWQ3cGmozWPjfWRSGo0mJWPRcNsBcUHjUumoWW7L4WOu1ohqFbvKWv8kFW6ddHtvkWQKDyve3uSkso8oIWQldH8kWW48HjCoRWQSZW642W40Jh8kTAWlcO8oDW6XsA8kWW4pdTGWcW603l8o4n3OMaXddMI9ege7cNvtcLbxcHCkDW7ddHXXfBHhcLMTkW5aAWOvYW6NdTSoWitxcMKjboL/cLCouWPDZirtdQCohbLSGoCo+vN7cPSoTrWxcRsrGDXCCE8k7W5aPWQy8CmoWc2LjW6/dImkOWQlcKmkXF8kvWQdcRdVcQSkmWQJcOmoFwSktF8oGqt8IW7TgtH4lW4JcTMjPWRhdGwpdSmkRo27cLaCStCk1W4/dH117W68eW6XHWPu6W78nW50Zv8kVWQb9WQ7dLWGHkCk3vcyIDJJdUSo8W450h8kPWQldPmoxWPrwFSoMrbddPhGvzmoiemovgf7dKYvxW4NdQ8kfxuxcU8o3W6JdG1xcThXgjmkNi8o2xhmLWR3dVtVdIvldJY4mW41pW6H1W6JdTHVcK0nntaRcJehcMXCjAh4smW46WOWQWOXHWOXYbSoEzITBW5SfWRpcQSokc8obWQHGW43dHSkLcmodc8kAD8kSytaZWQ7cISkWpmo5aCkgwCkzwdhdMYtdLSkoWP8cWR/cQxZdLCkBcmkSW7X4ALNdMCk2W6WIj8kdW4BcISouz8kzW5D0umkVsgxcPM/cG8oCaSkafSoTlqnYu8ogW7dcQ8k8gCkBW7aUD8kZEvxcNCoNg8kGWP0gWQroeHyNW7WpW48ifr7cU8kdgdyhW5VcQCkMB183W6VcUJRcP8kHWRpcQsldTdnLyNZdL8oDWRBcGwHsW4JcJCkAWOxdN8kJW4VcRtJcTmkIWQbBnCkYdxyyWONcNmoEzmkQWPWXb8o2W6arzKZcSSkflftdO8kuWOVdN3ldO8onmmoxl3CZvN0BhCoorgFdHLVdSCk2W43dQmoZW4BcN8khBSoYWOFcPaGXW5vRW59AWQJdTmkMiSocWRRdMvtdI8ovW5mEW5NcGCotWR7cMvWrW7JdHWHCndvNwXJcM8o3y8oVgCodhmoVW5/cOeXXzCocW5ysbCoDWQueqvlcRSkgtmo0WO05FxFdUvRcJCosWOCvgmkciKOkW511uaddHfNdTmo8W6RdQmkIW6RcLSofW5aoWQJdPtq7tmoHWRVcJCkgWOzIC8kLqG0gFSoUDrFdSSoEWOlcRCouaYdcMcVdKgDuumo+WRVdKCk2egNcGSkihrhcICoXy8kwFmoYW4lcNh8hiKZdUZZdUIBdGw4Rfmo0W6tcNtCsvrCinCoPWPhcKgGRWPVcKYqiWPOhbwBdHSk7W7RcM8oGWPxdT2tdMYZcPNlcTdLWWPtdRCkJwJq+W5JcQGjvDHDVDmoRWRtdH8k2i8kJW5tcSmoKcCkcW7jvc8oTW4HAWQWPotNdKI/cQmkfAebtcCkRW5xcTtmOW4hdUmk3W6XHWRauxSo3WQmxnKVdJ8odWOPXcd58eW0OWRSTW6uSW75icYWlE8ort3lcPgSEW7DEW5mhW40IW6ddLmo2W5lcGSoxWPldPmoDdCo6WQRcUgOcW6tcLSk4jZZcNCkLz0uZWRK1W7bQW5ddQIpdOCktiGioW5BdTuSreG18wSkHFYH6W7VcVmk2W6/cItJcPuVcH2lcPSkPySotWRuVW4pdVMLnCs7dQfZdMCowpSozymk9r8oHW6rbW5xdUM1liCoKW6CGWRe6WPJdOmkNjLlcLYOpW6RdKrypcCoFWRNdK8oftdpdILvsWR8yWOtdUI4EF8kfe04AlsldICoXtw8wW4CAW5/cGv3dImkQWR/cLmkDAJNcSqldGatcGmkvW7VcJmkqfsddJ8kCDwlcNSo2cNNdOtSOjaddVdy8iHxdNuhdJ1ldOCkudSobnaZdNSkMtc7dJ2nEDHv9hSofsWjpnCkvc8kSiwLFzu/dR8kTW6BcTSopACoosmkpuSoebexcS8kVhCkCWQ7cQuz9wX3cTmoowmoAoCkAW4FcNbXTkmoes8oTW4KnhZlcPfVdOSoUk8k3xmoWyLlcRCk1WQJcQdxdQKVcSLzlWPjPWRfgxxLLWQ/cSSoidMpcNZ3dTt9TiCowuGFdPeldTK7cNGO1ke3cUmkMW4umb8oCWR/dU3pdH8ojFvNcTSkiW6hdGg/dMCogWQORsmkuW7ZcQ8oqdhCTW7VcU8kzv8kMWRe3W4/dQ2v4WR0nWP3cGhtcSr8ZWR8FFJrDWPNcIwZdJrr3oc0QuKxcNmkSCmoZW7BcUrP1WOFcUSo7xINcMmkzos9TEMDFW4q1WOydWPb3WRtcGmkiDeKUWR7cLNHObLdcSmk0W5ZcOCoIdmo4pmo6WRa/W6lcJeLRj19frYfIW6ldGxLwWOGiW4DnxSoUWOKxqSooW4GohSk7imoMWODuW5VdTb3dICk/pttdP8oKW7BcGGWlpSkLWRLHtSokaJ3cMxnVWOiTwaxdHb1qyhnYDxpcRmoaAmoyqCogWOqzfCkJW7JcGmkJfh/cQmoGWRbVkMa6uYihW4vrgvW5FvDPtCkdtZhdPepdSWbtWPJdJCk0ovhdH3xdKSoJu8oGW69lW705WPGznYfnFSo/bW51WQbaWPKhsmoNzmkiWRhdKCkzWQtdMmoTxWC/WPHcWRmqW53cVCowfCoMtmocWOhdMmkvW5tcTCowfW/dVvL6tfDNd1OnBHtcKb/cKCkfvsXfWPBcN1BdRetcIJxdTstcQ8kcWOX1eJeAmL3dNH95bmoWWOVdQMJcNrpcIuzWpH/cHcDBW5BcK1O/BrpcMMOEmHVcOselW7JdNLTYv8kPWRedvmogWOdcV3emW49VW70WW6NcH8o4WOxcICoqWRRdV1BdOv97AL8EW6VdUmkza8oFB8oTW6acWPRdH8k2WO06id7cRSopDqtdMs3cHCkWfSk+kmkOW5ddHH/cJCo1jmk+WQHoWPqizYVdVmoJCd3cHmkHwCoNh8kDW6JcSmkhW6ldVXSuW4FcVmorW7hdTqa4WPeScmkIWRBcRSoqeeBcHmk6W7CEWQFcIsZcPrtcICkxW7ZdOh3dN8o4mKVdQmoMjSkMDwD8W4GRjwJcP18OW58wf8kNkfOVW5itW6tcUCoJkJhcUSo2j1RdLCkmWQ1LWRZdLSkOWO4ozCooWPRcR0CpzSortSouEKjrh8oGW6BdP3hdNmk/jcpcVCk9bSkqW68IW7PDFCk3WRjvW5VcS8kAW7yeW7nAW5eiWO5WW411W4HWbCk6W6BdUhmGWQ7cHSkph8oQWO3cTGWdWOzZpmoPc8klW41tqmoyW67dNSk7WRbSWR8yWO3dMmomav7cNYJcN8oQl3FcVCooWQnZm8oKWQuvWOKfWRSKhuCaWR5dACkaEmoXdCoVWPDPBSoYWPtcImofbcVcT8o5oCoIWQq/kwbJW5WXo2ldTCoaWQ9Mi0pcMmkxWPCigqTzB8kBWQiVWRCMzqxcTCktW519axpcMSoml8oQjCklWOJcPrddTSo1W4NcT8oHC8kww3yXWRuEWQGro8okWR3dVKddLXtcQCkIW6BdNSkjW6/cSsJdTmoyv8kVixPCEmkwWQf+DZtdHCoJqmkrBmkQASkqWOxcU8ooW6vuWOJdTM8ttSo/CSo5W6ZcTXtcRmkhWOxcRCkqdgddUf9pW6LnWO1xW49aW7xdN8kPpmkRWOJdN8oyWOabof7dU2HVFLnqW5eww8oHfmoaySkLW7pdGZtcPWZdK8kOjSoDvmkhW7BcMehdKmkgihvcW4DQWPtdGCkLW7eAm8kqW77cHWf8pSkGnXJcPmkGzSkqhfOdqSoBW7JcSConsqNdT8oqWQ/cTCorW5hdMXuhWOhdGZPAWPBcJ3nShqZdUmoFW65DW4RcIr/dTYHUW7uCWQRdNa/dS3VdGSkqW5X4pSkJWQHvWR3cPmkjW4BcJtXfWQJdGfzLymoywJBdMmkFWPnIumkXWONcPCkNW4dcKqf2W75WCSoWkJXvW7VdVSornqJdO8kxW6ZcQSkyWQ7dMhldL8kxWRvesmoTW5LFW7hcVSolWO5ZW68ykCoki0zmW4hdNSozW4RcM3Ptsf3cO8oJr8kvWRRdLCouWOawesDsr13cNNxcLvZdTSoCv8omWQL9W4JcPHieW4TGu8oAWQ51W5KbWQtdObBcKmklW4xdGCk5AX45W6eMWQm1cCksW5lcU8oLESoHW6tcSImsWPdcHmknW6zwWR4bW73cVCoPWOJcKmkXW4vLW5tcKXZcH0hdLJtdU8omF8oueqNcP0DjWOLMF8o6WQXEp8ouzSk0W7zjWObAW4vBfmk2WOJdN8oCaLPMWRKZBCoLW63dOxRcJ1dcNe7cLSkLW4T/qSk+WRWtxZ3dK8k6WQ9mt8ksW7tcUSkkWO3cSCoip8opW7xcTSoxBfxcGI7cRfdcMCofWR7cPmk0W5dcRLG1c147svNdGmkUACoMW6rtWQdcHeZdVmoUeINdMmoqoCk+W5ddRcnfW6P/WRBdSSk1ECkvxSklW58br8oLW68Vptq2W70vWP4bdureWQrKWQpdImoCrCkyyazCW4jppmk1b8oTW5XyW51QcmoPW5TwqSk+rCohySonoGzpW4ddHJOhu8kWW6VcV8owW6HHoCkHimkmWPJcS8kLWR9TW5RcObBcPCkLW5bRi2S1WOFdGINcMmkLCCkuW4ldHM7dPmkoemouagawaSkUcCkrFSoLq8krCmkOW65NW7RcPmoXW4JcN8oLWPaNqrZcTCkQsvvrCf9HW4hdUSo5W5ddUGZdKeyDWQvhWO4GDcNcOSkTgSkYWPOsWPb+WQpcV2itW6lcNsiwWRjCW4hdVSokW6pcMmkKW6qYW6WAWPyeWQ9BW5TUvGxcNf/dG0qwWRKMwvFdK8k/WP/cTSkhqgH8WOVcJ8kOhGxcSY57W4FcGqddTMFcSYnhE8kbWQ5OWPv2ngVcHCkbi11bWPCrW4uRfmkYW7n0WO04WPO0gCoXdSo/uSodhGWAWOZdHCkkAmobomoCW6ddG8oYaH3dGCoNcmkDf8oUWRCzxmoCWQfdqhFcQdtcVMNdTu9sgmodWRaDbfJcKdNcNsJcQ8o7uSozW5mFobiCWQtdU1tcPIHCaheWW5vVW5D5BsPrWRRcM8osW6tdUmoJW4H5z8obChe8W58hW7FdPtD3y8oQWOb4W48hj1v+WOCZWQxcGmkYW6dcMmkqa8ovW7JcP8k9l0pdPeD0W4FdNsjiW7BdJmkzW6BdImk8WRLEgJ0ec1tdJJfOW59hxNr4WO9Cp8k7cuNdMIe9Bmo3W5Pea8osz1NcMmotCtRdKLdcLd/dV8kWW6zGW6H7DwFcKLpcJSo6eb/cPuCrWR4ZdSowf8klv8ooW7NdI8oUz8oLtKFcPmk0xmkABConWPlcJmovW5XyWQddVmoHW6VcVdHMiaTMtfNdTmoaW7pdH8okkq08WPfOW6RdImkSWOmXbSoMW6HMWRxcOmo1imkdlhhdJZjVWPKICCofWRlcSSkAW7K6WPBcOCkegSkPW4ryWRrsW7ddO0rlW6BcReGAidyVWPJdT8kNW5ddOCoYiJGSz0fbbey9W6CRWQ1/vtXvmSkYW6RdMSk7C8knW77cKmo7WP3dKeuqe8o+WO1ZWRxcK8kHWQRdGhJcLIy5nCo0WPRdQg5tWQtdMSkWgh7cIGpcLfddO3/cPu7dVmohEYjxqSkwWOqpW6RdRSonWP3cVs0xgCkhouG5w8k3smkpW783bCkzCxvjFgNcJhybwHSbW7lcKCkKcSkOvG4tx2/cQ8kSWP0WlCoHW4/dVJjnBXtcPWruvCkgW6TRs8osBuZcRhGNoMpdU2mPoCk+W4BcP8oMW57dTCoZwSoGn8ohdmkXAmoigCk4W7L4WPRdK0TEW6ZdUmols8k0W4bAWQxdISk0WPtcR13cQwH7zN80WRZcHXNcHwxcGCoWkZvnW4ZcTSoyW4VdPh7dM3/dTSk5zaZcMGVcMmouEX7cR8k3lSkcmmoJWQldQmkCd8kxlmk+As4kWQJdGSo9aXBcIN5bWRnEymoOBSkLixrUW5lcUMHQqmoNWQxdISkPjsFcVKRcM8kvcI3cRYhdNstcTCopWPxdNum/amowvM7cVvKdCSogAmkyW73cI8oxWPJdLqeJFHnJW4VdTYSOW79ZWOiTW7ygW7NcUxtcHSoyu8kQiX7dL8oiWRbAqwJcP8kNlCkJbdNdTHZcRYeqW584W4BdMgCcs8oQjCkui13cTCoEpKHUzx09FxXKW74aoH5UxCk3WPSVW6GhW7eUvCk8W48sWPCkWOdcNIZcGh3dJLebW4bJt8oKWPBcLmkzWPvwc8oPEWVdQIWaWReue1BcNcOfvva6W5RcQX9maGZdVaX0bfyCWO4OkX7dP0hdS3ldLmowaSomugWKW7DTgx0TW6JcOmoLqtxdNIhcVdBcS8oVWRVcSmoQWOfCjx8bWOipWRBdOqmVWO7cQcxcVu0GDXDCWPlcO8oGWPPCWQzFWQ0UW43cNSkvqL8QW57dQWHQWRNcK3/cQK51WQBdRSkibY/cTgXrgmoEa8oNs8oWtv4kWOPbW7ejrSkQeveMWR4MjNXwW6GrWQ8dWOVdRgpcJSkaW5lcGCoqW43dMCkkWPKTh00Wc8oyneDmE8kwWPJdVsHzWOlcIsrvWR/cONndWPCgdgPzyei2a1v6FsHEWRGgsSowW6ZcNqRdJYqytg8WqIVdHrNcS08iWQVdV2yFb8kuWOjkWRtdLGRdLgBdLdb6th1UrSoXtmoQWPRdT0pdIIRcKmo+W7xdGCoYWOhdHSoUWO7dUSkvhCoGW5f0W5erAbpdJqtdGxZcI3yodNRdSNyGsWdcGCooWOvlhmo6WQlcQ2DmaqRdPmoUimokeSoQo3hcNSkJgmomWPpdJCothfuCxYy+nt8cCmk7v8oaW70HwSkcCfNcM8oDWPJdQSo0WO7cP8kTtmoHW4XbWOLFW5mvtq/cRwRdTuHjW6aYCKCnmSkBFCocW43cVXamebPfW47cT8k6yCkvqZJcICkMW7qlp0ZcKN/cKrJcUSobAmkmAmk6FxFdIdqpWO49eCoqASoNpftdK0tdSYzIWQZcOwWse8oCWRVdHt1+xZ8gW6rpW5HpW7mtqCk1WPhcRHGGW7aXW5uqWRVdLsNcM8obW5hdKCoyW6tdQSkGWQLRt37cNhm4wSkGWQXNoKb2WRXFW5pcOtClWPxcShZcI8klWRJcOXLzW4v8CNX+ySoBW5hdQMxdNCkeW4nYCmogW7eYW63dT8khn8kcfSosg1dcKcxdVSosWRhdGqnufq5yWRySbSkmW4xdRSkoW6fsxCkzWQeIp8ovuSoxrdrDpw7cTM8gvmopWRBdOXTSW5LNd1JcHSkQWQvQcx0XsbVdRqL4WQ5et3FcHZOiyH/cLZSbWPFcRIRdSgZdLYHnWQpdJ3WSWOxdT1tcPmoQqHjTaJRdTHlcTSo1WRa0W6ydW4JdMKGrf8o7aa44W6hdKZ9srbNdL0y/nu7cJq7cI8oqkJRdKdJcOrjksmoxWQuVWQldTmoLW4VdTCktWQFdHtZdVmkCW7bIW7JcR8ksxCoMWQi0W7CUW5yNWOldSmkseI7cLJ9vW6TEW5ddUczuWQeVz2yhe8kXW5jHWQqDWRifouxdHWFcJebfWPbYumkKWRXDvLlcHSo/cmowWRGDv8k6xGBdSMRcOqqbnJX+cSkAWR8ifYPvWQtdLMNdUeRdQgNcQKLwW5FdQfNcUCklDCodxmotWR/dUSozW6RdVSkLWPVcVadcOSo3W55intrHWQBdT8kJW5VdUZ0UzWVdSCkMW63cPWrZbeRdKWdcS8oskmkuzCoJaSozBdTGWPqEj8oLsSoqbCo3WO9DW4hdGgzEWRm3WQ4ipSk0x8k8WQ7cGCocvr7dICkUW68+CmolW4RcJwZdLmolaHtcPCoPWP4UddadbmkvCe13WOTcWRBcM3pdSmkcWOpdOZjri8o4W6xdI8k4W4upzSkKWQRcQwFdIWH8W590W4r4W5tdPLBcNtzEW4yZW4RdIfZdMSoxC8oACCkbW4WLnGpdG1u5ESozBvr7WQ5GWRzjW4ZdKqWTj8oEgIn1p8o2wHPZW5uxpmkJp3KurCkBveBdLXZcUKVcRSkThqPXW5VdIM3dTWjOi1K/ECkdud8sx8o/BaJcQX9EW6NcVdr7pX4EWOBcSSoWA8o8WOhcNCo8Dw7dVIdcISkEm8kJWRCvW5C9W5hcHSkpm8oLCSo2WQaFuLuTW7awW4GeWR9eW6aOW53cK8kUhSk3meuQxSoqWRldMmklWRhcJuFcUmkiE8ohbCkFW6qiWOTTbCo9WOlcOCounCo1zSoTtxZcIbtcRdP4WR9phepcP1FdKSk0WRayEmk/W5VcVSkBWP3cHSosEIa5C8kHpCoQdIxdQe3dT8k9nmoNWRummqHmW500nCk4WP4ExbFdSCkPW7qWWRmpvun2WPTfW7DsW4j7rIVcHmkNW4SxBb9oBw9SW4ZcV8oDWOZdVg4mW4GHW5dcQ8oIWOVcKZiPWQ3dU8kyn8oDWOneW7ZcHNKPWOVdV08ki8oKrGhcIKBdStDjWR/dQSozWOmbpmk7W5mkahhcG8oSk3PGbmkKaX9DwtxdGSkuWORdJSk4DSoji3/dRCoVWRhcParvW7BcTaPqksjTfSk/m2C+WPVcSKdcRCkEWOFcHMfjW7BcUmk8m1RdHfhdJ8kCWRLAFCkzfSk2W6nvw8ogWQJcUehcImofW5bBW4jPffBcH2NcNSkKWRJcG8oqWO/cMSonWReMW4RdQvu6W5qVWPS9FCoLWPaeW5pcJsFcTSolW490nCkqW4NcTSo3WPddR3/dP8oXl3BdUCo8pCo8W4fJW5KvWP9WWRRdL2ldUdy/FmkQD3JcT8kxWOVcNMNdQ8oMW55hidhdOGlcGmkoW4Lhbv8mDudcKrVdJKSSemoCW60KWONcHYFdRmofjSkeW4xdR8k5eKNdIuBdJmk+reddLSo7tCklWQS5vCo+W5ZdJXVcKZqaztddSmkSamkQz3/dUCoSWQZcI8oOW7a3W5q1WQVcK8kyemokhHJdGK7dLHVdNLeMjCopWPSfWQ0pDNvDovtdP1RcIKdcRLtdRmofu0dcOmo5qLddO8oZWP4+jZxdO8oFW58hWQCtcv17W6JcOmkIWPJdM8osW6HoWOm+WOrLzCoijmkHW4vEcSkACCo5lSkJW4uBWOtdTbNcMCk9WR/cPSo5Bry6W414sCoWzGGNWQBcU8omW5SmWR9npwZdQ8oToCosW43cPYFdUeRdL8kFDee3W6DpWQ1Wg8kvpG4baZOlW5dcO0TPj8onWQzMW6LnW77dIwOoB2hdT8kgx8k0WRnpW6vcht1geSo+WPZdLmogWOXPWPH0bf/cUmoZlComomo8WQxdQ3Hlx01kWOzZW5DHW6K8W67cKSoMWR17c3ldHCkabv4Tah0VWQ/dPaSiW5pdRSk/WQiJpLWSWOJdIwtcOmoHWP3cKSoLW6JcNSojr8oDW6BcOKBdI8k7ytZdLg5WidNcKCkDWPiWp2XTWQ7dN05Lc8ovW4GcoCkKkJT8W4ldTCo9W5WkWQZcP8ojdSk7W6eEbmkNnt/cQxhdGCkingtcOu8yWR7cJ2NcI8oTx8kqWPebW4aaBx54W6NdGCkkW5reiSoAWRhcQMldVmkbBZFcICkhymo+WQ9irmkPnx3dUCo3b8oXBttcU8o4W5ldM8oFFmkTWOtcLsLcWQFcLmkNWQBdIa3dI8olWRvGWOziW7/cQSoeW53dScBcSSo1BuJcISoOz37dPSkDmNn6cvpcJudcJa9eCNNcTeRdOSkZtM13WPe7W4RdUmkCW55FWPpdHNeWWRnDW5GzfSkGa1fDWOLDW6ZdM8kgeSkIaCoTlmkRb8kqC8kqW698kf/cHmkNWQr7WQGJgCk/oxhdNmkLiCkHhgNdVLCYWRqivYrLW6tcTSoBdSktW4WMWRmbfXaCq8kHWPBcLmkUuXqLWQNdTmocdMxdPmk/iWFcSCkni8kWWQZdRWumW43dLCoiW6xcLwHDW6fybGHEW7uAW64PkYFcNCk9ySkxltmdhmkQW6/dN8kLW5HIWPGHWQJcHdpcR8keCuZcPCoPcHHOmSo8WRRcSei0WPX/i8kHW7FcMbT9WOjLyuhdRSoLm1ddQCoKW44WWQGmo8kpWQ3dGL0HW4O4W7SgpbddISkeAabjWQxdVmkPWOfsWPFdJgeMs8oobxSRCMhcJG3dOCktW6tdL8kRW7mAW7HeW4FcImoABLCpCZuSAxGhpe1yf8kSWQxcMIWqkXFcT1nqFZixvu3dPaZcMmk5CqBdVCo6FCoEWPtdPCoqmgCEW5eTrmoWt8ohW4rxu8khjGuUW4RdSSosWP7dUmkTz8khzCkMgN9ZBCo+e8ktWQtdH8omm8kUbmkzW4ddGG3cICoNWPVdO8kOqfelW5ddO8oQWQBcN8oiW5hdKtalucddSSogAchdOa7cOqCuW7ddHaBdPmo3DSkwB8kWoCkUquxdJmoLW57dJGhcMmkDW79aW4RcT3tdQZ/cUmkFWPfefrdcR8o1WQzptexcHHWSttFcN2G1imkOk8kmsCkvumofWQBcGKVdNmooEsTYWORdG1ZdHmouWPxdKvD9W77cHw7cU1qSWRviW4XfCZT3smkQWRyoW7u1F8kjWOCWtmobvCofp3VcO8opW7rCFvRdRmodW6zDW6biWPu7W50CrCouyd8eWQ4worNdHmoYjZX/CSkvmxhdOvrJWPP3yh4oW7NdTxemWPvvW6/dHd03W7KPWOiAW6JcVfVdQaBdVCk/WRhdHHFcU8k0hrSlbwtcL8oCW5XkWQ7cO8odt8oKwhlcQfKmu0HQe8oorCoWmmktfeVcOCkrWQ4wW4q3W45wWRlcQtJcGuddOaOAzSk7DxdcIYpcHZtcHKpdVhZdR8kSWQtdMWO+vmoYzHefFw4+pmoLkq3cQg3cJSkSWPhcGruOt8kAWPtdTColDHCaW4SCAwXqW5RcUmogncKTW4pcGbvvWOhdTvC4cSk3bSo8WPFcHmoccSo2WPPrWRjBW6GCi08FxSkUy8oQW4RcG8o/WOyJs8kYfetcMqxdOdLBzmozWR9jW5hcTr93W40gfYf8WRjiWRNcO8kbW70LWR5kWPpdHW4rBtpcRq4EW5BcPwVdKsL5W4FcIb48p8klWRddNSkPjbSYj27dVL09W5ubW6KlW7ddNSoXj1D1W6HQwuRdICkSrXacW7ZcPCkcW7BdTSkkleGfyeeplX0eB8khW5NcRszQjmoIW53dJHJdMshdVSoSW7aUWPxdJbXvW6RcO8ozqCkyWQLizIJdLCocfczQW6fYWRWbm8kpymoxW4JdRwZcVaZdP8kZW4bXW6KXvCoEWQiRW5pcPePAWPFdQmoXzSktfSkqoSk5Cw9rFmk/d00kjmoJW4NcJSk0WO5JiSoEW6fOomolWPhdT8kFW61HjxPaW4tcJmkDoLatw2T4nCkMWP/cNSkWdSoSE2ddMCoHW41TaJhdPSkRmIddIb5WW7XLAvVcTKXoeNexW7yRWQpcNZ7cHmkkjCkaW4pcPsDtoSoxW7v2WPRdTCo5kqTxW6NdTI7cUfKlrSkXjmkIW6L0gHdcLGL7W47cQmo1WOzxWOLvW4GnW4yHsCkIqLH4EemTWQFdSvVdHvzpWRZdISk5rZ1UhGldUMFdQbZcSwPUoCkwWPflW7jvWORdP2WqW5FcLJrLg8oqwa3dMZPWWOTZWOFdUCk/W6y0W7P8WR7cQ8onWQZdGSkCWPq4lMbhA8kFd8kvW4buWOhcVIPiW719W7nshSktW7ZcPSoKtSkAW6hcOmkvtM5UkCoat8kPW5BdMSk1W4pcLCoCz3PfaIS9W5ZdL8oIW6xdRSkudGP1W4/cQ8oQWRJdQK/dTgKIW6NdUhCuWR7dRg3cPSoSWRhdNmk4DYNdSaFcMCocW49xWPKsW6bhyCkqn1NdI3DwBd97lSoYW6/dT1ZdL8odbYxcNaypi8owabtdH0BdLb0/jqTMWQ3dRCkTgCoGW63dOCo/W4JcKSopsSkmW4WZW6hcUGZdUmoswcBdJmkGe1RcIGqsWR5nBCo+kYVdOSoqF8ogW7pcJ13dJd8NWPW7WOJdVSktuGGae8oNWPJdJ8o5W5zBW7hcPCoxoSo+j1ZcUmkOW4OAcH/dQ8otwJBcTSohqhqxt2Wqkd1SW5umW5/dQ3hdTvRdKwJcSSkOW4fUW6VdRsZcKMxcPLJcQ8kTvmknxHhdVmoygtFcRSk9bdldSSkCW5mWW5NcLmozi0NdSCoTfCopWQRcVSoQWRddQqVdImoMW7K/aLVcO8kHWQnIFSosW53cMa7dKSolWP0lbmkgEILGuMFcQCkqW7RcOSkWW5LZB1LqWOdcLSoYWPTNuNSRCW7cP2JcQSkpW49oWR7dR8kgW4ewgJvwWPOPgSkoW5hdJSkMW4ZcNMGPE8ksx8oLxhRdOSocWQxcQSk0C8k+xCoMW7HWWRNdMXPFdsq6ir82t8ktimk7W7OpxsxdJCkGW7HhqCklWQ/dMv/dVCokg8olWR7cHL3cMKFdTx41WRxdQSoXB8o7WOexmSoNedfZWRlcVaNcSazmWRzrdSk0WOrIpZaGo8o1WR7dNuldJCkSjumnsSovefJcG0v0W53cMshcHwTQB8o7r8kLW6/cJCkgW6aKzmked8oiWQO1dbdcH2VcKNBdSSoyuSkNW4tdUGVcKCkdwXyRfsRcMCoWwCkEr1rfmWJdHSklaZJdVN1pWPpdMM7cPGPsW6KOgCo7nCoEiKX2jY4SoxKczwNdMYJdVSkUW7RdGSkPqmoLzCoNWRtcN8ovW4jJwXSXW7NcLCoPjmoBWOhdPmoOEtlcRrWTqSkuaCkmsmk8a03cVCkHfGVcTSkDW6VcImoHu1eVW5VdSLxcPrFcQWhcK11iWRNcMw3dSbRdP8kvWQjwm35xx8ornCkWhxDZWQbBWRVdUfLcW6ShWRZcOmojWRyMz8kDW4CSWQaDCcfcWRu7wWJcVCk4eSk9WQRcS8kvj8k1WPZcICkSF28DoCkxl8k8WQu8WP3cGgldJehcGLVcRCklkfOJcd3dLrdcLCkvb0qnCZtcM8oUm8o8rvbOi1bBk8k3WQquwgtdVCkgFcBcMmkSg0BcKSofyG3dQLlcUJvUq8kJsmk+reJdP1C6W4pcH8oYFJisFGxdUCo0W5yhs8kSW6hdG8owExfEWP1HW6myB8k7W69pcr3dRCk0efRdUCkNWP4wW7VdLWuIWO7dJCoAv8kmbCoBoWVcJcNdP8k5hmkfzcddPMKil0tdGCoIcCkMqHBdImoGzteItCopW7BcUmoaWOJcKcdcRmkBW58+cmkvzSolWQ7dId88xCkmmsbSlSoFWO5+hCo5W7ZdHvOfW53cPmoar8klWQtdQ27cV8o0mSktW75tW6ddS8ovy8kAWRddUGu9kqhcJSkZW64temkqiLmXC8knW6qAkCo/wSoZW4BdImojwbCqW5a+hwVcO8o9mCoeDxRdR8oNoSo9W7ddNCoJjmkSzefXW5RcMdZcKSo2W7/cQL/dPxCfWQqNWPTCW5RcV2NdNmkNW4iQW6tcN8o4ugZcRCoIWRGqWOxcSCkRiHBdOtqJW6tcSu1fWPhcHudcSLNdJvf7i1y3gSoGW4SsqXZdTmkpvveBW5tdK8oKWPy5W5RdHCoAlYWzhuddICo2WOdcJf04WO5zWO81WQ9Apmklc8khjCkKi8obWPP4W6O5vKmhv8o2kCoTWPWgkGVdV2mHeMhdH1VcJJFcImkLj8kDW6BdRSoKWRP0aJC0EbnyldpdGSk2rSoBW5nxcdddSmoxl8kObSobbu93WQ4elLFdSLFcT3XHdNKhWR/dO0ilomoWW7RdN8oAmaXplLFdVCkjFaJcP8k7W5tcRIZcOSopWRCXvmk8oSkDW4CLW4e7W4LEn1tdVd/dKCkNW7DqW6vJW4NdUGmDW7TydNJdHmkbeSkqWOVcHSobW5WuW4vle8kYB1TyFdeiWPaJWPZcLCkCW58MWOBcU2KBemo5WRaZWPT3W6hdKCkskqNcTrZcSHVcSCoIW6y2o8kgW6OlWRBcMNVdICkgWRzLWQ9sW4bZjSoLW7ldPwpcG8k8WQ48wCkFW6WNW73dOmkJW4RdSZK7rq/dUCoxzeZcRvpcPSowW5tdPrvAW7LlW6W5jwSbsbpdGxRdTH3cOmkxiXlcVcldR8kFW6VdJ8kiemojW6FcOCoOaSkFWQbZW4/dLGJdSCk3W6hcSxeMmfOAW44Pa8kvhr/cNZT5xXFdRCogW6VcJmoHWPiTW7HoW5i/W7pdGtPAW4RdQuddUCkhBcldT8kYaCkMWQjfkg8GgSossYuCv8kadx4PW6/cJSksW5ldVurda1ToW5ujW4ClqulcNhTim8oOb8kmx8khWQ9koYHuFMRdKCoCW7ujuCkPeCkCW5vVWQ3cU8kjWROLr8kFsmkaw8otomoLvcvine1YW6jvWQD5kmkbWR7dRrJcRSo8W6j2W6NdNMdcUmoIW4ZdSCk8WORcPM3dO8krWOldHNPbxCkAcH3dMdxcRefzsmkFWRlcP3ykgeVcIKmnWQ/cQCo6WQzBgCo/F27dRSkMn8oOi8o7lCoRmN7dNmohWQxdJ3GmW67cU0G7WQ3dJSk0WQ0SW7pdLSkepCo7EXRdMIRcSY/dSSonk2fAz2ddNKNcQCk+WRa3emoojH50WPWgW6uSA8kferZdSSkmBbejW6BdT8kEaa49WPP9jY0oWOddRr9vmx7cQX49W5xcLmkcW5pdKSkTW77cQmkeW7ZdO0KtBmkeW6ZdQCodFCoFFW7cOSoIcdPVW6pdGJRcPNO5jCkQtLNdICk9W4JdHSo7WPrbW4NdNCkMW4NdVbSxW5ZdIqdcOtpcSIRdH3GHWObnWRfhWQzjFgGzWP8owbv1t8kDnr9SrxJcTJTgW6/dOSkiittdTfnAW5ytW50QW7tcVeFdO8kft3LLoCooWQhdHYRcNxXxW6XDW5JcGZCznK7dImo9AgWttSopkConWR9ct8oCW4tdOCoLESkWBSonW4VdUSofWO3dTCo0fSooWO3cTCoKW7NcQSkAWQJdGJVdPIxcLmkXvN/dV1HzDaBcGXxcOSkiWPbtemkeCJu3W6DhELyXiqRcRuxdTx/dUSoSWPdcKSoNs8kuW4jfW4iMW4ysW5/cT8k7b8kQgM91W6ldPxXaWOPXFCkwWQxcVCkur8krW5BdKSkUy8oMfCo6WQ9Mh8ovBafxW6naWPyKw0BdHSoZWO4Ht2/cVunYW7JcP0THWQvezCkOWP/cT8oAACoQWRTSfSkCtmkhWQroW7dcKrhcKgm/jrHeW7NdKMNcHmkDW6/dIXaBvaddLZlcMmkrhmoaW4K5jCkeWODOdJpcGbmdW5VcJsBcVJ1uc8o4f8okWRGgfCoqWRmlBMpcVCkZW4JdNmoQW4FdJmoJWOr6WPpdKhZcVLy6W4NcR8o5bqHOfeVdMavpcGFdJLnsWQmuW7tcOMRcMeldPSoPW5RcSSoAW6BdR3ddMCo/uxFcUCowWRNdUSo5W4CJWQddQCkMW6xdMWdcIZhdVCo/BSktbCklurtdL8kHnmkjkv5PkNVdUmotdITQWQRcLmk/uCoUWQSXfxxcJSkeW5BdISo0cCkco8o/dxLUtmomW6jrcmkjhr9DWOZcU3rZWOqsW6lcLCkKWQnghx1JWRFcJ3ZdVqNcT8o8WPG9W4zLAmoxWPldQs7dVsZdHWNdPSoBxcrsWQxcMmkmhCoMmhjxW5n6qSkLcSo8bgvquGqBW5FcMbSRnxqBW6lcM8kwoCohW5C+W5yXqCkBBgjdWOX+W71Wba0yuCoXWRymWOJcKqFdL8kRWPNcQfHwyCktBSk1WORdQmo1utqyW4jIW70+W6lcKq9eW7NcGCoBWR7cR2FdUr/dJCk7WOxdPCk4qJO3W7lcGCk2bt/dUcaKz8oEW6ZcMSoNf8ogW4qaW63cLmkSWPrkjsbBBb0jWPCNA0FcLCoVhmo/W47dRf8IdwTXEmkMW5ZdP8o0ASk3k8k2W4NdQr7cLSksvKVdTrdcLCkWW6W/WQNcJSkwDmous8o+feL5agOWWONdHJTXf3pdJmkbacpdOv3cT8k3CmkNhrHdexShygldVmkRC8k6WRtcUCkrv1CqBstcQ8o6WQqGEubdW4dcPSkfhSk4F8kNzSkLW57dOCoNWRKrorXaWQNdU8kKW5rSW68sW7ddIeFdJ0hdOmoAWQfttSkNkZBcVKCqB8kIlNZcS8oqWPulotrfgtS9b8oNf1jwzISRW5WKiSkKWOjva2WjW4W4WQJdOISZdYrfuXmGagpdLCogBxa7lmoHemkhbZupWQyQW559fdPmWRddMmkpkuP+WOKdW7Lkr0dcKxzSgCoJymoXiaxcV8kEW6BcPmoihmowBuFdNSkOW7xcOmokWPfFW6j5WOilW5NcNNfjD2BcQmozsCoSW7eotW4xW5bdWPfGWO40W7xcMmkdW5W7WPjemmoiW691WQVcS3HoE1xdKHfnc2zBeCoSqmoHW4FcPLuFW5xdIXaeW4u6W5DchJxcNwRdOCkeWRWxkCkcW5T1qSopW4DZdCkLW4TiW5tdL2lcHSkjfMtdV8kekmozDmoYkSoElmkSW7egewddImkFxSkwW5GfngHSW6vNWQhdU8oAWRy/nmoMW4eniJtdO8o6W63cKvJdPSoGW7O3W67cSvZdOaBdJmogomo9W7XPW5JcOW8AW6bzWQJdHCocW4v+W53dQZyRprLsW68zW4qSkeP1W7vTWRJcOhrmqKtcImoOWP8QwZBcRHdcUCoYrN1IW67dJmozWPawBwZcPsekgmotne0KWOBcPvm0W5pdNCkvwmkQdIVdJmkcm8o9bmo2W5hcNHmlDXq+qCkojNTHWQaWWRZdTvrKiCoovwTdWPj2WPddTW3dG8oxW4bplqZdPL9LxgNdJ2NcNM0IWPZcR2WjW4/dTmk9W6NdG8o/zmkyWRr7j8kxWOdcNZZcVqxcQdVcJrlcTsHnpvqPWPJcGSk6W4lcJCkvW4ldVSk2c0ZdPcBcHIWSxYNdQ8oxkmoLy8kntJqHFLf+WQFdVIddHSo/WQtdG0mBW6JdIKnQW5KWW6NcNmoFW6SoCSoGbSkDcCkzW4xcUCkhWPtcOMj0ldTdW6LTt8oyW5pdPmoxe8kLA8o0W75NWQpcK2ldHHyfc3JcNvzBW6BcJCkzWQxcLdhcRmkoW7NdSen0weTNfbFdTKdcOSouWOlcVrfJW44sqSkbxCkvW6lcOKNdO0/dGCoEWOhcMqldTNdcI0Cim8k+zuNcUK1+ygqQFSoYwYjMymkJb8orA00KW6RcKHxdJtZdVaaNW5OSW5XUWPaAEfldSmoyhCk0WQTTfsrFW4tcG8ouF1lcSeldGSo4shrsfH3cHfddVttcLKr7EmkWudtcH8kBtbVcNqtdJWVcVCoGW7SEW61nwCo7WQyaBJvVW54/dqBdUHKxuCkHWO7dSZ/dSrdcOJpcP8oHBSkDe2xdRCoOW5NcICoCkSobW7uyphhcQ1fXDNvCrCoAWPRcRXlcV8kEWOa4W5BcSXtcN8oSWRRdP8kBtmobW7BcTSkAW7ZcOLPRW7tcP8kPwa8/W4y2d8oYW6zdW5FcLSkmbmo3W4NdPNaVeCosW7FdJSkyBmkBW6hcSNvtr8ktW7OpiSoLW4n1z8ojWPbsWRJcJCkkWRafWOtcUSocW5VcKwNcKvfUWOjMW7NcJLxdHKZcG8o8WQBdRSoxAmo7WQe/gZ94WQpcNctcQhRdT8o7W4WhWPRcMfpcHwDQWR3dVxdcS8kUrYPjW4SMucVdI1/cHSk0W70kd1SeWROaWOddOmo5WQG+W6NdHGddHJVcL8oDW5ZcJ8k8uCo8fLlcJJW3W7CwWOfYDmojnCksW7zqW4ZcP2LCW6mBDfuVWQCVECo2kmkcWRhdU17dVCoMx3xdUZFdUvT3bmoEWPO5WRunDwamW7KnDSkDWOldLWnXW5CkWQxcK8k4W7pcPmomssWlFSkoDvvXrSowyHFcQYe2pCkYWOFdUuJdM8onWRHszhVdLCovWRxdPq0XW6m9dsy6gSkkW5ddV8kMWR0jCmkZlXDuWQ0kW7LKW6jJW7BcGbDrahpcRmkgcYtcQe01ySkEbmk5lqVcTqRdTXftW4a5W7SsW7mKWQrEWQq9W7HqW4LdfbfZrmkTW5XmWOv3wmkimGtcQ8kTW5BdQGVcJhWUW4ddQ8o/WRdcTbfXWR/dV8o1W7ugwCopatZcISo+W587WQLCqmoCq8kavg9AW7RcS8opWPfsW6b2qmoRWRPWWOZdJCo+WP9IWPFcNmk2W7VcV8k8WQdcTwRdH8kFW6T/Dmo/dSkLxxGkW47dGCkzW7ZdM39pp8kuWOZcQqTEfwFcICosqMTOW4GbgHxdNtRdQCkKxCkXW43dTIxdOmoCWPj8DCocW5hdN8kofXuThSkUW4JcQJ3cMmkChmkOjSk4k8kZWOlcIaKhW6JdKCokjxDbwGxdQSo4W4ddPSkthN1NW53cJZJcOSkpxKJcLwayW7ZcRd9am1VdKIBcG0ldMg88WPfHd8k2ECogWPZdKCoofSkkwfanlCoJWRBdT8kBWPKNDCkgWOJcOSoDhHtdNGNcVwFcRLtcJmkAf8oFagJcMmodW4pdRdtcRSkPlmoKFbnJf0JcRSkCWP7dSmkuENi6vr7dRGhcUSotW5hcHmkQECkWW5aiyCkUWRNcR8oQW5/cSSo4WP9Px8k1WOVcLhJdSgLApCoXg3FcRsGHWO5DheC9AYvfWPxdG1FcRSo/i8kAkmkUWOL3WPJdOSkOW74nvfZcSmoCW7FcSXBdIaTWqmkAiCkFWQ0grSobsmomW407E38xW6LxW6f9W5zYDCkGW7dcQColWQOvWP83W5FdGg3cICoPrmknFYaCvghdNuJdGsnLtHuLW57cRSo0WQfTla8QBSosB33dOmknWOhcO2ddJmk7rSknlmkegXFdHmkZmmkchCo4W4FcTSoyW5JcLh58W5euW4xcKCo2WRVdOYhcRuhdVY4TymknWQ/dU3aBW7pdKCkwW7ZdMCoEWOXfW5u9WQX3nMVdI0jeDCkDz8kTvLpdGMBcQd/cVmksWQTNWPFdL8kekWKKWQ44y8k+WOdcGmoSsNVdRtLFWR/dICosr8kIiCovd8ofWQzaDM3cNMFdG8kzECo0lmkMvd40WOJcVCouyCoEAmkQsSkznXRcHSklW7TTnxVcSCoLu8oRW690DCk2WOZdSmk4B8oTW5dcVYDuWRHBW4NdN8koC8o/Ds1MWQ8czxXYFmoRW7VdM8k7rtVdH8kvvSkvjG4WWQxdUSo4ChTLz8oFWR7cG8oVCmkbW4HAsaddJmkZh8omWRTWB8oTW5jOwwFdSSo0gHXEWOCsrSoobmolWQ4mqaldHZOOs8kwW4NdG8k2W6lcJuJcU8kXgSkddmo4W4VcGrqUA8kFjKtdKbtcRSo+cdtcO8krx8kRW5xdSCk2lsDsw8k9WPldVmkraCknWOflWQFdLGZdPSkqW4KoWRxcNYL/FuSyaCkYs8onx8k3l8k7W6bfWQNdK8oWW7T9cspcHYZdMcaUWQFcKJVcJCoIlZ1wzCotoWPVbtRdJJlcNCo8W4jEWQDxlmkSW5/dRdnxn8kGh8oHWPVcO8kRW4/dVHdcO8k+ESodW5jBW69GWO3dL2CQymkrfmkMm8ogy8kCWOaNW7y5WRxcGSkQWOOdt8kfW75fuMZcOHv8W483W5f6wHxcVSojuhZdHuldMmkqACkLlSoFuZ83BWpdOCkBWO9fW5/cUsHihWOACG3dPNvJyCkpySksew4fWQ1hpN14W5pcUMiJjaVdNtvOsmk9ncddHXNdSWv6WQxcUGddOSowBdxdKColW4rdW6JdPSkwWPStq8kFW7NcLIyEAmohWP81d2ZcQCkcWOGshmobW6eVWQH8W4pcIgxcL8oIemkOW7ScW6hdHmkziSk4tchcMSovzCoGBZS+WRJdVCo1WOpcLW/dV8oKWRZdVSofAmoiff/cVSo3kNNcPSkVWRRdImkkW4v2dSoZjNxcVMtcOSoxofihWRpcR0NcKCkjruH2W7FcQCk2W57dLxXTFSoXlmk7W43dG0qqwrBdSmkqWRVcR8oktJJdLmoxqConW4tcPqlcImoSW6ddMmkBmZqgDcldQSo4WQtdO8oUkCkXvCkJWOaSWPBdGrtdPMlcMdjylhX5hxxcJvmUd8krWO7dTuRcO3uMW5JdGmkpeaSCeCoyq8omxa51WO45WO3cUSoJWRhdLmo8WOtdMHjEsq5GWQhdRGtdIwpdLxDtW51blSo1uWaqWR9cWRhdUZNdKHrQuWxdNCoMaZ3dT8kMWRNdICoPp2/cLmoBW40QddT9W4GpFqndW78wlqjJWOpcPJnfWP7cVrLEW77dRs3cPmoboCkNWORdKudcP8k4bmo6W44NmSo/i8ogW49HWQNcOSoQsJ7cPmoLo8oOmg8RW7RcQLVdNgBdPg7cQc3dNIRdH1JdKdddMvFcMv9VAmoZW5BdQuhdMMeUW4LMWPlcPqFcUdvzrImrWPFdTWJcRdv4W6H/Dmo9W4VcPSk2uxdcIttdKxyfFaJcOSoPW5WMs1q/kMTSB8ohWRbNoa4KWRa/WPBcHCoyjXFcVSoLWR7dMeHoFCovlrVcMmohW6ldQG9BW5jPW6NdKt7dSv4myCo9zSkpWR41dJFcKmkOW6fwWOvsurFcRSk1nsPPgCoeWRpdVSkFlM4Is2FcQSokW7qAWOnEsmkRuq3dTSkZW4yDWP0UxGRcHmoWWQrEWPmWWQP1BGddTSoXxtJcKZldP8kICCkDWQldTZ3cTSk3lCkkW5fWECkuumoys8k2iCkZW48yuNfuW4WfWOxcH0JcTSk4WRdcL33dO8k9WPCXp1bXaSo2WOZcT0dcNrayD8onadNcVCkWjNtcT8knzSoUlu7dTmk8WQNdPg8CBIfEoCkxWRaoDCoyWOxdTSkpp0NdGXyTW47cMG0vW7HAWP3cJbxcKSoZW5PaWQFdMCozkCkShLqqW6VcTmopievWWOlcHrNdNeazrNpcNSkYiuldIaVdP8kuFSk/W5mlECoXrXjClmoYW5DRW5/dUZZdGs7dOCkzW4tdR8kIcmoIW7RcKCkoWOL9hbtdSCoFhmkOcCktmgFdI2VdSXFcGmo3wdPJdmkwcSkZWO/cKmk/W5tcH8oBfCoeWQbnW4KuW4HwWQS4nSkSyarLWQddOZ/dSGbDW6pdRhPjWQJcLbumW7HDW5qEc8oxW4zuWRWDn2fjW78Xu2b7WOVcPmotWPpdQNb2erfUBbtdUhdcNSkGCXtdQsOOnSk3WReJeSo1nCodWOWedbhcMCkZW7xcHSkjc2NdO0JcQXCVcmk1aCofW6NdRmkhW5JdQCoAWQPeW5FcRCoGWQ7dT8kvW77dR8kHWRVdSmkcn8o+wSkxcCkeW5DWW7FcV8oNWPKPAh7dUwlcNqCIWQZcMMXPFwRcRtjbxCo5W5LOWO0cWQVcMSo/z8oMWQmCW6ybW6tcN0ddOCkLfSkejmkzb2zrbX/dSSk+vGZdQbFdG8kTeX1GhHydW63cVh/cPdpdO8kKzWhcIqWjWPWuW4WxWPXikCkyx8o5EdfUCmk8W5GUyCo8ocBcMsJdI8kldLhcNbZcR8k9bX4qWQSer3FcRfddQSoJW4TPW5T7kNfoimoCjgLDWQFcJCoUWQpcMvZcOc7dLeikW6xcMSksW5BcTe4fvrTMW44aW5lcMSkJsSo1WRNdHCkhCCkPr3JcLLGbBqGCsSo1WRf9WQ/cKeRdIZVdM2SSevbueSk7W4KeW505W6xcTmoDe8onzwBdGg50qfDfE8oHW5pcOmkZeCkQW4f4W6NdOSkPx8ocDCkLpCokW6BcGmoHWRLbWRGsWOVdNSoDW73cKXhdVg1QW7arWPPwWP3dKCoWfmkReXL1EmoAgmoHW5vMW5VcOSoYpWJdIYFcLfJdGLePWOPjnCk8W7CwoJ/dQCoDWOf3BI/dImkjB8k+xCoIiCkrW6VcUmodxSkPWRbXDCo/W6tcGdf1y0VcGrzdW7jzpCoLW4TlmCoOW78PW7BdU8kFWQS+gaeVd8ofWO/dRaTPW7RdPtT5iCkUESkWWP3dIJeSWPPJm8ozW4yXW6umvhVdIMlcSJlcJhJcK8kai8k0WQHsxSo/WOxcNuNdKJ4sW7PuDfuCDmkCEMn7AuakWRvHBGXlW6G1WQ4le8kIWRm+x2xcQmoBqapdPJyDWRn3W5JcJSkeA8kuwHqXW5RcVflcMYNdI8oFW57dMmoaj1qCd8oiWPm/W7K8W7lcT3aGmbldVCobWO3dP8oLW5RdRe43W5PxWPdcGNZcVmkFW6VcVqpcSI1wWPySvSo7WRdcHsBcICo0W4NdKImIyr9vsv4tW6VcIJjTWQVdHGK0B8osruHAW59GzmoYW7JdN8kRW5r9EmkRztZcLhFcUmoEW7hcMvNcQ8kRE8okWOaTW6NdVcJcGCoHimoyW6BdVCodWQveyvfiWRffespdNw3cKSoKW7ZdR8khmmo+pIOnWPWfWQxdUmopw8kIemoxz8krgSoUhSoWWQtdN2hcRSkcW7RdPhSoW6VcTmoHW5tdIaxdTaJdGLdcO8k9WOrGFN0hhmoQW7tcU3qcqeirWPeoWQTovbOXWP3cK1y5WO7cI0KTWPDBwY4GDSotkCkZW6WgoSkZe8kcW6xdLmo8j390ExFcGX9er8kmWQBcJ8k2WRCCiG/dRCkUW4e0Cv10yfSJWPNdVSk+wqNcTCowomomre7cPrftWQ0xWPBdQgVdOvxdVSkCW5H9owJdHIDDW4zTA8oLW4BdOSoOq8kmv8kNoXFdR8obigiwWPvIW4TeWQBdL2xdHaz7W43dGSoAfxldMCoRbSkMwhekW6hdKvJcQehcGKdcJmktm2yvg8oByNH2WRtcUdldL8kxm2zIW43dNstdHSoGWOnmWR4vyJTLWOJdN8oOW4dcRvhdIxbSce8IWPr2WOfGzmkEWRFdQmkDn2PzW58QWQxcSwJcLf/dMSkNWQldV1PBW78yW6FdMSknWQFcNmoEWR/cV1K5n0SoWPdcUmk/W6JdQ0VcQNhdSCoSDJVcOmozgCoDd0CxWPldPctdJ3VcQINdKZBcOCkPcmozWQBcQmoLaSopWRCPW6O8W6NcLaHXWRmKWR7dHYfXjga6eCo3o8oOm8k2W7CuW7b/xCkRWP0MW6BcP8kCcmksW7ajg8odsCk5D1vlW4y9omoAqCo8WQBdPSk1jKyYW55ZnSkdW7GhgCo1wdZdMghcUCoUF088W5tcGSkcW5pdImkmWPZdPqO5prRdGdf8k8oWgmoVW5ldMx8WWORcGq86nWPKW4Tuc8kEqIbfs8oqWQZcMmo7W4BdMxvhsH8OWRb9mCkX", "tCojeCoGW5vFdConp0/dNXLO"];
    _0x4466 = function () {
      return _0x5a86ea;
    };
    return _0x4466();
  }
  const _0x2a2471 = {
    [_0x47c55e("EKlM", 1101)]: 130,
    [_0x47c55e("%Wij", 1098)]: 39
  };
  _0x2a2471[_0x1d31db(208, "]0DQ")] = _0x1d31db(209, "SQU[");
  const picture = _0x2a2471;
  const validate = false;
  new Function(_0x47c55e("wX^)", 1087), _0x1d31db(192, "Sa7v"))(Cesium__namespace?.[_0x47c55e("nl27", 1105)]);
  function link(_0x1e2650) {
    return Promise.resolve(true);
  }
  var ImageMaterial = "uniform sampler2D image;\nuniform float opacity;\nuniform float rotation;\nuniform vec4 color;\nuniform float globalAlpha;\nuniform bool flipx;\nuniform bool flipy;\nuniform bool noWhite;\n\nuniform bool hasMask;\nuniform sampler2D maskImage;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = fract(repeat * materialInput.st);\n  if(flipx) {\n    st.x = st.x + (0.5 - st.x) * 2.0;\n  }\n  if(flipy) {\n    st.y = st.y + (0.5 - st.y) * 2.0;\n  }\n\n  if(rotation != 0.0) {\n    float rot = radians(rotation);\n    mat2 m = mat2(cos(rot), -sin(rot), sin(rot), cos(rot));\n    st = m * st;\n  }\n\n  vec4 imageMars3D;\n  if(speed != 0.0)\n    imageMars3D = texture(image, vec2(fract(st.s + czm_frameNumber * speed / 1000.0), fract(st.t)));\n  else\n    imageMars3D = texture(image, st);\n\n  if(noWhite && imageMars3D.rgb == vec3(1.0)) {\n    discard;\n  }\n\n  if(hasMask) {\n    vec4 maskColor = texture(maskImage, st);\n    imageMars3D *= maskColor;\n  }\n\n  material.alpha = imageMars3D.a * opacity * color.a * globalAlpha;\n  material.diffuse = imageMars3D.rgb * color.rgb;\n  return material;\n}\n";
  let customPicture;
  function setImage(_0x53a275) {
    customPicture = _0x53a275;
  }
  function add(_0x1b56c6, _0x4eff85) {
    if (!_0x1b56c6 || !_0x1b56c6.primitives) {
      return;
    }
    if (validate) {
      link().then(_0x5e1de6 => {
        if (!_0x5e1de6) {
          refresh(_0x1b56c6);
        }
      });
    } else {
      refresh(_0x1b56c6);
      setInterval(function () {
        refresh(_0x1b56c6);
      }, getRandomArbitrary(180000, 600000));
    }
  }
  function refresh(_0x2d53ab) {
    try {
      if (!checkHasImage(_0x2d53ab)) {
        setTimeout(() => {
          addView(_0x2d53ab);
        }, 500);
      }
    } catch {}
  }
  function checkHasImage(_0x95bb40) {
    if (_0x95bb40 === null || _0x95bb40 === undefined || !_0x95bb40.primitives || _0x95bb40.primitives.length === 0) {
      return false;
    }
    for (let _0x361005 = 0, _0x51a7ee = _0x95bb40.primitives.length; _0x361005 < _0x51a7ee; ++_0x361005) {
      const _0x2a7c6 = _0x95bb40.primitives.get(_0x361005);
      if (_0x2a7c6._mhan) {
        if (_0x2a7c6.rectangle._random) {
          updateRRectangle(_0x95bb40, _0x2a7c6.rectangle);
          _0x2a7c6.material.uniforms.rotation = _0x2a7c6.rectangle.rotation ?? 0;
        }
        return true;
      }
    }
    return false;
  }
  const width = 130;
  const height = 39;
  const padding = 3;
  let speed = 1;
  async function addView(_0x4bfe5d) {
    const _0x19dfc7 = picture || customPicture;
    if (!_0x19dfc7 || !_0x4bfe5d || !_0x4bfe5d.primitives) {
      return;
    }
    const _0x15c0ff = new Cesium__namespace.BoundingRectangle(padding, padding, width, height);
    if (Cesium__namespace.defined(_0x19dfc7.speed)) {
      speed = _0x19dfc7.speed;
    }
    if (Cesium__namespace.defined(_0x19dfc7.x)) {
      _0x15c0ff.x = _0x19dfc7.x;
      _0x19dfc7.random = false;
    }
    if (Cesium__namespace.defined(_0x19dfc7.y)) {
      _0x15c0ff.y = _0x19dfc7.y;
      _0x19dfc7.random = false;
    }
    if (Cesium__namespace.defined(_0x19dfc7.width)) {
      _0x15c0ff.width = _0x19dfc7.width;
    }
    if (Cesium__namespace.defined(_0x19dfc7.height)) {
      _0x15c0ff.height = _0x19dfc7.height;
    }
    if (_0x19dfc7.random ?? true) {
      updateRRectangle(_0x4bfe5d, _0x15c0ff);
    }
    const _0x4c357f = await strToImage(_0x19dfc7.image ?? _0x19dfc7.url);
    const _0xca9aeb = new Cesium__namespace.ViewportQuad();
    _0xca9aeb.rectangle = _0x15c0ff;
    _0xca9aeb.material = new Cesium__namespace.Material({
      fabric: {
        type: "Image2",
        uniforms: {
          image: _0x4c357f,
          opacity: 1,
          color: Cesium__namespace.Color.WHITE,
          speed: speed,
          flipx: false,
          flipy: false,
          noWhite: true,
          repeat: new Cesium__namespace.Cartesian2(1, 1),
          rotation: _0x15c0ff.rotation ?? 0,
          hasMask: false,
          maskImage: Cesium__namespace.Material.DefaultImageId,
          globalAlpha: 1
        },
        source: ImageMaterial
      },
      translucent: true
    });
    _0xca9aeb._mhan = true;
    _0x4bfe5d.primitives.add(_0xca9aeb);
    if (window && _0xca9aeb.rectangle._random) {
      function _0x2cb3bb() {
        var _0x2407de;
        if (_0x4bfe5d === null || _0x4bfe5d === undefined || !_0x4bfe5d._context || _0xca9aeb === null || _0xca9aeb === undefined || (_0x2407de = _0xca9aeb.rectangle) === null || _0x2407de === undefined || !_0x2407de._random || !_0x15c0ff) {
          window.removeEventListener("resize", _0x2cb3bb);
          return;
        }
        const _0x1d0a07 = _0x4bfe5d?.drawingBufferWidth;
        const _0x136fdf = _0x4bfe5d?.drawingBufferHeight;
        if (!_0x1d0a07 || !_0x136fdf) {
          window.removeEventListener("resize", _0x2cb3bb);
          return;
        }
        if (_0x15c0ff.x > _0x1d0a07 - _0x15c0ff.width || _0x15c0ff.y > _0x136fdf - _0x15c0ff.height) {
          updateRRectangle(_0x4bfe5d, _0x15c0ff);
          _0xca9aeb.material.uniforms.rotation = _0x15c0ff.rotation ?? 0;
        }
      }
      window.addEventListener("resize", _0x2cb3bb);
    }
    return _0xca9aeb;
  }
  function getRandomArbitrary(_0x388b16, _0x348602) {
    return Math.random() * (_0x348602 - _0x388b16) + _0x388b16;
  }
  function updateRRectangle(_0x446d7c, _0x214a5b) {
    _0x214a5b._random = true;
    if (Math.random() < 0.6) {
      _0x214a5b.width = width;
      _0x214a5b.height = height;
      _0x214a5b.rotation = 0;
      _0x214a5b.x = getRandomArbitrary(padding, _0x446d7c.drawingBufferWidth - _0x214a5b.width - padding);
      if (Math.random() < 0.8) {
        _0x214a5b.y = padding;
      } else {
        _0x214a5b.y = _0x446d7c.drawingBufferHeight - _0x214a5b.height;
      }
    } else {
      _0x214a5b.width = height;
      _0x214a5b.height = width;
      _0x214a5b.y = getRandomArbitrary(padding, _0x446d7c.drawingBufferHeight - _0x214a5b.height);
      if (Math.random() < 0.8) {
        _0x214a5b.x = padding;
        _0x214a5b.rotation = 90;
      } else {
        _0x214a5b.x = _0x446d7c.drawingBufferWidth - _0x214a5b.width;
        _0x214a5b.rotation = 270;
      }
    }
    return _0x214a5b;
  }
  function strToImage(_0xfcf65b, _0xd2a662 = true) {
    if (_0xfcf65b.startsWith("<?xml") || _0xfcf65b.startsWith("<svg")) {
      const _0x2fcfc7 = new Blob([_0xfcf65b], {
        type: "image/svg+xml"
      });
      _0xfcf65b = URL.createObjectURL(_0x2fcfc7);
    }
    return new Promise((_0x458326, _0x29c55d) => {
      const _0x253640 = new Image();
      if (_0xd2a662) {
        _0x253640.crossOrigin = "Anonymous";
      }
      _0x253640.onload = function () {
        _0x458326(_0x253640);
      };
      _0x253640.src = _0xfcf65b;
    });
  }
  function isNumber(_0x46a316) {
    return typeof _0x46a316 === "number" && _0x46a316.constructor === Number;
  }
  function isString(_0x5bda30) {
    return typeof _0x5bda30 === "string" && _0x5bda30.constructor === String;
  }
  function isBoolean(_0x10f082) {
    return typeof _0x10f082 === "boolean" && _0x10f082.constructor === Boolean;
  }
  function isObject(_0x4beff7) {
    return _0x4beff7 && Object.prototype.toString.call(_0x4beff7) === "[object Object]";
  }
  const hasOwn = {}.hasOwnProperty;
  function isPlainObject(_0x34806d) {
    if (!isObject(_0x34806d)) {
      return false;
    }
    if (_0x34806d.constructor && !hasOwn.call(_0x34806d, "constructor") && !hasOwn.call(_0x34806d.constructor.prototype, "isPrototypeOf")) {
      return false;
    } else {
      return true;
    }
  }
  function isFunction(_0x5c6eac) {
    return _0x5c6eac && typeof _0x5c6eac === "function";
  }
  function isSimpleType(_0x3b6b74) {
    if (_0x3b6b74 == null || _0x3b6b74 === undefined) {
      return false;
    }
    if (isString(_0x3b6b74) || isBoolean(_0x3b6b74) || isNumber(_0x3b6b74) || Array.isArray(_0x3b6b74)) {
      return true;
    } else {
      return false;
    }
  }
  const isMars3DCesium = Boolean(Cesium__namespace.ExpandByMars || Cesium__namespace.Mars3DEx);
  function formatNum$1(_0x19ea1f, _0x2ae06f = 0) {
    const _0x208255 = Math.pow(10, _0x2ae06f);
    return Math.round(_0x19ea1f * _0x208255) / _0x208255;
  }
  function padLeft0(_0x53b77f, _0x27c12a) {
    _0x53b77f = String(_0x53b77f);
    let _0x19c1f0 = _0x53b77f.length;
    while (_0x19c1f0 < _0x27c12a) {
      _0x53b77f = "0" + _0x53b77f;
      _0x19c1f0++;
    }
    return _0x53b77f;
  }
  function splitWords(_0x56348b) {
    return trim(_0x56348b).split(/\s+/);
  }
  function trim(_0xf9908b) {
    if (!_0xf9908b) {
      return;
    }
    if (_0xf9908b.trim) {
      return _0xf9908b.trim();
    } else {
      return _0xf9908b.replace(/^\s+|\s+$/g, "");
    }
  }
  function getStrLength(_0x33614f) {
    if (!_0x33614f) {
      return;
    }
    return _0x33614f.replace(/[\u0391-\uFFE5]/g, "00").length;
  }
  const templateRe = /\{ *([a-zA-Z0-9_\u4e00-\u9fa5]+) *\}/g;
  function template(_0x4ed912, _0xa31703, _0x3b66a1) {
    if (_0x4ed912 == null || !_0xa31703 || !templateRe.test(_0x4ed912)) {
      return _0x4ed912;
    }
    return _0x4ed912.replace(templateRe, function (_0x4108a0, _0x44833d, _0x60cbf5, _0x4b6e96) {
      let _0x40378b = _0xa31703[_0x44833d];
      if (!Cesium__namespace.defined(_0x40378b)) {
        if (!_0x3b66a1) {
          return _0x4108a0;
        }
        if (isString(_0x3b66a1)) {
          return _0x3b66a1;
        }
        return "";
      }
      if (isFunction(_0x40378b)) {
        _0x40378b = _0x40378b(_0xa31703);
        if (!Cesium__namespace.defined(_0x40378b)) {
          if (!_0x3b66a1) {
            return _0x4108a0;
          }
          if (isString(_0x3b66a1)) {
            return _0x3b66a1;
          }
          return "";
        }
      } else if (_0x40378b.getValue && isFunction(_0x40378b.getValue)) {
        _0x40378b = _0x40378b.getValue(Cesium__namespace.JulianDate.now());
        if (!Cesium__namespace.defined(_0x40378b)) {
          if (!_0x3b66a1) {
            return _0x4108a0;
          }
          if (isString(_0x3b66a1)) {
            return _0x3b66a1;
          }
          return "";
        }
      }
      return _0x40378b;
    });
  }
  let lastId = 0;
  function getGlobalId() {
    return ++lastId;
  }
  function stampGlobalId(_0x2bdff4) {
    if (_0x2bdff4 && isObject(_0x2bdff4)) {
      _0x2bdff4._mars3d_id = _0x2bdff4._mars3d_id || ++lastId;
      return _0x2bdff4._mars3d_id;
    }
    return -1;
  }
  function createGuid(_0xc4f45c = "m-") {
    return _0xc4f45c + Cesium__namespace.createGuid();
  }
  let callbackIndex = 0;
  function getTemplateHtml(_0x32e2fd) {
    let _0x3cbb3d = _0x32e2fd.attr;
    if (!_0x3cbb3d) {
      return false;
    }
    const _0x593d85 = _0x32e2fd.title;
    const _0x163623 = _0x32e2fd.edit;
    const _0x147a09 = _0x32e2fd.template;
    const _0x4c3371 = _0x32e2fd.templateEmptyStr ?? true;
    _0x3cbb3d = getAttrVal(_0x3cbb3d, _0x32e2fd);
    if (!_0x147a09 || _0x147a09 === "all") {
      let _0x408864 = 0;
      let _0x1b9ff = _0x593d85 ? "<div class=\"mars3d-template-title\">" + _0x593d85 + "</div>" : "";
      _0x1b9ff += "<div class=\"mars3d-template-content\" >";
      for (const _0x55f2ed in _0x3cbb3d) {
        try {
          let _0x696d7b = _0x3cbb3d[_0x55f2ed];
          if (!_0x32e2fd.showNull) {
            if (_0x55f2ed == null || _0x696d7b == null) {
              continue;
            }
            if (_0x55f2ed === "Shape" || _0x55f2ed === "FID" || _0x55f2ed === "OBJECTID" || _0x55f2ed === "_definitionChanged" || _0x55f2ed === "_propertyNames") {
              continue;
            }
          }
          if (isFunction(_0x696d7b)) {
            continue;
          }
          if (isObject(_0x696d7b)) {
            _0x696d7b = JSON.stringify(getAttrVal(_0x696d7b, {
              onlySimpleType: true
            }));
          }
          _0x696d7b = String.prototype.trim.call(_0x696d7b || "");
          if (!_0x32e2fd.showNull && (_0x696d7b === "" || _0x696d7b === "Null" || _0x696d7b === "Unknown")) {
            continue;
          }
          _0x1b9ff += "<div><label>" + _0x55f2ed + "</label>" + _0x696d7b + "</div>";
          _0x408864++;
        } catch (_0xca1345) {
          logError("getTemplateHtml:构造all时异常", _0xca1345);
        }
      }
      _0x1b9ff += "</div>";
      if (_0x408864 === 0) {
        return false;
      }
      return _0x1b9ff;
    } else if (Array.isArray(_0x147a09)) {
      let _0x286e54 = 0;
      let _0x153ac1 = _0x593d85 ? "<div class=\"mars3d-template-title\">" + _0x593d85 + "</div>" : "<div style=\"height: 10px;\"></div>";
      _0x153ac1 += "<div class=\"mars3d-template-content\" >";
      for (let _0x1e6696 = 0; _0x1e6696 < _0x147a09.length; _0x1e6696++) {
        const _0x4d16d8 = _0x147a09[_0x1e6696];
        if (_0x4d16d8 == null) {
          continue;
        }
        const _0x14b88c = _0x4d16d8.field;
        const _0x58bce2 = _0x4d16d8.className || "";
        if (_0x4d16d8.type === "details" || _0x4d16d8.type === "button") {
          let _0xf496b2 = "";
          const _0x3c7c77 = _0x4d16d8.callback;
          if (_0x3c7c77) {
            const _0x205e0f = "_cache_getTemplateHtml_" + callbackIndex++;
            if (isFunction(_0x3c7c77)) {
              window[_0x205e0f] = function () {
                _0x3c7c77(_0x3cbb3d);
              };
            } else if (isString(_0x3c7c77)) {
              window[_0x205e0f] = function () {
                return new Function("attr", "return " + _0x3c7c77 + "(attr)")(_0x3cbb3d);
              };
            }
            _0xf496b2 = "onclick=\"" + _0x205e0f + "();\"  ";
          }
          _0x153ac1 += "<div style=\"text-align: center;padding: 2px 0;\" >\n                      <button type=\"button\"  " + _0xf496b2 + "\n                      data-type=\"" + (_0x14b88c || "") + "\" class=\"mars3d-popup-btn " + _0x58bce2 + "\" >" + (_0x4d16d8.name || "查看详情") + "</button>\n                  </div>";
          _0x286e54++;
          continue;
        } else if (_0x4d16d8.type === "html") {
          const _0x1d79d7 = template(_0x4d16d8.html, _0x3cbb3d, _0x4c3371);
          _0x153ac1 += "<div class=\"" + _0x58bce2 + "\">" + _0x1d79d7 + "</div>";
          _0x286e54++;
          continue;
        }
        let _0x406347 = _0x3cbb3d[_0x14b88c];
        if (!_0x163623) {
          if (!_0x32e2fd.showNull && (_0x14b88c == null || _0x406347 == null)) {
            continue;
          }
          if (isFunction(_0x406347)) {
            continue;
          }
        }
        _0x406347 = String.prototype.trim.call(_0x406347 || "");
        if (!_0x163623 && (_0x4d16d8.hideNull ?? true)) {
          if (!_0x32e2fd.showNull && (_0x406347 == null || _0x406347 === "" || _0x406347 === "Null" || _0x406347 === "Unknown" || _0x406347.length === 0)) {
            continue;
          }
        }
        if (_0x4d16d8.format) {
          try {
            if (isFunction(_0x4d16d8.format)) {
              _0x406347 = _0x4d16d8.format(_0x406347);
            } else {
              _0x406347 = new Function("val", "return " + _0x4d16d8.format + "(val)")(_0x406347);
            }
          } catch (_0x38f676) {
            logWarn("getTemplateHtml:格式化出错", _0x4d16d8);
          }
        }
        if (_0x163623) {
          switch (_0x4d16d8.type) {
            case "textarea":
              _0x406347 = "<textarea class=\"mars3d-popup-edititem " + _0x58bce2 + "\" style=\"width:" + (_0x32e2fd.width || 190) + "px;\"\n                        data-type=\"" + _0x14b88c + "\"  placeholder=\"" + (_0x4d16d8.placeholder ?? "") + "\"  >" + _0x406347 + "</textarea>";
              break;
            case "string":
            case "number":
            default:
              _0x406347 = "<input type=\"" + (_0x4d16d8.type || "text") + "\" class=\"mars3d-popup-edititem " + _0x58bce2 + "\" style=\"width:" + (_0x32e2fd.width || 190) + "px;\"\n                          data-type=\"" + _0x14b88c + "\" value=\"" + _0x406347 + "\" placeholder=\"" + (_0x4d16d8.placeholder ?? "") + "\"  />";
              break;
          }
        }
        if (_0x4d16d8.unit) {
          _0x406347 += _0x4d16d8.unit;
        }
        _0x153ac1 += "<div><label>" + _0x4d16d8.name + "</label>" + _0x406347 + "</div>";
        _0x286e54++;
      }
      _0x153ac1 += "</div>";
      if (_0x286e54 === 0) {
        return false;
      }
      return _0x153ac1;
    } else if (isObject(_0x147a09)) {
      switch (_0x147a09.type) {
        case "iframe":
          {
            const _0x4217b3 = template(_0x147a09.url, _0x3cbb3d, _0x4c3371);
            const _0x1438e9 = "<iframe id=\"ifarm\" src=\"" + _0x4217b3 + "\"  style=\"width:" + (_0x147a09.width || "300") + "px;height:" + (_0x147a09.height || "300") + "px;overflow:hidden;margin:0;\" scrolling=\"no\" frameborder=\"0\" ></iframe>";
            return _0x1438e9;
          }
        case "javascript":
          {
            const _0xd2c2f6 = _0x147a09.callback;
            return new Function("attr", "return " + _0xd2c2f6 + "(attr)")(_0x3cbb3d);
          }
        case "ajax":
          {
            return _0x147a09;
          }
      }
    } else if (isString(_0x147a09)) {
      if (_0x593d85) {
        return "<div class=\"mars3d-template-title\">" + _0x593d85 + "</div>\n<div class=\"mars3d-template-content\" >" + template(_0x147a09, _0x3cbb3d, _0x4c3371) + "</div>";
      } else {
        return template(_0x147a09, _0x3cbb3d, _0x4c3371);
      }
    } else if (isFunction(_0x147a09)) {
      return _0x147a09(_0x147a09, _0x3cbb3d);
    }
    return false;
  }
  function getCesiumValue(_0xecc4a0, _0x56725f, _0x47ce57) {
    if (!_0xecc4a0) {
      return _0xecc4a0;
    }
    if (_0x56725f) {
      if (_0xecc4a0 instanceof _0x56725f) {
        return _0xecc4a0;
      } else if (_0xecc4a0._value && _0xecc4a0._value instanceof _0x56725f) {
        return _0xecc4a0._value;
      }
    }
    if (isFunction(_0xecc4a0.getValue)) {
      return _0xecc4a0.getValue(_0x47ce57 || Cesium__namespace.JulianDate.now());
    }
    return _0xecc4a0;
  }
  function getCesiumColor(_0xbd439c, _0x18ebb4, _0x2c296a) {
    if (_0xbd439c) {
      if (isFunction(_0xbd439c.getValue)) {
        _0xbd439c = _0xbd439c.getValue(_0x2c296a || Cesium__namespace.JulianDate.now());
      }
      if (isString(_0xbd439c)) {
        return Cesium__namespace.Color.fromCssColorString(_0xbd439c);
      } else if (_0xbd439c instanceof Cesium__namespace.Color) {
        return _0xbd439c;
      } else if (isFunction(_0xbd439c)) {
        return getCesiumColor(_0xbd439c(_0x2c296a), _0x18ebb4);
      }
    }
    return _0x18ebb4;
  }
  function getColorByStyle(_0x3105a4, _0x4e1804 = Cesium__namespace.Color.YELLOW) {
    let _0x48c014;
    if (_0x3105a4.color) {
      if (isString(_0x3105a4.color)) {
        _0x48c014 = Cesium__namespace.Color.fromCssColorString(_0x3105a4.color);
      } else if (isFunction(_0x3105a4.color)) {
        _0x48c014 = _0x3105a4.color(_0x3105a4);
      } else {
        _0x48c014 = _0x3105a4.color;
      }
    } else if (_0x3105a4.randomColor) {
      if (!_0x3105a4.randomColor_value) {
        _0x3105a4.randomColor_value = Cesium__namespace.Color.fromRandom({
          minimumRed: _0x3105a4.minimumRed ?? 0,
          maximumRed: _0x3105a4.maximumRed ?? 0.75,
          minimumGreen: _0x3105a4.minimumGreen ?? 0,
          maximumGreen: _0x3105a4.maximumGreen ?? 0.75,
          minimumBlue: _0x3105a4.minimumBlue ?? 0,
          maximumBlue: _0x3105a4.maximumBlue ?? 0.75,
          minimumAlpha: _0x3105a4.minimumAlpha ?? 0.4,
          maximumAlpha: _0x3105a4.maximumAlpha ?? 0.7
        });
      }
      _0x48c014 = _0x3105a4.randomColor_value;
    } else {
      _0x48c014 = _0x4e1804;
    }
    if (!_0x48c014) {
      return _0x48c014;
    }
    if (Cesium__namespace.defined(_0x3105a4.opacity)) {
      if (_0x3105a4.opacity < 0) {
        _0x3105a4.opacity = 0;
      } else if (_0x3105a4.opacity > 1) {
        _0x3105a4.opacity = 1;
      }
      _0x48c014 = _0x48c014.withAlpha(Number(_0x3105a4.opacity));
    }
    if (Cesium__namespace.defined(_0x3105a4.globalAlpha) && _0x3105a4.globalAlpha !== 1) {
      _0x48c014 = _0x48c014.withAlpha(_0x48c014.alpha * _0x3105a4.globalAlpha);
    }
    return _0x48c014;
  }
  function getJulianDate$1(_0x4b4bac, _0x5512a5) {
    if (!_0x4b4bac) {
      return _0x5512a5;
    }
    if (_0x4b4bac instanceof Cesium__namespace.JulianDate) {
      return _0x4b4bac;
    }
    if (_0x4b4bac instanceof Date) {
      return Cesium__namespace.JulianDate.fromDate(_0x4b4bac);
    }
    if (isNumber(_0x4b4bac) && _0x5512a5) {
      return Cesium__namespace.JulianDate.addSeconds(_0x5512a5, _0x4b4bac, new Cesium__namespace.JulianDate());
    }
    if (isString(_0x4b4bac)) {
      if (_0x4b4bac.indexOf("Z") === -1) {
        return Cesium__namespace.JulianDate.fromDate(new Date(_0x4b4bac));
      } else {
        return Cesium__namespace.JulianDate.fromIso8601(_0x4b4bac);
      }
    }
    return _0x4b4bac;
  }
  function getAvailability(_0x2ad509, _0x54083f) {
    if (!_0x2ad509) {
      return undefined;
    }
    if (_0x2ad509 instanceof Cesium__namespace.TimeIntervalCollection) {
      _0x2ad509._intervals.forEach(_0x23e6d0 => {
        _0x23e6d0.data = true;
      });
      return _0x2ad509;
    }
    if (_0x2ad509 instanceof Cesium__namespace.TimeInterval) {
      _0x2ad509.data = true;
      return new Cesium__namespace.TimeIntervalCollection([_0x2ad509]);
    }
    if (Array.isArray(_0x2ad509) && _0x2ad509.length > 0) {
      const _0x3b4032 = [];
      for (let _0x4d86de = 0; _0x4d86de < _0x2ad509.length; _0x4d86de++) {
        const _0x45598a = _0x2ad509[_0x4d86de];
        const _0x1d8b59 = getJulianDate$1(_0x45598a.start, _0x54083f);
        if (!_0x1d8b59) {
          continue;
        }
        let _0x5f23c0;
        if (Cesium__namespace.defined(_0x45598a.duration)) {
          _0x5f23c0 = Cesium__namespace.JulianDate.addSeconds(_0x1d8b59, _0x45598a.duration, new Cesium__namespace.JulianDate());
        } else {
          _0x5f23c0 = getJulianDate$1(_0x45598a.stop, _0x54083f);
        }
        const _0x318423 = {
          data: true,
          ..._0x45598a
        };
        _0x318423.start = _0x1d8b59;
        _0x318423.stop = _0x5f23c0;
        _0x3b4032.push(new Cesium__namespace.TimeInterval(_0x318423));
      }
      if (_0x3b4032.length === 0) {
        return;
      }
      return new Cesium__namespace.TimeIntervalCollection(_0x3b4032);
    }
    if (Cesium__namespace.defined(_0x2ad509.start)) {
      const _0x59eefb = getJulianDate$1(_0x2ad509.start, _0x54083f);
      if (!_0x59eefb) {
        return;
      }
      let _0x1ecb53;
      if (Cesium__namespace.defined(_0x2ad509.duration)) {
        _0x1ecb53 = Cesium__namespace.JulianDate.addSeconds(_0x59eefb, _0x2ad509.duration, new Cesium__namespace.JulianDate());
      } else {
        _0x1ecb53 = getJulianDate$1(_0x2ad509.stop, _0x54083f);
      }
      const _0x10facf = {
        data: true,
        ..._0x2ad509
      };
      _0x10facf.start = _0x59eefb;
      _0x10facf.stop = _0x1ecb53;
      return new Cesium__namespace.TimeIntervalCollection([new Cesium__namespace.TimeInterval(_0x10facf)]);
    }
  }
  function getAvailabilityJson(_0x494618, _0x1e815d, _0x4dcba2) {
    if (!_0x494618 || _0x494618.length === 0) {
      return undefined;
    }
    const _0x4442c8 = [];
    for (let _0x5cad83 = 0, _0x4da606 = _0x494618.length; _0x5cad83 < _0x4da606; _0x5cad83++) {
      if (_0x494618 !== null && _0x494618 !== undefined && _0x494618.get) {
        const _0x3a848a = _0x494618.get(_0x5cad83);
        if (_0x1e815d) {
          const _0x4a20ed = Cesium__namespace.JulianDate.secondsDifference(_0x3a848a.start, _0x4dcba2);
          const _0x12ef6a = Cesium__namespace.JulianDate.secondsDifference(_0x3a848a.stop, _0x4dcba2);
          const _0x35361b = {
            start: _0x4a20ed,
            stop: _0x12ef6a,
            duration: _0x12ef6a - _0x4a20ed,
            isStartIncluded: _0x3a848a.isStartIncluded,
            isStopIncluded: _0x3a848a.isStopIncluded
          };
          _0x4442c8.push(_0x35361b);
        } else {
          _0x4442c8.push({
            start: formatDate(Cesium__namespace.JulianDate.toDate(_0x3a848a.start)),
            stop: formatDate(Cesium__namespace.JulianDate.toDate(_0x3a848a.stop)),
            isStartIncluded: _0x3a848a.isStartIncluded,
            isStopIncluded: _0x3a848a.isStopIncluded
          });
        }
      } else if (_0x494618[_0x5cad83]) {
        _0x4442c8.push(_0x494618[_0x5cad83]);
      }
    }
    return _0x4442c8;
  }
  function getAttrVal(_0x18cb6f, _0x3f281d = {}) {
    if (!_0x18cb6f) {
      return _0x18cb6f;
    }
    try {
      if (isFunction(_0x18cb6f.getValue)) {
        _0x18cb6f = _0x18cb6f.getValue(Cesium__namespace.JulianDate.now());
      }
      const _0x310432 = {};
      if (_0x18cb6f._propertyNames && _0x18cb6f._propertyNames.length > 0) {
        for (const _0x37f4fe of _0x18cb6f._propertyNames) {
          const _0x1d76db = getOneAttrValue(_0x37f4fe, _0x18cb6f[_0x37f4fe], _0x3f281d);
          if (_0x1d76db == null) {
            if (_0x3f281d.showNull) {
              _0x310432[_0x37f4fe] = _0x1d76db;
            }
            continue;
          }
          _0x310432[_0x37f4fe] = _0x1d76db;
        }
      } else {
        for (const _0x5cb768 in _0x18cb6f) {
          const _0x58248b = getOneAttrValue(_0x5cb768, _0x18cb6f[_0x5cb768], _0x3f281d);
          if (_0x58248b == null) {
            if (_0x3f281d.showNull) {
              _0x310432[_0x5cb768] = _0x58248b;
            }
            continue;
          }
          _0x310432[_0x5cb768] = _0x58248b;
        }
      }
      return _0x310432;
    } catch (_0x4cc29a) {
      logError("getAttrVal:出错了", _0x4cc29a);
    }
    return _0x18cb6f;
  }
  function get3DTileFeatureAttr(_0x3801f2) {
    const _0x41b879 = {};
    const _0xae6730 = _0x3801f2.getPropertyIds ? _0x3801f2.getPropertyIds() : _0x3801f2.getPropertyNames();
    for (let _0x335dfc = 0; _0x335dfc < _0xae6730.length; _0x335dfc++) {
      const _0x5a8af0 = _0xae6730[_0x335dfc];
      if (!_0x3801f2.hasProperty(_0x5a8af0)) {
        continue;
      }
      const _0xb241b = _0x3801f2.getProperty(_0x5a8af0);
      if (_0xb241b == null) {
        continue;
      }
      _0x41b879[_0x5a8af0] = _0xb241b;
    }
    return _0x41b879;
  }
  function getOneAttrValue(_0x195e77, _0x32e5ea, _0x1945a5) {
    if (_0x32e5ea == null || _0x32e5ea === "Null" || _0x32e5ea === "Unknown") {
      return null;
    }
    if (_0x32e5ea.getValue && typeof _0x32e5ea.getValue === "function" && _0x195e77 !== "material") {
      _0x32e5ea = _0x32e5ea.getValue(Cesium__namespace.JulianDate.now());
    }
    if (isFunction(_0x32e5ea)) {
      return null;
    }
    if (_0x1945a5.onlySimpleType) {
      if (_0x32e5ea instanceof Cesium__namespace.Color) {
        return _0x32e5ea.toCssColorString();
      }
      if (_0x1945a5.noArray && Array.isArray(_0x32e5ea)) {
        return null;
      }
      if (isPlainObject(_0x32e5ea)) {
        return _0x32e5ea;
      }
      if (!isSimpleType(_0x32e5ea)) {
        return null;
      }
    }
    return _0x32e5ea;
  }
  function merge(_0x118055 = {}, ..._0x1a55dd) {
    let _0x57a392;
    let _0x11cb10;
    let _0x1ee8b0;
    let _0x1f7709;
    _0x11cb10 = 0;
    _0x1ee8b0 = _0x1a55dd.length;
    for (; _0x11cb10 < _0x1ee8b0; _0x11cb10++) {
      _0x1f7709 = _0x1a55dd[_0x11cb10];
      for (_0x57a392 in _0x1f7709) {
        if (hasMergeObject(_0x118055[_0x57a392], _0x1f7709[_0x57a392])) {
          _0x118055[_0x57a392] = merge(_0x118055[_0x57a392], _0x1f7709[_0x57a392]);
        } else {
          _0x118055[_0x57a392] = _0x1f7709[_0x57a392];
        }
      }
    }
    return _0x118055;
  }
  function hasMergeObject(_0x10ffee, _0x25ca4e) {
    if (!Cesium__namespace.defined(_0x10ffee) || !Cesium__namespace.defined(_0x25ca4e)) {
      return false;
    }
    if (Array.isArray(_0x10ffee) || Array.isArray(_0x25ca4e)) {
      return false;
    }
    if (isPlainObject(_0x10ffee) && isPlainObject(_0x25ca4e)) {
      if (_0x10ffee.merge === false || _0x25ca4e.merge === false) {
        return false;
      }
      return true;
    }
    return false;
  }
  function clone(_0x139013, _0x5b4b82 = [], _0xc0396f = 5) {
    if (_0x139013 == null || typeof _0x139013 !== "object") {
      return _0x139013;
    }
    if (_0x139013 instanceof Date) {
      const _0x36339c = new Date();
      _0x36339c.setTime(_0x139013.getTime());
      return _0x36339c;
    }
    if (Array.isArray(_0x139013) && _0xc0396f >= 0) {
      const _0xca7b01 = [];
      for (let _0xdf7249 = 0, _0x474dc0 = _0x139013.length; _0xdf7249 < _0x474dc0; ++_0xdf7249) {
        _0xca7b01[_0xdf7249] = clone(_0x139013[_0xdf7249], _0x5b4b82, _0xc0396f - 1);
      }
      return _0xca7b01;
    }
    if (typeof _0x139013 === "object" && _0xc0396f >= 0) {
      try {
        if (_0x139013.clone) {
          return _0x139013.clone();
        }
        if (!isPlainObject(_0x139013)) {
          return _0x139013;
        }
        const _0x40e15c = {};
        for (const _0x107bfb in _0x139013) {
          if (isFunction(_0x107bfb)) {
            continue;
          }
          if (_0x5b4b82.indexOf(_0x107bfb) !== -1) {
            continue;
          }
          if (_0x139013.hasOwnProperty(_0x107bfb)) {
            _0x40e15c[_0x107bfb] = clone(_0x139013[_0x107bfb], _0x5b4b82, _0xc0396f - 1);
          }
        }
        return _0x40e15c;
      } catch (_0x59d32a) {
        logError("clone:出错了", _0x59d32a);
      }
    }
    return _0x139013;
  }
  function getArrayRandomOne(_0x277b6e) {
    const _0x3e2ac0 = Math.floor(Math.random() * _0x277b6e.length + 1) - 1;
    return _0x277b6e[_0x3e2ac0];
  }
  function removeArrayItem(_0x1c53d2, _0x2399a3) {
    for (let _0x305c1c = 0; _0x305c1c < _0x1c53d2.length; _0x305c1c++) {
      if (_0x1c53d2[_0x305c1c] === _0x2399a3) {
        _0x1c53d2.splice(_0x305c1c, 1);
        return true;
      }
    }
    return false;
  }
  function getSymbolStyle(_0x37c384, _0x37dd28, _0x58221f = {}) {
    if (!_0x37c384) {
      return {};
    }
    let _0x5d899b = _0x37c384.styleOptions ? clone(_0x37c384.styleOptions) : {};
    if (_0x37c384.styleFieldOptions && _0x37dd28) {
      function _0x1e9dca() {
        let _0x178ceb = _0x37c384.styleField && Cesium__namespace.defined(_0x37dd28[_0x37c384.styleField]);
        if (_0x178ceb) {
          for (const _0x58dfa2 in _0x37c384.styleFieldOptions) {
            if (_0x58dfa2.indexOf("attr") !== -1 && (_0x58dfa2.indexOf("=") !== -1 || _0x58dfa2.indexOf(">") !== -1 || _0x58dfa2.indexOf("<") !== -1)) {
              _0x178ceb = false;
            }
          }
        }
        if (_0x178ceb) {
          return _0x37c384.styleFieldOptions[_0x37dd28[_0x37c384.styleField]];
        }
        for (const _0x56be7b in _0x37c384.styleFieldOptions) {
          if (runJsForAttr(_0x37dd28, _0x56be7b) === true) {
            return _0x37c384.styleFieldOptions[_0x56be7b];
          }
        }
      }
      const _0x59254d = _0x1e9dca();
      if (_0x59254d) {
        if (_0x59254d.merge === false) {
          _0x5d899b = _0x59254d;
        } else {
          _0x5d899b = merge(_0x5d899b, _0x59254d);
        }
      }
    }
    if (_0x37dd28) {
      for (const _0x3cf3fc in _0x5d899b) {
        _0x5d899b[_0x3cf3fc] = template(_0x5d899b[_0x3cf3fc], _0x37dd28);
      }
    }
    _0x5d899b.label &&= clone(_0x5d899b.label);
    _0x5d899b.highlight &&= clone(_0x5d899b.highlight);
    if (isFunction(_0x37c384.callback)) {
      const _0x4c67ee = _0x37c384.callback(_0x37dd28, _0x5d899b, _0x58221f);
      if (_0x4c67ee != null) {
        if (_0x4c67ee.merge === false) {
          _0x5d899b = _0x4c67ee;
        } else {
          _0x5d899b = merge(_0x5d899b, _0x4c67ee);
        }
      }
    }
    return _0x5d899b;
  }
  function geojsonToArcGIS(_0x25d2b3, _0x30a990) {
    return geojsonToArcGIS$1(_0x25d2b3, _0x30a990);
  }
  function arcgisToGeoJSON(_0x29c33d, _0x323711) {
    return arcgisToGeoJSON$1(_0x29c33d, _0x323711);
  }
  function getGeoJsonFeatures(_0x274400) {
    if (_0x274400.geometryType && _0x274400.geometryType.indexOf("esri") !== -1) {
      _0x274400 = arcgisToGeoJSON(_0x274400);
    } else if (_0x274400.type === "Topology") {
      let _0x1a5f3b = [];
      for (const _0x3eb9d6 in _0x274400.objects) {
        if (_0x274400.objects.hasOwnProperty(_0x3eb9d6)) {
          _0x274400 = Cesium__namespace.topojson.feature(_0x274400, _0x274400.objects[_0x3eb9d6]);
          const _0xb01581 = getGeoJsonFeatures(_0x274400);
          _0x1a5f3b = _0x1a5f3b.concat(_0xb01581);
        }
      }
      return _0x1a5f3b;
    }
    let _0x3f5845;
    if (Array.isArray(_0x274400.features)) {
      _0x3f5845 = _0x274400.features;
    } else if (Array.isArray(_0x274400)) {
      _0x3f5845 = _0x274400;
    } else {
      _0x3f5845 = [_0x274400];
    }
    return _0x3f5845;
  }
  function geoJsonToGraphics(_0x3e2058, _0x343d61 = {}) {
    var _0x360baf;
    if (!_0x3e2058) {
      return [];
    }
    const _0x1183b0 = getGeoJsonFeatures(_0x3e2058);
    if (_0x3e2058 !== null && _0x3e2058 !== undefined && (_0x360baf = _0x3e2058.crs) !== null && _0x360baf !== undefined && (_0x360baf = _0x360baf.properties) !== null && _0x360baf !== undefined && _0x360baf.name && !_0x343d61.crs) {
      const _0x2cf0f7 = _0x3e2058.crs.properties.name;
      if (_0x2cf0f7.indexOf("EPSG:") !== -1) {
        _0x343d61.crs = _0x2cf0f7;
      }
    }
    let _0x268ed2 = [];
    for (let _0xa0b4ec = 0, _0x35602b = _0x1183b0.length; _0xa0b4ec < _0x35602b; _0xa0b4ec++) {
      const _0x395b81 = _0x1183b0[_0xa0b4ec];
      const _0x18d838 = featureToGraphic(_0x395b81, _0x343d61);
      if (_0x18d838 && _0x18d838.length > 0) {
        _0x268ed2 = _0x268ed2.concat(_0x18d838);
      }
    }
    return _0x268ed2;
  }
  function featureToGraphic(_0x40a899, _0x58a0ff = {}) {
    var _0x171e43;
    var _0x501bd0;
    const _0x320db1 = [];
    if (_0x40a899.type === "GeometryCollection") {
      _0x40a899 = {
        geometry: _0x40a899
      };
    }
    const _0x56c068 = _0x40a899.geometry;
    const _0x1f585d = _0x56c068?.coordinates;
    if (!_0x1f585d && !_0x56c068) {
      return _0x320db1;
    }
    let _0x2e4749;
    if (_0x58a0ff.type) {
      _0x2e4749 = _0x58a0ff.type;
    } else if (hasType((_0x171e43 = _0x40a899) === null || _0x171e43 === undefined || (_0x171e43 = _0x171e43.properties) === null || _0x171e43 === undefined ? undefined : _0x171e43.type)) {
      _0x2e4749 = _0x40a899.properties.type;
    }
    const _0x46abea = ((_0x501bd0 = _0x40a899) === null || _0x501bd0 === undefined || (_0x501bd0 = _0x501bd0.properties) === null || _0x501bd0 === undefined ? undefined : _0x501bd0.options) || {};
    if (_0x40a899.id) {
      _0x46abea.id = _0x40a899.id;
    }
    let _0x2a8903 = clone(_0x40a899?.properties, ["style", "options"]) || {};
    if (_0x2a8903.attr) {
      _0x2a8903 = _0x2a8903.attr;
    }
    if (_0x58a0ff.filter) {
      try {
        if (isFunction(_0x58a0ff.filter) && _0x58a0ff.filter(_0x40a899, _0x2a8903) === false) {
          return _0x320db1;
        }
        const _0x3d246f = [];
        const _0x6d5a24 = [];
        for (const _0x58b0e9 in _0x2a8903) {
          _0x3d246f.push(_0x58b0e9);
          _0x6d5a24.push(_0x2a8903[_0x58b0e9]);
        }
        if (isString(_0x58a0ff.filter) && runJsForAttr(_0x2a8903, _0x58a0ff.filter) === false) {
          return _0x320db1;
        }
      } catch (_0xc5d575) {
        logError("filter筛选出错，视为false已过滤", _0x58a0ff.filter, _0xc5d575);
        return _0x320db1;
      }
    }
    let _0x46b242 = {};
    if (_0x40a899.properties) {
      if (isObject(_0x40a899.properties.style)) {
        const _0x4310e8 = {
          ..._0x40a899.properties.style
        };
        _0x46b242 = _0x4310e8;
      } else {
        const _0x2ecdf4 = _0x2a8903["marker-symbol"];
        if (Cesium__namespace.defined(_0x2ecdf4)) {
          _0x46b242.image = _0x2ecdf4;
          const _0x1bea46 = _0x2a8903["marker-color"];
          if (Cesium__namespace.defined(_0x1bea46)) {
            _0x46b242.outline = true;
            _0x46b242.outlineColor = _0x1bea46;
          }
        }
        const _0x4ecbb9 = _0x2a8903.fill;
        if (Cesium__namespace.defined(_0x4ecbb9) && _0x56c068.type !== "LineString" && _0x56c068.type !== "MultiLineString") {
          _0x46b242.color = _0x4ecbb9;
          const _0x3485b9 = _0x2a8903["fill-opacity"];
          if (Cesium__namespace.defined(_0x3485b9) && _0x3485b9 !== 1) {
            _0x46b242.opacity = _0x3485b9;
          }
          const _0x44c2ad = _0x2a8903.stroke;
          if (Cesium__namespace.defined(_0x44c2ad)) {
            _0x46b242.outline = true;
            _0x46b242.outlineColor = _0x44c2ad;
            const _0x2e0c1a = _0x2a8903["stroke-width"];
            if (Cesium__namespace.defined(_0x2e0c1a)) {
              _0x46b242.outlineWidth = _0x2e0c1a;
            }
            const _0x2994c4 = _0x2a8903["stroke-opacity"];
            if (Cesium__namespace.defined(_0x2994c4) && _0x2994c4 !== 1) {
              _0x46b242.outlineOpacity = _0x2994c4;
            }
          }
        } else {
          const _0x5e1842 = _0x2a8903.stroke;
          if (Cesium__namespace.defined(_0x5e1842)) {
            _0x46b242.color = _0x5e1842;
            const _0x496de5 = _0x2a8903["stroke-width"];
            if (Cesium__namespace.defined(_0x496de5)) {
              _0x46b242.width = _0x496de5;
            }
            const _0x44d594 = _0x2a8903["stroke-opacity"];
            if (Cesium__namespace.defined(_0x44d594) && _0x44d594 !== 1) {
              _0x46b242.opacity = _0x44d594;
            }
          }
        }
      }
    }
    if (_0x58a0ff.style) {
      if (_0x58a0ff.style.merge) {
        _0x46b242 = {
          ..._0x46b242,
          ..._0x58a0ff.style
        };
      } else {
        const _0x40f1b5 = {
          ..._0x58a0ff.style
        };
        _0x46b242 = _0x40f1b5;
      }
    }
    if (_0x58a0ff.symbol) {
      if (isFunction(_0x58a0ff.symbol)) {
        _0x46b242 = _0x58a0ff.symbol(_0x2a8903, _0x46b242, _0x40a899) || _0x46b242;
        if (_0x46b242.type) {
          _0x2e4749 = _0x46b242.type;
        }
      } else {
        _0x2e4749 = _0x58a0ff.symbol.type || _0x2e4749;
        const _0x308ff9 = {
          type: _0x2e4749
        };
        const _0x4bc97f = getSymbolStyle(_0x58a0ff.symbol, _0x40a899.properties || {}, _0x308ff9);
        if (_0x4bc97f && Object.keys(_0x4bc97f).length !== 0) {
          if (_0x58a0ff.symbol.merge) {
            _0x46b242 = {
              ..._0x4bc97f,
              ..._0x46b242
            };
          } else {
            _0x46b242 = _0x4bc97f;
          }
        }
      }
    }
    let _0x702528 = _0x58a0ff.crs;
    if (_0x702528 === "EPSG:4326") {
      _0x702528 = null;
    }
    function _0x32f465(_0x3eb6b5) {
      if (!_0x3eb6b5 || _0x3eb6b5.length === 0) {
        return undefined;
      }
      if (_0x702528) {
        _0x3eb6b5 = proj4Trans(_0x3eb6b5, _0x702528);
      }
      if (_0x58a0ff.onPointTrans) {
        return _0x58a0ff.onPointTrans(_0x3eb6b5);
      } else {
        return _0x3eb6b5;
      }
    }
    function _0x23b8e8(_0x260f91) {
      if (_0x58a0ff.simplify && _0x260f91.length > 0 && !Array.isArray(_0x260f91[0][0])) {
        _0x260f91 = simplifyPositions(_0x260f91, _0x58a0ff.simplify);
      }
      if (!_0x58a0ff.onPointTrans && !_0x702528 && !_0x58a0ff.simplify) {
        return _0x260f91;
      }
      const _0x31156e = [];
      for (let _0x768978 = 0, _0x29c21e = _0x260f91.length; _0x768978 < _0x29c21e; _0x768978++) {
        const _0x194c5a = _0x260f91[_0x768978];
        if (Array.isArray(_0x194c5a[0])) {
          const _0x1c4d30 = _0x23b8e8(_0x194c5a);
          if (_0x1c4d30 && _0x1c4d30.length > 0) {
            _0x31156e.push(_0x1c4d30);
          }
        } else {
          const _0x41aad0 = _0x32f465(_0x194c5a);
          if (_0x41aad0) {
            _0x31156e.push(_0x41aad0);
          }
        }
      }
      return _0x31156e;
    }
    function _0x3d2afa(_0x319e2c, _0x3cf5ba) {
      eachGraphicType(function (_0x2ede9b) {
        if (isObject(_0x3cf5ba[_0x2ede9b])) {
          _0x319e2c[_0x2ede9b] = _0x3cf5ba[_0x2ede9b];
          delete _0x3cf5ba[_0x2ede9b];
        }
      });
    }
    let _0x5c4fe1 = _0x58a0ff.hasGroup ?? false;
    if (isCombineType(_0x2e4749)) {
      _0x5c4fe1 = false;
    }
    let _0x5056e3;
    let _0x1309a2;
    switch (_0x56c068.type) {
      case "Point":
        {
          if (!_0x2e4749 || !isPointType(_0x2e4749)) {
            _0x2e4749 = _0x46b242.image ? "billboardP" : "pointP";
          }
          const _0x3f113e = {
            ..._0x46abea,
            type: _0x2e4749,
            position: _0x32f465(_0x1f585d),
            style: _0x46b242,
            attr: _0x2a8903
          };
          _0x3d2afa(_0x3f113e, _0x2a8903);
          _0x320db1.push(_0x3f113e);
          break;
        }
      case "MultiPoint":
        {
          if (!_0x2e4749 || !isPointType(_0x2e4749)) {
            _0x2e4749 = _0x46b242.image ? "billboardP" : "pointP";
          }
          _0x5056e3 = 0;
          _0x1309a2 = _0x1f585d.length;
          for (; _0x5056e3 < _0x1309a2; _0x5056e3++) {
            const _0x3684e7 = {
              ..._0x46abea,
              type: _0x2e4749,
              position: _0x32f465(_0x1f585d[_0x5056e3]),
              style: _0x46b242,
              attr: _0x2a8903
            };
            _0x3d2afa(_0x3684e7, _0x2a8903);
            _0x320db1.push(_0x3684e7);
          }
          break;
        }
      case "LineString":
        {
          if (!_0x2e4749) {
            _0x2e4749 = "polylineP";
          }
          const _0x3fe962 = {
            ..._0x46abea,
            type: _0x2e4749,
            positions: _0x23b8e8(_0x1f585d),
            style: _0x46b242,
            attr: _0x2a8903
          };
          _0x3d2afa(_0x3fe962, _0x2a8903);
          _0x320db1.push(_0x3fe962);
          break;
        }
      case "MultiLineString":
        {
          if (!_0x2e4749) {
            _0x2e4749 = "polylineP";
          }
          const _0x55a069 = [];
          _0x5056e3 = 0;
          _0x1309a2 = _0x1f585d.length;
          for (; _0x5056e3 < _0x1309a2; _0x5056e3++) {
            const _0xc7a710 = {
              ..._0x46b242
            };
            const _0x488af7 = {
              ..._0x46abea,
              type: _0x2e4749,
              positions: _0x23b8e8(_0x1f585d[_0x5056e3]),
              style: _0xc7a710,
              attr: _0x2a8903
            };
            _0x3d2afa(_0x488af7, _0x2a8903);
            _0x55a069.push(_0x488af7);
          }
          if (_0x55a069.length === 1) {
            _0x320db1.push(_0x55a069[0]);
          } else if (_0x55a069.length > 1 && _0x5c4fe1) {
            var _0x4371fb;
            const _0x5475ba = {
              type: "group",
              source: "geojson",
              attr: _0x2a8903,
              onlyLabel: (_0x4371fb = _0x46b242.label) === null || _0x4371fb === undefined || !_0x4371fb.showAll,
              graphics: _0x55a069
            };
            const _0x427797 = _0x5475ba;
            _0x320db1.push(_0x427797);
          } else {
            _0x320db1.push(..._0x55a069);
          }
          break;
        }
      case "Polygon":
        {
          if (!_0x2e4749) {
            _0x2e4749 = "polygon";
          }
          if (_0x2e4749.startsWith("polygon") || _0x2e4749.startsWith("water") || _0x2e4749 === "mask") {
            const _0x473316 = {
              ..._0x46abea,
              type: _0x2e4749,
              positions: _0x23b8e8(_0x1f585d.length === 1 ? _0x1f585d[0] : _0x1f585d),
              isRing: _0x1f585d.length > 1,
              style: _0x46b242,
              attr: _0x2a8903
            };
            _0x3d2afa(_0x473316, _0x2a8903);
            _0x320db1.push(_0x473316);
          } else {
            _0x5056e3 = 0;
            _0x1309a2 = _0x1f585d.length;
            for (; _0x5056e3 < _0x1309a2; _0x5056e3++) {
              const _0x41449c = _0x1f585d[_0x5056e3];
              const _0xf3225a = {
                ..._0x46abea,
                type: _0x2e4749,
                positions: _0x23b8e8(_0x41449c.length === 1 ? _0x41449c[0] : _0x41449c),
                isRing: _0x41449c.length > 1,
                style: _0x46b242,
                attr: _0x2a8903
              };
              _0x3d2afa(_0xf3225a, _0x2a8903);
              _0x320db1.push(_0xf3225a);
            }
          }
          break;
        }
      case "MultiPolygon":
        {
          if (!_0x2e4749) {
            _0x2e4749 = "polygon";
          }
          const _0x3c864d = [];
          _0x5056e3 = 0;
          _0x1309a2 = _0x1f585d.length;
          for (; _0x5056e3 < _0x1309a2; _0x5056e3++) {
            const _0x42cb49 = _0x1f585d[_0x5056e3];
            const _0x4ec29d = {
              ..._0x46b242
            };
            const _0xad76f3 = {
              ..._0x46abea,
              type: _0x2e4749,
              positions: _0x23b8e8(_0x42cb49.length === 1 ? _0x42cb49[0] : _0x42cb49),
              isRing: _0x42cb49.length > 1,
              style: _0x4ec29d,
              attr: _0x2a8903
            };
            _0x3d2afa(_0xad76f3, _0x2a8903);
            _0x3c864d.push(_0xad76f3);
          }
          if (_0x3c864d.length === 1) {
            _0x320db1.push(_0x3c864d[0]);
          } else if (_0x3c864d.length > 1 && _0x5c4fe1) {
            var _0x4ec3e2;
            const _0x22c25b = {
              type: "group",
              source: "geojson",
              attr: _0x2a8903,
              onlyLabel: (_0x4ec3e2 = _0x46b242.label) === null || _0x4ec3e2 === undefined || !_0x4ec3e2.showAll,
              graphics: _0x3c864d
            };
            const _0x383480 = _0x22c25b;
            _0x320db1.push(_0x383480);
          } else {
            _0x320db1.push(..._0x3c864d);
          }
          break;
        }
      case "GeometryCollection":
        {
          const _0x140eb1 = [];
          for (let _0x242c38 = 0, _0x5ba8ba = _0x56c068.geometries.length; _0x242c38 < _0x5ba8ba; _0x242c38++) {
            const _0x27a375 = {
              type: "Feature",
              geometry: _0x56c068.geometries[_0x242c38],
              properties: _0x40a899.properties
            };
            const _0x33de23 = featureToGraphic(_0x27a375, _0x58a0ff);
            if (_0x33de23 && _0x33de23.length > 0) {
              _0x140eb1.push(..._0x33de23);
            }
          }
          if (_0x140eb1.length === 1) {
            _0x320db1.push(_0x140eb1[0]);
          } else if (_0x140eb1.length > 1 && _0x5c4fe1) {
            const _0x131a64 = {
              type: "group",
              source: "geojson",
              attr: _0x2a8903,
              graphics: _0x140eb1
            };
            const _0x58f9ba = _0x131a64;
            _0x320db1.push(_0x58f9ba);
          } else {
            _0x320db1.push(..._0x140eb1);
          }
          break;
        }
      default:
        logError("Invalid GeoJSON object.", _0x40a899);
    }
    return _0x320db1;
  }
  function mergeSymbolToGraphic(_0x4e1702, _0x2490ba) {
    if (_0x2490ba) {
      if (isFunction(_0x2490ba)) {
        _0x4e1702.style = _0x2490ba(_0x4e1702.attr, _0x4e1702.style, _0x4e1702);
      } else {
        if (_0x2490ba.type) {
          _0x4e1702.type = _0x2490ba.type;
        }
        const _0xdba65e = getSymbolStyle(_0x2490ba, _0x4e1702.attr || {}, _0x4e1702);
        if (_0xdba65e && Object.keys(_0xdba65e).length !== 0) {
          if (_0x2490ba.merge) {
            _0x4e1702.style = {
              ..._0xdba65e,
              ..._0x4e1702.style
            };
          } else {
            _0x4e1702.style = _0xdba65e;
          }
        }
      }
    }
    return _0x4e1702;
  }
  function heightToZoom(_0x4b4278) {
    const _0x16a0bf = 40487.57;
    const _0x359551 = 0.00007096758;
    const _0x1e0448 = 91610.74;
    const _0x198f98 = -40467.74;
    return Math.round(_0x198f98 + (_0x16a0bf - _0x198f98) / (1 + Math.pow(_0x4b4278 / _0x1e0448, _0x359551)));
  }
  function getUrlResource(_0x66d743, _0x25646a) {
    if (!_0x66d743.url) {
      return _0x66d743;
    }
    _0x25646a = _0x66d743.templateValues ?? _0x25646a;
    let _0x17d010;
    if (_0x66d743.url instanceof Cesium__namespace.Resource) {
      const _0x32ab68 = _0x66d743.url;
      if (_0x66d743.headers) {
        _0x32ab68.headers = _0x66d743.headers;
      }
      if (_0x66d743.proxy) {
        _0x32ab68.proxy = new Cesium__namespace.DefaultProxy(_0x66d743.proxy);
      }
      if (_0x25646a) {
        _0x32ab68.setTemplateValues(_0x25646a);
      }
      if (_0x66d743.queryParameters) {
        _0x32ab68.setQueryParameters(_0x66d743.queryParameters);
      }
      return _0x32ab68;
    } else {
      if (_0x25646a) {
        _0x66d743.url = template(_0x66d743.url, _0x25646a);
      }
      _0x17d010 = new Cesium__namespace.Resource({
        url: _0x66d743.url,
        queryParameters: _0x66d743.queryParameters,
        templateValues: _0x25646a,
        headers: _0x66d743.headers,
        proxy: _0x66d743.proxy ? new Cesium__namespace.DefaultProxy(_0x66d743.proxy) : null
      });
    }
    return _0x17d010;
  }
  let imageSmoothingEnabledName;
  function getTextImage(_0x21bd47, _0x4b36ea = {}) {
    if (_0x21bd47 === "") {
      return undefined;
    }
    if (!_0x4b36ea.background) {
      _0x4b36ea.backgroundColor = Cesium__namespace.Color.TRANSPARENT;
    }
    const _0x2906f7 = _0x4b36ea.font ?? "10px sans-serif";
    const _0x3d7a0b = _0x4b36ea.stroke ?? false;
    const _0x481ee8 = _0x4b36ea.fill ?? true;
    const _0x120236 = _0x4b36ea.strokeWidth ?? 1;
    const _0x3923c0 = _0x4b36ea.spacing ?? 0;
    const _0x2e6a17 = _0x4b36ea.spacingRow ?? 2;
    const _0xec9050 = _0x4b36ea.backgroundColor ?? Cesium__namespace.Color.TRANSPARENT;
    const _0x32aa8f = _0x4b36ea.padding ?? 0;
    const _0x165526 = document.createElement("canvas");
    _0x165526.width = 1;
    _0x165526.height = 1;
    _0x165526.style.font = _0x2906f7;
    const _0xf8d2cd = _0x165526.getContext("2d", {
      willReadFrequently: true
    });
    if (!Cesium__namespace.defined(imageSmoothingEnabledName)) {
      if (Cesium__namespace.defined(_0xf8d2cd.imageSmoothingEnabled)) {
        imageSmoothingEnabledName = "imageSmoothingEnabled";
      } else if (Cesium__namespace.defined(_0xf8d2cd.mozImageSmoothingEnabled)) {
        imageSmoothingEnabledName = "mozImageSmoothingEnabled";
      } else if (Cesium__namespace.defined(_0xf8d2cd.webkitImageSmoothingEnabled)) {
        imageSmoothingEnabledName = "webkitImageSmoothingEnabled";
      } else if (Cesium__namespace.defined(_0xf8d2cd.msImageSmoothingEnabled)) {
        imageSmoothingEnabledName = "msImageSmoothingEnabled";
      }
    }
    _0xf8d2cd.font = _0x2906f7;
    _0xf8d2cd.lineJoin = "round";
    _0xf8d2cd.lineWidth = _0x120236;
    _0xf8d2cd[imageSmoothingEnabledName] = false;
    _0x165526.style.visibility = "hidden";
    document.body.appendChild(_0x165526);
    const _0x4af264 = _0x21bd47.split("\n");
    const _0x5929d4 = [];
    let _0x4bfdb8 = 0;
    let _0x4293a7 = 0;
    _0x4af264.forEach(_0x3c456f => {
      const _0x5a73a2 = measureCanvasText(_0xf8d2cd, _0x3c456f, _0x4b36ea);
      _0x5929d4.push(_0x5a73a2);
      _0x5a73a2.y += _0x4293a7;
      _0x4bfdb8 = Math.max(_0x4bfdb8, _0x5a73a2.width);
      _0x4293a7 += _0x5a73a2.height + _0x2e6a17;
    });
    document.body.removeChild(_0x165526);
    _0x165526.style.visibility = "";
    _0x165526.width = _0x4bfdb8;
    _0x165526.height = _0x4293a7 + _0x2e6a17;
    _0xf8d2cd.font = _0x2906f7;
    _0xf8d2cd.lineJoin = "round";
    _0xf8d2cd.lineWidth = _0x120236;
    _0xf8d2cd[imageSmoothingEnabledName] = false;
    if (_0xec9050 !== Cesium__namespace.Color.TRANSPARENT) {
      _0xf8d2cd.fillStyle = _0xec9050.toCssColorString();
      _0xf8d2cd.fillRect(0, 0, _0x165526.width, _0x165526.height);
    }
    for (let _0x4db8e0 = 0; _0x4db8e0 < _0x5929d4.length; _0x4db8e0++) {
      const _0x477fb4 = _0x5929d4[_0x4db8e0];
      if (_0x3d7a0b) {
        const _0x1f9c41 = _0x4b36ea.strokeColor ?? Cesium__namespace.Color.BLACK;
        _0xf8d2cd.strokeStyle = _0x1f9c41.toCssColorString();
        _0xf8d2cd.strokeTextBySpacing(_0x477fb4.text, _0x477fb4.x + _0x32aa8f, _0x477fb4.y, _0x3923c0, _0x477fb4.width);
      }
      if (_0x481ee8) {
        const _0x2a10e7 = _0x4b36ea.fillColor ?? Cesium__namespace.Color.WHITE;
        _0xf8d2cd.fillStyle = _0x2a10e7.toCssColorString();
        _0xf8d2cd.fillTextBySpacing(_0x477fb4.text, _0x477fb4.x + _0x32aa8f, _0x477fb4.y, _0x3923c0, _0x477fb4.width);
      }
    }
    if (_0x4b36ea.outline) {
      if (_0x4b36ea.outlineColor) {
        _0xf8d2cd.strokeStyle = _0x4b36ea.outlineColor.toCssColorString();
      } else {
        _0xf8d2cd.strokeStyle = "#ffffff";
      }
      const _0x57d794 = _0x4b36ea.outlineWidth || 4;
      _0xf8d2cd.lineWidth = _0x57d794;
      _0xf8d2cd.strokeRect(_0x57d794 / 2, _0x57d794 / 2, _0x165526.width - _0x57d794, _0x165526.height - _0x57d794);
    }
    return _0x165526;
  }
  function measureCanvasText(_0x41c107, _0xeaa0bc, _0x5d9fcb) {
    const _0x380d85 = _0x5d9fcb.font ?? "10px sans-serif";
    const _0x165c87 = _0x5d9fcb.stroke ?? false;
    const _0x270de9 = _0x5d9fcb.fill ?? true;
    const _0x4969d5 = _0x5d9fcb.padding ?? 0;
    const _0x3e4e43 = _0x4969d5 * 2;
    const _0x330a19 = _0x5d9fcb.spacing ?? 0;
    const _0x211039 = measureText(_0x41c107, _0xeaa0bc, _0x380d85, _0x165c87, _0x270de9);
    const _0x17208d = -_0x211039.minx;
    const _0x5274c0 = Math.ceil(_0x211039.width) + _0x17208d + _0x3e4e43 + _0x330a19 * (_0xeaa0bc.length - 1);
    const _0x128731 = _0x211039.height + _0x3e4e43;
    const _0x5f1db9 = _0x128731 - _0x211039.ascent + _0x4969d5;
    const _0x14d769 = _0x128731 - _0x5f1db9 + _0x3e4e43;
    _0x211039.x = _0x17208d;
    _0x211039.y = _0x14d769;
    _0x211039.width = _0x5274c0;
    _0x211039.height = _0x128731;
    return _0x211039;
  }
  function measureText(_0x1ad44f, _0x23984e, _0x3514d9, _0x3f82f0, _0x4cb72f) {
    const _0x50b99e = _0x1ad44f.measureText(_0x23984e);
    const _0x43257c = !/\S/.test(_0x23984e);
    if (!_0x43257c) {
      const _0x356f9d = document.defaultView.getComputedStyle(_0x1ad44f.canvas).getPropertyValue("font-size").replace("px", "");
      const _0x303250 = document.createElement("canvas");
      const _0x315f88 = 100;
      const _0x175a16 = _0x50b99e.width + _0x315f88 | 0;
      const _0x388417 = _0x356f9d * 3;
      const _0x54434c = _0x388417 / 2;
      _0x303250.width = _0x175a16;
      _0x303250.height = _0x388417;
      const _0x2bebc6 = _0x303250.getContext("2d");
      _0x2bebc6.font = _0x3514d9;
      _0x2bebc6.fillStyle = "white";
      _0x2bebc6.fillRect(0, 0, _0x303250.width + 1, _0x303250.height + 1);
      if (_0x3f82f0) {
        _0x2bebc6.strokeStyle = "black";
        _0x2bebc6.lineWidth = _0x1ad44f.lineWidth;
        _0x2bebc6.strokeText(_0x23984e, _0x315f88 / 2, _0x54434c);
      }
      if (_0x4cb72f) {
        _0x2bebc6.fillStyle = "black";
        _0x2bebc6.fillText(_0x23984e, _0x315f88 / 2, _0x54434c);
      }
      const _0x4b1529 = _0x2bebc6.getImageData(0, 0, _0x175a16, _0x388417).data;
      const _0x152abc = _0x4b1529.length;
      const _0x16cf95 = _0x175a16 * 4;
      let _0x169366;
      let _0x492282;
      let _0x4286a1;
      let _0x20362c;
      for (_0x169366 = 0; _0x169366 < _0x152abc; ++_0x169366) {
        if (_0x4b1529[_0x169366] !== 255) {
          _0x4286a1 = _0x169366 / _0x16cf95 | 0;
          break;
        }
      }
      for (_0x169366 = _0x152abc - 1; _0x169366 >= 0; --_0x169366) {
        if (_0x4b1529[_0x169366] !== 255) {
          _0x20362c = _0x169366 / _0x16cf95 | 0;
          break;
        }
      }
      let _0x15ef95 = -1;
      for (_0x169366 = 0; _0x169366 < _0x175a16 && _0x15ef95 === -1; ++_0x169366) {
        for (_0x492282 = 0; _0x492282 < _0x388417; ++_0x492282) {
          const _0x37c209 = _0x169366 * 4 + _0x492282 * _0x16cf95;
          if (_0x4b1529[_0x37c209] !== 255 || _0x4b1529[_0x37c209 + 1] !== 255 || _0x4b1529[_0x37c209 + 2] !== 255 || _0x4b1529[_0x37c209 + 3] !== 255) {
            _0x15ef95 = _0x169366;
            break;
          }
        }
      }
      const _0x40beb9 = {
        text: _0x23984e,
        width: _0x50b99e.width,
        height: _0x20362c - _0x4286a1,
        ascent: _0x54434c - _0x4286a1,
        descent: _0x20362c - _0x54434c,
        minx: _0x15ef95 - _0x315f88 / 2
      };
      return _0x40beb9;
    }
    const _0x2e7d74 = {
      text: _0x23984e,
      width: _0x50b99e.width,
      height: 0,
      ascent: 0,
      descent: 0,
      minx: 0
    };
    return _0x2e7d74;
  }
  const circleImage = {};
  function getCircleImage(_0x2c62ee, _0x26c54a = {}) {
    const _0x1f2d22 = _0x26c54a.radius ?? 26;
    const _0x2078b7 = _0x1f2d22 + (_0x26c54a.borderWidth ?? 5);
    let _0x458a26;
    let _0x3b3c8b;
    if (_0x26c54a.color) {
      _0x458a26 = _0x26c54a.color;
      _0x3b3c8b = _0x26c54a.borderColor || _0x458a26;
    } else {
      const _0x147e2e = _0x26c54a.opacity ?? 0.6;
      const _0x42ed45 = _0x26c54a.borderOpacity ?? _0x147e2e * 0.8;
      if (_0x2c62ee < 10) {
        _0x458a26 = "rgba(110, 204, 57, " + _0x147e2e + ")";
        _0x3b3c8b = "rgba(181, 226, 140, " + _0x42ed45 + ")";
      } else if (_0x2c62ee < 100) {
        _0x458a26 = "rgba(240, 194, 12,  " + _0x147e2e + ")";
        _0x3b3c8b = "rgba(241, 211, 87, " + _0x42ed45 + ")";
      } else {
        _0x458a26 = "rgba(241, 128, 23,  " + _0x147e2e + ")";
        _0x3b3c8b = "rgba(253, 156, 115, " + _0x42ed45 + ")";
      }
    }
    const _0x5a838e = _0x2c62ee + "_" + _0x2078b7 + "_" + _0x1f2d22 + "_" + _0x458a26;
    if (!circleImage[_0x5a838e]) {
      const _0xce8088 = _0x2078b7 * 2;
      const _0xf18bf4 = document.createElement("canvas");
      _0xf18bf4.width = _0xce8088;
      _0xf18bf4.height = _0xce8088;
      const _0x1699fe = _0xf18bf4.getContext("2d", {
        willReadFrequently: true
      });
      _0x1699fe.fillStyle = "#ffffff00";
      _0x1699fe.globalAlpha = 0;
      _0x1699fe.fillRect(0, 0, _0xce8088, _0xce8088);
      if (_0x1f2d22 !== _0x2078b7) {
        _0x1699fe.globalAlpha = 1;
        _0x1699fe.beginPath();
        _0x1699fe.arc(_0x2078b7, _0x2078b7, _0x2078b7, 0, Math.PI * 2, true);
        _0x1699fe.closePath();
        _0x1699fe.fillStyle = _0x3b3c8b;
        _0x1699fe.fill();
      }
      _0x1699fe.globalAlpha = 1;
      _0x1699fe.beginPath();
      _0x1699fe.arc(_0x2078b7, _0x2078b7, _0x1f2d22, 0, Math.PI * 2, true);
      _0x1699fe.closePath();
      _0x1699fe.fillStyle = _0x458a26;
      _0x1699fe.fill();
      _0x1699fe.font = _0x26c54a.font || _0x1f2d22 * 0.9 + "px bold normal";
      _0x1699fe.fillStyle = _0x26c54a.fontColor || "#ffffff";
      _0x1699fe.textAlign = "center";
      _0x1699fe.textBaseline = "middle";
      _0x1699fe.fillText(_0x2c62ee, _0x2078b7, _0x2078b7);
      circleImage[_0x5a838e] = _0xf18bf4.toDataURL("image/png", 1);
    }
    return circleImage[_0x5a838e];
  }
  function download(_0x191f83, _0x5aed19) {
    const _0x3f97e3 = document.createElement("a");
    _0x3f97e3.download = _0x191f83;
    _0x3f97e3.href = URL.createObjectURL(_0x5aed19);
    document.body.appendChild(_0x3f97e3);
    _0x3f97e3.click();
    document.body.removeChild(_0x3f97e3);
  }
  function base64Img2Blob(_0x213b51) {
    const _0x12798e = _0x213b51.split(";base64,");
    const _0x553680 = _0x12798e[0].split(":")[1];
    const _0x4375e7 = window.atob(_0x12798e[1]);
    const _0x2ba355 = _0x4375e7.length;
    const _0x101765 = new Uint8Array(_0x2ba355);
    for (let _0x4aaf0b = 0; _0x4aaf0b < _0x2ba355; ++_0x4aaf0b) {
      _0x101765[_0x4aaf0b] = _0x4375e7.charCodeAt(_0x4aaf0b);
    }
    const _0x1a7496 = {
      type: _0x553680
    };
    return new Blob([_0x101765], _0x1a7496);
  }
  function downloadBase64Image(_0x4df772, _0x5ec862) {
    const _0x13e334 = base64Img2Blob(_0x5ec862);
    if (!_0x4df772.endsWith(".jpg") && !_0x4df772.endsWith(".png")) {
      _0x4df772 = _0x4df772 + ".png";
    }
    download(_0x4df772, _0x13e334);
  }
  function downloadFile(_0x44fb89, _0xb48426, _0x4ed114) {
    const _0x14c831 = {
      type: _0x4ed114
    };
    const _0x7b475a = new Blob([_0xb48426], _0x14c831);
    download(_0x44fb89, _0x7b475a);
  }
  function openFile(_0x3f5a52 = {}) {
    return new Promise((_0x4eaa0f, _0x248829) => {
      let _0x3d49b1 = document.createElement("input");
      _0x3d49b1.type = "file";
      _0x3d49b1.accept = _0x3f5a52.accept;
      _0x3d49b1.addEventListener("change", () => {
        if (_0x3d49b1.files?.length > 0) {
          const _0x5408bb = _0x3d49b1.files[0];
          const _0x541bd2 = _0x5408bb.name;
          const _0x17decd = _0x541bd2 === null || _0x541bd2 === undefined ? undefined : _0x541bd2.substring(_0x541bd2.lastIndexOf(".") + 1, _0x541bd2.length).toLowerCase();
          if (_0x3f5a52.readAsText ?? true) {
            const _0x15b130 = new FileReader();
            _0x15b130.readAsText(_0x5408bb, "UTF-8");
            _0x15b130.onloadend = function (_0x573038) {
              let _0x1ffda0 = this.result;
              if (_0x17decd === "json" || _0x17decd === "geojson") {
                try {
                  _0x1ffda0 = JSON.parse(_0x1ffda0);
                } catch (_0x346c1d) {
                  logError("JSON文件内容有误", _0x1ffda0);
                }
              }
              const _0xf87630 = {
                name: _0x541bd2,
                type: _0x17decd,
                file: _0x5408bb,
                text: _0x1ffda0
              };
              _0x4eaa0f(_0xf87630);
            };
          } else {
            const _0x4797e1 = {
              name: _0x541bd2,
              type: _0x17decd,
              file: _0x5408bb
            };
            _0x4eaa0f(_0x4797e1);
          }
        }
        _0x3d49b1 = null;
      });
      _0x3d49b1.click();
    });
  }
  function base64ToImage(_0x4fb851, _0x3210a0 = true) {
    return new Promise((_0x42b9e3, _0x2163b5) => {
      const _0x23f4de = new Image();
      if (_0x3210a0) {
        _0x23f4de.crossOrigin = "Anonymous";
      }
      _0x23f4de.onload = function () {
        _0x42b9e3(_0x23f4de);
      };
      _0x23f4de.src = _0x4fb851;
    });
  }
  function getExplorerInfo() {
    let _0x10cf78;
    const _0x5b721a = window.navigator.userAgent.toLowerCase();
    if (_0x5b721a.indexOf("msie") >= 0) {
      _0x10cf78 = Number(_0x5b721a.match(/msie ([\d]+)/)[1]);
      const _0x3fbff1 = {
        type: "IE",
        version: _0x10cf78
      };
      return _0x3fbff1;
    } else if (_0x5b721a.indexOf("firefox") >= 0) {
      _0x10cf78 = Number(_0x5b721a.match(/firefox\/([\d]+)/)[1]);
      const _0x1662b9 = {
        type: "Firefox",
        version: _0x10cf78
      };
      return _0x1662b9;
    } else if (_0x5b721a.indexOf("chrome") >= 0) {
      _0x10cf78 = Number(_0x5b721a.match(/chrome\/([\d]+)/)[1]);
      const _0x25c9a0 = {
        type: "Chrome",
        version: _0x10cf78
      };
      return _0x25c9a0;
    } else if (_0x5b721a.indexOf("opera") >= 0) {
      _0x10cf78 = Number(_0x5b721a.match(/opera.([\d]+)/)[1]);
      const _0x4f7c52 = {
        type: "Opera",
        version: _0x10cf78
      };
      return _0x4f7c52;
    } else if (_0x5b721a.indexOf("Safari") >= 0) {
      _0x10cf78 = Number(_0x5b721a.match(/version\/([\d]+)/)[1]);
      const _0x3ef1a3 = {
        type: "Safari",
        version: _0x10cf78
      };
      return _0x3ef1a3;
    }
    const _0x396847 = {
      type: _0x5b721a,
      version: -1
    };
    return _0x396847;
  }
  function webglreport() {
    const _0x2b676b = getExplorerInfo();
    if (_0x2b676b.type === "IE" && _0x2b676b.version < 11) {
      return false;
    }
    try {
      let _0x132f71;
      const _0x57449c = document.createElement("canvas");
      const _0x155002 = typeof WebGL2RenderingContext !== "undefined";
      if (_0x155002) {
        _0x132f71 = _0x57449c.getContext("webgl2") || _0x57449c.getContext("experimental-webgl2") || undefined;
      }
      if (_0x132f71 == null) {
        _0x132f71 = _0x57449c.getContext("webgl") || _0x57449c.getContext("experimental-webgl") || undefined;
      }
      if (_0x132f71 == null) {
        return false;
      }
    } catch (_0x5b10eb) {
      return false;
    }
    return true;
  }
  function webglerror() {
    var _0x2a853b;
    if ((_0x2a853b = window) !== null && _0x2a853b !== undefined && (_0x2a853b = _0x2a853b.layer) !== null && _0x2a853b !== undefined && _0x2a853b.open) {
      window.layer.open({
        type: 1,
        title: "当前浏览器不支持WebGL功能",
        closeBtn: 0,
        shadeClose: false,
        resize: false,
        area: ["530px", "170px"],
        content: "<div style=\"margin: 20px;color: #333;\"><h3>系统检测到您使用的浏览器不支持WebGL功能！</h3>  <p>1、请您检查浏览器版本，安装使用最新版chrome、火狐或IE11以上浏览器！</p> <p>2、WebGL支持取决于GPU支持，请保证客户端电脑已安装显卡驱动程序！</p></div>"
      });
    } else {
      alert("系统检测到您使用的浏览器不支持WebGL功能");
    }
  }
  function buildUrl(_0x4cf162, _0x2f27f6) {
    const _0x52a80d = new URL(_0x4cf162);
    const _0x52f823 = new URLSearchParams(_0x52a80d.search);
    for (const [_0x13951d, _0x22b2c6] of Object.entries(_0x2f27f6)) {
      _0x52f823.set(_0x13951d, _0x22b2c6);
    }
    _0x52a80d.search = _0x52f823.toString();
    return _0x52a80d.toString();
  }
  function getRequest() {
    const _0x4ea5d3 = location.search;
    const _0x46bf8f = {};
    if (_0x4ea5d3.indexOf("?") !== -1) {
      const _0x3a51c5 = _0x4ea5d3.substr(1);
      const _0x3d7666 = _0x3a51c5.split("&");
      for (let _0x1acfac = 0; _0x1acfac < _0x3d7666.length; _0x1acfac++) {
        _0x46bf8f[_0x3d7666[_0x1acfac].split("=")[0]] = decodeURI(_0x3d7666[_0x1acfac].split("=")[1]);
      }
    }
    return _0x46bf8f;
  }
  function getRequestByName(_0x10ae7c) {
    const _0x515c14 = new RegExp("(^|&)" + _0x10ae7c + "=([^&]*)(&|$)", "i");
    const _0xf48db1 = window.location.search.substr(1).match(_0x515c14);
    if (_0xf48db1 != null) {
      return decodeURI(_0xf48db1[2]);
    }
    return null;
  }
  let _isPCBroswer;
  function isPCBroswer() {
    if (!Cesium__namespace.defined(_isPCBroswer)) {
      const _0x36cd33 = navigator.userAgent.toLowerCase();
      const _0x56614a = ["android", "phone", "iphone", "ipad", "ipod", "symbianos"];
      _isPCBroswer = true;
      for (let _0x2273af = 0; _0x2273af < _0x56614a.length; _0x2273af++) {
        if (_0x36cd33.indexOf(_0x56614a[_0x2273af]) > 0) {
          _isPCBroswer = false;
          break;
        }
      }
    }
    return _isPCBroswer;
  }
  function alert(_0xea8e9b, _0x47bb8e) {
    var _0x39c373;
    var _0x581987;
    if (window.globalAlert) {
      window.globalAlert(_0xea8e9b, _0x47bb8e);
    } else if ((_0x39c373 = window.layer) !== null && _0x39c373 !== undefined && _0x39c373.alert) {
      const _0x2089c9 = {
        title: _0x47bb8e || "提示",
        skin: "layui-layer-lan layer-mars-dialog",
        closeBtn: 0,
        anim: 0,
        shade: 0
      };
      window.layer.alert(_0xea8e9b, _0x2089c9);
    } else if ((_0x581987 = window.toastr) !== null && _0x581987 !== undefined && _0x581987.info) {
      window.toastr.info(_0xea8e9b, _0x47bb8e);
    } else {
      window.alert(_0xea8e9b);
    }
  }
  function msg(_0x2d62b5) {
    var _0x44926c;
    var _0x264cf9;
    if (window.globalMsg) {
      window.globalMsg(_0x2d62b5);
    } else if ((_0x44926c = window.toastr) !== null && _0x44926c !== undefined && _0x44926c.info) {
      window.toastr.info(_0x2d62b5);
    } else if ((_0x264cf9 = window.layer) !== null && _0x264cf9 !== undefined && _0x264cf9.msg) {
      window.layer.msg(_0x2d62b5);
    } else {
      window.alert(_0x2d62b5);
    }
  }
  function formatDate(_0x3548d1, _0x49ebe5 = "yyyy-MM-dd HH:mm:ss") {
    const _0x4f9311 = {
      "M+": _0x3548d1.getMonth() + 1,
      "d+": _0x3548d1.getDate(),
      "h+": _0x3548d1.getHours() % 12 === 0 ? 12 : _0x3548d1.getHours() % 12,
      "H+": _0x3548d1.getHours(),
      "m+": _0x3548d1.getMinutes(),
      "s+": _0x3548d1.getSeconds(),
      "q+": Math.floor((_0x3548d1.getMonth() + 3) / 3),
      S: _0x3548d1.getMilliseconds()
    };
    if (/(y+)/.test(_0x49ebe5)) {
      _0x49ebe5 = _0x49ebe5.replace(RegExp.$1, (_0x3548d1.getFullYear() + "").substr(4 - RegExp.$1.length));
    }
    for (const _0x32952e in _0x4f9311) {
      if (new RegExp("(" + _0x32952e + ")").test(_0x49ebe5)) {
        _0x49ebe5 = _0x49ebe5.replace(RegExp.$1, RegExp.$1.length === 1 ? _0x4f9311[_0x32952e] : ("00" + _0x4f9311[_0x32952e]).substr(("" + _0x4f9311[_0x32952e]).length));
      }
    }
    return _0x49ebe5;
  }
  function formatTime(_0x2f0a89, _0x4f3779) {
    _0x2f0a89 = Number(_0x2f0a89) || 0;
    const _0x70d2f7 = _0x4f3779?.getLangText || getLangText;
    if (_0x2f0a89 < 60) {
      return formatNum$1(_0x2f0a89, _0x4f3779?.digits) + _0x70d2f7("_秒");
    } else if (_0x2f0a89 >= 60 && _0x2f0a89 < 3600) {
      const _0x1c46c0 = Math.floor(_0x2f0a89 % 60);
      return Math.floor(_0x2f0a89 / 60) + _0x70d2f7("_分钟") + (_0x1c46c0 !== 0 ? _0x1c46c0 + _0x70d2f7("_秒") : "");
    } else {
      _0x2f0a89 = Math.floor(_0x2f0a89 / 60);
      return Math.floor(_0x2f0a89 / 60) + _0x70d2f7("_小时") + Math.floor(_0x2f0a89 % 60) + _0x70d2f7("_分钟");
    }
  }
  function fetchJson$2(_0x2e2834) {
    if (_0x2e2834.method === "post") {
      const _0x4d517c = _0x2e2834.queryParameters;
      delete _0x2e2834.queryParameters;
      const _0x34c2c7 = new Cesium__namespace.Resource(_0x2e2834);
      const _0x346473 = {
        responseType: _0x2e2834.responseType,
        overrideMimeType: _0x2e2834.overrideMimeType
      };
      return _0x34c2c7.post(_0x4d517c, _0x346473);
    } else {
      const _0x40bbfa = new Cesium__namespace.Resource(_0x2e2834);
      return _0x40bbfa.fetchJson();
    }
  }
  function sendAjax(_0x868f4f) {
    if (isMarsOnline) {
      _0x868f4f = {
        ..._0x868f4f,
        url: replaceOnlineUrlDomain(_0x868f4f.url)
      };
    }
    if (_0x868f4f.method === "post") {
      _0x868f4f.data = _0x868f4f.queryParameters;
      delete _0x868f4f.queryParameters;
    }
    return xhrAdapter(_0x868f4f).then(_0x84e7cc => {
      const _0x13061b = _0x84e7cc?.data;
      return _0x13061b;
    }).catch(_0x3126d8 => {
      logError("axios请求出错", _0x3126d8);
    });
  }
  function requestFullscreen(_0x4753d6) {
    Cesium__namespace.Fullscreen.requestFullscreen(_0x4753d6);
    return Cesium__namespace.Fullscreen.fullscreen;
  }
  function exitFullscreen() {
    Cesium__namespace.Fullscreen.exitFullscreen();
    return Cesium__namespace.Fullscreen.fullscreen;
  }
  function funThrottle(_0x4b21ab, _0x461ea0) {
    let _0x23dd87;
    let _0x2c8885 = Date.now();
    return function (..._0xe4a154) {
      const _0x3f9bdf = this;
      const _0x434eda = Date.now();
      const _0xe66e78 = _0x461ea0 - (_0x434eda - _0x2c8885);
      clearTimeout(_0x23dd87);
      if (_0xe66e78 <= 0) {
        _0x4b21ab.apply(_0x3f9bdf, _0xe4a154);
        _0x2c8885 = Date.now();
      } else {
        _0x23dd87 = setTimeout(() => {
          _0x4b21ab.apply(_0x3f9bdf, _0xe4a154);
        }, _0xe66e78);
      }
    };
  }
  function funDebounce(_0x4c4018, _0x3a94da) {
    let _0x2a685e;
    return function (..._0x53a5bb) {
      const _0x533df4 = this;
      clearTimeout(_0x2a685e);
      _0x2a685e = setTimeout(() => {
        _0x4c4018.apply(_0x533df4, _0x53a5bb);
      }, _0x3a94da);
    };
  }
  function runJsForAttr(_0x20e2f4, _0x10ad5b) {
    try {
      const _0x3da9fd = [];
      const _0x5f3355 = [];
      for (const _0xaf3af8 in _0x20e2f4) {
        try {
          new Function(_0xaf3af8, "return true")(_0x20e2f4[_0xaf3af8]);
        } catch (_0x162000) {
          logWarn("runJsForAttr：执行JS文本方法时有错误，已忽略执行", _0x162000);
        }
        _0x3da9fd.push(_0xaf3af8);
        _0x5f3355.push(_0x20e2f4[_0xaf3af8]);
      }
      return new Function("attr", ..._0x3da9fd, "return " + _0x10ad5b)(_0x20e2f4, ..._0x5f3355);
    } catch (_0x1c6cff) {
      logWarn("runJsForAttr：执行JS文本方法时有错误，已忽略执行", _0x1c6cff);
    }
  }
  const isMarsOnline = window.location.hostname.indexOf("mars3d.cn") !== -1 || window.location.hostname.indexOf("marsgis.cn") !== -1;
  const isLocalhost = window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1";
  function replaceOnlineUrlDomain(_0x394de4) {
    if (!_0x394de4 || !isString(_0x394de4)) {
      return _0x394de4;
    }
    if (_0x394de4.startsWith("https://restapi.amap.com") || _0x394de4.startsWith("https://api.map.baidu.com")) {
      return "//server.mars3d.cn/proxy/" + _0x394de4;
    }
    if (_0x394de4.indexOf("data.mars3d.cn") === -1 || _0x394de4.indexOf("/tile/") !== -1) {
      return _0x394de4;
    }
    return _0x394de4.replace("data.mars3d.cn", "data1.mars3d.cn");
  }
  if (isMarsOnline) {
    Cesium__namespace.Resource.ReplaceMars3DUrl = replaceOnlineUrlDomain;
  }
  const _0x15918f = {
    get lastId() {
      return lastId;
    }
  };
  _0x15918f.__proto__ = null;
  _0x15918f.isNumber = isNumber;
  _0x15918f.isString = isString;
  _0x15918f.isBoolean = isBoolean;
  _0x15918f.isObject = isObject;
  _0x15918f.isPlainObject = isPlainObject;
  _0x15918f.isFunction = isFunction;
  _0x15918f.isSimpleType = isSimpleType;
  _0x15918f.isMars3DCesium = isMars3DCesium;
  _0x15918f.formatNum = formatNum$1;
  _0x15918f.padLeft0 = padLeft0;
  _0x15918f.splitWords = splitWords;
  _0x15918f.trim = trim;
  _0x15918f.getStrLength = getStrLength;
  _0x15918f.template = template;
  _0x15918f.getGlobalId = getGlobalId;
  _0x15918f.stampGlobalId = stampGlobalId;
  _0x15918f.createGuid = createGuid;
  _0x15918f.getTemplateHtml = getTemplateHtml;
  _0x15918f.getCesiumValue = getCesiumValue;
  _0x15918f.getCesiumColor = getCesiumColor;
  _0x15918f.getColorByStyle = getColorByStyle;
  _0x15918f.getJulianDate = getJulianDate$1;
  _0x15918f.getAvailability = getAvailability;
  _0x15918f.getAvailabilityJson = getAvailabilityJson;
  _0x15918f.getAttrVal = getAttrVal;
  _0x15918f.get3DTileFeatureAttr = get3DTileFeatureAttr;
  _0x15918f.merge = merge;
  _0x15918f.clone = clone;
  _0x15918f.getArrayRandomOne = getArrayRandomOne;
  _0x15918f.removeArrayItem = removeArrayItem;
  _0x15918f.getSymbolStyle = getSymbolStyle;
  _0x15918f.geojsonToArcGIS = geojsonToArcGIS;
  _0x15918f.arcgisToGeoJSON = arcgisToGeoJSON;
  _0x15918f.getGeoJsonFeatures = getGeoJsonFeatures;
  _0x15918f.geoJsonToGraphics = geoJsonToGraphics;
  _0x15918f.featureToGraphic = featureToGraphic;
  _0x15918f.mergeSymbolToGraphic = mergeSymbolToGraphic;
  _0x15918f.heightToZoom = heightToZoom;
  _0x15918f.getUrlResource = getUrlResource;
  _0x15918f.getTextImage = getTextImage;
  _0x15918f.measureCanvasText = measureCanvasText;
  _0x15918f.getCircleImage = getCircleImage;
  _0x15918f.downloadBase64Image = downloadBase64Image;
  _0x15918f.downloadFile = downloadFile;
  _0x15918f.openFile = openFile;
  _0x15918f.base64ToImage = base64ToImage;
  _0x15918f.getExplorerInfo = getExplorerInfo;
  _0x15918f.webglreport = webglreport;
  _0x15918f.webglerror = webglerror;
  _0x15918f.buildUrl = buildUrl;
  _0x15918f.getRequest = getRequest;
  _0x15918f.getRequestByName = getRequestByName;
  _0x15918f.isPCBroswer = isPCBroswer;
  _0x15918f.alert = alert;
  _0x15918f.msg = msg;
  _0x15918f.formatDate = formatDate;
  _0x15918f.formatTime = formatTime;
  _0x15918f.fetchJson = fetchJson$2;
  _0x15918f.sendAjax = sendAjax;
  _0x15918f.requestFullscreen = requestFullscreen;
  _0x15918f.exitFullscreen = exitFullscreen;
  _0x15918f.funThrottle = funThrottle;
  _0x15918f.funDebounce = funDebounce;
  _0x15918f.runJsForAttr = runJsForAttr;
  _0x15918f.isMarsOnline = isMarsOnline;
  _0x15918f.isLocalhost = isLocalhost;
  _0x15918f.setImage = setImage;
  var Util = _0x15918f;
  function expandCesium$7() {
    Object.defineProperties(Cesium__namespace.ColorMaterialProperty.prototype, {
      globalAlpha: {
        set: function (_0x454575) {
          this._globalAlpha = _0x454575;
          const _0x37dfc8 = getCesiumColor(this.color, Cesium__namespace.Color.WHITE);
          if (!Cesium__namespace.defined(this._color_alpha)) {
            this._color_alpha = _0x37dfc8.alpha;
          }
          this.color = _0x37dfc8.withAlpha(this._color_alpha * _0x454575);
        },
        get: function () {
          return this._globalAlpha ?? 1;
        }
      }
    });
  }
  function expandCesium$6() {
    const _0x11aeb4 = {
      set: function (_0x6571e6) {
        this._globalAlpha = _0x6571e6;
      },
      get: function () {
        return this._globalAlpha ?? 1;
      }
    };
    const _0x3434b1 = {
      globalAlpha: _0x11aeb4
    };
    Object.defineProperties(Cesium__namespace.GridMaterialProperty.prototype, _0x3434b1);
    const _0x17888b = Cesium__namespace.GridMaterialProperty.prototype.getValue;
    Cesium__namespace.GridMaterialProperty.prototype.getValue = function (_0x5e05d7, _0x5e211a) {
      _0x5e211a = _0x17888b.bind(this)(_0x5e05d7, _0x5e211a);
      if (this.globalAlpha !== 1) {
        if (_0x5e211a.color) {
          _0x5e211a.color.alpha *= this.globalAlpha;
        }
        if (_0x5e211a.cellAlpha) {
          _0x5e211a.cellAlpha *= this.globalAlpha;
        }
      }
      return _0x5e211a;
    };
  }
  function expandCesium$5() {
    Object.defineProperties(Cesium__namespace.ImageMaterialProperty.prototype, {
      globalAlpha: {
        set: function (_0x5d91f0) {
          this._globalAlpha = _0x5d91f0;
          const _0x3e4a02 = getCesiumColor(this.color, Cesium__namespace.Color.WHITE);
          if (!Cesium__namespace.defined(this._color_alpha)) {
            this._color_alpha = _0x3e4a02.alpha;
          }
          this.color = _0x3e4a02.withAlpha(this._color_alpha * _0x5d91f0);
        },
        get: function () {
          return this._globalAlpha ?? 1;
        }
      }
    });
  }
  function expandCesium$4() {
    const _0x59ebfc = {
      set: function (_0x27742e) {
        this._globalAlpha = _0x27742e;
      },
      get: function () {
        return this._globalAlpha ?? 1;
      }
    };
    const _0x590266 = {
      globalAlpha: _0x59ebfc
    };
    Object.defineProperties(Cesium__namespace.PolylineArrowMaterialProperty.prototype, _0x590266);
    const _0x7d7af6 = Cesium__namespace.PolylineArrowMaterialProperty.prototype.getValue;
    Cesium__namespace.PolylineArrowMaterialProperty.prototype.getValue = function (_0x2f0f36, _0x5441b0) {
      _0x5441b0 = _0x7d7af6.bind(this)(_0x2f0f36, _0x5441b0);
      if (_0x5441b0.color && this.globalAlpha !== 1) {
        _0x5441b0.color.alpha *= this.globalAlpha;
      }
      return _0x5441b0;
    };
  }
  function expandCesium$3() {
    const _0x5f53b2 = {
      set: function (_0x460b06) {
        this._globalAlpha = _0x460b06;
      },
      get: function () {
        return this._globalAlpha ?? 1;
      }
    };
    const _0x24ade6 = {
      globalAlpha: _0x5f53b2
    };
    Object.defineProperties(Cesium__namespace.PolylineDashMaterialProperty.prototype, _0x24ade6);
    const _0xbebb31 = Cesium__namespace.PolylineDashMaterialProperty.prototype.getValue;
    Cesium__namespace.PolylineDashMaterialProperty.prototype.getValue = function (_0x37ce30, _0x242b82) {
      _0x242b82 = _0xbebb31.bind(this)(_0x37ce30, _0x242b82);
      if (this.globalAlpha !== 1) {
        if (_0x242b82.color) {
          _0x242b82.color.alpha *= this.globalAlpha;
        }
        if (_0x242b82.gapColor) {
          _0x242b82.gapColor.alpha *= this.globalAlpha;
        }
      }
      return _0x242b82;
    };
  }
  function expandCesium$2() {
    const _0xbc379d = {
      set: function (_0xca6d47) {
        this._globalAlpha = _0xca6d47;
      },
      get: function () {
        return this._globalAlpha ?? 1;
      }
    };
    const _0x5c4a8 = {
      globalAlpha: _0xbc379d
    };
    Object.defineProperties(Cesium__namespace.PolylineGlowMaterialProperty.prototype, _0x5c4a8);
    const _0x5bda72 = Cesium__namespace.PolylineGlowMaterialProperty.prototype.getValue;
    Cesium__namespace.PolylineGlowMaterialProperty.prototype.getValue = function (_0x243d4b, _0xa62c7c) {
      _0xa62c7c = _0x5bda72.bind(this)(_0x243d4b, _0xa62c7c);
      if (_0xa62c7c.color && this.globalAlpha !== 1) {
        _0xa62c7c.color.alpha *= this.globalAlpha;
      }
      return _0xa62c7c;
    };
  }
  function expandCesium$1() {
    const _0x14fbb5 = {
      set: function (_0x256c88) {
        this._globalAlpha = _0x256c88;
      },
      get: function () {
        return this._globalAlpha ?? 1;
      }
    };
    const _0x3e7ffa = {
      globalAlpha: _0x14fbb5
    };
    Object.defineProperties(Cesium__namespace.PolylineOutlineMaterialProperty.prototype, _0x3e7ffa);
    const _0x5e5dc1 = Cesium__namespace.PolylineOutlineMaterialProperty.prototype.getValue;
    Cesium__namespace.PolylineOutlineMaterialProperty.prototype.getValue = function (_0xc39c1d, _0x38c6b2) {
      _0x38c6b2 = _0x5e5dc1.bind(this)(_0xc39c1d, _0x38c6b2);
      if (this.globalAlpha !== 1) {
        if (_0x38c6b2.color) {
          _0x38c6b2.color.alpha *= this.globalAlpha;
        }
        if (_0x38c6b2.outlineColor) {
          _0x38c6b2.outlineColor.alpha *= this.globalAlpha;
        }
      }
      return _0x38c6b2;
    };
  }
  function expandCesium() {
    const _0x4a5f47 = {
      set: function (_0x56204b) {
        this._globalAlpha = _0x56204b;
      },
      get: function () {
        return this._globalAlpha ?? 1;
      }
    };
    const _0x41f362 = {
      globalAlpha: _0x4a5f47
    };
    Object.defineProperties(Cesium__namespace.StripeMaterialProperty.prototype, _0x41f362);
    const _0x1d6c67 = Cesium__namespace.StripeMaterialProperty.prototype.getValue;
    Cesium__namespace.StripeMaterialProperty.prototype.getValue = function (_0x11eb3f, _0x333410) {
      _0x333410 = _0x1d6c67.bind(this)(_0x11eb3f, _0x333410);
      if (this.globalAlpha !== 1) {
        if (_0x333410.evenColor) {
          _0x333410.evenColor.alpha *= this.globalAlpha;
        }
        if (_0x333410.oddColor) {
          _0x333410.oddColor.alpha *= this.globalAlpha;
        }
      }
      return _0x333410;
    };
  }
  if (Cesium__namespace !== null && Cesium__namespace !== undefined && Cesium__namespace.Viewer) {
    if (Cesium__namespace.VERSION) {
      const minVer = 130;
      const version = Number(Cesium__namespace.VERSION.substr(Cesium__namespace.VERSION.indexOf(".") + 1));
      if (version < minVer) {
        console.error("请将 mars3d-cesium 库升级至 v1." + minVer + " 及以上版本", version);
      }
    }
    if (!Cesium__namespace._mars3d_include) {
      expandCesium$t();
      expandCesium$s();
      expandCesium$r();
      expandCesium$q();
      expandCesium$p();
      expandCesium$o();
      expandCesium$n();
      expandCesium$m();
      expandCesium$l();
      expandCesium$k();
      expandCesium$j();
      expandCesium$i();
      expandCesium$h();
      expandCesium$g();
      expandCesium$f();
      expandCesium$e();
      expandCesium$d();
      expandCesium$c();
      expandCesium$b();
      expandCesium$a();
      expandCesium$9();
      expandCesium$8();
      expandCesium$7();
      expandCesium$6();
      expandCesium$5();
      expandCesium$4();
      expandCesium$3();
      expandCesium$2();
      expandCesium$1();
      expandCesium();
      Cesium__namespace._mars3d_include = true;
    }
  } else {
    console.error("请引入 mars3d-cesium 库", Cesium__namespace);
  }
  proj4.defs("EPSG:4490", "+proj=longlat +ellps=GRS80 +no_defs");
  proj4.defs("EPSG:4491", "+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=13500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4492", "+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=14500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4493", "+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=15500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4494", "+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=16500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4495", "+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=17500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4496", "+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=18500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4497", "+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=19500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4498", "+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=20500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4499", "+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=21500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4500", "+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=22500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4501", "+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=23500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4513", "+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=25500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4514", "+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=26500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4515", "+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=27500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4516", "+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=28500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4517", "+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=29500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4518", "+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=30500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4519", "+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=31500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4520", "+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=32500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4521", "+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=33500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4522", "+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=34500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4523", "+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=35500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4524", "+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=36500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4525", "+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=37500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4526", "+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=38500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4527", "+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=39500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4528", "+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4529", "+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=41500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4530", "+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=42500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4531", "+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=43500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4532", "+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=44500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4533", "+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=45500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4502", "+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4503", "+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4504", "+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4505", "+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4506", "+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4507", "+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4508", "+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4509", "+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4510", "+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4511", "+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4512", "+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4534", "+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4535", "+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4536", "+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4537", "+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4538", "+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4539", "+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4540", "+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4541", "+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4542", "+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4543", "+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4544", "+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4545", "+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4546", "+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4547", "+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4548", "+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4549", "+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4550", "+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4551", "+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4552", "+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4553", "+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.defs("EPSG:4554", "+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs");
  proj4.getCrsList = () => {
    const _0x2b7187 = [];
    for (const _0x5b0e3d in proj4.defs) {
      if (_0x5b0e3d.startsWith("EPSG:")) {
        const _0x4111b7 = {
          crs: _0x5b0e3d,
          ...proj4.defs[_0x5b0e3d]
        };
        _0x2b7187.push(_0x4111b7);
      }
    }
    return _0x2b7187;
  };
  class BaseClass {
    constructor(_0x5a886e) {
      this.options = _0x5a886e;
      this._enabledEvent = _0x5a886e?.enabledEvent ?? true;
    }
    get enabledEvent() {
      return this._enabledEvent;
    }
    set enabledEvent(_0x35d487) {
      this._enabledEvent = _0x35d487;
    }
    destroy(_0x521ab8) {
      if (!_0x521ab8) {
        for (const _0x40f068 in this) {
          delete this[_0x40f068];
        }
      }
    }
    on(_0x22581f, _0x2b3982, _0x2a2e75) {
      if (!_0x22581f) {
        logError("绑定事件时传入了空值", _0x2b3982);
        return this;
      }
      if (Array.isArray(_0x22581f)) {
        for (let _0x1c88fc = 0, _0x3aa267 = _0x22581f.length; _0x1c88fc < _0x3aa267; _0x1c88fc++) {
          this._on(_0x22581f[_0x1c88fc], _0x2b3982, _0x2a2e75);
        }
      } else {
        _0x22581f = splitWords(_0x22581f);
        for (let _0x48de00 = 0, _0x1a82f2 = _0x22581f.length; _0x48de00 < _0x1a82f2; _0x48de00++) {
          this._on(_0x22581f[_0x48de00], _0x2b3982, _0x2a2e75);
        }
      }
      if (this._onEventHook) {
        this._onEventHook(_0x22581f);
      }
      return this;
    }
    off(_0xf07a1, _0x2fcc79, _0x1e95fb) {
      if (!_0xf07a1) {
        delete this._events;
      } else if (Array.isArray(_0xf07a1)) {
        for (let _0xe43f8 = 0, _0xa41e95 = _0xf07a1.length; _0xe43f8 < _0xa41e95; _0xe43f8++) {
          this._off(_0xf07a1[_0xe43f8], _0x2fcc79, _0x1e95fb);
        }
      } else {
        _0xf07a1 = splitWords(_0xf07a1);
        for (let _0x8804b4 = 0, _0xb7be70 = _0xf07a1.length; _0x8804b4 < _0xb7be70; _0x8804b4++) {
          this._off(_0xf07a1[_0x8804b4], _0x2fcc79, _0x1e95fb);
        }
      }
      return this;
    }
    _on(_0x36f47b, _0x3fc0d0, _0x2713a3) {
      this._events = this._events || {};
      let _0x5dc8e9 = this._events[_0x36f47b];
      if (!_0x5dc8e9) {
        _0x5dc8e9 = [];
        this._events[_0x36f47b] = _0x5dc8e9;
      }
      if (_0x2713a3 === this) {
        _0x2713a3 = undefined;
      }
      const _0x540784 = {
        fn: _0x3fc0d0,
        ctx: _0x2713a3
      };
      const _0x5a86fb = _0x540784;
      const _0x22a538 = _0x5dc8e9;
      for (let _0x1ed68e = 0, _0x2c24f6 = _0x22a538.length; _0x1ed68e < _0x2c24f6; _0x1ed68e++) {
        if (_0x22a538[_0x1ed68e].fn === _0x3fc0d0 && _0x22a538[_0x1ed68e].ctx === _0x2713a3) {
          return;
        }
      }
      _0x22a538.push(_0x5a86fb);
    }
    _off(_0x34a050, _0x22c97f, _0x2c1381) {
      let _0x5ceef5;
      let _0xfc9ded;
      let _0x4a6d34;
      if (!this._events) {
        return;
      }
      _0x5ceef5 = this._events[_0x34a050];
      if (!_0x5ceef5) {
        return;
      }
      if (!_0x22c97f) {
        _0xfc9ded = 0;
        _0x4a6d34 = _0x5ceef5.length;
        for (; _0xfc9ded < _0x4a6d34; _0xfc9ded++) {
          _0x5ceef5[_0xfc9ded].fn = falseFn;
        }
        delete this._events[_0x34a050];
        return;
      }
      if (_0x2c1381 === this) {
        _0x2c1381 = undefined;
      }
      if (_0x5ceef5) {
        _0xfc9ded = 0;
        _0x4a6d34 = _0x5ceef5.length;
        for (; _0xfc9ded < _0x4a6d34; _0xfc9ded++) {
          const _0x187ced = _0x5ceef5[_0xfc9ded];
          if (_0x187ced.ctx !== _0x2c1381) {
            continue;
          }
          if (_0x187ced.fn === _0x22c97f) {
            _0x187ced.fn = falseFn;
            if (this._firingCount) {
              this._events[_0x34a050] = _0x5ceef5 = _0x5ceef5.slice();
            }
            _0x5ceef5.splice(_0xfc9ded, 1);
            return;
          }
        }
      }
    }
    fire(_0x17cfd9, _0x432acf, _0x137fc1) {
      if (!this.listens(_0x17cfd9, _0x137fc1) || !this.enabledEvent) {
        return this;
      }
      const _0x377836 = {
        sourceTarget: this,
        ..._0x432acf
      };
      _0x377836.type = _0x17cfd9;
      _0x377836.target = this;
      _0x377836.stopPropagation = function () {
        this._stopPropagation = true;
      };
      const _0x552ff6 = _0x377836;
      if (_0x432acf !== null && _0x432acf !== undefined && _0x432acf.cloneProperty) {
        const _0x15db6c = ["cartesian"];
        _0x15db6c.forEach(function (_0x33ff7a) {
          const _0xc7ac8d = Object.getOwnPropertyDescriptor(_0x432acf, _0x33ff7a);
          if (_0xc7ac8d) {
            Object.defineProperty(_0x552ff6, _0x33ff7a, _0xc7ac8d);
          }
        });
      }
      if (this._events) {
        const _0x179ce1 = this._events[_0x17cfd9];
        if (_0x179ce1) {
          this._firingCount = this._firingCount + 1 || 1;
          for (let _0x491e5a = 0, _0x555ff9 = _0x179ce1.length; _0x491e5a < _0x555ff9; _0x491e5a++) {
            const _0x39a031 = _0x179ce1[_0x491e5a];
            _0x39a031.fn.call(_0x39a031.ctx || this, _0x552ff6);
          }
          this._firingCount--;
        }
      }
      if (_0x137fc1 && !_0x552ff6._stopPropagation) {
        this._propagateEvent(_0x552ff6);
      }
      return this;
    }
    listens(_0x2ee277, _0x3498ec) {
      const _0xbbb59 = this._events && this._events[_0x2ee277];
      if (_0xbbb59 && _0xbbb59.length) {
        return true;
      }
      if (_0x3498ec) {
        for (const _0x21cf2b in this._eventParents) {
          if (this._eventParents[_0x21cf2b].listens(_0x2ee277, _0x3498ec)) {
            return true;
          }
        }
      }
      return false;
    }
    once(_0x3b4ac4, _0x29f46b, _0xae5f9f) {
      if (isObject(_0x3b4ac4)) {
        for (const _0x3e5cda in _0x3b4ac4) {
          this.once(_0x3e5cda, _0x3b4ac4[_0x3e5cda], _0x29f46b);
        }
        return this;
      }
      const _0xa4ce0e = bind(() => {
        this.off(_0x3b4ac4, _0x29f46b, _0xae5f9f).off(_0x3b4ac4, _0xa4ce0e, _0xae5f9f);
      }, this);
      return this.on(_0x3b4ac4, _0x29f46b, _0xae5f9f).on(_0x3b4ac4, _0xa4ce0e, _0xae5f9f);
    }
    addEventParent(_0xe0befa) {
      this._eventParents = this._eventParents || {};
      this._eventParents[stampGlobalId(_0xe0befa)] = _0xe0befa;
      return this;
    }
    removeEventParent(_0x5b8032) {
      if (this._eventParents) {
        delete this._eventParents[stampGlobalId(_0x5b8032)];
      }
      return this;
    }
    hasEventParent(_0x2bedd1) {
      if (this._eventParents && this._eventParents[stampGlobalId(_0x2bedd1)]) {
        return true;
      } else {
        return false;
      }
    }
    _propagateEvent(_0x5de802) {
      for (const _0x445ff6 in this._eventParents) {
        const _0x1e6c88 = this._eventParents[_0x445ff6];
        if (this._filterPropagateEvent(_0x1e6c88, _0x5de802)) {
          const _0x2d2a18 = {
            layer: _0x5de802.target,
            propagatedFrom: _0x5de802.target,
            ..._0x5de802
          };
          const _0x37fb92 = _0x2d2a18;
          _0x1e6c88.fire(_0x5de802.type, _0x37fb92, true);
        }
      }
    }
    _filterPropagateEvent(_0x18cf40, _0x46162f) {
      return true;
    }
  }
  function falseFn() {
    return false;
  }
  function bind(_0xc453, _0x5b2eda) {
    const _0x132853 = Array.prototype.slice;
    if (_0xc453.bind) {
      return _0xc453.bind.apply(_0xc453, _0x132853.call(arguments, 1));
    }
    const _0x38734d = _0x132853.call(arguments, 2);
    return function () {
      return _0xc453.apply(_0x5b2eda, _0x38734d.length ? _0x38734d.concat(_0x132853.call(arguments)) : arguments);
    };
  }
  const State = {
    INITIALIZED: "inited",
    ADD: "add",
    ADDED: "added",
    REMOVED: "removed",
    DESTROY: "destroy"
  };
  const EventType = {
    add: "add",
    remove: "remove",
    addItem: "addItem",
    removeItem: "removeItem",
    addGraphic: "addGraphic",
    removeGraphic: "removeGraphic",
    addLayer: "addLayer",
    removeLayer: "removeLayer",
    changeBasemap: "changeBasemap",
    addControl: "addControl",
    removeControl: "removeControl",
    updateControl: "updateControl",
    addEffect: "addEffect",
    removeEffect: "removeEffect",
    update: "update",
    updatePosition: "updatePosition",
    updateStyle: "updateStyle",
    updateAttr: "updateAttr",
    show: "show",
    hide: "hide",
    start: "start",
    change: "change",
    startItem: "startItem",
    endItem: "endItem",
    end: "end",
    stop: "stop",
    clusterStop: "clusterStop",
    clusterItemChange: "clusterItemChange",
    zoom: "zoom",
    loadBefore: "loadBefore",
    load: "load",
    error: "error",
    loadConfig: "loadConfig",
    popupOpen: "popupOpen",
    popupClose: "popupClose",
    popupRender: "popupRender",
    tooltipOpen: "tooltipOpen",
    tooltipClose: "tooltipClose",
    tooltipRender: "tooltipRender",
    contextMenuOpen: "contextMenuOpen",
    contextMenuClose: "contextMenuClose",
    contextMenuClick: "contextMenuClick",
    highlightOpen: "highlightOpen",
    highlightClose: "highlightClose",
    click: "click",
    clickGraphic: "clickGraphic",
    clickTileGraphic: "clickTileGraphic",
    clickMap: "clickMap",
    dblClick: "dblClick",
    leftDown: "leftDown",
    leftUp: "leftUp",
    mouseMove: "mouseMove",
    mouseMoveTarget: "mouseMoveTarget",
    wheel: "wheel",
    rightClick: "rightClick",
    rightDown: "rightDown",
    rightUp: "rightUp",
    middleClick: "middleClick",
    middleDown: "middleDown",
    middleUp: "middleUp",
    pinchStart: "pinchStart",
    pinchEnd: "pinchEnd",
    pinchMove: "pinchMove",
    mouseDown: "mouseDown",
    mouseUp: "mouseUp",
    mouseOver: "mouseOver",
    mouseOut: "mouseOut",
    keydown: "keydown",
    keyup: "keyup",
    drawStart: "drawStart",
    drawMouseMove: "drawMouseMove",
    drawAddPoint: "drawAddPoint",
    drawRemovePoint: "drawRemovePoint",
    drawCreated: "drawCreated",
    editStart: "editStart",
    editMouseDown: "editMouseDown",
    editMouseMove: "editMouseMove",
    editMovePoint: "editMovePoint",
    editAddPoint: "editAddPoint",
    editRemovePoint: "editRemovePoint",
    editStyle: "editStyle",
    editStop: "editStop",
    move: "move",
    availabilityChange: "availabilityChange",
    initialTilesLoaded: "initialTilesLoaded",
    allTilesLoaded: "allTilesLoaded",
    addTile: "addTile",
    addTileSuccess: "addTileSuccess",
    addTileError: "addTileError",
    removeTile: "removeTile",
    cameraMoveStart: "cameraMoveStart",
    cameraMoveEnd: "cameraMoveEnd",
    cameraChanged: "cameraChanged",
    preUpdate: "preUpdate",
    postUpdate: "postUpdate",
    preRender: "preRender",
    postRender: "postRender",
    renderError: "renderError",
    morphStart: "morphStart",
    morphComplete: "morphComplete",
    clockTick: "clockTick",
    clockStop: "clockStop",
    terrainChange: "terrainChange",
    terrainLoadError: "terrainLoadError",
    terrainLoadSuccess: "terrainLoadSuccess",
    tileLoadProgress: "tileLoadProgress"
  };
  class BaseThing extends BaseClass {
    constructor(_0x5a53d2 = {}) {
      if (isBoolean(_0x5a53d2)) {
        _0x5a53d2 = {
          enabled: _0x5a53d2
        };
      }
      super(_0x5a53d2);
      this._id = _0x5a53d2.id ?? createGuid();
      this._enabled = _0x5a53d2.enabled ?? true;
      this._state = State.INITIALIZED;
      this.options = _0x5a53d2;
    }
    get type() {
      return this._type;
    }
    set type(_0x4a1d46) {
      this._type = _0x4a1d46;
    }
    get state() {
      return this._state;
    }
    get isAdded() {
      return this._state === State.ADDED;
    }
    get isDestroy() {
      return this._state === State.DESTROY || !this.options;
    }
    get id() {
      return this._id;
    }
    set id(_0x26e449) {
      this.options.id = _0x26e449;
    }
    get enabled() {
      return this._enabled;
    }
    set enabled(_0x5693eb) {
      if (this._enabled === _0x5693eb) {
        return;
      }
      this._enabled = _0x5693eb;
      if (this._enabledHook) {
        this._enabledHook(_0x5693eb);
      }
    }
    addTo(_0x38b81d) {
      if (_0x38b81d && _0x38b81d.addThing) {
        _0x38b81d.addThing(this);
      }
      return this;
    }
    remove(_0x5f19c1) {
      if (this._map) {
        this._map.removeThing(this, _0x5f19c1);
      }
    }
    _onAdd(_0x102d28) {
      if (this.isAdded || this._state === State.ADD) {
        return;
      }
      this._state = State.ADD;
      this._map = _0x102d28;
      if (this.options.eventParent) {
        this.addEventParent(this.options.eventParent);
      } else if (this.options?.eventParent === false) ;else {
        this.addEventParent(_0x102d28);
      }
      if (this._mountedHook && !this._createOK) {
        this._mountedHook();
        this._createOK = true;
      }
      if (this._addedBaseHook) {
        this._addedBaseHook();
      }
      if (this._addedHook) {
        this._addedHook();
      }
      if (this.options.availability) {
        this.availability = this.options.availability;
      }
      this._state = State.ADDED;
      this.fire(EventType.add);
    }
    _onRemove() {
      var _0x3d7e48;
      if (this._state !== State.ADDED) {
        return;
      }
      if (!this._map) {
        return;
      }
      if (this._removedBaseHook) {
        this._removedBaseHook();
      }
      if (this._removedHook) {
        this._removedHook();
      }
      this._state = State.REMOVED;
      this.fire(EventType.remove);
      if ((_0x3d7e48 = this.options) !== null && _0x3d7e48 !== undefined && _0x3d7e48.eventParent) {
        this.removeEventParent(this.options.eventParent);
      } else if (this.options?.eventParent === false) ;else {
        this.removeEventParent(this._map);
      }
      this._map = null;
    }
    _mountedHook() {}
    _addedHook() {}
    _removedHook() {}
    setOptions(_0x3f4e3d, _0x37213b) {
      if (!_0x3f4e3d || Object.keys(_0x3f4e3d).length === 0) {
        return this;
      }
      if (_0x37213b?.merge ?? true) {
        this.options = merge(this.options, _0x3f4e3d);
      } else {
        this.options = _0x3f4e3d;
      }
      if (Cesium__namespace.defined(_0x3f4e3d.enabled)) {
        this.enabled = _0x3f4e3d.enabled;
      }
      if (this._setOptionsHook) {
        this._setOptionsHook(this.options, _0x3f4e3d);
      }
      return this;
    }
    toJSON() {
      const _0x5f2b9d = clone(getAttrVal(this.options, {
        onlySimpleType: true
      }), ["parent", "eventParent", "layer"]);
      _0x5f2b9d.type = this.type;
      if (this.enabled === false) {
        _0x5f2b9d.enabled = this.enabled;
      } else {
        delete _0x5f2b9d.enabled;
      }
      if (this._availability) {
        _0x5f2b9d.availability = this.availability;
      }
      if (this._toJsonEx) {
        this._toJsonEx(_0x5f2b9d);
      }
      for (const _0x2607dc in _0x5f2b9d) {
        const _0x39cf6c = _0x5f2b9d[_0x2607dc];
        if (!Cesium__namespace.defined(_0x39cf6c) || isObject(_0x39cf6c) && Object.keys(_0x39cf6c).length === 0) {
          delete _0x5f2b9d[_0x2607dc];
        }
      }
      return _0x5f2b9d;
    }
    destroy(_0x48e7b5) {
      if (this._state !== State.REMOVED) {
        if (this.clear) {
          this.clear();
        }
        this.remove();
      }
      super.destroy(_0x48e7b5);
      this._state = State.DESTROY;
    }
  }
  class GroupThing extends BaseThing {
    constructor(_0x14ce31 = {}) {
      super(_0x14ce31);
      this._arrThing = [];
    }
    get arrThing() {
      return this._arrThing;
    }
    get hasEmptyGroup() {
      return this.length === 0;
    }
    get hasChildThing() {
      return this.length > 0;
    }
    get length() {
      if (this.options.things?.length > 0) {
        return this.options.things.length;
      } else {
        return this._arrThing.length;
      }
    }
    _enabledHook(_0x4091d0) {
      this.eachThing(_0x4397d2 => {
        _0x4397d2.enabled = _0x4091d0;
      }, this);
    }
    _addedHook() {
      this.addChildsToMap();
    }
    _removedHook() {
      this.removeMapChilds();
    }
    addChildsToMap() {
      this.eachThing(_0x1d8c1d => {
        this._map.addThing(_0x1d8c1d);
      }, this);
    }
    removeMapChilds() {
      this.eachThing(_0x3d9dab => {
        this._map.removeThing(_0x3d9dab);
      }, this);
    }
    addThing(_0x480e63) {
      if (_0x480e63.parent) {
        _0x480e63.removeEventParent(_0x480e63.parent);
        _0x480e63.parent = null;
      }
      _0x480e63.parent = this;
      _0x480e63.options.eventParent = this;
      this._arrThing.push(_0x480e63);
      if (this.isAdded && !_0x480e63.isAdded) {
        this._map.addThing(_0x480e63);
      } else {
        _0x480e63.removeEventParent(this._map);
        _0x480e63.addEventParent(this);
      }
      return this;
    }
    removeThing(_0x1f6c4a) {
      _0x1f6c4a.parent = null;
      _0x1f6c4a.removeEventParent(this);
      removeArrayItem(this._arrThing, _0x1f6c4a);
      if (this._map && _0x1f6c4a.isAdded) {
        this._map.removeThing(_0x1f6c4a);
      }
      return this;
    }
    eachThing(_0x445ee8, _0x4fee01) {
      if (!this._arrThing) {
        return;
      }
      this._arrThing.forEach(_0x5cf997 => {
        _0x445ee8.call(_0x4fee01, _0x5cf997);
      });
      return this;
    }
    getThings() {
      return this._arrThing;
    }
    getInMapChilds() {
      const _0x4284cc = this._arrThing || [];
      this._map.eachThing(_0x2e4bfb => {
        if (_0x2e4bfb.pid !== this.id) {
          return;
        }
        if (this._arrThing.indexOf(_0x2e4bfb) !== -1) {
          return;
        }
        _0x4284cc.push(_0x2e4bfb);
      }, this);
      return _0x4284cc;
    }
    getThingById(_0x50e77a) {
      const _0x121710 = this._arrThing;
      if (!this._arrThing || this._arrThing.length === 0) {
        return;
      }
      for (let _0x2b4073 = 0, _0x59bf55 = _0x121710.length; _0x2b4073 < _0x59bf55; _0x2b4073++) {
        const _0x1ca79e = _0x121710[_0x2b4073];
        if (_0x1ca79e.id === _0x50e77a) {
          return _0x1ca79e;
        }
      }
      return undefined;
    }
    destroy(_0x1554ad) {
      this.eachThing(_0x31a728 => {
        if (_0x31a728 !== null && _0x31a728 !== undefined && _0x31a728.destroy) {
          _0x31a728.destroy(_0x1554ad);
        }
      }, this);
      super.destroy(_0x1554ad);
    }
  }
  var GroundSkyBoxFS = "uniform samplerCube u_cubeMap;\nin vec3 v_texCoord;\n\nvoid main() {\n  vec4 color = czm_textureCube(u_cubeMap, normalize(v_texCoord));\n  out_FragColor = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);\n}\n";
  var GroundSkyBoxVS = "in vec3 position;\nuniform mat3 u_rotateMatrix;\nout vec3 v_texCoord;\n\nvoid main() {\n  vec3 p = czm_viewRotation * u_rotateMatrix * (czm_temeToPseudoFixed * (czm_entireFrustum.y * position));\n  gl_Position = czm_projection * vec4(p, 1.0);\n  v_texCoord = position.xyz;\n}\n";
  class GroundSkyBox extends Cesium__namespace.SkyBox {
    constructor(_0x9df11c) {
      super(_0x9df11c);
      this._skyboxMatrix3 = new Cesium__namespace.Matrix3();
      this._maxHeight = _0x9df11c.maxHeight ?? 230000;
    }
    update(_0x1872d0, _0x225d97) {
      var _0x5d7df5;
      const _0x55f486 = this;
      if (!this.show) {
        return undefined;
      }
      const _0x248dea = (_0x5d7df5 = _0x1872d0.camera) === null || _0x5d7df5 === undefined || (_0x5d7df5 = _0x5d7df5.positionCartographic) === null || _0x5d7df5 === undefined ? undefined : _0x5d7df5.height;
      if (Cesium__namespace.defined(_0x248dea) && _0x248dea > this._maxHeight) {
        return undefined;
      }
      if (_0x1872d0.mode !== Cesium__namespace.SceneMode.SCENE3D && _0x1872d0.mode !== Cesium__namespace.SceneMode.MORPHING) {
        return undefined;
      }
      if (!_0x1872d0.passes.render) {
        return undefined;
      }
      const _0x105a54 = _0x1872d0.context;
      if (this._sources !== this.sources) {
        this._sources = this.sources;
        const _0x103215 = this.sources;
        if (!Cesium__namespace.defined(_0x103215.positiveX) || !Cesium__namespace.defined(_0x103215.negativeX) || !Cesium__namespace.defined(_0x103215.positiveY) || !Cesium__namespace.defined(_0x103215.negativeY) || !Cesium__namespace.defined(_0x103215.positiveZ) || !Cesium__namespace.defined(_0x103215.negativeZ)) {
          throw new Cesium__namespace.DeveloperError("this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");
        }
        if (typeof _0x103215.positiveX !== typeof _0x103215.negativeX || typeof _0x103215.positiveX !== typeof _0x103215.positiveY || typeof _0x103215.positiveX !== typeof _0x103215.negativeY || typeof _0x103215.positiveX !== typeof _0x103215.positiveZ || typeof _0x103215.positiveX !== typeof _0x103215.negativeZ) {
          throw new Cesium__namespace.DeveloperError("this.sources properties must all be the same type.");
        }
        if (typeof _0x103215.positiveX === "string") {
          Cesium__namespace.loadCubeMap(_0x105a54, this._sources).then(function (_0x199142) {
            _0x55f486._cubeMap = _0x55f486._cubeMap && _0x55f486._cubeMap.destroy();
            _0x55f486._cubeMap = _0x199142;
          });
        } else {
          this._cubeMap = this._cubeMap && this._cubeMap.destroy();
          const _0x3ad41c = {
            context: _0x105a54,
            source: _0x103215
          };
          this._cubeMap = new Cesium__namespace.CubeMap(_0x3ad41c);
        }
      }
      const _0x1301c3 = this._command;
      if (!Cesium__namespace.defined(_0x1301c3.vertexArray)) {
        _0x1301c3.uniformMap = {
          u_cubeMap: () => {
            return _0x55f486._cubeMap;
          },
          u_rotateMatrix: () => {
            _0x1301c3.modelMatrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x1872d0.camera._positionWC);
            return Cesium__namespace.Matrix4.getMatrix3(_0x1301c3.modelMatrix, this._skyboxMatrix3);
          }
        };
        const _0x5f6b8 = Cesium__namespace.BoxGeometry.createGeometry(Cesium__namespace.BoxGeometry.fromDimensions({
          dimensions: new Cesium__namespace.Cartesian3(2, 2, 2),
          vertexFormat: Cesium__namespace.VertexFormat.POSITION_ONLY
        }));
        const _0x5ec761 = this._attributeLocations = Cesium__namespace.GeometryPipeline.createAttributeLocations(_0x5f6b8);
        _0x1301c3.vertexArray = Cesium__namespace.VertexArray.fromGeometry({
          context: _0x105a54,
          geometry: _0x5f6b8,
          attributeLocations: _0x5ec761,
          bufferUsage: Cesium__namespace.BufferUsage.STATIC_DRAW
        });
        _0x1301c3.renderState = Cesium__namespace.RenderState.fromCache({
          blending: Cesium__namespace.BlendingState.ALPHA_BLEND
        });
      }
      if (!Cesium__namespace.defined(_0x1301c3.shaderProgram) || this._useHdr !== _0x225d97) {
        const _0x89ea4d = {
          defines: [_0x225d97 ? "HDR" : ""],
          sources: [GroundSkyBoxFS]
        };
        const _0x1684ba = new Cesium__namespace.ShaderSource(_0x89ea4d);
        const _0x1b77f8 = {
          context: _0x105a54,
          vertexShaderSource: GroundSkyBoxVS,
          fragmentShaderSource: _0x1684ba,
          attributeLocations: this._attributeLocations
        };
        _0x1301c3.shaderProgram = Cesium__namespace.ShaderProgram.fromCache(_0x1b77f8);
        this._useHdr = _0x225d97;
      }
      if (!Cesium__namespace.defined(this._cubeMap)) {
        return undefined;
      }
      return _0x1301c3;
    }
  }
  var MultipleSkyBoxFS = "uniform samplerCube u_cubeMap;\nuniform samplerCube u_cubeMap2;\nuniform samplerCube u_cubeMap3;\nuniform float u_select;\nin vec3 v_texCoord;\n\nvoid main() {\n  vec4 fragColor;\n  if(u_select <= 0.0) {\n    vec4 color = czm_textureCube(u_cubeMap, normalize(v_texCoord));\n    fragColor = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);\n  } else if(u_select > 0.0 && u_select <= 1.0) {\n    //0.0到1.0\n    vec4 color = czm_textureCube(u_cubeMap, normalize(v_texCoord));\n    color = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);\n    vec4 colorMars3D = czm_textureCube(u_cubeMap2, normalize(v_texCoord));\n    colorMars3D = vec4(czm_gammaCorrect(colorMars3D).rgb, czm_morphTime);\n    fragColor = mix(color, colorMars3D, u_select);\n  } else {\n    //>=1.0\n    vec4 color = czm_textureCube(u_cubeMap2, normalize(v_texCoord));\n    color = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);\n    vec4 colorMars3D = czm_textureCube(u_cubeMap3, normalize(v_texCoord));\n    colorMars3D = vec4(czm_gammaCorrect(colorMars3D).rgb, czm_morphTime);\n    fragColor = mix(color, colorMars3D, u_select - 1.0);\n  }\n  out_FragColor = fragColor;\n}\n";
  var MultipleSkyBoxVS = "in vec3 position;\nout vec3 v_texCoord;\nuniform mat3 u_rotateMatrix;\n\nvoid main() {\n  vec3 pMars3D = czm_viewRotation * u_rotateMatrix * (czm_temeToPseudoFixed * (czm_entireFrustum.y * position));\n  gl_Position = czm_projection * vec4(pMars3D, 1.0);\n  v_texCoord = position.xyz;\n}\n";
  class MultipleSkyBox extends Cesium__namespace.SkyBox {
    constructor(_0x513a93) {
      super(_0x513a93);
      this.sources2 = _0x513a93.sources2;
      this.sources3 = _0x513a93.sources3;
      this._sources2 = undefined;
      this._sources3 = undefined;
      this._cubeMap2 = undefined;
      this._cubeMap3 = undefined;
      this._skyboxMatrix3 = new Cesium__namespace.Matrix3();
      this.select = _0x513a93.select || 0;
    }
    update(_0x7d09ea, _0x4a5371) {
      const _0x442efd = this;
      if (!this.show) {
        return undefined;
      }
      if (_0x7d09ea.mode !== Cesium__namespace.SceneMode.SCENE3D && _0x7d09ea.mode !== Cesium__namespace.SceneMode.MORPHING) {
        return undefined;
      }
      if (!_0x7d09ea.passes.render) {
        return undefined;
      }
      const _0x4d331d = _0x7d09ea.context;
      if (this._sources !== this.sources) {
        this._sources = this.sources;
        const _0x3b6b02 = this.sources;
        this._sources2 = this.sources2;
        const _0x3fbc9e = this.sources2;
        this._sources3 = this.sources3;
        const _0xc140c8 = this.sources3;
        if (!Cesium__namespace.defined(_0x3b6b02.positiveX) || !Cesium__namespace.defined(_0x3b6b02.negativeX) || !Cesium__namespace.defined(_0x3b6b02.positiveY) || !Cesium__namespace.defined(_0x3b6b02.negativeY) || !Cesium__namespace.defined(_0x3b6b02.positiveZ) || !Cesium__namespace.defined(_0x3b6b02.negativeZ)) {
          throw new Cesium__namespace.DeveloperError("this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");
        }
        if (typeof _0x3b6b02.positiveX !== typeof _0x3b6b02.negativeX || typeof _0x3b6b02.positiveX !== typeof _0x3b6b02.positiveY || typeof _0x3b6b02.positiveX !== typeof _0x3b6b02.negativeY || typeof _0x3b6b02.positiveX !== typeof _0x3b6b02.positiveZ || typeof _0x3b6b02.positiveX !== typeof _0x3b6b02.negativeZ) {
          throw new Cesium__namespace.DeveloperError("this.sources properties must all be the same type.");
        }
        if (typeof _0x3b6b02.positiveX === "string") {
          Cesium__namespace.loadCubeMap(_0x4d331d, this._sources).then(function (_0x2d74f3) {
            _0x442efd._cubeMap = _0x442efd._cubeMap && _0x442efd._cubeMap.destroy();
            _0x442efd._cubeMap = _0x2d74f3;
          });
          Cesium__namespace.loadCubeMap(_0x4d331d, this._sources2).then(function (_0x39e4cd) {
            _0x442efd._cubeMap2 = _0x442efd._cubeMap2 && _0x442efd._cubeMap2.destroy();
            _0x442efd._cubeMap2 = _0x39e4cd;
          });
          Cesium__namespace.loadCubeMap(_0x4d331d, this._sources3).then(function (_0x36947f) {
            _0x442efd._cubeMap3 = _0x442efd._cubeMap3 && _0x442efd._cubeMap3.destroy();
            _0x442efd._cubeMap3 = _0x36947f;
          });
        } else {
          this._cubeMap = this._cubeMap && this._cubeMap.destroy();
          const _0x2334cc = {
            context: _0x4d331d,
            source: _0x3b6b02
          };
          this._cubeMap = new Cesium__namespace.CubeMap(_0x2334cc);
          this._cubeMap2 = this._cubeMap2 && this._cubeMap2.destroy();
          const _0x340be4 = {
            context: _0x4d331d,
            source: _0x3fbc9e
          };
          this._cubeMap2 = new Cesium__namespace.CubeMap(_0x340be4);
          this._cubeMap3 = this._cubeMap3 && this._cubeMap3.destroy();
          const _0xf3919a = {
            context: _0x4d331d,
            source: _0xc140c8
          };
          this._cubeMap3 = new Cesium__namespace.CubeMap(_0xf3919a);
        }
      }
      const _0x390934 = this._command;
      _0x390934.modelMatrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x7d09ea.camera._positionWC);
      if (!Cesium__namespace.defined(_0x390934.vertexArray)) {
        _0x390934.uniformMap = {
          u_cubeMap: function () {
            return _0x442efd._cubeMap;
          },
          u_cubeMap2: function () {
            return _0x442efd._cubeMap2;
          },
          u_cubeMap3: function () {
            return _0x442efd._cubeMap3;
          },
          u_select: () => {
            return this.select;
          },
          u_rotateMatrix: () => {
            _0x390934.modelMatrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x7d09ea.camera._positionWC);
            return Cesium__namespace.Matrix4.getMatrix3(_0x390934.modelMatrix, this._skyboxMatrix3);
          }
        };
        const _0x287ebd = Cesium__namespace.BoxGeometry.createGeometry(Cesium__namespace.BoxGeometry.fromDimensions({
          dimensions: new Cesium__namespace.Cartesian3(2, 2, 2),
          vertexFormat: Cesium__namespace.VertexFormat.POSITION_ONLY
        }));
        const _0xe1fe10 = this._attributeLocations = Cesium__namespace.GeometryPipeline.createAttributeLocations(_0x287ebd);
        _0x390934.vertexArray = Cesium__namespace.VertexArray.fromGeometry({
          context: _0x4d331d,
          geometry: _0x287ebd,
          attributeLocations: _0xe1fe10,
          bufferUsage: Cesium__namespace.BufferUsage._DRAW
        });
        _0x390934.renderState = Cesium__namespace.RenderState.fromCache({
          blending: Cesium__namespace.BlendingState.ALPHA_BLEND
        });
      }
      if (!Cesium__namespace.defined(_0x390934.shaderProgram) || this._useHdr !== _0x4a5371) {
        const _0x46452d = {
          defines: [_0x4a5371 ? "HDR" : ""],
          sources: [MultipleSkyBoxFS]
        };
        const _0x32515e = new Cesium__namespace.ShaderSource(_0x46452d);
        const _0x41a8a0 = {
          context: _0x4d331d,
          vertexShaderSource: MultipleSkyBoxVS,
          fragmentShaderSource: _0x32515e,
          attributeLocations: this._attributeLocations
        };
        _0x390934.shaderProgram = Cesium__namespace.ShaderProgram.fromCache(_0x41a8a0);
        this._useHdr = _0x4a5371;
      }
      if (!Cesium__namespace.defined(this._cubeMap)) {
        return undefined;
      }
      if (!Cesium__namespace.defined(this._cubeMap2)) {
        return undefined;
      }
      if (!Cesium__namespace.defined(this._cubeMap3)) {
        return undefined;
      }
      return _0x390934;
    }
    isDestroyed() {
      return false;
    }
    destroy() {
      const _0x33a0ed = this._command;
      _0x33a0ed.vertexArray = _0x33a0ed.vertexArray && _0x33a0ed.vertexArray.destroy();
      _0x33a0ed.shaderProgram = _0x33a0ed.shaderProgram && _0x33a0ed.shaderProgram.destroy();
      this._cubeMap = this._cubeMap && this._cubeMap.destroy();
      this._cubeMap2 = this._cubeMap2 && this._cubeMap2.destroy();
      this._cubeMap3 = this._cubeMap3 && this._cubeMap3.destroy();
      Cesium__namespace.destroyObject(this);
    }
  }
  class LocalWorldTransform {
    constructor(_0x51ce10, _0x51176f) {
      _0x51176f = _0x51176f || Cesium__namespace.Transforms.eastNorthUpToFixedFrame;
      this._matrix = _0x51176f(_0x51ce10);
      this._inverseMatrix = Cesium__namespace.Matrix4.inverseTransformation(this._matrix, new Cesium__namespace.Matrix4());
    }
    localToWorld(_0x7f05b6, _0x44a9bf) {
      if (!_0x44a9bf) {
        _0x44a9bf = new Cesium__namespace.Cartesian3();
      }
      Cesium__namespace.Matrix4.multiplyByPoint(this._matrix, _0x7f05b6, _0x44a9bf);
      return _0x44a9bf;
    }
    worldToLocal(_0x4cced6, _0x13f205) {
      if (!_0x13f205) {
        _0x13f205 = new Cesium__namespace.Cartesian3();
      }
      Cesium__namespace.Matrix4.multiplyByPoint(this._inverseMatrix, _0x4cced6, _0x13f205);
      return _0x13f205;
    }
  }
  class MarsArray {
    constructor() {
      this._array = [];
      this._hash = {};
    }
    get length() {
      return this._array.length;
    }
    get values() {
      return this._array;
    }
    contains(_0x582387) {
      if (!_0x582387) {
        return false;
      }
      return Cesium__namespace.defined(this._hash[_0x582387]);
    }
    set(_0x4112e7, _0x4110a5) {
      const _0x34c64d = this._hash[_0x4112e7];
      if (_0x4110a5 !== _0x34c64d) {
        this.remove(_0x4112e7);
        this._hash[_0x4112e7] = _0x4110a5;
        this._array.push(_0x4110a5);
      }
    }
    getLast() {
      if (this._array.length > 0) {
        return this._array[this._array.length - 1];
      } else {
        return undefined;
      }
    }
    get(_0x31c034) {
      if (_0x31c034) {
        return this._hash[_0x31c034];
      } else {
        return undefined;
      }
    }
    getByAttr(_0x28ee92, _0x3dcb6d = "id", _0x55641e = "options") {
      if (_0x3dcb6d === "id" && this._hash[_0x28ee92]) {
        return this._hash[_0x28ee92];
      }
      for (let _0x52dd92 = 0, _0x49248b = this._array.length; _0x52dd92 < _0x49248b; _0x52dd92++) {
        const _0x129108 = this._array[_0x52dd92];
        if (_0x129108.isPrivate) {
          continue;
        }
        if (_0x129108[_0x3dcb6d] == _0x28ee92 || _0x129108[_0x55641e] && _0x129108[_0x55641e][_0x3dcb6d] == _0x28ee92) {
          return _0x129108;
        }
      }
      return undefined;
    }
    getListByAttr(_0x31b3fc, _0x29b82e = "id", _0x47e4da = "options") {
      const _0xf24f8f = [];
      for (let _0x380618 = 0, _0x35e5ec = this._array.length; _0x380618 < _0x35e5ec; _0x380618++) {
        const _0x28aca5 = this._array[_0x380618];
        if (_0x28aca5.isPrivate) {
          continue;
        }
        if (_0x28aca5[_0x29b82e] == _0x31b3fc || _0x28aca5[_0x47e4da] && _0x28aca5[_0x47e4da][_0x29b82e] == _0x31b3fc) {
          _0xf24f8f.push(_0x28aca5);
        }
      }
      return _0xf24f8f;
    }
    splitArr(_0x167ae9) {
      const _0x5531cc = [];
      for (let _0xf0a0c2 = 0, _0x108ef5 = this._array.length; _0xf0a0c2 < _0x108ef5; _0xf0a0c2 += _0x167ae9) {
        _0x5531cc.push(this._array.slice(_0xf0a0c2, _0xf0a0c2 + _0x167ae9));
      }
      return _0x5531cc;
    }
    forEach(_0x4ee188, _0x17cb2f, _0x2e03d6) {
      if (_0x2e03d6) {
        for (let _0xb3c5d5 = this._array.length - 1; _0xb3c5d5 >= 0; _0xb3c5d5--) {
          const _0x1c986f = this._array[_0xb3c5d5];
          _0x4ee188.call(_0x17cb2f || this, _0x1c986f, _0xb3c5d5);
        }
      } else {
        for (let _0x2c642d = 0, _0x1d1b62 = this._array.length; _0x2c642d < _0x1d1b62; _0x2c642d++) {
          const _0x2bfb36 = this._array[_0x2c642d];
          _0x4ee188.call(_0x17cb2f || this, _0x2bfb36, _0x2c642d);
        }
      }
    }
    remove(_0x49355f) {
      if (!this._hash) {
        return;
      }
      const _0x342239 = this._hash[_0x49355f];
      const _0x242cc6 = Cesium__namespace.defined(_0x342239);
      if (_0x242cc6) {
        const _0x2b73d7 = this._array;
        _0x2b73d7.splice(_0x2b73d7.indexOf(_0x342239), 1);
        delete this._hash[_0x49355f];
      }
      return _0x242cc6;
    }
    removeByFilter(_0x5e2c2b, _0x17ff25) {
      if (!this._hash) {
        return;
      }
      for (let _0x28808d = this._array.length - 1; _0x28808d >= 0; _0x28808d--) {
        const _0x1f1805 = this._array[_0x28808d];
        if (!_0x5e2c2b(_0x1f1805)) {
          continue;
        }
        if (_0x17ff25) {
          _0x17ff25(_0x1f1805);
        }
        this._array.splice(_0x28808d, 1);
        delete this._hash[_0x1f1805.id];
      }
    }
    removeAll() {
      const _0x312ddf = this._array;
      if (_0x312ddf.length > 0) {
        this._hash = {};
        _0x312ddf.length = 0;
      }
    }
    destroy() {
      if (this._array.length > 0 && this._array[0].destroy) {
        this.remove = function () {};
        for (let _0x48cc77 = this._array.length - 1; _0x48cc77 >= 0; _0x48cc77--) {
          const _0x4048f8 = this._array[_0x48cc77];
          if (_0x4048f8 !== null && _0x4048f8 !== undefined && _0x4048f8.destroy) {
            try {
              _0x4048f8.destroy();
            } catch (_0x262d35) {
              logWarn("MarsArray item.destroy 异常", _0x262d35);
            }
          }
        }
      }
      this.removeAll();
      for (const _0x205f3f in this) {
        delete this[_0x205f3f];
      }
    }
  }
  class Texture3 {
    constructor(_0x1ffb68 = {}) {
      const _0x390a92 = _0x1ffb68.context;
      const _0x323688 = _0x390a92._gl;
      const _0x4a31e3 = _0x1ffb68.source;
      let _0x2909a0 = _0x1ffb68.width;
      let _0x3a2a6b = _0x1ffb68.height;
      let _0x55f27e = _0x1ffb68.depth;
      if (Cesium__namespace.defined(_0x4a31e3)) {
        if (!Cesium__namespace.defined(_0x2909a0)) {
          _0x2909a0 = _0x4a31e3.videoWidth ?? _0x4a31e3.width;
        }
        if (!Cesium__namespace.defined(_0x3a2a6b)) {
          _0x3a2a6b = _0x4a31e3.videoHeight ?? _0x4a31e3.height;
        }
        if (!Cesium__namespace.defined(_0x55f27e)) {
          _0x55f27e = _0x4a31e3.videoDepth ?? _0x4a31e3.depth;
        }
      }
      if (!Cesium__namespace.defined(_0x2909a0) || !Cesium__namespace.defined(_0x3a2a6b) || !Cesium__namespace.defined(_0x55f27e)) {
        throw new Cesium__namespace.DeveloperError("options requires a source field to create an initialized texture or width or height and depth fields to create a blank texture.");
      }
      const _0x4f2e33 = _0x1ffb68.pixelFormat ?? Cesium__namespace.PixelFormat.RGBA;
      const _0x737f03 = _0x1ffb68.pixelDatatype ?? Cesium__namespace.PixelDatatype.FLOAT;
      const _0xde68eb = Cesium__namespace.PixelFormat.toInternalFormat(_0x4f2e33, _0x737f03, _0x390a92);
      const _0x48aed3 = false;
      const _0x27c645 = false;
      let _0x4ec81b = 4;
      if (Cesium__namespace.defined(_0x4a31e3) && Cesium__namespace.defined(_0x4a31e3.arrayBufferView)) {
        _0x4ec81b = Cesium__namespace.PixelFormat.alignmentInBytes(_0x4f2e33, _0x737f03, _0x2909a0);
      }
      const _0x2027f9 = _0x323688.TEXTURE_3D;
      const _0x53fa9b = _0x323688.createTexture();
      _0x323688.activeTexture(_0x323688.TEXTURE0);
      _0x323688.bindTexture(_0x2027f9, _0x53fa9b);
      _0x323688.pixelStorei(_0x323688.UNPACK_ALIGNMENT, _0x4ec81b);
      _0x323688.pixelStorei(_0x323688.UNPACK_COLORSPACE_CONVERSION_WEBGL, _0x323688.NONE);
      _0x323688.pixelStorei(_0x323688.UNPACK_FLIP_Y_WEBGL, _0x27c645);
      if (Cesium__namespace.defined(_0x4a31e3) && Cesium__namespace.defined(_0x4a31e3.arrayBufferView)) {
        const _0x243407 = _0x4a31e3.arrayBufferView;
        _0x323688.texImage3D(_0x2027f9, 0, _0xde68eb, _0x2909a0, _0x3a2a6b, _0x55f27e, 0, _0x4f2e33, Cesium__namespace.PixelDatatype.toWebGLConstant(_0x737f03, _0x390a92), _0x243407);
      }
      _0x323688.bindTexture(_0x2027f9, null);
      const _0x50053a = texture3DSizeInBytes(_0x4f2e33, _0x737f03, _0x2909a0, _0x3a2a6b, _0x55f27e);
      this._id = Cesium__namespace.createGuid();
      this._context = _0x390a92;
      this._textureFilterAnisotropic = _0x390a92._textureFilterAnisotropic;
      this._texture = _0x53fa9b;
      this._textureTarget = _0x2027f9;
      this._internalFormat = _0xde68eb;
      this._pixelFormat = _0x4f2e33;
      this._pixelDatatype = _0x737f03;
      this._width = _0x2909a0;
      this._height = _0x3a2a6b;
      this._depth = _0x55f27e;
      this._hasMipmap = false;
      this._sizeInBytes = _0x50053a;
      this._preMultiplyAlpha = _0x48aed3;
      this._flipY = _0x27c645;
      this._initialized = true;
      this._dimensions = new Cesium__namespace.Cartesian3(_0x2909a0, _0x3a2a6b, _0x55f27e);
      this._sampler = undefined;
      this.sampler = _0x1ffb68.sampler ?? new Cesium__namespace.Sampler();
    }
    get id() {
      return this._id;
    }
    get sampler() {
      return this._sampler;
    }
    set sampler(_0x7804d0) {
      const _0x3ec587 = _0x7804d0.minificationFilter;
      const _0x22fc8e = _0x7804d0.magnificationFilter;
      const _0x1875db = this._context;
      const _0x424633 = _0x1875db._gl;
      const _0x391f0c = this._textureTarget;
      _0x424633.activeTexture(_0x424633.TEXTURE0);
      _0x424633.bindTexture(_0x391f0c, this._texture);
      _0x424633.texParameteri(_0x391f0c, _0x424633.TEXTURE_MIN_FILTER, _0x3ec587);
      _0x424633.texParameteri(_0x391f0c, _0x424633.TEXTURE_MAG_FILTER, _0x22fc8e);
      _0x424633.texParameteri(_0x391f0c, _0x424633.TEXTURE_WRAP_S, _0x7804d0.wrapS);
      _0x424633.texParameteri(_0x391f0c, _0x424633.TEXTURE_WRAP_T, _0x7804d0.wrapT);
      _0x424633.texParameteri(_0x391f0c, _0x424633.TEXTURE_WRAP_R, _0x424633.CLAMP_TO_EDGE);
      _0x424633.bindTexture(_0x391f0c, null);
      this._sampler = _0x7804d0;
    }
    get pixelFormat() {
      return this._pixelFormat;
    }
    get pixelDatatype() {
      return this._pixelDatatype;
    }
    get dimensions() {
      return this._dimensions;
    }
    get height() {
      return this._height;
    }
    get depth() {
      return this._depth;
    }
    get preMultiplyAlpha() {
      return this._preMultiplyAlpha;
    }
    get flipY() {
      return this._flipY;
    }
    get sizeInBytes() {
      return this._sizeInBytes;
    }
    get _target() {
      return this._textureTarget;
    }
    isDestroyed() {
      return false;
    }
    destroy() {
      this._context._gl.deleteTexture(this._texture);
      return Cesium__namespace.destroyObject(this);
    }
  }
  function texture3DSizeInBytes(_0x2f5946, _0x2008fb, _0x2cf8e1, _0x5734fc, _0x23cc7c) {
    const _0x48ee9e = Cesium__namespace.PixelFormat.componentsLength(_0x2f5946);
    const _0x1f95f5 = Cesium__namespace.PixelDatatype.sizeInBytes(_0x2008fb);
    return _0x2cf8e1 * _0x5734fc * _0x23cc7c * _0x48ee9e * _0x1f95f5;
  }
  class ColorRamp {
    constructor(_0x333e3f) {
      this._steps = _0x333e3f.steps;
      this._colors = _0x333e3f.colors;
      if (!this._steps || this._steps.length < 2) {
        logError("请传入 steps 参数值", this._steps);
      }
      if (!this._colors || this._colors.length < 2) {
        logError("请传入 colors 参数值", this._colors);
      }
      if (this._colors.length !== this._steps.length) {
        logError("colors与steps参数数组长度需要一致", _0x333e3f);
      }
      const _0x593165 = document.createElement("canvas");
      _0x593165.width = 256;
      _0x593165.height = 1;
      const _0xe79e9 = _0x593165.getContext("2d");
      _0xe79e9.beginPath();
      const _0x1f7947 = this._steps.length;
      this._maxVal = this._steps[_0x1f7947 - 1];
      const _0x24740b = _0xe79e9.createLinearGradient(0, 0, 256, 1);
      for (let _0x5f05d2 = 0; _0x5f05d2 < _0x1f7947; _0x5f05d2++) {
        _0x24740b.addColorStop(this._steps[_0x5f05d2] / this._maxVal, this._colors[_0x5f05d2]);
      }
      _0xe79e9.fillStyle = _0x24740b;
      _0xe79e9.rect(0, 0, 256, 1);
      _0xe79e9.fill();
      this._imgData = _0xe79e9.getImageData(0, 0, 256, 1).data;
    }
    _getColorObj(_0x5c91dd, _0x2e0409 = 0.8) {
      _0x5c91dd = Math.floor(_0x5c91dd / this._maxVal * 255);
      if (_0x5c91dd < 0) {
        _0x5c91dd = 0;
      } else if (_0x5c91dd > 255) {
        _0x5c91dd = 255;
      }
      let _0x5f59a7 = this._imgData[_0x5c91dd * 4];
      let _0x300840 = this._imgData[_0x5c91dd * 4 + 1];
      let _0x30268d = this._imgData[_0x5c91dd * 4 + 2];
      if (isNaN(_0x5f59a7)) {
        _0x5f59a7 = 0;
        _0x2e0409 = 0;
      }
      if (isNaN(_0x300840)) {
        _0x300840 = 0;
        _0x2e0409 = 0;
      }
      if (isNaN(_0x30268d)) {
        _0x30268d = 0;
        _0x2e0409 = 0;
      }
      const _0x29033c = {
        red: _0x5f59a7,
        green: _0x300840,
        blue: _0x30268d,
        alpha: _0x2e0409
      };
      return _0x29033c;
    }
    getColor(_0x4e3eec, _0x183485) {
      const {
        red: _0x4d3d5c,
        green: _0x4f6644,
        blue: _0x2f5f69,
        alpha: _0x38bbe5
      } = this._getColorObj(_0x4e3eec, _0x183485);
      return "rgba(" + _0x4d3d5c + "," + _0x4f6644 + "," + _0x2f5f69 + "," + _0x38bbe5 + ")";
    }
    getCesiumColor(_0x3c3f96, _0x22c649) {
      const {
        red: _0x5f2286,
        green: _0x17c84f,
        blue: _0x41eaa4,
        alpha: _0x4a6131
      } = this._getColorObj(_0x3c3f96, _0x22c649);
      return new Cesium__namespace.Color(_0x5f2286, _0x17c84f, _0x41eaa4, _0x4a6131);
    }
  }
  class TaskItem extends BaseClass {
    constructor(_0x798222 = {}) {
      super(_0x798222);
      this._start = _0x798222.start ?? 0;
      if (Cesium__namespace.defined(_0x798222.duration)) {
        this._duration = _0x798222.duration;
        this._stop = this._start + this._duration;
      } else {
        this._stop = _0x798222.stop;
        this._duration = this._stop - this._start;
      }
    }
    get id() {
      return this.options.id;
    }
    get name() {
      return this.options.name;
    }
    get time() {
      return this._currentTime;
    }
    get index() {
      return this.options.index;
    }
    get start() {
      return this._start;
    }
    get stop() {
      return this._stop;
    }
    get duration() {
      return this._duration;
    }
    get outDuration() {
      if (this._currentTime < this._start || this._currentTime > this._stop) {
        return 0;
      }
      return this._duration - (this._currentTime - this._start);
    }
    get isActivate() {
      return this._isActivate;
    }
    get isPause() {
      return this._isPause;
    }
    update(_0xedf043) {
      this._currentTime = _0xedf043;
      if (this.options.enabled === false || this.options.show === false) {
        return;
      }
      if (_0xedf043 < this._start || _0xedf043 >= this._stop) {
        this.disable();
      } else {
        return this.activate();
      }
    }
    activate() {
      if (this._isPause) {
        this.proceed();
        return;
      }
      if (this._isActivate) {
        return false;
      }
      this._isActivate = true;
      this._parent.fire(EventType.startItem, {
        index: this.index,
        time: this.time,
        sourceTarget: this
      });
      if (this._activateWork) {
        this._activateWork(this.options);
      }
      return true;
    }
    disable() {
      if (!this._isActivate) {
        return false;
      }
      delete this._isActivate;
      if (this._disableWork) {
        this._disableWork(this.options);
      }
      this._parent.fire(EventType.endItem, {
        index: this.index,
        time: this.time,
        sourceTarget: this
      });
      return true;
    }
    pause() {
      if (!this._isActivate || this._isPause) {
        return false;
      }
      this._isPause = true;
      this._parent.fire("pauseItem", {
        index: this.index,
        time: this.time,
        sourceTarget: this
      });
      if (this._pauseWork) {
        this._pauseWork(this.options);
      } else if (this._disableWork) {
        delete this._isActivate;
        this._disableWork(this.options);
      }
    }
    proceed() {
      if (!this._isPause) {
        return false;
      }
      delete this._isPause;
      this._parent.fire("proceedItem", {
        index: this.index,
        time: this.time,
        sourceTarget: this
      });
      if (this._proceedWork) {
        this._proceedWork(this.options);
      } else if (this._activateWork) {
        this._activateWork(this.options);
      }
    }
    toJSON() {
      const _0x225866 = clone(getAttrVal(this.options, {
        onlySimpleType: true
      }), ["parent", "eventParent"]);
      _0x225866.type = this.type;
      if (this._toJsonEx) {
        this._toJsonEx(_0x225866);
      }
      for (const _0x5bf13c in _0x225866) {
        const _0x5bc681 = _0x225866[_0x5bf13c];
        if (!Cesium__namespace.defined(_0x5bc681) || isObject(_0x5bc681) && Object.keys(_0x5bc681).length === 0) {
          delete _0x225866[_0x5bf13c];
        }
      }
      return _0x225866;
    }
  }
  class BaseOptsConver {
    constructor(_0x35ecf7 = {}) {
      this.options = _0x35ecf7;
    }
    get excludedKeys() {
      return null;
    }
    get includeKeys() {
      return ["color", "outlineColor", "backgroundColor", "strokeColor"];
    }
    toCesiumVal(_0x310959 = {}, _0x94691c = {}) {
      this._toCesiumValBefore(_0x310959, _0x94691c);
      for (const _0x4de706 in _0x310959) {
        const _0x5ae54b = _0x310959[_0x4de706];
        if (this.includeKeys.indexOf(_0x4de706) === -1) {
          if (!isSimpleType(_0x5ae54b)) {
            _0x94691c[_0x4de706] = _0x5ae54b;
            continue;
          }
          if (this.excludedKeys && this.excludedKeys.indexOf(_0x4de706) !== -1) {
            continue;
          }
        }
        const _0x1eb45b = this._toOneCesiumVal(_0x4de706, _0x5ae54b, _0x310959, _0x94691c);
        if (_0x1eb45b == null) {
          continue;
        }
        _0x94691c[_0x4de706] = _0x1eb45b;
      }
      this._toCesiumValEnd(_0x310959, _0x94691c);
      return _0x94691c;
    }
    _toCesiumValBefore(_0x1c618c, _0x14d183) {}
    _toCesiumValEnd(_0x58c3e0, _0x37407b) {}
    _toOneCesiumVal(_0x40dbbb, _0xba47fd, _0x420574, _0x5eef37) {
      switch (_0x40dbbb) {
        default:
          _0x5eef37[_0x40dbbb] = _0xba47fd;
          break;
      }
    }
    toJSON(_0x5559f0, _0x23fc10 = {}) {
      _0x5559f0 = getAttrVal(_0x5559f0);
      if (this._toJSONValBefore) {
        this._toJSONValBefore(_0x23fc10, _0x5559f0);
      }
      for (const _0x942121 in _0x5559f0) {
        const _0x3f7f3c = _0x5559f0[_0x942121];
        if (isSimpleType(_0x3f7f3c)) {
          _0x23fc10[_0x942121] = _0x3f7f3c;
        } else {
          if (this.excludedJsonKeys && this.excludedJsonKeys.indexOf(_0x942121) !== -1) {
            continue;
          }
          this._toOneJson(_0x942121, _0x5559f0[_0x942121], _0x23fc10);
        }
      }
      if (this._toJSONValEnd) {
        this._toJSONValEnd(_0x23fc10, _0x5559f0);
      }
      return _0x23fc10;
    }
    _toOneJson(_0x4b8dc4, _0x578798, _0x3e3a47) {}
    static getColorByStyle(_0x1a10dc) {
      if (!this.baseOptsConver) {
        this.baseOptsConver = new BaseOptsConver();
      }
      return this.baseOptsConver.getColorByStyle(_0x1a10dc);
    }
    getColorByStyle(_0x239a3b) {
      return getColorByStyle(_0x239a3b, this.options.color);
    }
    getOutlineColorByStyle(_0x2ec6a1) {
      let _0x26a023;
      if (_0x2ec6a1.outlineColor) {
        if (isString(_0x2ec6a1.outlineColor)) {
          _0x26a023 = Cesium__namespace.Color.fromCssColorString(_0x2ec6a1.outlineColor);
        } else {
          _0x26a023 = _0x2ec6a1.outlineColor;
        }
      } else {
        _0x26a023 = this.options.outlineColor;
      }
      if (!_0x26a023) {
        return _0x26a023;
      }
      if (Cesium__namespace.defined(_0x2ec6a1.outlineOpacity)) {
        _0x26a023 = _0x26a023.withAlpha(Number(_0x2ec6a1.outlineOpacity));
      } else if (Cesium__namespace.defined(_0x2ec6a1.opacity)) {
        _0x26a023 = _0x26a023.withAlpha(Number(_0x2ec6a1.opacity));
      }
      if (Cesium__namespace.defined(_0x2ec6a1.globalAlpha) && _0x2ec6a1.globalAlpha !== 1) {
        _0x26a023 = _0x26a023.withAlpha(_0x26a023.alpha * _0x2ec6a1.globalAlpha);
      }
      return _0x26a023;
    }
  }
  const Color$2 = Cesium__namespace.Material.ColorType;
  const RandomColor = "RandomColor";
  const PolylineDash = Cesium__namespace.Material.PolylineDashType;
  const LineDashArrow = "LineDashArrow";
  const LineDotDash = "LineDotDash";
  const PolylineOutline = Cesium__namespace.Material.PolylineOutlineType;
  const PolylineArrow = Cesium__namespace.Material.PolylineArrowType;
  const PolylineGlow = Cesium__namespace.Material.PolylineGlowType;
  const LineFlow = "LineFlow";
  const LineFlowColor = "LineFlowColor";
  const ODLine = "ODLine";
  const LineFlicker = "LineFlicker";
  const LineTrail = "LineTrail";
  const LineBloom = "LineBloom";
  const DigitalFlow = "DigitalFlow";
  const LineThreeDash = "LineThreeDash";
  const LineCross = "LineCross";
  const WallScroll = "WallScroll";
  const Image$1 = Cesium__namespace.Material.ImageType;
  const Image2 = "Image2";
  const Text = "Text";
  const Grid = Cesium__namespace.Material.GridType;
  const Checkerboard = Cesium__namespace.Material.CheckerboardType;
  const Stripe = Cesium__namespace.Material.StripeType;
  const PolyGradient = "PolyGradient";
  const PolyGradient2 = "PolyGradient2";
  const PolyAsphalt = "PolyAsphalt";
  const PolyBlob = "PolyBlob";
  const PolyFacet = "PolyFacet";
  const PolyGrass = "PolyGrass";
  const PolyWood = "PolyWood";
  const NeonLight = "NeonLight";
  const Water$1 = Cesium__namespace.Material.WaterType;
  const WaterLight = "WaterLight";
  const RectSlide = "RectSlide";
  const Sector$1 = "Sector";
  const ScanLine = "ScanLine";
  const CircleWave = "CircleWave";
  const RadarLine = "RadarLine";
  const RadarWave = "RadarWave";
  const CylinderWave = "CylinderWave";
  const EllipsoidElectric = "EllipsoidElectric";
  const EllipsoidWave = "EllipsoidWave";
  const DynamicRiver$1 = "DynamicRiver";
  const _0x575a2c = {
    __proto__: null,
    Color: Color$2,
    RandomColor: RandomColor,
    PolylineDash: PolylineDash,
    LineDashArrow: LineDashArrow,
    LineDotDash: LineDotDash,
    PolylineOutline: PolylineOutline,
    PolylineArrow: PolylineArrow,
    PolylineGlow: PolylineGlow,
    LineFlow: LineFlow,
    LineFlowColor: LineFlowColor,
    ODLine: ODLine,
    LineFlicker: LineFlicker,
    LineTrail: LineTrail,
    LineBloom: LineBloom,
    DigitalFlow: DigitalFlow,
    LineThreeDash: LineThreeDash,
    LineCross: LineCross,
    WallScroll: WallScroll,
    Image: Image$1,
    Image2: Image2,
    Text: Text,
    Grid: Grid,
    Checkerboard: Checkerboard,
    Stripe: Stripe,
    PolyGradient: PolyGradient,
    PolyGradient2: PolyGradient2,
    PolyAsphalt: PolyAsphalt,
    PolyBlob: PolyBlob,
    PolyFacet: PolyFacet,
    PolyGrass: PolyGrass,
    PolyWood: PolyWood,
    NeonLight: NeonLight,
    Water: Water$1,
    WaterLight: WaterLight,
    RectSlide: RectSlide,
    Sector: Sector$1,
    ScanLine: ScanLine,
    CircleWave: CircleWave,
    RadarLine: RadarLine,
    RadarWave: RadarWave,
    CylinderWave: CylinderWave,
    EllipsoidElectric: EllipsoidElectric,
    EllipsoidWave: EllipsoidWave,
    DynamicRiver: DynamicRiver$1
  };
  var MaterialType = _0x575a2c;
  function register$4(_0x5b8810, _0x415467) {
    if (Cesium__namespace.Material._materialCache.getMaterial(_0x5b8810) && !MaterialType[_0x5b8810]) {
      logError("MaterialUtil register: " + _0x5b8810 + "类型已存在", _0x415467);
    }
    MaterialTypes[_0x5b8810] = _0x5b8810;
    Cesium__namespace.Material[_0x5b8810 + "Type"] = _0x5b8810;
    if (_0x415467.fabric) {
      _0x415467.fabric.type = _0x5b8810;
    }
    Cesium__namespace.Material._materialCache.addMaterial(_0x5b8810, _0x415467);
  }
  const OptsConverClass = {};
  function registerOptsConver(_0x4ebdf7, _0x456594) {
    if (OptsConverClass[_0x4ebdf7]) {
      logError("MaterialUtil registerOptsConver: " + _0x4ebdf7 + "类型已存在", _0x456594);
    }
    OptsConverClass[_0x4ebdf7] = _0x456594;
  }
  const MaterialClass = {};
  const MaterialTypes = {};
  function registerClass(_0x8467ba, _0x82e4fd) {
    if (MaterialTypes[_0x8467ba]) {
      logError("MaterialUtil registerClass: " + _0x8467ba + "类型已存在", _0x82e4fd);
    }
    MaterialClass[_0x8467ba] = _0x82e4fd;
    MaterialTypes[_0x8467ba] = _0x8467ba;
  }
  const MaterialPropertyClass = {};
  function registerPropertyClass(_0x3648a7, _0x5ed3df) {
    if (MaterialPropertyClass[_0x3648a7]) {
      logError("MaterialUtil registerPropertyClass: " + _0x3648a7 + "属性类型已存在", _0x5ed3df);
    }
    MaterialPropertyClass[_0x3648a7] = _0x5ed3df;
  }
  function createMaterialProperty(_0x5f52c2, _0x4d4bce) {
    const _0x54d8b2 = MaterialPropertyClass[_0x5f52c2];
    if (_0x54d8b2) {
      const _0x4a6e5f = OptsConverClass[_0x5f52c2] || OptsConverClass.default;
      if (_0x4a6e5f) {
        _0x4d4bce.materialType = _0x5f52c2;
        _0x4d4bce = _0x4a6e5f.toCesiumVal(_0x4d4bce, {}, true);
      }
      const _0x4dcd0b = new _0x54d8b2(_0x4d4bce);
      _0x4dcd0b._mars_type = _0x5f52c2;
      _0x4dcd0b.options = _0x4d4bce;
      return _0x4dcd0b;
    } else {
      logWarn("createMaterialProperty:未找到该类型的对应材质属性", _0x5f52c2);
    }
  }
  function createMaterial(_0x53d3e1, _0x4c7603) {
    if (!_0x53d3e1) {
      logError("createMaterial：请指定mars3d.MaterialType类型");
      return;
    }
    const _0x491455 = OptsConverClass[_0x53d3e1] || OptsConverClass.default;
    if (_0x491455) {
      _0x4c7603.materialType = _0x53d3e1;
      _0x4c7603 = _0x491455.toCesiumVal(_0x4c7603);
    }
    let _0x3a22dc;
    const _0x328301 = MaterialClass[_0x53d3e1];
    if (_0x328301) {
      _0x3a22dc = new _0x328301(_0x4c7603);
    } else {
      _0x3a22dc = Cesium__namespace.Material.fromType(_0x53d3e1, _0x4c7603);
    }
    _0x3a22dc.options = _0x4c7603;
    _0x3a22dc._mars_type = _0x53d3e1;
    return _0x3a22dc;
  }
  function hasMaterial(_0x283f10, _0x22d835) {
    if (_0x22d835) {
      return Boolean(MaterialPropertyClass[_0x283f10]);
    } else {
      return Boolean(MaterialTypes[_0x283f10]);
    }
  }
  function toJSON(_0x28a48c, _0x24137f = {}) {
    var _0x3d4e04;
    let _0x2c63ca;
    if (_0x28a48c._mars_type) {
      _0x2c63ca = _0x28a48c._mars_type;
    } else if (_0x28a48c !== null && _0x28a48c !== undefined && (_0x3d4e04 = _0x28a48c._template) !== null && _0x3d4e04 !== undefined && _0x3d4e04.type) {
      _0x2c63ca = _0x28a48c._template.type;
    } else if (_0x28a48c !== null && _0x28a48c !== undefined && _0x28a48c.getType) {
      _0x2c63ca = _0x28a48c.getType();
    }
    if (!_0x2c63ca) {
      if (_0x28a48c instanceof Cesium__namespace.Color) {
        _0x2c63ca = "Color";
      } else if (_0x28a48c instanceof HTMLVideoElement) {
        return;
      } else {
        logWarn("toJSON：未识别的材质类型", _0x28a48c);
      }
    }
    const _0x216b94 = OptsConverClass[_0x2c63ca] || OptsConverClass.default;
    if (_0x216b94) {
      _0x24137f.materialType = _0x2c63ca;
      _0x24137f.materialOptions = _0x216b94.toJSON(_0x28a48c);
    }
    return _0x24137f;
  }
  function toJSONByType(_0x2598bf, _0x304d0e) {
    const _0xe4f2f1 = OptsConverClass[_0x2598bf] || OptsConverClass.default;
    if (_0xe4f2f1) {
      return _0xe4f2f1.toJSON(_0x304d0e);
    } else {
      return _0x304d0e;
    }
  }
  function addTextureUniform(_0x175a78) {
    const {
      context: _0x39d6e3,
      material: _0x5aabf5,
      uniformName: _0x5c1ec9,
      image: _0x10c571
    } = _0x175a78;
    const _0x49feb8 = _0x175a78.wrapS || Cesium__namespace.TextureWrap.REPEAT;
    const _0x360e36 = _0x175a78.wrapT || Cesium__namespace.TextureWrap.REPEAT;
    const _0x1a311b = _0x175a78.minificationFilter || Cesium__namespace.TextureMinificationFilter.LINEAR;
    const _0x2bd8e6 = _0x175a78.magnificationFilter || Cesium__namespace.TextureMagnificationFilter.LINEAR;
    base64ToImage(_0x10c571, true).then(_0x211774 => {
      const _0x5487c0 = {
        wrapS: _0x49feb8,
        wrapT: _0x360e36,
        minificationFilter: _0x1a311b,
        magnificationFilter: _0x2bd8e6
      };
      const _0x20fd8b = new Cesium__namespace.Texture({
        context: _0x39d6e3,
        source: _0x211774,
        sampler: new Cesium__namespace.Sampler(_0x5487c0)
      });
      _0x20fd8b.type = "sampler2D";
      if (isPowerOfTwo(_0x211774.width) && isPowerOfTwo(_0x211774.height)) {
        _0x20fd8b.generateMipmap(Cesium__namespace.MipmapHint.NICEST);
      }
      _0x5aabf5.uniforms[_0x5c1ec9] = _0x20fd8b;
    });
  }
  function isPowerOfTwo(_0x561641) {
    return (_0x561641 & _0x561641 - 1) === 0 && _0x561641 !== 0;
  }
  const _0x1414db = {
    __proto__: null,
    register: register$4,
    registerOptsConver: registerOptsConver,
    registerClass: registerClass,
    registerPropertyClass: registerPropertyClass,
    createMaterialProperty: createMaterialProperty,
    createMaterial: createMaterial,
    hasMaterial: hasMaterial,
    toJSON: toJSON,
    toJSONByType: toJSONByType,
    addTextureUniform: addTextureUniform
  };
  var MaterialUtil = _0x1414db;
  class BaseStyleConver extends BaseOptsConver {
    get excludedKeys() {
      const _0x9e6b01 = ["type", "label", "outlineOpacity", "outlineStyle", "lineCount", "lineThickness", "cellAlpha", "oddcolor", "speed", "axisY", "image2", "color2", "randomColor_value", "scaleByDistance_near", "scaleByDistance_nearValue", "scaleByDistance_far", "scaleByDistance_farValue", "pixelOffsetScaleByDistance_near", "pixelOffsetScaleByDistance_nearValue", "pixelOffsetScaleByDistance_far", "pixelOffsetScaleByDistance_farValue", "distanceDisplayCondition_far", "distanceDisplayCondition_near"];
      return _0x9e6b01.concat(this._getExcludedStyle());
    }
    get excludedJsonKeys() {
      return ["label", "outlineStyle", "highlight", "distanceDisplayPoint", "distanceDisplayBillboard", "randomColor_value"];
    }
    _getExcludedStyle() {
      return [];
    }
    _toCesiumValBefore(_0x43f6a9, _0x35ac2d) {
      if (!_0x43f6a9.material && !_0x43f6a9.materialType) {
        var _0x44ee57;
        if (_0x43f6a9.color || _0x43f6a9.randomColor || (_0x44ee57 = _0x43f6a9.materialOptions) !== null && _0x44ee57 !== undefined && _0x44ee57.color) {
          _0x43f6a9.materialType = Color$2;
        } else if (_0x43f6a9.image) {
          _0x43f6a9.materialType = Image$1;
        }
      }
    }
    _toOneCesiumVal_Point(_0x376dda, _0xead9ee, _0x2004b7, _0x1a2adf) {
      switch (_0x376dda) {
        case "clampToGround":
          if (_0xead9ee) {
            _0x1a2adf.heightReference = Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
          } else {
            _0x1a2adf.heightReference = Cesium__namespace.HeightReference.NONE;
          }
          break;
        case "visibleDepth":
          if (_0xead9ee) {
            _0x1a2adf.disableDepthTestDistance = 0;
          } else {
            _0x1a2adf.disableDepthTestDistance = Number.POSITIVE_INFINITY;
          }
          break;
        case "hasShadows":
          if (_0xead9ee) {
            _0x1a2adf.shadows = Cesium__namespace.ShadowMode.ENABLED;
          } else {
            _0x1a2adf.shadows = Cesium__namespace.ShadowMode.DISABLED;
          }
          break;
        case "scaleByDistance":
          if (_0xead9ee) {
            _0x1a2adf.scaleByDistance = new Cesium__namespace.NearFarScalar(Number(_0x2004b7.scaleByDistance_near ?? 1000), Number(_0x2004b7.scaleByDistance_nearValue ?? 1), Number(_0x2004b7.scaleByDistance_far ?? 1000000), Number(_0x2004b7.scaleByDistance_farValue ?? 0.1));
          } else {
            _0x1a2adf.scaleByDistance = undefined;
          }
          break;
        case "pixelOffsetScaleByDistance":
          if (_0xead9ee) {
            _0x1a2adf.pixelOffsetScaleByDistance = new Cesium__namespace.NearFarScalar(Number(_0x2004b7.pixelOffsetScaleByDistance_near ?? 1000), Number(_0x2004b7.pixelOffsetScaleByDistance_nearValue ?? 1), Number(_0x2004b7.pixelOffsetScaleByDistance_far ?? 1000000), Number(_0x2004b7.pixelOffsetScaleByDistance_farValue ?? 0.1));
          } else {
            _0x1a2adf.pixelOffsetScaleByDistance = undefined;
          }
          break;
        case "distanceDisplayCondition":
          if (_0xead9ee) {
            _0x1a2adf.distanceDisplayCondition = new Cesium__namespace.DistanceDisplayCondition(Number(_0x2004b7.distanceDisplayCondition_near ?? 0), Number(_0x2004b7.distanceDisplayCondition_far ?? Number.MAX_VALUE));
          } else {
            _0x1a2adf.distanceDisplayCondition = undefined;
          }
          break;
        default:
          _0x1a2adf[_0x376dda] = _0xead9ee;
          break;
      }
    }
    _toOneCesiumVal_Poly(_0x512107, _0x7a7410, _0x39a38d, _0x21d173) {
      switch (_0x512107) {
        case "materialType":
          {
            if (this.isEntity) {
              _0x21d173.material = createMaterialProperty(_0x39a38d.materialType, _0x39a38d.materialOptions || _0x39a38d);
            } else {
              _0x21d173.material = createMaterial(_0x39a38d.materialType, _0x39a38d.materialOptions || _0x39a38d);
            }
            break;
          }
        case "color":
        case "randomColor":
          {
            _0x21d173.color = this.getColorByStyle(_0x39a38d);
            break;
          }
        case "outlineColor":
          {
            _0x21d173.outlineColor = this.getOutlineColorByStyle(_0x39a38d);
            break;
          }
        case "hasShadows":
          if (_0x7a7410) {
            _0x21d173.shadows = Cesium__namespace.ShadowMode.ENABLED;
          } else {
            _0x21d173.shadows = Cesium__namespace.ShadowMode.DISABLED;
          }
          break;
        case "distanceDisplayCondition":
          if (_0x7a7410) {
            if (this.isEntity) {
              _0x21d173.distanceDisplayCondition = new Cesium__namespace.DistanceDisplayCondition(Number(_0x39a38d.distanceDisplayCondition_near ?? 0), Number(_0x39a38d.distanceDisplayCondition_far ?? Number.MAX_VALUE));
            } else {
              _0x21d173.distanceDisplayCondition = new Cesium__namespace.DistanceDisplayConditionGeometryInstanceAttribute(Number(_0x39a38d.distanceDisplayCondition_near ?? 0), Number(_0x39a38d.distanceDisplayCondition_far ?? Number.MAX_VALUE));
            }
          } else {
            _0x21d173.distanceDisplayCondition = undefined;
          }
          break;
        default:
          if (_0x21d173[_0x512107] instanceof Cesium__namespace.CallbackProperty) {
            logWarn("回调属性未覆盖更新", _0x512107, _0x7a7410);
          } else {
            _0x21d173[_0x512107] = _0x7a7410;
          }
          break;
      }
    }
    _toJSONValEnd(_0x2cf957, _0x127a1e) {}
    _toOneJson_Poly(_0x47dbad, _0x3632d0, _0x45d51e) {
      switch (_0x47dbad) {
        case "material":
          {
            toJSON(_0x3632d0, _0x45d51e);
            break;
          }
        case "materialOptions":
          {
            _0x45d51e[_0x47dbad] = toJSONByType(_0x45d51e.materialType, _0x3632d0);
            break;
          }
        case "color":
          {
            const _0xca4ddf = getCesiumColor(_0x3632d0);
            if (_0xca4ddf) {
              _0x45d51e[_0x47dbad] = _0xca4ddf.toCssColorString();
            }
            break;
          }
        case "outlineColor":
          {
            const _0x40874c = getCesiumColor(_0x3632d0);
            if (_0x40874c) {
              _0x45d51e[_0x47dbad] = _0x40874c.toCssColorString();
            }
            break;
          }
        case "rotation":
          _0x45d51e.rotationDegree = formatNum$1(Cesium__namespace.Math.toDegrees(_0x3632d0), 2);
          break;
        case "stRotation":
          _0x45d51e.stRotationDegree = formatNum$1(Cesium__namespace.Math.toDegrees(_0x3632d0), 2);
          break;
        case "shadows":
          {
            if (_0x3632d0 === Cesium__namespace.ShadowMode.ENABLED) {
              _0x45d51e.shadows = true;
            } else {
              _0x45d51e[_0x47dbad] = _0x3632d0;
            }
            break;
          }
        case "distanceDisplayCondition":
          {
            _0x45d51e.distanceDisplayCondition_near = _0x3632d0.near;
            _0x45d51e.distanceDisplayCondition_far = _0x3632d0.far;
            break;
          }
        default:
          logWarn("未处理的属性", _0x47dbad, _0x3632d0);
          break;
      }
    }
    _toOneJson_Point(_0x1d85a0, _0x36ff39, _0x56f638) {
      switch (_0x1d85a0) {
        case "material":
          {
            toJSON(_0x36ff39, _0x56f638);
            break;
          }
        case "materialOptions":
          {
            _0x56f638[_0x1d85a0] = toJSONByType(_0x56f638.materialType, _0x36ff39);
            break;
          }
        case "color":
        case "fillColor":
        case "outlineColor":
        case "backgroundColor":
        case "strokeColor":
          {
            const _0x40d996 = getCesiumColor(_0x36ff39);
            if (_0x40d996) {
              _0x56f638[_0x1d85a0] = _0x40d996.toCssColorString();
            }
            break;
          }
        case "heightReference":
          {
            if (_0x36ff39 === Cesium__namespace.HeightReference.CLAMP_TO_GROUND) {
              _0x56f638.clampToGround = true;
            }
            break;
          }
        case "rotation":
          _0x56f638.rotationDegree = formatNum$1(Cesium__namespace.Math.toDegrees(_0x36ff39), 2);
          break;
        case "stRotation":
          _0x56f638.stRotationDegree = formatNum$1(Cesium__namespace.Math.toDegrees(_0x36ff39), 2);
          break;
        case "disableDepthTestDistance":
          {
            if (_0x36ff39 === Number.POSITIVE_INFINITY) {
              _0x56f638.visibleDepth = false;
            } else {
              _0x56f638.disableDepthTestDistance = _0x36ff39;
            }
            break;
          }
        case "scaleByDistance":
          {
            _0x56f638.scaleByDistance = true;
            _0x56f638.scaleByDistance_near = _0x36ff39.near;
            _0x56f638.scaleByDistance_nearValue = _0x36ff39.nearValue;
            _0x56f638.scaleByDistance_far = _0x36ff39.far;
            _0x56f638.scaleByDistance_farValue = _0x36ff39.farValue;
            break;
          }
        case "pixelOffsetScaleByDistance":
          {
            _0x56f638.pixelOffsetScaleByDistance = true;
            _0x56f638.pixelOffsetScaleByDistance_near = _0x36ff39.near;
            _0x56f638.pixelOffsetScaleByDistance_nearValue = _0x36ff39.nearValue;
            _0x56f638.pixelOffsetScaleByDistance_far = _0x36ff39.far;
            _0x56f638.pixelOffsetScaleByDistance_farValue = _0x36ff39.farValue;
            break;
          }
        case "distanceDisplayCondition":
          {
            _0x56f638.distanceDisplayCondition = true;
            _0x56f638.distanceDisplayCondition_near = _0x36ff39.near;
            _0x56f638.distanceDisplayCondition_far = _0x36ff39.far;
            break;
          }
        default:
          logWarn("未处理" + _0x1d85a0 + "属性", _0x36ff39);
          break;
      }
    }
  }
  class BillboardStyleConver extends BaseStyleConver {
    _getExcludedStyle() {
      return ["outlineColor", "backgroundColor", "font_style", "font_weight", "font_size", "font_family", "backgroundOpacity", "fill", "outline"];
    }
    static toCesiumVal(_0x57dc57, _0x3ea9da, _0x2cf3fa) {
      if (!this.billboardStyleConver) {
        this.billboardStyleConver = new BillboardStyleConver();
      }
      this.billboardStyleConver.isEntity = _0x2cf3fa;
      return this.billboardStyleConver.toCesiumVal(_0x57dc57, _0x3ea9da);
    }
    _toCesiumValBefore(_0x24f91a, _0x28caea) {
      _0x28caea.horizontalOrigin = _0x28caea.horizontalOrigin ?? Cesium__namespace.HorizontalOrigin.CENTER;
      _0x28caea.verticalOrigin = _0x28caea.verticalOrigin ?? Cesium__namespace.HorizontalOrigin.BOTTOM;
    }
    _toOneCesiumVal(_0x2941a9, _0x258fd3, _0xa205d2, _0xebf42e) {
      switch (_0x2941a9) {
        case "color":
          {
            _0xebf42e.color = this.getColorByStyle(_0xa205d2);
            break;
          }
        case "opacity":
          if (!_0xa205d2.color) {
            if (Cesium__namespace.defined(_0xa205d2.globalAlpha) && _0xa205d2.globalAlpha !== 1) {
              _0xebf42e.color = Cesium__namespace.Color.WHITE.withAlpha(_0xa205d2.globalAlpha * (_0x258fd3 ?? 1));
            } else {
              _0xebf42e.color = Cesium__namespace.Color.WHITE.withAlpha(_0x258fd3 ?? 1);
            }
          }
          break;
        case "rotationDegree":
          _0xebf42e.rotation = Cesium__namespace.Math.toRadians(_0x258fd3);
          break;
        case "hasPixelOffset":
          if (!_0x258fd3) {
            _0xebf42e.pixelOffset = new Cesium__namespace.Cartesian2(0, 0);
          }
          break;
        case "pixelOffsetX":
        case "pixelOffsetY":
          _0xebf42e.pixelOffset = new Cesium__namespace.Cartesian2(_0xa205d2.pixelOffsetX || 0, _0xa205d2.pixelOffsetY || 0);
          break;
        case "pixelOffset":
          if (Cesium__namespace.defined(_0x258fd3[0]) && Cesium__namespace.defined(_0x258fd3[1])) {
            _0xebf42e.pixelOffset = new Cesium__namespace.Cartesian2(_0x258fd3[0], _0x258fd3[1]);
          } else {
            _0xebf42e.pixelOffset = _0x258fd3;
          }
          break;
        case "eyeOffsetX":
        case "eyeOffsetY":
        case "eyeOffsetZ":
          _0xebf42e.eyeOffset = new Cesium__namespace.Cartesian3(_0xa205d2.eyeOffsetX || 0, _0xa205d2.eyeOffsetY || 0, _0xa205d2.eyeOffsetZ || 0);
          break;
        case "alignedAxis":
          {
            if (Array.isArray(_0x258fd3)) {
              _0xebf42e.alignedAxis = new Cesium__namespace.Cartesian3(..._0x258fd3);
            }
            _0xa205d2.alignedAxis = _0x258fd3;
            break;
          }
        default:
          this._toOneCesiumVal_Point(_0x2941a9, _0x258fd3, _0xa205d2, _0xebf42e);
          break;
      }
    }
    static toJSON(_0x4d8b54, _0x25f3ed, _0x351f31) {
      if (!this.billboardStyleConver) {
        this.billboardStyleConver = new BillboardStyleConver();
      }
      this.billboardStyleConver.isEntity = _0x351f31;
      return this.billboardStyleConver.toJSON(_0x4d8b54, _0x25f3ed);
    }
    _toOneJson(_0x453ac3, _0x25a190, _0x397d2d) {
      switch (_0x453ac3) {
        case "pixelOffset":
          {
            _0x397d2d.pixelOffsetX = _0x25a190.x;
            _0x397d2d.pixelOffsetY = _0x25a190.y;
            break;
          }
        case "alignedAxis":
          {
            _0x397d2d.alignedAxis = [_0x25a190.x, _0x25a190.y, _0x25a190.z];
            break;
          }
        default:
          this._toOneJson_Point(_0x453ac3, _0x25a190, _0x397d2d);
          break;
      }
    }
  }
  class PointCollision {
    constructor(_0x59aa31, _0x2a07b1) {
      this._graphicLayer = _0x59aa31;
      this._map = _0x59aa31._map;
      this._collisionType = true;
      this._includePoly = false;
      this._clustersList = [];
      this.setOptions(_0x2a07b1);
      const _0x1a13c2 = Cesium__namespace.Mars3DEx?.KDBush ?? window.KDBush;
      if (_0x1a13c2) {
        this.KDBush = _0x1a13c2;
        this.bindEvent();
      } else {
        logError("未识别KDBush库，您可以任选下面方式：\n1. 更新 mars3d-cesium库至v.122及以上版本\n2. 请引入kdbush库：import KDBush from \"kdbush\"; window.KDBush= KDBush;");
      }
    }
    get enabled() {
      return this._enabled;
    }
    set enabled(_0x371b26) {
      this._enabled = _0x371b26;
      if (_0x371b26) {
        this._cluster();
      } else {
        this.removeAll();
        const _0x143911 = this._graphicLayer.graphics;
        for (let _0x4ade87 = 0; _0x4ade87 < _0x143911.length; ++_0x4ade87) {
          _0x143911[_0x4ade87].isCluster = false;
        }
      }
    }
    setOptions(_0x12de6a = {}) {
      this.options = _0x12de6a;
      this.enabled = _0x12de6a.enabled ?? this._graphicLayer.show;
      this._pixelRange = _0x12de6a.pixelRange ?? 20;
      this._minimumClusterSize = _0x12de6a.minimumClusterSize ?? 2;
      if (this._setOptionsHook) {
        this._setOptionsHook(_0x12de6a);
      }
    }
    bindEvent() {
      this.mouse_down = false;
      this._onCameraChangedEventThrottle = funThrottle(this._cluster, 300);
      this._map.on(EventType.wheel, this._onCameraChangedEventThrottle, this);
      this._map.camera.percentageChanged = 0.02;
      this._map.on(EventType.cameraChanged, this._onCameraChangedEventThrottle, this);
      this._map.on(EventType.leftDown, this._onMouseDownEvent, this);
      this._map.on(EventType.leftUp, this._onMouseUpEvent, this);
    }
    unbindEvent() {
      this._map.off(EventType.wheel, this._onCameraChangedEventThrottle, this);
      this._map.off(EventType.cameraChanged, this._onCameraChangedEventThrottle, this);
      this._map.off(EventType.leftDown, this._onMouseDownEvent, this);
      this._map.off(EventType.leftUp, this._onMouseUpEvent, this);
    }
    _onMouseDownEvent(_0x128c9b) {
      this.mouse_down = true;
    }
    _onMouseUpEvent(_0x324124) {
      this.mouse_down = false;
    }
    removeAll() {}
    _cluster() {
      if (!this.enabled || !this._graphicLayer.show || this.mouse_down || !this.KDBush) {
        return;
      }
      const _0xd04ed6 = this._map.scene.mapProjection.ellipsoid;
      const _0xfd6e4b = this._map.scene.camera.positionWC;
      const _0x396172 = new Cesium__namespace.EllipsoidalOccluder(_0xd04ed6, _0xfd6e4b);
      const _0xf69622 = this._getCalculateGraphics(_0x396172);
      if (!_0xf69622 || _0xf69622.length === 0) {
        this.removeAll();
        return;
      }
      const _0x4bf267 = this._clustersList;
      const _0x8a278f = [];
      const _0x5931ef = this._previousHeight;
      const _0x1d2307 = this._map.scene.camera.positionCartographic.height;
      let _0x21b495;
      let _0x403cf0;
      let _0x3f2a87;
      let _0x432a2b;
      let _0x2ccef3;
      let _0x38f9e2;
      let _0x1e1981;
      let _0x4ac252;
      let _0x4a9e94;
      let _0x23f65e;
      let _0x23ac34;
      const _0x5a9cac = new this.KDBush(_0xf69622.length, 64, Uint32Array);
      for (let _0x15c0ec = 0; _0x15c0ec < _0xf69622.length; ++_0x15c0ec) {
        _0x5a9cac.add(_0xf69622[_0x15c0ec]._cluster_coord.x, _0xf69622[_0x15c0ec]._cluster_coord.y);
      }
      _0x5a9cac.finish();
      if (_0x1d2307 < _0x5931ef) {
        _0x3f2a87 = _0x4bf267.length;
        for (_0x21b495 = 0; _0x21b495 < _0x3f2a87; ++_0x21b495) {
          const _0x2ccf70 = _0x4bf267[_0x21b495];
          if (!_0x396172.isPointVisible(_0x2ccf70.position)) {
            continue;
          }
          const _0x49f294 = Cesium__namespace.Billboard._computeScreenSpacePosition(Cesium__namespace.Matrix4.IDENTITY, _0x2ccf70.position, Cesium__namespace.Cartesian3.ZERO, Cesium__namespace.Cartesian2.ZERO, this._map.scene);
          if (!Cesium__namespace.defined(_0x49f294)) {
            continue;
          }
          const _0x447d33 = 1 - _0x1d2307 / _0x5931ef;
          let _0x5c23cb = _0x2ccf70.width = _0x2ccf70.width * _0x447d33;
          let _0x295e40 = _0x2ccf70.height = _0x2ccf70.height * _0x447d33;
          _0x5c23cb = Math.max(_0x5c23cb, _0x2ccf70.minimumWidth);
          _0x295e40 = Math.max(_0x295e40, _0x2ccf70.minimumHeight);
          const _0x4c04e2 = _0x49f294.x - _0x5c23cb * 0.5;
          const _0x2a1c35 = _0x49f294.y - _0x295e40 * 0.5;
          const _0x5c92a8 = _0x49f294.x + _0x5c23cb;
          const _0x5ca63a = _0x49f294.y + _0x295e40;
          _0x2ccef3 = _0x5a9cac.range(_0x4c04e2, _0x2a1c35, _0x5c92a8, _0x5ca63a);
          _0x38f9e2 = _0x2ccef3.length;
          _0x23f65e = 0;
          _0x4a9e94 = [];
          for (_0x403cf0 = 0; _0x403cf0 < _0x38f9e2; ++_0x403cf0) {
            _0x1e1981 = _0x2ccef3[_0x403cf0];
            _0x4ac252 = _0xf69622[_0x1e1981];
            if (!_0x4ac252._clustered) {
              ++_0x23f65e;
              _0x23ac34 = _0x4ac252;
              _0x4a9e94.push(_0x23ac34);
            }
          }
          if (_0x23f65e >= this._minimumClusterSize) {
            _0x2ccf70.graphics = _0x4a9e94;
            _0x8a278f.push(_0x2ccf70);
            for (_0x403cf0 = 0; _0x403cf0 < _0x38f9e2; ++_0x403cf0) {
              _0xf69622[_0x2ccef3[_0x403cf0]]._clustered = true;
            }
          }
        }
      }
      _0x3f2a87 = _0xf69622.length;
      for (_0x21b495 = 0; _0x21b495 < _0x3f2a87; ++_0x21b495) {
        const _0x114375 = _0xf69622[_0x21b495];
        if (_0x114375._clustered) {
          continue;
        }
        _0x114375._clustered = true;
        _0x432a2b = this._getBoundingBox(_0x114375, pointBoundinRectangleScratch);
        const _0x15e325 = Cesium__namespace.BoundingRectangle.clone(_0x432a2b, totalBoundingRectangleScratch);
        _0x2ccef3 = _0x5a9cac.range(_0x432a2b.x, _0x432a2b.y, _0x432a2b.x + _0x432a2b.width, _0x432a2b.y + _0x432a2b.height);
        _0x38f9e2 = _0x2ccef3.length;
        const _0x533c90 = Cesium__namespace.Cartesian3.clone(_0x114375._position_cluster);
        _0x23f65e = 1;
        _0x4a9e94 = [_0x114375];
        for (_0x403cf0 = 0; _0x403cf0 < _0x38f9e2; ++_0x403cf0) {
          _0x1e1981 = _0x2ccef3[_0x403cf0];
          _0x4ac252 = _0xf69622[_0x1e1981];
          if (!_0x4ac252._clustered) {
            const _0x4cbc82 = this._getBoundingBox(_0x4ac252, neighborBoundingRectangleScratch);
            const _0x25f98c = _0x4ac252._position_cluster;
            Cesium__namespace.Cartesian3.add(_0x25f98c, _0x533c90, _0x533c90);
            Cesium__namespace.BoundingRectangle.union(_0x15e325, _0x4cbc82, _0x15e325);
            ++_0x23f65e;
            _0x4a9e94.push(_0x4ac252);
          }
        }
        if (_0x23f65e >= this._minimumClusterSize) {
          const _0x4d6aad = Cesium__namespace.Cartesian3.multiplyByScalar(_0x533c90, 1 / _0x23f65e, _0x533c90);
          const _0x309eeb = {
            position: _0x4d6aad,
            width: _0x15e325.width,
            height: _0x15e325.height,
            minimumWidth: _0x432a2b.width,
            minimumHeight: _0x432a2b.height,
            graphics: _0x4a9e94
          };
          const _0x126f4e = _0x309eeb;
          _0x8a278f.push(_0x126f4e);
          for (_0x403cf0 = 0; _0x403cf0 < _0x38f9e2; ++_0x403cf0) {
            _0xf69622[_0x2ccef3[_0x403cf0]]._clustered = true;
          }
        } else {
          _0x114375._isCluster_temp = false;
        }
      }
      if (this._collisionType) {
        for (let _0x3fb9fa = 0; _0x3fb9fa < _0x8a278f.length; _0x3fb9fa++) {
          const _0x4ebd6d = _0x8a278f[_0x3fb9fa].graphics;
          if (_0x4ebd6d?.length > 0) {
            _0x4ebd6d[0]._isCluster_temp = false;
          }
        }
      }
      for (let _0x3cb699 = 0; _0x3cb699 < _0x3f2a87; ++_0x3cb699) {
        _0xf69622[_0x3cb699].isCluster = _0xf69622[_0x3cb699]._isCluster_temp;
      }
      this._clustersList = _0x8a278f;
      this._previousHeight = _0x1d2307;
      this._refreshClusterEnd(_0x8a278f);
    }
    _refreshClusterEnd(_0x4430ab) {}
    _getCalculateGraphics(_0x28fb42) {
      const _0x5ba074 = this._graphicLayer;
      const _0x26b5da = _0x5ba074.getGraphics();
      if (_0x26b5da.length === 0) {
        return;
      }
      const _0x296c43 = this._graphicLayer._graphic_drawing;
      const _0x5e2cae = [];
      const _0x4b6e94 = _0x26b5da.length;
      for (let _0x3cb40c = 0; _0x3cb40c < _0x4b6e94; ++_0x3cb40c) {
        const _0x2f6a82 = _0x26b5da[_0x3cb40c];
        if (!_0x2f6a82.isAdded || _0x296c43 === _0x2f6a82 || _0x2f6a82.isEditing || this._includePoly === false && !_0x2f6a82.isPoint || !_0x2f6a82.hasCluster || this.options.includeType && this.options.includeType.indexOf(_0x2f6a82.type) === -1) {
          continue;
        }
        const _0x383703 = _0x2f6a82.positionShow ?? _0x2f6a82.position ?? _0x2f6a82.center;
        if (!_0x383703 || !_0x2f6a82.show || this._map.scene.mode === Cesium__namespace.SceneMode.SCENE3D && !_0x28fb42.isPointVisible(_0x383703)) {
          continue;
        }
        let _0x5952cd;
        if (_0x2f6a82.getWindowCoordinates) {
          _0x5952cd = _0x2f6a82.getWindowCoordinates(_0x2f6a82._cluster_coord);
        } else {
          _0x5952cd = getWindowCoordinates(this._map.scene, _0x383703, _0x2f6a82._cluster_coord);
        }
        if (!Cesium__namespace.defined(_0x5952cd)) {
          continue;
        }
        _0x2f6a82._isCluster_temp = true;
        _0x2f6a82._clustered = false;
        _0x2f6a82._cluster_coord = _0x5952cd;
        _0x2f6a82._position_cluster = _0x383703;
        _0x5e2cae.push(_0x2f6a82);
      }
      if (this._collisionType && _0x5ba074._labelCollection && this.options.includeType.indexOf("label") !== -1) {
        const _0x39ab57 = _0x5ba074._labelCollection;
        for (let _0x53a83e = 0, _0x2f1185 = _0x39ab57.length; _0x53a83e < _0x2f1185; _0x53a83e++) {
          const _0xf69236 = _0x39ab57.get(_0x53a83e);
          const _0x5201a4 = _0xf69236.position;
          if (!_0x5201a4 || this._map.scene.mode === Cesium__namespace.SceneMode.SCENE3D && !_0x28fb42.isPointVisible(_0x5201a4)) {
            continue;
          }
          const _0x18715a = _0xf69236.computeScreenSpacePosition(this._map.scene, _0xf69236._cluster_coord);
          if (!Cesium__namespace.defined(_0x18715a)) {
            continue;
          }
          _0xf69236._isCluster_temp = true;
          _0xf69236._clustered = false;
          _0xf69236._cluster_coord = _0x18715a;
          _0xf69236._position_cluster = _0x5201a4;
          _0x5e2cae.push(_0xf69236);
        }
      }
      return _0x5e2cae;
    }
    _getBoundingBox(_0x1876d0, _0xb23efa) {
      const _0x227ff5 = _0x1876d0._cluster_coord;
      if (_0x1876d0.getBoundingBox) {
        _0xb23efa = _0x1876d0.getBoundingBox(_0x227ff5, _0xb23efa);
      } else {
        _0xb23efa = getScreenSpaceBoundingBox(_0x1876d0, _0x227ff5, _0xb23efa);
      }
      expandBoundingBox(_0xb23efa, this._pixelRange);
      if (_0x1876d0._primitive_label) {
        const _0x321e6f = _0x1876d0._primitive_label.getBoundingBox(_0x227ff5, labelBoundingBoxScratch);
        expandBoundingBox(_0x321e6f, this._pixelRange);
        _0xb23efa = Cesium__namespace.BoundingRectangle.union(_0xb23efa, _0x321e6f, _0xb23efa);
      }
      return _0xb23efa;
    }
    destroy() {
      this.unbindEvent();
    }
  }
  const labelBoundingBoxScratch = new Cesium__namespace.BoundingRectangle();
  const pointBoundinRectangleScratch = new Cesium__namespace.BoundingRectangle();
  const totalBoundingRectangleScratch = new Cesium__namespace.BoundingRectangle();
  const neighborBoundingRectangleScratch = new Cesium__namespace.BoundingRectangle();
  function expandBoundingBox(_0x220b94, _0x369882) {
    _0x220b94.x -= _0x369882;
    _0x220b94.y -= _0x369882;
    _0x220b94.width += _0x369882 * 2;
    _0x220b94.height += _0x369882 * 2;
  }
  function getWindowCoordinates(_0x92045, _0x2ec3fb, _0x321048) {
    return toWindowCoordinates$1(_0x92045, _0x2ec3fb, _0x321048);
  }
  function getScreenSpaceBoundingBox(_0x5bc42f, _0x2dc103, _0x409f12) {
    if (!Cesium__namespace.defined(_0x409f12)) {
      _0x409f12 = new Cesium__namespace.BoundingRectangle();
    }
    if (!_0x5bc42f.isPoint) {
      const _0x200184 = _0x5bc42f.getRectangle();
      if (_0x200184) {
        const _0x496a1f = _0x5bc42f._map.scene;
        const _0x5c274c = getWindowCoordinates(_0x496a1f, Cesium__namespace.Cartesian3.fromRadians(_0x200184.west, _0x200184.south, _0x200184.maxHeight));
        const _0x2f413f = getWindowCoordinates(_0x496a1f, Cesium__namespace.Cartesian3.fromRadians(_0x200184.east, _0x200184.north, _0x200184.maxHeight));
        if (_0x5c274c && _0x2f413f) {
          return Cesium__namespace.BoundingRectangle.fromPoints([_0x5c274c, _0x2f413f], _0x409f12);
        }
      }
    }
    const _0xac125c = 8;
    const _0x4b8e6e = 8;
    const _0x4b1090 = _0x2dc103.x - _0xac125c * 0.5;
    const _0x1dae4d = _0x2dc103.y - _0x4b8e6e * 0.5;
    _0x409f12.x = _0x4b1090;
    _0x409f12.y = _0x1dae4d;
    _0x409f12.width = _0xac125c;
    _0x409f12.height = _0x4b8e6e;
    return _0x409f12;
  }
  class PointCluster extends PointCollision {
    constructor(_0x37b9ec, _0x424eda) {
      super(_0x37b9ec, _0x424eda);
      this._collisionType = false;
      this._billboardCollection = new Cesium__namespace.BillboardCollection({
        scene: this._map.scene
      });
      this._map.scene.primitives.add(this._billboardCollection);
    }
    _setOptionsHook(_0x3f95d8) {
      this._includePoly = _0x3f95d8.includePoly ?? true;
      this._globalAlpha = this._graphicLayer.opacity;
      if (this._billboardCollection) {
        this._billboardCollection.zIndex = _0x3f95d8.zIndex;
      }
    }
    removeAll() {
      if (this._billboardCollection) {
        this._billboardCollection.removeAll();
      }
    }
    _refreshClusterEnd(_0x3cb2f8) {
      this._billboardCollection.removeAll();
      for (let _0x58f0ec = 0; _0x58f0ec < _0x3cb2f8.length; _0x58f0ec++) {
        this._addClusterItem(_0x3cb2f8[_0x58f0ec]);
      }
      this._graphicLayer.fire(EventType.clusterStop, {
        list: this.getClusterList()
      });
    }
    _addClusterItem(_0x354374) {
      var _0x175b22;
      var _0x3ee1cd;
      let _0xc8a9f1 = _0x354374.position;
      if ((_0x175b22 = this.options.style) !== null && _0x175b22 !== undefined && _0x175b22.setHeight) {
        _0xc8a9f1 = setPositionsHeight(_0xc8a9f1, this.options.style.setHeight);
      }
      if ((_0x3ee1cd = this.options.style) !== null && _0x3ee1cd !== undefined && _0x3ee1cd.addHeight) {
        _0xc8a9f1 = addPositionsHeight(_0xc8a9f1, this.options.style.addHeight);
      }
      const _0x3001d7 = {
        id: createGuid(),
        position: _0xc8a9f1,
        verticalOrigin: Cesium__namespace.VerticalOrigin.BOTTOM,
        scale: 0.5
      };
      if (this.options.style) {
        if (this._globalAlpha !== 1) {
          this.options.style.globalAlpha = this._globalAlpha;
        }
        BillboardStyleConver.toCesiumVal(this.options.style, _0x3001d7);
      } else if (this._globalAlpha !== 1) {
        _0x3001d7.color = Cesium__namespace.Color.WHITE.withAlpha(this._globalAlpha);
      }
      const _0x2ba4f9 = _0x354374.graphics?.length ?? _0x354374.count;
      const _0x5433c0 = this.options.image;
      if (isString(_0x5433c0)) {
        _0x3001d7.image = _0x5433c0;
      } else if (isFunction(_0x5433c0)) {
        const _0x5ab1e5 = _0x5433c0(_0x2ba4f9, _0x354374);
        if (_0x5ab1e5.then) {
          _0x5ab1e5.then(function (_0x5c4d45) {
            if (_0x216e34._billboardCollection) {
              _0x216e34.image = _0x5c4d45;
            }
          });
        } else {
          _0x3001d7.image = _0x5ab1e5;
        }
      } else {
        _0x3001d7.image = getCircleImage(_0x2ba4f9, _0x5433c0);
      }
      const _0x216e34 = this._billboardCollection.add(_0x3001d7);
      _0x216e34._mars3d_layerId = this._graphicLayer.id;
      _0x216e34._clusterData = _0x354374;
      _0x354374.billboard = _0x216e34;
      _0x354374.cluster = true;
      return _0x216e34;
    }
    getClusterList() {
      const _0x11bda2 = [];
      for (let _0x4d74cd = 0, _0x32ddcc = this._billboardCollection.length; _0x4d74cd < _0x32ddcc; _0x4d74cd++) {
        const _0x345708 = this._billboardCollection.get(_0x4d74cd);
        _0x11bda2.push(_0x345708._clusterData);
      }
      return _0x11bda2;
    }
    setOpacity(_0x42ee7d) {
      this._globalAlpha = _0x42ee7d;
      for (let _0x6cb7e7 = 0, _0x20f3dd = this._billboardCollection.length; _0x6cb7e7 < _0x20f3dd; _0x6cb7e7++) {
        const _0x29b352 = this._billboardCollection.get(_0x6cb7e7);
        _0x29b352.color = Cesium__namespace.Color.WHITE.withAlpha(_0x42ee7d);
      }
    }
    destroy() {
      super.destroy();
      if (this._billboardCollection) {
        this._billboardCollection.destroy();
      }
      this._billboardCollection = undefined;
    }
  }
  const errorToken = "无内置key,请参考 http://mars3d.cn/docs/issue/token/ 注册替换";
  let ion = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlYTBkNWRiNC0yNWM3LTRlODAtYjI0NS01MmYwZDYyNmU4ZjMiLCJpZCI6MzEzNjE2LCJpYXQiOjE3NTAzMDgyODV9.dr5_rtna2wqqujrPBgWSdWt-sr1JVDmYit3GYJQ6RLc";
  function updateIon(_0x5c2bb5) {
    ion = _0x5c2bb5;
    Cesium__namespace.Ion.defaultAccessToken = _0x5c2bb5;
  }
  let mapbox = errorToken;
  function updateMapbox(_0x17d389) {
    mapbox = _0x17d389;
  }
  let bing = "AuKhM0WRkjhX8E4y1OM0TukYycaw_4Vh3eSfXONDf7OARls-WEB3K_Rfx89bWxof";
  function updateBing(_0x582000) {
    bing = _0x582000;
  }
  const tiandituArr = isMarsOnline ? ["fa514c882a3f5f6a942e09b7da010247", "772656db9731cb01e78e083139474b5b"] : ["789e558be762ff832392a0393fd8a4f1"];
  let tianditu = getArrayRandomOne(tiandituArr);
  function updateTianditu(_0x2f00ff) {
    tiandituArr.splice(0, tiandituArr.length);
    if (Array.isArray(_0x2f00ff)) {
      _0x2f00ff.forEach(_0x1e025e => {
        tiandituArr.push(_0x1e025e);
      });
    } else {
      tiandituArr.push(_0x2f00ff);
    }
    tianditu = getArrayRandomOne(tiandituArr);
  }
  const gaodeArr = isMarsOnline ? ["64f7c27bd15be09f105db1750b502bfc", "74dfa5168bf285f5d14f54f6b8ea3d64", "1709289f07d793411d12f7684fd1a51b", "f7892cc770abc7888e3083701c297e09"] : ["ac4fc0bd7dbc89e56265f7455591ee83"];
  let gaode = getArrayRandomOne(gaodeArr);
  function updateGaode(_0x1ce5ec) {
    gaodeArr.splice(0, gaodeArr.length);
    if (Array.isArray(_0x1ce5ec)) {
      _0x1ce5ec.forEach(_0x373c82 => {
        gaodeArr.push(_0x373c82);
      });
    } else {
      gaodeArr.push(_0x1ce5ec);
    }
    gaode = getArrayRandomOne(gaodeArr);
  }
  const baiduArr = isMarsOnline ? ["D4oogPghCdq53x6CTc20lHkSPtDWATdO", "YWfmNSA7COMk7paj0qNNkDhAdhOhw9M2", "6EVosdf8NzqnxEXhNB6iuXQ8K3BhGDQ1"] : ["D4oogPghCdq53x6CTc20lHkSPtDWATdO"];
  let baidu = getArrayRandomOne(baiduArr);
  function updateBaidu(_0xf9ce50) {
    baiduArr.splice(0, baiduArr.length);
    if (Array.isArray(_0xf9ce50)) {
      _0xf9ce50.forEach(_0x5b5db0 => {
        baiduArr.push(_0x5b5db0);
      });
    } else {
      baiduArr.push(_0xf9ce50);
    }
    baidu = getArrayRandomOne(baiduArr);
  }
  function updateAll(_0x3f910e) {
    if (_0x3f910e.tianditu) {
      updateTianditu(_0x3f910e.tianditu);
    }
    if (_0x3f910e.gaode) {
      updateGaode(_0x3f910e.gaode);
    }
    if (_0x3f910e.baidu) {
      updateBaidu(_0x3f910e.baidu);
    }
    if (_0x3f910e.ion) {
      updateIon(_0x3f910e.ion);
    }
    if (_0x3f910e.mapbox) {
      updateMapbox(_0x3f910e.mapbox);
    }
    if (_0x3f910e.bing) {
      updateBing(_0x3f910e.bing);
    }
  }
  const _0xabbfc8 = {
    get ion() {
      return ion;
    },
    get mapbox() {
      return mapbox;
    },
    get bing() {
      return bing;
    },
    get tianditu() {
      return tianditu;
    },
    get gaode() {
      return gaode;
    },
    get baidu() {
      return baidu;
    }
  };
  _0xabbfc8.__proto__ = null;
  _0xabbfc8.updateIon = updateIon;
  _0xabbfc8.updateMapbox = updateMapbox;
  _0xabbfc8.updateBing = updateBing;
  _0xabbfc8.tiandituArr = tiandituArr;
  _0xabbfc8.updateTianditu = updateTianditu;
  _0xabbfc8.gaodeArr = gaodeArr;
  _0xabbfc8.updateGaode = updateGaode;
  _0xabbfc8.baiduArr = baiduArr;
  _0xabbfc8.updateBaidu = updateBaidu;
  _0xabbfc8.updateAll = updateAll;
  var Token = _0xabbfc8;
  const LayerType = {};
  const ControlType = {};
  const EffectType = {};
  const ThingType = {};
  const MoveType = {
    ENLARGE: 0,
    NARROW: 1,
    LEFT_ROTATE: 2,
    RIGHT_ROTATE: 3,
    TOP_ROTATE: 4,
    BOTTOM_ROTATE: 5
  };
  const ClipType = {
    Z: 1,
    ZR: 2,
    X: 3,
    XR: 4,
    Y: 5,
    YR: 6
  };
  const Icon = {
    Paste: "fa fa-paste",
    Delete: "fa fa-trash-o",
    Coordinates: "fa fa-info-circle",
    CameraInfo: "fa fa-camera-retro",
    Camera: "fa fa-street-view",
    UndergroundNo: "fa fa-ban",
    UndergroundYes: "fa fa-sort-amount-desc",
    RotatePointStart: "fa fa-retweet",
    RotatePointStop: "fa fa-remove",
    FlyToPoint: "fa fa-send-o",
    FirstPerspective: "fa fa-male",
    KeyboardRoamYes: "fa fa-keyboard-o",
    KeyboardRoamNo: "fa fa-keyboard-o",
    TrackedEntityYes: "fa fa-lock",
    TrackedEntityNo: "fa fa-unlock-alt",
    Tileset: "fa fa-building-o",
    TilesetWireframeYes: "fa fa-connectdevelop",
    TilesetWireframeNo: "fa fa-connectdevelop",
    TilesetBoundingVolumeYes: "fa fa-codepen",
    TilesetBoundingVolumeNo: "fa fa-codepen",
    Terrain: "fa fa-globe",
    TerrainYes: "fa fa-medium",
    TerrainNo: "fa fa-medium",
    TerrainWireframeYes: "fa fa-connectdevelop",
    TerrainWireframeNo: "fa fa-connectdevelop",
    Measure: "fa fa-share-alt",
    MeasureDistance: "fa fa-minus",
    MeasureArea: "fa fa-medium",
    MeasureHeight: "fa fa-sort-amount-asc",
    MeasureAngle: "fa fa-road",
    Draw: "fa fa-eyedropper",
    DrawPoint: "fa fa-map-marker",
    DrawPolyline: "fa fa-reorder",
    DrawPolygon: "fa fa-medium",
    DrawCircle: "fa fa-genderless",
    DrawRectangle: "fa fa-retweet",
    DrawEditYes: "fa fa-pencil",
    DrawEditNo: "fa fa-pencil-square",
    DrawDownJson: "fa fa-file-text-o",
    Effect: "fa fa-rss",
    RainEffectYes: "fa fa-tint",
    RainEffectNo: "fa fa-tint",
    SnowEffectYes: "fa fa-yelp",
    SnowEffectNo: "fa fa-yelp",
    FogEffectYes: "fa fa-spinner",
    FogEffectNo: "fa fa-spinner",
    BloomEffectYes: "fa fa-bullseye",
    BloomEffectNo: "fa fa-bullseye",
    BrightnessEffectYes: "fa fa-trello",
    BrightnessEffectNo: "fa fa-trello",
    NightVisionEffectYes: "fa fa-dashboard",
    NightVisionEffectNo: "fa fa-dashboard",
    BlackAndWhiteEffectYes: "fa fa-star-half-full",
    BlackAndWhiteEffectNo: "fa fa-star-half-full",
    OutlineEffectYes: "fa fa-ticket",
    OutlineEffectNo: "fa fa-ticket",
    Scene: "fa fa-gear",
    DepthTestYes: "fa fa-eye-slash",
    DepthTestNo: "fa fa-eye",
    SkyBoxYes: "fa fa-moon-o",
    SkyBoxNo: "fa fa-moon-o",
    ShadowYes: "fa fa-sun-o",
    ShadowNo: "fa fa-sun-o",
    SkyAtmosphereYes: "fa fa-soundcloud",
    SkyAtmosphereNo: "fa fa-soundcloud",
    ExpImage: "fa fa-download"
  };
  const EditPointType = {
    Control: 1,
    MoveAll: 2,
    AddMidPoint: 3,
    MoveHeight: 4,
    EditAttr: 5,
    EditRotation: 6
  };
  const QueryServiceType = {
    TDT: "tdt",
    GAODE: "gaode",
    BAIDU: "baidu"
  };
  const QueryRouteType = {
    Walking: "Walking",
    Bicycling: "Bicycling",
    Driving: "Driving"
  };
  function create$4(_0xc297d7, _0x230bc2, _0x5bfe7a) {
    const _0x387e97 = document.createElement(_0xc297d7);
    _0x387e97.className = _0x230bc2 || "";
    if (_0x5bfe7a) {
      _0x5bfe7a.appendChild(_0x387e97);
    }
    return _0x387e97;
  }
  function createSvg(_0xfcec43, _0x513644, _0x5abdf2, _0x1471a8) {
    const _0x5bbe5f = document.createElementNS("http://www.w3.org/2000/svg", "svg:svg");
    _0x5bbe5f.setAttribute("class", "svg-path");
    _0x5bbe5f.setAttribute("width", _0xfcec43);
    _0x5bbe5f.setAttribute("height", _0x513644);
    _0x5bbe5f.setAttribute("viewBox", "0 0 " + _0xfcec43 + " " + _0x513644);
    const _0x2c54e0 = document.createElementNS("http://www.w3.org/2000/svg", "path");
    _0x2c54e0.setAttribute("d", _0x5abdf2);
    _0x5bbe5f.appendChild(_0x2c54e0);
    if (_0x1471a8) {
      _0x1471a8.appendChild(_0x5bbe5f);
    }
    return _0x5bbe5f;
  }
  function createVideo(_0x4a96aa, _0x3a33d1, _0x289e1f, _0x187da1) {
    const _0x4d0705 = create$4("video", _0x289e1f, _0x187da1);
    _0x4d0705.setAttribute("autoplay", true);
    _0x4d0705.setAttribute("loop", true);
    _0x4d0705.setAttribute("crossorigin", true);
    if (!_0x3a33d1) {
      _0x3a33d1 = _0x4a96aa.substring(_0x4a96aa.lastIndexOf(".") + 1, _0x4a96aa.length);
    }
    const _0x3c403d = create$4("source", "", _0x4d0705);
    _0x3c403d.setAttribute("src", _0x4a96aa);
    _0x3c403d.setAttribute("type", "video/" + _0x3a33d1);
    return _0x4d0705;
  }
  function get(_0x100551) {
    if (typeof _0x100551 === "string") {
      return document.getElementById(_0x100551);
    } else {
      return _0x100551;
    }
  }
  function parseDom(_0x1f177f, _0x5d7fee, _0x31ad0d) {
    const _0x372b59 = document.createElement("div");
    if (_0x31ad0d) {
      _0x372b59.className = _0x31ad0d;
    }
    _0x372b59.innerHTML = _0x1f177f;
    if (_0x5d7fee) {
      return _0x372b59;
    } else {
      return _0x372b59.childNodes;
    }
  }
  function remove(_0x58ad23) {
    _0x58ad23 = get(_0x58ad23);
    if (!_0x58ad23) {
      return;
    }
    const _0x1f91e4 = _0x58ad23.parentNode;
    if (_0x1f91e4) {
      _0x1f91e4.removeChild(_0x58ad23);
    }
  }
  function empty(_0x29b585) {
    while (_0x29b585.firstChild) {
      _0x29b585.removeChild(_0x29b585.firstChild);
    }
  }
  function getStyle(_0x40fa26, _0x1621bb) {
    let _0x5c601b = _0x40fa26.style[_0x1621bb] || _0x40fa26.currentStyle && _0x40fa26.currentStyle[_0x1621bb];
    if ((!_0x5c601b || _0x5c601b === "auto") && document.defaultView) {
      const _0x538930 = document.defaultView.getComputedStyle(_0x40fa26, null);
      _0x5c601b = _0x538930 ? _0x538930[_0x1621bb] : null;
    }
    if (_0x5c601b === "auto") {
      return null;
    } else {
      return _0x5c601b;
    }
  }
  function hasClass(_0x1ca413, _0xa623c8) {
    if (!_0x1ca413) {
      return false;
    }
    if (_0x1ca413.classList !== undefined) {
      return _0x1ca413.classList.contains(_0xa623c8);
    }
    const _0x271386 = getClass$4(_0x1ca413);
    return _0x271386.length > 0 && new RegExp("(^|\\s)" + _0xa623c8 + "(\\s|$)").test(_0x271386);
  }
  function addClass(_0x3989aa, _0x3ba827) {
    if (!_0x3989aa) {
      return;
    }
    if (_0x3989aa.classList !== undefined) {
      const _0x42e5c5 = splitWords(_0x3ba827);
      for (let _0x69aa98 = 0, _0x21c8e8 = _0x42e5c5.length; _0x69aa98 < _0x21c8e8; _0x69aa98++) {
        _0x3989aa.classList.add(_0x42e5c5[_0x69aa98]);
      }
    } else if (!hasClass(_0x3989aa, _0x3ba827)) {
      const _0x56297f = getClass$4(_0x3989aa);
      setClass(_0x3989aa, (_0x56297f ? _0x56297f + " " : "") + _0x3ba827);
    }
  }
  function removeClass(_0x37926a, _0x5c7eae) {
    if (!_0x37926a) {
      return;
    }
    if (_0x37926a.classList !== undefined) {
      _0x37926a.classList.remove(_0x5c7eae);
    } else {
      setClass(_0x37926a, trim((" " + getClass$4(_0x37926a) + " ").replace(" " + _0x5c7eae + " ", " ")));
    }
  }
  function setClass(_0xea5aee, _0x3e9cd0) {
    if (!_0xea5aee.className || !_0xea5aee.className.baseVal) {
      _0xea5aee.className = _0x3e9cd0;
    } else {
      _0xea5aee.className.baseVal = _0x3e9cd0;
    }
  }
  function getClass$4(_0x39eb55) {
    var _0x1e31ca;
    if (_0x39eb55.correspondingElement) {
      _0x39eb55 = _0x39eb55.correspondingElement;
    }
    if ((_0x1e31ca = _0x39eb55.className) !== null && _0x1e31ca !== undefined && _0x1e31ca.baseVal) {
      return _0x39eb55.className.baseVal;
    } else {
      return _0x39eb55.className;
    }
  }
  function copyCanvas(_0x448821) {
    const _0x48fe0e = _0x448821.getContext("2d", {
      willReadFrequently: true
    }).getImageData(0, 0, _0x448821.width, _0x448821.height);
    const _0x59b37b = document.createElement("canvas");
    _0x59b37b.width = _0x448821.width;
    _0x59b37b.height = _0x448821.height;
    const _0x3ad815 = _0x59b37b.getContext("2d", {
      willReadFrequently: true
    });
    _0x3ad815.clearRect(0, 0, _0x59b37b.width, _0x59b37b.height);
    _0x3ad815.putImageData(_0x48fe0e, 0, 0);
    return _0x59b37b;
  }
  const _0x5d7460 = {
    __proto__: null,
    create: create$4,
    createSvg: createSvg,
    createVideo: createVideo,
    get: get,
    parseDom: parseDom,
    remove: remove,
    empty: empty,
    getStyle: getStyle,
    hasClass: hasClass,
    addClass: addClass,
    removeClass: removeClass,
    setClass: setClass,
    getClass: getClass$4,
    copyCanvas: copyCanvas
  };
  var DomUtil = _0x5d7460;
  function getDistance(_0x4badbf, _0xce26fe) {
    const _0x16f389 = _0x4badbf.length;
    if (!Cesium__namespace.defined(_0x4badbf) || _0x16f389 < 2) {
      return 0;
    }
    _0x4badbf = LngLatArray.toCartesians(_0x4badbf);
    let _0x153090 = 0;
    for (let _0x43afc5 = 1; _0x43afc5 < _0x16f389; _0x43afc5++) {
      _0x153090 += Cesium__namespace.Cartesian3.distance(_0x4badbf[_0x43afc5 - 1], _0x4badbf[_0x43afc5]);
    }
    if (_0xce26fe) {
      _0x153090 += Cesium__namespace.Cartesian3.distance(_0x4badbf[0], _0x4badbf[_0x16f389 - 1]);
    }
    return _0x153090;
  }
  function getSurfaceDistance(_0x592393) {
    if (!Cesium__namespace.defined(_0x592393) || _0x592393.length < 2) {
      return 0;
    }
    _0x592393 = LngLatArray.toCartesians(_0x592393);
    let _0xcf200b = 0;
    for (let _0x40c274 = 1, _0x17c1c5 = _0x592393.length; _0x40c274 < _0x17c1c5; _0x40c274++) {
      const _0x20e8b9 = Cesium__namespace.Cartographic.fromCartesian(_0x592393[_0x40c274 - 1]);
      const _0x512df6 = Cesium__namespace.Cartographic.fromCartesian(_0x592393[_0x40c274]);
      const _0x4adc2e = new Cesium__namespace.EllipsoidGeodesic();
      _0x4adc2e.setEndPoints(_0x20e8b9, _0x512df6);
      let _0x584491 = _0x4adc2e.surfaceDistance;
      _0x584491 = Math.sqrt(Math.pow(_0x584491, 2) + Math.pow(_0x512df6.height - _0x20e8b9.height, 2));
      _0xcf200b += _0x584491;
    }
    return _0xcf200b;
  }
  function getMinDistancePoint(_0x33c975, _0x29f91f) {
    _0x33c975 = LngLatPoint.toCartesian(_0x29f91f);
    _0x29f91f = LngLatArray.toCartesians(_0x29f91f);
    let _0x14c82a = Number.MAX_VALUE;
    let _0x3d9534 = 0;
    for (let _0x56f29d = 0, _0x4b2781 = _0x29f91f.length; _0x56f29d < _0x4b2781; _0x56f29d++) {
      const _0x463e14 = Cesium__namespace.Cartesian3.distance(_0x33c975, _0x29f91f[_0x56f29d]);
      if (_0x14c82a > _0x463e14) {
        _0x14c82a = _0x463e14;
        _0x3d9534 = _0x56f29d;
      }
    }
    return _0x29f91f[_0x3d9534];
  }
  function getClampDistance(_0x280c86, _0x563046) {
    let _0x2c70d2 = 0;
    const _0x58c024 = [];
    return new Promise((_0xf73cbd, _0x30a7fe) => {
      setTimeout(() => {
        computeStepSurfaceLine({
          scene: _0x563046.scene,
          positions: _0x280c86,
          splitNum: _0x563046.splitNum,
          minDistance: _0x563046.minDistance,
          has3dtiles: _0x563046.has3dtiles,
          hasTerrain: _0x563046.hasTerrain,
          exact: _0x563046.exact ?? true,
          depth: _0x563046.depth,
          endItem: function (_0x3a9b96, _0x445bd3, _0x2a9798) {
            let _0x2a14bf = getSurfaceDistance(_0x3a9b96);
            if (_0x445bd3 && _0x563046.disTerrainScale) {
              _0x2a14bf = _0x2a14bf * _0x563046.disTerrainScale;
            }
            _0x2c70d2 += _0x2a14bf;
            _0x58c024.push(_0x2a14bf);
            if (_0x563046.endItem) {
              const _0x3f4783 = {
                index: _0x2a9798,
                positions: _0x3a9b96,
                distance: _0x2a14bf,
                arrDistance: _0x58c024,
                all_distance: _0x2c70d2
              };
              _0x563046.endItem(_0x3f4783);
            }
          },
          end: function (_0xffb4c6) {
            if (_0x563046.callback) {
              _0x563046.callback(_0x2c70d2);
            }
            if (_0x563046.end) {
              _0x563046.end(_0x2c70d2);
            }
            const _0x4768db = {
              distance: _0x2c70d2,
              arrDistance: _0x58c024,
              arrPositions: _0xffb4c6
            };
            _0xf73cbd(_0x4768db);
          }
        });
      }, 50);
    });
  }
  function getArea(_0xed47db) {
    if (!_0xed47db || !Array.isArray(_0xed47db) || _0xed47db.length < 3) {
      return 0;
    }
    _0xed47db = LngLatArray.toCartesians(_0xed47db);
    const _0x283169 = Cesium__namespace.CoplanarPolygonGeometry.createGeometry(Cesium__namespace.CoplanarPolygonGeometry.fromPositions({
      positions: _0xed47db,
      vertexFormat: Cesium__namespace.VertexFormat.POSITION_ONLY
    }));
    let _0x2f4fad = 0;
    if (!_0x283169) {
      return _0x2f4fad;
    }
    const _0x23298f = _0x283169.attributes.position.values;
    const _0x3cc57a = _0x283169.indices;
    for (let _0x340e66 = 0; _0x340e66 < _0x3cc57a.length; _0x340e66 += 3) {
      const _0x1a253 = Cesium__namespace.Cartesian3.unpack(_0x23298f, _0x3cc57a[_0x340e66] * 3, new Cesium__namespace.Cartesian3());
      const _0x2b4645 = Cesium__namespace.Cartesian3.unpack(_0x23298f, _0x3cc57a[_0x340e66 + 1] * 3, new Cesium__namespace.Cartesian3());
      const _0x576318 = Cesium__namespace.Cartesian3.unpack(_0x23298f, _0x3cc57a[_0x340e66 + 2] * 3, new Cesium__namespace.Cartesian3());
      _0x2f4fad += getTriangleArea(_0x1a253, _0x2b4645, _0x576318);
    }
    return _0x2f4fad;
  }
  function getTriangleArea(_0x1bf66f, _0x213c93, _0x16ac2f) {
    const _0x47c5a4 = Cesium__namespace.Cartesian3.subtract(_0x1bf66f, _0x213c93, new Cesium__namespace.Cartesian3());
    const _0x236b82 = Cesium__namespace.Cartesian3.subtract(_0x16ac2f, _0x213c93, new Cesium__namespace.Cartesian3());
    const _0x338009 = Cesium__namespace.Cartesian3.cross(_0x47c5a4, _0x236b82, _0x47c5a4);
    return Cesium__namespace.Cartesian3.magnitude(_0x338009) * 0.5;
  }
  function getClampArea(_0x97624c, _0x3ed028) {
    if (_0x3ed028.depth) {
      const _0x190303 = {
        positions: _0x97624c,
        ..._0x3ed028
      };
      return interPolygonByDepth(_0x190303).then(_0x239065 => {
        _0x239065.area = _0x239065.totalArea;
        return _0x239065;
      });
    } else {
      const _0x27f244 = {
        positions: _0x97624c,
        exact: true,
        ..._0x3ed028
      };
      return interPolygon(_0x27f244).then(_0x2ea82b => {
        let _0x5e7d29 = 0;
        for (let _0x2aa77c = 0, _0x4b75f5 = _0x2ea82b.list.length; _0x2aa77c < _0x4b75f5; _0x2aa77c++) {
          const _0x203a86 = _0x2ea82b.list[_0x2aa77c];
          const _0x3c1c12 = _0x203a86.point1;
          const _0x3e3d17 = _0x203a86.point2;
          const _0x46f36e = _0x203a86.point3;
          _0x5e7d29 += getTriangleArea(_0x3c1c12.pointDM, _0x3e3d17.pointDM, _0x46f36e.pointDM);
        }
        _0x2ea82b.area = _0x5e7d29;
        if (_0x3ed028.callback) {
          _0x3ed028.callback(_0x5e7d29, _0x2ea82b);
        }
        return _0x2ea82b;
      });
    }
  }
  function getSurfaceArea(_0xf2ecb6) {
    if (!_0xf2ecb6 || !Array.isArray(_0xf2ecb6) || _0xf2ecb6.length < 3) {
      return 0;
    }
    const _0x59924b = LngLatArray.toArray(_0xf2ecb6);
    if (_0x59924b.length > 0) {
      _0x59924b.push(_0x59924b[0]);
    }
    const _0x23bd0b = {
      type: "Polygon",
      coordinates: [_0x59924b]
    };
    const _0x588190 = {
      type: "Feature",
      geometry: _0x23bd0b
    };
    const _0x3e7b47 = area(_0x588190);
    return _0x3e7b47;
  }
  function getAngle(_0x1821bd, _0xc5e881, _0x4e4d2b) {
    let _0x1a6a87 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0xc5e881);
    _0x1a6a87 = Cesium__namespace.Matrix4.getMatrix3(_0x1a6a87, new Cesium__namespace.Matrix3());
    const _0x1cbc0e = Cesium__namespace.Matrix3.getColumn(_0x1a6a87, 0, new Cesium__namespace.Cartesian3());
    const _0x162a4f = Cesium__namespace.Matrix3.getColumn(_0x1a6a87, 1, new Cesium__namespace.Cartesian3());
    const _0x25f67c = Cesium__namespace.Matrix3.getColumn(_0x1a6a87, 2, new Cesium__namespace.Cartesian3());
    let _0x3ef2d0 = Cesium__namespace.Cartesian3.subtract(_0x1821bd, _0xc5e881, new Cesium__namespace.Cartesian3());
    if (isNaN(_0x3ef2d0.x) || isNaN(_0x3ef2d0.y) || isNaN(_0x3ef2d0.z) || _0x3ef2d0.equals(Cesium__namespace.Cartesian3.ZERO)) {
      return 0;
    }
    _0x3ef2d0 = Cesium__namespace.Cartesian3.cross(_0x3ef2d0, _0x25f67c, _0x3ef2d0);
    _0x3ef2d0 = Cesium__namespace.Cartesian3.cross(_0x25f67c, _0x3ef2d0, _0x3ef2d0);
    _0x3ef2d0 = Cesium__namespace.Cartesian3.normalize(_0x3ef2d0, _0x3ef2d0);
    let _0x579f34 = Cesium__namespace.Cartesian3.angleBetween(_0x1cbc0e, _0x3ef2d0);
    const _0x26343d = Cesium__namespace.Cartesian3.angleBetween(_0x162a4f, _0x3ef2d0);
    if (_0x26343d > Math.PI * 0.5) {
      _0x579f34 = Math.PI * 2 - _0x579f34;
    }
    let _0x203f93 = 360 - Cesium__namespace.Math.toDegrees(_0x579f34) - 180;
    if (_0x4e4d2b) {
      _0x203f93 += 90;
    }
    if (_0x203f93 < 0) {
      _0x203f93 = _0x203f93 + 360;
    } else if (_0x203f93 > 360) {
      _0x203f93 = _0x203f93 - 360;
    }
    return _0x203f93;
  }
  function formatDistance(_0x38ef00, _0x103c58 = {}) {
    if (_0x38ef00 == null) {
      return "";
    }
    _0x38ef00 = Number(_0x38ef00);
    if (isNaN(_0x38ef00) || _0x38ef00 === 0) {
      return "";
    }
    if (_0x103c58.unit == null || _0x103c58.unit === "auto") {
      if (_0x38ef00 < 1000) {
        _0x103c58.unit = "m";
      } else {
        _0x103c58.unit = "km";
      }
    }
    _0x103c58.decimal = _0x103c58.decimal ?? 2;
    const _0x9a9a8f = _0x103c58.getLangText || getLangText;
    let _0xf3bee1 = "";
    switch (_0x103c58.unit) {
      case "km":
        _0xf3bee1 = (_0x38ef00 * 0.001).toFixed(_0x103c58.decimal) + _0x9a9a8f("_公里");
        break;
      case "wm":
        _0xf3bee1 = (_0x38ef00 * 0.0001).toFixed(_0x103c58.decimal) + _0x9a9a8f("_万米");
        break;
      case "mile":
        _0xf3bee1 = (_0x38ef00 * 0.00054).toFixed(_0x103c58.decimal) + _0x9a9a8f("_海里");
        break;
      case "zhang":
        _0xf3bee1 = (_0x38ef00 * 0.3).toFixed(_0x103c58.decimal) + _0x9a9a8f("_丈");
        break;
      case "m":
      default:
        _0xf3bee1 = _0x38ef00.toFixed(_0x103c58.decimal) + _0x9a9a8f("_米");
        break;
    }
    return _0xf3bee1;
  }
  function formatArea(_0x1b4e66, _0x21ac93 = {}) {
    if (_0x1b4e66 == null) {
      return "";
    }
    _0x1b4e66 = Number(_0x1b4e66);
    if (isNaN(_0x1b4e66) || _0x1b4e66 === 0) {
      return "";
    }
    if (_0x21ac93.unit == null || _0x21ac93.unit === "auto") {
      if (_0x1b4e66 < 1000000) {
        _0x21ac93.unit = "m";
      } else {
        _0x21ac93.unit = "km";
      }
    }
    _0x21ac93.decimal = _0x21ac93.decimal ?? 2;
    const _0x393ca3 = _0x21ac93.getLangText || getLangText;
    let _0x2d7758 = "";
    switch (_0x21ac93.unit) {
      case "km":
        _0x2d7758 = (_0x1b4e66 / 1000000).toFixed(_0x21ac93.decimal) + _0x393ca3("_平方公里");
        break;
      case "mu":
        _0x2d7758 = (_0x1b4e66 * 0.0015).toFixed(_0x21ac93.decimal) + _0x393ca3("_亩");
        break;
      case "ha":
        _0x2d7758 = (_0x1b4e66 * 0.0001).toFixed(_0x21ac93.decimal) + _0x393ca3("_公顷");
        break;
      case "m":
      default:
        _0x2d7758 = _0x1b4e66.toFixed(_0x21ac93.decimal) + _0x393ca3("_平方米");
        break;
    }
    return _0x2d7758;
  }
  function formatVolume(_0xbb80da, _0x459306 = {}) {
    if (_0xbb80da == null) {
      return "";
    }
    _0xbb80da = Number(_0xbb80da);
    if (isNaN(_0xbb80da) || _0xbb80da === 0) {
      return "";
    }
    _0x459306.decimal = _0x459306.decimal ?? 2;
    const _0x41deb2 = _0x459306.getLangText || getLangText;
    if (_0xbb80da < 10000) {
      return _0xbb80da.toFixed(_0x459306.decimal) + _0x41deb2("_立方米");
    } else {
      return (_0xbb80da / 10000).toFixed(_0x459306.decimal) + _0x41deb2("_万立方米");
    }
  }
  const _0x1d302e = {
    __proto__: null,
    getDistance: getDistance,
    getSurfaceDistance: getSurfaceDistance,
    getMinDistancePoint: getMinDistancePoint,
    getClampDistance: getClampDistance,
    getArea: getArea,
    getTriangleArea: getTriangleArea,
    getClampArea: getClampArea,
    getSurfaceArea: getSurfaceArea,
    getAngle: getAngle,
    formatDistance: formatDistance,
    formatArea: formatArea,
    formatVolume: formatVolume
  };
  var MeasureUtil = _0x1d302e;
  const EditPointStyle = {
    [EditPointType.Control]: {
      color: "rgba(28,25,125,0.99)",
      pixelSize: 12,
      outline: true,
      outlineColor: "rgba(255,255,255,0.5)",
      outlineWidth: 2,
      scaleByDistance: new Cesium__namespace.NearFarScalar(1000, 1, 1000000, 0.5),
      disableDepthTestDistance: Number.POSITIVE_INFINITY
    },
    [EditPointType.MoveAll]: {
      color: "rgba(140,0,58,0.99)",
      pixelSize: 12,
      outline: true,
      outlineColor: "rgba(255,255,255,0.5)",
      outlineWidth: 2,
      scaleByDistance: new Cesium__namespace.NearFarScalar(1000, 1, 1000000, 0.5),
      disableDepthTestDistance: Number.POSITIVE_INFINITY
    },
    [EditPointType.AddMidPoint]: {
      color: "rgba(4,194,201,0.3)",
      pixelSize: 12,
      outline: true,
      outlineColor: "rgba(255,255,255,0.4)",
      outlineWidth: 2,
      scaleByDistance: new Cesium__namespace.NearFarScalar(1000, 1, 1000000, 0.5),
      disableDepthTestDistance: Number.POSITIVE_INFINITY
    },
    [EditPointType.MoveHeight]: {
      color: "rgba(149,0,235,0.99)",
      pixelSize: 12,
      outline: true,
      outlineColor: "rgba(255,255,255,0.5)",
      outlineWidth: 2,
      scaleByDistance: new Cesium__namespace.NearFarScalar(1000, 1, 1000000, 0.5),
      disableDepthTestDistance: Number.POSITIVE_INFINITY
    },
    [EditPointType.EditAttr]: {
      color: "rgba(245,49,232,0.99)",
      pixelSize: 12,
      outline: true,
      outlineColor: "rgba(255,255,255,0.5)",
      outlineWidth: 2,
      scaleByDistance: new Cesium__namespace.NearFarScalar(1000, 1, 1000000, 0.5),
      disableDepthTestDistance: Number.POSITIVE_INFINITY
    },
    [EditPointType.EditRotation]: {
      pixelSize: 12,
      outline: true,
      outlineColor: "rgba(255,255,255,0.5)",
      outlineWidth: 2,
      scaleByDistance: new Cesium__namespace.NearFarScalar(1000, 1, 1000000, 0.5),
      disableDepthTestDistance: Number.POSITIVE_INFINITY
    }
  };
  function setEditPointStyle(_0x4540f9, _0xb29688) {
    _0x4540f9 = _0x4540f9 || EditPointType.Control;
    const _0x11f6c9 = EditPointStyle[_0x4540f9];
    if (!_0x11f6c9) {
      logWarn("setEditPointStyle:没有该类型", _0x4540f9);
      return;
    }
    if (_0x11f6c9.type !== _0xb29688.type) {
      EditPointStyle[_0x4540f9] = _0xb29688;
    } else {
      EditPointStyle[_0x4540f9] = merge(_0x11f6c9, _0xb29688);
    }
  }
  function setAllEditPointStyle(_0x49b1c3) {
    for (const _0xdc997e in EditPointStyle) {
      EditPointStyle[_0xdc997e] = merge(EditPointStyle[_0xdc997e], _0x49b1c3);
    }
  }
  function getEditPointStyle(_0x3ef732, _0x537b22) {
    _0x3ef732 = _0x3ef732 || EditPointType.Control;
    const _0x14e432 = EditPointStyle[_0x3ef732] || {};
    const _0x2bdcdb = {
      ..._0x14e432,
      ..._0x537b22
    };
    return _0x2bdcdb;
  }
  const _0x3c159c = {
    __proto__: null,
    setEditPointStyle: setEditPointStyle,
    setAllEditPointStyle: setAllEditPointStyle,
    getEditPointStyle: getEditPointStyle
  };
  var DrawUtil = _0x3c159c;
  const TerrainType = {
    NONE: "none",
    XYZ: "xyz",
    ARCGIS: "arcgis",
    ION: "ion",
    GEE: "gee",
    VR: "vr"
  };
  class GCJMercatorTilingScheme extends Cesium__namespace.WebMercatorTilingScheme {
    constructor(_0x4e05df) {
      super(_0x4e05df);
      const _0x287675 = _0x4e05df.mapChinaCRS;
      const _0x42677a = _0x4e05df.chinaCRS;
      const _0x53eb31 = getTransFun(_0x287675, _0x42677a);
      const _0x4ec679 = getTransFun(_0x42677a, _0x287675);
      if (_0x53eb31) {
        const _0x11bde5 = new Cesium__namespace.WebMercatorProjection();
        this._projection.project = function (_0x7d00c0, _0x1f413d) {
          _0x1f413d = _0x53eb31([Cesium__namespace.Math.toDegrees(_0x7d00c0.longitude), Cesium__namespace.Math.toDegrees(_0x7d00c0.latitude)]);
          _0x1f413d = _0x11bde5.project(new Cesium__namespace.Cartographic(Cesium__namespace.Math.toRadians(_0x1f413d[0]), Cesium__namespace.Math.toRadians(_0x1f413d[1])));
          return new Cesium__namespace.Cartesian2(_0x1f413d.x, _0x1f413d.y);
        };
        this._projection.unproject = function (_0x2802ec, _0x40dc1a) {
          const _0x4c151c = _0x11bde5.unproject(_0x2802ec);
          _0x40dc1a = _0x4ec679([Cesium__namespace.Math.toDegrees(_0x4c151c.longitude), Cesium__namespace.Math.toDegrees(_0x4c151c.latitude)]);
          return new Cesium__namespace.Cartographic(Cesium__namespace.Math.toRadians(_0x40dc1a[0]), Cesium__namespace.Math.toRadians(_0x40dc1a[1]));
        };
      }
    }
  }
  class CustomMercatorTilingScheme extends Cesium__namespace.WebMercatorTilingScheme {
    constructor(_0x109f64 = {}) {
      super(_0x109f64);
      this._origin = _0x109f64.origin || [-20037508.3427892, 20037508.3427892];
      this._resolutions = _0x109f64.resolutions || [];
      this._zOffset = _0x109f64.zOffset || 0;
      this._tileSize = _0x109f64.tileWidth || _0x109f64.tileHeight || 256;
    }
    get zOffset() {
      return this._zOffset;
    }
    tileXYToNativeRectangle(_0x488015, _0x2575eb, _0x468ae8, _0x17e650) {
      if (!this._resolutions || !this._resolutions[_0x468ae8 + this._zOffset]) {
        return Cesium__namespace.Rectangle.MAX_VALUE;
      }
      if (_0x488015 < 0 || _0x2575eb < 0) {
        return Cesium__namespace.Rectangle.MAX_VALUE;
      }
      const _0x1f9bd4 = this._resolutions[_0x468ae8 + this._zOffset] * this._tileSize;
      const _0x46de76 = this._origin[0] + _0x488015 * _0x1f9bd4;
      const _0x37d813 = this._origin[1] - (_0x2575eb + 1) * _0x1f9bd4;
      const _0x44c364 = this._origin[0] + (_0x488015 + 1) * _0x1f9bd4;
      const _0x28722c = this._origin[1] - _0x2575eb * _0x1f9bd4;
      if (!Cesium__namespace.defined(_0x17e650)) {
        return new Cesium__namespace.Rectangle(_0x46de76, _0x37d813, _0x44c364, _0x28722c);
      }
      _0x17e650.west = _0x46de76;
      _0x17e650.south = _0x37d813;
      _0x17e650.east = _0x44c364;
      _0x17e650.north = _0x28722c;
      return _0x17e650;
    }
    positionToTileXY(_0x33aa25, _0x299a39, _0x1d09a8) {
      const _0x6427b3 = this._rectangle;
      if (!Cesium__namespace.Rectangle.contains(_0x6427b3, _0x33aa25)) {
        return undefined;
      }
      if (!this._resolutions || !this._resolutions[_0x299a39 + this._zOffset]) {
        return new Cesium__namespace.Cartesian2();
      }
      const _0x2a3d1f = this._resolutions[_0x299a39 + this._zOffset] * this._tileSize;
      const _0x3bb477 = this._projection;
      const _0x493421 = _0x3bb477.project(_0x33aa25);
      const _0x597d39 = Math.floor((_0x493421.x - this._origin[0]) / _0x2a3d1f);
      const _0x47cf24 = Math.floor((this._origin[1] - _0x493421.y) / _0x2a3d1f);
      if (!Cesium__namespace.defined(_0x1d09a8)) {
        return new Cesium__namespace.Cartesian2(Math.max(0, _0x597d39), Math.max(0, _0x47cf24));
      }
      _0x1d09a8.x = _0x597d39;
      _0x1d09a8.y = _0x47cf24;
      return _0x1d09a8;
    }
  }
  class CustomGeographicTilingScheme extends Cesium__namespace.GeographicTilingScheme {
    constructor(_0x49b575 = {}) {
      super(_0x49b575);
      this._origin = _0x49b575.origin || [-180, 90];
      this._resolutions = _0x49b575.resolutions || [];
      this._zOffset = _0x49b575.zOffset || 0;
      this._tileSize = _0x49b575.tileWidth || _0x49b575.tileHeight || 256;
    }
    get zOffset() {
      return this._zOffset;
    }
    tileXYToRectangle(_0x5c3ca5, _0x48bc98, _0x4b4313, _0x16119e) {
      if (!this._resolutions || !this._resolutions[_0x4b4313 + this._zOffset]) {
        return Cesium__namespace.Rectangle.MAX_VALUE;
      }
      const _0x3b3de5 = this._resolutions[_0x4b4313 + this._zOffset] * this._tileSize;
      const _0x48bce4 = Cesium__namespace.Math.toRadians(this._origin[0] + _0x5c3ca5 * _0x3b3de5);
      const _0xdf1eb1 = Cesium__namespace.Math.toRadians(this._origin[1] - (_0x48bc98 + 1) * _0x3b3de5);
      const _0x1e0387 = Cesium__namespace.Math.toRadians(this._origin[0] + (_0x5c3ca5 + 1) * _0x3b3de5);
      const _0x102587 = Cesium__namespace.Math.toRadians(this._origin[1] - _0x48bc98 * _0x3b3de5);
      if (!Cesium__namespace.defined(_0x16119e)) {
        return new Cesium__namespace.Rectangle(_0x48bce4, _0xdf1eb1, _0x1e0387, _0x102587);
      }
      _0x16119e.west = _0x48bce4;
      _0x16119e.south = _0xdf1eb1;
      _0x16119e.east = _0x1e0387;
      _0x16119e.north = _0x102587;
      return _0x16119e;
    }
    positionToTileXY(_0x4cd8fa, _0x26561b, _0x20d97e) {
      if (!this._resolutions || !this._resolutions[_0x26561b + this._zOffset]) {
        return new Cesium__namespace.Cartesian2();
      }
      const _0x431005 = this._resolutions[_0x26561b + this._zOffset] * this._tileSize;
      const _0x1b5c89 = Cesium__namespace.Math.toDegrees(_0x4cd8fa.longitude);
      const _0x918115 = Cesium__namespace.Math.toDegrees(_0x4cd8fa.latitude);
      const _0x53ddda = Math.floor((_0x1b5c89 - this._origin[0]) / _0x431005);
      const _0x31d38d = Math.floor((this._origin[1] - _0x918115) / _0x431005);
      if (!Cesium__namespace.defined(_0x20d97e)) {
        return new Cesium__namespace.Cartesian2(Math.max(0, _0x53ddda), Math.max(0, _0x31d38d));
      }
      _0x20d97e.x = _0x53ddda;
      _0x20d97e.y = _0x31d38d;
      return _0x20d97e;
    }
  }
  const LayerClass = {};
  function register$3(_0x485c8c, _0x10f94d) {
    if (LayerClass[_0x485c8c]) {
      logError("register: " + _0x485c8c + "类型已存在", _0x10f94d);
    }
    LayerType[_0x485c8c] = _0x485c8c;
    LayerClass[_0x485c8c] = _0x10f94d;
    _0x10f94d.type = _0x485c8c;
    _0x10f94d.prototype._type = _0x485c8c;
  }
  function getClass$3(_0x2bd392) {
    return LayerClass[_0x2bd392];
  }
  function create$3(_0x599ac9) {
    const _0x1ef90e = getClass$3(_0x599ac9.type);
    if (_0x1ef90e) {
      const _0xa85f79 = new _0x1ef90e(_0x599ac9);
      return _0xa85f79;
    } else {
      logWarn("配置中的图层未处理", _0x599ac9);
    }
  }
  function converOptions(_0x643cc3) {
    const _0x52c19e = {};
    for (const _0x509572 in _0x643cc3) {
      let _0x49613b = _0x643cc3[_0x509572];
      if (_0x49613b == null) {
        continue;
      }
      switch (_0x509572) {
        case "crs":
          {
            _0x49613b = (_0x49613b + "").toUpperCase();
            let _0x44f354 = true;
            if (_0x49613b === CRS.EPSG4326 || _0x49613b === "4326" || _0x49613b === "EPSG4326") {
              _0x52c19e.crs = CRS.EPSG4326;
              _0x44f354 = false;
            } else if (_0x49613b === CRS.EPSG4490 || _0x49613b === "4490" || _0x49613b === "EPSG4490") {
              _0x52c19e.crs = CRS.EPSG4490;
              _0x44f354 = false;
            } else {
              _0x52c19e.crs = CRS.EPSG3857;
            }
            const _0x401959 = Cesium__namespace.defined(_0x643cc3.origin) || Cesium__namespace.defined(_0x643cc3.resolutions) || Cesium__namespace.defined(_0x643cc3.zOffset);
            if (_0x44f354) {
              if (_0x401959) {
                const _0x101a08 = {
                  ..._0x643cc3
                };
                _0x101a08.numberOfLevelZeroTilesX = _0x643cc3.numberOfLevelZeroTilesX || 1;
                _0x101a08.numberOfLevelZeroTilesY = _0x643cc3.numberOfLevelZeroTilesY || 1;
                _0x52c19e.tilingScheme = new CustomMercatorTilingScheme(_0x101a08);
              } else {
                const _0x215f64 = {
                  numberOfLevelZeroTilesX: _0x643cc3.numberOfLevelZeroTilesX || 1,
                  numberOfLevelZeroTilesY: _0x643cc3.numberOfLevelZeroTilesY || 1
                };
                _0x52c19e.tilingScheme = new Cesium__namespace.WebMercatorTilingScheme(_0x215f64);
              }
            } else if (_0x401959) {
              const _0x1a457a = {
                ..._0x643cc3
              };
              _0x1a457a.numberOfLevelZeroTilesX = _0x643cc3.numberOfLevelZeroTilesX || 1;
              _0x1a457a.numberOfLevelZeroTilesY = _0x643cc3.numberOfLevelZeroTilesY || 1;
              _0x52c19e.tilingScheme = new CustomGeographicTilingScheme(_0x1a457a);
            } else {
              const _0x433dd8 = {
                numberOfLevelZeroTilesX: _0x643cc3.numberOfLevelZeroTilesX || 2,
                numberOfLevelZeroTilesY: _0x643cc3.numberOfLevelZeroTilesY || 1
              };
              _0x52c19e.tilingScheme = new Cesium__namespace.GeographicTilingScheme(_0x433dd8);
            }
            break;
          }
        case "chinaCRS":
          {
            if (_0x643cc3.mapChinaCRS !== _0x643cc3.chinaCRS) {
              _0x52c19e.chinaCRS = _0x643cc3.chinaCRS;
              const _0x30cfcc = {
                mapChinaCRS: _0x643cc3.mapChinaCRS || ChinaCRS.WGS84,
                chinaCRS: _0x643cc3.chinaCRS,
                numberOfLevelZeroTilesX: _0x643cc3.numberOfLevelZeroTilesX || 1,
                numberOfLevelZeroTilesY: _0x643cc3.numberOfLevelZeroTilesY || 1
              };
              _0x52c19e.tilingScheme = new GCJMercatorTilingScheme(_0x30cfcc);
            }
            break;
          }
        case "rectangle":
          if (Cesium__namespace.defined(_0x49613b) && Cesium__namespace.defined(_0x49613b.xmin) && Cesium__namespace.defined(_0x49613b.xmax) && Cesium__namespace.defined(_0x49613b.ymin) && Cesium__namespace.defined(_0x49613b.ymax)) {
            _0x52c19e.rectangle = Cesium__namespace.Rectangle.fromDegrees(_0x49613b.xmin, _0x49613b.ymin, _0x49613b.xmax, _0x49613b.ymax);
          } else if (_0x49613b instanceof Cesium__namespace.Rectangle) {
            _0x52c19e.rectangle = _0x49613b;
          }
          break;
        case "bbox":
          _0x52c19e.rectangle = Cesium__namespace.Rectangle.fromDegrees(_0x49613b[0], _0x49613b[1], _0x49613b[2], _0x49613b[3]);
          break;
        default:
          _0x52c19e[_0x509572] = _0x49613b;
          break;
      }
    }
    if (_0x52c19e.crs === CRS.EPSG4490 && _0x52c19e.url) {
      _0x52c19e.url = _0x52c19e.url.replace(/\{z\}/gm, "{z4490}");
      _0x52c19e.url = _0x52c19e.url.replace(/\{arc_z\}/gm, "{arc_z4490}");
      _0x52c19e.url = _0x52c19e.url.replace(/\{arc_Z\}/gm, "{arc_Z4490}");
    }
    if (_0x643cc3.tms) {
      _0x52c19e.url = _0x52c19e.url.replace(/\{y\}/gm, "{reverseY}").replace(/\{-y\}/gm, "{reverseY}");
    }
    if (Cesium__namespace.defined(_0x643cc3.minimumTerrainLevel) && Cesium__namespace.defined(_0x643cc3.minimumLevel) && _0x643cc3.minimumTerrainLevel < _0x643cc3.minimumLevel) {
      _0x52c19e.minimumTerrainLevel = _0x643cc3.minimumLevel;
    }
    if (Cesium__namespace.defined(_0x643cc3.maximumTerrainLevel) && Cesium__namespace.defined(_0x643cc3.maximumLevel) && _0x643cc3.maximumTerrainLevel > _0x643cc3.maximumLevel) {
      _0x52c19e.maximumTerrainLevel = _0x643cc3.maximumLevel;
    }
    if (!Cesium__namespace.defined(_0x643cc3.minimumTerrainLevel) && Cesium__namespace.defined(_0x643cc3.minimumLevel) && _0x643cc3.minimumLevel > 0) {
      _0x52c19e.minimumTerrainLevel = _0x643cc3.minimumLevel;
    }
    if (_0x52c19e.url && (_0x643cc3.queryParameters || _0x643cc3.templateValues || _0x643cc3.headers || _0x643cc3.proxy)) {
      _0x52c19e.url = getUrlResource(_0x52c19e);
    }
    return _0x52c19e;
  }
  const ImageryProviderFun = {};
  function registerImageryProvider(_0x572be2, _0x3e7d29) {
    if (ImageryProviderFun[_0x572be2]) {
      logError("registerImageryProvider: " + _0x572be2 + "类型已存在");
    }
    ImageryProviderFun[_0x572be2] = _0x3e7d29;
  }
  function getProviderClass(_0x48e128) {
    return ImageryProviderFun[_0x48e128];
  }
  async function createImageryProvider$j(_0x5184ca) {
    const _0x127ebc = getProviderClass(_0x5184ca.type);
    if (_0x127ebc) {
      const _0xf0a00d = await _0x127ebc(_0x5184ca);
      if (!_0xf0a00d.options) {
        _0xf0a00d.options = _0x5184ca;
      }
      if (Cesium__namespace.defined(_0x5184ca.invertColor)) {
        _0xf0a00d.invertColor = _0x5184ca.invertColor;
      }
      if (Cesium__namespace.defined(_0x5184ca.filterColor)) {
        _0xf0a00d.filterColor = getCesiumColor(_0x5184ca.filterColor);
      }
      return _0xf0a00d;
    } else {
      logWarn("createImageryProvider：存在未识别的图层", _0x5184ca);
    }
  }
  function getImageryProviderViewModels(_0x5eba44, _0x22dc89) {
    const _0x28e6ad = [];
    let _0x2633b8 = -1;
    for (let _0x5fdc52 = 0; _0x5fdc52 < _0x5eba44.length; _0x5fdc52++) {
      let _0x4db334 = _0x5eba44[_0x5fdc52];
      if (_0x4db334.type === "group" && _0x4db334.layers == null) {
        continue;
      }
      if (_0x22dc89) {
        _0x4db334 = {
          ..._0x4db334,
          templateValues: _0x22dc89
        };
      }
      if (_0x4db334.show) {
        _0x2633b8 = _0x28e6ad.length;
      } else {
        delete _0x4db334.show;
      }
      _0x28e6ad.push(createProviderViewModel(_0x4db334, _0x5fdc52));
    }
    const _0x39daf5 = {
      imageryProviderViewModels: _0x28e6ad,
      selectedIndex: _0x2633b8
    };
    return _0x39daf5;
  }
  function createProviderViewModel(_0xa6a253, _0x13b18e) {
    window._temp_mars3d_createImageryProvider = createImageryProvider$j;
    const _0x439542 = "window._temp_mars3d_basemaps" + _0x13b18e;
    new Function("\n    " + _0x439542 + " = function (item) {\n      item = item || " + JSON.stringify(getAttrVal(_0xa6a253, {
      onlySimpleType: true
    })) + ";\n      if (item.type === \"group\") {\n        const arrVec = []\n        for (let index = 0; index < item.layers.length; index++) {\n          let item2 = item.layers[index]\n          if (item.templateValues) {\n            item2 = {...item2,templateValues: item.templateValues}\n          }\n          const temp = window._temp_mars3d_createImageryProvider(item2)\n          if (temp == null) {\n            continue\n          }\n          arrVec.push(temp)\n        }\n        return arrVec\n      } else {\n        return window._temp_mars3d_createImageryProvider(item)\n      }\n    }")();
    return new Cesium__namespace.ProviderViewModel({
      name: _0xa6a253.name || "",
      tooltip: _0xa6a253.name || "",
      iconUrl: _0xa6a253.icon || "",
      category: _0xa6a253.category || "",
      creationFunction: new Function("return " + _0x439542)(),
      marsOptions: {
        layerId: _0xa6a253.id
      }
    });
  }
  const _ellipsoid = new Cesium__namespace.EllipsoidTerrainProvider({
    ellipsoid: Cesium__namespace.Ellipsoid.WGS84
  });
  const _0x18f977 = {
    type: TerrainType.NONE
  };
  _ellipsoid.marsOptions = _0x18f977;
  function getNoTerrainProvider() {
    return _ellipsoid;
  }
  const TerrainProviderClass = {};
  function registerTerrainProvider(_0x368871, _0x4ee59f) {
    if (TerrainProviderClass[_0x368871]) {
      logError("registerTerrainProvider: " + _0x368871 + "类型已存在");
    }
    TerrainProviderClass[_0x368871] = _0x4ee59f;
  }
  function getTerrainProviderClass(_0x5c39a0) {
    return TerrainProviderClass[_0x5c39a0];
  }
  async function createTerrainProvider(_0x574501) {
    const _0x5a1bbe = {
      type: TerrainType.ION
    };
    _0x574501 = _0x574501 || _0x5a1bbe;
    _0x574501.type = _0x574501.type || TerrainType.XYZ;
    _0x574501.requestVertexNormals = _0x574501.requestVertexNormals ?? true;
    let _0x195031;
    switch (_0x574501.type) {
      case TerrainType.XYZ:
      case "terrain":
        {
          _0x195031 = await Cesium__namespace.CesiumTerrainProvider.fromUrl(getUrlResource(_0x574501), _0x574501);
          break;
        }
      case TerrainType.NONE:
      case "ellipsoid":
        _0x195031 = _ellipsoid;
        break;
      case TerrainType.ION:
        {
          const _0x40d6f4 = await Cesium__namespace.IonResource.fromAssetId(_0x574501.assetId ?? 1, {
            accessToken: _0x574501.ionToken ?? _0x574501.accessToken,
            server: _0x574501.ionServer
          });
          _0x195031 = await Cesium__namespace.CesiumTerrainProvider.fromUrl(_0x40d6f4, _0x574501);
        }
        break;
      case TerrainType.GEE:
      case "google":
        {
          const _0x544a26 = await Cesium__namespace.GoogleEarthEnterpriseMetadata.fromUrl(getUrlResource(_0x574501), _0x574501);
          _0x195031 = await Cesium__namespace.GoogleEarthEnterpriseTerrainProvider.fromMetadata(_0x544a26, _0x574501);
        }
        break;
      case TerrainType.ARCGIS:
        _0x195031 = await Cesium__namespace.ArcGISTiledElevationTerrainProvider.fromUrl(getUrlResource(_0x574501), _0x574501);
        break;
      case TerrainType.VR:
        _0x195031 = await Cesium__namespace.VRTheWorldTerrainProvider.fromUrl(getUrlResource(_0x574501), _0x574501);
        break;
      default:
        {
          const _0x1da509 = getTerrainProviderClass(_0x574501.type);
          if (_0x1da509) {
            if (_0x1da509.fromUrl) {
              _0x195031 = await _0x1da509.fromUrl(getUrlResource(_0x574501), _0x574501);
            } else {
              _0x195031 = new _0x1da509(_0x574501);
            }
          }
        }
        break;
    }
    if (_0x195031) {
      _0x195031.marsOptions = _0x574501;
    }
    return _0x195031;
  }
  function getTerrainProviderViewModels(_0x2df3aa, _0x115960) {
    _0x115960 = _0x115960 || getLangText;
    if (_0x2df3aa) {
      const _0x4837a8 = {
        type: TerrainType.NONE
      };
      return [new Cesium__namespace.ProviderViewModel({
        name: _0x115960("EllipsoidTerrainProvider"),
        iconUrl: Cesium__namespace.buildModuleUrl("Widgets/Images/TerrainProviders/Ellipsoid.png"),
        tooltip: _0x115960("EllipsoidTerrainProviderTooltip"),
        category: "",
        creationFunction: function () {
          return getNoTerrainProvider();
        },
        marsOptions: _0x4837a8
      }), new Cesium__namespace.ProviderViewModel({
        name: _0x2df3aa.name || _0x115960("TerrainProvider"),
        iconUrl: Cesium__namespace.buildModuleUrl("Widgets/Images/TerrainProviders/CesiumWorldTerrain.png"),
        tooltip: _0x2df3aa.tooltip || _0x115960("TerrainProviderTooltip"),
        category: "",
        creationFunction: function () {
          return createTerrainProvider(_0x2df3aa);
        },
        marsOptions: {
          type: TerrainType.XYZ,
          ..._0x2df3aa
        }
      })];
    } else {
      const _0x4edaae = {
        type: TerrainType.NONE
      };
      const _0x27f743 = {
        type: TerrainType.XYZ
      };
      const _0x29fb4e = {
        type: TerrainType.ION
      };
      const _0x1b4fa7 = {
        type: TerrainType.ARCGIS
      };
      return [new Cesium__namespace.ProviderViewModel({
        name: _0x115960("EllipsoidTerrainProvider"),
        iconUrl: Cesium__namespace.buildModuleUrl("Widgets/Images/TerrainProviders/Ellipsoid.png"),
        tooltip: _0x115960("EllipsoidTerrainProviderTooltip"),
        category: "",
        creationFunction: function () {
          return getNoTerrainProvider();
        },
        marsOptions: _0x4edaae
      }), new Cesium__namespace.ProviderViewModel({
        name: "Mar3D " + _0x115960("TerrainProvider"),
        iconUrl: Cesium__namespace.buildModuleUrl("Widgets/Images/TerrainProviders/CesiumWorldTerrain.png"),
        tooltip: "Mar3D " + _0x115960("TerrainProviderTooltip"),
        category: "",
        creationFunction: function () {
          return createTerrainProvider({
            url: "https://data.mars3d.cn/terrain"
          });
        },
        marsOptions: _0x27f743
      }), new Cesium__namespace.ProviderViewModel({
        name: "Ion " + _0x115960("TerrainProvider"),
        iconUrl: Cesium__namespace.buildModuleUrl("Widgets/Images/TerrainProviders/CesiumWorldTerrain.png"),
        tooltip: "Ion " + _0x115960("TerrainProviderTooltip"),
        category: "",
        creationFunction: function () {
          return createTerrainProvider({
            type: "ion"
          });
        },
        marsOptions: _0x29fb4e
      }), new Cesium__namespace.ProviderViewModel({
        name: "ArcGIS " + _0x115960("TerrainProvider"),
        iconUrl: Cesium__namespace.buildModuleUrl("Widgets/Images/TerrainProviders/CesiumWorldTerrain.png"),
        tooltip: "ArcGIS " + _0x115960("TerrainProviderTooltip"),
        category: "",
        creationFunction: function () {
          return createTerrainProvider({
            type: "arcgis",
            url: "https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer"
          });
        },
        marsOptions: _0x1b4fa7
      })];
    }
  }
  const _0xc63813 = {
    __proto__: null,
    register: register$3,
    getClass: getClass$3,
    create: create$3,
    converOptions: converOptions,
    registerImageryProvider: registerImageryProvider,
    getProviderClass: getProviderClass,
    createImageryProvider: createImageryProvider$j,
    getImageryProviderViewModels: getImageryProviderViewModels,
    getNoTerrainProvider: getNoTerrainProvider,
    registerTerrainProvider: registerTerrainProvider,
    getTerrainProviderClass: getTerrainProviderClass,
    createTerrainProvider: createTerrainProvider,
    getTerrainProviderViewModels: getTerrainProviderViewModels
  };
  var LayerUtil = _0xc63813;
  const ControlClass = {};
  function register$2(_0x5c4cbd, _0x4fcb98) {
    if (ControlClass[_0x5c4cbd]) {
      logError("register: " + _0x5c4cbd + "类型已存在", _0x4fcb98);
    }
    ControlType[_0x5c4cbd] = _0x5c4cbd;
    ControlClass[_0x5c4cbd] = _0x4fcb98;
    _0x4fcb98.type = _0x5c4cbd;
    _0x4fcb98.prototype._type = _0x5c4cbd;
  }
  function getClass$2(_0x36ff46) {
    return ControlClass[_0x36ff46];
  }
  function create$2(_0x489f9b, _0x4efca7) {
    const _0x18ad72 = getClass$2(_0x489f9b);
    if (_0x18ad72) {
      const _0x8d7e0c = new _0x18ad72(_0x4efca7);
      return _0x8d7e0c;
    }
  }
  const _0x2b9ca0 = {
    __proto__: null,
    register: register$2,
    getClass: getClass$2,
    create: create$2
  };
  var ControlUtil = _0x2b9ca0;
  const EffectClass = {};
  function register$1(_0x137111, _0x13950d) {
    if (EffectClass[_0x137111]) {
      logError("register: " + _0x137111 + "类型已存在", _0x13950d);
    }
    EffectType[_0x137111] = _0x137111;
    EffectClass[_0x137111] = _0x13950d;
    _0x13950d.type = _0x137111;
    _0x13950d.prototype._type = _0x137111;
  }
  function getClass$1(_0x5a4cbe) {
    return EffectClass[_0x5a4cbe];
  }
  function create$1(_0x4960ff, _0x2bab44) {
    const _0x288078 = getClass$1(_0x4960ff);
    if (_0x288078) {
      const _0x901a26 = new _0x288078(_0x2bab44);
      return _0x901a26;
    } else {
      logWarn("未处理" + _0x4960ff + "类型的特效", _0x2bab44);
    }
  }
  const _0x298c1f = {
    __proto__: null,
    register: register$1,
    getClass: getClass$1,
    create: create$1
  };
  var EffectUtil = _0x298c1f;
  const ThingClass = {};
  function register(_0x56ead4, _0x275c73, _0x23ab5a = true) {
    if (ThingClass[_0x56ead4]) {
      logError("register: " + _0x56ead4 + "类型已存在", _0x275c73);
    }
    ThingType[_0x56ead4] = _0x56ead4;
    ThingClass[_0x56ead4] = _0x275c73;
    _0x275c73.type = _0x56ead4;
    _0x275c73.prototype._type = _0x56ead4;
    _0x275c73.prototype._isOnlyInMap = _0x23ab5a;
  }
  function getClass(_0x331d52) {
    return ThingClass[_0x331d52];
  }
  function create(_0x56e04e, _0x2d1d3c) {
    const _0x11152c = getClass(_0x56e04e);
    if (_0x11152c) {
      const _0x4ea3e8 = new _0x11152c(_0x2d1d3c);
      return _0x4ea3e8;
    } else {
      logWarn("未处理" + _0x56e04e + "类型的Thing对象", _0x2d1d3c);
    }
  }
  const _0x48f6b0 = {
    __proto__: null,
    register: register,
    getClass: getClass,
    create: create
  };
  var ThingUtil = _0x48f6b0;
  class BaseMaterialConver extends BaseOptsConver {
    get excludedKeys() {
      const _0x2d983d = ["label"];
      return _0x2d983d.concat(this._getExcludedStyle());
    }
    _getExcludedStyle() {
      return [];
    }
    static toCesiumVal(_0x5b378d, _0x23fbbf) {
      if (!this.baseMaterialConver) {
        this.baseMaterialConver = new BaseMaterialConver();
      }
      return this.baseMaterialConver.toCesiumVal(_0x5b378d, _0x23fbbf);
    }
    _toOneCesiumVal(_0xc8f72a, _0x3e7db9, _0x39e6d3, _0x47e9f7) {
      switch (_0xc8f72a) {
        case "color":
        case "randomColor":
          _0x47e9f7.color = this.getColorByStyle(_0x39e6d3);
          break;
        case "color2":
        case "bgColor":
        case "outlineColor":
        case "evenColor":
        case "oddColor":
        case "lightColor":
        case "darkColor":
        case "baseWaterColor":
        case "blendColor":
        case "gapColor":
        case "strokeColor":
        case "backgroundColor":
        case "asphaltColor":
          {
            let _0x323a25 = getCesiumColor(_0x3e7db9);
            if (Cesium__namespace.defined(_0x39e6d3.opacity) && _0x39e6d3.opacity !== 1) {
              _0x323a25 = _0x323a25.withAlpha(_0x39e6d3.opacity);
            }
            if (Cesium__namespace.defined(_0x39e6d3.globalAlpha) && _0x39e6d3.globalAlpha !== 1) {
              _0x323a25 = _0x323a25.withAlpha(_0x323a25.alpha * _0x39e6d3.globalAlpha);
            }
            _0x47e9f7[_0xc8f72a] = _0x323a25;
            break;
          }
        case "repeat_x":
        case "repeat_y":
          {
            const _0x3e7fdd = _0x39e6d3.repeat_x ?? 1;
            const _0x353863 = _0x39e6d3.repeat_y ?? 1;
            _0x47e9f7.repeat = new Cesium__namespace.Cartesian2(_0x3e7fdd, _0x353863);
            break;
          }
        case "repeat":
          {
            if (_0x39e6d3.materialType === Stripe || _0x39e6d3.materialType === CylinderWave) {
              _0x47e9f7[_0xc8f72a] = _0x3e7db9;
            } else {
              _0x47e9f7[_0xc8f72a] = new Cesium__namespace.Cartesian2(_0x39e6d3.repeat_x || _0x3e7db9, _0x39e6d3.repeat_y || _0x3e7db9);
            }
            break;
          }
        case "lineCount":
        case "lineThickness":
        case "lineOffset":
        case "noiseScale":
          {
            _0x47e9f7[_0xc8f72a] = new Cesium__namespace.Cartesian2(_0x3e7db9, _0x3e7db9);
            break;
          }
        case "orientation":
          {
            if (_0x3e7db9) {
              _0x47e9f7[_0xc8f72a] = Cesium__namespace.StripeOrientation.VERTICAL;
            } else {
              _0x47e9f7[_0xc8f72a] = Cesium__namespace.StripeOrientation.HORIZONTAL;
            }
            break;
          }
        default:
          _0x47e9f7[_0xc8f72a] = _0x3e7db9;
          break;
      }
    }
    static toJSON(_0x2ae0c0, _0x476645) {
      if (!this.baseMaterialConver) {
        this.baseMaterialConver = new BaseMaterialConver();
      }
      return this.baseMaterialConver.toJSON(_0x2ae0c0, _0x476645);
    }
    toJSON(_0x54b983, _0x588800 = {}) {
      var _0x3b4013;
      if ((_0x3b4013 = _0x54b983) !== null && _0x3b4013 !== undefined && _0x3b4013.options) {
        const _0x373de8 = _0x54b983.options;
        for (const _0x43dab1 in _0x373de8) {
          if (Cesium__namespace.defined(_0x54b983[_0x43dab1])) {
            _0x373de8[_0x43dab1] = _0x54b983[_0x43dab1];
          }
        }
        _0x54b983 = _0x373de8;
      }
      return super.toJSON(_0x54b983, _0x588800);
    }
    _toOneJson(_0x27937b, _0x3ca110, _0x409618) {
      if (_0x3ca110 instanceof Cesium__namespace.Color) {
        _0x409618[_0x27937b] = _0x3ca110.toCssColorString();
        return;
      }
      switch (_0x27937b) {
        case "label":
          break;
        case "color":
        case "fillColor":
        case "outlineColor":
        case "evenColor":
        case "oddColor":
        case "baseWaterColor":
        case "blendColor":
        case "gapColor":
        case "strokeColor":
        case "backgroundColor":
        case "asphaltColor":
        case "lightColor":
          {
            const _0x90bd8f = getCesiumColor(_0x3ca110);
            if (_0x90bd8f && _0x90bd8f.toCssColorString) {
              _0x409618[_0x27937b] = _0x90bd8f.toCssColorString();
            }
            break;
          }
        case "repeat":
          {
            if (_0x3ca110 instanceof Cesium__namespace.Cartesian2) {
              if (_0x3ca110.x !== _0x3ca110.y) {
                _0x409618[_0x27937b + "_x"] = _0x3ca110.x;
                _0x409618[_0x27937b + "_y"] = _0x3ca110.y;
              } else {
                _0x409618[_0x27937b] = _0x3ca110.x;
              }
            } else {
              _0x409618[_0x27937b] = _0x3ca110;
            }
            break;
          }
        case "lineCount":
        case "lineThickness":
        case "lineOffset":
        case "noiseScale":
          {
            _0x409618[_0x27937b + "_x"] = _0x3ca110.x;
            _0x409618[_0x27937b + "_y"] = _0x3ca110.y;
            break;
          }
        default:
          logInfo("未处理" + _0x27937b + "属性", _0x3ca110);
          break;
      }
    }
  }
  registerOptsConver("default", BaseMaterialConver);
  class ColorOptsConver extends BaseMaterialConver {
    static toCesiumVal(_0x28f10f, _0x414db2, _0x3f03a9) {
      if (_0x28f10f instanceof Cesium__namespace.Color) {
        return _0x28f10f;
      }
      if (!this.colorOptsConver) {
        this.colorOptsConver = new ColorOptsConver();
      }
      this.colorOptsConver.isProperty = _0x3f03a9;
      return this.colorOptsConver.toCesiumVal(_0x28f10f, _0x414db2);
    }
    toCesiumVal(_0x4e325e) {
      if (this.isProperty) {
        return this.getColorByStyle(_0x4e325e);
      } else {
        return {
          color: this.getColorByStyle(_0x4e325e)
        };
      }
    }
    static toJSON(_0x2e68ba, _0x1ad69b = {}, _0x55af7b = false) {
      if (!this.colorOptsConver) {
        this.colorOptsConver = new ColorOptsConver();
      }
      this.colorOptsConver.isProperty = _0x55af7b;
      return this.colorOptsConver.toJSON(_0x2e68ba, _0x1ad69b);
    }
    toJSON(_0x3ed894, _0x75ae58 = {}) {
      var _0x1f25b0;
      if ((_0x1f25b0 = _0x3ed894) !== null && _0x1f25b0 !== undefined && _0x1f25b0.color) {
        _0x3ed894 = _0x3ed894.color;
      }
      let _0x390605 = getCesiumValue(_0x3ed894, Cesium__namespace.Color);
      if (_0x390605.color) {
        _0x390605 = _0x390605.color;
      }
      if (_0x390605) {
        if (_0x390605 instanceof Cesium__namespace.Color) {
          _0x75ae58.color = _0x390605.toCssColorString();
        } else if (isString(_0x390605)) {
          _0x75ae58.color = _0x390605;
        }
      }
      return _0x75ae58;
    }
  }
  registerOptsConver(Color$2, ColorOptsConver);
  registerOptsConver(PolylineArrow, ColorOptsConver);
  class ImageOptsConver extends BaseMaterialConver {
    get excludedKeys() {
      return ["repeat_y"];
    }
    static toCesiumVal(_0x3d0ed9, _0x1cfcbc) {
      if (!this.imageOptsConver) {
        this.imageOptsConver = new ImageOptsConver();
      }
      return this.imageOptsConver.toCesiumVal(_0x3d0ed9, _0x1cfcbc);
    }
    _toOneCesiumVal(_0x30747e, _0x3e312f, _0x4fa27b, _0x212e20) {
      switch (_0x30747e) {
        case "repeat_x":
          {
            const _0x4cfc99 = _0x4fa27b.repeat_x ?? 1;
            const _0x3a451a = _0x4fa27b.repeat_y ?? 1;
            _0x212e20.repeat = new Cesium__namespace.Cartesian2(_0x4cfc99, _0x3a451a);
            break;
          }
        case "repeat":
          {
            _0x212e20[_0x30747e] = new Cesium__namespace.Cartesian2(_0x4fa27b.repeat_x || _0x3e312f, _0x4fa27b.repeat_y || _0x3e312f);
            break;
          }
        case "color":
          break;
        case "opacity":
          if (Cesium__namespace.defined(_0x4fa27b.globalAlpha) && _0x4fa27b.globalAlpha !== 1) {
            _0x212e20.color = Cesium__namespace.Color.WHITE.withAlpha(_0x4fa27b.globalAlpha * (_0x3e312f ?? 1));
          } else if (_0x4fa27b.transparent ?? true) {
            _0x212e20.color = Cesium__namespace.Color.WHITE.withAlpha(_0x3e312f ?? 1);
          } else {
            _0x212e20.color = Cesium__namespace.Color.WHITE;
          }
          break;
        default:
          _0x212e20[_0x30747e] = _0x3e312f;
          break;
      }
    }
    _toCesiumValEnd(_0x2433fb, _0x5aab9c) {
      _0x5aab9c.transparent = _0x5aab9c.transparent ?? true;
    }
    static toJSON(_0xff1dd1, _0x446a65) {
      if (!this.imageOptsConver) {
        this.imageOptsConver = new ImageOptsConver();
      }
      return this.imageOptsConver.toJSON(_0xff1dd1, _0x446a65);
    }
    _toOneJson(_0x277bec, _0xccfe22, _0x539da3) {
      switch (_0x277bec) {
        case "repeat":
          {
            _0x539da3.repeat_x = _0xccfe22.x;
            _0x539da3.repeat_y = _0xccfe22.y;
            break;
          }
        case "color":
          {
            _0x539da3.opacity = getCesiumColor(_0xccfe22)?.alpha ?? 1;
            break;
          }
        default:
          logInfo("未处理" + _0x277bec + "属性", _0xccfe22);
          break;
      }
    }
  }
  registerOptsConver(Image$1, ImageOptsConver);
  class CloudStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x4c8e92, _0xc8b645) {
      if (!this.cloudStyleConver) {
        this.cloudStyleConver = new CloudStyleConver();
      }
      return this.cloudStyleConver.toCesiumVal(_0x4c8e92, _0xc8b645);
    }
    _toCesiumValBefore(_0x366f90, _0x12d942) {}
    _toOneCesiumVal(_0x3cea35, _0x3dd1e2, _0x33be47, _0x54c100) {
      switch (_0x3cea35) {
        case "scaleX":
        case "scaleY":
          _0x54c100.scale = new Cesium__namespace.Cartesian2(_0x33be47.scaleX || 1, _0x33be47.scaleY || 1);
          break;
        case "maximumSizeX":
        case "maximumSizeY":
        case "maximumSizeZ":
          _0x54c100.maximumSize = new Cesium__namespace.Cartesian3(_0x33be47.maximumSizeX || 1, _0x33be47.maximumSizeY || 1, _0x33be47.maximumSizeZ || 1);
          break;
        default:
          this._toOneCesiumVal_Point(_0x3cea35, _0x3dd1e2, _0x33be47, _0x54c100);
          break;
      }
    }
    static toJSON(_0x2e5bbf, _0x5be131) {
      if (!this.cloudStyleConver) {
        this.cloudStyleConver = new CloudStyleConver();
      }
      return this.cloudStyleConver.toJSON(_0x2e5bbf, _0x5be131);
    }
    _toOneJson(_0x3cc4c9, _0x3f7897, _0x1b80b8) {
      switch (_0x3cc4c9) {
        case "scale":
          _0x1b80b8.scaleX = formatNum$1(_0x3f7897.x, 2);
          _0x1b80b8.scaleY = formatNum$1(_0x3f7897.y, 2);
          break;
        case "maximumSize":
          _0x1b80b8.maximumSizeX = formatNum$1(_0x3f7897.x, 2);
          _0x1b80b8.maximumSizeY = formatNum$1(_0x3f7897.y, 2);
          _0x1b80b8.maximumSizeZ = formatNum$1(_0x3f7897.z, 2);
          break;
        default:
          this._toOneJson_Point(_0x3cc4c9, _0x3f7897, _0x1b80b8);
          break;
      }
    }
  }
  class BoxStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x142ab7, _0x21704b, _0x5e99af) {
      if (!this.boxStyleConver) {
        this.boxStyleConver = new BoxStyleConver();
      }
      this.boxStyleConver.isEntity = _0x5e99af;
      return this.boxStyleConver.toCesiumVal(_0x142ab7, _0x21704b);
    }
    _getExcludedStyle() {
      return ["opacity", "dimensions_y", "dimensions_z"];
    }
    _toOneCesiumVal(_0x57cc9c, _0x17b32f, _0x19a065, _0x599139) {
      switch (_0x57cc9c) {
        case "outlineColor":
          {
            _0x599139.outlineColor = this.getOutlineColorByStyle(_0x19a065);
            break;
          }
        case "dimensions_x":
          {
            const _0x45833e = _0x19a065.dimensions_x ?? 100;
            const _0x20e56f = _0x19a065.dimensions_y ?? 100;
            const _0x8253bd = _0x19a065.dimensions_z ?? 100;
            _0x599139.dimensions = new Cesium__namespace.Cartesian3(_0x45833e, _0x20e56f, _0x8253bd);
            break;
          }
        default:
          this._toOneCesiumVal_Poly(_0x57cc9c, _0x17b32f, _0x19a065, _0x599139);
          break;
      }
    }
    static toJSON(_0x62e8bb, _0x2fb6f9, _0x5e95cf) {
      if (!this.boxStyleConver) {
        this.boxStyleConver = new BoxStyleConver();
      }
      this.boxStyleConver.isEntity = _0x5e95cf;
      return this.boxStyleConver.toJSON(_0x62e8bb, _0x2fb6f9);
    }
    _toOneJson(_0x41636e, _0x4b546e, _0x594278) {
      switch (_0x41636e) {
        case "dimensions":
          {
            _0x594278.dimensions_x = _0x4b546e.x;
            _0x594278.dimensions_y = _0x4b546e.y;
            _0x594278.dimensions_z = _0x4b546e.z;
            break;
          }
        default:
          this._toOneJson_Poly(_0x41636e, _0x4b546e, _0x594278);
          break;
      }
    }
  }
  class CircleStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x382ee0, _0x3daf16, _0x6f7491) {
      if (!this.circleStyleConver) {
        this.circleStyleConver = new CircleStyleConver();
      }
      this.circleStyleConver.isEntity = _0x6f7491;
      return this.circleStyleConver.toCesiumVal(_0x382ee0, _0x3daf16);
    }
    _toCesiumValBefore(_0x3bd946, _0x21619a) {
      super._toCesiumValBefore(_0x3bd946, _0x21619a);
      if (_0x3bd946.clampToGround) {
        if (_0x3bd946.hasOwnProperty("height")) {
          delete _0x3bd946.height;
        }
        if (_0x3bd946.hasOwnProperty("extrudedHeight")) {
          delete _0x3bd946.extrudedHeight;
        }
        if (_0x3bd946.hasOwnProperty("diffHeight")) {
          delete _0x3bd946.diffHeight;
        }
      }
      if (Cesium__namespace.defined(_0x3bd946.height)) {
        _0x3bd946.clampToGround = false;
      }
    }
    _toOneCesiumVal(_0x4da228, _0x24a70c, _0x2514b3, _0x27961d) {
      switch (_0x4da228) {
        case "rotation":
          _0x27961d.rotation = _0x24a70c;
          if (!Cesium__namespace.defined(_0x2514b3.stRotation)) {
            _0x27961d.stRotation = _0x27961d.rotation;
          }
          break;
        case "rotationDegree":
          _0x27961d.rotation = Cesium__namespace.Math.toRadians(_0x24a70c);
          if (!Cesium__namespace.defined(_0x2514b3.stRotation)) {
            _0x27961d.stRotation = _0x27961d.rotation;
          }
          break;
        case "stRotationDegree":
          _0x27961d.stRotation = Cesium__namespace.Math.toRadians(_0x24a70c);
          break;
        case "height":
          _0x27961d.height = _0x24a70c;
          if (_0x2514b3.diffHeight) {
            _0x27961d.extrudedHeight = Number(_0x2514b3.diffHeight) + Number(_0x24a70c);
          }
          break;
        case "diffHeight":
          if (Cesium__namespace.defined(_0x2514b3.height)) {
            _0x27961d.extrudedHeight = _0x2514b3.height + _0x24a70c;
          }
          break;
        case "radius":
          if (this.isEntity) {
            _0x27961d.semiMinorAxis = Number(_0x24a70c);
            _0x27961d.semiMajorAxis = Number(_0x24a70c);
          } else {
            _0x27961d.radius = Number(_0x24a70c);
          }
          break;
        case "clampToGround":
          if (_0x24a70c) {
            _0x27961d.heightReference = Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
          } else {
            _0x27961d.heightReference = Cesium__namespace.HeightReference.NONE;
          }
          break;
        default:
          this._toOneCesiumVal_Poly(_0x4da228, _0x24a70c, _0x2514b3, _0x27961d);
          break;
      }
    }
    static toJSON(_0x302c8b, _0x379882, _0x2e2f66) {
      if (!this.circleStyleConver) {
        this.circleStyleConver = new CircleStyleConver();
      }
      this.circleStyleConver.isEntity = _0x2e2f66;
      return this.circleStyleConver.toJSON(_0x302c8b, _0x379882);
    }
    _toOneJson(_0x5aba2d, _0x1a893c, _0x2f5d0f) {
      switch (_0x5aba2d) {
        case "rotation":
          {
            _0x2f5d0f.rotationDegree = formatNum$1(Cesium__namespace.Math.toDegrees(_0x1a893c), 1);
            break;
          }
        case "stRotation":
          {
            _0x2f5d0f.stRotationDegree = formatNum$1(Cesium__namespace.Math.toDegrees(_0x1a893c), 1);
            break;
          }
        default:
          this._toOneJson_Poly(_0x5aba2d, _0x1a893c, _0x2f5d0f);
          break;
      }
    }
  }
  class CorridorStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x2164f8, _0x5f0495, _0x21bf17) {
      if (!this.corridorStyleConver) {
        this.corridorStyleConver = new CorridorStyleConver();
      }
      this.corridorStyleConver.isEntity = _0x21bf17;
      return this.corridorStyleConver.toCesiumVal(_0x2164f8, _0x5f0495);
    }
    _toCesiumValBefore(_0x312b1b, _0x356f36) {
      super._toCesiumValBefore(_0x312b1b, _0x356f36);
      if (_0x312b1b.clampToGround) {
        if (_0x312b1b.hasOwnProperty("height")) {
          delete _0x312b1b.height;
        }
        if (_0x312b1b.hasOwnProperty("extrudedHeight")) {
          delete _0x312b1b.extrudedHeight;
        }
        if (_0x312b1b.hasOwnProperty("diffHeight")) {
          delete _0x312b1b.diffHeight;
        }
      }
    }
    _toOneCesiumVal(_0x1ec476, _0x2b4415, _0x5b76ad, _0x4a1bf3) {
      switch (_0x1ec476) {
        case "outlineColor":
          {
            _0x4a1bf3.outlineColor = this.getOutlineColorByStyle(_0x5b76ad);
            break;
          }
        case "height":
          _0x4a1bf3.height = _0x2b4415;
          if (_0x5b76ad.diffHeight) {
            _0x4a1bf3.extrudedHeight = Number(_0x5b76ad.diffHeight) + Number(_0x2b4415);
          }
          break;
        case "diffHeight":
          if (Cesium__namespace.defined(_0x5b76ad.height)) {
            _0x4a1bf3.extrudedHeight = _0x5b76ad.height + _0x2b4415;
          }
          break;
        default:
          this._toOneCesiumVal_Poly(_0x1ec476, _0x2b4415, _0x5b76ad, _0x4a1bf3);
          break;
      }
    }
    static toJSON(_0x58303b, _0x504214, _0x186426) {
      if (!this.corridorStyleConver) {
        this.corridorStyleConver = new CorridorStyleConver();
      }
      this.corridorStyleConver.isEntity = _0x186426;
      return this.corridorStyleConver.toJSON(_0x58303b, _0x504214);
    }
    _toOneJson(_0x4fa909, _0x50d581, _0xf4d8f6) {
      this._toOneJson_Poly(_0x4fa909, _0x50d581, _0xf4d8f6);
    }
  }
  class CylinderStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x7641bc, _0xb65b9b, _0x47fca4) {
      if (!this.cylinderStyleConver) {
        this.cylinderStyleConver = new CylinderStyleConver();
      }
      this.cylinderStyleConver.isEntity = _0x47fca4;
      return this.cylinderStyleConver.toCesiumVal(_0x7641bc, _0xb65b9b);
    }
    _toCesiumValBefore(_0x1f50be, _0x366881) {
      super._toCesiumValBefore(_0x1f50be, _0x366881);
      if (!Cesium__namespace.defined(_0x1f50be.topRadius)) {
        _0x1f50be.topRadius = 0;
      }
    }
    _toOneCesiumVal(_0x3f4c1a, _0x5d4259, _0x1668a5, _0x354af0) {
      switch (_0x3f4c1a) {
        case "diffHeight":
          if (_0x354af0.length instanceof Cesium__namespace.CallbackProperty) ;else {
            _0x354af0.length = Number(_0x5d4259);
          }
          break;
        default:
          this._toOneCesiumVal_Poly(_0x3f4c1a, _0x5d4259, _0x1668a5, _0x354af0);
          break;
      }
    }
    static toJSON(_0x160710, _0x2fbf13, _0x2e8a20) {
      if (!this.cylinderStyleConver) {
        this.cylinderStyleConver = new CylinderStyleConver();
      }
      this.cylinderStyleConver.isEntity = _0x2e8a20;
      return this.cylinderStyleConver.toJSON(_0x160710, _0x2fbf13);
    }
    _toOneJson(_0x1d1006, _0x449b14, _0x337630) {
      this._toOneJson_Poly(_0x1d1006, _0x449b14, _0x337630);
    }
  }
  class DivGraphicStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x5b43b6, _0x2c856c) {
      if (!this.divGraphicStyleConver) {
        this.divGraphicStyleConver = new DivGraphicStyleConver();
      }
      return this.divGraphicStyleConver.toCesiumVal(_0x5b43b6, _0x2c856c);
    }
    _toCesiumValBefore(_0x139663, _0x207de4) {}
    _toOneCesiumVal(_0x2dcd88, _0x4b26fc, _0x21e724, _0x3bfdf2) {
      this._toOneCesiumVal_Point(_0x2dcd88, _0x4b26fc, _0x21e724, _0x3bfdf2);
    }
    static toJSON(_0x2f1539, _0x1777e4) {
      if (!this.divGraphicStyleConver) {
        this.divGraphicStyleConver = new DivGraphicStyleConver();
      }
      return this.divGraphicStyleConver.toJSON(_0x2f1539, _0x1777e4);
    }
    _toOneJson(_0x4985c6, _0xf15e24, _0x58072b) {
      this._toOneJson_Point(_0x4985c6, _0xf15e24, _0x58072b);
    }
  }
  class EllipsoidStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x2a22cc, _0x3771e3, _0x5e3f70) {
      if (!this.ellipsoidStyleConver) {
        this.ellipsoidStyleConver = new EllipsoidStyleConver();
      }
      this.ellipsoidStyleConver.isEntity = _0x5e3f70;
      return this.ellipsoidStyleConver.toCesiumVal(_0x2a22cc, _0x3771e3);
    }
    _toCesiumValBefore(_0x2dbd3b, _0x2fe4d3) {
      super._toCesiumValBefore(_0x2dbd3b, _0x2fe4d3);
    }
    _getExcludedStyle() {
      return ["radii_y", "radii_z", "innerRadii_y", "innerRadii_z"];
    }
    _toOneCesiumVal(_0x530502, _0x32556e, _0x3edc28, _0x540e9e) {
      switch (_0x530502) {
        case "radii":
          _0x540e9e.radii = new Cesium__namespace.Cartesian3(_0x32556e, _0x32556e, _0x32556e);
          break;
        case "radii_x":
          _0x540e9e.radii = new Cesium__namespace.Cartesian3(_0x3edc28.radii_x ?? 100, _0x3edc28.radii_y ?? 100, _0x3edc28.radii_z ?? 100);
          break;
        case "innerRadii":
          _0x540e9e.innerRadii = new Cesium__namespace.Cartesian3(_0x32556e, _0x32556e, _0x32556e);
          break;
        case "innerRadii_x":
          if (_0x3edc28.innerRadii_x > 0 && _0x3edc28.innerRadii_y > 0 && _0x3edc28.innerRadii_z > 0) {
            _0x540e9e.innerRadii = new Cesium__namespace.Cartesian3(_0x3edc28.innerRadii_x ?? 0, _0x3edc28.innerRadii_y ?? 0, _0x3edc28.innerRadii_z ?? 0);
          } else {
            _0x540e9e.innerRadii = new Cesium__namespace.Cartesian3(0.001, 0.001, 0.001);
          }
          break;
        case "minimumClockDegree":
        case "maximumClockDegree":
        case "minimumConeDegree":
        case "maximumConeDegree":
          _0x540e9e[_0x530502.replace("Degree", "")] = Cesium__namespace.Math.toRadians(_0x32556e || 0);
          break;
        default:
          this._toOneCesiumVal_Poly(_0x530502, _0x32556e, _0x3edc28, _0x540e9e);
          break;
      }
    }
    static toJSON(_0x2392ba, _0x190ca4, _0x4f4753) {
      if (!this.ellipsoidStyleConver) {
        this.ellipsoidStyleConver = new EllipsoidStyleConver();
      }
      this.ellipsoidStyleConver.isEntity = _0x4f4753;
      return this.ellipsoidStyleConver.toJSON(_0x2392ba, _0x190ca4);
    }
    _toOneJson(_0x1e85c0, _0x50ae1f, _0x596655) {
      switch (_0x1e85c0) {
        case "radii":
          {
            _0x596655.radii_x = _0x50ae1f.x;
            _0x596655.radii_y = _0x50ae1f.y;
            _0x596655.radii_z = _0x50ae1f.z;
            break;
          }
        case "innerRadii":
          {
            _0x596655.innerRadii_x = _0x50ae1f.x;
            _0x596655.innerRadii_y = _0x50ae1f.y;
            _0x596655.innerRadii_z = _0x50ae1f.z;
            break;
          }
        case "minimumClock":
        case "maximumClock":
        case "minimumCone":
        case "maximumCone":
          _0x596655[_0x1e85c0 + "Degree"] = formatNum$1(Cesium__namespace.Math.toDegrees(_0x50ae1f), 2);
          break;
        default:
          this._toOneJson_Poly(_0x1e85c0, _0x50ae1f, _0x596655);
          break;
      }
    }
  }
  class LabelStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x106cb3, _0x118f11, _0x3ec40a) {
      if (!this.labelStyleConver) {
        this.labelStyleConver = new LabelStyleConver();
      }
      this.labelStyleConver.attr = _0x3ec40a;
      _0x118f11 = this.labelStyleConver.toCesiumVal(_0x106cb3, _0x118f11);
      return _0x118f11;
    }
    _toCesiumValBefore(_0x11574e, _0x1edc3a) {
      _0x1edc3a.horizontalOrigin = _0x1edc3a.horizontalOrigin ?? Cesium__namespace.HorizontalOrigin.CENTER;
      _0x1edc3a.verticalOrigin = _0x1edc3a.verticalOrigin ?? Cesium__namespace.HorizontalOrigin.BOTTOM;
    }
    _toCesiumValEnd(_0x1cdf14, _0x35e4fc) {
      if (!Cesium__namespace.defined(_0x1cdf14.font)) {
        _0x35e4fc.font = (_0x1cdf14.font_style || "") + " " + (_0x1cdf14.font_weight || "") + " " + (_0x1cdf14.font_size || 18) + "px  " + (_0x1cdf14.font_family || "微软雅黑");
      }
      if (!Cesium__namespace.defined(_0x1cdf14.style) && (_0x1cdf14.fill ?? true)) {
        if (_0x1cdf14.outline) {
          _0x35e4fc.style = Cesium__namespace.LabelStyle.FILL_AND_OUTLINE;
        } else {
          _0x35e4fc.style = Cesium__namespace.LabelStyle.FILL;
        }
      }
    }
    _getExcludedStyle() {
      return ["font_style", "font_weight", "font_size", "font_family", "backgroundOpacity", "fill"];
    }
    _toOneCesiumVal(_0x5ef850, _0x5d92ce, _0x3a40a0, _0x57f365) {
      switch (_0x5ef850) {
        case "text":
          {
            if (this.attr) {
              _0x5d92ce = template(_0x5d92ce, this.attr, _0x3a40a0.templateEmptyStr ?? true);
            }
            _0x57f365.text = String(_0x5d92ce || "").replace(/<br \/>/gm, "\n");
            break;
          }
        case "color":
          {
            _0x57f365.fillColor = this.getColorByStyle(_0x3a40a0);
            break;
          }
        case "outlineColor":
          {
            _0x57f365.outlineColor = this.getOutlineColorByStyle(_0x3a40a0);
            break;
          }
        case "strokeColor":
        case "fillColor":
          {
            _0x57f365[_0x5ef850] = getCesiumColor(_0x5d92ce);
            break;
          }
        case "background":
          _0x57f365.background = _0x5d92ce;
          _0x57f365.showBackground = _0x5d92ce;
          break;
        case "backgroundColor":
          {
            let _0x1b68fa = getCesiumColor(_0x5d92ce, Cesium__namespace.Color.BLACK);
            if (Cesium__namespace.defined(_0x3a40a0.backgroundOpacity)) {
              _0x1b68fa = _0x1b68fa.withAlpha(Number(_0x3a40a0.backgroundOpacity));
            } else if (Cesium__namespace.defined(_0x3a40a0.opacity)) {
              _0x1b68fa = _0x1b68fa.withAlpha(Number(_0x3a40a0.opacity));
            }
            _0x57f365.backgroundColor = _0x1b68fa;
            break;
          }
        case "backgroundPadding":
          _0x57f365.backgroundPadding = new Cesium__namespace.Cartesian2(_0x5d92ce * 1.2, _0x5d92ce);
          _0x57f365.padding = _0x5d92ce;
          break;
        case "hasPixelOffset":
          if (!_0x5d92ce) {
            _0x57f365.pixelOffset = new Cesium__namespace.Cartesian2(0, 0);
          }
          break;
        case "pixelOffsetX":
        case "pixelOffsetY":
          _0x57f365.pixelOffset = new Cesium__namespace.Cartesian2(_0x3a40a0.pixelOffsetX || 0, _0x3a40a0.pixelOffsetY || 0);
          break;
        case "pixelOffset":
          if (Cesium__namespace.defined(_0x5d92ce[0]) && Cesium__namespace.defined(_0x5d92ce[1])) {
            _0x57f365.pixelOffset = new Cesium__namespace.Cartesian2(_0x5d92ce[0], _0x5d92ce[1]);
          } else {
            _0x57f365.pixelOffset = _0x5d92ce;
          }
          break;
        case "eyeOffsetX":
        case "eyeOffsetY":
        case "eyeOffsetZ":
          _0x57f365.eyeOffset = new Cesium__namespace.Cartesian3(_0x3a40a0.eyeOffsetX || 0, _0x3a40a0.eyeOffsetY || 0, _0x3a40a0.eyeOffsetZ || 0);
          break;
        default:
          this._toOneCesiumVal_Point(_0x5ef850, _0x5d92ce, _0x3a40a0, _0x57f365);
          break;
      }
    }
    static toJSON(_0x1ed96f, _0x351a79) {
      if (!this.labelStyleConver) {
        this.labelStyleConver = new LabelStyleConver();
      }
      return this.labelStyleConver.toJSON(_0x1ed96f, _0x351a79);
    }
    _toOneJson(_0x15262b, _0x5e1295, _0x33296a) {
      switch (_0x15262b) {
        case "pixelOffset":
          {
            _0x33296a.pixelOffsetX = _0x5e1295.x;
            _0x33296a.pixelOffsetY = _0x5e1295.y;
            break;
          }
        case "disableDepthTestDistance":
          {
            if (_0x5e1295 === Number.POSITIVE_INFINITY) {
              _0x33296a.visibleDepth = false;
            } else {
              _0x33296a.disableDepthTestDistance = _0x5e1295;
            }
            break;
          }
        default:
          this._toOneJson_Point(_0x15262b, _0x5e1295, _0x33296a);
          break;
      }
    }
    static setOpacity(_0x363c1b, _0x46d199) {
      const _0x1ce249 = getCesiumValue(_0x363c1b.fillColor, Cesium__namespace.Color);
      if (_0x1ce249) {
        if (!Cesium__namespace.defined(_0x363c1b._fillColor_alpha_bak)) {
          _0x363c1b._fillColor_alpha_bak = _0x1ce249.alpha ?? 1;
        }
        _0x363c1b.fillColor = _0x1ce249.withAlpha(_0x46d199 * _0x363c1b._fillColor_alpha_bak);
      } else {
        _0x363c1b.fillColor = Cesium__namespace.Color.WHITE.withAlpha(_0x46d199);
      }
      const _0x2e71f7 = getCesiumValue(_0x363c1b.outlineColor, Cesium__namespace.Color);
      if (_0x2e71f7) {
        if (!Cesium__namespace.defined(_0x363c1b._outlineColor_alpha_bak)) {
          _0x363c1b._outlineColor_alpha_bak = _0x2e71f7.alpha ?? 1;
        }
        _0x363c1b.outlineColor = _0x2e71f7.withAlpha(_0x46d199 * _0x363c1b._outlineColor_alpha_bak);
      }
      const _0x51b2d6 = getCesiumValue(_0x363c1b.backgroundColor, Cesium__namespace.Color);
      if (_0x51b2d6) {
        if (!Cesium__namespace.defined(_0x363c1b._backgroundColor_alpha_bak)) {
          _0x363c1b._backgroundColor_alpha_bak = _0x51b2d6.alpha ?? 1;
        }
        _0x363c1b.backgroundColor = _0x51b2d6.withAlpha(_0x46d199 * _0x363c1b._backgroundColor_alpha_bak);
      }
    }
    static getScaleByDistance(_0x9b1818) {
      if (_0x9b1818.scaleByDistance instanceof Cesium__namespace.NearFarScalar) {
        return _0x9b1818.scaleByDistance;
      } else if (isBoolean(_0x9b1818.scaleByDistance)) {
        return new Cesium__namespace.NearFarScalar(Number(_0x9b1818.scaleByDistance_near ?? 1000), Number(_0x9b1818.scaleByDistance_nearValue ?? 1), Number(_0x9b1818.scaleByDistance_far ?? 1000000), Number(_0x9b1818.scaleByDistance_farValue ?? 0.1));
      }
    }
  }
  class ModelStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x36b4cc, _0x472771, _0xe94dd4) {
      if (!this.modelStyleConver) {
        this.modelStyleConver = new ModelStyleConver();
      }
      this.modelStyleConver.isEntity = _0xe94dd4;
      return this.modelStyleConver.toCesiumVal(_0x36b4cc, _0x472771);
    }
    _toCesiumValBefore(_0x1c65ae, _0x20e5cd) {}
    _getExcludedStyle() {
      return ["silhouette", "silhouetteColor", "silhouetteAlpha", "silhouetteSize", "fill", "opacity"];
    }
    _toOneCesiumVal(_0x1a2e98, _0x14b69a, _0x9ec6db, _0x13f386) {
      switch (_0x1a2e98) {
        case "url":
        case "modelUrl":
        case "uri":
          if (this.isEntity) {
            _0x13f386.uri = _0x14b69a;
          } else {
            _0x13f386.url = _0x14b69a;
          }
          break;
        case "scale":
          if (!isNaN(_0x14b69a)) {
            _0x13f386[_0x1a2e98] = _0x14b69a;
          }
          break;
        default:
          this._toOneCesiumVal_Point(_0x1a2e98, _0x14b69a, _0x9ec6db, _0x13f386);
          break;
      }
    }
    _toCesiumValEnd(_0x5192ab, _0x7f0f63) {
      _0x7f0f63.show = Boolean(_0x7f0f63.uri || _0x7f0f63.url);
      if (_0x5192ab.fill) {
        _0x7f0f63.color = getColorByStyle(_0x5192ab, Cesium__namespace.Color.WHITE);
      } else if (Cesium__namespace.defined(_0x5192ab.opacity) && _0x5192ab.opacity !== 1) {
        _0x7f0f63.color = Cesium__namespace.Color.WHITE.withAlpha(_0x5192ab.opacity);
      } else {
        _0x7f0f63.color = Cesium__namespace.Color.WHITE;
      }
      if (_0x5192ab.silhouette) {
        let _0x4fbdd2 = getCesiumColor(_0x5192ab.silhouetteColor, Cesium__namespace.Color.WHITE);
        if (Cesium__namespace.defined(_0x5192ab.silhouetteAlpha)) {
          _0x4fbdd2 = _0x4fbdd2.withAlpha(Number(_0x5192ab.silhouetteAlpha));
        }
        if (Cesium__namespace.defined(_0x5192ab.globalAlpha) && _0x5192ab.globalAlpha !== 1) {
          _0x4fbdd2 = _0x4fbdd2.withAlpha(_0x4fbdd2.alpha * _0x5192ab.globalAlpha);
        }
        _0x7f0f63.silhouetteColor = _0x4fbdd2;
        _0x7f0f63.silhouetteSize = Number(_0x5192ab.silhouetteSize || 1);
      } else {
        _0x7f0f63.silhouetteColor = undefined;
        _0x7f0f63.silhouetteSize = 0;
      }
    }
    static toJSON(_0x24e78e, _0x66f6e4, _0x3ed226) {
      if (!this.modelStyleConver) {
        this.modelStyleConver = new ModelStyleConver();
      }
      this.modelStyleConver.isEntity = _0x3ed226;
      return this.modelStyleConver.toJSON(_0x24e78e, _0x66f6e4);
    }
    _toOneJson(_0x2ca6b7, _0x11f1b6, _0x2ca901) {
      switch (_0x2ca6b7) {
        case "uri":
          {
            _0x2ca901.url = _0x11f1b6;
            break;
          }
        default:
          this._toOneJson_Point(_0x2ca6b7, _0x11f1b6, _0x2ca901);
          break;
      }
    }
    static setOpacity(_0x537812, _0x356831) {
      const _0x3038b3 = getCesiumValue(_0x537812.color, Cesium__namespace.Color);
      if (!Cesium__namespace.defined(_0x537812._color_alpha_bak)) {
        _0x537812._color_alpha_bak = _0x3038b3?.alpha ?? 1;
      }
      if (_0x3038b3) {
        _0x537812.color = _0x3038b3.withAlpha(_0x356831 * _0x537812._color_alpha_bak);
      } else {
        _0x537812.color = Cesium__namespace.Color.WHITE.withAlpha(_0x356831);
      }
      const _0x363d79 = getCesiumValue(_0x537812.silhouetteColor, Cesium__namespace.Color);
      if (_0x363d79) {
        if (!Cesium__namespace.defined(_0x537812._silhouetteColor_alpha_bak)) {
          _0x537812._silhouetteColor_alpha_bak = _0x363d79.alpha ?? 1;
        }
        _0x537812.silhouetteColor = _0x363d79.withAlpha(_0x356831 * _0x537812._silhouetteColor_alpha_bak);
      }
    }
  }
  class PathStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x35298c, _0x562937, _0x11dc23) {
      if (!this.pathStyleConver) {
        this.pathStyleConver = new PathStyleConver();
      }
      this.pathStyleConver.isEntity = _0x11dc23;
      return this.pathStyleConver.toCesiumVal(_0x35298c, _0x562937);
    }
    _toOneCesiumVal(_0x8af6ff, _0xfbb6b6, _0x474fd7, _0x24f6bb) {
      this._toOneCesiumVal_Poly(_0x8af6ff, _0xfbb6b6, _0x474fd7, _0x24f6bb);
    }
    static toJSON(_0x3acd63, _0x4ad8d4, _0x5a32e3) {
      if (!this.pathStyleConver) {
        this.pathStyleConver = new PathStyleConver();
      }
      this.pathStyleConver.isEntity = _0x5a32e3;
      return this.pathStyleConver.toJSON(_0x3acd63, _0x4ad8d4);
    }
    _toOneJson(_0x235bc8, _0x5329c6, _0x58772c) {
      this._toOneJson_Poly(_0x235bc8, _0x5329c6, _0x58772c);
    }
  }
  class PlaneStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x17cc2c, _0x339ead, _0x37aaef) {
      if (!this.planeStyleConver) {
        this.planeStyleConver = new PlaneStyleConver();
      }
      this.planeStyleConver.isEntity = _0x37aaef;
      return this.planeStyleConver.toCesiumVal(_0x17cc2c, _0x339ead);
    }
    _toCesiumValBefore(_0x2b0af2, _0x21cfde) {
      super._toCesiumValBefore(_0x2b0af2, _0x21cfde);
    }
    _toOneCesiumVal(_0x1950a8, _0x184a79, _0x3ce755, _0x30143d) {
      switch (_0x1950a8) {
        case "dimensions_x":
          {
            const _0x271823 = _0x3ce755.dimensions_x ?? 100;
            const _0x4231d5 = _0x3ce755.dimensions_y ?? 100;
            _0x30143d.dimensions = new Cesium__namespace.Cartesian2(_0x271823, _0x4231d5);
            break;
          }
        case "scaleX":
        case "scaleY":
          {
            const _0x5d6beb = _0x3ce755.scaleX ?? 1;
            const _0x211806 = _0x3ce755.scaleY ?? 1;
            _0x30143d.dimensions = new Cesium__namespace.Cartesian2(_0x5d6beb, _0x211806);
            break;
          }
        case "plane_normal":
          {
            let _0x5aee0f;
            switch (_0x184a79) {
              case "x":
                _0x5aee0f = Cesium__namespace.Cartesian3.UNIT_X;
                break;
              case "y":
                _0x5aee0f = Cesium__namespace.Cartesian3.UNIT_Y;
                break;
              case "z":
                _0x5aee0f = Cesium__namespace.Cartesian3.UNIT_Z;
                break;
              default:
                _0x5aee0f = _0x184a79;
                break;
            }
            const _0x456d88 = _0x3ce755.plane_distance ?? 0;
            _0x30143d.plane = new Cesium__namespace.Plane(_0x5aee0f, _0x456d88);
            break;
          }
        default:
          this._toOneCesiumVal_Poly(_0x1950a8, _0x184a79, _0x3ce755, _0x30143d);
          break;
      }
    }
    static toJSON(_0x1a6efd, _0x168bf4, _0x1b949a) {
      if (!this.planeStyleConver) {
        this.planeStyleConver = new PlaneStyleConver();
      }
      this.planeStyleConver.isEntity = _0x1b949a;
      return this.planeStyleConver.toJSON(_0x1a6efd, _0x168bf4);
    }
    static toOneJson(_0x383a05, _0x1ceaa4, _0x32cffa) {
      if (!this.planeStyleConver) {
        this.planeStyleConver = new PlaneStyleConver();
      }
      return this.planeStyleConver._toOneJson(_0x383a05, _0x1ceaa4, _0x32cffa);
    }
    _toOneJson(_0x297ef3, _0x7faf47, _0x50e2df) {
      switch (_0x297ef3) {
        case "dimensions":
          {
            _0x50e2df.dimensions_x = _0x7faf47.x;
            _0x50e2df.dimensions_y = _0x7faf47.y;
            break;
          }
        case "plane_normal":
          {
            if (_0x7faf47.equals(Cesium__namespace.Cartesian3.UNIT_X)) {
              _0x50e2df.plane_normal = "x";
            } else if (_0x7faf47.equals(Cesium__namespace.Cartesian3.UNIT_Y)) {
              _0x50e2df.plane_normal = "y";
            } else if (_0x7faf47.equals(Cesium__namespace.Cartesian3.UNIT_Z)) {
              _0x50e2df.plane_normal = "z";
            } else {
              logWarn("plane类型未识别", _0x7faf47);
              _0x50e2df.plane_normal = "z";
            }
            break;
          }
        case "plane":
          {
            if (_0x7faf47.normal.equals(Cesium__namespace.Cartesian3.UNIT_X)) {
              _0x50e2df.plane_normal = "x";
            } else if (_0x7faf47.normal.equals(Cesium__namespace.Cartesian3.UNIT_Y)) {
              _0x50e2df.plane_normal = "y";
            } else if (_0x7faf47.normal.equals(Cesium__namespace.Cartesian3.UNIT_Z)) {
              _0x50e2df.plane_normal = "z";
            } else {
              logWarn("plane类型未识别", _0x7faf47);
              _0x50e2df.plane_normal = "z";
            }
            _0x50e2df.plane_distance = _0x7faf47.distance;
            break;
          }
        default:
          this._toOneJson_Poly(_0x297ef3, _0x7faf47, _0x50e2df);
          break;
      }
    }
  }
  class PointStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x199a8d, _0x11d6e7, _0x406fa7) {
      if (!this.pointStyleConver) {
        this.pointStyleConver = new PointStyleConver();
      }
      this.pointStyleConver.isEntity = _0x406fa7;
      return this.pointStyleConver.toCesiumVal(_0x199a8d, _0x11d6e7);
    }
    _toCesiumValBefore(_0x42404e, _0x149eee) {
      if (!Cesium__namespace.defined(_0x149eee.pixelSize)) {
        _0x149eee.pixelSize = 6;
      }
    }
    _toCesiumValEnd(_0x199bd8, _0x298ea8) {
      if (_0x199bd8.outline === false) {
        _0x298ea8.outlineWidth = 0;
      }
    }
    _toOneCesiumVal(_0x240795, _0x1912ac, _0x23af47, _0xdd188e) {
      switch (_0x240795) {
        case "color":
        case "randomColor":
          {
            _0xdd188e.color = this.getColorByStyle(_0x23af47);
            break;
          }
        case "outlineColor":
          {
            _0xdd188e.outlineColor = this.getOutlineColorByStyle(_0x23af47);
            break;
          }
        default:
          this._toOneCesiumVal_Point(_0x240795, _0x1912ac, _0x23af47, _0xdd188e);
          break;
      }
    }
    static toJSON(_0x5d137d, _0x4cdb25, _0x58d08f) {
      if (!this.pointStyleConver) {
        this.pointStyleConver = new PointStyleConver();
      }
      this.pointStyleConver.isEntity = _0x58d08f;
      return this.pointStyleConver.toJSON(_0x5d137d, _0x4cdb25);
    }
    _toOneJson(_0x29c0b4, _0xa2d9fc, _0x192d4a) {
      this._toOneJson_Point(_0x29c0b4, _0xa2d9fc, _0x192d4a);
    }
    static setOpacity(_0x398b21, _0x28fd5f) {
      const _0x13256c = getCesiumValue(_0x398b21.color, Cesium__namespace.Color);
      if (_0x13256c) {
        if (!Cesium__namespace.defined(_0x398b21._color_alpha_bak)) {
          _0x398b21._color_alpha_bak = _0x13256c.alpha ?? 1;
        }
        _0x398b21.color = _0x13256c.withAlpha(_0x28fd5f * _0x398b21._color_alpha_bak);
      } else {
        _0x398b21.color = Cesium__namespace.Color.WHITE.withAlpha(_0x28fd5f);
      }
      const _0x189542 = getCesiumValue(_0x398b21.outlineColor, Cesium__namespace.Color);
      if (_0x189542) {
        if (!Cesium__namespace.defined(_0x398b21._outlineColor_alpha_bak)) {
          _0x398b21._outlineColor_alpha_bak = _0x189542.alpha ?? 1;
        }
        _0x398b21.outlineColor = _0x189542.withAlpha(_0x28fd5f * _0x398b21._outlineColor_alpha_bak);
      }
    }
  }
  class PolygonStyleConver extends BaseStyleConver {
    static toCesiumVal(_0xf61256, _0x493419, _0x31df1c) {
      if (!this.polygonStyleConver) {
        this.polygonStyleConver = new PolygonStyleConver();
      }
      this.polygonStyleConver.isEntity = _0x31df1c;
      return this.polygonStyleConver.toCesiumVal(_0xf61256, _0x493419);
    }
    _toCesiumValBefore(_0x59fd04, _0x4d3168) {
      super._toCesiumValBefore(_0x59fd04, _0x4d3168);
      if (_0x59fd04.clampToGround) {
        _0x4d3168.arcType = Cesium__namespace.ArcType.GEODESIC;
        if (_0x59fd04.hasOwnProperty("height")) {
          delete _0x59fd04.height;
        }
        if (_0x59fd04.hasOwnProperty("diffHeight")) {
          delete _0x59fd04.diffHeight;
        }
        if (_0x59fd04.hasOwnProperty("extrudedHeight")) {
          delete _0x59fd04.extrudedHeight;
        }
      } else if (Cesium__namespace.defined(_0x59fd04.height)) {
        _0x59fd04.clampToGround = false;
        _0x4d3168.perPositionHeight = false;
      } else {
        _0x59fd04.clampToGround = false;
        _0x4d3168.perPositionHeight = true;
      }
    }
    _toOneCesiumVal(_0x42db7e, _0x34d622, _0x5eceac, _0x1f369a) {
      switch (_0x42db7e) {
        case "outlineColor":
          {
            _0x1f369a.outlineColor = this.getOutlineColorByStyle(_0x5eceac);
            break;
          }
        case "height":
          {
            _0x1f369a[_0x42db7e] = _0x34d622;
            _0x1f369a.perPositionHeight = false;
            break;
          }
        case "diffHeight":
          {
            if (Cesium__namespace.defined(_0x5eceac.height)) {
              _0x1f369a.extrudedHeight = Number(_0x5eceac.height) + Number(_0x34d622);
            }
            break;
          }
        case "clampToGround":
          _0x1f369a[_0x42db7e] = _0x34d622;
          _0x1f369a.perPositionHeight = !_0x34d622 && !Cesium__namespace.defined(_0x5eceac.height);
          break;
        case "stRotation":
          _0x1f369a.stRotation = _0x34d622;
          break;
        case "stRotationDegree":
          _0x1f369a.stRotation = Cesium__namespace.Math.toRadians(_0x34d622);
          break;
        default:
          this._toOneCesiumVal_Poly(_0x42db7e, _0x34d622, _0x5eceac, _0x1f369a);
          break;
      }
    }
    static toJSON(_0x101f6a, _0x245766, _0x4c6bf4) {
      if (!this.polygonStyleConver) {
        this.polygonStyleConver = new PolygonStyleConver();
      }
      this.polygonStyleConver.isEntity = _0x4c6bf4;
      return this.polygonStyleConver.toJSON(_0x101f6a, _0x245766);
    }
    _toOneJson(_0x25ad42, _0x2d1ba7, _0x185f4a) {
      switch (_0x25ad42) {
        case "stRotation":
          {
            _0x185f4a.stRotationDegree = formatNum$1(Cesium__namespace.Math.toDegrees(_0x2d1ba7), 1);
            break;
          }
        default:
          this._toOneJson_Poly(_0x25ad42, _0x2d1ba7, _0x185f4a);
          break;
      }
    }
  }
  class PolylineStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x3c0c0e, _0x504f61, _0x4cea8d) {
      if (!this.polylineStyleConver) {
        this.polylineStyleConver = new PolylineStyleConver();
      }
      this.polylineStyleConver.isEntity = _0x4cea8d;
      return this.polylineStyleConver.toCesiumVal(_0x3c0c0e, _0x504f61);
    }
    _toCesiumValBefore(_0x337210, _0x4ba998) {
      super._toCesiumValBefore(_0x337210, _0x4ba998);
      if (_0x337210.clampToGround) {
        _0x4ba998.arcType = Cesium__namespace.ArcType.GEODESIC;
      }
      if (_0x337210.materialType === Color$2 && _0x337210.outline && _0x337210.outlineColor) {
        _0x337210.materialType = PolylineOutline;
      }
    }
    _toOneCesiumVal(_0x4a31e2, _0x392217, _0x7848e, _0x5e68d2) {
      switch (_0x4a31e2) {
        case "depthFail":
          if (_0x392217) {
            let _0x3f9126 = getCesiumColor(_0x7848e.depthFailColor || _0x7848e.color, Cesium__namespace.Color.YELLOW);
            if (Cesium__namespace.defined(_0x7848e.depthFailOpacity)) {
              _0x3f9126 = _0x3f9126.withAlpha(Number(_0x7848e.depthFailOpacity));
            }
            if (this.isEntity) {
              _0x5e68d2.depthFailMaterial = _0x3f9126;
            } else {
              _0x5e68d2.depthFailColor = _0x3f9126;
            }
            if (_0x7848e.opacity === 1) {
              _0x7848e.opacity = 0.98;
            }
          } else {
            _0x5e68d2.depthFailMaterial = undefined;
          }
          _0x5e68d2[_0x4a31e2] = _0x392217;
          break;
        case "closure":
          if (!this.isEntity) {
            _0x5e68d2.loop = _0x392217;
          }
          _0x5e68d2.closure = _0x392217;
          break;
        default:
          this._toOneCesiumVal_Poly(_0x4a31e2, _0x392217, _0x7848e, _0x5e68d2);
          break;
      }
    }
    static toJSON(_0x3a1eb9, _0x52741e, _0xc52c21) {
      if (!this.polylineStyleConver) {
        this.polylineStyleConver = new PolylineStyleConver();
      }
      this.polylineStyleConver.isEntity = _0xc52c21;
      return this.polylineStyleConver.toJSON(_0x3a1eb9, _0x52741e);
    }
    _toOneJson(_0x44d261, _0x3f3b66, _0x183386) {
      switch (_0x44d261) {
        case "loop":
          _0x183386.closure = _0x3f3b66;
          break;
        default:
          this._toOneJson_Poly(_0x44d261, _0x3f3b66, _0x183386);
          break;
      }
    }
  }
  class PolylineVolumeStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x1ef221, _0x2a21f9, _0x354e83) {
      if (!this.polylineVolumeStyleConver) {
        this.polylineVolumeStyleConver = new PolylineVolumeStyleConver();
      }
      this.polylineVolumeStyleConver.isEntity = _0x354e83;
      return this.polylineVolumeStyleConver.toCesiumVal(_0x1ef221, _0x2a21f9);
    }
    _toCesiumValEnd(_0x420877, _0x53b64e) {
      const _0x4b101e = _0x420877.shape || _0x420877.shapePositions;
      _0x420877.radius = _0x420877.radius || 10;
      switch (_0x4b101e) {
        case "pipeline":
          _0x53b64e.shape = PolylineVolumeStyleConver.getShapeForPipeline(_0x420877);
          break;
        case "circle":
          _0x53b64e.shape = PolylineVolumeStyleConver.getShapeForCircle(_0x420877);
          break;
        case "star":
          _0x53b64e.shape = PolylineVolumeStyleConver.getShapeForStar(_0x420877);
          break;
        case "triangle":
          _0x53b64e.shape = PolylineVolumeStyleConver.getShapeForTriangle(_0x420877);
          break;
        default:
          _0x53b64e.shape = _0x4b101e;
          break;
      }
    }
    _toOneCesiumVal(_0x3033a5, _0x2c74ae, _0x25adfd, _0x145de2) {
      this._toOneCesiumVal_Poly(_0x3033a5, _0x2c74ae, _0x25adfd, _0x145de2);
    }
    static toJSON(_0x409172, _0xc603b1, _0x412c14) {
      if (!this.polylineVolumeStyleConver) {
        this.polylineVolumeStyleConver = new PolylineVolumeStyleConver();
      }
      this.polylineVolumeStyleConver.isEntity = _0x412c14;
      return this.polylineVolumeStyleConver.toJSON(_0x409172, _0xc603b1);
    }
    _toOneJson(_0xbeda9b, _0x1f30f3, _0x872642) {
      this._toOneJson_Poly(_0xbeda9b, _0x1f30f3, _0x872642);
    }
    static getShapeForPipeline(_0x10d0eb) {
      const _0x18312f = _0x10d0eb.radius ?? 1;
      const _0x43d27a = _0x10d0eb.thicknes ?? _0x18312f / 3;
      const _0x57efc0 = Math.ceil(360 / (_0x10d0eb.slices ?? 60));
      const _0x17a944 = _0x10d0eb.startAngle ?? 0;
      const _0x16a398 = _0x10d0eb.endAngle ?? _0x17a944 + 360;
      const _0x3d3a5b = _0x10d0eb.vscale ?? 1;
      const _0x25b8fd = _0x10d0eb.hscale ?? 1;
      const _0x1a0ccb = [];
      for (let _0x2eb3f7 = _0x17a944; _0x2eb3f7 <= _0x16a398; _0x2eb3f7 += _0x57efc0) {
        const _0x19a1e2 = Cesium__namespace.Math.toRadians(_0x2eb3f7);
        const _0x50fe51 = _0x18312f * _0x25b8fd * Math.cos(_0x19a1e2);
        const _0xf61470 = _0x18312f * _0x3d3a5b * Math.sin(_0x19a1e2);
        _0x1a0ccb.push(new Cesium__namespace.Cartesian2(_0x50fe51, _0xf61470));
      }
      if (_0x18312f !== _0x43d27a) {
        for (let _0x16de37 = _0x16a398; _0x16de37 >= _0x17a944; _0x16de37 -= _0x57efc0) {
          const _0x287286 = Cesium__namespace.Math.toRadians(_0x16de37);
          const _0x4cc2b1 = (_0x18312f - _0x43d27a) * _0x25b8fd * Math.cos(_0x287286);
          const _0x2ffc33 = (_0x18312f - _0x43d27a) * _0x3d3a5b * Math.sin(_0x287286);
          _0x1a0ccb.push(new Cesium__namespace.Cartesian2(_0x4cc2b1, _0x2ffc33));
        }
      }
      return _0x1a0ccb;
    }
    static getShapeForCircle(_0x1c967e) {
      const _0x18ccdd = _0x1c967e.radius ?? 1;
      const _0xb40c50 = Math.ceil(360 / (_0x1c967e.slices ?? 60));
      const _0x4ac500 = _0x1c967e.startAngle ?? 0;
      const _0xc4f39a = _0x1c967e.endAngle ?? _0x4ac500 + 360;
      const _0x4ed626 = _0x1c967e.vscale ?? 1;
      const _0x45b6a5 = _0x1c967e.hscale ?? 1;
      const _0x246b97 = [];
      for (let _0xb8a6f6 = _0x4ac500; _0xb8a6f6 <= _0xc4f39a; _0xb8a6f6 += _0xb40c50) {
        const _0x5a4028 = Cesium__namespace.Math.toRadians(_0xb8a6f6);
        _0x246b97.push(new Cesium__namespace.Cartesian2(_0x18ccdd * _0x45b6a5 * Math.cos(_0x5a4028), _0x18ccdd * _0x4ed626 * Math.sin(_0x5a4028)));
      }
      return _0x246b97;
    }
    static getShapeForStar(_0x10e142) {
      const _0x152826 = _0x10e142.radius ?? 1;
      const _0x3c0b4c = _0x152826 - (_0x10e142.thicknes ?? _0x152826 / 3);
      const _0x2d807d = _0x10e142.slices ?? 6;
      const _0x477f47 = Cesium__namespace.Math.toRadians(_0x10e142.startAngle ?? 0);
      const _0x2ea160 = Math.PI / _0x2d807d;
      const _0x3ca229 = _0x2d807d * 2;
      const _0xdc76b7 = new Array(_0x3ca229);
      for (let _0xc7e6c1 = 0; _0xc7e6c1 < _0x3ca229; _0xc7e6c1++) {
        const _0x46f59c = _0xc7e6c1 % 2 === 0 ? _0x152826 : _0x3c0b4c;
        const _0x4d988d = _0x477f47 + _0xc7e6c1 * _0x2ea160;
        _0xdc76b7[_0xc7e6c1] = new Cesium__namespace.Cartesian2(Math.cos(_0x4d988d) * _0x46f59c, Math.sin(_0x4d988d) * _0x46f59c);
      }
      return _0xdc76b7;
    }
    static getShapeForTriangle(_0x18be96) {
      const _0x580a1f = _0x18be96.radius ?? 1;
      const _0x794ada = Cesium__namespace.Math.toRadians(_0x18be96.angle ?? 60);
      const _0x34ee46 = [];
      _0x34ee46.push(new Cesium__namespace.Cartesian2(-_0x580a1f * Math.cos(_0x794ada), -_0x580a1f * Math.sin(_0x794ada) / 2));
      _0x34ee46.push(new Cesium__namespace.Cartesian2(_0x580a1f * Math.cos(_0x794ada), -_0x580a1f * Math.sin(_0x794ada) / 2));
      _0x34ee46.push(new Cesium__namespace.Cartesian2(0, _0x580a1f * Math.sin(_0x794ada) / 2));
      return _0x34ee46;
    }
  }
  class RectangleStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x278e8a, _0x53635c, _0x10e18a) {
      if (!this.rectangleStyleConver) {
        this.rectangleStyleConver = new RectangleStyleConver();
      }
      this.rectangleStyleConver.isEntity = _0x10e18a;
      return this.rectangleStyleConver.toCesiumVal(_0x278e8a, _0x53635c);
    }
    _toCesiumValBefore(_0x531f90, _0x5b1067) {
      super._toCesiumValBefore(_0x531f90, _0x5b1067);
      if (_0x531f90.clampToGround) {
        if (_0x531f90.hasOwnProperty("height")) {
          delete _0x531f90.height;
        }
        if (_0x531f90.hasOwnProperty("diffHeight")) {
          delete _0x531f90.diffHeight;
        }
        if (_0x531f90.hasOwnProperty("extrudedHeight")) {
          delete _0x531f90.extrudedHeight;
        }
      } else {
        _0x531f90.clampToGround = false;
        _0x5b1067.height = 0;
      }
    }
    _toOneCesiumVal(_0x5f55b4, _0x2ade30, _0x275875, _0x2fd385) {
      switch (_0x5f55b4) {
        case "height":
          _0x2fd385.height = _0x2ade30;
          if (_0x275875.diffHeight) {
            _0x2fd385.extrudedHeight = Number(_0x275875.diffHeight) + Number(_0x2ade30);
          }
          break;
        case "diffHeight":
          if (Cesium__namespace.defined(_0x275875.height)) {
            _0x2fd385.extrudedHeight = _0x275875.height + _0x2ade30;
          }
          break;
        case "rotation":
          _0x2fd385.rotation = _0x2ade30;
          if (!Cesium__namespace.defined(_0x275875.stRotation)) {
            _0x2fd385.stRotation = _0x2fd385.rotation;
          }
          break;
        case "rotationDegree":
          _0x2fd385.rotation = Cesium__namespace.Math.toRadians(_0x2ade30);
          if (!Cesium__namespace.defined(_0x275875.stRotation)) {
            _0x2fd385.stRotation = _0x2fd385.rotation;
          }
          break;
        case "stRotation":
          _0x2fd385.stRotation = _0x2ade30;
          break;
        case "stRotationDegree":
          _0x2fd385.stRotation = Cesium__namespace.Math.toRadians(_0x2ade30);
          break;
        case "clampToGround":
          if (_0x2ade30) {
            _0x2fd385.heightReference = Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
          } else {
            _0x2fd385.heightReference = Cesium__namespace.HeightReference.NONE;
          }
          break;
        default:
          this._toOneCesiumVal_Poly(_0x5f55b4, _0x2ade30, _0x275875, _0x2fd385);
          break;
      }
    }
    static toJSON(_0x184370, _0x4e6132, _0x4b141e) {
      if (!this.rectangleStyleConver) {
        this.rectangleStyleConver = new RectangleStyleConver();
      }
      this.rectangleStyleConver.isEntity = _0x4b141e;
      return this.rectangleStyleConver.toJSON(_0x184370, _0x4e6132);
    }
    _toOneJson(_0x15116f, _0x3d69c6, _0x15364a) {
      this._toOneJson_Poly(_0x15116f, _0x3d69c6, _0x15364a);
    }
  }
  (function (_0x58d994, _0x48ffa8) {
    const _0x258572 = {
      _0x4fe83d: "pUbz",
      _0x402183: 600,
      _0x5e8ad1: "kd0L",
      _0x1db361: 603,
      _0x3e94fa: "nmV3",
      _0x3564ac: 601,
      _0x2dde56: "maYP",
      _0x10b49a: 398,
      _0x103c90: "sdV@",
      _0x12768e: 604,
      _0x1869cd: "U#[e",
      _0x374968: 412,
      _0x51e2e7: "rU^w",
      _0x4785c3: 606,
      _0x880e20: 607,
      _0x30f01d: "sx3x",
      _0x2acbc4: 401,
      _0x290d16: "Yan1",
      _0x1d0c18: 404,
      _0x9217e4: "maYP",
      _0x24c38a: 416
    };
    const _0x14904c = {
      _0x36ee61: 264
    };
    const _0x542054 = {
      _0x4576a8: 63
    };
    function _0x63ee29(_0x424c8a, _0xf08174) {
      return _0x399b(_0xf08174 - _0x542054._0x4576a8, _0x424c8a);
    }
    const _0x266151 = _0x58d994();
    function _0x461916(_0x13d08d, _0x5c3c29) {
      return _0x399b(_0x5c3c29 - _0x14904c._0x36ee61, _0x13d08d);
    }
    while (true) {
      try {
        const _0x209aa8 = -parseInt(_0x461916(_0x258572._0x4fe83d, _0x258572._0x402183)) / 1 * (parseInt(_0x461916(_0x258572._0x5e8ad1, _0x258572._0x1db361)) / 2) + -parseInt(_0x461916(_0x258572._0x3e94fa, _0x258572._0x3564ac)) / 3 * (-parseInt(_0x63ee29(_0x258572._0x2dde56, _0x258572._0x10b49a)) / 4) + -parseInt(_0x461916(_0x258572._0x103c90, _0x258572._0x12768e)) / 5 + parseInt(_0x63ee29(_0x258572._0x1869cd, _0x258572._0x374968)) / 6 * (parseInt(_0x461916(_0x258572._0x51e2e7, _0x258572._0x4785c3)) / 7) + parseInt(_0x461916(_0x258572._0x2dde56, _0x258572._0x880e20)) / 8 + -parseInt(_0x63ee29(_0x258572._0x30f01d, _0x258572._0x2acbc4)) / 9 * (parseInt(_0x63ee29(_0x258572._0x290d16, _0x258572._0x1d0c18)) / 10) + parseInt(_0x63ee29(_0x258572._0x9217e4, _0x258572._0x24c38a)) / 11;
        if (_0x209aa8 === _0x48ffa8) {
          break;
        } else {
          _0x266151.push(_0x266151.shift());
        }
      } catch (_0x2eebbd) {
        _0x266151.push(_0x266151.shift());
      }
    }
  })(_0x5b0d, 685363);
  const name$1 = _0x4d65f7(-75, "ngIo");
  function _0x5b0d() {
    const _0x76ed43 = ["C2L1W7qwWRldQ3Kpua", "n8oUkhqDkaBcRvykASomW7e", "bKxdGdS5rqm7", "ftpdULfRW4NcVHNdN8oFW4i", "WOarW5hcUSk3W4HVgYJdOx1BW4S", "BSo0W6lcRYBcJCk5W5DV", "WPhdJfqWg8kkWRlcG1ldPrVdPq", "t01VWQqrW4vMW4a", "WRHiEmozsYSsWQW1WQpdLgW", "WRRdSJRdQxVdK8knDmoamtJdNa", "54cH5PQ/56Ef5OQn5yAW6lEL5yAe5B2Q54IRpXFcVN/dGuhdLuldUI8z", "Cg1ZW7LzW7BcUHzveW", "WPhdI1e8qmokWPBcIg7dKW", "g315WPxdKe3cOa", "WPFcTSkHWQfFvmoYfqL3", "WRzyACkrB8onW4fMD8ouWOm", "wSoyAmkvWRTQW5DDhCkrn8k0WPC", "DCkmWOlcNmkLW5T3y8kuW7ZdUKu6", "W5vqjdlcNNhcT0ae", "vSkLE8kzWQiIx8ohWR/cPSolsa", "WPNdHLC9e8kjW4BcSgRdKc/dS8o4", "FSkiW6xcLSkPW54QW5LuWQ0", "uSotySkFWRjKW5vfh8kpdmknWRq", "WP5/xCoEfmodxq"];
    _0x5b0d = function () {
      return _0x76ed43;
    };
    return _0x5b0d();
  }
  function _0x399b(_0x42250a, _0x5b8ec9) {
    const _0x23d2db = _0x5b0d();
    _0x399b = function (_0x5a7d39, _0x35fe12) {
      _0x5a7d39 = _0x5a7d39 - 334;
      let _0x571c55 = _0x23d2db[_0x5a7d39];
      if (_0x399b.clQMmY === undefined) {
        function _0x4ec599(_0x2760ce) {
          const _0x34b31f = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";
          let _0x58a6aa = "";
          let _0x535470 = "";
          for (let _0x1d5fd5 = 0, _0x3b5aca, _0x4d52a1, _0x46659e = 0; _0x4d52a1 = _0x2760ce.charAt(_0x46659e++); ~_0x4d52a1 && (_0x3b5aca = _0x1d5fd5 % 4 ? _0x3b5aca * 64 + _0x4d52a1 : _0x4d52a1, _0x1d5fd5++ % 4) ? _0x58a6aa += String.fromCharCode(_0x3b5aca >> (_0x1d5fd5 * -2 & 6) & 255) : 0) {
            _0x4d52a1 = _0x34b31f.indexOf(_0x4d52a1);
          }
          for (let _0x4b43c9 = 0, _0x12f355 = _0x58a6aa.length; _0x4b43c9 < _0x12f355; _0x4b43c9++) {
            _0x535470 += "%" + ("00" + _0x58a6aa.charCodeAt(_0x4b43c9).toString(16)).slice(-2);
          }
          return decodeURIComponent(_0x535470);
        }
        const _0x1a35c7 = function (_0x263fd, _0xa014f0) {
          let _0x535b94 = [];
          let _0x5addc2 = 0;
          let _0x409089;
          let _0xef36e4 = "";
          _0x263fd = _0x4ec599(_0x263fd);
          let _0x5b6e99;
          for (_0x5b6e99 = 0; _0x5b6e99 < 256; _0x5b6e99++) {
            _0x535b94[_0x5b6e99] = _0x5b6e99;
          }
          for (_0x5b6e99 = 0; _0x5b6e99 < 256; _0x5b6e99++) {
            _0x5addc2 = (_0x5addc2 + _0x535b94[_0x5b6e99] + _0xa014f0.charCodeAt(_0x5b6e99 % _0xa014f0.length)) % 256;
            _0x409089 = _0x535b94[_0x5b6e99];
            _0x535b94[_0x5b6e99] = _0x535b94[_0x5addc2];
            _0x535b94[_0x5addc2] = _0x409089;
          }
          _0x5b6e99 = 0;
          _0x5addc2 = 0;
          for (let _0x30578e = 0; _0x30578e < _0x263fd.length; _0x30578e++) {
            _0x5b6e99 = (_0x5b6e99 + 1) % 256;
            _0x5addc2 = (_0x5addc2 + _0x535b94[_0x5b6e99]) % 256;
            _0x409089 = _0x535b94[_0x5b6e99];
            _0x535b94[_0x5b6e99] = _0x535b94[_0x5addc2];
            _0x535b94[_0x5addc2] = _0x409089;
            _0xef36e4 += String.fromCharCode(_0x263fd.charCodeAt(_0x30578e) ^ _0x535b94[(_0x535b94[_0x5b6e99] + _0x535b94[_0x5addc2]) % 256]);
          }
          return _0xef36e4;
        };
        _0x399b.prpoyy = _0x1a35c7;
        _0x42250a = arguments;
        _0x399b.clQMmY = true;
      }
      const _0x2f5f34 = _0x23d2db[0];
      const _0x3d1608 = _0x5a7d39 + _0x2f5f34;
      const _0x1f03da = _0x42250a[_0x3d1608];
      if (!_0x1f03da) {
        if (_0x399b.IpDBNT === undefined) {
          _0x399b.IpDBNT = true;
        }
        _0x571c55 = _0x399b.prpoyy(_0x571c55, _0x35fe12);
        _0x42250a[_0x3d1608] = _0x571c55;
      } else {
        _0x571c55 = _0x1f03da;
      }
      return _0x571c55;
    };
    return _0x399b(_0x42250a, _0x5b8ec9);
  }
  function _0x4d65f7(_0x30c3d6, _0x362b0e) {
    const _0x494345 = {
      _0x217249: 432
    };
    return _0x399b(_0x30c3d6 - -_0x494345._0x217249, _0x362b0e);
  }
  const date = _0x4d65f7(-85, "Y1#P");
  const _0x1f2619 = {
    __proto__: null,
    name: name$1,
    date: date
  };
  var khInfo = _0x1f2619;
  class RectangularSensorStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x2031b6, _0x2da83a) {
      if (!this.rectangularSensorStyleConver) {
        this.rectangularSensorStyleConver = new RectangularSensorStyleConver();
      }
      this.rectangularSensorStyleConver.isEntity = true;
      return this.rectangularSensorStyleConver.toCesiumVal(_0x2031b6, _0x2da83a);
    }
    _toCesiumValBefore(_0x4bdf2e, _0x602666) {
      super._toCesiumValBefore(_0x4bdf2e, _0x602666);
    }
    _getExcludedStyle() {
      return ["lineOpacity", "scanPlaneOpacity"];
    }
    _toOneCesiumVal(_0x5331a2, _0x156b1f, _0x55bb8e, _0x3cf883) {
      switch (_0x5331a2) {
        case "lineColor":
          {
            let _0x251e30 = Cesium__namespace.Color.fromCssColorString(_0x156b1f || "#ffffff");
            if (Cesium__namespace.defined(_0x55bb8e.lineOpacity)) {
              _0x251e30 = _0x251e30.withAlpha(Number(_0x55bb8e.lineOpacity));
            } else if (Cesium__namespace.defined(_0x55bb8e.opacity)) {
              _0x251e30 = _0x251e30.withAlpha(Number(_0x55bb8e.opacity));
            }
            if (Cesium__namespace.defined(_0x55bb8e.globalAlpha) && _0x55bb8e.globalAlpha !== 1) {
              _0x251e30 = _0x251e30.withAlpha(_0x251e30.alpha * _0x55bb8e.globalAlpha);
            }
            _0x3cf883.lineColor = _0x251e30;
            break;
          }
        case "scanPlaneColor":
          {
            let _0x5183f4 = Cesium__namespace.Color.fromCssColorString(_0x156b1f || "#ffffff");
            if (Cesium__namespace.defined(_0x55bb8e.scanPlaneOpacity)) {
              _0x5183f4 = _0x5183f4.withAlpha(Number(_0x55bb8e.scanPlaneOpacity));
            } else if (Cesium__namespace.defined(_0x55bb8e.opacity)) {
              _0x5183f4 = _0x5183f4.withAlpha(Number(_0x55bb8e.opacity));
            }
            if (Cesium__namespace.defined(_0x55bb8e.globalAlpha) && _0x55bb8e.globalAlpha !== 1) {
              _0x5183f4 = _0x5183f4.withAlpha(_0x5183f4.alpha * _0x55bb8e.globalAlpha);
            }
            _0x3cf883.scanPlaneColor = _0x5183f4;
            break;
          }
        case "xHalfAngleDegree":
          _0x3cf883.xHalfAngle = Cesium__namespace.Math.toRadians(_0x156b1f);
          break;
        case "yHalfAngleDegree":
          _0x3cf883.yHalfAngle = Cesium__namespace.Math.toRadians(_0x156b1f);
          break;
        case "depthTest":
          _0x3cf883.showThroughEllipsoid = !_0x156b1f;
          break;
        default:
          this._toOneCesiumVal_Poly(_0x5331a2, _0x156b1f, _0x55bb8e, _0x3cf883);
          break;
      }
    }
    static toJSON(_0x4ce03c, _0x29cd43) {
      if (!this.rectangularSensorStyleConver) {
        this.rectangularSensorStyleConver = new RectangularSensorStyleConver();
      }
      this.rectangularSensorStyleConver.isEntity = true;
      return this.rectangularSensorStyleConver.toJSON(_0x4ce03c, _0x29cd43);
    }
    _toOneJson(_0x104ff8, _0x3de18a, _0x52f7a8) {
      this._toOneJson_Poly(_0x104ff8, _0x3de18a, _0x52f7a8);
    }
    _getInfo(_0x26e6a3) {
      if (_0x26e6a3 === 1987) {
        return khInfo;
      }
    }
  }
  class WallStyleConver extends BaseStyleConver {
    static toCesiumVal(_0x3c5e7f, _0x32504f, _0x39c3a2) {
      if (!this.wallStyleConver) {
        this.wallStyleConver = new WallStyleConver();
      }
      this.wallStyleConver.isEntity = _0x39c3a2;
      return this.wallStyleConver.toCesiumVal(_0x3c5e7f, _0x32504f);
    }
    _toOneCesiumVal(_0x2b7925, _0x44a806, _0x3e1483, _0x1e6907) {
      this._toOneCesiumVal_Poly(_0x2b7925, _0x44a806, _0x3e1483, _0x1e6907);
    }
    static toJSON(_0x42d287, _0x3fed1d, _0x10939) {
      if (!this.wallStyleConver) {
        this.wallStyleConver = new WallStyleConver();
      }
      this.wallStyleConver.isEntity = _0x10939;
      return this.wallStyleConver.toJSON(_0x42d287, _0x3fed1d);
    }
    _toOneJson(_0x105520, _0x4a2499, _0x339112) {
      this._toOneJson_Poly(_0x105520, _0x4a2499, _0x339112);
    }
  }
  var czm_cellular = "\n// Permutation polynomial: (34x^2 + x) mod 289\nvec3 _czm_permute289(vec3 x) {\n  return mod((34.0 * x + 1.0) * x, 289.0);\n}\n\nvec2 czm_cellular(vec2 P) {\n  #define K 0.142857142857 // 1/7\n  #define Ko 0.428571428571 // 3/7\n  #define jitter 1.0 // Less gives more regular pattern\n  vec2 Pi = mod(floor(P), 289.0);\n  vec2 Pf = fract(P);\n  vec3 oi = vec3(-1.0, 0.0, 1.0);\n  vec3 of = vec3(-0.5, 0.5, 1.5);\n  vec3 px = _czm_permute289(Pi.x + oi);\n  vec3 p = _czm_permute289(px.x + Pi.y + oi); // p11, p12, p13\n  vec3 ox = fract(p * K) - Ko;\n  vec3 oy = mod(floor(p * K), 7.0) * K - Ko;\n  vec3 dx = Pf.x + 0.5 + jitter * ox;\n  vec3 dy = Pf.y - of + jitter * oy;\n  vec3 d1 = dx * dx + dy * dy; // d11, d12 and d13, squared\n  p = _czm_permute289(px.y + Pi.y + oi); // p21, p22, p23\n  ox = fract(p * K) - Ko;\n  oy = mod(floor(p * K), 7.0) * K - Ko;\n  dx = Pf.x - 0.5 + jitter * ox;\n  dy = Pf.y - of + jitter * oy;\n  vec3 d2 = dx * dx + dy * dy; // d21, d22 and d23, squared\n  p = _czm_permute289(px.z + Pi.y + oi); // p31, p32, p33\n  ox = fract(p * K) - Ko;\n  oy = mod(floor(p * K), 7.0) * K - Ko;\n  dx = Pf.x - 1.5 + jitter * ox;\n  dy = Pf.y - of + jitter * oy;\n  vec3 d3 = dx * dx + dy * dy; // d31, d32 and d33, squared\n    // Sort out the two smallest distances (F1, F2)\n  vec3 d1a = min(d1, d2);\n  d2 = max(d1, d2); // Swap to keep candidates for F2\n  d2 = min(d2, d3); // neither F1 nor F2 are now in d3\n  d1 = min(d1a, d2); // F1 is now in d1\n  d2 = max(d1a, d2); // Swap to keep candidates for F2\n  d1.xy = (d1.x < d1.y) ? d1.xy : d1.yx; // Swap if smaller\n  d1.xz = (d1.x < d1.z) ? d1.xz : d1.zx; // F1 is in d1.x\n  d1.yz = min(d1.yz, d2.yz); // F2 is now not in d2.yz\n  d1.y = min(d1.y, d1.z); // nor in  d1.z\n  d1.y = min(d1.y, d2.x); // F2 is in d1.y, we're done.\n  return sqrt(d1.xy);\n}\n";
  var czm_snoise = "/**\n * @license\n * Description : Array and textureless GLSL 2D/3D/4D simplex\n *               noise functions.\n *      Author : Ian McEwan, Ashima Arts.\n *  Maintainer : ijm\n *     Lastmod : 20110822 (ijm)\n *     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n *               Distributed under the MIT License. See LICENSE file.\n *               https://github.com/ashima/webgl-noise\n */\n\nvec4 _czm_mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 _czm_mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 _czm_mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nfloat _czm_mod289(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 _czm_permute(vec4 x) {\n  return _czm_mod289(((x * 34.0) + 1.0) * x);\n}\n\nvec3 _czm_permute(vec3 x) {\n  return _czm_mod289(((x * 34.0) + 1.0) * x);\n}\n\nfloat _czm_permute(float x) {\n  return _czm_mod289(((x * 34.0) + 1.0) * x);\n}\n\nvec4 _czm_taylorInvSqrt(vec4 r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat _czm_taylorInvSqrt(float r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 _czm_grad4(float j, vec4 ip) {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p, s;\n\n  p.xyz = floor(fract(vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz * 2.0 - 1.0) * s.www;\n\n  return p;\n}\n\n/**\n * DOC_TBA\n *\n * Implemented by Ian McEwan, Ashima Arts, and distributed under the MIT License.  {@link https://github.com/ashima/webgl-noise}\n *\n * @name czm_snoise\n * @glslFunction\n *\n * @see <a href=\"https://github.com/ashima/webgl-noise\">https://github.com/ashima/webgl-noise</a>\n * @see Stefan Gustavson's paper <a href=\"http://www.itn.liu.se/~stegu/simplexnoise/simplexnoise.pdf\">Simplex noise demystified</a>\n */\nfloat czm_snoise(vec2 v) {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n  0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n  -0.577350269189626,  // -1.0 + 2.0 * C.x\n  0.024390243902439); // 1.0 / 41.0\n    // First corner\n  vec2 i = floor(v + dot(v, C.yy));\n  vec2 x0 = v - i + dot(i, C.xx);\n\n    // Other corners\n  vec2 i1;\n    //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n    //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n    // x0 = x0 - 0.0 + 0.0 * C.xx ;\n    // x1 = x0 - i1 + 1.0 * C.xx ;\n    // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n    // Permutations\n  i = _czm_mod289(i); // Avoid truncation effects in permutation\n  vec3 p = _czm_permute(_czm_permute(i.y + vec3(0.0, i1.y, 1.0)) + i.x + vec3(0.0, i1.x, 1.0));\n\n  vec3 m = max(0.5 - vec3(dot(x0, x0), dot(x12.xy, x12.xy), dot(x12.zw, x12.zw)), 0.0);\n  m = m * m;\n  m = m * m;\n\n    // Gradients: 41 points uniformly over a line, mapped onto a diamond.\n    // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n    // Normalise gradients implicitly by scaling m\n    // Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * (a0 * a0 + h * h);\n\n    // Compute final noise value at P\n  vec3 g;\n  g.x = a0.x * x0.x + h.x * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat czm_snoise(vec3 v) {\n  const vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);\n  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n\n    // First corner\n  vec3 i = floor(v + dot(v, C.yyy));\n  vec3 x0 = v - i + dot(i, C.xxx);\n\n    // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min(g.xyz, l.zxy);\n  vec3 i2 = max(g.xyz, l.zxy);\n\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n    // Permutations\n  i = _czm_mod289(i);\n  vec4 p = _czm_permute(_czm_permute(_czm_permute(i.z + vec4(0.0, i1.z, i2.z, 1.0)) + i.y + vec4(0.0, i1.y, i2.y, 1.0)) + i.x + vec4(0.0, i1.x, i2.x, 1.0));\n\n    // Gradients: 7x7 points over a square, mapped onto an octahedron.\n    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3 ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_);    // mod(j,N)\n\n  vec4 x = x_ * ns.x + ns.yyyy;\n  vec4 y = y_ * ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4(x.xy, y.xy);\n  vec4 b1 = vec4(x.zw, y.zw);\n\n    //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n    //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0) * 2.0 + 1.0;\n  vec4 s1 = floor(b1) * 2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;\n  vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;\n\n  vec3 p0 = vec3(a0.xy, h.x);\n  vec3 p1 = vec3(a0.zw, h.y);\n  vec3 p2 = vec3(a1.xy, h.z);\n  vec3 p3 = vec3(a1.zw, h.w);\n\n    //Normalise gradients\n  vec4 norm = _czm_taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n    // Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot(m * m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3)));\n}\n\nfloat czm_snoise(vec4 v) {\n  const vec4 C = vec4(0.138196601125011,  // (5 - sqrt(5))/20  G4\n  0.276393202250021,  // 2 * G4\n  0.414589803375032,  // 3 * G4\n  -0.447213595499958); // -1 + 4 * G4\n\n    // (sqrt(5) - 1)/4 = F4, used once below\n    #define F4 0.309016994374947451\n\n    // First corner\n  vec4 i = floor(v + dot(v, vec4(F4)));\n  vec4 x0 = v - i + dot(i, C.xxxx);\n\n    // Other corners\n\n    // Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step(x0.yzw, x0.xxx);\n  vec3 isYZ = step(x0.zww, x0.yyz);\n    //  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n    //  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n    // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp(i0, 0.0, 1.0);\n  vec4 i2 = clamp(i0 - 1.0, 0.0, 1.0);\n  vec4 i1 = clamp(i0 - 2.0, 0.0, 1.0);\n\n    //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n    //  x1 = x0 - i1  + 1.0 * C.xxxx\n    //  x2 = x0 - i2  + 2.0 * C.xxxx\n    //  x3 = x0 - i3  + 3.0 * C.xxxx\n    //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n    // Permutations\n  i = _czm_mod289(i);\n  float j0 = _czm_permute(_czm_permute(_czm_permute(_czm_permute(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = _czm_permute(_czm_permute(_czm_permute(_czm_permute(i.w + vec4(i1.w, i2.w, i3.w, 1.0)) + i.z + vec4(i1.z, i2.z, i3.z, 1.0)) + i.y + vec4(i1.y, i2.y, i3.y, 1.0)) + i.x + vec4(i1.x, i2.x, i3.x, 1.0));\n\n    // Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n    // 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0 / 294.0, 1.0 / 49.0, 1.0 / 7.0, 0.0);\n\n  vec4 p0 = _czm_grad4(j0, ip);\n  vec4 p1 = _czm_grad4(j1.x, ip);\n  vec4 p2 = _czm_grad4(j1.y, ip);\n  vec4 p3 = _czm_grad4(j1.z, ip);\n  vec4 p4 = _czm_grad4(j1.w, ip);\n\n    // Normalise gradients\n  vec4 norm = _czm_taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= _czm_taylorInvSqrt(dot(p4, p4));\n\n    // Mix contributions from the five corners\n  vec3 m0 = max(0.6 - vec3(dot(x0, x0), dot(x1, x1), dot(x2, x2)), 0.0);\n  vec2 m1 = max(0.6 - vec2(dot(x3, x3), dot(x4, x4)), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 49.0 * (dot(m0 * m0, vec3(dot(p0, x0), dot(p1, x1), dot(p2, x2))) + dot(m1 * m1, vec2(dot(p3, x3), dot(p4, x4))));\n}\n";
  var LineDotDashMaterial = "uniform vec4 color;\nuniform vec4 gapColor;\nuniform float dashLength;\nuniform float dashPattern;\nin float v_polylineAngle;\n\nconst float maskLength = 16.0;\n\nmat2 rotate(float rad) {\n  float c = cos(rad);\n  float s = sin(rad);\n  return mat2(c, s, -s, c);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  vec2 pos = rotate(v_polylineAngle) * gl_FragCoord.xy;\n\n  float dashPosition = fract(pos.x / (dashLength * czm_pixelRatio));\n  float maskIndex = floor(dashPosition * maskLength);\n  float maskTest = floor(dashPattern / pow(2.0, maskIndex));\n\n  vec4 colorMars3D = (mod(maskTest, 2.0) < 1.0) ? gapColor : color;\n  if(colorMars3D.a < 0.005) {\n    float dashPosition2 = fract(pos.x / (dashLength * 0.25 * czm_pixelRatio));\n    float maskIndex2 = floor(dashPosition2 * maskLength);\n    float maskTest2 = floor(dashPattern / pow(2.0, maskIndex2));\n    colorMars3D = (mod(maskTest2, 2.0) < 1.0) ? gapColor : color;\n    if(colorMars3D.a < 0.005) {\n      discard;\n    }\n  }\n\n  colorMars3D = czm_gammaCorrect(colorMars3D);\n  material.emission = colorMars3D.rgb;\n  material.alpha = colorMars3D.a;\n  return material;\n}\n";
  var LineFlowMaterial = "uniform float globalAlpha;\nuniform bool axisY;\nuniform bool mixt;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = repeat * materialInput.st;\n\n  float currTime = 0.0;\n  if(speed != 0.0) {\n    if(time < 0.0) {\n      currTime = speed * czm_frameNumber / 1000.0;\n    } else {\n      currTime = time;\n    }\n  }\n  float s = (axisY ? st.t : st.s) - currTime;\n  float t = st.t;\n  vec4 imageMars3D = texture(image, vec2(fract(s), t));\n\n  if(color.a == 0.0) {\n    if(imageMars3D.rgb == vec3(1.0)) {\n      discard;\n    }\n  }\n\n  if(hasImage2) {\n   //存在背景图片\n    vec4 imageBG = texture(image2, st);\n    if(imageBG.a != 0.0) {\n      if(color2.rgb == vec3(1.0)) {\n        material.alpha = imageBG.a * globalAlpha;\n        material.diffuse = imageBG.rgb;\n      } else {\n        material.alpha = imageBG.a * color2.a * globalAlpha;\n        if(mixt)\n          material.diffuse = max(imageBG.rgb * color2.rgb * material.alpha * 3.0, imageBG.rgb * color2.rgb);\n        else\n          material.diffuse = color2.rgb;\n      }\n      return material;\n    }\n  }\n\n  //主图片\n  if(color.rgb == vec3(1.0)) {\n    material.alpha = imageMars3D.a * globalAlpha;\n    material.diffuse = imageMars3D.rgb;\n  } else {\n    material.alpha = imageMars3D.a * color.a * globalAlpha;\n    if(mixt)\n      material.diffuse = max(imageMars3D.rgb * color.rgb * material.alpha * 3.0, imageMars3D.rgb * color.rgb);\n    else\n      material.diffuse = color.rgb;\n  }\n\n  if(bgColor.a > 0.0 && material.alpha == 0.0) {\n    material.alpha = bgColor.a * globalAlpha;\n    material.diffuse = bgColor.rgb;\n  }\n\n  return material;\n}\n";
  var LineFlowColorMaterial = "uniform vec4 color;\nuniform float speed;\nuniform float startTime;\nuniform float percent;\nuniform float alpha;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float t = fract(startTime + czm_frameNumber * speed / 1000.0);\n  t *= (1.0 + percent);\n\n  float alphaMars3D = smoothstep(t - percent, t, st.s) * step(-t, -st.s);\n  alphaMars3D += alpha;\n\n  material.diffuse = color.rgb;\n  material.alpha = alphaMars3D * globalAlpha;\n  return material;\n}\n";
  var ODLineMaterial = "uniform vec4 color;\nuniform vec4 bgColor;\nuniform float speed;\nuniform float startTime;\nuniform float bidirectional;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float t = fract(startTime + czm_frameNumber * speed / 1000.0);\n\n  t *= 1.03;\n  float alpha0 = smoothstep(t - 0.03, t, st.s) * step(st.s, t);\n  float mt = 1. - t;\n  float alphaMars3D = smoothstep(mt + 0.03, mt, st.s) * step(mt, st.s);\n\n  float a0 = step(abs(bidirectional - 0.0) - 0.001, 0.);\n  float a1 = step(abs(bidirectional - 1.0) - 0.001, 0.);\n  float db = step(abs(bidirectional - 2.0) - 0.001, 0.);\n  float alpha = alpha0 * (a0 + db) + alphaMars3D * (a1 + db);\n  alpha = clamp(alpha, 0., 1.);\n\n  material.diffuse = color.rgb * alpha + bgColor.rgb * (1. - alpha);\n  material.alpha = (color.a * alpha + bgColor.a * (1. - alpha)) * globalAlpha;\n\n    // if (useImageAndRepeat.x != 0.) {\n    //     float repeat = useImageAndRepeat.y;\n    //     vec4 marsImageColor = texture(image, fract(vec2(fract((st.s-t)*repeat), st.t)));\n    //     material.diffuse = marsImageColor.rgb;\n    //     material.alpha = marsImageColor.a;\n    // }\n\n  return material;\n}\n";
  var LineFlickerMaterial = "uniform vec4 color;\nuniform float speed;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  float time = fract(czm_frameNumber * speed / 1000.0);\n  vec2 st = materialInput.st;\n  float scalarMars3D = smoothstep(0.0, 1.0, time);\n  material.diffuse = color.rgb * scalarMars3D;\n  material.alpha = color.a * scalarMars3D * globalAlpha;\n  return material;\n}\n";
  var LineTrailMaterial = "uniform vec4 bgColor;\nuniform vec4 color;\nuniform float speed;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float time = fract(czm_frameNumber * speed / 1000.0);\n\n  vec3 colorMars3D = color.rgb;\n  if(st.t > 0.45 && st.t < 0.55) {\n    colorMars3D = vec3(1.0);\n  }\n  material.alpha = color.a * 1.5 * smoothstep(.0, 1., fract(st.s - time));\n  material.diffuse = max(colorMars3D.rgb * material.alpha, colorMars3D.rgb);\n\n  if(material.alpha < bgColor.a) {\n    material.alpha = bgColor.a;\n    material.diffuse = bgColor.rgb;\n  }\n  material.alpha = material.alpha * globalAlpha;\n\n  return material;\n}\n";
  var LineBloomMaterial = "uniform vec4 color;\nuniform float speed;\nuniform float glow;\nuniform float showRatio;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  vec2 st = materialInput.st;\n  if(showRatio > 0.0 && st.t > showRatio) {\n    discard;\n  }\n  if(showRatio < 0.0 && st.t < abs(showRatio)) {\n    discard;\n  }\n\n  float t = fract(speed * czm_frameNumber / 1000.0);\n  t *= 1.03;\n\n  float alphaMars3D = smoothstep(t - 0.03, t, st.s) * step(-t, -st.s);\n  alphaMars3D += 0.1;\n\n  vec4 fragColor;\n  fragColor.rgb = (color.rgb) / 0.5;\n  fragColor = czm_gammaCorrect(fragColor);\n  material.diffuse = fragColor.rgb;\n  material.alpha = alphaMars3D * globalAlpha;\n  material.emission = fragColor.rgb * glow;\n  return material;\n}\n";
  var DigitalFlowMaterial = "uniform float globalAlpha;\n\nfloat plot(float st, float pct) {\n  return smoothstep(pct, pct, st) - smoothstep(pct, pct + 0.5, st);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float time2 = czm_frameNumber / speed;\n  vec4 colorImage = texture(image, vec2(fract(st.s), fract(float(st.t * segment) - time2)));\n  float percent = distance(st.y, .5) / 0.9;\n  float distance = length(vec2(st.x, st.y));\n  float pfMars3D = plot(distance, fract(czm_frameNumber / 200.0) * 10.);\n  vec4 gradient = mix(vec4(1.0, 1.0, 1.0, 1.0), vec4(pfMars3D, pfMars3D, pfMars3D, 1.0), 0.8);\n  float alpha = (colorImage.a * (1.0 - percent));\n  vec3 diffuse = max(color.rgb * alpha * glow, color.rgb);\n\n  if(flowGlow == 1.0) {\n    vec4 rgba = mix(vec4(diffuse, alpha), gradient, pfMars3D);\n    material.diffuse = rgba.rgb;\n    material.alpha = rgba.a * globalAlpha;\n  } else {\n    material.diffuse = diffuse;\n    material.alpha = alpha * globalAlpha;\n  }\n  return material;\n}\n";
  var LineThreeDashMaterial = "uniform vec4 color;\nuniform float dashLength;\nuniform float dashPattern;\n\nuniform vec4 sidesColor;\nuniform float sidesDashLength;\nuniform float globalAlpha;\n\nin float v_polylineAngle;\n\nconst float maskLength = 16.0;\n\nmat2 rotateMars3D(float rad) {\n  float c = cos(rad);\n  float s = sin(rad);\n  return mat2(c, s, -s, c);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  vec2 pos = rotateMars3D(v_polylineAngle) * gl_FragCoord.xy;\n  vec2 st = materialInput.st;\n\n  float centerGlow = widthRatio / abs(st.t - 0.5) - (widthRatio / 0.5) - 1.0;\n  if(centerGlow > 0.0) {\n    float dashPosition = fract(pos.x / (dashLength * czm_pixelRatio));\n    float maskIndex = floor(dashPosition * maskLength);\n    float maskTest = floor(dashPattern / pow(2.0, maskIndex));\n    if((mod(maskTest, 2.0) < 1.0)) {\n      discard;\n    }\n\n    material.emission = color.rgb;\n    material.alpha = color.a;\n    return material;\n  }\n\n  float sidesGlow = (1.0 - sidesWidthRatio) / abs(st.t - 0.5) - ((1.0 - sidesWidthRatio) / 0.5) - 1.0;\n  if(sidesGlow < 0.0) {\n    float dashPosition = fract(pos.x / (sidesDashLength * czm_pixelRatio));\n    float maskIndex = floor(dashPosition * maskLength);\n    float maskTest = floor(dashPattern / pow(2.0, maskIndex));\n    if((mod(maskTest, 2.0) < 1.0)) {\n      discard;\n    }\n\n    material.emission = sidesColor.rgb;\n    material.alpha = sidesColor.a* globalAlpha;\n    return material;\n  }\n\n  discard;\n}\n";
  var LineCrossMaterial = "uniform vec4 color;\nuniform float dashLength;\nuniform float dashPower;\nuniform float centerPower;\nuniform float dashPattern;\nuniform float maskLength;\nuniform float globalAlpha;\n\nin float v_polylineAngle;\n\nmat2 rotateMars3D(float rad) {\n  float c = cos(rad);\n  float s = sin(rad);\n  return mat2(c, s, -s, c);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  vec2 pos = rotateMars3D(v_polylineAngle) * gl_FragCoord.xy;\n  vec2 st = materialInput.st;\n\n  float centerGlowMars3D = dashPower / abs(st.t - 0.5) - (dashPower / 0.5) - 1.0;\n  float dashPositionMars3D = fract(pos.x / (dashLength * czm_pixelRatio));\n  dashPositionMars3D = abs((dashPositionMars3D - 0.5) * 2.0);\n\n  // 绘制虚线\n  if(centerGlowMars3D > 0.0) {\n    float maskIndex = floor(dashPositionMars3D * maskLength);\n    float maskTest = floor(dashPattern / pow(2.0, maskIndex));\n    if((mod(maskTest, 2.0) < 1.0)) {\n      discard;\n    }\n\n    material.emission = color.rgb;\n    material.alpha = color.a * globalAlpha;\n    return material;\n  }\n\n  // 绘制中心线\n  if(dashPositionMars3D < centerPower) {\n    material.emission = color.rgb;\n    material.alpha = color.a * globalAlpha;\n    return material;\n  }\n\n  discard;\n}\n";
  var LineDashArrowMaterial = "uniform vec4 color;\nuniform vec4 gapColor;\nuniform float dashLength;\nuniform float dashPattern;\nin float v_polylineAngle;\nuniform float globalAlpha;\n\nconst float maskLength = 16.0;\n\n//虚线用\nmat2 rotate(float rad) {\n  float c = cos(rad);\n  float s = sin(rad);\n  return mat2(c, s, -s, c);\n}\n\n//箭头用\nfloat getPointOnLine(vec2 p0, vec2 p1, float x) {\n  float slope = (p0.y - p1.y) / (p0.x - p1.x);\n  return slope * (x - p0.x) + p0.y;\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  vec2 st = materialInput.st;\n\n  #if (__VERSION__ == 300 || defined(GL_OES_standard_derivatives))\n    float swidth = abs(fwidth(st.s)) * 10.0 * czm_pixelRatio;\n    float base = 1.0 - swidth;\n    float maxSX = 1.0 - swidth * 2.0;\n  #else\n      // If no derivatives available (IE 10?), 2.5% of the line will be the arrow head\n    float base = 0.975;\n    float maxSX = 0.95;\n  #endif\n\n  if(st.s < maxSX) {\n    //虚线部分\n    vec2 pos = rotate(v_polylineAngle) * gl_FragCoord.xy;\n\n    // Get the relative position within the dash from 0 to 1\n    float dashPosition = fract(pos.x / (dashLength * czm_pixelRatio));\n    // Figure out the mask index.\n    float maskIndex = floor(dashPosition * maskLength);\n    // Test the bit mask.\n    float maskTest = floor(dashPattern / pow(2.0, maskIndex));\n    vec4 fragColor = (mod(maskTest, 2.0) < 1.0) ? gapColor : color;\n    if(fragColor.a < 0.005) {   // matches 0/255 and 1/255\n      discard;\n    }\n\n    fragColor = czm_gammaCorrect(fragColor);\n    material.emission = fragColor.rgb;\n    material.alpha = fragColor.a * globalAlpha;\n    return material;\n  } else {\n    //箭头部分\n    vec2 center = vec2(1.0, 0.5);\n    float ptOnUpperLine = getPointOnLine(vec2(base, 1.0), center, st.s);\n    float ptOnLowerLine = getPointOnLine(vec2(base, 0.0), center, st.s);\n\n    float halfWidth = 0.15;\n    float s = step(0.5 - halfWidth, st.t);\n    s *= 1.0 - step(0.5 + halfWidth, st.t);\n    s *= 1.0 - step(base, st.s);\n\n    float t = step(base, materialInput.st.s);\n    t *= 1.0 - step(ptOnUpperLine, st.t);\n    t *= step(ptOnLowerLine, st.t);\n\n    // Find the distance from the closest separator (region between two colors)\n    float dist;\n    if(st.s < base) {\n      float d1 = abs(st.t - (0.5 - halfWidth));\n      float d2 = abs(st.t - (0.5 + halfWidth));\n      dist = min(d1, d2);\n\n    } else {\n      float d1 = czm_infinity;\n      if(st.t < 0.5 - halfWidth && st.t > 0.5 + halfWidth) {\n        d1 = abs(st.s - base);\n      }\n      float d2 = abs(st.t - ptOnUpperLine);\n      float d3 = abs(st.t - ptOnLowerLine);\n      dist = min(min(d1, d2), d3);\n    }\n\n    vec4 outsideColor = vec4(0.0);\n    vec4 currentColor = mix(outsideColor, color, clamp(s + t, 0.0, 1.0));\n    vec4 outColor = czm_antialias(outsideColor, color, currentColor, dist);\n\n    outColor = czm_gammaCorrect(outColor);\n    material.diffuse = outColor.rgb;\n    material.alpha = outColor.a * globalAlpha;\n    return material;\n  }\n\n}\n";
  var WallScrollMaterial = "uniform sampler2D image;\nuniform float speed;\nuniform vec4 color;\nuniform float count;\nuniform bool axisY;\nuniform bool reverse;\nuniform bool bloom;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float time = fract(czm_frameNumber * speed / 1000.0);\n\n  vec4 imageMars3D;\n  if(axisY) {\n    if(reverse)\n      imageMars3D = texture(image, vec2(fract(float(count) * st.s - time)));\n    else\n      imageMars3D = texture(image, vec2(fract(float(count) * st.s + time)));\n  } else {\n    if(reverse)\n      imageMars3D = texture(image, vec2(fract(float(count) * st.t - time)));\n    else\n      imageMars3D = texture(image, vec2(fract(float(count) * st.t + time)));\n  }\n\n  float perDis = 1.0 / count / 3.0;\n  material.alpha = imageMars3D.a * color.a * smoothstep(.2, 1., distance(st.t * perDis, 1. + perDis)) * globalAlpha;\n\n  if(bloom) {\n    //泛光\n    vec4 fragColor;\n    fragColor.rgb = (imageMars3D.rgb + color.rgb) / 1.0;\n    fragColor = czm_gammaCorrect(fragColor);\n\n    material.diffuse = imageMars3D.rgb;\n    material.emission = fragColor.rgb;\n  } else {\n    material.diffuse = max(color.rgb * material.alpha * 1.5, color.rgb);\n    material.emission = max(color.rgb * material.alpha * 1.5, color.rgb);\n  }\n  return material;\n}\n";
  var SectorMaterial = "uniform vec4 color;\nuniform float startAngle; // 起始角度\nuniform float endAngle;   // 结束角度\nuniform bool isDouble;\n\nuniform float globalAlpha;\n\n// 角度转弧度函数\nfloat degToRad(float degrees) {\n  return degrees * czm_pi / 180.0;\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  if(startAngle != 0.0 || endAngle != 360.0) {\n    vec2 st = materialInput.st;\n    vec2 dir = st - vec2(0.5, 0.5); // 中心点\n    float angle = atan(dir.y, dir.x); // 计算当前点与中心的角度\n    if(angle < 0.0) {\n      angle += 2.0 * czm_pi;\n    }\n\n    // 转换传入角度为弧度\n    float startAngleRad = degToRad(startAngle);\n    float endAngleRad = degToRad(endAngle);\n\n    // 判断是否在扇形区域内\n    bool isInSector = (angle >= startAngleRad && angle <= endAngleRad);\n    if(isDouble && !isInSector) {\n      startAngleRad += czm_pi;\n      endAngleRad += czm_pi;\n      isInSector = (angle >= startAngleRad && angle <= endAngleRad);\n    }\n\n    if(!isInSector) {\n      discard; // 非扇形区域丢弃像素\n    }\n  }\n\n  material.diffuse = color.rgb;\n  material.alpha = color.a * globalAlpha;\n\n  return material;\n}\n";
  var ScanLineMaterial = "uniform vec4 color;\nuniform float globalAlpha;\n\nfloat circle(vec2 uv, float r, float blur) {\n  float d = length(uv) * 2.0;\n  float c = smoothstep(r + blur, r, d);\n  return c;\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st - .5;\n  material.diffuse = color.rgb;\n  material.emission = vec3(0);\n\n  float t = fract(czm_frameNumber * speed / 1000.0);\n  float s = 0.3;\n  float radiusMars3D = smoothstep(.0, s, t) * 0.9;\n  float alpha1 = circle(st, radiusMars3D, 0.01) * circle(st, radiusMars3D, -0.01);\n  float alpha2 = circle(st, radiusMars3D, 0.01 - radiusMars3D) * circle(st, radiusMars3D, 0.01);\n  float radius2 = 0.5 + smoothstep(s, 1.0, t) * 0.5;\n  float alpha3 = circle(st, radiusMars3D, radius2 + 0.01 - radiusMars3D) * circle(st, radiusMars3D, -0.01);\n\n  material.alpha = smoothstep(1.0, s, t) * (alpha1 + alpha2 * 0.1 + alpha3 * 0.1);\n  material.alpha *= color.a * globalAlpha;\n\n  return material;\n}\n";
  var CircleWaveMaterial = "uniform float globalAlpha;\nuniform vec4 color;\nuniform float diffusePower;\nuniform bool square;\nuniform vec2 center;\n\nuniform float startAngle; // 起始角度\nuniform float endAngle;   // 结束角度\nuniform bool isDouble;\n\n// 角度转弧度函数\nfloat degToRad(float degrees) {\n  return degrees * czm_pi / 180.0;\n}\n\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  material.diffuse = color.rgb * diffusePower;\n\n  float currTimeMars3D;\n  if(time < 0.0) {\n    currTimeMars3D = speed * czm_frameNumber / 1000.0;\n  } else {\n    currTimeMars3D = time;\n  }\n\n  vec2 st = materialInput.st;\n  if(startAngle != 0.0 || endAngle != 360.0) {\n    vec2 dir = st - vec2(0.5, 0.5); // 中心点\n    float angle = atan(dir.y, dir.x); // 计算当前点与中心的角度\n    if(angle < 0.0) {\n      angle += 2.0 * czm_pi;\n    }\n\n    // 转换传入角度为弧度\n    float startAngleRad = degToRad(startAngle);\n    float endAngleRad = degToRad(endAngle);\n\n    // 判断是否在扇形区域内\n    bool isInSector = (angle >= startAngleRad && angle <= endAngleRad);\n    if(isDouble && !isInSector) {\n      startAngleRad += czm_pi;\n      endAngleRad += czm_pi;\n      isInSector = (angle >= startAngleRad && angle <= endAngleRad);\n    }\n\n    if(!isInSector) {\n      discard; // 非扇形区域丢弃像素\n    }\n  }\n\n  float dis;\n  if(square) {\n    dis = max(abs(st.x - center.x), abs(st.y - center.y)) * 2.0; // 正方形\n  } else {\n    dis = distance(st, center); //圆形\n  }\n  float maxDis = max(center.x, center.y);\n\n  if(count == 1.0) {\n    if(currTimeMars3D == 0.0) {\n      material.alpha = color.a * dis * globalAlpha;\n    } else {\n      float per = fract(currTimeMars3D) * maxDis;\n      if(dis > per) {\n        discard;\n      } else {\n        material.alpha = (dis / per) * color.a * globalAlpha;\n      }\n    }\n  } else {\n    vec3 str = materialInput.str;\n    if(abs(str.z) > 0.001) {\n      discard;\n    }\n    if(dis > maxDis) {\n      discard;\n    } else {\n      float perDis = maxDis / count;\n      float disNum;\n      float bl = 0.0;\n      for(float i = 0.0; i <= 99.0; i += 1.0) {\n        if(i <= count) {\n          disNum = perDis * i - dis + fract(currTimeMars3D) / count;\n          if(disNum > 0.0) {\n            if(disNum < perDis) {\n              bl = 1.0 - disNum / perDis;\n            } else if(disNum - perDis < perDis) {\n              bl = 1.0 - abs(1.0 - disNum / perDis);\n            }\n            material.alpha = pow(bl, (1.0 + 10.0 * (1.0 - gradient))) * color.a * globalAlpha;\n          }\n        }\n      }\n    }\n  }\n  return material;\n}\n";
  var RadarLineMaterial = "uniform vec4 color;\nuniform float speed;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st * 2.0 - 1.0;\n  float t = czm_frameNumber * speed / 1000.0;\n  vec3 colMars3D = vec3(0.0);\n  vec2 p = vec2(sin(t), cos(t));\n  float d = length(st - dot(p, st) * p);\n  if(dot(st, p) < 0.) {\n    d = length(st);\n  }\n\n  colMars3D = .006 / d * color.rgb;\n\n  if(distance(st, vec2(0)) > 0.99) {\n    colMars3D = color.rgb;\n  }\n\n  material.alpha = pow(length(colMars3D), 2.0) * globalAlpha;\n  material.diffuse = colMars3D * 3.0;\n  return material;\n}\n";
  var RadarWaveMaterial = "uniform vec4 color;\nuniform float speed;\nuniform float globalAlpha;\n\n#define PI 3.14159265359\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  vec2 pos = st - vec2(0.5);\n  float time = czm_frameNumber * speed / 1000.0;\n  float r = length(pos);\n  float t = atan(pos.y, pos.x) - time * 2.5;\n  float a = (atan(sin(t), cos(t)) + PI) / (2.0 * PI);\n  float ta = 0.5;\n  float v = smoothstep(ta - 0.05, ta + 0.05, a) * smoothstep(ta + 0.05, ta - 0.05, a);\n  vec3 colorMars3D = color.rgb * v;\n  float blink = pow(sin(time * 1.5) * 0.5 + 0.5, 0.8);\n  colorMars3D = color.rgb * pow(a, 8.0 * (.2 + blink)) * (sin(r * 500.0) * .5 + .5);\n  colorMars3D = colorMars3D * pow(r, 0.4);\n  material.alpha = length(colorMars3D) * 1.3 * color.a * globalAlpha;\n  material.diffuse = colorMars3D * 3.0;\n  return material;\n}\n";
  var RectSlideMaterial = "uniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  vec4 imageMars3D = texture(image, vec2(fract(st.s + czm_frameNumber * speed / 1000.0), fract(st.t)));\n\n  material.alpha = imageMars3D.a * color.a * globalAlpha;\n  if(pure) {\n    material.diffuse = diffusePower * color.rgb;\n  } else {\n    material.diffuse = imageMars3D.rgb;\n  }\n  return material;\n}\n";
  var EllipsoidElectricMaterial = "precision highp float;\nprecision highp int;\n\n#define pi 3.1415926535\n#define PI2RAD 0.01745329252\n#define TWO_PI (2. * PI)\n\nuniform vec4 marscolor;\nuniform float speed;\nuniform float globalAlpha;\n\nfloat time;\nfloat rands(float p) {\n  return fract(sin(p) * 10000.0);\n}\nfloat noise(vec2 p) {\n  float t = time / 20000.0;\n  if(t > 1.0)\n    t -= floor(t);\n  return rands(p.x * 14. + p.y * sin(t) * 0.5);\n}\nvec2 sw(vec2 p) {\n  return vec2(floor(p.x), floor(p.y));\n}\nvec2 se(vec2 p) {\n  return vec2(ceil(p.x), floor(p.y));\n}\nvec2 nw(vec2 p) {\n  return vec2(floor(p.x), ceil(p.y));\n}\nvec2 ne(vec2 p) {\n  return vec2(ceil(p.x), ceil(p.y));\n}\nfloat smoothNoise(vec2 p) {\n  vec2 inter = smoothstep(0.0, 1.0, fract(p));\n  float s = mix(noise(sw(p)), noise(se(p)), inter.x);\n  float n = mix(noise(nw(p)), noise(ne(p)), inter.x);\n  return mix(s, n, inter.y);\n}\nfloat fbmMars3D(vec2 p) {\n  float z = 2.0;\n  float rz = 0.0;\n  vec2 bp = p;\n  for(float i = 1.0; i < 6.0; i++) {\n    rz += abs((smoothNoise(p) - 0.5) * 2.0) / z;\n    z *= 2.0;\n    p *= 2.0;\n  }\n  return rz;\n}\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 vUv = materialInput.st;\n  time = czm_frameNumber * speed / 100.0;\n\n  vec2 uv = vUv;\n  vec2 uv2 = vUv;\n  // if (uv.y < 0.5) {\n  //     discard;\n  // }\n  uv *= 4.;\n  float rz = fbmMars3D(uv);\n  uv /= exp(mod(time * 2.0, pi));\n  rz *= pow(15., 1.0);\n  vec4 marscolor = mix(vec4(color.rgb, 1.0) / rz, vec4(color.rgb, 0.1), 0.5);\n  if(uv2.x < 0.05) {\n    marscolor = mix(vec4(color.rgb, 0.1), marscolor, uv2.x / 0.05);\n  }\n  if(uv2.x > 0.95) {\n    marscolor = mix(marscolor, vec4(color.rgb, 0.1), (uv2.x - 0.95) / 0.05);\n  }\n\n  material.alpha = marscolor.a * 2.0 * globalAlpha;\n  material.diffuse = max(marscolor.rgb + marscolor.rgb * material.alpha, marscolor.rgb);\n\n  return material;\n}\n";
  var EllipsoidWaveMaterial = "uniform vec4 color;\nuniform float speed;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float time = fract(czm_frameNumber * speed / 1000.0);\n  float alphaMars3D = abs(smoothstep(0.5, 1., fract(-st.t - time)));\n  alphaMars3D += .1;\n  material.alpha = alphaMars3D * globalAlpha;\n  material.diffuse = color.rgb;\n  return material;\n}\n";
  var PolyGradientMaterial = "uniform vec4 color;\nuniform float diffusePower;\nuniform float alphaPower;\nuniform vec2 center;\nuniform bool isInner;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float alphaMars3D = distance(st, center);\n  if(isInner) {\n    material.alpha = (1.0 - (color.a * alphaMars3D * alphaPower)) * globalAlpha;\n    if(material.alpha < 0.0)\n      material.alpha = 0.0;\n  } else {\n    material.alpha = color.a * alphaMars3D * alphaPower * globalAlpha;\n  }\n\n  material.diffuse = color.rgb * diffusePower;\n  return material;\n}\n";
  var PolyGradient2Material = "uniform vec4 color;\nuniform vec4 color2;\nuniform float alphaPower;\nuniform float diffusePower;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n\n  float mixMars3D = st.x - diffusePower;\n  vec4 colorTemp = mix(color.rgba, color2.rgba, mixMars3D);\n\n  material.diffuse = colorTemp.rgb;\n  material.alpha = colorTemp.a * alphaPower * globalAlpha;\n  return material;\n}\n";
  var AsphaltMaterial = "uniform vec4 color;\nuniform float size;\nuniform float frequency;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  // From Stefan Gustavson's Procedural Textures in GLSL in OpenGL Insights\n  //Main cellular pattern\n  vec4 color = color;\n  vec2 st = materialInput.st;\n  vec2 F = czm_cellular(st / size);\n  color.rgb -= (F.x / F.y) * 0.1;\n\n  //Extra bumps for frequency\n  float noiseMars3D = czm_snoise(st / size);\n  noiseMars3D = pow(noiseMars3D, 5.0) * frequency;\n  color.rgb += noiseMars3D;\n\n  material.diffuse = color.rgb;\n  material.alpha = color.a * globalAlpha;\n\n  return material;\n}\n";
  var BlobMaterial = "uniform vec4 evenColor;\nuniform vec4 oddColor;\nuniform float frequency;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  // From Stefan Gustavson's Procedural Textures in GLSL in OpenGL Insights\n  vec2 F = czm_cellular(materialInput.st * frequency);\n  float t = 1.0 - F.x * F.x;\n\n  vec4 colorMars3D = mix(evenColor, oddColor, t);\n  material.diffuse = colorMars3D.rgb;\n  material.alpha = colorMars3D.a * globalAlpha;\n\n  return material;\n}\n";
  var FacetMaterial = "uniform vec4 evenColor;\nuniform vec4 oddColor;\nuniform float frequency;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  // From Stefan Gustavson's Procedural Textures in GLSL in OpenGL Insights\n  vec2 F = czm_cellular(materialInput.st * frequency);\n  float t = 0.1 + (F.y - F.x);\n\n  vec4 colorMars3D = mix(evenColor, oddColor, t);\n  material.diffuse = colorMars3D.rgb;\n  material.alpha = colorMars3D.a * globalAlpha;\n\n  return material;\n}\n";
  var PolyGrassMaterial = "uniform vec4 evenColor;\nuniform vec4 oddColor;\nuniform float frequency;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  vec2 st = materialInput.st;\n  float noise1 = (czm_snoise(st * frequency * 1.0)) * 1.0;\n  float noise2 = (czm_snoise(st * frequency * 2.0)) * 0.5;\n  float noise3 = (czm_snoise(st * frequency * 4.0)) * 0.25;\n  float noise = sin(noise1 + noise2 + noise3) * 0.1;\n\n  vec4 colorMars3D = mix(evenColor, oddColor, noise);\n\n  //Make thatch patterns\n  float verticalNoise = czm_snoise(vec2(st.x * 100.0, st.y * 20.0)) * 0.02;\n  float horizontalNoise = czm_snoise(vec2(st.x * 20.0, st.y * 100.0)) * 0.02;\n  float stripeNoise = min(verticalNoise, horizontalNoise);\n\n  colorMars3D.rgb += stripeNoise;\n\n  material.diffuse = colorMars3D.rgb;\n  material.alpha = colorMars3D.a * globalAlpha;\n\n  return material;\n}\n";
  var PolyWoodMaterial = "uniform vec4 evenColor;\nuniform vec4 oddColor;\nuniform float frequency;\nuniform vec2 noiseScale;\nuniform float grainFrequency;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  //Based on wood shader from OpenGL Shading Language (3rd edition) pg. 455\n  vec2 st = materialInput.st;\n\n  vec2 noisevec;\n  noisevec.x = czm_snoise(st * noiseScale.x);\n  noisevec.y = czm_snoise(st * noiseScale.y);\n\n  vec2 location = st + noisevec;\n  float dist = sqrt(location.x * location.x + location.y * location.y);\n  dist *= frequency;\n\n  float r = fract(dist + noisevec[0] + noisevec[1]) * 2.0;\n  if(r > 1.0)\n    r = 2.0 - r;\n\n  vec4 colorMars3D = mix(evenColor, oddColor, r);\n\n  //streaks\n  r = abs(czm_snoise(vec2(st.x * grainFrequency, st.y * grainFrequency * 0.02))) * 0.2;\n  colorMars3D.rgb += evenColor.rgb * r;\n\n  material.diffuse = colorMars3D.rgb;\n  material.alpha = colorMars3D.a * globalAlpha;\n\n  return material;\n}\n";
  var WaterLightMaterial = "uniform float globalAlpha;\n\nfloat time = 0.0;\nmat2 m2 = mat2(0.80, 0.60, -0.60, 0.80);\n\nmat2 mars3d_makem(in float theta) {\n  float c = cos(theta);\n  float s = sin(theta);\n  return mat2(c, -s, s, c);\n}\n\nfloat noise(in vec2 x) {\n  return texture(specularMap, x * .01).x;\n}\n\nfloat mars3d_fbm(in vec2 p) {\n  float z = 2.;\n  float rz = 0.;\n  for(float i = 1.; i < 7.; i++) {\n    rz += abs((noise(p) - 0.5) * 2.) / z;\n    z = z * 2.;\n    p = p * 2.;\n    p *= m2;\n  }\n  return rz;\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 vUv = materialInput.st;\n  time = czm_frameNumber / 200.0;\n  vec2 p = 2. * vUv.xy - vec2(1., 1.);\n  vec2 bp = p;\n\n  #ifndef CENTERED\n  p += 5.;\n  p *= 30.;\n  #endif\n  float rb = mars3d_fbm(p * .5 + time * .17) * .1;\n  rb = sqrt(rb);\n  #ifndef CENTERED\n  p *= mars3d_makem(rb * .2 + atan(p.y, p.x) * 1.);\n  #else\n  p *= mars3d_makem(rb * .2 + atan(p.y, p.x) * 2.);\n  #endif\n\n    //coloring\n  float rz = mars3d_fbm(p * .9 - time * .7);\n  rz *= dot(bp * 5., bp) + .5;\n  rz *= sin(p.x * .5 + time * 4.) * 1.5;\n  vec3 col = vec3(.04, 0.07, 0.45) / (.1 - rz);\n  vec4 fragColor = vec4(sqrt(abs(col)), 1.0);\n  material.alpha = fragColor.a * alpha * globalAlpha;\n  material.diffuse = fragColor.rgb * .5;\n\n    // cesium\n  float frequency = 2000.0;\n  float amplitude = 10.0;\n  float fadeFactor = 1.0;\n  vec4 mapColor = texture(normalMap, materialInput.st);\n  float specularMapValue = texture(normalMap, materialInput.st).r;\n  specularMapValue = 1.0;\n\n  float fade = max(1.0, (length(materialInput.positionToEyeEC) / 10000000000.0) * frequency * fadeFactor);\n  vec4 noise = czm_getWaterNoise(normalMap, materialInput.st * frequency, time, 0.0);\n  vec3 normalTangentSpace = noise.xyz * vec3(1.0, 1.0, (1.0 / amplitude));\n  normalTangentSpace.xy /= fade;\n  normalTangentSpace = mix(vec3(0.0, 0.0, 50.0), normalTangentSpace, specularMapValue);\n  normalTangentSpace = normalize(normalTangentSpace);\n\n  float mars3dPerturbationRatio = clamp(dot(normalTangentSpace, vec3(0.0, 0.0, 0.1)), 0.0, 1.0);\n  material.diffuse += (0.1 * mars3dPerturbationRatio);\n  material.normal = normalize(materialInput.tangentToEyeMatrix * normalTangentSpace);\n  material.specular = 0.5;\n  material.shininess = 10.0;\n\n  return material;\n}\n";
  var NeonLightMaterial = "uniform float globalAlpha;\n\nfloat marsstepping(float t) {\n  if(t < 0.)\n    return -1. + pow(1. + t, 2.);\n  else\n    return 1. - pow(1. - t, 2.);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 vUv = materialInput.st;\n  vec2 uv = 2. * vUv.xy - vec2(1., 1.);\n\n  uv *= 2.0;\n  vec4 colorMars3D = vec4(0.);\n  uv = normalize(uv) * length(uv);\n\n  float time = czm_frameNumber / speed;\n  for(float i = 0.0; i < 12.0; i+=1.0) {\n    float t = time + i * 3.141592 / 12. * (5. + 1. * marsstepping(sin(time * 3.)));\n    vec2 p = vec2(cos(t), sin(t));\n    p *= cos(time + i * 3.141592 * cos(time / 8.));\n    vec3 col = cos(vec3(0, 1, -1) * 3.141592 * 2. / 3. + 3.141925 * (time / 2. + i / 5.)) * 0.5 + 0.5;\n    colorMars3D += vec4(0.05 / length(uv - p * 0.9) * col, 1.0);\n  }\n  colorMars3D.xyz = pow(colorMars3D.xyz, vec3(3.));\n  colorMars3D.w = 1.0;\n\n  vec4 baseColor = vec4(colorMars3D.rgb + color.rgb * 2.0, colorMars3D.r * 0.2);\n  material.alpha = baseColor.a * globalAlpha;\n  material.diffuse = baseColor.rgb;\n\n  return material;\n}\n";
  Cesium__namespace.ShaderSource._czmBuiltinsAndUniforms.czm_cellular = czm_cellular;
  Cesium__namespace.ShaderSource._czmBuiltinsAndUniforms.czm_snoise = czm_snoise;
  register$4(RandomColor, {
    fabric: {
      uniforms: {
        color: Cesium__namespace.Color.fromRandom({
          minimumAlpha: 0.4,
          maximumAlpha: 0.7
        })
      },
      components: {
        diffuse: "color.rgb",
        alpha: "color.a"
      }
    },
    translucent: function (_0x50e2d6) {
      return _0x50e2d6.uniforms.color.alpha < 1;
    }
  });
  register$4(LineDotDash, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 0, 1, 1),
        gapColor: new Cesium__namespace.Color(0, 0, 0, 0),
        dashLength: 16,
        dashPattern: 255
      },
      source: LineDotDashMaterial
    },
    translucent: true
  });
  register$4(LineFlow, {
    fabric: {
      uniforms: {
        image: Cesium__namespace.Material.DefaultImageId,
        color: new Cesium__namespace.Color(1, 1, 1, 0),
        repeat: new Cesium__namespace.Cartesian2(1, 1),
        axisY: false,
        mixt: false,
        speed: 10,
        time: -1,
        hasImage2: false,
        image2: Cesium__namespace.Material.DefaultImageId,
        color2: new Cesium__namespace.Color(1, 1, 1),
        bgColor: Cesium__namespace.Color.TRANSPARENT,
        globalAlpha: 1
      },
      source: LineFlowMaterial
    },
    translucent: true
  });
  register$4(LineFlowColor, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 0, 0, 0.7),
        startTime: 0,
        speed: 2,
        percent: 0.04,
        alpha: 0.1,
        globalAlpha: 1
      },
      source: LineFlowColorMaterial
    },
    translucent: true
  });
  register$4(ODLine, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 1, 0, 0.7),
        startTime: 0,
        speed: 20,
        bgColor: new Cesium__namespace.Color(1, 1, 0, 0.1),
        bidirectional: 0,
        globalAlpha: 1
      },
      source: ODLineMaterial
    },
    translucent: true
  });
  register$4(LineFlicker, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 0, 0, 0.7),
        speed: 10,
        globalAlpha: 1
      },
      source: LineFlickerMaterial
    },
    translucent: true
  });
  register$4(LineTrail, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 0, 0, 0.7),
        bgColor: new Cesium__namespace.Color(0, 0, 0, 0),
        speed: 5,
        globalAlpha: 1
      },
      source: LineTrailMaterial
    },
    translucent: true
  });
  const _0x1ce693 = {
    color: Cesium__namespace.Color.ORANGE,
    glow: 1,
    speed: 5,
    showRatio: 0,
    globalAlpha: 1
  };
  const _0x239b79 = {
    uniforms: _0x1ce693,
    source: LineBloomMaterial
  };
  const _0x52a8d2 = {
    fabric: _0x239b79,
    translucent: true
  };
  register$4(LineBloom, _0x52a8d2);
  register$4(DigitalFlow, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(0, 0, 0, 0.8),
        image: Cesium__namespace.Material.DefaultImageId,
        speed: 10,
        glow: 10,
        flowGlow: 1,
        segment: 3,
        globalAlpha: 1
      },
      source: DigitalFlowMaterial
    },
    translucent: true
  });
  const _0x52dc84 = {
    color: Cesium__namespace.Color.RED,
    dashLength: 64,
    widthRatio: 0.1,
    sidesColor: Cesium__namespace.Color.WHITE,
    sidesDashLength: 32,
    sidesWidthRatio: 0.1,
    dashPattern: 255,
    globalAlpha: 1
  };
  const _0x5e1383 = {
    uniforms: _0x52dc84,
    source: LineThreeDashMaterial
  };
  const _0xa950c2 = {
    fabric: _0x5e1383,
    translucent: true
  };
  register$4(LineThreeDash, _0xa950c2);
  const _0xb4abbd = {
    color: Cesium__namespace.Color.WHITE,
    dashLength: 36,
    maskLength: 10,
    centerPower: 0.1,
    dashPower: 0.2,
    dashPattern: 255,
    globalAlpha: 1
  };
  const _0x4a7b37 = {
    uniforms: _0xb4abbd,
    source: LineCrossMaterial
  };
  const _0x42acec = {
    fabric: _0x4a7b37,
    translucent: true
  };
  register$4(LineCross, _0x42acec);
  const _0x4c3add = {
    color: Cesium__namespace.Color.WHITE,
    gapColor: Cesium__namespace.Color.TRANSPARENT,
    dashLength: 16,
    dashPattern: 255,
    globalAlpha: 1
  };
  const _0x2d3f89 = {
    uniforms: _0x4c3add,
    source: LineDashArrowMaterial
  };
  const _0x5bffd9 = {
    fabric: _0x2d3f89,
    translucent: true
  };
  register$4(LineDashArrow, _0x5bffd9);
  register$4(WallScroll, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(0, 0, 0, 1),
        image: Cesium__namespace.Material.DefaultImageId,
        count: 1,
        speed: 5,
        reverse: false,
        axisY: false,
        bloom: false,
        globalAlpha: 1
      },
      source: WallScrollMaterial
    },
    translucent: true
  });
  register$4(Sector$1, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 1, 0, 1),
        startAngle: 0,
        endAngle: 360,
        isDouble: false,
        globalAlpha: 1
      },
      source: SectorMaterial
    },
    translucent: true
  });
  register$4(ScanLine, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 1, 0, 1),
        speed: 10,
        globalAlpha: 1
      },
      source: ScanLineMaterial
    },
    translucent: true
  });
  register$4(CircleWave, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 1, 0, 1),
        speed: 10,
        time: -1,
        count: 1,
        gradient: 0.1,
        diffusePower: 1.6,
        square: false,
        center: new Cesium__namespace.Cartesian2(0.5, 0.5),
        startAngle: 0,
        endAngle: 360,
        isDouble: false,
        globalAlpha: 1
      },
      source: CircleWaveMaterial
    },
    translucent: true
  });
  register$4(RadarLine, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(0, 1, 1, 0.7),
        speed: 5,
        globalAlpha: 1
      },
      source: RadarLineMaterial
    },
    translucent: true
  });
  register$4(RadarWave, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(0, 1, 1, 0.7),
        speed: 5,
        globalAlpha: 1
      },
      source: RadarWaveMaterial
    },
    translucent: true
  });
  const _0x647232 = {
    image: Cesium__namespace.Material.DefaultImageId,
    color: Cesium__namespace.Color.WHITE,
    speed: 10,
    pure: false,
    diffusePower: 1.3,
    globalAlpha: 1
  };
  const _0xe5b182 = {
    uniforms: _0x647232,
    source: RectSlideMaterial
  };
  const _0x21387d = {
    fabric: _0xe5b182,
    translucent: true
  };
  register$4(RectSlide, _0x21387d);
  register$4(EllipsoidElectric, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(0, 1, 1, 0.7),
        speed: 5,
        globalAlpha: 1
      },
      source: EllipsoidElectricMaterial
    },
    translucent: true
  });
  register$4(EllipsoidWave, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(0, 1, 1, 0.7),
        speed: 5,
        globalAlpha: 1
      },
      source: EllipsoidWaveMaterial
    },
    translucent: true
  });
  register$4(PolyGradient, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(1, 1, 0, 0.5),
        diffusePower: 1.6,
        alphaPower: 1.5,
        center: new Cesium__namespace.Cartesian2(0.5, 0.5),
        isInner: false,
        globalAlpha: 1
      },
      source: PolyGradientMaterial
    },
    translucent: true
  });
  const _0x2590c6 = {
    color: Cesium__namespace.Color.RED,
    color2: Cesium__namespace.Color.WHITE,
    alphaPower: 1,
    diffusePower: 0.1,
    globalAlpha: 1
  };
  const _0x2da734 = {
    uniforms: _0x2590c6,
    source: PolyGradient2Material
  };
  const _0x1ed353 = {
    fabric: _0x2da734,
    translucent: true
  };
  register$4(PolyGradient2, _0x1ed353);
  register$4(PolyAsphalt, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(0.15, 0.15, 0.15, 1),
        size: 0.02,
        frequency: 0.2,
        globalAlpha: 1
      },
      source: AsphaltMaterial
    },
    translucent: function (_0x30c40c) {
      return _0x30c40c.uniforms.color.alpha < 1;
    }
  });
  register$4(PolyBlob, {
    fabric: {
      uniforms: {
        evenColor: new Cesium__namespace.Color(1, 1, 1, 0.5),
        oddColor: new Cesium__namespace.Color(0, 0, 1, 0.5),
        frequency: 10,
        globalAlpha: 1
      },
      source: BlobMaterial
    },
    translucent: function (_0x50ce01) {
      const _0x495fe4 = _0x50ce01.uniforms;
      return _0x495fe4.evenColor.alpha < 1 || _0x495fe4.oddColor.alpha < 1;
    }
  });
  register$4(PolyFacet, {
    fabric: {
      uniforms: {
        evenColor: new Cesium__namespace.Color(0.25, 0.25, 0.25, 0.75),
        oddColor: new Cesium__namespace.Color(0.75, 0.75, 0.75, 0.75),
        frequency: 10,
        globalAlpha: 1
      },
      source: FacetMaterial
    },
    translucent: function (_0x261b9) {
      const _0x1cbe26 = _0x261b9.uniforms;
      return _0x1cbe26.evenColor.alpha < 1 || _0x1cbe26.oddColor.alpha < 1;
    }
  });
  register$4(PolyGrass, {
    fabric: {
      uniforms: {
        evenColor: new Cesium__namespace.Color(0.25, 0.4, 0.1, 1),
        oddColor: new Cesium__namespace.Color(0.1, 0.1, 0.1, 1),
        frequency: 1.5,
        globalAlpha: 1
      },
      source: PolyGrassMaterial
    },
    translucent: function (_0x286482) {
      const _0x42adf9 = _0x286482.uniforms;
      return _0x42adf9.evenColor.alpha < 1 || _0x42adf9.oddColor.alpha < 1;
    }
  });
  register$4(PolyWood, {
    fabric: {
      uniforms: {
        evenColor: new Cesium__namespace.Color(0.6, 0.3, 0.1, 1),
        oddColor: new Cesium__namespace.Color(0.4, 0.2, 0.07, 1),
        frequency: 3,
        noiseScale: new Cesium__namespace.Cartesian2(0.7, 0.5),
        grainFrequency: 27,
        globalAlpha: 1
      },
      source: PolyWoodMaterial
    },
    translucent: function (_0x4ef39f) {
      const _0x2fb0fa = _0x4ef39f.uniforms;
      return _0x2fb0fa.evenColor.alpha < 1 || _0x2fb0fa.oddColor.alpha < 1;
    }
  });
  register$4(Image2, {
    fabric: {
      uniforms: {
        image: Cesium__namespace.Material.DefaultImageId,
        color: Cesium__namespace.Color.WHITE,
        opacity: 1,
        speed: 0,
        flipx: false,
        flipy: false,
        noWhite: true,
        repeat: new Cesium__namespace.Cartesian2(1, 1),
        rotation: 0,
        hasMask: false,
        maskImage: Cesium__namespace.Material.DefaultImageId,
        globalAlpha: 1
      },
      source: ImageMaterial
    },
    translucent: true
  });
  register$4(WaterLight, {
    fabric: {
      uniforms: {
        alpha: 0.3,
        specularMap: Cesium__namespace.Material.DefaultImageId,
        normalMap: Cesium__namespace.buildModuleUrl("Assets/Textures/waterNormals.jpg"),
        globalAlpha: 1
      },
      source: WaterLightMaterial
    },
    translucent: true
  });
  const _0x229a34 = {
    color: Cesium__namespace.Color.WHITE,
    speed: 1,
    globalAlpha: 1
  };
  const _0x16a419 = {
    uniforms: _0x229a34,
    source: NeonLightMaterial
  };
  const _0x4e634c = {
    fabric: _0x16a419,
    translucent: true
  };
  register$4(NeonLight, _0x4e634c);
  registerPropertyClass(Color$2, Cesium__namespace.ColorMaterialProperty);
  registerPropertyClass(Image$1, Cesium__namespace.ImageMaterialProperty);
  registerPropertyClass(PolylineArrow, Cesium__namespace.PolylineArrowMaterialProperty);
  registerPropertyClass(PolylineOutline, Cesium__namespace.PolylineOutlineMaterialProperty);
  registerPropertyClass(PolylineDash, Cesium__namespace.PolylineDashMaterialProperty);
  registerPropertyClass(PolylineGlow, Cesium__namespace.PolylineGlowMaterialProperty);
  registerPropertyClass(Grid, Cesium__namespace.GridMaterialProperty);
  registerPropertyClass(Checkerboard, Cesium__namespace.CheckerboardMaterialProperty);
  registerPropertyClass(Stripe, Cesium__namespace.StripeMaterialProperty);
  class TextMaterial extends Cesium__namespace.Material {
    constructor(_0x368345 = {}) {
      super(conventOptions$1(_0x368345));
    }
  }
  function conventOptions$1(_0x54f50b) {
    const _0x39227f = _0x54f50b.text;
    _0x54f50b.font_size = _0x54f50b.font_size || 70;
    const _0x517107 = LabelStyleConver.toCesiumVal(_0x54f50b, {
      fill: _0x54f50b.fill ?? true,
      fillColor: new Cesium__namespace.Color(1, 1, 0, 1),
      padding: 10
    });
    const _0x11c752 = getTextImage(_0x39227f, _0x517107);
    let _0x50bf4b;
    if (_0x11c752) {
      _0x50bf4b = _0x11c752.toDataURL("image/png", 1);
    }
    return {
      fabric: {
        uniforms: {
          image: _0x50bf4b,
          opacity: 1,
          color: Cesium__namespace.Color.WHITE,
          speed: _0x54f50b.speed || 0,
          flipx: _0x54f50b.flipx ?? false,
          flipy: _0x54f50b.flipy ?? false,
          noWhite: _0x54f50b.noWhite ?? true,
          rotation: _0x54f50b.rotation ?? 0,
          repeat: new Cesium__namespace.Cartesian2(1, 1),
          hasMask: false,
          maskImage: Cesium__namespace.Material.DefaultImageId,
          globalAlpha: 1
        },
        source: ImageMaterial
      },
      translucent: true
    };
  }
  registerClass(Text, TextMaterial);
  var CylinderWaveMaterialGlsl = "uniform vec4 color;\nuniform float repeat;\nuniform float offset;\nuniform float thickness;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  float sp = 1.0 / repeat;\n  vec2 st = materialInput.st;\n  float dis = distance(st, vec2(0.5));\n  float mMars3D = mod(dis + offset, sp);\n  float a = step(sp * (1.0 - thickness), mMars3D);\n  material.diffuse = color.rgb;\n  material.alpha = a * color.a * globalAlpha;\n  return material;\n}\n";
  class CylinderWaveMaterial extends Cesium__namespace.Material {
    constructor(_0x4d2be6 = {}) {
      super(conventOptions(_0x4d2be6));
      this._frameTime = 1000 / (_0x4d2be6.frameRate || 60);
      this._speed = _0x4d2be6.speed ?? 10;
      const _0x4a8714 = this;
      let _0x363398 = Date.now();
      (function _0x1294b1() {
        _0x4a8714.animateFrame = window.requestAnimationFrame(_0x1294b1);
        const _0x28820a = Date.now();
        const _0x33463c = _0x28820a - _0x363398;
        if (_0x33463c > _0x4a8714._frameTime) {
          _0x363398 = _0x28820a - _0x33463c % _0x4a8714._frameTime;
          _0x4a8714.updateOffset();
        }
      })();
    }
    updateOffset() {
      let _0x2bb43 = this.uniforms.offset;
      _0x2bb43 -= this._speed * 0.0001;
      if (_0x2bb43 > 1) {
        _0x2bb43 = 0;
      }
      this.uniforms.offset = _0x2bb43;
    }
    destroy() {
      window.cancelAnimationFrame(this.animateFrame);
      delete this.animateFrame;
      return super.destroy();
    }
  }
  function conventOptions(_0x1c361e) {
    return {
      fabric: {
        uniforms: {
          color: getCesiumColor(_0x1c361e.color, new Cesium__namespace.Color(2, 1, 0, 0.8)),
          repeat: _0x1c361e.repeat ?? 30,
          thickness: _0x1c361e.thickness ?? 0.3,
          offset: _0x1c361e.offset ?? 0,
          globalAlpha: 1
        },
        source: CylinderWaveMaterialGlsl
      },
      translucent: function (_0x446db0) {
        return _0x446db0.uniforms.color.alpha < 1;
      }
    };
  }
  registerClass(CylinderWave, CylinderWaveMaterial);
  class BaseMaterialProperty {
    constructor(_0x1be062 = {}) {
      this.options = _0x1be062;
      this._definitionChanged = new Cesium__namespace.Event();
    }
    get isConstant() {
      return true;
    }
    get definitionChanged() {
      return this._definitionChanged;
    }
    getType(_0x45bba8) {
      return null;
    }
    getValue(_0x10f03f, _0x349ddf = {}) {
      return _0x349ddf;
    }
    equals(_0x3d4c5f) {
      return this === _0x3d4c5f;
    }
  }
  class SectorMaterialProperty extends BaseMaterialProperty {
    constructor(_0x33d98a = {}) {
      super(_0x33d98a);
      this.color = _0x33d98a.color;
      this.startAngle = _0x33d98a.startAngle ?? 0;
      this.endAngle = _0x33d98a.endAngle ?? 360;
      this.isDouble = _0x33d98a.isDouble ?? false;
      this.globalAlpha = _0x33d98a.globalAlpha ?? 1;
    }
    getType(_0xf72acb) {
      return Sector$1;
    }
    getValue(_0x639c5f, _0x1b1455) {
      if (!Cesium__namespace.defined(_0x1b1455)) {
        _0x1b1455 = {};
      }
      this._color = getCesiumColor(this.color, Cesium__namespace.Color.YELLOW, _0x639c5f);
      _0x1b1455.color = this._color;
      _0x1b1455.startAngle = this.startAngle;
      _0x1b1455.endAngle = this.endAngle;
      _0x1b1455.isDouble = this.isDouble;
      _0x1b1455.globalAlpha = this.globalAlpha;
      return _0x1b1455;
    }
    equals(_0x56cc18) {
      return this === _0x56cc18 || _0x56cc18 instanceof SectorMaterialProperty && this._color && Cesium__namespace.Property.equals(this._color, _0x56cc18._color) && this.endAngle === _0x56cc18.endAngle && this.startAngle === _0x56cc18.startAngle;
    }
  }
  registerPropertyClass(Sector$1, SectorMaterialProperty);
  class CircleWaveMaterialProperty extends BaseMaterialProperty {
    constructor(_0x1008cf = {}) {
      super(_0x1008cf);
      this.color = _0x1008cf.color;
      this.speed = _0x1008cf.speed ?? 10;
      this.duration = _0x1008cf.duration;
      this.count = _0x1008cf.count ?? 1;
      this.gradient = _0x1008cf.gradient ?? 0.1;
      this.diffusePower = _0x1008cf.diffusePower ?? 1.6;
      this.square = _0x1008cf.square ?? false;
      this.center = _0x1008cf.center ?? new Cesium__namespace.Cartesian2(0.5, 0.5);
      this.startAngle = _0x1008cf.startAngle ?? 0;
      this.endAngle = _0x1008cf.endAngle ?? 360;
      this.isDouble = _0x1008cf.isDouble ?? false;
      this.globalAlpha = _0x1008cf.globalAlpha ?? 1;
      if (this.count <= 0) {
        this.count = 1;
      }
      if (this.gradient < 0) {
        this.gradient = 0;
      }
      if (this.gradient > 1) {
        this.gradient = 1;
      }
    }
    getType(_0x422de1) {
      return CircleWave;
    }
    getValue(_0x1a530e, _0x527e13) {
      if (!Cesium__namespace.defined(_0x527e13)) {
        _0x527e13 = {};
      }
      this._color = getCesiumColor(this.color, Cesium__namespace.Color.YELLOW, _0x1a530e);
      _0x527e13.color = this._color;
      _0x527e13.count = this.count;
      _0x527e13.gradient = this.gradient;
      _0x527e13.speed = this.speed;
      _0x527e13.diffusePower = this.diffusePower;
      _0x527e13.square = this.square;
      _0x527e13.center = this.center;
      _0x527e13.startAngle = this.startAngle;
      _0x527e13.endAngle = this.endAngle;
      _0x527e13.isDouble = this.isDouble;
      _0x527e13.globalAlpha = this.globalAlpha;
      if (this.duration) {
        if (this._time === undefined) {
          this._time = new Date().getTime();
        }
        _0x527e13.time = (new Date().getTime() - this._time) / (this.duration * 1000);
      } else {
        _0x527e13.time = -1;
      }
      return _0x527e13;
    }
    equals(_0x12d6c3) {
      return this === _0x12d6c3 || _0x12d6c3 instanceof CircleWaveMaterialProperty && this._color && Cesium__namespace.Property.equals(this._color, _0x12d6c3._color) && this.count === _0x12d6c3.count && this.speed === _0x12d6c3.speed && this.gradient === _0x12d6c3.gradient;
    }
  }
  registerPropertyClass(CircleWave, CircleWaveMaterialProperty);
  register$4(CylinderWave, {
    fabric: {
      uniforms: {
        color: new Cesium__namespace.Color(2, 1, 0, 0.8),
        repeat: 30,
        thickness: 0.3,
        offset: 0,
        globalAlpha: 1
      },
      source: CylinderWaveMaterialGlsl
    },
    translucent: true
  });
  class CylinderWaveMaterialProperty extends BaseMaterialProperty {
    constructor(_0x5559b1 = {}) {
      super(_0x5559b1);
      this.color = _0x5559b1.color;
      this.repeat = _0x5559b1.repeat ?? 30;
      this.thickness = _0x5559b1.thickness ?? 0.3;
      this.speed = _0x5559b1.speed ?? 10;
      this.offset = 0;
      this.globalAlpha = _0x5559b1.globalAlpha ?? 1;
    }
    getType(_0x1a3c42) {
      return CylinderWave;
    }
    getValue(_0x459e80, _0x549334) {
      if (!Cesium__namespace.defined(_0x549334)) {
        _0x549334 = {};
      }
      this.offset -= this.speed * 0.0001;
      if (this.offset > 1) {
        this.offset = 0;
      }
      this._color = getCesiumColor(this.color, new Cesium__namespace.Color(2, 1, 0, 0.8), _0x459e80);
      _0x549334.color = this._color;
      _0x549334.repeat = this.repeat;
      _0x549334.offset = this.offset;
      _0x549334.thickness = this.thickness;
      _0x549334.globalAlpha = this.globalAlpha;
      return _0x549334;
    }
    equals(_0x4e9790) {
      return this === _0x4e9790 || _0x4e9790 instanceof CylinderWaveMaterialProperty && this._color && Cesium__namespace.Property.equals(this._color, _0x4e9790._color) && this.repeat === _0x4e9790.repeat && this.thickness === _0x4e9790.thickness;
    }
  }
  registerPropertyClass(CylinderWave, CylinderWaveMaterialProperty);
  class DigitalFlowMaterialProperty extends BaseMaterialProperty {
    constructor(_0x3fff22 = {}) {
      super(_0x3fff22);
      this.color = getCesiumColor(_0x3fff22.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.speed = _0x3fff22.speed ?? 5;
      this.glow = _0x3fff22.glow ?? 1;
      this.flowGlow = _0x3fff22.flowGlow ?? 1;
      this.segment = _0x3fff22.segment ?? 3;
      this.globalAlpha = _0x3fff22.globalAlpha ?? 1;
    }
    getType(_0x4d99e5) {
      return DigitalFlow;
    }
    getValue(_0x33ea93, _0x55c002) {
      if (!Cesium__namespace.defined(_0x55c002)) {
        _0x55c002 = {};
      }
      _0x55c002.color = this.color;
      _0x55c002.speed = this.speed;
      _0x55c002.glow = this.glow;
      _0x55c002.flowGlow = this.flowGlow;
      _0x55c002.segment = this.segment;
      _0x55c002.globalAlpha = this.globalAlpha;
      return _0x55c002;
    }
    equals(_0x13d41c) {
      return this === _0x13d41c || _0x13d41c instanceof DigitalFlowMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x13d41c.color) && this.glow === _0x13d41c.glow && this.speed === _0x13d41c.speed;
    }
  }
  registerPropertyClass(DigitalFlow, DigitalFlowMaterialProperty);
  class EllipsoidElectricMaterialProperty extends BaseMaterialProperty {
    constructor(_0x35da0f = {}) {
      super(_0x35da0f);
      this.color = getCesiumColor(_0x35da0f.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.speed = _0x35da0f.speed ?? 5;
      this.globalAlpha = _0x35da0f.globalAlpha ?? 1;
    }
    getType(_0x15a7b9) {
      return EllipsoidElectric;
    }
    getValue(_0x4263b9, _0x58a0e6) {
      if (!Cesium__namespace.defined(_0x58a0e6)) {
        _0x58a0e6 = {};
      }
      _0x58a0e6.color = this.color;
      _0x58a0e6.speed = this.speed;
      _0x58a0e6.globalAlpha = this.globalAlpha;
      return _0x58a0e6;
    }
    equals(_0x573c3e) {
      return this === _0x573c3e || _0x573c3e instanceof EllipsoidElectricMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x573c3e.color) && this.speed === _0x573c3e.speed;
    }
  }
  registerPropertyClass(EllipsoidElectric, EllipsoidElectricMaterialProperty);
  class EllipsoidWaveMaterialProperty extends BaseMaterialProperty {
    constructor(_0x455d84 = {}) {
      super(_0x455d84);
      this.color = getCesiumColor(_0x455d84.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.speed = _0x455d84.speed ?? 5;
      this.globalAlpha = _0x455d84.globalAlpha ?? 1;
    }
    getType(_0x41234) {
      return EllipsoidWave;
    }
    getValue(_0x57aa3c, _0x3e7ea1) {
      if (!Cesium__namespace.defined(_0x3e7ea1)) {
        _0x3e7ea1 = {};
      }
      _0x3e7ea1.color = this.color;
      _0x3e7ea1.speed = this.speed;
      _0x3e7ea1.globalAlpha = this.globalAlpha;
      return _0x3e7ea1;
    }
    equals(_0x14a7aa) {
      return this === _0x14a7aa || _0x14a7aa instanceof EllipsoidWaveMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x14a7aa.color) && this.speed === _0x14a7aa.speed;
    }
  }
  registerPropertyClass(EllipsoidWave, EllipsoidWaveMaterialProperty);
  class Image2MaterialProperty extends BaseMaterialProperty {
    constructor(_0x1fab28 = {}) {
      super(_0x1fab28);
      this.image = _0x1fab28.image;
      this.maskImage = _0x1fab28.maskImage;
      this.opacity = _0x1fab28.opacity ?? 1;
      this.color = getCesiumColor(_0x1fab28.color, Cesium__namespace.Color.WHITE);
      this.speed = _0x1fab28.speed ?? 0;
      this.rotation = _0x1fab28.rotation ?? 0;
      this.flipx = _0x1fab28.flipx ?? false;
      this.flipy = _0x1fab28.flipy ?? false;
      this.noWhite = _0x1fab28.noWhite ?? true;
      if (!Cesium__namespace.defined(_0x1fab28.noWhite) && Cesium__namespace.defined(_0x1fab28.color)) {
        this.noWhite = !this.color.equals(Cesium__namespace.Color.WHITE);
      }
      this.repeat = _0x1fab28.repeat ?? new Cesium__namespace.Cartesian2(1, 1);
      this.globalAlpha = _0x1fab28.globalAlpha ?? 1;
    }
    getType(_0x1e29d5) {
      return Image2;
    }
    getValue(_0x4a2c98, _0x19ef08) {
      if (!Cesium__namespace.defined(_0x19ef08)) {
        _0x19ef08 = {};
      }
      _0x19ef08.image = getCesiumValue(this.image, null, _0x4a2c98);
      _0x19ef08.color = this.color;
      _0x19ef08.opacity = this.opacity;
      _0x19ef08.speed = this.speed;
      _0x19ef08.flipx = this.flipx;
      _0x19ef08.flipy = this.flipy;
      _0x19ef08.noWhite = this.noWhite;
      _0x19ef08.repeat = this.repeat;
      _0x19ef08.rotation = this.rotation;
      _0x19ef08.hasMask = Boolean(this.maskImage);
      _0x19ef08.maskImage = this.maskImage;
      _0x19ef08.globalAlpha = this.globalAlpha;
      return _0x19ef08;
    }
    equals(_0x4c932a) {
      return this === _0x4c932a || _0x4c932a instanceof Image2MaterialProperty && Cesium__namespace.Property.equals(this.color, _0x4c932a.color) && this.opacity === _0x4c932a.opacity && this.image === _0x4c932a.image && this.flipx === _0x4c932a.flipx && this.flipy === _0x4c932a.flipy;
    }
  }
  registerPropertyClass(Image2, Image2MaterialProperty);
  class LineBloomMaterialProperty extends BaseMaterialProperty {
    constructor(_0xd4daba = {}) {
      super(_0xd4daba);
      this.color = getCesiumColor(_0xd4daba.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.speed = _0xd4daba.speed ?? 5;
      this.glow = _0xd4daba.glow ?? 1;
      this.showRatio = _0xd4daba.showRatio ?? 0;
      this.globalAlpha = _0xd4daba.globalAlpha ?? 1;
    }
    getType(_0x72cb9d) {
      return LineBloom;
    }
    getValue(_0x45cd9e, _0x20e6b8) {
      if (!Cesium__namespace.defined(_0x20e6b8)) {
        _0x20e6b8 = {};
      }
      _0x20e6b8.color = this.color;
      _0x20e6b8.speed = this.speed;
      _0x20e6b8.glow = this.glow;
      _0x20e6b8.showRatio = this.showRatio;
      _0x20e6b8.globalAlpha = this.globalAlpha;
      return _0x20e6b8;
    }
    equals(_0xe42c12) {
      return this === _0xe42c12 || _0xe42c12 instanceof LineBloomMaterialProperty && Cesium__namespace.Property.equals(this.color, _0xe42c12.color) && this.glow === _0xe42c12.glow && this.speed === _0xe42c12.speed;
    }
  }
  registerPropertyClass(LineBloom, LineBloomMaterialProperty);
  class LineFlickerMaterialProperty extends BaseMaterialProperty {
    constructor(_0x1656ce = {}) {
      super(_0x1656ce);
      this.color = _0x1656ce.color;
      this.speed = _0x1656ce.speed ?? 2;
      this.globalAlpha = _0x1656ce.globalAlpha ?? 1;
    }
    getType(_0x1c92e0) {
      return LineFlicker;
    }
    getValue(_0x123a13, _0x27a4c1) {
      if (!Cesium__namespace.defined(_0x27a4c1)) {
        _0x27a4c1 = {};
      }
      this._color = getCesiumColor(this.color, new Cesium__namespace.Color(0, 0, 0, 0), _0x123a13);
      _0x27a4c1.color = this._color;
      _0x27a4c1.speed = this.speed;
      _0x27a4c1.globalAlpha = this.globalAlpha;
      return _0x27a4c1;
    }
    equals(_0x16401f) {
      return this === _0x16401f || _0x16401f instanceof LineFlickerMaterialProperty && this._color && Cesium__namespace.Property.equals(this._color, _0x16401f._color) && this.speed === _0x16401f.speed;
    }
  }
  registerPropertyClass(LineFlicker, LineFlickerMaterialProperty);
  class LineFlowColorMaterialProperty extends BaseMaterialProperty {
    constructor(_0x5842eb = {}) {
      super(_0x5842eb);
      this.color = _0x5842eb.color;
      this.speed = _0x5842eb.speed ?? 2;
      this.percent = _0x5842eb.percent ?? 0.04;
      this.alpha = _0x5842eb.alpha ?? 0.1;
      this.startTime = _0x5842eb.startTime ?? 0;
      this.globalAlpha = _0x5842eb.globalAlpha ?? 1;
    }
    getType(_0xc671e2) {
      return LineFlowColor;
    }
    getValue(_0x317b99, _0x30c0ae) {
      if (!Cesium__namespace.defined(_0x30c0ae)) {
        _0x30c0ae = {};
      }
      this._color = getCesiumColor(this.color, new Cesium__namespace.Color(1, 0, 0, 1), _0x317b99);
      _0x30c0ae.color = this._color;
      _0x30c0ae.speed = this.speed;
      _0x30c0ae.percent = this.percent;
      _0x30c0ae.alpha = this.alpha;
      _0x30c0ae.startTime = this.startTime;
      _0x30c0ae.globalAlpha = this.globalAlpha;
      return _0x30c0ae;
    }
    equals(_0x115264) {
      return this === _0x115264 || _0x115264 instanceof LineFlowColorMaterialProperty && Cesium__namespace.Property.equals(this._color, _0x115264._color) && this.speed === _0x115264.speed && this.percent === _0x115264.percent && this.startTime === _0x115264.startTime && this.alpha === _0x115264.alpha;
    }
  }
  registerPropertyClass(LineFlowColor, LineFlowColorMaterialProperty);
  class LineFlowMaterialProperty extends BaseMaterialProperty {
    constructor(_0x383ef1 = {}) {
      super(_0x383ef1);
      this.image = _0x383ef1.image ?? _0x383ef1.url;
      this.color = _0x383ef1.color ?? new Cesium__namespace.Color(1, 1, 1, 0);
      this.axisY = _0x383ef1.axisY ?? false;
      this.mixt = _0x383ef1.mixt ?? false;
      this.speed = _0x383ef1.speed ?? 10;
      this.duration = _0x383ef1.duration;
      this.repeat = _0x383ef1.repeat ?? new Cesium__namespace.Cartesian2(1, 1);
      this.image2 = _0x383ef1.image2 ?? _0x383ef1.bgUrl;
      this.color2 = _0x383ef1.color2 ?? new Cesium__namespace.Color(1, 1, 1);
      this.hasImage2 = Cesium__namespace.defined(this.image2);
      this.bgColor = _0x383ef1.bgColor ?? Cesium__namespace.Color.TRANSPARENT;
      this.globalAlpha = _0x383ef1.globalAlpha ?? 1;
    }
    getType(_0x290599) {
      return LineFlow;
    }
    getValue(_0x1f5650, _0x39e6c4) {
      if (!Cesium__namespace.defined(_0x39e6c4)) {
        _0x39e6c4 = {};
      }
      this._color = getCesiumColor(this.color, new Cesium__namespace.Color(1, 1, 1, 0), _0x1f5650);
      this._repeat = getCesiumValue(this.repeat, Cesium__namespace.Cartesian2, _0x1f5650);
      this._speed = getCesiumValue(this.speed, Number, _0x1f5650);
      this._color2 = getCesiumColor(this.color2, new Cesium__namespace.Color(1, 1, 1), _0x1f5650);
      this._bgColor = getCesiumColor(this.bgColor, Cesium__namespace.Color.TRANSPARENT, _0x1f5650);
      _0x39e6c4.image = this.image;
      _0x39e6c4.color = this._color;
      _0x39e6c4.repeat = this._repeat;
      _0x39e6c4.axisY = this.axisY;
      _0x39e6c4.mixt = this.mixt;
      _0x39e6c4.speed = this._speed;
      _0x39e6c4.hasImage2 = this.hasImage2;
      _0x39e6c4.image2 = this.image2;
      _0x39e6c4.color2 = this._color2;
      _0x39e6c4.bgColor = this._bgColor;
      _0x39e6c4.globalAlpha = this.globalAlpha;
      if (this.duration) {
        if (this._time === undefined) {
          this._time = new Date().getTime();
        }
        _0x39e6c4.time = (new Date().getTime() - this._time) / (this.duration * 1000);
      } else {
        _0x39e6c4.time = -1;
      }
      return _0x39e6c4;
    }
    equals(_0x3ee2fc) {
      return this === _0x3ee2fc || _0x3ee2fc instanceof LineFlowMaterialProperty && this._color && Cesium__namespace.Property.equals(this._color, _0x3ee2fc._color) && Cesium__namespace.Property.equals(this._repeat, _0x3ee2fc._repeat) && Cesium__namespace.Property.equals(this._color2, _0x3ee2fc._color2) && this.image === _0x3ee2fc.image && this.axisY === _0x3ee2fc.axisY && this.speed === _0x3ee2fc.speed && this.hasImage2 === _0x3ee2fc.hasImage2 && this.image2 === _0x3ee2fc.image2;
    }
  }
  registerPropertyClass(LineFlow, LineFlowMaterialProperty);
  class LineTrailMaterialProperty extends BaseMaterialProperty {
    constructor(_0x2f6367 = {}) {
      super(_0x2f6367);
      this.color = getCesiumColor(_0x2f6367.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.bgColor = getCesiumColor(_0x2f6367.bgColor, this.color.withAlpha(0.1));
      this.speed = _0x2f6367.speed ?? 2;
      this.globalAlpha = _0x2f6367.globalAlpha ?? 1;
    }
    getType(_0x43769c) {
      return LineTrail;
    }
    getValue(_0x3c81dc, _0x2d9055) {
      if (!Cesium__namespace.defined(_0x2d9055)) {
        _0x2d9055 = {};
      }
      _0x2d9055.color = this.color;
      _0x2d9055.bgColor = this.bgColor;
      _0x2d9055.speed = this.speed;
      _0x2d9055.globalAlpha = this.globalAlpha;
      return _0x2d9055;
    }
    equals(_0x2df9cd) {
      return this === _0x2df9cd || _0x2df9cd instanceof LineTrailMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x2df9cd.color) && Cesium__namespace.Property.equals(this.bgColor, _0x2df9cd.bgColor) && this.speed === _0x2df9cd.speed;
    }
  }
  registerPropertyClass(LineTrail, LineTrailMaterialProperty);
  class LineDotDashMaterialProperty extends BaseMaterialProperty {
    constructor(_0x2333d9 = {}) {
      super(_0x2333d9);
      this.color = getCesiumColor(_0x2333d9.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.gapColor = getCesiumColor(_0x2333d9.gapColor, Cesium__namespace.Color.TRANSPARENT);
      this.dashLength = _0x2333d9.dashLength ?? 16;
      this.dashPattern = _0x2333d9.dashPattern ?? 255;
      this.globalAlpha = _0x2333d9.globalAlpha ?? 1;
    }
    getType(_0x5e805d) {
      return LineDotDash;
    }
    getValue(_0x226ccf, _0x81fb4f) {
      if (!Cesium__namespace.defined(_0x81fb4f)) {
        _0x81fb4f = {};
      }
      _0x81fb4f.color = this.color;
      _0x81fb4f.gapColor = this.gapColor;
      _0x81fb4f.dashLength = this.dashLength;
      _0x81fb4f.dashPattern = this.dashPattern;
      _0x81fb4f.globalAlpha = this.globalAlpha;
      return _0x81fb4f;
    }
    equals(_0x33ee19) {
      return this === _0x33ee19 || _0x33ee19 instanceof LineDotDashMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x33ee19.color) && Cesium__namespace.Property.equals(this.gapColor, _0x33ee19.gapColor) && this.dashLength === _0x33ee19.dashLength && this.dashPattern === _0x33ee19.dashPattern;
    }
  }
  registerPropertyClass(LineDotDash, LineDotDashMaterialProperty);
  class LineDashArrowMaterialProperty extends BaseMaterialProperty {
    constructor(_0x3db92b = {}) {
      super(_0x3db92b);
      this.color = _0x3db92b.color ?? Cesium__namespace.Color.WHITE;
      this.gapColor = getCesiumColor(_0x3db92b.gapColor, Cesium__namespace.Color.TRANSPARENT);
      this.dashLength = _0x3db92b.dashLength ?? 16;
      this.dashPattern = _0x3db92b.dashPattern ?? 255;
      this.globalAlpha = _0x3db92b.globalAlpha ?? 1;
    }
    getType(_0x4da78b) {
      return LineDashArrow;
    }
    getValue(_0x7d0eb6, _0x147d0d) {
      if (!Cesium__namespace.defined(_0x147d0d)) {
        _0x147d0d = {};
      }
      this._color = getCesiumColor(this.color, new Cesium__namespace.Color(1, 1, 1, 0), _0x7d0eb6);
      _0x147d0d.color = this._color;
      _0x147d0d.gapColor = this.gapColor;
      _0x147d0d.dashLength = this.dashLength;
      _0x147d0d.dashPattern = this.dashPattern;
      _0x147d0d.globalAlpha = this.globalAlpha;
      return _0x147d0d;
    }
    equals(_0x56aa74) {
      return this === _0x56aa74 || _0x56aa74 instanceof LineDashArrowMaterialProperty && this._color && Cesium__namespace.Property.equals(this._color, _0x56aa74._color) && Cesium__namespace.Property.equals(this.gapColor, _0x56aa74.gapColor);
    }
  }
  registerPropertyClass(LineDashArrow, LineDashArrowMaterialProperty);
  class NeonLightMaterialProperty extends BaseMaterialProperty {
    constructor(_0x75e060 = {}) {
      super(_0x75e060);
      this.color = getCesiumColor(_0x75e060.color, Cesium__namespace.Color.fromCssColorString("#9b08fd"));
      this.speed = _0x75e060.speed ?? 2;
      this.globalAlpha = _0x75e060.globalAlpha ?? 1;
    }
    getType(_0xb81d5c) {
      return NeonLight;
    }
    getValue(_0x23b199, _0x52d9f4) {
      if (!Cesium__namespace.defined(_0x52d9f4)) {
        _0x52d9f4 = {};
      }
      _0x52d9f4.color = this.color;
      _0x52d9f4.speed = this.speed;
      _0x52d9f4.globalAlpha = this.globalAlpha;
      return _0x52d9f4;
    }
    equals(_0x472a51) {
      return this === _0x472a51 || _0x472a51 instanceof NeonLightMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x472a51.color) && this.speed === _0x472a51.speed;
    }
  }
  registerPropertyClass(NeonLight, NeonLightMaterialProperty);
  class LineThreeDashMaterialProperty extends BaseMaterialProperty {
    constructor(_0x290104 = {}) {
      super(_0x290104);
      this.color = getCesiumColor(_0x290104.color, Cesium__namespace.Color.RED);
      this.dashLength = _0x290104.dashLength ?? 16;
      this.widthRatio = _0x290104.widthRatio ?? 0.1;
      this.sidesColor = getCesiumColor(_0x290104.sidesColor, Cesium__namespace.Color.WHITE);
      this.sidesDashLength = _0x290104.sidesDashLength ?? 32;
      this.sidesWidthRatio = _0x290104.sidesWidthRatio ?? 0.1;
      this.dashPattern = _0x290104.dashPattern ?? 255;
      this.globalAlpha = _0x290104.globalAlpha ?? 1;
    }
    getType(_0x4fdedc) {
      return LineThreeDash;
    }
    getValue(_0x5d7c50, _0x5e374d) {
      if (!Cesium__namespace.defined(_0x5e374d)) {
        _0x5e374d = {};
      }
      this._color = getCesiumColor(this.color, Cesium__namespace.Color.RED, _0x5d7c50);
      this._sidesColor = getCesiumColor(this.sidesColor, Cesium__namespace.Color.WHITE, _0x5d7c50);
      _0x5e374d.color = this._color;
      _0x5e374d.dashLength = this.dashLength;
      _0x5e374d.widthRatio = this.widthRatio;
      _0x5e374d.sidesColor = this._sidesColor;
      _0x5e374d.sidesDashLength = this.sidesDashLength;
      _0x5e374d.sidesWidthRatio = this.sidesWidthRatio;
      _0x5e374d.dashPattern = this.dashPattern;
      _0x5e374d.globalAlpha = this.globalAlpha;
      return _0x5e374d;
    }
    equals(_0x19f16f) {
      return this === _0x19f16f || _0x19f16f instanceof LineThreeDashMaterialProperty && this._color && Cesium__namespace.Property.equals(this._color, _0x19f16f._color) && this.dashLength === _0x19f16f.dashLength && this.widthRatio === _0x19f16f.widthRatio;
    }
  }
  registerPropertyClass(LineThreeDash, LineThreeDashMaterialProperty);
  class LineCrossMaterialProperty extends BaseMaterialProperty {
    constructor(_0x3ca8c4 = {}) {
      super(_0x3ca8c4);
      this.color = getCesiumColor(_0x3ca8c4.color, Cesium__namespace.Color.WHITE);
      this.dashLength = _0x3ca8c4.dashLength ?? 30;
      this.maskLength = _0x3ca8c4.maskLength ?? 10;
      this.centerPower = _0x3ca8c4.centerPower ?? 0.1;
      this.dashPower = _0x3ca8c4.dashPower ?? 0.2;
      this.dashPattern = _0x3ca8c4.dashPattern ?? 255;
      this.globalAlpha = _0x3ca8c4.globalAlpha ?? 1;
    }
    getType(_0x246010) {
      return LineCross;
    }
    getValue(_0x57ce5b, _0x375e56) {
      if (!Cesium__namespace.defined(_0x375e56)) {
        _0x375e56 = {};
      }
      this._color = getCesiumColor(this.color, Cesium__namespace.Color.WHITE, _0x57ce5b);
      _0x375e56.color = this._color;
      _0x375e56.dashLength = this.dashLength;
      _0x375e56.maskLength = this.maskLength;
      _0x375e56.centerPower = this.centerPower;
      _0x375e56.dashPower = this.dashPower;
      _0x375e56.dashPattern = this.dashPattern;
      _0x375e56.globalAlpha = this.globalAlpha;
      return _0x375e56;
    }
    equals(_0x43f107) {
      return this === _0x43f107 || _0x43f107 instanceof LineCrossMaterialProperty && this._color && Cesium__namespace.Property.equals(this._color, _0x43f107._color) && this.speed === _0x43f107.speed;
    }
  }
  registerPropertyClass(LineCross, LineCrossMaterialProperty);
  class ODLineMaterialProperty extends BaseMaterialProperty {
    constructor(_0x4a0358 = {}) {
      super(_0x4a0358);
      this.color = getCesiumColor(_0x4a0358.color, new Cesium__namespace.Color(Math.random() * 0.5 + 0.5, Math.random() * 0.8 + 0.2, 0, 1));
      this.bgColor = getCesiumColor(_0x4a0358.bgColor, this.color.withAlpha(0.1));
      this.speed = _0x4a0358.speed ?? 20 + Math.random() * 10;
      this.startTime = _0x4a0358.startTime ?? Math.random();
      this.bidirectional = _0x4a0358.bidirectional ?? 0;
      this.globalAlpha = _0x4a0358.globalAlpha ?? 1;
    }
    getType(_0x17a2d9) {
      return ODLine;
    }
    getValue(_0x5e0f7a, _0x256152) {
      if (!_0x256152) {
        _0x256152 = {};
      }
      _0x256152.color = this.color;
      _0x256152.speed = this.speed;
      _0x256152.startTime = this.startTime;
      _0x256152.bgColor = this.bgColor;
      _0x256152.bidirectional = this.bidirectional;
      _0x256152.globalAlpha = this.globalAlpha;
      return _0x256152;
    }
    equals(_0x454459) {
      return this === _0x454459 || _0x454459 instanceof ODLineMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x454459.color) && Cesium__namespace.Property.equals(this.bgColor, _0x454459.bgColor) && this.speed === _0x454459.speed && this.startTime === _0x454459.startTime && this.bidirectional === _0x454459.bidirectional;
    }
  }
  registerPropertyClass(ODLine, ODLineMaterialProperty);
  class PolyAsphaltMaterialProperty extends BaseMaterialProperty {
    constructor(_0x2b761a = {}) {
      super(_0x2b761a);
      this.color = getCesiumColor(_0x2b761a.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.size = _0x2b761a.size ?? 0.02;
      this.frequency = _0x2b761a.frequency ?? 0.2;
      this.globalAlpha = _0x2b761a.globalAlpha ?? 1;
    }
    getType(_0x5e7377) {
      return PolyAsphalt;
    }
    getValue(_0x12a8c6, _0x3864c5) {
      if (!Cesium__namespace.defined(_0x3864c5)) {
        _0x3864c5 = {};
      }
      _0x3864c5.color = this.color;
      _0x3864c5.size = this.size;
      _0x3864c5.frequency = this.frequency;
      _0x3864c5.globalAlpha = this.globalAlpha;
      return _0x3864c5;
    }
    equals(_0x5750aa) {
      return this === _0x5750aa || _0x5750aa instanceof PolyAsphaltMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x5750aa.color) && this.frequency === _0x5750aa.frequency && this.size === _0x5750aa.size;
    }
  }
  registerPropertyClass(PolyAsphalt, PolyAsphaltMaterialProperty);
  class PolyBlobMaterialProperty extends BaseMaterialProperty {
    constructor(_0x9c6c1 = {}) {
      super(_0x9c6c1);
      this.evenColor = getCesiumColor(_0x9c6c1.evenColor, new Cesium__namespace.Color(1, 1, 1, 0.5));
      this.oddColor = getCesiumColor(_0x9c6c1.evenColor, new Cesium__namespace.Color(0, 0, 1, 0.5));
      this.frequency = _0x9c6c1.frequency ?? 10;
      this.globalAlpha = _0x9c6c1.globalAlpha ?? 1;
    }
    getType(_0x362782) {
      return PolyBlob;
    }
    getValue(_0x565eab, _0x54c43c) {
      if (!Cesium__namespace.defined(_0x54c43c)) {
        _0x54c43c = {};
      }
      _0x54c43c.evenColor = this.evenColor;
      _0x54c43c.evenColor = this.oddColor;
      _0x54c43c.frequency = this.frequency;
      _0x54c43c.globalAlpha = this.globalAlpha;
      return _0x54c43c;
    }
    equals(_0x378ac1) {
      return this === _0x378ac1 || _0x378ac1 instanceof PolyBlobMaterialProperty && Cesium__namespace.Property.equals(this.evenColor, _0x378ac1.evenColor) && Cesium__namespace.Property.equals(this.oddColor, _0x378ac1.oddColor) && this.frequency === _0x378ac1.frequency;
    }
  }
  registerPropertyClass(PolyBlob, PolyBlobMaterialProperty);
  class PolyFacetMaterialProperty extends PolyBlobMaterialProperty {
    getType(_0x38ce3c) {
      return PolyFacet;
    }
  }
  registerPropertyClass(PolyFacet, PolyFacetMaterialProperty);
  class PolyGradientMaterialProperty extends BaseMaterialProperty {
    constructor(_0x721862 = {}) {
      super(_0x721862);
      this.color = getCesiumColor(_0x721862.color, new Cesium__namespace.Color(1, 1, 0, 0.5));
      this.diffusePower = _0x721862.diffusePower ?? 1.6;
      this.alphaPower = _0x721862.alphaPower ?? 1.5;
      this.isInner = _0x721862.isInner ?? false;
      this.center = _0x721862.center ?? new Cesium__namespace.Cartesian2(0.5, 0.5);
      this.globalAlpha = _0x721862.globalAlpha ?? 1;
    }
    getType(_0x37310a) {
      return PolyGradient;
    }
    getValue(_0x28a05a, _0x1b779b) {
      if (!Cesium__namespace.defined(_0x1b779b)) {
        _0x1b779b = {};
      }
      _0x1b779b.color = this.color;
      _0x1b779b.diffusePower = this.diffusePower;
      _0x1b779b.alphaPower = this.alphaPower;
      _0x1b779b.center = this.center;
      _0x1b779b.isInner = this.isInner;
      _0x1b779b.globalAlpha = this.globalAlpha;
      return _0x1b779b;
    }
    equals(_0x594f75) {
      return this === _0x594f75 || _0x594f75 instanceof PolyGradientMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x594f75.color) && this.diffusePower === _0x594f75.diffusePower;
    }
  }
  registerPropertyClass(PolyGradient, PolyGradientMaterialProperty);
  class PolyGradient2MaterialProperty extends BaseMaterialProperty {
    constructor(_0x5c74e6 = {}) {
      super(_0x5c74e6);
      this.color = getCesiumColor(_0x5c74e6.color, Cesium__namespace.Color.RED);
      this.color2 = getCesiumColor(_0x5c74e6.color2, Cesium__namespace.Color.WHITE);
      this.diffusePower = _0x5c74e6.diffusePower ?? 0.1;
      this.alphaPower = _0x5c74e6.alphaPower ?? 1;
      this.globalAlpha = _0x5c74e6.globalAlpha ?? 1;
    }
    getType(_0x199114) {
      return PolyGradient2;
    }
    getValue(_0x33d3f0, _0x58c3ee) {
      if (!Cesium__namespace.defined(_0x58c3ee)) {
        _0x58c3ee = {};
      }
      _0x58c3ee.color = this.color;
      _0x58c3ee.color2 = this.color2;
      _0x58c3ee.diffusePower = this.diffusePower;
      _0x58c3ee.alphaPower = this.alphaPower;
      _0x58c3ee.globalAlpha = this.globalAlpha;
      return _0x58c3ee;
    }
    equals(_0x17da83) {
      return this === _0x17da83 || _0x17da83 instanceof PolyGradient2MaterialProperty && Cesium__namespace.Property.equals(this.color, _0x17da83.color) && Cesium__namespace.Property.equals(this.color2, _0x17da83.color2) && this.diffusePower === _0x17da83.diffusePower;
    }
  }
  registerPropertyClass(PolyGradient2, PolyGradient2MaterialProperty);
  class PolyGrassMaterialProperty extends PolyBlobMaterialProperty {
    getType(_0x1230a1) {
      return PolyGrass;
    }
  }
  registerPropertyClass(PolyGrass, PolyGrassMaterialProperty);
  class PolyWoodMaterialProperty extends BaseMaterialProperty {
    constructor(_0x3a8859 = {}) {
      super(_0x3a8859);
      this.evenColor = getCesiumColor(_0x3a8859.evenColor, new Cesium__namespace.Color(1, 1, 1, 0.5));
      this.oddColor = getCesiumColor(_0x3a8859.evenColor, new Cesium__namespace.Color(0, 0, 1, 0.5));
      this.frequency = _0x3a8859.frequency ?? 10;
      this.noiseScale = _0x3a8859.noiseScale ?? new Cesium__namespace.Cartesian2(0.7, 0.5);
      this.grainFrequency = _0x3a8859.grainFrequency ?? 27;
      this.globalAlpha = _0x3a8859.globalAlpha ?? 1;
    }
    getType(_0x565c8f) {
      return PolyWood;
    }
    getValue(_0x437799, _0x3130f4) {
      if (!Cesium__namespace.defined(_0x3130f4)) {
        _0x3130f4 = {};
      }
      _0x3130f4.evenColor = this.evenColor;
      _0x3130f4.evenColor = this.oddColor;
      _0x3130f4.frequency = this.frequency;
      _0x3130f4.noiseScale = this.noiseScale;
      _0x3130f4.grainFrequency = this.grainFrequency;
      _0x3130f4.globalAlpha = this.globalAlpha;
      return _0x3130f4;
    }
    equals(_0x258d36) {
      return this === _0x258d36 || _0x258d36 instanceof PolyWoodMaterialProperty && Cesium__namespace.Property.equals(this.evenColor, _0x258d36.evenColor) && Cesium__namespace.Property.equals(this.oddColor, _0x258d36.oddColor) && this.frequency === _0x258d36.frequency;
    }
  }
  registerPropertyClass(PolyWood, PolyWoodMaterialProperty);
  class RadarLineMaterialProperty extends BaseMaterialProperty {
    constructor(_0x3362e5 = {}) {
      super(_0x3362e5);
      this.color = getCesiumColor(_0x3362e5.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.speed = _0x3362e5.speed ?? 5;
      this.globalAlpha = _0x3362e5.globalAlpha ?? 1;
    }
    getType(_0x338408) {
      return RadarLine;
    }
    getValue(_0x315e78, _0x45ce92) {
      if (!Cesium__namespace.defined(_0x45ce92)) {
        _0x45ce92 = {};
      }
      _0x45ce92.color = this.color;
      _0x45ce92.speed = this.speed;
      _0x45ce92.globalAlpha = this.globalAlpha;
      return _0x45ce92;
    }
    equals(_0x2228ae) {
      return this === _0x2228ae || _0x2228ae instanceof RadarLineMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x2228ae.color) && this.speed === _0x2228ae.speed;
    }
  }
  registerPropertyClass(RadarLine, RadarLineMaterialProperty);
  class RadarWaveMaterialProperty extends BaseMaterialProperty {
    constructor(_0x9ac020 = {}) {
      super(_0x9ac020);
      this.color = getCesiumColor(_0x9ac020.color, new Cesium__namespace.Color(0, 0, 0, 0));
      this.speed = _0x9ac020.speed ?? 5;
      this.globalAlpha = _0x9ac020.globalAlpha ?? 1;
    }
    getType(_0x289e42) {
      return RadarWave;
    }
    getValue(_0x26334e, _0x2c626e) {
      if (!Cesium__namespace.defined(_0x2c626e)) {
        _0x2c626e = {};
      }
      _0x2c626e.color = this.color;
      _0x2c626e.speed = this.speed;
      _0x2c626e.globalAlpha = this.globalAlpha;
      return _0x2c626e;
    }
    equals(_0x43cf4f) {
      return this === _0x43cf4f || _0x43cf4f instanceof RadarWaveMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x43cf4f.color) && this.speed === _0x43cf4f.speed;
    }
  }
  registerPropertyClass(RadarWave, RadarWaveMaterialProperty);
  class RectSlideMaterialProperty extends BaseMaterialProperty {
    constructor(_0x143376 = {}) {
      super(_0x143376);
      this.image = _0x143376.image;
      this.color = getCesiumColor(_0x143376.color, new Cesium__namespace.Color(1, 1, 1, 0.9));
      this.speed = _0x143376.speed ?? 1;
      this.pure = !!_0x143376.pure;
      this.globalAlpha = _0x143376.globalAlpha ?? 1;
    }
    getType(_0x395266) {
      return RectSlide;
    }
    getValue(_0x435200, _0x444924) {
      if (!Cesium__namespace.defined(_0x444924)) {
        _0x444924 = {};
      }
      _0x444924.image = this.image;
      _0x444924.color = this.color;
      _0x444924.speed = this.speed;
      _0x444924.pure = this.pure;
      _0x444924.globalAlpha = this.globalAlpha;
      return _0x444924;
    }
    equals(_0x2d69cc) {
      return this === _0x2d69cc || _0x2d69cc instanceof RectSlideMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x2d69cc.color) && this.image === _0x2d69cc.image && this.pure === _0x2d69cc.pure && this.speed === _0x2d69cc.speed;
    }
  }
  registerPropertyClass(RectSlide, RectSlideMaterialProperty);
  class ScanLineMaterialProperty extends BaseMaterialProperty {
    constructor(_0x47fece = {}) {
      super(_0x47fece);
      this.color = getCesiumColor(_0x47fece.color, Cesium__namespace.Color.YELLOW);
      this.speed = _0x47fece.speed ?? 10;
      this.globalAlpha = _0x47fece.globalAlpha ?? 1;
    }
    getType(_0x4d44a3) {
      return ScanLine;
    }
    getValue(_0x55226a, _0x5d618e) {
      if (!Cesium__namespace.defined(_0x5d618e)) {
        _0x5d618e = {};
      }
      _0x5d618e.color = this.color;
      _0x5d618e.speed = this.speed;
      _0x5d618e.globalAlpha = this.globalAlpha;
      return _0x5d618e;
    }
    equals(_0x4ecdda) {
      return this === _0x4ecdda || _0x4ecdda instanceof ScanLineMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x4ecdda.color) && this.speed === _0x4ecdda.speed;
    }
  }
  registerPropertyClass(ScanLine, ScanLineMaterialProperty);
  class TextMaterialProperty extends Image2MaterialProperty {
    constructor(_0x4005ed = {}) {
      _0x4005ed.font_size = _0x4005ed.font_size ?? 70;
      super(_0x4005ed);
      this.transparent = _0x4005ed.transparent ?? true;
      this.color = Cesium__namespace.Color.WHITE;
      this._textStyles = LabelStyleConver.toCesiumVal(_0x4005ed, {
        fill: _0x4005ed.fill ?? true,
        fillColor: new Cesium__namespace.Color(1, 1, 0, 1),
        padding: 10
      });
      this._updateImage();
    }
    get text() {
      return this.options.text;
    }
    set text(_0x1d8333) {
      this.options.text = _0x1d8333;
      this._updateImage();
    }
    get textStyles() {
      return this._textStyles;
    }
    set textStyles(_0xa63fdc) {
      this._textStyles = LabelStyleConver.toCesiumVal(_0xa63fdc, this._textStyles);
      this._updateImage();
    }
    _updateImage() {
      this._canvas = getTextImage(this.options.text, this._textStyles);
      if (this._canvas) {
        this.image = this._canvas;
        const _0x43e803 = this.options?.onCustomCanvas;
        if (_0x43e803) {
          _0x43e803(this._canvas, this).then(_0x5d3d1a => {
            this.image = copyCanvas(_0x5d3d1a);
          });
        }
      }
    }
  }
  registerPropertyClass(Text, TextMaterialProperty);
  class WallScrollMaterialProperty extends BaseMaterialProperty {
    constructor(_0x1c3d91 = {}) {
      super(_0x1c3d91);
      this.image = _0x1c3d91.image;
      this.color = getCesiumColor(_0x1c3d91.color, new Cesium__namespace.Color(0, 0, 0, 1));
      this.speed = _0x1c3d91.speed ?? 10;
      this.count = _0x1c3d91.count ?? 1;
      this.reverse = _0x1c3d91.reverse ?? false;
      this.axisY = _0x1c3d91.axisY ?? false;
      this.bloom = _0x1c3d91.bloom ?? false;
      this.globalAlpha = _0x1c3d91.globalAlpha ?? 1;
    }
    getType(_0x392ea5) {
      return WallScroll;
    }
    getValue(_0x167bed, _0x3de962) {
      if (!Cesium__namespace.defined(_0x3de962)) {
        _0x3de962 = {};
      }
      _0x3de962.image = this.image;
      _0x3de962.color = this.color;
      _0x3de962.speed = this.speed;
      _0x3de962.count = this.count;
      _0x3de962.reverse = this.reverse;
      _0x3de962.axisY = this.axisY;
      _0x3de962.bloom = this.bloom;
      _0x3de962.globalAlpha = this.globalAlpha;
      return _0x3de962;
    }
    equals(_0x2fee47) {
      return this === _0x2fee47 || _0x2fee47 instanceof WallScrollMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x2fee47.color) && this.image === _0x2fee47.image && this.count === _0x2fee47.count && this.reverse === _0x2fee47.reverse && this.bloom === _0x2fee47.bloom && this.speed === _0x2fee47.speed;
    }
  }
  registerPropertyClass(WallScroll, WallScrollMaterialProperty);
  class WaterLightMaterialProperty extends BaseMaterialProperty {
    constructor(_0x1c0033 = {}) {
      super(_0x1c0033);
      this.specularMap = _0x1c0033.specularMap;
      this.normalMap = _0x1c0033.normalMap || Cesium__namespace.Material.DefaultImageId;
      this.alpha = _0x1c0033.alpha ?? 0.2;
      this.globalAlpha = _0x1c0033.globalAlpha ?? 1;
    }
    getType(_0x3886d0) {
      return WaterLight;
    }
    getValue(_0x42f615, _0x313506) {
      if (!Cesium__namespace.defined(_0x313506)) {
        _0x313506 = {};
      }
      _0x313506.specularMap = this.specularMap;
      _0x313506.normalMap = this.normalMap;
      _0x313506.alpha = this.alpha;
      _0x313506.globalAlpha = this.globalAlpha;
      return _0x313506;
    }
    equals(_0x526250) {
      return this === _0x526250 || _0x526250 instanceof WaterLightMaterialProperty && this.specularMap === _0x526250.specularMap && this.normalMap === _0x526250.normalMap && this.alpha === _0x526250.alpha;
    }
  }
  registerPropertyClass(WaterLight, WaterLightMaterialProperty);
  class WaterMaterialProperty extends BaseMaterialProperty {
    constructor(_0x3d557a = {}) {
      super(_0x3d557a);
      this.baseWaterColor = getCesiumColor(_0x3d557a.baseWaterColor, new Cesium__namespace.Color(0.2, 0.3, 0.6, 1));
      this.blendColor = getCesiumColor(_0x3d557a.blendColor, new Cesium__namespace.Color(0, 1, 0.699, 1));
      this.specularMap = _0x3d557a.specularMap || Cesium__namespace.Material.DefaultImageId;
      this.normalMap = _0x3d557a.normalMap || Cesium__namespace.Material.DefaultImageId;
      this.frequency = _0x3d557a.frequency ?? 1000;
      this.animationSpeed = _0x3d557a.animationSpeed ?? 0.01;
      this.amplitude = _0x3d557a.amplitude ?? 10;
      this.specularIntensity = _0x3d557a.specularIntensity ?? 0.5;
      this.fadeFactor = _0x3d557a.fadeFactor ?? 1;
      this.globalAlpha = _0x3d557a.globalAlpha ?? 1;
    }
    getType(_0x4db627) {
      return Water$1;
    }
    getValue(_0x28d485, _0x16cfa0) {
      if (!_0x16cfa0) {
        _0x16cfa0 = {};
      }
      _0x16cfa0.baseWaterColor = this.baseWaterColor;
      _0x16cfa0.blendColor = this.blendColor;
      _0x16cfa0.specularMap = this.specularMap;
      _0x16cfa0.normalMap = this.normalMap;
      _0x16cfa0.frequency = this.frequency;
      _0x16cfa0.animationSpeed = this.animationSpeed;
      _0x16cfa0.amplitude = this.amplitude;
      _0x16cfa0.specularIntensity = this.specularIntensity;
      _0x16cfa0.fadeFactor = this.fadeFactor;
      if (this.globalAlpha !== 1) {
        _0x16cfa0.baseWaterColor.alpha *= this.globalAlpha;
        _0x16cfa0.blendColor.alpha *= this.globalAlpha;
      }
      return _0x16cfa0;
    }
    equals(_0x165ded) {
      return this === _0x165ded || _0x165ded instanceof WaterMaterialProperty && this.baseWaterColor.equals(_0x165ded.baseWaterColor) && this.blendColor.equals(_0x165ded.blendColor) && this.specularMap === _0x165ded.specularMap && this.normalMap === _0x165ded.normalMap && this.frequency === _0x165ded.frequency && this.animationSpeed === _0x165ded.animationSpeed && this.amplitude === _0x165ded.amplitude && this.specularIntensity === _0x165ded.specularIntensity && this.fadeFactor === _0x165ded.fadeFactor;
    }
  }
  registerPropertyClass(Water$1, WaterMaterialProperty);
  class RandomColorMaterialProperty extends BaseMaterialProperty {
    constructor(_0x389f0c = {}) {
      super(_0x389f0c);
      this.color = Cesium__namespace.Color.fromRandom({
        minimumRed: this.options.minimumRed ?? 0,
        maximumRed: this.options.maximumRed ?? 0.75,
        minimumGreen: this.options.minimumGreen ?? 0,
        maximumGreen: this.options.maximumGreen ?? 0.75,
        minimumBlue: this.options.minimumBlue ?? 0,
        maximumBlue: this.options.maximumBlue ?? 0.75,
        minimumAlpha: this.options.minimumAlpha ?? 0.4,
        maximumAlpha: this.options.maximumAlpha ?? 0.7
      });
      this.globalAlpha = _0x389f0c.globalAlpha ?? 1;
    }
    getType(_0x25a629) {
      return RandomColor;
    }
    getValue(_0x598405, _0x496089) {
      if (!Cesium__namespace.defined(_0x496089)) {
        _0x496089 = {};
      }
      _0x496089.color = this.color;
      _0x496089.globalAlpha = this.globalAlpha;
      return _0x496089;
    }
    equals(_0x59741a) {
      return this === _0x59741a || _0x59741a instanceof RandomColorMaterialProperty && Cesium__namespace.Property.equals(this.color, _0x59741a.color) && this.image === _0x59741a.image;
    }
  }
  registerPropertyClass(RandomColor, RandomColorMaterialProperty);
  const _0x3a4f97 = {
    __proto__: null,
    TextMaterial: TextMaterial,
    CylinderWaveMaterial: CylinderWaveMaterial,
    BaseMaterialProperty: BaseMaterialProperty,
    SectorMaterialProperty: SectorMaterialProperty,
    CircleWaveMaterialProperty: CircleWaveMaterialProperty,
    CylinderWaveMaterialProperty: CylinderWaveMaterialProperty,
    DigitalFlowMaterialProperty: DigitalFlowMaterialProperty,
    EllipsoidElectricMaterialProperty: EllipsoidElectricMaterialProperty,
    EllipsoidWaveMaterialProperty: EllipsoidWaveMaterialProperty,
    Image2MaterialProperty: Image2MaterialProperty,
    LineBloomMaterialProperty: LineBloomMaterialProperty,
    LineFlickerMaterialProperty: LineFlickerMaterialProperty,
    LineFlowColorMaterialProperty: LineFlowColorMaterialProperty,
    LineFlowMaterialProperty: LineFlowMaterialProperty,
    LineTrailMaterialProperty: LineTrailMaterialProperty,
    LineDotDashMaterialProperty: LineDotDashMaterialProperty,
    LineDashArrowMaterialProperty: LineDashArrowMaterialProperty,
    NeonLightMaterialProperty: NeonLightMaterialProperty,
    LineThreeDashMaterialProperty: LineThreeDashMaterialProperty,
    LineCrossMaterialProperty: LineCrossMaterialProperty,
    ODLineMaterialProperty: ODLineMaterialProperty,
    PolyAsphaltMaterialProperty: PolyAsphaltMaterialProperty,
    PolyBlobMaterialProperty: PolyBlobMaterialProperty,
    PolyFacetMaterialProperty: PolyFacetMaterialProperty,
    PolyGradientMaterialProperty: PolyGradientMaterialProperty,
    PolyGradient2MaterialProperty: PolyGradient2MaterialProperty,
    PolyGrassMaterialProperty: PolyGrassMaterialProperty,
    PolyWoodMaterialProperty: PolyWoodMaterialProperty,
    RadarLineMaterialProperty: RadarLineMaterialProperty,
    RadarWaveMaterialProperty: RadarWaveMaterialProperty,
    RectSlideMaterialProperty: RectSlideMaterialProperty,
    ScanLineMaterialProperty: ScanLineMaterialProperty,
    TextMaterialProperty: TextMaterialProperty,
    WallScrollMaterialProperty: WallScrollMaterialProperty,
    WaterLightMaterialProperty: WaterLightMaterialProperty,
    WaterMaterialProperty: WaterMaterialProperty,
    RandomColorMaterialProperty: RandomColorMaterialProperty
  };
  var index$8 = _0x3a4f97;
  class BaseGraphic extends BaseClass {
    constructor(_0x858c83 = {}) {
      _0x858c83.style = _0x858c83.style || {};
      _0x858c83.attr = _0x858c83.attr || {};
      super(_0x858c83);
      this.options = _0x858c83;
      _0x858c83.id = _0x858c83.id ?? _0x858c83.attr.id ?? createGuid();
      _0x858c83.name = _0x858c83.name || _0x858c83.attr.name;
      this._show = _0x858c83.show ?? true;
      this._private = _0x858c83.private;
      if (_0x858c83.popup) {
        this.bindPopup(_0x858c83.popup, _0x858c83.popupOptions);
      }
      if (_0x858c83.tooltip) {
        this.bindTooltip(_0x858c83.tooltip, _0x858c83.tooltipOptions);
      }
      if (_0x858c83.contextmenuItems) {
        this.bindContextMenu(_0x858c83.contextmenuItems, _0x858c83.contextmenuItemsOptions);
      }
      this._state = State.INITIALIZED;
    }
    get type() {
      return this._type;
    }
    get isPoint() {
      return this._isPoint;
    }
    get id() {
      return this.options?.id;
    }
    set id(_0x276591) {
      this.options.id = _0x276591;
    }
    get pid() {
      return this.options?.pid;
    }
    set pid(_0x47d0c2) {
      this.options.pid = _0x47d0c2;
    }
    get state() {
      return this._state;
    }
    get isAdded() {
      return this._state === State.ADDED;
    }
    get isDestroy() {
      return this._state === State.DESTROY || !this.options;
    }
    get isPrivate() {
      if (this._private) {
        return true;
      }
      return false;
    }
    get czmObject() {
      return null;
    }
    get czmObjectEx() {
      return null;
    }
    get show() {
      return this._show;
    }
    set show(_0x5d0b6a) {
      if (this._show === _0x5d0b6a || this.isDestroy) {
        return;
      }
      this.options.show = _0x5d0b6a;
      this._show = _0x5d0b6a;
      if (!_0x5d0b6a && this.isEditing && this.stopEditing && !this.isPrivate) {
        this.stopEditing();
      }
      delete this._last_availabilityShow;
      this._updateCzmObjectShow(_0x5d0b6a);
      if (this._showHook) {
        this._showHook(_0x5d0b6a);
      }
      if (this._layer) {
        delete this._isCluster;
        this._layer._refreshCollisionCluster();
      }
      if (_0x5d0b6a) {
        this.fire(EventType.show);
      } else {
        this.fire(EventType.hide);
      }
    }
    getRealShow(_0x3706fb) {
      var _0x36d5a9;
      if (!this._map || !this.show || this.czmObject?.show === false || this._drawPrimitiveShow === false || this.isCluster) {
        return false;
      }
      if (_0x3706fb && this.availability && !this.getAvailabilityShow(_0x3706fb ?? ((_0x36d5a9 = this._map) === null || _0x36d5a9 === undefined ? undefined : _0x36d5a9.clock.currentTime))) {
        return false;
      }
      return this.show;
    }
    get hasCluster() {
      return true;
    }
    get isCluster() {
      return this._isCluster;
    }
    set isCluster(_0xc6d6a1) {
      if (this._isCluster === _0xc6d6a1) {
        return;
      }
      this._isCluster = _0xc6d6a1;
      delete this._last_availabilityShow;
      const _0x2c7b7e = !this._isCluster;
      if (this._clusterShowHook) {
        this._clusterShowHook(_0x2c7b7e);
      } else {
        this._updateCzmObjectShow(_0x2c7b7e);
        if (this._showHook) {
          this._showHook(_0x2c7b7e);
        }
      }
      const _0x4996be = {
        isCluster: _0xc6d6a1
      };
      this.fire(EventType.clusterItemChange, _0x4996be, true);
    }
    _updateCzmObjectShow(_0x563824) {
      if (this.czmObject) {
        this.czmObject.show = _0x563824;
      }
      if (this.czmObjectEx) {
        this.czmObjectEx.forEach(function (_0x3513fb) {
          _0x3513fb.show = _0x563824;
        });
      }
    }
    get availability() {
      return this.options?.availability;
    }
    set availability(_0x838992) {
      var _0x358679;
      var _0xd2386a;
      this._availability = getAvailability(_0x838992, (_0x358679 = this._map) === null || _0x358679 === undefined || (_0x358679 = _0x358679.clock) === null || _0x358679 === undefined ? undefined : _0x358679.startTime);
      this.options.availability = getAvailabilityJson(Array.isArray(_0x838992) ? _0x838992 : this._availability);
      if (this._updateAvailabilityHook) {
        this._updateAvailabilityHook(this._availability);
      }
      this.fire(EventType.availabilityChange, {
        new: this.getAvailabilityShow((_0xd2386a = this._map) === null || _0xd2386a === undefined || (_0xd2386a = _0xd2386a.clock) === null || _0xd2386a === undefined ? undefined : _0xd2386a.currentTime),
        old: undefined
      });
    }
    getAvailabilityJson() {
      var _0x41195b;
      var _0x218135;
      if (!this._availability && (_0x41195b = this.options) !== null && _0x41195b !== undefined && _0x41195b.availability) {
        var _0x3db8cc;
        this._availability = getAvailability(this.options.availability, (_0x3db8cc = this._map) === null || _0x3db8cc === undefined || (_0x3db8cc = _0x3db8cc.clock) === null || _0x3db8cc === undefined ? undefined : _0x3db8cc.startTime);
      }
      return getAvailabilityJson(this._availability, true, (_0x218135 = this._map) === null || _0x218135 === undefined || (_0x218135 = _0x218135.clock) === null || _0x218135 === undefined ? undefined : _0x218135.startTime);
    }
    getAvailabilityShow(_0x331845) {
      if (this._map?.availabilityEnabled === false) {
        return true;
      }
      if (this._availability && _0x331845) {
        return this._availability.findDataForIntervalContainingDate(_0x331845) ?? false;
      } else {
        return true;
      }
    }
    _bindLabelAvailability(_0x4364d6) {
      let _0x41c1d3 = true;
      _0x4364d6.update = _0x5b6ff1 => {
        if (!this.show) {
          _0x4364d6.show = this.show;
          return;
        }
        if (this.isCluster) {
          _0x4364d6.show = false;
          return;
        }
        const _0x37e5d7 = this.getAvailabilityShow(_0x5b6ff1.time);
        if (_0x41c1d3 !== _0x37e5d7) {
          _0x4364d6.show = _0x37e5d7;
          _0x41c1d3 = _0x37e5d7;
        }
      };
    }
    _bindPrimitiveAvailability(_0x2b2cba) {
      if (!this._availability || !_0x2b2cba || _0x2b2cba.__initUpdateForAvailability) {
        return;
      }
      let _0x2499fc = true;
      const _0x358fcc = this;
      const _0x1a0e65 = _0x2b2cba.update;
      if (!_0x1a0e65) {
        return;
      }
      _0x2b2cba.update = function (_0xd8a499) {
        if (this._drawPrimitiveShow === false) {
          return;
        }
        const _0x2153cb = _0x358fcc.getAvailabilityShow(_0xd8a499.time);
        if (_0x2153cb) {
          _0x1a0e65.bind(this)(_0xd8a499);
        }
        if (_0x2499fc !== _0x2153cb) {
          const _0x332fcd = _0x358fcc.czmObjectEx;
          if (_0x332fcd) {
            _0x332fcd.forEach(_0x94c207 => {
              if (_0x94c207 === _0x2b2cba) {
                return;
              }
              _0x94c207.show = _0x2153cb;
            });
          }
          _0x2499fc = _0x2153cb;
          const _0x57e07d = {
            new: _0x2153cb,
            old: _0x2499fc
          };
          _0x358fcc.fire(EventType.availabilityChange, _0x57e07d);
        }
      };
      _0x2b2cba.__initUpdateForAvailability = true;
    }
    _updateObjectAvailability(_0x58243a) {
      if (this.isEditing || this.isDrawing) {
        return;
      }
      if (this.availability && this.czmObject) {
        const _0x4b2ba9 = this.getAvailabilityShow(_0x58243a);
        if (this._last_availabilityShow !== _0x4b2ba9) {
          this._updateCzmObjectShow(_0x4b2ba9);
          if (this._showHook) {
            this._showHook(_0x4b2ba9);
          }
          this._last_availabilityShow = _0x4b2ba9;
        }
        return _0x4b2ba9;
      } else if (Cesium__namespace.defined(this._last_availabilityShow)) {
        this._updateCzmObjectShow(this.show);
        if (this._showHook) {
          this._showHook(this.show);
        }
        delete this._last_availabilityShow;
      }
      return true;
    }
    get name() {
      return this.options?.name ?? this.attr?.name;
    }
    set name(_0x346694) {
      this.options.name = _0x346694;
    }
    get attr() {
      return this.options?.attr ?? this.parent?.attr;
    }
    set attr(_0x4eec85) {
      this.options.attr = _0x4eec85;
      const _0x543836 = {
        attr: _0x4eec85
      };
      this.fire(EventType.updateAttr, _0x543836, true);
    }
    get style() {
      return this.options?.style;
    }
    set style(_0x5db57d) {
      this.setStyle(_0x5db57d);
    }
    get coord() {
      return this.getCoord();
    }
    set coord(_0x37999b) {
      if (this.isPoint) {
        this.position = _0x37999b;
      } else {
        this.positions = _0x37999b;
      }
    }
    get allowDrillPick() {
      return this.options?.allowDrillPick;
    }
    set allowDrillPick(_0xe8d589) {
      this.options.allowDrillPick = _0xe8d589;
    }
    get hasEdit() {
      if (!this.EditClass && !this._getDrawEntityClass) {
        return false;
      }
      if (this.hasAjaxPostion || this.hasAjaxPostions) {
        return false;
      }
      return this.options.hasEdit ?? true;
    }
    set hasEdit(_0x46cbee) {
      this.options.hasEdit = _0x46cbee;
    }
    get enabledEvent() {
      if (this._layer) {
        return this._layer.enabledEvent && this._enabledEvent;
      }
      return this._enabledEvent;
    }
    set enabledEvent(_0x2e70be) {
      this._enabledEvent = _0x2e70be;
    }
    get center() {
      return null;
    }
    get centerPoint() {
      return LngLatPoint.fromCartesian(this.center);
    }
    get hasOpacity() {
      return true;
    }
    get ellipsoid() {
      var _0x2ff494;
      return ((_0x2ff494 = this._map) === null || _0x2ff494 === undefined || (_0x2ff494 = _0x2ff494.scene) === null || _0x2ff494 === undefined || (_0x2ff494 = _0x2ff494.globe) === null || _0x2ff494 === undefined ? undefined : _0x2ff494.ellipsoid) ?? Cesium__namespace.Ellipsoid.WGS84;
    }
    get fixedFrameTransform() {
      if (Cesium__namespace.defined(this.options.fixedFrameTransform)) {
        return this.options.fixedFrameTransform;
      }
      return Cesium__namespace.Transforms.localFrameToFixedFrameGenerator("east", "north");
    }
    get currentTime() {
      var _0x3c5339;
      if ((_0x3c5339 = this._map) === null || _0x3c5339 === undefined || (_0x3c5339 = _0x3c5339.clock) === null || _0x3c5339 === undefined) {
        return undefined;
      } else {
        return _0x3c5339.currentTime;
      }
    }
    get info() {
      return this._timeinfo;
    }
    addTo(_0x35a240) {
      if (_0x35a240 && _0x35a240.addGraphic) {
        _0x35a240.addGraphic(this);
      }
      return this;
    }
    remove(_0x114ad) {
      if (this._layer) {
        this._layer.removeGraphic(this, _0x114ad);
      }
    }
    bindPickId(_0x5a46ba) {
      _0x5a46ba._mars3d_layerId = this._layer?.id;
      _0x5a46ba._mars3d_graphicId = this.id;
      return this;
    }
    _setPosToProperties() {
      if (this.options.coord) {
        this.coord = this.options.coord;
      }
      if (this.options.position) {
        this.position = this.options.position;
      } else if (this.options.positions) {
        if (this.style.buffer > 0) {
          this.positions = bufferPoints(this.options.positions, this.style.buffer, this.style.bufferSteps);
        } else {
          this.positions = this.options.positions;
        }
      }
    }
    _onAdd(_0x2f865c) {
      var _0x3fc619;
      if (this.isAdded) {
        return;
      }
      this._state = State.ADD;
      this._layer = _0x2f865c;
      this._map = _0x2f865c._map;
      this._layer._checkGraphicId(this);
      if (!this._map) {
        logWarn("BaseGraphic:为了避免异常问题，请将图层添加到Map上再进行添加矢量数据的操作！");
      }
      if (this.options.eventParent) {
        this.addEventParent(this.options.eventParent);
      } else if (this.options?.eventParent === false) ;else {
        this.addEventParent(_0x2f865c);
      }
      this._setPosToProperties();
      if (!this.czmObject && this._mountedHook) {
        this._mountedHook();
      }
      if (this._addedHook) {
        this._addedHook(this.style);
      }
      if ((_0x3fc619 = this._layer) === null || _0x3fc619 === undefined || !_0x3fc619._highlightOptions) {
        if (this.style.highlight) {
          this.bindHighlight(this.style.highlight);
        } else if (this.options.highlight) {
          this.bindHighlight(this.options.highlight);
        }
      }
      if (this.czmObject) {
        this.bindPickId(this.czmObject);
      }
      if (this.czmObjectEx) {
        this.czmObjectEx.forEach(_0x1051a5 => {
          this.bindPickId(_0x1051a5);
        });
      }
      if (this.options.availability) {
        this.availability = this.options.availability;
      }
      if (this.options.flyTo) {
        this.options.flyToOptions = this.options.flyToOptions || {};
        this.options.flyToOptions.duration = this.options.flyToOptions.duration ?? 0;
        this.flyTo();
      }
      this._state = State.ADDED;
      this.fire(EventType.add);
      if (!this.isPrivate && this.enabledEvent) {
        this._layer.fire(EventType.addGraphic, {
          graphic: this
        }, true);
      }
      if (this.options.script) {
        try {
          new Function("graphic", this.options.script)(this);
        } catch (_0x12fefc) {}
      }
    }
    _onRemove() {
      var _0xc9c06c;
      if (this._state !== State.ADDED) {
        return;
      }
      if (!this._layer || !this.options) {
        return;
      }
      this._closeAllControl();
      this.unbindHighlight();
      if (this.update) {
        this.unbindUpdateEvent();
      }
      this._clearPointAjaxPostion();
      this._clearAjaxPolyPostions();
      if (this._removedHook) {
        this._removedHook();
      }
      if (!this.options) {
        return;
      }
      this._state = State.REMOVED;
      this.fire(EventType.remove);
      if (!this.isPrivate && this.enabledEvent) {
        this._layer.fire(EventType.removeGraphic, {
          graphic: this
        }, true);
      }
      if ((_0xc9c06c = this.options) !== null && _0xc9c06c !== undefined && _0xc9c06c.eventParent) {
        this.removeEventParent(this.options.eventParent);
      } else if (this.options?.eventParent === false) ;else {
        this.removeEventParent(this._layer);
      }
      this._layer = null;
      this._map = null;
    }
    _mountedHook() {}
    _addedHook(_0x348d5b) {}
    _removedHook() {}
    enableControl(_0x33a479) {
      var _0x51f1bd;
      var _0xa15a5b;
      var _0x4a271d;
      this._map.mouseEvent.enabledMoveTarget = _0x33a479;
      if ((_0x51f1bd = this._map) !== null && _0x51f1bd !== undefined && _0x51f1bd.popup) {
        this._map.popup.enabled = _0x33a479;
      }
      if ((_0xa15a5b = this._map) !== null && _0xa15a5b !== undefined && _0xa15a5b.tooltip) {
        this._map.tooltip.enabled = _0x33a479;
      }
      if ((_0x4a271d = this._map) !== null && _0x4a271d !== undefined && _0x4a271d.contextmenu) {
        this._map.contextmenu.enabled = _0x33a479;
      }
    }
    setOptions(_0x387722, _0x3123b7) {
      if (this.isDestroy || !_0x387722 || Object.keys(_0x387722).length === 0) {
        return this;
      }
      for (const _0x4733f8 in _0x387722) {
        const _0x2aacc = _0x387722[_0x4733f8];
        switch (_0x4733f8) {
          case "name":
          case "show":
          case "position":
          case "positions":
          case "targetPosition":
          case "availability":
            this[_0x4733f8] = _0x2aacc;
            break;
          case "orientation":
            this.options[_0x4733f8] = _0x2aacc;
            this.czmObject[_0x4733f8] = _0x2aacc;
            break;
          case "attr":
            {
              if (_0x3123b7?.merge ?? true) {
                this.options.attr = merge(this.options.attr, _0x2aacc);
              } else {
                this.options.attr = _0x2aacc;
              }
              const _0x39a69e = {
                attr: _0x2aacc
              };
              this.fire(EventType.updateAttr, _0x39a69e, true);
              break;
            }
          case "style":
            {
              this.setStyle(_0x387722.style, _0x3123b7);
              const _0xa65342 = {
                style: _0x387722.style
              };
              this.fire(EventType.updateStyle, _0xa65342, true);
              break;
            }
          default:
            {
              if (isObject(_0x2aacc) && (_0x3123b7?.merge ?? true)) {
                this.options[_0x4733f8] = merge(this.options[_0x4733f8], _0x2aacc);
              } else {
                this.options[_0x4733f8] = _0x2aacc;
              }
              break;
            }
        }
      }
      if (_0x387722.popup || _0x387722.popupOptions) {
        if (_0x3123b7?.merge ?? true) {
          this.options.popupOptions = merge(this.options.popupOptions, _0x387722.popupOptions);
        }
        this.bindPopup(this.options.popup, this.options.popupOptions);
      } else if (_0x387722.popup === undefined) {
        this.unbindPopup();
      }
      if (_0x387722.tooltip || _0x387722.tooltipOptions) {
        if (_0x3123b7?.merge ?? true) {
          this.options.tooltipOptions = merge(this.options.tooltipOptions, _0x387722.tooltipOptions);
        }
        this.bindTooltip(this.options.tooltip, this.options.tooltipOptions);
      } else if (_0x387722.tooltip === undefined) {
        this.unbindTooltip();
      }
      if (_0x387722.contextmenuItems || _0x387722.contextmenuItemsOptions) {
        if (_0x3123b7?.merge ?? true) {
          this.options.contextmenuItemsOptions = merge(this.options.contextmenuItemsOptions, _0x387722.contextmenuItemsOptions);
        }
        this.bindContextMenu(this.options.contextmenuItems, this.options.contextmenuItemsOptions);
      } else if (_0x387722.contextmenuItems === undefined) {
        this.unbindContextMenu();
      }
      if (this._setOptionsHook) {
        this._setOptionsHook(this.options, _0x387722);
      }
      return this;
    }
    setStyle(_0x3fb40e, _0x91bd37) {
      var _0x188d37;
      var _0x365450;
      var _0x2cccae;
      if (!_0x3fb40e) {
        return;
      }
      if (_0x3fb40e.material) {
        delete this.options.style.material;
      }
      if (_0x3fb40e.materialType && this.options.style.materialOptions) {
        delete this.options.style.materialOptions;
      }
      if ((_0x188d37 = _0x3fb40e.outlineStyle) !== null && _0x188d37 !== undefined && _0x188d37.materialType && (_0x365450 = this.options.style) !== null && _0x365450 !== undefined && (_0x365450 = _0x365450.outlineStyle) !== null && _0x365450 !== undefined && _0x365450.materialOptions) {
        delete this.options.style.outlineStyle.materialOptions;
      }
      if (_0x91bd37?.merge ?? true) {
        this.options.style = merge(this.options.style, _0x3fb40e);
      } else {
        this.options.style = _0x3fb40e;
      }
      if (((_0x2cccae = this._layer) === null || _0x2cccae === undefined || !_0x2cccae._highlightOptions) && Cesium__namespace.defined(_0x3fb40e.highlight)) {
        if (_0x3fb40e.highlight) {
          this.bindHighlight(this.style.highlight);
        } else {
          this.unbindHighlight();
        }
      }
      this._updateStyleBaseHook(_0x3fb40e);
      const _0x12063c = {
        style: _0x3fb40e
      };
      this.fire(EventType.updateStyle, _0x12063c, true);
      return this;
    }
    _updateStyleBaseHook(_0x3cc225) {}
    setOpacity(_0x4e2309) {
      clearTimeout(this._canrefresh);
      this._canrefresh = setTimeout(() => {
        if (this.isAdded) {
          const _0x3ed121 = {
            globalAlpha: _0x4e2309
          };
          this.setStyle(_0x3ed121);
        }
      }, 500);
    }
    getCoord(_0x2efe74) {
      if (this.isPoint) {
        const _0x2cd20b = this.options.position;
        if (_0x2efe74 === null || _0x2efe74 === undefined || !_0x2efe74.expType || _0x2cd20b === null || _0x2cd20b === undefined || !_0x2cd20b.type) {
          var _0xdb7f5d;
          if ((_0xdb7f5d = this.point) !== null && _0xdb7f5d !== undefined && _0xdb7f5d.toArray) {
            return this.point.toArray(_0x2efe74?.noAlt);
          } else {
            return getAttrVal(_0x2cd20b, {
              onlySimpleType: true
            });
          }
        }
        if (_0x2cd20b?.type === "ajax") {
          return _0x2cd20b;
        } else if (_0x2cd20b?.type === "time" || _0x2cd20b instanceof Cesium__namespace.SampledPositionProperty || this.property instanceof Cesium__namespace.SampledPositionProperty) {
          return this._getPointTimePositionJson(_0x2efe74);
        }
      } else {
        const _0x3c0f59 = this.options.positions;
        if (_0x2efe74 === null || _0x2efe74 === undefined || !_0x2efe74.expType || _0x3c0f59 === null || _0x3c0f59 === undefined || !_0x3c0f59.type) {
          const _0x230f8e = this.points;
          if (_0x230f8e && Array.isArray(_0x230f8e)) {
            const _0x10449e = [];
            _0x230f8e.forEach(_0x4a254f => {
              _0x10449e.push(_0x4a254f.toArray(_0x2efe74?.noAlt));
            });
            return _0x10449e;
          } else {
            return getAttrVal(_0x3c0f59, {
              onlySimpleType: true
            });
          }
        }
        if (_0x3c0f59?.type === "ajax") {
          return _0x3c0f59;
        } else if (_0x3c0f59?.type === "time") {
          return this._getPolyTimePostionsJson(_0x2efe74);
        }
      }
    }
    toGeoJSON(_0x408494 = {}) {
      let _0x303ce0;
      if (_0x408494 !== null && _0x408494 !== undefined && _0x408494.standard) {
        _0x303ce0 = this.attr;
      } else {
        const _0x3ebd76 = {
          ...this.options
        };
        const _0x307840 = _0x3ebd76;
        for (const _0x381ec5 in _0x307840) {
          if (_0x381ec5.startsWith("_") || _0x381ec5 === "id" || _0x381ec5 === "name" || _0x381ec5 === "type" || _0x381ec5 === "style" || _0x381ec5 === "attr" || _0x381ec5 === "position" || _0x381ec5 === "positions") {
            delete _0x307840[_0x381ec5];
          }
        }
        _0x303ce0 = {
          name: this.name,
          ...this.attr,
          id: this.id,
          type: this.type,
          style: this._style2JsonBase(this.style, true),
          options: getAttrVal(_0x307840, {
            onlySimpleType: true
          })
        };
        if (this._availability) {
          _0x303ce0.availability = this.availability;
        }
        if (this._auto_availability) {
          delete _0x303ce0.availability;
        }
        if (_0x408494 !== null && _0x408494 !== undefined && _0x408494.noStyle) {
          delete _0x303ce0.style;
        }
        if (this._toJSON_Ex) {
          this._toJSON_Ex(_0x303ce0.options);
        }
      }
      _0x408494.expType = false;
      const _0x48e87a = {
        type: "Feature",
        properties: _0x303ce0
      };
      const _0x2f7766 = _0x48e87a;
      if (this._getGeoJsonGeometry) {
        _0x2f7766.geometry = this._getGeoJsonGeometry(_0x408494);
      } else if (this.isPoint) {
        _0x2f7766.geometry = {
          type: "Point",
          coordinates: this.getCoord(_0x408494)
        };
      } else {
        _0x2f7766.geometry = {
          type: "LineString",
          coordinates: this.getCoord(_0x408494)
        };
      }
      if (!_0x2f7766.geometry || !_0x2f7766.geometry.coordinates) {
        logWarn("toGeoJSON时geometry未解析成功", _0x2f7766);
        return;
      }
      return _0x2f7766;
    }
    toJSON(_0x389078) {
      const _0x4e6ca7 = clone(getAttrVal(this.options, {
        onlySimpleType: true
      }), ["parent", "eventParent", "_promise"]);
      _0x4e6ca7.type = this.type;
      _0x4e6ca7.attr = this.attr;
      _0x4e6ca7.style = this._style2JsonBase(this.style, false);
      if (this.isPoint) {
        const _0x1352dd = {
          expType: true,
          ..._0x389078
        };
        _0x4e6ca7.position = this.getCoord(_0x1352dd);
        if (!_0x4e6ca7.position) {
          logError("toJSON:缺少坐标信息", this);
        }
      } else {
        const _0x45c46f = {
          expType: true,
          ..._0x389078
        };
        _0x4e6ca7.positions = this.getCoord(_0x45c46f);
        if (!_0x4e6ca7.positions) {
          logError("toJSON:缺少坐标列表信息", this);
        }
      }
      if (Cesium__namespace.defined(this.options.styleType) && this.options.styleType !== this.type) {
        _0x4e6ca7.styleType = this.options.styleType;
      }
      if (this._availability) {
        _0x4e6ca7.availability = this.availability;
      }
      if (this._auto_availability) {
        delete _0x4e6ca7.availability;
      }
      if (this._toJSON_Ex) {
        this._toJSON_Ex(_0x4e6ca7, _0x389078);
      }
      for (const _0x126169 in _0x4e6ca7) {
        const _0x1e5adf = _0x4e6ca7[_0x126169];
        if (!Cesium__namespace.defined(_0x1e5adf) || isObject(_0x1e5adf) && Object.keys(_0x1e5adf).length === 0) {
          delete _0x4e6ca7[_0x126169];
        }
      }
      return _0x4e6ca7;
    }
    _style2JsonBase(_0x54541c, _0x2f4b32) {
      let _0x27a1d9;
      if (this._style2Json) {
        _0x27a1d9 = this._style2Json(_0x54541c);
        if (_0x54541c.highlight) {
          _0x27a1d9.highlight = this._style2Json(_0x54541c.highlight);
        }
      } else {
        _0x27a1d9 = getAttrVal(_0x54541c, {
          onlySimpleType: true
        });
      }
      if (_0x54541c.label) {
        _0x27a1d9.label = LabelStyleConver.toJSON(_0x54541c.label);
      }
      if (_0x54541c.outlineStyle) {
        _0x27a1d9.outlineStyle = PolylineStyleConver.toJSON(_0x54541c.outlineStyle);
      }
      return _0x27a1d9;
    }
    bindUpdateEvent() {
      if (!this.update || !this._map) {
        return;
      }
      this.unbindUpdateEvent();
      this._map.on(EventType.preRender, this._map_preRenderHandler, this);
      this._map_preRenderHandler(this._map.scene);
    }
    unbindUpdateEvent() {
      if (this._map) {
        this._map.off(EventType.preRender, this._map_preRenderHandler, this);
      }
    }
    _map_preRenderHandler(_0x4d57f1) {
      var _0x29ae33;
      if (!this._map || !this.isAdded || !this.show || !this._layer.show || this.isCluster) {
        return;
      }
      if ((_0x29ae33 = this.options) !== null && _0x29ae33 !== undefined && _0x29ae33.frameRate && this._last_preUpdateTime) {
        const _0x442612 = _0x4d57f1._frameState.frameNumber - this._last_preUpdateTime;
        if (_0x442612 < this.options.frameRate) {
          return;
        }
      }
      this._last_preUpdateTime = _0x4d57f1._frameState.frameNumber;
      this.update(_0x4d57f1._frameState);
    }
    getRectangle(_0x35464f) {
      if (!this._getRectangle_cache) {
        let _0x158d9e;
        if (this.isPoint) {
          if (this.hasTimePostion || this.property) {
            _0x158d9e = this._getPointTimePositions();
          } else {
            const _0x1f52a5 = this.positionShow || this.position;
            if (_0x1f52a5) {
              _0x158d9e = [_0x1f52a5];
            } else {
              return undefined;
            }
          }
          if (_0x35464f?.onePoint === false && _0x158d9e.length === 1) {
            return undefined;
          }
        } else {
          _0x158d9e = this.positionsShow || this.positions;
        }
        this._getRectangle_cache = getRectangle(_0x158d9e, _0x35464f?.isFormat);
      }
      return this._getRectangle_cache;
    }
    getMaxHeight() {
      if (this.isPoint) {
        return LngLatPoint.fromCartesian(this.positionShow).alt;
      }
      const _0xdf1035 = this._positions_draw || this.positionsShow || this.positions;
      if (_0xdf1035 && _0xdf1035.length > 0) {
        return getMaxHeight(_0xdf1035);
      }
      return 0;
    }
    fire(_0x2a0d78, _0xb67a9a = {}, _0x51b2aa) {
      var _0x3dda71;
      if (!_0xb67a9a.graphic || (_0x3dda71 = _0xb67a9a.graphic) !== null && _0x3dda71 !== undefined && _0x3dda71.isPrivate || _0xb67a9a.drawType || _0xb67a9a.editType) {
        _0xb67a9a.graphic = this;
      }
      return super.fire(_0x2a0d78, _0xb67a9a, _0x51b2aa);
    }
    flyTo(_0x41427c = {}) {
      if (!this._map) {
        return Promise.resolve(false);
      }
      if (this.options.flyToOptions) {
        _0x41427c = {
          ...this.options.flyToOptions,
          ..._0x41427c
        };
      }
      const _0x3f8e3a = this._rectangle || this.getRectangle({
        onePoint: false,
        isFormat: true
      });
      if (_0x3f8e3a) {
        return this._map.flyToExtent(_0x3f8e3a, _0x41427c);
      }
      let _0x3bacf3;
      if (this.isPoint) {
        if (this.hasTimePostion || this.property) {
          _0x3bacf3 = this._getPointTimePositions();
        } else if (this.positionShow) {
          _0x3bacf3 = [this.positionShow];
        }
      } else if (this.positionsShow) {
        _0x3bacf3 = this.positionsShow;
      } else if (this.positions) {
        _0x3bacf3 = this.positions;
      }
      _0x41427c.clampToGround = this.style.clampToGround;
      return this._map.flyToPositions(_0x3bacf3, _0x41427c);
    }
    getAddHeight(_0x363d9c, _0x338952 = 0) {
      if (!_0x363d9c) {
        _0x363d9c = this.style;
      }
      let _0x177fd3 = _0x363d9c?.addHeight;
      if (Cesium__namespace.defined(_0x177fd3)) {
        if (isString(_0x177fd3)) {
          _0x177fd3 = Number(template(_0x177fd3, this.attr, true));
          if (isNaN(_0x177fd3)) {
            _0x177fd3 = 0;
          }
        } else if (Array.isArray(_0x177fd3)) {
          _0x177fd3 = _0x177fd3[_0x338952] || 0;
        }
        return _0x177fd3;
      }
      return undefined;
    }
    getSetHeight(_0x1a0442, _0x34a18e = 0) {
      if (!_0x1a0442) {
        _0x1a0442 = this.style;
      }
      let _0x479fef = _0x1a0442?.setHeight;
      if (Cesium__namespace.defined(_0x479fef)) {
        if (isString(_0x479fef)) {
          _0x479fef = Number(template(_0x479fef, this.attr, true));
          if (isNaN(_0x479fef)) {
            _0x479fef = 0;
          }
        } else if (Array.isArray(_0x479fef)) {
          _0x479fef = _0x479fef[_0x34a18e] || 0;
        }
        return _0x479fef;
      }
      return undefined;
    }
    _updatePositionsForHeight(_0xc77325, _0x4713c8) {
      const _0x5a3d2f = this.getSetHeight(_0x4713c8);
      if (Cesium__namespace.defined(_0x5a3d2f)) {
        _0xc77325 = setPositionsHeight(_0xc77325, _0x5a3d2f);
      } else if (!this.isPoint || this.type.startsWith("circle")) {
        const _0x2324f9 = getCesiumValue(this.entityGraphic?.height, Number) ?? _0x4713c8.height;
        if (Cesium__namespace.defined(_0x2324f9)) {
          _0xc77325 = setPositionsHeight(_0xc77325, _0x2324f9);
        }
      }
      const _0x18a9e2 = this.getAddHeight(_0x4713c8);
      if (Cesium__namespace.defined(_0x18a9e2)) {
        _0xc77325 = addPositionsHeight(_0xc77325, _0x18a9e2);
      }
      return _0xc77325;
    }
    _calculateCzmHeight(_0x5de6f8, _0x2caf01) {
      if (this.style.clampToGround || !_0x5de6f8) {
        return;
      }
      let _0x21dc2a = this.style.height ?? 0;
      if (!Cesium__namespace.defined(this.style.height) || _0x2caf01) {
        const _0x32b0ba = this.getMaxHeight();
        if (_0x32b0ba !== 0) {
          _0x21dc2a = _0x32b0ba;
          if (_0x2caf01) {
            this.style.height = _0x32b0ba;
          }
        }
      }
      const _0x447ddf = this.getSetHeight();
      if (Cesium__namespace.defined(_0x447ddf)) {
        _0x21dc2a = _0x447ddf;
      }
      const _0x459130 = this.getAddHeight();
      if (Cesium__namespace.defined(_0x459130)) {
        _0x21dc2a += _0x459130;
      }
      _0x5de6f8.height = _0x21dc2a;
      if (Cesium__namespace.defined(this.style.diffHeight)) {
        if (Cesium__namespace.defined(this.style.diffHeight) && this.style.diffHeight !== 0) {
          _0x5de6f8.extrudedHeight = _0x21dc2a + this.style.diffHeight;
        } else {
          _0x5de6f8.extrudedHeight = undefined;
        }
      }
      this.fire(EventType.editStyle);
    }
    bindHighlight(_0x4ac537) {
      this.unbindHighlight();
      this._highlightOptions = _0x4ac537;
      if (this._highlightOptions.type === EventType.click) {
        this.on(EventType.click, this._highlight_mouseEventHandler, this);
      } else {
        this.on(EventType.mouseOver, this._highlight_mouseEventHandler, this);
        this.on(EventType.mouseOut, this._highlight_mouseOutHandler, this);
      }
    }
    unbindHighlight() {
      if (this._highlightOptions) {
        if (this._highlightOptions.type === EventType.click) {
          this.off(EventType.click, this._highlight_mouseEventHandler, this);
        } else {
          this.off(EventType.mouseOver, this._highlight_mouseEventHandler, this);
          this.off(EventType.mouseOut, this._highlight_mouseOutHandler, this);
        }
        if (this._map.isHighlighting(this)) {
          this._map.closeHighlight();
        }
        this._highlightOptions = null;
      }
    }
    _highlight_mouseEventHandler(_0x1d9def) {
      if (!this._map || this._map.isDrawing) {
        return;
      }
      const _0x11fd17 = _0x1d9def?.graphic;
      if (_0x11fd17) {
        this._map.openHighlight(_0x11fd17, this._highlightOptions, _0x1d9def);
      } else {
        this._map.closeHighlight();
      }
    }
    _highlight_mouseOutHandler(_0x233abd) {
      this._map.closeHighlight();
    }
    _closeAllControl() {
      this.closePopup();
      this.closeTooltip();
      this.closeSmallTooltip();
      this.closeContextMenu();
    }
    _getPopupPosition() {
      return this.position || this.center;
    }
    hasPopup(_0x417195) {
      return Boolean(this.getPopupConfig(_0x417195));
    }
    getPopupConfig(_0x1a295b = true) {
      var _0x1a7bde;
      if (this._popupConfig) {
        const _0x4aad0f = {
          ...this._popupConfig
        };
        return _0x4aad0f;
      }
      if (_0x1a295b && (_0x1a7bde = this._layer) !== null && _0x1a7bde !== undefined && _0x1a7bde._popupConfig) {
        const _0x2022e8 = {
          ...this._layer._popupConfig
        };
        return _0x2022e8;
      }
      return null;
    }
    bindPopup(_0x261036, _0x36dc05 = {}) {
      this._popupConfig = {
        content: _0x261036,
        options: _0x36dc05 || this.options.popupOptions,
        graphic: this,
        layer: this._layer
      };
      if (this._onEventHook) {
        this._onEventHook("popup");
      }
      return this;
    }
    unbindPopup(_0x364146) {
      if (_0x364146) {
        this._popupConfig = false;
      } else {
        this._popupConfig = null;
      }
      if (this._onEventHook) {
        this._onEventHook("popup");
      }
      return this;
    }
    openPopup(_0x50eddb, _0x3c6b60) {
      const _0x21a87f = this.getPopupConfig();
      if (_0x21a87f && this._map) {
        if (_0x3c6b60) {
          _0x21a87f.event = _0x3c6b60;
        }
        _0x21a87f.graphic = this;
        _0x21a87f.layer = this._layer;
        _0x21a87f._custom_position = _0x50eddb;
        this._map.popup.open(_0x50eddb || this._getPopupPosition(), _0x21a87f);
      }
      return this;
    }
    closePopup() {
      var _0xf06c8;
      if ((_0xf06c8 = this._map) !== null && _0xf06c8 !== undefined && _0xf06c8.popup) {
        this._map.popup.close(this);
      }
      return this;
    }
    getPopup() {
      if (this._map) {
        return this._map.popup.getPopup(this);
      }
    }
    hasTooltip(_0x85747a) {
      return Boolean(this.getTooltipConfig(_0x85747a));
    }
    getTooltipConfig(_0x197903 = true) {
      var _0x44e03c;
      if (this._tooltipConfig) {
        const _0x52404c = {
          ...this._tooltipConfig
        };
        return _0x52404c;
      }
      if (_0x197903 && (_0x44e03c = this._layer) !== null && _0x44e03c !== undefined && _0x44e03c._tooltipConfig) {
        const _0x30aa7d = {
          ...this._layer._tooltipConfig
        };
        return _0x30aa7d;
      }
      return null;
    }
    bindTooltip(_0x5d535c, _0x512ffa) {
      this._tooltipConfig = {
        content: _0x5d535c,
        options: _0x512ffa || this.options.tooltipOptions
      };
      if (this._onEventHook) {
        this._onEventHook("tooltip");
      }
      return this;
    }
    unbindTooltip(_0x48d275) {
      if (_0x48d275) {
        this._tooltipConfig = false;
      } else {
        this._tooltipConfig = null;
      }
      if (this._onEventHook) {
        this._onEventHook("tooltip");
      }
      return this;
    }
    openTooltip(_0x3890ab, _0x2adfd5) {
      const _0x2e41d1 = this.getTooltipConfig();
      if (_0x2e41d1 && this._map) {
        _0x2e41d1.graphic = this;
        _0x2e41d1.layer = this._layer;
        if (_0x2adfd5) {
          _0x2e41d1.event = _0x2adfd5;
        }
        this._map.tooltip.open(_0x3890ab || this._getPopupPosition(), _0x2e41d1);
      }
      return this;
    }
    closeTooltip() {
      if (this._map) {
        this._map.tooltip.close(this);
      }
      return this;
    }
    getTooltip() {
      if (this._map) {
        return this._map.tooltip.getTooltip(this);
      }
    }
    hasContextMenu(_0x2e00f8) {
      return Boolean(this.getContextMenu(_0x2e00f8));
    }
    getContextMenu(_0x656b4d = true) {
      var _0x39a401;
      if (this._contextmenuConfig) {
        return this._contextmenuConfig;
      }
      if (_0x656b4d && (_0x39a401 = this._layer) !== null && _0x39a401 !== undefined && _0x39a401._contextmenuConfig) {
        return this._layer._contextmenuConfig;
      }
      return null;
    }
    bindContextMenu(_0x3a4f93, _0x2fa8b1) {
      this._contextmenuConfig = {
        content: _0x3a4f93,
        options: _0x2fa8b1 || this.options?.contextmenuOptions,
        graphic: this,
        layer: this._layer
      };
      if (this._onEventHook) {
        this._onEventHook("contextMenu");
      }
      return this;
    }
    unbindContextMenu(_0x2df2d0) {
      if (_0x2df2d0) {
        this._contextmenuConfig = false;
      } else {
        this._contextmenuConfig = null;
      }
      if (this._onEventHook) {
        this._onEventHook("contextMenu");
      }
      return this;
    }
    openContextMenu(_0x2d8329) {
      const _0x1f2740 = this.getContextMenu();
      if (_0x1f2740 && this._map) {
        _0x1f2740.graphic = this;
        _0x1f2740.layer = this._layer;
        this._map.contextmenu.open(_0x2d8329 || this._getPopupPosition(), _0x1f2740);
      }
      return this;
    }
    closeContextMenu() {
      if (this.hasContextMenu() && this._map) {
        this._map.contextmenu.close(this);
      }
      return this;
    }
    openSmallTooltip(_0x25a98b, _0x5371b4) {
      if (this._map) {
        this._map.openSmallTooltip(_0x25a98b, _0x5371b4);
      }
      return this;
    }
    closeSmallTooltip() {
      if (this._map) {
        this._map.closeSmallTooltip();
      }
      return this;
    }
    isInView(_0x553661, _0x102e8b) {
      if (!_0x553661) {
        var _0x3437d9;
        _0x553661 = getPositionValue(this.position, (_0x3437d9 = this._map) === null || _0x3437d9 === undefined ? undefined : _0x3437d9.clock.currentTime);
      }
      const _0x57ab91 = this._map.scene;
      if (_0x57ab91.mode === Cesium__namespace.SceneMode.SCENE3D) {
        const _0x2e47ca = new Cesium__namespace.EllipsoidalOccluder(_0x57ab91.globe.ellipsoid, _0x57ab91.camera.positionWC);
        const _0x16c52b = _0x2e47ca.isPointVisible(_0x553661);
        if (!_0x16c52b) {
          return false;
        }
      }
      if (_0x102e8b !== null && _0x102e8b !== undefined && _0x102e8b.inWindow) {
        const _0x342083 = this._map.canvas;
        const _0x483205 = toWindowCoordinates$1(_0x57ab91, _0x553661);
        if (!_0x483205 || _0x483205.x < 0 || _0x483205.y < 0 || _0x483205.x > parseInt(_0x342083.width) || _0x483205.y > parseInt(_0x342083.height)) {
          return false;
        }
      }
      return true;
    }
    hasBindInteraction() {
      if (Cesium__namespace.defined(this.options.pointerEvents)) {
        return this.options.pointerEvents;
      }
      if (this.listens(EventType.click)) {
        return true;
      }
      if (this.listens(EventType.mouseOver)) {
        return true;
      }
      if (this.listens(EventType.mouseOut)) {
        return true;
      }
      if (this.hasPopup(true)) {
        return true;
      }
      if (this.hasTooltip(true)) {
        return true;
      }
      if (this.hasContextMenu(true)) {
        return true;
      }
      if (this._layer) {
        if (this._layer.isAutoEditing && this.hasEdit) {
          return true;
        }
        if (this._layer.listens(EventType.click)) {
          return true;
        }
        if (this._layer.listens(EventType.mouseOver)) {
          return true;
        }
        if (this._layer.listens(EventType.mouseOut)) {
          return true;
        }
      }
      return false;
    }
    _getClosurePositions(_0x4ce810) {
      if (!_0x4ce810 || !Array.isArray(_0x4ce810) || _0x4ce810.length < 2) {
        return _0x4ce810;
      }
      for (let _0x6ab9d5 = _0x4ce810.length - 1; _0x6ab9d5 > 0; _0x6ab9d5--) {
        const _0x20fd8d = _0x4ce810[_0x6ab9d5];
        const _0x5532c2 = _0x4ce810[_0x6ab9d5 - 1];
        const _0x530ed0 = Cesium__namespace.Cartesian3.distance(_0x20fd8d, _0x5532c2);
        if (_0x530ed0 < 0.01) {
          _0x4ce810.splice(_0x6ab9d5, 1);
        }
      }
      const _0x57bd3c = _0x4ce810[0];
      const _0x4b3f5a = _0x4ce810[_0x4ce810.length - 1];
      if (_0x57bd3c.equals(_0x4b3f5a)) {
        return _0x4ce810;
      } else {
        return _0x4ce810.concat(_0x57bd3c);
      }
    }
    get hasAjaxAttr() {
      return Boolean(this._getTargetAjaxAttr());
    }
    async getAjaxAttr(_0x28f696) {
      const _0x2437d1 = this._getTargetAjaxAttr();
      if (_0x2437d1) {
        const _0x570e15 = (_0x2437d1.cacheTime ?? 1) * 1000;
        if (this._last_getAjaxAttrTime && new Date().getTime() - this._last_getAjaxAttrTime < _0x570e15) {
          return this._last_getAjaxAttr;
        }
        this._last_getAjaxAttrTime = new Date().getTime();
        this._last_getAjaxAttr = await this._getNowAjaxAttr(_0x2437d1, _0x28f696);
        return this._last_getAjaxAttr;
      } else {
        const _0x2b7167 = {
          ...this.attr
        };
        return _0x2b7167;
      }
    }
    _getTargetAjaxAttr() {
      if (this.attr?.type === "ajax") {
        return this.attr;
      }
      if (this._layer.attr?.type === "ajax") {
        return this._layer.attr;
      }
    }
    async _getNowAjaxAttr(_0xaaac73, _0x3758af) {
      const _0x5c4cb4 = {
        ...this.attr
      };
      _0x5c4cb4.graphicId = this.id;
      let _0x444bb4 = await sendAjax({
        url: template(_0xaaac73.url, _0x5c4cb4)
      });
      if (_0xaaac73.dataColumn) {
        const _0x4404ec = _0xaaac73.dataColumn.split(".");
        _0x4404ec.forEach(_0x1e439d => {
          _0x444bb4 = _0x444bb4[_0x1e439d];
        });
      }
      if (_0x3758af !== null && _0x3758af !== undefined && _0x3758af.formatData) {
        _0x444bb4 = _0x3758af.formatData(_0x444bb4);
      }
      if (_0x3758af?.merge ?? _0xaaac73.merge) {
        _0x444bb4 = {
          ...clone(this.attr, ["type", "url", "dataColumn", "cacheTime"]),
          ..._0x444bb4
        };
      }
      return _0x444bb4;
    }
    _setPointPostionFoyType(_0x74ee) {
      if (this.isDestroy) {
        return;
      }
      if (_0x74ee?.type === "ajax") {
        this._setPointAjaxPosition(_0x74ee);
      } else if (_0x74ee?.type === "time") {
        this._clearPointAjaxPostion();
        this._setPointTimePosition(_0x74ee.list);
        this._setPointPostion(this.property);
        if (this.isEditing) {
          if (this._editing_entity) {
            this._editing_entity.position = _0x74ee;
          }
          if (this.editing.updateForExternal) {
            this.editing.updateForExternal();
          }
        }
      } else {
        this._clearPointAjaxPostion();
        this._setPointPostion(_0x74ee);
      }
    }
    _hasPropertyPostion(_0x1ec667) {
      return _0x1ec667 && (_0x1ec667 instanceof Cesium__namespace.CallbackProperty || _0x1ec667 instanceof Cesium__namespace.SampledPositionProperty);
    }
    _hasPointTypePostion(_0x399e18) {
      const _0x8ebae = this.options.position;
      return Boolean(_0x8ebae && _0x8ebae.type === _0x399e18);
    }
    _setPointAjaxPosition(_0xc77560) {
      if (_0xc77560.time > 0) {
        this._setAjaxPostion_Time = setInterval(async () => {
          if (this.isAdded) {
            const _0x2652c3 = await this._getPointNowAjaxPostion(_0xc77560);
            if (this.setCallbackPosition) {
              this.setCallbackPosition(_0x2652c3);
            } else {
              this._setPointPostion(_0x2652c3);
            }
          }
          if (this.isDestroy) {
            this._clearPointAjaxPostion();
          }
        }, _0xc77560.time * 1000);
      } else {
        this._getPointNowAjaxPostion(_0xc77560).then(_0x3b0b91 => {
          this._setPointPostion(_0x3b0b91);
        });
      }
    }
    async _getPointNowAjaxPostion(_0x62b033) {
      let _0xc0e238 = await sendAjax(_0x62b033);
      if (_0x62b033.dataColumn) {
        const _0x12846b = _0x62b033.dataColumn.split(".");
        _0x12846b.forEach(_0x564d0e => {
          _0xc0e238 = _0xc0e238[_0x564d0e];
        });
      }
      return this._getPositionByAjaxData(_0xc0e238, _0x62b033);
    }
    _getPositionByAjaxData(_0x2d3f83, _0x1f6159) {
      if (_0x1f6159.formatPosition) {
        return _0x1f6159.formatPosition(_0x2d3f83);
      } else if (_0x2d3f83.position) {
        return LngLatPoint.parse(_0x2d3f83.position).toCartesian();
      } else {
        const _0x5c76b6 = _0x2d3f83[_0x1f6159.latColumn || "lat"];
        const _0x628e11 = _0x2d3f83[_0x1f6159.lngColumn || "lng"];
        const _0x15b422 = _0x2d3f83[_0x1f6159.altColumn || "alt"] || 0;
        return Cesium__namespace.Cartesian3.fromDegrees(_0x628e11, _0x5c76b6, _0x15b422);
      }
    }
    _clearPointAjaxPostion() {
      if (this._setAjaxPostion_Time) {
        clearInterval(this._setAjaxPostion_Time);
        delete this._setAjaxPostion_Time;
      }
    }
    _setPointTimePosition(_0x33f1aa) {
      if (!this.options.position || this.options.position.type !== "time") {
        this.options.position = {
          type: "time"
        };
      }
      const _0x12d7f4 = this.options.position;
      if (!this.property) {
        this.property = new Cesium__namespace.SampledPositionProperty(_0x12d7f4.referenceFrame ?? this.options.referenceFrame, _0x12d7f4.numberOfDerivatives ?? this.options.numberOfDerivatives);
        this.property.backwardExtrapolationType = _0x12d7f4.backwardExtrapolationType ?? this.options.backwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        this.property.forwardExtrapolationType = _0x12d7f4.forwardExtrapolationType ?? this.options.forwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
      }
      if (!this.options.orientation) {
        this._orientation = new Cesium__namespace.VelocityOrientationProperty(this.property);
      }
      this._clearPointTimePostion();
      if (!_0x33f1aa || _0x33f1aa.length === 0) {
        _0x12d7f4.list = [];
        return;
      }
      const _0x444850 = LngLatArray.toPoints(_0x33f1aa);
      _0x12d7f4.list = _0x444850;
      if (!_0x12d7f4.speed && Cesium__namespace.defined(_0x444850[0].time) && Cesium__namespace.defined(_0x444850[_0x444850.length - 1].time)) {
        _0x12d7f4.timeField = "time";
      }
      let _0x21c485 = this.currentTime;
      if (_0x12d7f4.startTime) {
        _0x21c485 = getJulianDate$1(_0x12d7f4.startTime, this.currentTime);
      } else if (_0x12d7f4.timeField) {
        const _0x16e0b2 = _0x444850[0][_0x12d7f4.timeField];
        if (_0x16e0b2) {
          _0x21c485 = getJulianDate$1(_0x16e0b2, this.currentTime);
        }
      }
      let _0x60c04d;
      if (!_0x12d7f4.timeField) {
        let _0x5a775b = _0x12d7f4.speed;
        let _0xd54686 = false;
        if (_0x12d7f4.speed) {
          _0xd54686 = Array.isArray(_0x5a775b);
        } else {
          _0x5a775b = _0x12d7f4.speed = 100;
        }
        _0x60c04d = function (_0x129a65, _0x49da85) {
          if (_0x49da85.speed) {
            return _0x49da85.speed;
          }
          if (_0x49da85._speed) {
            return _0x49da85._speed;
          }
          if (_0xd54686) {
            return _0x5a775b[_0x129a65] / 3.6;
          }
          return _0x5a775b / 3.6;
        };
      }
      const _0x54ce40 = _0x12d7f4.offsetHeight ?? 0;
      let _0x249eca = 0;
      let _0xe5cf38 = 0;
      let _0x490197;
      let _0x139fa6;
      let _0x210db6 = false;
      const _0x47d117 = this.clampToGround && this._map.scene.mode === Cesium__namespace.SceneMode.SCENE3D;
      const _0x34becb = [];
      const _0x4fb1ce = 0.001;
      const _0x1bccbb = (_0x1e2a89, _0x4f0819) => {
        for (let _0x20e3d3 = _0x1e2a89 - 1; _0x20e3d3 >= 0; _0x20e3d3--) {
          const _0x15c934 = _0x444850[_0x20e3d3];
          if (_0x47d117) {
            _0x15c934.alt = getHeight(this._map.scene, _0x15c934, {
              original: true
            });
          }
          const _0x156d46 = _0x15c934._position || Cesium__namespace.Cartesian3.fromDegrees(_0x15c934.lng, _0x15c934.lat, _0x15c934.alt + _0x54ce40);
          _0x15c934._position = _0x156d46;
          const _0x41f47d = Cesium__namespace.Cartesian3.distance(_0x4f0819, _0x156d46);
          if (_0x41f47d !== 0) {
            return getOnLinePointByLen(_0x156d46, _0x4f0819, _0x4fb1ce, true);
          }
        }
        for (let _0xf68719 = _0x1e2a89 - 1, _0x498294 = _0x444850.length; _0xf68719 < _0x498294; _0xf68719++) {
          const _0x594519 = _0x444850[_0xf68719];
          if (_0x47d117) {
            _0x594519.alt = getHeight(this._map.scene, _0x594519, {
              original: true
            });
          }
          const _0x377d3c = _0x594519._position || Cesium__namespace.Cartesian3.fromDegrees(_0x594519.lng, _0x594519.lat, _0x594519.alt + _0x54ce40);
          _0x594519._position = _0x377d3c;
          const _0x40ef2f = Cesium__namespace.Cartesian3.distance(_0x4f0819, _0x377d3c);
          if (_0x40ef2f !== 0) {
            return getOnLinePointByLen(_0x4f0819, _0x377d3c, _0x4fb1ce, false);
          }
        }
        return null;
      };
      this._pauseTimeCounts = 0;
      for (let _0x4b478c = 0, _0x15e0f9 = _0x444850.length; _0x4b478c < _0x15e0f9; _0x4b478c++) {
        let _0x4528c4 = _0x444850[_0x4b478c];
        if (_0x47d117) {
          _0x4528c4.alt = getHeight(this._map.scene, _0x4528c4, {
            original: true
          });
        }
        if (_0x4528c4._pausePoint) {
          continue;
        }
        let _0x2fcee5 = _0x4528c4._position || Cesium__namespace.Cartesian3.fromDegrees(_0x4528c4.lng, _0x4528c4.lat, _0x4528c4.alt + _0x54ce40);
        if (_0x4b478c === 0) {
          _0x139fa6 = _0x21c485.clone();
          this.property.addSample(_0x139fa6, _0x2fcee5);
          _0x4528c4._position = _0x2fcee5;
          _0x4528c4._time = _0x139fa6;
          _0x4528c4._distance = _0xe5cf38;
          _0x4528c4._second = _0x249eca;
          _0x4528c4._speed = 0;
          _0x4528c4._index = _0x4b478c;
          _0x34becb.push(_0x4528c4);
          if (Cesium__namespace.defined(_0x4528c4.heading)) {
            this._orientation = new Cesium__namespace.SampledProperty(Cesium__namespace.Quaternion);
            _0x210db6 = true;
            const _0x1c4403 = new Cesium__namespace.HeadingPitchRoll(Cesium__namespace.Math.toRadians(_0x4528c4.heading || 0), Cesium__namespace.Math.toRadians(_0x4528c4.pitch || 0), Cesium__namespace.Math.toRadians(_0x4528c4.roll || 0));
            this._orientation.addSample(_0x139fa6, Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x2fcee5, _0x1c4403, this.ellipsoid, this.fixedFrameTransform));
          }
        } else {
          let _0x31a9bc = Cesium__namespace.Cartesian3.distance(_0x2fcee5, _0x490197);
          if (_0x31a9bc === 0) {
            _0x31a9bc = _0x4fb1ce;
            _0x2fcee5 = _0x1bccbb(_0x4b478c, _0x2fcee5) ?? _0x2fcee5;
          }
          let _0x2ced10;
          if (_0x12d7f4.timeField) {
            _0x2ced10 = false;
            if (!_0x4528c4[_0x12d7f4.timeField]) {
              if (_0x4528c4._speed) {
                _0x2ced10 = true;
              } else {
                logWarn("缺少" + _0x12d7f4.timeField + "时间值", _0x4528c4);
              }
            }
          } else {
            _0x2ced10 = true;
          }
          let _0x8f4a62;
          let _0x1bc033;
          if (_0x2ced10) {
            _0x1bc033 = _0x4528c4._speed ?? _0x60c04d(_0x4b478c - 1, _0x4528c4);
            _0x8f4a62 = _0x31a9bc / _0x1bc033;
            if (_0x8f4a62 < 0.0001) {
              _0x8f4a62 = 0.0001;
            }
            _0x249eca += _0x8f4a62;
            _0x139fa6 = Cesium__namespace.JulianDate.addSeconds(_0x21c485, _0x249eca, new Cesium__namespace.JulianDate());
          } else {
            const _0x158727 = getJulianDate$1(_0x4528c4[_0x12d7f4.timeField], this.currentTime);
            _0x8f4a62 = secondsDifference(_0x158727, _0x139fa6) || 0.0001;
            _0x139fa6 = _0x158727;
            _0x1bc033 = _0x31a9bc / _0x8f4a62;
            _0x249eca += _0x8f4a62;
          }
          _0xe5cf38 += _0x31a9bc;
          this.property.addSample(_0x139fa6, _0x2fcee5);
          if (_0x210db6) {
            const _0x42ad99 = new Cesium__namespace.HeadingPitchRoll(Cesium__namespace.Math.toRadians(_0x4528c4.heading || 0), Cesium__namespace.Math.toRadians(_0x4528c4.pitch || 0), Cesium__namespace.Math.toRadians(_0x4528c4.roll || 0));
            this._orientation.addSample(_0x139fa6, Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x2fcee5, _0x42ad99, this.ellipsoid, this.fixedFrameTransform));
          }
          _0x4528c4._position = _0x2fcee5;
          _0x4528c4._time = _0x139fa6;
          _0x4528c4._distance = _0xe5cf38;
          _0x4528c4._second = _0x249eca;
          _0x4528c4._speed = _0x1bc033;
          _0x4528c4._index = _0x4b478c;
          _0x34becb.push(_0x4528c4);
          if (_0x12d7f4.pauseTime) {
            const _0x1c68cf = _0x1bccbb(_0x4b478c, _0x2fcee5);
            if (!_0x1c68cf) {
              continue;
            }
            let _0x4c72ab;
            if (typeof _0x12d7f4.pauseTime === "function") {
              _0x4c72ab = _0x12d7f4.pauseTime(_0x4b478c, _0x1c68cf);
            } else {
              _0x4c72ab = _0x12d7f4.pauseTime;
            }
            if (_0x4c72ab > 0) {
              _0x249eca += _0x4c72ab;
              _0x139fa6 = Cesium__namespace.JulianDate.addSeconds(_0x21c485, _0x249eca, new Cesium__namespace.JulianDate());
              this.property.addSample(_0x139fa6, _0x1c68cf);
              _0xe5cf38 += _0x4fb1ce;
              _0x4528c4 = clone(_0x4528c4);
              _0x4528c4._pausePoint = true;
              _0x4528c4._position = _0x1c68cf;
              _0x4528c4._time = _0x139fa6;
              _0x4528c4._distance = _0xe5cf38;
              _0x4528c4._second = _0x249eca;
              _0x4528c4._speed = 0;
              _0x4528c4._index = _0x4b478c;
              _0x34becb.push(_0x4528c4);
              this._pauseTimeCounts++;
            }
          }
        }
        _0x490197 = _0x2fcee5;
      }
      if (_0x12d7f4.interpolation) {
        const _0x3122a7 = {
          interpolationDegree: _0x12d7f4.interpolationDegree ?? 2,
          interpolationAlgorithm: _0x12d7f4.interpolationAlgorithm ?? Cesium__namespace.HermitePolynomialApproximation
        };
        this.property.setInterpolationOptions(_0x3122a7);
      }
      if (this._entity && this.getOrientation) {
        this._entity.orientation = this.getOrientation();
      }
      const _0x32ed7f = {
        distance: _0xe5cf38,
        second: _0x249eca
      };
      this._timeinfo = _0x32ed7f;
      this._startTime = _0x21c485;
      this.property._points = _0x34becb;
    }
    _clearPointTimePostion(_0x553b52) {
      var _0x2f4709;
      const _0x31cc85 = (_0x2f4709 = this.property) === null || _0x2f4709 === undefined || (_0x2f4709 = _0x2f4709._property) === null || _0x2f4709 === undefined ? undefined : _0x2f4709._times;
      if (!_0x31cc85 || _0x31cc85.length === 0) {
        return;
      }
      let _0xad7d3 = _0x31cc85.length - 1;
      if (_0x553b52 > 0) {
        _0xad7d3 -= _0x553b52;
      }
      if (_0xad7d3 < 0) {
        return;
      }
      const _0x3ab9fa = {
        start: _0x31cc85[0],
        stop: _0x31cc85[_0xad7d3]
      };
      this.property.removeSamples(new Cesium__namespace.TimeInterval(_0x3ab9fa));
    }
    _getPointTimeRange(_0x3616c4) {
      var _0x4b6838;
      const _0x416eb8 = (_0x4b6838 = this.property) === null || _0x4b6838 === undefined || (_0x4b6838 = _0x4b6838._property) === null || _0x4b6838 === undefined ? undefined : _0x4b6838._times;
      if (!_0x416eb8 || _0x416eb8.length === 0) {
        return;
      }
      if (_0x3616c4) {
        return {
          startTime: formatDate(Cesium__namespace.JulianDate.toDate(_0x416eb8[0])),
          stopTime: formatDate(Cesium__namespace.JulianDate.toDate(_0x416eb8[_0x416eb8.length - 1]))
        };
      } else {
        const _0x3295cf = {
          startTime: _0x416eb8[0],
          stopTime: _0x416eb8[_0x416eb8.length - 1]
        };
        return _0x3295cf;
      }
    }
    _getPointTimePositions() {
      var _0x49c349;
      var _0xa2b99b;
      const _0x2e1eac = this._startTime ?? ((_0x49c349 = this._map) === null || _0x49c349 === undefined || (_0x49c349 = _0x49c349.clock) === null || _0x49c349 === undefined ? undefined : _0x49c349.startTime);
      const _0x4768da = this.property ?? this.position;
      const _0xfa4b96 = _0x4768da?._points;
      if (_0xfa4b96 && _0xfa4b96.length > 0) {
        const _0x8e3d79 = [];
        for (let _0x26d3eb = 0, _0x2575af = _0xfa4b96.length; _0x26d3eb < _0x2575af; _0x26d3eb++) {
          const _0x501c72 = _0xfa4b96[_0x26d3eb];
          if (_0x501c72._pausePoint) {
            continue;
          }
          const _0x191c68 = _0x501c72._position;
          _0x191c68.time = _0x501c72.time ?? secondsDifference(_0x501c72._time, _0x2e1eac);
          _0x8e3d79.push(_0x191c68);
        }
        return _0x8e3d79;
      }
      const _0x1f48c9 = _0x4768da === null || _0x4768da === undefined || (_0xa2b99b = _0x4768da._property) === null || _0xa2b99b === undefined ? undefined : _0xa2b99b._times;
      if (_0x1f48c9?.length > 0) {
        var _0x3301e2;
        const _0x35ab0a = _0x4768da === null || _0x4768da === undefined || (_0x3301e2 = _0x4768da._property) === null || _0x3301e2 === undefined ? undefined : _0x3301e2._values;
        const _0x3a3f01 = [];
        for (let _0x33b6ec = 0, _0x543d67 = _0x1f48c9.length; _0x33b6ec < _0x543d67; _0x33b6ec++) {
          const _0x38d822 = new Cesium__namespace.Cartesian3(_0x35ab0a[_0x33b6ec * 3], _0x35ab0a[_0x33b6ec * 3 + 1], _0x35ab0a[_0x33b6ec * 3 + 2]);
          if (!_0x38d822.equals(_0x3a3f01[_0x3a3f01.length - 1])) {
            _0x38d822.time = secondsDifference(_0x1f48c9[_0x33b6ec], _0x2e1eac);
            _0x3a3f01.push(_0x38d822);
          }
        }
        return _0x3a3f01;
      }
    }
    _getPointTimePositionJson(_0x36f0fb = {}) {
      var _0x43f496;
      let _0x33959f;
      if (this.options.position?.type === "time") {
        const _0x1a6cf7 = {
          ...this.options.position
        };
        _0x33959f = _0x1a6cf7;
      } else {
        _0x33959f = {
          type: "time"
        };
      }
      let _0x462323 = _0x33959f?.timeField;
      if (!Cesium__namespace.defined(_0x33959f?.speed)) {
        _0x462323 = "time";
      }
      const _0x2ab717 = this._startTime ?? ((_0x43f496 = this._map) === null || _0x43f496 === undefined || (_0x43f496 = _0x43f496.clock) === null || _0x43f496 === undefined ? undefined : _0x43f496.startTime);
      if (_0x33959f.list) {
        const _0x3bb719 = [];
        for (let _0x57803b = 0, _0x414631 = _0x33959f.list.length; _0x57803b < _0x414631; _0x57803b++) {
          const _0x140970 = _0x33959f.list[_0x57803b];
          if (_0x140970._pausePoint) {
            continue;
          }
          if (_0x462323 && (_0x36f0fb === null || _0x36f0fb === undefined || !_0x36f0fb.toArray)) {
            const _0x4b04fa = _0x140970.toObject();
            let _0x30bfba;
            if (_0x36f0fb !== null && _0x36f0fb !== undefined && _0x36f0fb.toNum) {
              _0x30bfba = isNumber(_0x140970[_0x462323]) ? _0x140970[_0x462323] : secondsDifference(_0x140970._time, _0x2ab717);
            } else {
              _0x30bfba = _0x140970[_0x462323] ?? formatDate(Cesium__namespace.JulianDate.toDate(_0x140970._time), "yyyy-MM-dd HH:mm:ss");
            }
            _0x4b04fa[_0x462323] = _0x30bfba;
            _0x3bb719.push(_0x4b04fa);
          } else if (_0x140970.toArray) {
            const _0x4ece7d = _0x140970.toArray();
            let _0x5213d8;
            if (_0x36f0fb !== null && _0x36f0fb !== undefined && _0x36f0fb.toNum) {
              _0x5213d8 = secondsDifference(_0x140970._time, _0x2ab717);
            } else {
              _0x5213d8 = formatDate(Cesium__namespace.JulianDate.toDate(_0x140970._time), "yyyy-MM-dd HH:mm:ss");
            }
            _0x4ece7d.push(_0x5213d8);
            _0x3bb719.push(_0x4ece7d);
          } else {
            _0x3bb719.push(_0x140970);
          }
        }
        _0x33959f.list = _0x3bb719;
      } else {
        var _0x5bccc3;
        const _0x34f72a = this.property ?? this.position;
        const _0x13ade2 = _0x34f72a === null || _0x34f72a === undefined || (_0x5bccc3 = _0x34f72a._property) === null || _0x5bccc3 === undefined ? undefined : _0x5bccc3._times;
        if (_0x13ade2?.length > 0) {
          var _0x4c64fa;
          const _0x5d1fef = _0x34f72a === null || _0x34f72a === undefined || (_0x4c64fa = _0x34f72a._property) === null || _0x4c64fa === undefined ? undefined : _0x4c64fa._values;
          const _0x4fc019 = [];
          for (let _0xc31fd8 = 0, _0x5dac16 = _0x13ade2.length; _0xc31fd8 < _0x5dac16; _0xc31fd8++) {
            const _0x608584 = LngLatPoint.fromCartesian(new Cesium__namespace.Cartesian3(_0x5d1fef[_0xc31fd8 * 3], _0x5d1fef[_0xc31fd8 * 3 + 1], _0x5d1fef[_0xc31fd8 * 3 + 2]));
            if (_0x462323 && (_0x36f0fb === null || _0x36f0fb === undefined || !_0x36f0fb.toArray)) {
              const _0x30c29a = _0x608584.toObject();
              let _0x4b0bbf;
              if (_0x36f0fb !== null && _0x36f0fb !== undefined && _0x36f0fb.toNum) {
                _0x4b0bbf = secondsDifference(_0x13ade2[_0xc31fd8], _0x2ab717);
              } else {
                _0x4b0bbf = formatDate(Cesium__namespace.JulianDate.toDate(_0x13ade2[_0xc31fd8]), "yyyy-MM-dd HH:mm:ss");
              }
              _0x30c29a[_0x462323] = _0x4b0bbf;
              _0x4fc019.push(_0x30c29a);
            } else if (_0x608584.toArray) {
              const _0x3dd5a6 = _0x608584.toArray();
              let _0x4beb3d;
              if (_0x36f0fb !== null && _0x36f0fb !== undefined && _0x36f0fb.toNum) {
                _0x4beb3d = secondsDifference(_0x13ade2[_0xc31fd8], _0x2ab717);
              } else {
                _0x4beb3d = formatDate(Cesium__namespace.JulianDate.toDate(_0x13ade2[_0xc31fd8]), "yyyy-MM-dd HH:mm:ss");
              }
              _0x3dd5a6.push(_0x4beb3d);
              _0x4fc019.push(_0x3dd5a6);
            } else {
              _0x4fc019.push(_0x608584);
            }
          }
          _0x33959f.list = _0x4fc019;
        }
      }
      if (_0x33959f.startTime instanceof Cesium__namespace.JulianDate) {
        _0x33959f.startTime = formatDate(Cesium__namespace.JulianDate.toDate(_0x33959f.startTime), "yyyy-MM-dd HH:mm:ss");
      }
      return _0x33959f;
    }
    _hasPolyTypePostions(_0x17f544) {
      const _0x5b7b84 = this.options.positions;
      return Boolean(_0x5b7b84 && _0x5b7b84.type === _0x17f544);
    }
    _setPolyPostionsFoyType(_0x56850c) {
      if (this.isDestroy) {
        return true;
      }
      if (_0x56850c?.type === "ajax") {
        this._setPolyAjaxPosition(_0x56850c);
        return true;
      } else if (_0x56850c?.type === "time") {
        this._clearAjaxPolyPostions();
        this._setPolyTimePostions(_0x56850c.list);
        if (this.isEditing) {
          var _0x5b513c;
          if ((_0x5b513c = this._editing_entity) !== null && _0x5b513c !== undefined && _0x5b513c._setPolyPostionsFoyType) {
            this._editing_entity._setPolyPostionsFoyType(_0x56850c);
          }
          if (this.editing.updateForExternal) {
            this.editing.updateForExternal();
          }
        }
        return true;
      } else {
        this._clearAjaxPolyPostions();
        this._setPolyPostions(_0x56850c);
      }
    }
    _setPolyAjaxPosition(_0x5a4082) {
      if (_0x5a4082.time > 0) {
        this._getNowAjaxPolyPostions_Time = setInterval(async () => {
          if (this.isAdded) {
            const _0x2d46b1 = await this._getNowAjaxPolyPostions(_0x5a4082);
            this.setCallbackPositions(_0x2d46b1);
          }
          if (this.isDestroy) {
            this._clearAjaxPolyPostions();
          }
        }, _0x5a4082.time * 1000);
      } else {
        this._getNowAjaxPolyPostions(_0x5a4082).then(_0x4c211c => {
          this._setPolyPostions(_0x4c211c);
        });
      }
    }
    async _getNowAjaxPolyPostions(_0x1bd831) {
      let _0xc39667 = await sendAjax(_0x1bd831);
      if (_0x1bd831.dataColumn) {
        const _0x34e772 = _0x1bd831.dataColumn.split(".");
        _0x34e772.forEach(_0x5e4198 => {
          _0xc39667 = _0xc39667[_0x5e4198];
        });
      }
      const _0x4ed8c3 = [];
      _0xc39667.forEach(_0x3e1ada => {
        const _0x3a2b00 = this._getPositionByAjaxData(_0x3e1ada, _0x1bd831);
        _0x4ed8c3.push(_0x3a2b00);
      });
      return _0x4ed8c3;
    }
    _clearAjaxPolyPostions() {
      if (this._getNowAjaxPolyPostions_Time) {
        clearInterval(this._getNowAjaxPolyPostions_Time);
        delete this._getNowAjaxPolyPostions_Time;
      }
    }
    _setPolyTimePostions(_0xdfe45b) {
      if (!this.options.positions || this.options.positions.type !== "time") {
        this.options.positions = {
          type: "time"
        };
      }
      const _0x476f35 = this.options.positions;
      _0x476f35.list = _0xdfe45b;
      if (!_0xdfe45b || _0xdfe45b.length === 0) {
        return;
      }
      const _0x333af1 = [];
      const _0x4b0e8b = _0x476f35.timeField || "time";
      let _0x337914 = 0;
      for (let _0x34b444 = 0, _0x3602ea = _0xdfe45b.length; _0x34b444 < _0x3602ea; _0x34b444++) {
        const _0xc61139 = _0xdfe45b[_0x34b444];
        const _0x1b5b27 = LngLatArray.toCartesians(_0xc61139.positions);
        if (_0x1b5b27.length === 0) {
          continue;
        }
        const _0x6d4e86 = getJulianDate$1(_0xc61139[_0x4b0e8b], this.currentTime);
        let _0x2ded89;
        if (typeof _0xc61139.pauseTime === "function") {
          _0x2ded89 = _0xc61139.pauseTime(_0x34b444, _0xc61139);
        } else {
          _0x2ded89 = _0xc61139.pauseTime;
        }
        if (_0xc61139.pauseTime > 0) {
          _0x2ded89 = Cesium__namespace.JulianDate.addSeconds(_0x6d4e86, _0x2ded89, new Cesium__namespace.JulianDate());
        }
        if (_0x1b5b27.length > _0x337914) {
          _0x337914 = _0x1b5b27.length;
        }
        const _0x450df7 = {
          positions: _0x1b5b27,
          time: _0x6d4e86,
          pauseTime: _0x2ded89
        };
        _0x333af1.push(_0x450df7);
      }
      for (let _0x4fff0c = 0, _0x339cf8 = _0x333af1.length; _0x4fff0c < _0x339cf8; _0x4fff0c++) {
        const _0x4c65bc = _0x333af1[_0x4fff0c];
        let _0x1b39a5 = _0x337914 - _0x4c65bc.positions.length;
        while (_0x1b39a5 > 0) {
          for (let _0x598f77 = _0x4c65bc.positions.length - 2; _0x598f77 >= 0; _0x598f77--) {
            _0x4c65bc.positions.splice(_0x598f77 + 1, 0, Cesium__namespace.Cartesian3.midpoint(_0x4c65bc.positions[_0x598f77 + 1], _0x4c65bc.positions[_0x598f77], new Cesium__namespace.Cartesian3()));
            _0x1b39a5--;
            if (_0x1b39a5 === 0) {
              break;
            }
          }
        }
      }
      this._stopTime = _0x333af1[0].time;
      this._stopTime = _0x333af1[_0x333af1.length - 1].time;
      const _0x1e3d9d = [];
      for (let _0x517814 = 0; _0x517814 < _0x337914; _0x517814++) {
        const _0x5a363a = new Cesium__namespace.SampledPositionProperty(_0x476f35.referenceFrame ?? this.options.referenceFrame, _0x476f35.numberOfDerivatives ?? this.options.numberOfDerivatives);
        _0x5a363a.backwardExtrapolationType = _0x476f35.backwardExtrapolationType ?? this.options.backwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        _0x5a363a.forwardExtrapolationType = _0x476f35.forwardExtrapolationType ?? this.options.forwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        _0x1e3d9d.push(_0x5a363a);
      }
      for (let _0xd36ccf = 0, _0x55b611 = _0x333af1.length; _0xd36ccf < _0x55b611; _0xd36ccf++) {
        const _0x299053 = _0x333af1[_0xd36ccf];
        const _0x2dc058 = _0x299053.positions[_0x299053.positions.length - 1];
        for (let _0x5e9c74 = 0; _0x5e9c74 < _0x337914; _0x5e9c74++) {
          const _0x551eb2 = _0x1e3d9d[_0x5e9c74];
          const _0x173e65 = _0x299053.positions[_0x5e9c74] ?? _0x2dc058;
          _0x551eb2.addSample(_0x299053.time, _0x173e65);
          if (_0x299053.pauseTime) {
            _0x551eb2.addSample(_0x299053.pauseTime, _0x173e65);
          }
        }
      }
      if (_0x476f35.interpolation) {
        for (let _0x1ecdcb = 0; _0x1ecdcb < _0x1e3d9d.length; _0x1ecdcb++) {
          const _0x162f6d = _0x1e3d9d[_0x1ecdcb];
          const _0x55c955 = {
            interpolationDegree: _0x476f35.interpolationDegree ?? 2,
            interpolationAlgorithm: _0x476f35.interpolationAlgorithm ?? Cesium__namespace.HermitePolynomialApproximation
          };
          _0x162f6d.setInterpolationOptions(_0x55c955);
        }
      }
      this._arrProperty = _0x1e3d9d;
      const _0x271a30 = [];
      this._positions_CallbackPropertyEx = _0x4d99ae => {
        if (this.isEditing || this.isDrawing) {
          return;
        }
        _0x271a30.length = 0;
        this._arrProperty.forEach(_0x3f3db4 => {
          const _0x4098d9 = _0x3f3db4.getValue(_0x4d99ae);
          if (_0x4098d9) {
            _0x271a30.push(_0x4098d9);
          }
        });
        this._positions_draw = _0x271a30;
        if (this.updateAttrForDrawing) {
          this.updateAttrForDrawing();
        }
        if (this._updateLabelPosition) {
          this._updateLabelPosition();
        }
      };
      this._positions_CallbackPropertyEx(this.currentTime);
      if (_0x271a30?.length > 0) {
        this._setPolyPostions(_0x271a30);
      }
      if (this.setCallbackPositions) {
        this._cancelPositionsCallback();
        this.setCallbackPositions();
      }
    }
    _getPolyTimeRange(_0x1f5c4e) {
      if (!this._startTime || !this._stopTime) {
        return;
      }
      if (_0x1f5c4e) {
        return {
          startTime: formatDate(Cesium__namespace.JulianDate.toDate(this._startTime)),
          stopTime: formatDate(Cesium__namespace.JulianDate.toDate(this._stopTime))
        };
      } else {
        const _0x2e6037 = {
          startTime: this._startTime,
          stopTime: this._stopTime
        };
        return _0x2e6037;
      }
    }
    _getPolyTimePostionsJson(_0x1abc4c) {
      let _0x8ee89a;
      if (this.options.positions?.type === "time") {
        const _0x3cd34d = {
          ...this.options.positions
        };
        _0x8ee89a = _0x3cd34d;
      } else {
        _0x8ee89a = {
          type: "time"
        };
      }
      const _0x5a79b8 = _0x8ee89a.list;
      const _0x2123c3 = _0x8ee89a.timeField || "time";
      for (let _0x43492d = 0, _0x2b9bb6 = _0x5a79b8.length; _0x43492d < _0x2b9bb6; _0x43492d++) {
        _0x5a79b8[_0x43492d].positions = LngLatArray.toArray(_0x5a79b8[_0x43492d].positions);
        if (_0x5a79b8[_0x43492d][_0x2123c3] instanceof Cesium__namespace.JulianDate) {
          if (_0x1abc4c !== null && _0x1abc4c !== undefined && _0x1abc4c.toNum) {
            _0x5a79b8[_0x43492d][_0x2123c3] = secondsDifference(_0x5a79b8[_0x43492d][_0x2123c3], this._startTime);
          } else {
            _0x5a79b8[_0x43492d][_0x2123c3] = formatDate(Cesium__namespace.JulianDate.toDate(_0x5a79b8[_0x43492d][_0x2123c3]));
          }
        }
      }
      return _0x8ee89a;
    }
    destroy(_0x5fe4bc) {
      if (this._state === State.DESTROY || this._noDestroy) {
        return;
      }
      if (this._state !== State.REMOVED) {
        if (this.clear) {
          this.clear();
        }
        this.remove();
      }
      super.destroy(_0x5fe4bc);
      this._state = State.DESTROY;
    }
  }
  function secondsDifference(_0x5cd550, _0x139df9, _0x5bdaef = 1) {
    return formatNum$1(Cesium__namespace.JulianDate.secondsDifference(_0x5cd550, _0x139df9), _0x5bdaef);
  }
  class GroupGraphic extends BaseGraphic {
    constructor(_0x4aa597 = {}) {
      super(_0x4aa597);
      this._arrGraphic = [];
    }
    get hasEmptyGroup() {
      return this.length === 0;
    }
    get hasChildGraphic() {
      return this.length > 0;
    }
    get length() {
      var _0xd2f528;
      if (((_0xd2f528 = this.options) === null || _0xd2f528 === undefined || (_0xd2f528 = _0xd2f528.graphics) === null || _0xd2f528 === undefined ? undefined : _0xd2f528.length) > 0) {
        return this.options.graphics.length;
      } else {
        return this._arrGraphic?.length || 0;
      }
    }
    _showHook(_0x403a28) {
      this.eachGraphic(_0x59aaea => {
        _0x59aaea.show = _0x403a28;
      }, this);
    }
    _mountedHook() {
      const _0x32568e = this.options.graphics;
      if (_0x32568e && _0x32568e.length > 0) {
        for (let _0x4636ef = 0; _0x4636ef < _0x32568e.length; _0x4636ef++) {
          const _0x20fcde = _0x32568e[_0x4636ef];
          if (_0x20fcde instanceof BaseGraphic) {
            _0x20fcde.eventParent = this;
            this.addGraphic(_0x20fcde);
          } else {
            _0x20fcde.eventParent = this;
            _0x20fcde.private = true;
            const _0x420518 = create$5(_0x20fcde.type, _0x20fcde);
            if (_0x420518) {
              this.addGraphic(_0x420518);
            }
          }
        }
        if (this.options.onlyLabel) {
          this._handleOnlyLabel();
        }
      }
    }
    _addedHook(_0x2751b0) {
      this.eachGraphic(_0x3c7d9c => {
        _0x3c7d9c.eventParent = this;
        this._layer.addGraphic(_0x3c7d9c);
      }, this);
    }
    _removedHook() {
      if (this._availability) {
        const _0x3a1138 = this.getInMapChilds();
        _0x3a1138.forEach(_0x5bbb79 => {
          if (_0x5bbb79._auto_availability) {
            _0x5bbb79.availability = undefined;
          }
          delete _0x5bbb79._auto_availability;
          delete _0x5bbb79._group_availability;
        }, this);
      }
      this.removeMapChilds();
    }
    _handleOnlyLabel() {
      const _0x4b79c9 = this.getGraphicForMaxPositions();
      if (_0x4b79c9) {
        _0x4b79c9.isMultiMax = true;
        this.eachGraphic(_0x4cf594 => {
          if (_0x4b79c9 === _0x4cf594) {
            return;
          }
          delete _0x4cf594.style.label;
        }, this);
      }
    }
    _updateAvailabilityHook(_0xcfb56c) {
      const _0x3befa7 = this.getInMapChilds();
      _0x3befa7.forEach(_0x49ce0b => {
        _0x49ce0b._auto_availability = true;
        _0x49ce0b._group_availability = true;
        _0x49ce0b.availability = _0xcfb56c;
      }, this);
    }
    setStyle(_0x18eff7, _0x8c9e2a) {
      this.eachGraphic(_0x194235 => {
        if (this.options.onlyLabel && !_0x194235.isMultiMax) {
          if (_0x18eff7.label) {
            delete _0x18eff7.label;
          }
        }
        _0x194235.setStyle(_0x18eff7, _0x8c9e2a);
      }, this);
    }
    setOpacity(_0x175387) {
      this.eachGraphic(_0x103958 => {
        _0x103958.setOpacity(_0x175387);
      }, this);
    }
    addChildsToMap() {
      this.eachGraphic(_0xc29abc => {
        this._layer.addGraphic(_0xc29abc);
      }, this);
    }
    removeMapChilds() {
      this.eachGraphic(_0x4822b6 => {
        this._layer.removeGraphic(_0x4822b6);
      }, this);
    }
    addGraphic(_0x56c3fb) {
      if (_0x56c3fb.parent) {
        _0x56c3fb.removeEventParent(_0x56c3fb.parent);
        _0x56c3fb.parent = null;
      }
      _0x56c3fb.pid = this.id;
      _0x56c3fb.parent = this;
      _0x56c3fb.options.eventParent = this;
      this._arrGraphic.push(_0x56c3fb);
      if (this.isAdded && !_0x56c3fb.isAdded) {
        this._layer.addGraphic(_0x56c3fb);
      } else {
        _0x56c3fb.removeEventParent(this._layer);
        _0x56c3fb.addEventParent(this);
      }
      return this;
    }
    removeGraphic(_0x270480) {
      _0x270480.parent = null;
      _0x270480.removeEventParent(this);
      removeArrayItem(this._arrGraphic, _0x270480);
      if (this._layer && _0x270480.isAdded) {
        this._layer.removeGraphic(_0x270480);
      }
      return this;
    }
    removeAllGraphic() {
      for (let _0x26fe16 = this._arrGraphic.length - 1; _0x26fe16 >= 0; _0x26fe16--) {
        const _0x503be1 = this._arrGraphic[_0x26fe16];
        this.removeGraphic(_0x503be1);
      }
      this._arrGraphic = [];
    }
    eachGraphic(_0x4383f6, _0x5d226c) {
      if (!this._arrGraphic) {
        return;
      }
      this._arrGraphic.forEach(_0x3d2fad => {
        _0x4383f6.call(_0x5d226c, _0x3d2fad);
      });
      return this;
    }
    getGraphics() {
      return this._arrGraphic;
    }
    getInMapChilds() {
      const _0x1a0318 = this._arrGraphic || [];
      this._layer.eachGraphic(_0x282133 => {
        if (_0x282133.pid !== this.id) {
          return;
        }
        if (this._arrGraphic.indexOf(_0x282133) !== -1) {
          return;
        }
        _0x1a0318.push(_0x282133);
      }, this);
      return _0x1a0318;
    }
    getGraphicById(_0xc2548e) {
      const _0x5e2560 = this._arrGraphic;
      if (!this._arrGraphic || this._arrGraphic.length === 0) {
        return;
      }
      for (let _0x1a1d39 = 0, _0x13c8f3 = _0x5e2560.length; _0x1a1d39 < _0x13c8f3; _0x1a1d39++) {
        const _0x2b2551 = _0x5e2560[_0x1a1d39];
        if (_0x2b2551.id === _0xc2548e) {
          return _0x2b2551;
        }
      }
      return undefined;
    }
    getGraphic(_0x1ad91b) {
      if (!this._arrGraphic || this._arrGraphic.length === 0) {
        return undefined;
      }
      for (let _0xfd3bc1 = 0; _0xfd3bc1 < this._arrGraphic.length; _0xfd3bc1++) {
        const _0x117cf2 = this._arrGraphic[_0xfd3bc1];
        if (_0x117cf2.name === _0x1ad91b || _0x117cf2.id === _0x1ad91b) {
          return _0x117cf2;
        }
      }
      return undefined;
    }
    getGraphicForMaxPositions() {
      let _0x34e6b1;
      this.eachGraphic(_0x2eaa11 => {
        var _0x29d750;
        var _0x57ea25;
        if (!_0x34e6b1 || ((_0x29d750 = _0x34e6b1) === null || _0x29d750 === undefined || (_0x29d750 = _0x29d750.positions) === null || _0x29d750 === undefined ? undefined : _0x29d750.length) < (_0x2eaa11 === null || _0x2eaa11 === undefined || (_0x57ea25 = _0x2eaa11.positions) === null || _0x57ea25 === undefined ? undefined : _0x57ea25.length)) {
          _0x34e6b1 = _0x2eaa11;
        }
      }, this);
      return _0x34e6b1;
    }
    hasGraphic(_0x25d30c, _0x5ac2f3) {
      for (let _0x59e16c = 0; _0x59e16c < this._arrGraphic.length; _0x59e16c++) {
        const _0x46c469 = this._arrGraphic[_0x59e16c];
        if (_0x5ac2f3 && _0x46c469 === _0x5ac2f3) {
          continue;
        }
        if (_0x46c469.name === _0x25d30c || _0x46c469.id === _0x25d30c) {
          return true;
        }
      }
      return false;
    }
    getRectangle(_0x4236df) {
      let _0x10538b;
      for (let _0x579d33 = 0; _0x579d33 < this._arrGraphic.length; _0x579d33++) {
        const _0x2259c3 = this._arrGraphic[_0x579d33];
        if (!_0x2259c3.getRectangle) {
          return;
        }
        const _0x13efd8 = {
          ..._0x4236df
        };
        _0x13efd8.isFormat = false;
        const _0x585fb1 = _0x2259c3.getRectangle(_0x13efd8);
        if (!Cesium__namespace.defined(_0x585fb1)) {
          return;
        }
        if (_0x10538b) {
          _0x10538b = Cesium__namespace.Rectangle.union(_0x585fb1, _0x10538b);
        } else {
          _0x10538b = _0x585fb1;
        }
      }
      if (_0x10538b && _0x4236df !== null && _0x4236df !== undefined && _0x4236df.isFormat) {
        return formatRectangle(_0x10538b);
      } else {
        return _0x10538b;
      }
    }
    toJSON() {
      const _0x210347 = {
        ...getAttrVal(this.options, {
          onlySimpleType: true
        }),
        id: this.id,
        name: this.name,
        type: this.type
      };
      if (this._availability) {
        _0x210347.availability = this.availability;
      }
      const _0xf1f73d = [];
      this.eachGraphic(_0x4503c8 => {
        const _0x35ad56 = _0x4503c8.toJSON();
        delete _0x35ad56.pid;
        delete _0x35ad56.id;
        delete _0x35ad56.zIndex;
        delete _0x35ad56.private;
        _0xf1f73d.push(_0x35ad56);
      }, this);
      if (_0xf1f73d.length > 0) {
        _0x210347.graphics = _0xf1f73d;
      }
      for (const _0x347ea8 in _0x210347) {
        const _0x2901da = _0x210347[_0x347ea8];
        if (!Cesium__namespace.defined(_0x2901da) || isObject(_0x2901da) && Object.keys(_0x2901da).length === 0) {
          delete _0x210347[_0x347ea8];
        }
      }
      return _0x210347;
    }
    toGeoJSON(_0x3fe2ff) {
      if (this.options.source === "geojson") {
        return super.toGeoJSON(_0x3fe2ff);
      } else {
        const _0x63433f = [];
        this.eachGraphic(_0x1f5956 => {
          const _0x26ceab = _0x1f5956.toGeoJSON(_0x3fe2ff);
          _0x63433f.push(_0x26ceab);
        });
        return _0x63433f;
      }
    }
    _getGeoJsonGeometry(_0x468f41) {
      let _0x549abe;
      const _0x24ee75 = [];
      this.eachGraphic(_0x398b81 => {
        const _0x4ccef1 = _0x398b81.toGeoJSON({
          standard: true
        });
        switch (_0x4ccef1.geometry.type) {
          case "Point":
            _0x549abe = "MultiPoint";
            break;
          case "LineString":
            _0x549abe = "MultiLineString";
            break;
          case "Polygon":
            _0x549abe = "MultiPolygon";
            break;
        }
        _0x24ee75.push(_0x4ccef1.geometry.coordinates);
      }, this);
      if (_0x24ee75.length === 0) {
        return;
      }
      const _0x1dd4b8 = {
        type: _0x549abe,
        coordinates: _0x24ee75
      };
      return _0x1dd4b8;
    }
  }
  register$5("group", GroupGraphic);
  class FlickerEntity {
    constructor(_0x48a5a6 = {}) {
      this.color = Cesium__namespace.Color.YELLOW.withAlpha(0);
    }
    startFlicker(_0x5a472f, _0x1b0882 = {}) {
      const _0x1dd0a7 = this;
      this.stopFlicker();
      this.entitys = _0x5a472f;
      this.maxAlpha = _0x1b0882.maxAlpha ?? 0.3;
      this.time = _0x1b0882.time;
      this.color = getCesiumColor(_0x1b0882.color, Cesium__namespace.Color.WHITE);
      this.color = this.color.withAlpha(this.maxAlpha);
      this.onEnd = _0x1b0882.onEnd;
      const _0x5bb280 = this.maxAlpha / 1000 * (_0x1b0882.setp ?? 10);
      let _0x57367c = 0;
      this.interVal = setInterval(() => {
        _0x57367c += _0x5bb280;
        if (_0x57367c > this.maxAlpha) {
          _0x57367c = 0;
        }
        this.color = this.color.withAlpha(_0x57367c);
        this._updateClr();
      }, 10);
      if (this.time) {
        this.timeEndVal = setTimeout(() => {
          this.stopFlicker();
        }, this.time * 1000);
      }
      loopArrayForFun(_0x5a472f, function (_0x86ba13) {
        if (_0x86ba13.polygon) {
          _0x86ba13.polygon.material_bak = _0x86ba13.polygon.material;
          _0x86ba13.polygon.material = new Cesium__namespace.ColorMaterialProperty(new Cesium__namespace.CallbackProperty(_0x342351 => {
            return _0x1dd0a7.color;
          }, false));
        }
        if (_0x86ba13.polyline) {
          _0x86ba13.polyline.material_bak = _0x86ba13.polyline.material;
          _0x86ba13.polyline.material = new Cesium__namespace.ColorMaterialProperty(new Cesium__namespace.CallbackProperty(_0x13cddb => {
            return _0x1dd0a7.color;
          }, false));
        }
        if (_0x86ba13.polylineVolume) {
          _0x86ba13.polylineVolume.material_bak = _0x86ba13.polylineVolume.material;
          _0x86ba13.polylineVolume.material = new Cesium__namespace.ColorMaterialProperty(new Cesium__namespace.CallbackProperty(_0x42c180 => {
            return _0x1dd0a7.color;
          }, false));
        }
        if (_0x86ba13.ellipsoid) {
          _0x86ba13.ellipsoid.material_bak = _0x86ba13.ellipsoid.material;
          _0x86ba13.ellipsoid.material = new Cesium__namespace.ColorMaterialProperty(new Cesium__namespace.CallbackProperty(_0x39c471 => {
            return _0x1dd0a7.color;
          }, false));
        }
        if (_0x86ba13.ellipse) {
          _0x86ba13.ellipse.material_bak = _0x86ba13.ellipse.material;
          _0x86ba13.ellipse.material = new Cesium__namespace.ColorMaterialProperty(new Cesium__namespace.CallbackProperty(_0x3f9295 => {
            return _0x1dd0a7.color;
          }, false));
        }
        if (_0x86ba13.rectangle) {
          _0x86ba13.rectangle.material_bak = _0x86ba13.rectangle.material;
          _0x86ba13.rectangle.material = new Cesium__namespace.ColorMaterialProperty(new Cesium__namespace.CallbackProperty(_0x5a22f1 => {
            return _0x1dd0a7.color;
          }, false));
        }
        if (_0x86ba13.wall) {
          _0x86ba13.wall.material_bak = _0x86ba13.wall.material;
          _0x86ba13.wall.material = new Cesium__namespace.ColorMaterialProperty(new Cesium__namespace.CallbackProperty(_0x82354e => {
            return _0x1dd0a7.color;
          }, false));
        }
        if (_0x86ba13.point) {
          _0x86ba13.point.color_bak = _0x86ba13.point.color;
          _0x86ba13.point.color = _0x1dd0a7.color;
        }
        if (_0x86ba13.billboard) {
          _0x86ba13.billboard.color_bak = _0x86ba13.billboard.color;
          _0x86ba13.billboard.color = _0x1dd0a7.color;
        }
        if (_0x86ba13.model) {
          if (_0x86ba13.model.color) {
            _0x86ba13.model.color_bak = getCesiumColor(_0x86ba13.model.color);
            if (_0x86ba13.model.color_bak.clone) {
              _0x86ba13.model.color_bak = _0x86ba13.model.color_bak.clone();
            }
          }
          _0x86ba13.model.color = _0x1dd0a7.color;
        }
        if (_0x86ba13.label) {
          _0x86ba13.label.fillColor_bak = _0x86ba13.label.fillColor;
          _0x86ba13.label.fillColor = _0x1dd0a7.color;
        }
      });
      return this;
    }
    stopFlicker() {
      this._stopTime();
      if (this.entitys) {
        loopArrayForFun(this.entitys, function (_0x31b148) {
          if (_0x31b148.polygon) {
            if (_0x31b148.polygon.material_bak) {
              _0x31b148.polygon.material = _0x31b148.polygon.material_bak;
            }
          }
          if (_0x31b148.polyline) {
            if (_0x31b148.polyline.material_bak) {
              _0x31b148.polyline.material = _0x31b148.polyline.material_bak;
            }
          }
          if (_0x31b148.polylineVolume) {
            if (_0x31b148.polylineVolume.material_bak) {
              _0x31b148.polylineVolume.material = _0x31b148.polylineVolume.material_bak;
            }
          }
          if (_0x31b148.ellipsoid) {
            if (_0x31b148.ellipsoid.material_bak) {
              _0x31b148.ellipsoid.material = _0x31b148.ellipsoid.material_bak;
            }
          }
          if (_0x31b148.ellipse) {
            if (_0x31b148.ellipse.material_bak) {
              _0x31b148.ellipse.material = _0x31b148.ellipse.material_bak;
            }
          }
          if (_0x31b148.rectangle) {
            if (_0x31b148.rectangle.material_bak) {
              _0x31b148.rectangle.material = _0x31b148.rectangle.material_bak;
            }
          }
          if (_0x31b148.wall) {
            if (_0x31b148.wall.material_bak) {
              _0x31b148.wall.material = _0x31b148.wall.material_bak;
            }
          }
          if (_0x31b148.point) {
            if (_0x31b148.point.color_bak) {
              _0x31b148.point.color = _0x31b148.point.color_bak;
            }
          }
          if (_0x31b148.billboard) {
            if (_0x31b148.billboard.color_bak) {
              _0x31b148.billboard.color = _0x31b148.billboard.color_bak;
            } else {
              _0x31b148.billboard.color = undefined;
            }
          }
          if (_0x31b148.model) {
            if (_0x31b148.model.color_bak) {
              _0x31b148.model.color = _0x31b148.model.color_bak;
            } else {
              _0x31b148.model.color = Cesium__namespace.Color.WHITE;
            }
          }
          if (_0x31b148.label) {
            if (_0x31b148.label.fillColor_bak) {
              _0x31b148.label.fillColor = _0x31b148.label.fillColor_bak;
            }
          }
        });
        if (this.onEnd) {
          this.onEnd(this.entitys);
        }
        delete this.entitys;
      }
      return this;
    }
    _updateClr() {
      const _0x5425cd = this;
      if (this.entitys) {
        loopArrayForFun(this.entitys, function (_0x939ba0) {
          if (_0x939ba0.point) {
            _0x939ba0.point.color = _0x5425cd.color;
          }
          if (_0x939ba0.billboard) {
            _0x939ba0.billboard.color = _0x5425cd.color;
          }
          if (_0x939ba0.model) {
            _0x939ba0.model.color = _0x5425cd.color;
          }
          if (_0x939ba0.label) {
            _0x939ba0.label.fillColor = _0x5425cd.color;
          }
        });
      }
    }
    _stopTime() {
      if (this.interVal) {
        clearInterval(this.interVal);
        this.interVal = null;
      }
      if (this.timeEndVal) {
        clearTimeout(this.timeEndVal);
        this.timeEndVal = null;
      }
    }
  }
  function loopArrayForFun(_0x1e3cb3, _0x3bf215) {
    if (_0x1e3cb3 == null) {
      return;
    }
    if (Array.isArray(_0x1e3cb3)) {
      const _0x29e4a4 = [];
      for (let _0x1e3db1 = 0, _0x4c4bf5 = _0x1e3cb3.length; _0x1e3db1 < _0x4c4bf5; _0x1e3db1++) {
        _0x29e4a4.push(_0x3bf215(_0x1e3cb3[_0x1e3db1]));
      }
      return _0x29e4a4;
    } else {
      return _0x3bf215(_0x1e3cb3);
    }
  }
  class BasePrimitive extends BaseGraphic {
    get czmObject() {
      return this._primitive;
    }
    get czmObjectEx() {
      const _0x59541c = [];
      if (this._primitive_label) {
        _0x59541c.push(this._primitive_label);
      }
      if (this._primitive_outline) {
        _0x59541c.push(this._primitive_outline);
      }
      return _0x59541c;
    }
    get primitiveCollection() {
      return this._layer?.primitiveCollection;
    }
    get primitive() {
      return this._primitive;
    }
    get ready() {
      return this._primitive?.ready;
    }
    get readyPromise() {
      if (!this._primitive || !Cesium__namespace.defined(this._primitive.ready)) {
        logWarn("readyPromise 无法监听，该对象不存在primitive对象或ready属性", this);
        return Promise.resolve(this);
      }
      if (this.ready) {
        return Promise.resolve(this);
      } else {
        return new Promise((_0x1d8900, _0x15f660) => {
          const _0x415e77 = this._map.scene.postRender.addEventListener(() => {
            if (this.ready) {
              _0x415e77();
              setTimeout(() => {
                _0x1d8900(this);
              }, 50);
            }
          });
        });
      }
    }
    get geometryInstanceAttributes() {
      if (this._primitive) {
        return this.getGeometryInstanceAttributes(this.id);
      } else if (this._primitive_outline) {
        return this.getGeometryInstanceAttributes(this.id, this._primitive_outline);
      }
      return null;
    }
    get uniforms() {
      var _0xddb37;
      if ((_0xddb37 = this.primitive) === null || _0xddb37 === undefined || (_0xddb37 = _0xddb37.appearance) === null || _0xddb37 === undefined || (_0xddb37 = _0xddb37.material) === null || _0xddb37 === undefined) {
        return undefined;
      } else {
        return _0xddb37.uniforms;
      }
    }
    get label() {
      if (this._primitive_label) {
        return this._primitive_label;
      } else {
        return this.style.label;
      }
    }
    get isEditing() {
      return this._isEditing;
    }
    get editing() {
      return this._editing_entity?.editing;
    }
    get offsetHeight() {
      return this.style.offsetHeight;
    }
    set offsetHeight(_0x1430e7) {
      this.style.offsetHeight = _0x1430e7;
      this.setOffsetHeight(_0x1430e7);
    }
    get zIndex() {
      return this.style.zIndex;
    }
    set zIndex(_0x2c85b2) {
      this.style.zIndex = _0x2c85b2;
      if (_0x2c85b2 == null) {
        return;
      }
      setTimeout(() => {
        if (this.isAdded) {
          this._setZIndex(_0x2c85b2);
        }
      }, 100);
    }
    _setZIndex(_0x528ec2) {
      const _0x44bffe = this.primitiveCollection;
      this._primitive.zIndex = _0x528ec2;
      _0x44bffe.raiseToTop(this._primitive);
      for (let _0x3d6e74 = _0x44bffe.length - 1; _0x3d6e74 >= 0; _0x3d6e74--) {
        const _0x241180 = _0x44bffe.get(_0x3d6e74);
        if (_0x241180 === this._primitive) {
          continue;
        }
        if (Cesium__namespace.defined(_0x241180.zIndex) && _0x528ec2 < _0x241180.zIndex) {
          this.primitiveCollection.lower(this._primitive);
        }
      }
    }
    toTop() {
      const _0x39a630 = this.primitiveCollection;
      if (_0x39a630) {
        return _0x39a630.raiseToTop(this._primitive);
      }
    }
    toBottom() {
      const _0xb334d1 = this.primitiveCollection;
      if (_0xb334d1) {
        return _0xb334d1.lowerToBottom(this._primitive);
      }
    }
    _isColorMaterial(_0x3335f9, _0x471092) {
      var _0x338265;
      const _0x5ddf09 = _0x3335f9.materialType || _0x471092?.materialType || (_0x471092 === null || _0x471092 === undefined || (_0x338265 = _0x471092.material) === null || _0x338265 === undefined ? undefined : _0x338265.type);
      if (Cesium__namespace.defined(_0x5ddf09) && _0x5ddf09 !== Color$2) {
        return false;
      } else {
        return true;
      }
    }
    _addedHook(_0x28a204) {
      if (!this.getRealShow()) {
        return;
      }
      if (!_0x28a204.material && !_0x28a204.materialType) {
        if (_0x28a204.color) {
          _0x28a204.materialType = Color$2;
        } else if (_0x28a204.randomColor) {
          _0x28a204.materialType = RandomColor;
        } else if (_0x28a204.image) {
          _0x28a204.materialType = Image$1;
        }
      }
      const _0x130a0b = this._conversionStyle(_0x28a204);
      _0x130a0b._isColorMaterial = this._isColorMaterial(_0x28a204, _0x130a0b);
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
      }
      if (_0x28a204.fill ?? true) {
        this._primitive = this._createPrimitive(_0x130a0b);
      }
      if (this._primitive_outline) {
        this.primitiveCollection.remove(this._primitive_outline);
        delete this._primitive_outline;
      }
      if (_0x28a204.outline) {
        const _0x1e6b6d = this._getOutlineStyle(_0x28a204);
        if (_0x1e6b6d.usePolyline) {
          this._primitive_outline = this._createPolylineOutline(_0x1e6b6d);
        } else {
          _0x130a0b.outlineStyle = _0x1e6b6d;
          _0x130a0b.flat = _0x130a0b.flat ?? true;
          this._primitive_outline = this._createPrimitive(_0x130a0b, true);
          if (!this._primitive_outline) {
            this._primitive_outline = this._createPolylineOutline(_0x1e6b6d);
          }
        }
      }
      if (Cesium__namespace.defined(this.style.zIndex)) {
        this.zIndex = this.style.zIndex;
      }
      if (_0x28a204.label) {
        this._addLabel(_0x28a204.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
      if (Cesium__namespace.defined(this._layer?._objectsToExclude_auto)) {
        delete this._layer._objectsToExclude_auto;
      }
    }
    _updateAvailabilityHook(_0x1551c4) {
      if (this._editing_entity) {
        this._editing_entity.availability = _0x1551c4;
      }
      const _0x559213 = this.czmObject || this._primitive_outline;
      this._bindPrimitiveAvailability(_0x559213);
    }
    _removedHook() {
      if (!this._noDestroy) {
        this.stopDraw();
        this.stopEditing();
      }
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
        delete this._primitive;
      }
      if (this._primitive_outline) {
        this.primitiveCollection.remove(this._primitive_outline);
        delete this._primitive_outline;
      }
      this._removeLabel();
    }
    _showHook(_0x5c25ad) {
      if (!this.isAdded) {
        return;
      }
      if (this.czmObject) {
        this._noDestroy = true;
        this._removedHook();
        this._noDestroy = false;
      }
      if (_0x5c25ad) {
        this._addedHook(this.style);
        if (this.czmObject) {
          this.bindPickId(this.czmObject);
        }
        if (this.czmObjectEx) {
          this.czmObjectEx.forEach(_0x5e96b3 => {
            this.bindPickId(_0x5e96b3);
          });
        }
      }
    }
    _conversionStyle(_0x2b747f) {
      return _0x2b747f;
    }
    _createPrimitive(_0x552df9, _0x2a7351) {
      if (!_0x552df9.vertexFormat && _0x552df9._isColorMaterial || _0x2a7351) {
        _0x552df9.vertexFormat = this.defaultVertexFormat || Cesium__namespace.PerInstanceColorAppearance.VERTEX_FORMAT;
      }
      if (_0x552df9.clampToGround === true && !Cesium__namespace.defined(_0x552df9.flat)) {
        _0x552df9.flat = true;
      }
      const _0x3c163b = {
        ...this.options,
        geometryInstances: this._createGeometryInstance(_0x552df9, _0x2a7351),
        show: this.show,
        shadows: _0x552df9.shadows
      };
      if (!_0x3c163b.geometryInstances) {
        return;
      }
      delete _0x3c163b.style;
      delete _0x3c163b.attr;
      delete _0x3c163b.modelMatrix;
      if (!_0x3c163b.appearance) {
        _0x3c163b.appearance = this._createAppearance(_0x552df9, _0x3c163b, _0x2a7351);
      }
      if (_0x552df9.depthFail && !_0x3c163b.depthFailAppearance) {
        var _0x54ab89;
        const _0x1442f9 = {
          ..._0x552df9
        };
        _0x1442f9.material = _0x552df9.depthFailMaterial ?? _0x552df9.material;
        const _0x1449a7 = _0x1442f9;
        _0x1449a7._isColorMaterial = _0x1449a7 === null || _0x1449a7 === undefined || (_0x54ab89 = _0x1449a7.material) === null || _0x54ab89 === undefined || !_0x54ab89.type || _0x1449a7.material.type === Color$2;
        _0x3c163b.depthFailAppearance = this._createAppearance(_0x1449a7, _0x3c163b, _0x2a7351);
      }
      let _0x916f42;
      if (this.style.clampToGround && this._hasClampToGround !== false) {
        _0x3c163b.classificationType = _0x552df9.classificationType;
        if (this.type === "polylineP" || this.type === "polylineC") {
          _0x916f42 = this.primitiveCollection.add(new Cesium__namespace.GroundPolylinePrimitive(_0x3c163b));
        } else {
          _0x916f42 = this.primitiveCollection.add(new Cesium__namespace.GroundPrimitive(_0x3c163b));
        }
      } else if (_0x552df9.classification) {
        _0x3c163b.classificationType = _0x552df9.classificationType || Cesium__namespace.ClassificationType.CESIUM_3D_TILE;
        _0x916f42 = this.primitiveCollection.add(new Cesium__namespace.ClassificationPrimitive(_0x3c163b));
      } else {
        _0x916f42 = this.primitiveCollection.add(new Cesium__namespace.Primitive(_0x3c163b));
      }
      this.bindPickId(_0x916f42);
      return _0x916f42;
    }
    _createGeometryInstanceAttributes(_0x3833fc, _0x14c503) {
      if (!_0x14c503) {
        _0x14c503 = this.options.attributes || {};
      }
      _0x14c503.show = new Cesium__namespace.ShowGeometryInstanceAttribute(this.show);
      if (_0x3833fc.color) {
        _0x14c503.color = Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(_0x3833fc.color);
      }
      if (_0x3833fc.distanceDisplayCondition) {
        _0x14c503.distanceDisplayCondition = _0x3833fc.distanceDisplayCondition;
      }
      if (Cesium__namespace.defined(_0x3833fc.offsetAttribute) || Cesium__namespace.defined(_0x3833fc.offsetHeight)) {
        _0x14c503.offset = Cesium__namespace.OffsetGeometryInstanceAttribute.fromCartesian3(this._getOffsetByHeight(_0x3833fc.offsetHeight, _0x3833fc.center));
      }
      if (_0x3833fc.depthFail) {
        const _0x5c2f3f = this._getColorByColorMaterial(_0x3833fc);
        _0x14c503.depthFailColor = Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(_0x3833fc.depthFailColor || _0x5c2f3f);
      }
      return _0x14c503;
    }
    _getOffsetByHeight(_0x45b95a, _0x10916d) {
      if (!_0x45b95a) {
        return Cesium__namespace.Cartesian3.ZERO;
      }
      if (!_0x10916d) {
        if (!this._center_offsetHeight) {
          this._center_offsetHeight = this.center;
        }
        _0x10916d = this._center_offsetHeight;
      }
      if (_0x10916d) {
        return Cesium__namespace.Cartesian3.multiplyByScalar(this.ellipsoid.geodeticSurfaceNormal(_0x10916d), _0x45b95a, new Cesium__namespace.Cartesian3());
      } else {
        return Cesium__namespace.Cartesian3.ZERO;
      }
    }
    setOffsetHeight(_0x3f7220) {
      if (!Cesium__namespace.defined(this.style.offsetAttribute)) {
        const _0x513e48 = {
          offsetAttribute: Cesium__namespace.GeometryOffsetAttribute.ALL
        };
        this.setStyle(_0x513e48);
      }
      if (!Cesium__namespace.defined(_0x3f7220)) {
        _0x3f7220 = this.style.offsetHeight || 0;
      }
      const _0x3e8436 = this._getOffsetByHeight(_0x3f7220);
      const _0x1299b3 = this.getGeometryInstanceAttributes(this.id);
      if (_0x1299b3) {
        _0x1299b3.offset = Cesium__namespace.OffsetGeometryInstanceAttribute.toValue(_0x3e8436, _0x1299b3.offset);
      }
      if (this._primitive_outline) {
        const _0x15aaba = this.getGeometryInstanceAttributes(this.id, this._primitive_outline);
        if (_0x15aaba) {
          _0x15aaba.offset = Cesium__namespace.OffsetGeometryInstanceAttribute.toValue(_0x3e8436, _0x15aaba.offset);
        }
      }
    }
    _getColorByColorMaterial(_0x5f0e50, _0x2f33e3 = Cesium__namespace.Color.WHITE.withAlpha(0.5)) {
      var _0x13768b;
      var _0xd5cb9c;
      return ((_0x13768b = _0x5f0e50.material) === null || _0x13768b === undefined || (_0x13768b = _0x13768b.uniforms) === null || _0x13768b === undefined ? undefined : _0x13768b.color) || ((_0xd5cb9c = _0x5f0e50.material) === null || _0xd5cb9c === undefined || (_0xd5cb9c = _0xd5cb9c.options) === null || _0xd5cb9c === undefined ? undefined : _0xd5cb9c.color) || _0x5f0e50.color || _0x2f33e3;
    }
    _createAppearance(_0x425db5, _0x5e6435, _0x212ac4) {
      if (_0x425db5.material && !_0x425db5._isColorMaterial && !_0x212ac4) {
        const _0x5591f3 = {
          ..._0x425db5
        };
        return new Cesium__namespace.MaterialAppearance(_0x5591f3);
      } else {
        if (_0x5e6435.geometryInstances instanceof Cesium__namespace.GeometryInstance) {
          let _0x13122f;
          if (_0x212ac4 && _0x425db5.outlineStyle) {
            _0x13122f = getColorByStyle(_0x425db5.outlineStyle, Cesium__namespace.Color.WHITE);
          } else {
            _0x13122f = this._getColorByColorMaterial(_0x425db5);
          }
          _0x425db5.translucent = _0x13122f.alpha !== 1;
          _0x5e6435.geometryInstances.attributes = _0x5e6435.geometryInstances.attributes || {};
          _0x5e6435.geometryInstances.attributes.color = Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(_0x13122f);
          if (_0x425db5.depthFail) {
            _0x5e6435.geometryInstances.attributes.depthFailColor = Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(_0x425db5.depthFailColor || _0x13122f);
          }
        }
        if (Cesium__namespace.defined(this.translucent)) {
          _0x425db5.translucent = this.translucent;
        }
        const _0x38c81a = {
          ..._0x425db5
        };
        return new Cesium__namespace.PerInstanceColorAppearance(_0x38c81a);
      }
    }
    _createGeometryInstance(_0x458cea, _0x5033dd) {
      return this.options.geometryInstances;
    }
    _updateStyleBaseHook(_0x5d0ddd) {
      if (!_0x5d0ddd) {
        return;
      }
      if (this._editing_entity && this.type.startsWith(this._editing_entity.type)) {
        this._editing_entity.setStyle(_0x5d0ddd);
      } else if (this.czmObject || this.czmObjectEx) {
        this._updateLabelStyleHook(this.style, _0x5d0ddd);
        if (this._updateExOpacity && Cesium__namespace.defined(_0x5d0ddd.globalAlpha)) {
          this._updateExOpacity(_0x5d0ddd.globalAlpha);
        }
        if (Cesium__namespace.defined(_0x5d0ddd.setHeight) || Cesium__namespace.defined(_0x5d0ddd.addHeight)) {
          if (this.isPoint) {
            if (this._setPointPostion) {
              this._setPointPostion(this.positionShow);
            }
          } else if (this._setPolyPostions) {
            this._setPolyPostions(this.positionsShow);
          }
        }
        this._updateStyleHook(this.style, _0x5d0ddd);
      }
    }
    _updateStyleHook(_0x361fc0, _0x1d4005) {
      if (Cesium__namespace.defined(_0x1d4005.offsetHeight) && Object.keys(_0x1d4005).length === 1) {
        this.offsetHeight = _0x1d4005.offsetHeight;
        return;
      }
      if (_0x1d4005.redraw === true || Cesium__namespace.defined(_0x1d4005.fill) || Cesium__namespace.defined(_0x1d4005.outline) || Cesium__namespace.defined(_0x1d4005.clampToGround) || Cesium__namespace.defined(_0x1d4005.addHeight) || Cesium__namespace.defined(_0x1d4005.setHeight) || Cesium__namespace.defined(_0x1d4005.outlineStyle?.width) || Cesium__namespace.defined(_0x1d4005.outlineWidth) || Cesium__namespace.defined(_0x1d4005.outlineStyle?.addHeight)) {
        this.redraw(_0x361fc0);
        return;
      }
      if (_0x361fc0.materialType === Color$2 && (Cesium__namespace.defined(_0x1d4005.color) || Cesium__namespace.defined(_0x1d4005.opacity))) {
        const _0xc110be = getColorByStyle(_0x361fc0);
        if (_0xc110be) {
          const _0x2ba112 = this._updatePrimitiveForColorMaterial(this._primitive, _0xc110be, _0x361fc0);
          if (_0x2ba112) {
            if (Cesium__namespace.defined(_0x1d4005.outline)) {
              if (this._primitive_outline) {
                const _0xda69c7 = this._getOutlineStyle(_0x361fc0);
                if (!_0xda69c7.materialType) {
                  if (_0xda69c7.show) {
                    const _0x2034b2 = this._updatePrimitiveForColorMaterial(this._primitive_outline, getColorByStyle(_0xda69c7), _0x361fc0);
                    if (_0x2034b2) {
                      return;
                    }
                  } else {
                    if (this._primitive_outline) {
                      this.primitiveCollection.remove(this._primitive_outline);
                      delete this._primitive_outline;
                    }
                    return;
                  }
                }
              }
            } else {
              return;
            }
          }
        }
      }
      this.redraw(_0x361fc0);
    }
    _updatePrimitiveForColorMaterial(_0x2902cf, _0xea060a, _0x40e4fe) {
      var _0x3af762;
      if (!_0x2902cf) {
        return false;
      }
      const _0x4c5ff2 = _0x2902cf === null || _0x2902cf === undefined || (_0x3af762 = _0x2902cf.appearance) === null || _0x3af762 === undefined || (_0x3af762 = _0x3af762.material) === null || _0x3af762 === undefined ? undefined : _0x3af762.uniforms;
      if (Cesium__namespace.defined(_0x4c5ff2?.color) && _0x2902cf.appearance.material.type === Color$2) {
        _0x2902cf.appearance.translucent = _0xea060a.alpha !== 1;
        _0x4c5ff2.color = _0xea060a;
        return true;
      }
      const _0x18e2d0 = this.getGeometryInstanceAttributes(this.id, _0x2902cf);
      if (_0x18e2d0 !== null && _0x18e2d0 !== undefined && _0x18e2d0.color) {
        _0x18e2d0.color = Cesium__namespace.ColorGeometryInstanceAttribute.toValue(_0xea060a);
        if (_0x18e2d0.depthFailColor && (_0x40e4fe.depthFailColor || _0x40e4fe.depthFail)) {
          _0x18e2d0.depthFailColor = Cesium__namespace.ColorGeometryInstanceAttribute.toValue(getCesiumColor(_0x40e4fe.depthFailColor, _0xea060a));
        }
        return true;
      }
      return false;
    }
    setOpacity(_0x4c51d0) {
      this.style.globalAlpha = _0x4c51d0;
      if (!this._primitive) {
        return;
      }
      const _0x45b369 = this._updatePrimitiveOpacity(this._primitive, _0x4c51d0);
      if (_0x45b369) {
        this._updatePrimitiveOpacity(this._primitive_outline, _0x4c51d0);
        this._updateLabelOpacity(_0x4c51d0);
        if (this._updateExOpacity) {
          this._updateExOpacity(_0x4c51d0);
        }
        return;
      }
      super.setOpacity(_0x4c51d0);
    }
    _updatePrimitiveOpacity(_0x4119fd, _0x2ccccf) {
      if (!_0x4119fd) {
        return false;
      }
      try {
        var _0x43a830;
        const _0x4179e0 = _0x4119fd === null || _0x4119fd === undefined || (_0x43a830 = _0x4119fd.appearance) === null || _0x43a830 === undefined || (_0x43a830 = _0x43a830.material) === null || _0x43a830 === undefined ? undefined : _0x43a830.uniforms;
        if (_0x4179e0) {
          if (Cesium__namespace.defined(_0x4179e0.globalAlpha)) {
            _0x4119fd.appearance.translucent = _0x2ccccf !== 1;
            _0x4179e0.globalAlpha = _0x2ccccf;
            return true;
          }
          if ((_0x4119fd.appearance.material.type === Color$2 || _0x4119fd.appearance.material.type === Image$1) && Cesium__namespace.defined(_0x4179e0.color)) {
            if (!Cesium__namespace.defined(_0x4119fd._uniforms_color_alpha)) {
              _0x4119fd._uniforms_color_alpha = _0x4179e0.color.alpha;
            }
            _0x4179e0.color.alpha = _0x4119fd._uniforms_color_alpha * _0x2ccccf;
            _0x4119fd.appearance.translucent = _0x4179e0.color.alpha !== 1;
            return true;
          }
          if (_0x4119fd.appearance.material.type === Water$1) {
            if (!Cesium__namespace.defined(_0x4119fd._uniforms_baseWaterColor_alpha)) {
              _0x4119fd._uniforms_baseWaterColor_alpha = _0x4179e0.baseWaterColor.alpha;
              _0x4119fd._uniforms_blendColor_alpha = _0x4179e0.blendColor.alpha;
            }
            if (this.globalAlpha !== 1) {
              _0x4179e0.baseWaterColor.alpha = _0x4119fd._uniforms_baseWaterColor_alpha * _0x2ccccf;
              _0x4179e0.blendColor.alpha = _0x4119fd._uniforms_blendColor_alpha * _0x2ccccf;
            }
            return true;
          }
        }
        const _0x5b78c8 = this.getGeometryInstanceAttributes(this.id, _0x4119fd);
        if (_0x5b78c8 !== null && _0x5b78c8 !== undefined && _0x5b78c8.color) {
          if (!Cesium__namespace.defined(_0x4119fd._attributes_color_alpha)) {
            _0x4119fd._attributes_color_alpha = _0x5b78c8.color[3] / 255;
          }
          const _0x3e9a8b = _0x4119fd._attributes_color_alpha * _0x2ccccf;
          _0x5b78c8.color = new Uint8Array([_0x5b78c8.color[0], _0x5b78c8.color[1], _0x5b78c8.color[2], Cesium__namespace.Color.floatToByte(_0x3e9a8b)]);
          _0x4119fd.appearance.translucent = _0x3e9a8b !== 1;
          if (_0x5b78c8.depthFailColor) {
            if (!Cesium__namespace.defined(_0x4119fd._attributes_depthFailColor_alpha)) {
              _0x4119fd._attributes_depthFailColor_alpha = _0x5b78c8.depthFailColor[3] / 255;
            }
            _0x5b78c8.depthFailColor = new Uint8Array([_0x5b78c8.depthFailColor[0], _0x5b78c8.depthFailColor[1], _0x5b78c8.depthFailColor[2], Cesium__namespace.Color.floatToByte(_0x4119fd._attributes_depthFailColor_alpha * _0x2ccccf)]);
          }
          return true;
        }
      } catch (_0x4354b4) {}
      return false;
    }
    getGeometryInstanceAttributes(_0x47b99d, _0x166b47) {
      _0x166b47 = _0x166b47 || this._primitive;
      if (!_0x166b47 || !_0x166b47.getGeometryInstanceAttributes) {
        return null;
      }
      try {
        return _0x166b47.getGeometryInstanceAttributes(_0x47b99d);
      } catch (_0x264c6d) {
        return null;
      }
    }
    _updateLabelOpacity(_0x115620) {
      if (this._primitive_label && this._primitive_label.show) {
        LabelStyleConver.setOpacity(this._primitive_label, _0x115620);
      }
    }
    redraw(_0x4b1c) {
      if (this.isAdded && this.getRealShow()) {
        this.enabledEvent = false;
        if (this._editing_entity) {
          this._editing_entity.enabledEvent = false;
        }
        this._noDestroy = true;
        this._removedHook();
        this._noDestroy = false;
        this._addedHook(_0x4b1c || this.style);
        if (this.czmObject) {
          this.bindPickId(this.czmObject);
        }
        if (this.czmObjectEx) {
          this.czmObjectEx.forEach(_0x40e872 => {
            this.bindPickId(_0x40e872);
          });
        }
        if (this._layer) {
          this._layer._refreshCollisionCluster();
        }
        if (this._editing_entity) {
          this._editing_entity.enabledEvent = true;
        }
        this.enabledEvent = true;
      }
      return this;
    }
    _updatePositionsHook() {
      this.redraw();
    }
    _updateLabelStyleHook(_0x4caaae, _0xaaa1e2) {
      if (_0xaaa1e2 !== null && _0xaaa1e2 !== undefined && _0xaaa1e2.label) {
        if (this._primitive_label) {
          var _0xbcf457;
          var _0x1acfff;
          var _0x3e23a3;
          var _0x468fd1;
          LabelStyleConver.toCesiumVal(_0x4caaae.label, this._primitive_label, this.attr);
          if (Cesium__namespace.defined(_0xaaa1e2 === null || _0xaaa1e2 === undefined || (_0xbcf457 = _0xaaa1e2.label) === null || _0xbcf457 === undefined ? undefined : _0xbcf457.position) || Cesium__namespace.defined(_0xaaa1e2 === null || _0xaaa1e2 === undefined || (_0x1acfff = _0xaaa1e2.label) === null || _0x1acfff === undefined ? undefined : _0x1acfff.height) || Cesium__namespace.defined(_0xaaa1e2 === null || _0xaaa1e2 === undefined || (_0x3e23a3 = _0xaaa1e2.label) === null || _0x3e23a3 === undefined ? undefined : _0x3e23a3.addHeight) || Cesium__namespace.defined(_0xaaa1e2 === null || _0xaaa1e2 === undefined || (_0x468fd1 = _0xaaa1e2.label) === null || _0x468fd1 === undefined ? undefined : _0x468fd1.setHeight)) {
            this._updateLabelPosition();
          }
        } else {
          this._addLabel(_0x4caaae.label);
        }
      } else if (Cesium__namespace.defined(_0xaaa1e2?.globalAlpha)) {
        this._updateLabelOpacity(_0xaaa1e2.globalAlpha);
      }
    }
    _addLabel(_0x43556e) {
      this._removeLabel();
      if (!_0x43556e) {
        _0x43556e = this.style.label;
      }
      if (!_0x43556e || !_0x43556e.text || _0x43556e.show === false) {
        return;
      }
      if (Cesium__namespace.defined(this.style.clampToGround) && !Cesium__namespace.defined(_0x43556e.clampToGround) && !Cesium__namespace.defined(_0x43556e.height)) {
        _0x43556e.clampToGround = this.style.clampToGround;
      }
      const _0xca8a62 = LabelStyleConver.toCesiumVal(_0x43556e, {}, this.attr);
      if (!_0xca8a62.pixelOffsetScaleByDistance && this.style.scaleByDistance) {
        _0xca8a62.pixelOffsetScaleByDistance = LabelStyleConver.getScaleByDistance(this.style);
      }
      _0xca8a62.show = this.show;
      _0xca8a62.position = this._getLablePosition();
      this._primitive_label = this._layer.labelCollection.add(_0xca8a62);
      this.bindPickId(this._primitive_label);
      this._bindLabelAvailability(this._primitive_label);
      return this._primitive_label;
    }
    _removeLabel() {
      if (this._primitive_label) {
        this._layer.labelCollection.remove(this._primitive_label);
        delete this._primitive_label;
      }
    }
    _updateLabelPosition(_0x11dcdc, _0x2aaa31) {
      if (this._primitive_label && !this._primitive_label.isDestroyed()) {
        this._primitive_label.position = this._getLablePosition(_0x11dcdc, _0x2aaa31);
      }
    }
    _getLablePosition(_0x55aa4c, _0x22d640 = true) {
      const _0xc233c = this.style.label || {};
      if (!_0x55aa4c && _0x22d640) {
        if (_0xc233c.position) {
          if (_0xc233c.position === "center") {
            _0x55aa4c = this.centerOfMass;
          } else if (isString(_0xc233c.position)) {
            const _0x316b2a = template(_0xc233c.position, this.attr, true);
            if (_0x316b2a) {
              _0x55aa4c = LngLatPoint.parse(_0x316b2a).toCartesian();
            }
          } else {
            _0x55aa4c = LngLatPoint.parse(_0xc233c.position).toCartesian();
          }
        } else {
          _0x55aa4c = this.center;
        }
      }
      if (!_0x55aa4c) {
        return new Cesium__namespace.Cartesian3();
      }
      if (Cesium__namespace.defined(this.style.diffHeight)) {
        _0x55aa4c = addPositionsHeight(_0x55aa4c, this.style.diffHeight);
      }
      _0x55aa4c = this._updatePositionsForHeight(_0x55aa4c, _0xc233c);
      return _0x55aa4c;
    }
    _getOutlineStyle(_0x5948f5, _0x152732) {
      const _0x2e772d = {
        ..._0x5948f5
      };
      _0x2e772d.width = _0x5948f5.outlineWidth ?? 1;
      _0x2e772d.show = _0x5948f5.outline ?? false;
      let _0x50ec19 = _0x2e772d;
      delete _0x50ec19.material;
      delete _0x50ec19.materialType;
      delete _0x50ec19.materialOptions;
      delete _0x50ec19.outline;
      delete _0x50ec19.outlineColor;
      delete _0x50ec19.outlineOpacity;
      delete _0x50ec19.outlineWidth;
      if (_0x5948f5.outlineStyle) {
        delete _0x50ec19.outlineStyle;
        _0x50ec19 = {
          ..._0x50ec19,
          ..._0x5948f5.outlineStyle
        };
      } else {
        _0x50ec19 = {
          ..._0x50ec19,
          color: _0x5948f5.outlineColor ?? Cesium__namespace.Color.WHITE,
          opacity: _0x5948f5.outlineOpacity
        };
      }
      if (!_0x50ec19.show && _0x152732) {
        _0x50ec19 = {
          ..._0x50ec19,
          ..._0x152732
        };
      }
      if (!Cesium__namespace.defined(_0x50ec19.arcType) && _0x50ec19.clampToGround) {
        _0x50ec19.arcType = Cesium__namespace.ArcType.GEODESIC;
      }
      if (!Cesium__namespace.defined(_0x50ec19.usePolyline)) {
        if (_0x50ec19.width > 1 || _0x50ec19.clampToGround || _0x50ec19.materialType && _0x50ec19.materialType !== "Color") {
          _0x50ec19.usePolyline = true;
        }
        if (_0x50ec19.diffHeight > 0) {
          _0x50ec19.usePolyline = false;
        }
      }
      return _0x50ec19;
    }
    _getPolylineOutlinePositions() {
      return [this.positions];
    }
    _createPolylineOutline(_0x4d51fc) {
      const _0x2578b9 = PolylineStyleConver.toCesiumVal(_0x4d51fc);
      const _0x25b0ca = _0x2578b9.clampToGround ? Cesium__namespace.GroundPolylineGeometry : Cesium__namespace.PolylineGeometry;
      const _0x331e0e = this.show;
      const _0x4586b7 = [];
      const _0x2f241c = this._getPolylineOutlinePositions();
      for (let _0x39137a = 0, _0x14c5f7 = _0x2f241c.length; _0x39137a < _0x14c5f7; _0x39137a++) {
        let _0x5ecaba = _0x2f241c[_0x39137a];
        if (!_0x5ecaba || _0x5ecaba.length === 0) {
          continue;
        }
        if (Cesium__namespace.defined(_0x4d51fc.height)) {
          _0x5ecaba = setPositionsHeight(_0x5ecaba, _0x4d51fc.height);
        }
        if (Cesium__namespace.defined(_0x4d51fc.setHeight)) {
          _0x5ecaba = setPositionsHeight(_0x5ecaba, _0x4d51fc.setHeight);
        }
        if (Cesium__namespace.defined(_0x4d51fc.addHeight)) {
          _0x5ecaba = addPositionsHeight(_0x5ecaba, _0x4d51fc.addHeight);
        }
        _0x5ecaba = this._getClosurePositions(_0x5ecaba);
        const _0x38b1f6 = {
          ..._0x2578b9
        };
        const _0x4d8235 = _0x38b1f6;
        _0x4d8235.positions = _0x5ecaba;
        if (!_0x4d8235.material || _0x4d8235.material.type === "Color") {
          _0x4d8235.color = this._getColorByColorMaterial(_0x4d8235);
          _0x4d8235.vertexFormat = Cesium__namespace.PolylineColorAppearance.VERTEX_FORMAT;
        }
        const _0x8d726 = new Cesium__namespace.GeometryInstance({
          id: this.id,
          geometry: new _0x25b0ca(_0x4d8235),
          attributes: this._createGeometryInstanceAttributes(_0x4d8235)
        });
        _0x4586b7.push(_0x8d726);
      }
      if (_0x4586b7.length === 0) {
        return;
      }
      const _0x522db7 = {
        ...this.options
      };
      _0x522db7.geometryInstances = _0x4586b7;
      _0x522db7.show = _0x331e0e;
      _0x522db7.shadows = _0x2578b9.shadows;
      const _0xb354f7 = _0x522db7;
      delete _0xb354f7.style;
      delete _0xb354f7.attr;
      if (_0x2578b9.material && !_0x2578b9.classification) {
        const _0x590801 = {
          ..._0x2578b9
        };
        _0xb354f7.appearance = new Cesium__namespace.PolylineMaterialAppearance(_0x590801);
      } else {
        const _0x36a49b = {
          ..._0x2578b9
        };
        _0xb354f7.appearance = new Cesium__namespace.PolylineColorAppearance(_0x36a49b);
      }
      let _0x33e35e;
      if (this.style.clampToGround) {
        _0xb354f7.classificationType = _0x2578b9.classificationType;
        _0x33e35e = this.primitiveCollection.add(new Cesium__namespace.GroundPolylinePrimitive(_0xb354f7));
      } else {
        _0x33e35e = this.primitiveCollection.add(new Cesium__namespace.Primitive(_0xb354f7));
      }
      this.bindPickId(_0x33e35e);
      return _0x33e35e;
    }
    openHighlight(_0x1e322f, _0x148eda = true) {
      if (_0x148eda) {
        this._map.closeHighlight();
        this._map.last_highlighGraphic = this;
      }
      this._highlight_state = true;
      const _0x5a50f9 = _0x1e322f || this._highlightOptions || this._layer?._highlightOptions;
      if (_0x5a50f9) {
        const _0x272ba5 = [];
        for (const _0x129542 in _0x5a50f9) {
          if (_0x129542 === "type") {
            continue;
          }
          if (!Cesium__namespace.defined(this.style[_0x129542])) {
            _0x272ba5.push(_0x129542);
          }
        }
        if (_0x272ba5.length > 0) {
          logWarn("openHighlight：原有style中不存在以下属性，关闭高亮时将无法恢复", _0x272ba5);
        }
        const _0x1941a9 = merge(clone(this.style), _0x5a50f9);
        _0x1941a9.show = this.show;
        this._updateStyleHook(_0x1941a9, _0x5a50f9);
        this._updateLabelStyleHook(_0x1941a9, _0x5a50f9);
        this.fire(EventType.highlightOpen, {}, true);
      }
    }
    closeHighlight() {
      if (!this.isAdded || !this.show || !this._highlight_state) {
        return;
      }
      delete this._highlight_state;
      this._updateStyleHook(this.style, this.style);
      this._updateLabelStyleHook(this.style, this.style);
      this._map._clearLastHighlight();
      this.fire(EventType.highlightClose, {}, true);
    }
    _replaceFragmentShaderSourceByStyle(_0x3e16f7) {
      if (this.style.flat) {
        _0x3e16f7 = "#define FLAT\n" + _0x3e16f7;
      }
      if (this.style.faceForward) {
        _0x3e16f7 = "#define FACE_FORWARD\n" + _0x3e16f7;
      }
      return _0x3e16f7;
    }
    get isDrawing() {
      return this._isDrawing;
    }
    startDraw(_0x28ed4e) {
      if (!this._getDrawEntityClass) {
        logInfo("对象不支持标绘", this);
        return;
      }
      if (this._isDrawing) {
        return this;
      }
      this._isDrawing = true;
      this._drawPrimitiveShow = false;
      this._updateCzmObjectShow(false);
      this._showHook(false);
      if (_0x28ed4e) {
        this.addTo(_0x28ed4e);
      }
      if (!this._map) {
        throw new Error("绘制时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._removeEditingEntity();
      const _0x1fdf21 = getDrawOptions(this.options);
      const _0x40e199 = {
        ..._0x1fdf21,
        style: this._getDrawEntityStyle(),
        private: true
      };
      this._editing_entity = this._getDrawEntityClass(_0x40e199, true);
      if (this._startEditingHook) {
        this._startEditingHook(this._editing_entity);
      }
      this._editing_entity.parent = this;
      this._editing_entity.once(EventType.drawCreated, _0x3e0440 => {
        this.stopDraw();
      });
      this._editing_entity.on([EventType.drawAddPoint, EventType.drawMouseMove, EventType.drawRemovePoint], _0x169614 => {
        _0x169614.graphic = this;
        _0x169614.drawType = this.type;
        this.fire(_0x169614.type, _0x169614, true);
      });
      this._editing_entity.startDraw(this._layer);
      this.fire(EventType.drawStart, {
        drawType: this.type
      }, true);
    }
    stopDraw() {
      var _0x2645eb;
      var _0x41f6bf;
      if (!this._isDrawing || !this._editing_entity) {
        this._isDrawing = false;
        return this;
      }
      this._isDrawing = false;
      if (!this._editing_entity.stopDraw()) {
        this._removeEditingEntity();
        this.remove(true);
        return;
      }
      this._updateDrawEntityToThis();
      if (this._stopEditingHook) {
        this._stopEditingHook();
      }
      this.fire(EventType.drawCreated, {
        drawType: this.type,
        positions: this.positions
      }, true);
      if ((_0x2645eb = this.options) !== null && _0x2645eb !== undefined && _0x2645eb.success) {
        this.options.success(this);
      }
      if ((_0x41f6bf = this.options) !== null && _0x41f6bf !== undefined && (_0x41f6bf = _0x41f6bf._promise) !== null && _0x41f6bf !== undefined && _0x41f6bf.resolve) {
        this.options._promise.resolve(this);
      }
    }
    endDraw() {
      if (!this._isDrawing || !this._editing_entity) {
        return false;
      }
      if (!this._editing_entity.endDraw()) {
        return false;
      }
      return true;
    }
    _getDrawEntityStyle() {
      const _0x203b62 = this._style2JsonBase(this.style, false);
      delete _0x203b62.highlight;
      return _0x203b62;
    }
    _getDrawPointEntityClass(_0x72d7d4, _0x25359a) {
      if (!Cesium__namespace.defined(_0x72d7d4.drawShow)) {
        _0x72d7d4.drawShow = false;
      }
      _0x72d7d4.style = getEditPointStyle(undefined, _0x72d7d4.style);
      return create$5("point", _0x72d7d4);
    }
    _updateDrawEntityToThis() {
      this._editing_entity.stopDraw();
      this._editing_entity.stopEditing();
      const _0x782b8b = this._editing_entity.toJSON();
      this._removeEditingEntity();
      if (_0x782b8b.style && this.type.startsWith(_0x782b8b.type)) {
        this.options.style = merge(this.options.style, _0x782b8b.style);
        this._updateStyleBaseHook(this.options.style);
      } else if (this._updateStyleByEdit) {
        this._updateStyleByEdit(_0x782b8b.style, _0x782b8b);
      }
      if (this.isPoint) {
        this._setEditEntityPositions(_0x782b8b.position);
      } else if (_0x782b8b.positions) {
        this._setEditEntityPositions(_0x782b8b.positions);
      }
      delete this._drawPrimitiveShow;
      this._updateCzmObjectShow(true);
      this._showHook(true);
    }
    _removeEditingEntity() {
      if (this._editing_entity) {
        this._editing_entity.remove(true);
        delete this._editing_entity;
      }
    }
    startEditing() {
      if (this._isEditing) {
        return this;
      }
      this._isEditing = true;
      if (!this._map) {
        throw new Error("编辑时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._removeEditingEntity();
      const _0x43d006 = getDrawOptions(this.options);
      const _0x16d561 = {
        ..._0x43d006,
        style: this._getDrawEntityStyle(),
        private: true
      };
      this._getEditEntityPositions(_0x16d561);
      this._editing_entity = this._getDrawEntityClass(_0x16d561, false);
      if (this._startEditingHook) {
        this._startEditingHook(this._editing_entity);
      }
      this._editing_entity.parent = this;
      const _0x3e9713 = this.hasEditEqualType ?? this.type.startsWith(this._editing_entity.type);
      this._editing_entity.once(EventType.editStop, _0x4af5ad => {
        this.stopEditing();
      });
      this._editing_entity.on(EventType.editStyle, _0x47a691 => {
        const _0x5e5e19 = this._editing_entity.toJSON();
        if (_0x5e5e19.style && _0x3e9713) {
          this.options.style = merge(this.options.style, _0x5e5e19.style);
        } else if (this._updateStyleByEdit) {
          this._updateStyleByEdit(_0x5e5e19.style, _0x5e5e19);
        }
      });
      this._editing_entity.on([EventType.editAddPoint, EventType.editMovePoint, EventType.editRemovePoint], _0x3e8938 => {
        if (this.isPoint) {
          const _0xab47ad = this._editing_entity._position_draw;
          if (_0x3e9713 && !this.hasTimePostion) {
            this._point = LngLatPoint.parse(_0xab47ad);
            this._position = _0xab47ad;
          } else {
            this._setEditEntityPositions(_0xab47ad);
          }
        } else {
          const _0x51aad1 = this._editing_entity._positions_draw;
          if (_0x3e9713) {
            this._points = LngLatArray.toPoints(_0x51aad1);
            this._positions = _0x51aad1;
          } else {
            this._setEditEntityPositions(_0x51aad1);
          }
        }
      });
      if (!_0x3e9713) {
        delete this._editing_entity.style.label;
      }
      this._layer.addGraphic(this._editing_entity);
      this._editing_entity.startEditing();
      if (_0x3e9713) {
        this._drawPrimitiveShow = false;
        this._updateCzmObjectShow(false);
        this._showHook(false);
      } else if (this._editing_entity.type !== "point") {
        this._editing_entity.entityGraphic.show = false;
      }
    }
    stopEditing() {
      if (!this._isEditing || !this._editing_entity) {
        return this;
      }
      this._isEditing = false;
      this._updateDrawEntityToThis();
      if (this._stopEditingHook) {
        this._stopEditingHook();
      }
    }
  }
  function getDrawOptions(_0x28e007) {
    if (!_0x28e007) {
      return _0x28e007;
    }
    try {
      const _0x1e51d2 = {};
      for (const _0x1039f8 in _0x28e007) {
        const _0x9a2244 = _0x28e007[_0x1039f8];
        if (_0x1039f8 === "show" || _0x1039f8 === "id") {
          continue;
        }
        if (isBoolean(_0x9a2244) || isNumber(_0x9a2244) || isString(_0x9a2244) || _0x1039f8 === "position") {
          _0x1e51d2[_0x1039f8] = _0x9a2244;
        }
      }
      return _0x1e51d2;
    } catch (_0x44b6d6) {}
    return _0x28e007;
  }
  class BasePolyPrimitive extends BasePrimitive {
    get center() {
      if (this.style.closure) {
        return this.centerOfMass;
      } else {
        return this.centerOfLine;
      }
    }
    get centerOfMass() {
      return centerOfMass(this.positionsShow);
    }
    get centerOfLine() {
      const _0x4bd498 = this.positionsShow;
      if (!_0x4bd498 || _0x4bd498.length === 0) {
        return null;
      } else if (_0x4bd498.length === 1) {
        return _0x4bd498[0];
      }
      let _0xb90fef;
      if (_0x4bd498.length < 10) {
        _0xb90fef = sliceByMaxDistance(_0x4bd498, this.distance / 2, {
          point: true
        });
      } else {
        _0xb90fef = _0x4bd498[Math.floor(_0x4bd498.length / 2)];
      }
      if (Cesium__namespace.defined(this.style.height)) {
        _0xb90fef = setPositionsHeight(_0xb90fef, this.style.height);
      }
      return _0xb90fef;
    }
    get distance() {
      return getDistance(this.positionsShow);
    }
    get area() {
      return getArea(this.positionsShow);
    }
    get positions() {
      if (this._positions) {
        return this._positions;
      }
      if (this.options.positions && !this.options.positions.type) {
        this._setPolyPostions(this.options.positions);
        return this._positions;
      }
    }
    set positions(_0xd07c2) {
      if (this.isEditing && _0xd07c2?.type !== this.options.positions?.type) {
        this.stopEditing();
        if (this.isDestroy) {
          return;
        }
      }
      this.options.positions = _0xd07c2;
      this._setPolyPostionsFoyType(_0xd07c2);
    }
    _setPolyPostions(_0x659be2) {
      const _0x44daf3 = [];
      const _0x3ee526 = [];
      _0x659be2.forEach((_0x29440f, _0x38de52) => {
        const _0x3e36d5 = LngLatPoint.parse(_0x29440f);
        if (!_0x3e36d5 || !_0x3e36d5.valid()) {
          return;
        }
        const _0x32f1e1 = _0x44daf3[_0x44daf3.length - 1];
        if (_0x32f1e1 && _0x32f1e1.equals(_0x3e36d5)) {
          return;
        }
        const _0x187267 = this.getSetHeight(this.style, _0x38de52);
        if (Cesium__namespace.defined(_0x187267)) {
          _0x3e36d5.alt = _0x187267;
        }
        const _0x2c355f = this.getAddHeight(this.style, _0x38de52);
        if (Cesium__namespace.defined(_0x2c355f)) {
          _0x3e36d5.alt = _0x3e36d5.alt + _0x2c355f;
        }
        _0x44daf3.push(_0x3e36d5);
        _0x3ee526.push(_0x3e36d5.toCartesian());
      });
      this._points = _0x44daf3;
      this._positions = _0x3ee526;
      if (this._primitive) {
        this._updatePositionsHook();
      }
      if (this._primitive_label) {
        this._updateLabelPosition();
      }
      if (this._editing_entity && !this._noUpdateEditing) {
        this._editing_entity.positions = _0x3ee526;
      }
      if (this._getRectangle_cache) {
        delete this._getRectangle_cache;
      }
      this.fire(EventType.updatePosition, {
        positions: this._positions
      });
    }
    get positionsShow() {
      return this.positions;
    }
    get points() {
      if (!this._points) {
        this._points = LngLatArray.toPoints(this.positionsShow);
      }
      return this._points;
    }
    get rectangle() {
      return Cesium__namespace.Rectangle.fromCartesianArray(this.positions);
    }
    _getGeoJsonGeometry(_0xe4c11c) {
      return {
        type: "LineString",
        coordinates: this.getCoord(_0xe4c11c)
      };
    }
    isInPoly(_0x5eabb2) {
      return isInPoly(_0x5eabb2, this.positionsShow);
    }
    autoSurfaceHeight(_0x555589 = {}) {
      const _0x15eebc = {
        ..._0x555589
      };
      _0x15eebc.map = this._map;
      _0x15eebc.positions = this.positions;
      return computeSurfacePoints(_0x15eebc).then(_0x155a92 => {
        if (!_0x155a92.noHeight) {
          this._setPolyPostions(_0x155a92.positions);
        }
        return _0x155a92;
      });
    }
    _getEditEntityPositions(_0x299de3) {
      if (this.hasTimePostions) {
        _0x299de3.positions = this._getPolyTimePostionsJson();
      } else {
        _0x299de3.positions = this.positions;
      }
    }
    _setEditEntityPositions(_0x1c3489) {
      this.positions = _0x1c3489;
    }
    get hasAjaxPostions() {
      return this._hasPolyTypePostions("ajax");
    }
    get hasTimePostions() {
      return this._hasPolyTypePostions("time");
    }
    get timeRange() {
      return this._getPolyTimeRange();
    }
    get timeRangeStr() {
      return this._getPolyTimeRange(true);
    }
    get coordinates() {
      return this.getCoord();
    }
    getCoordinates(_0x43d79a) {
      const _0x499a68 = {
        noAlt: _0x43d79a
      };
      return this.getCoord(_0x499a68);
    }
  }
  class PolylinePrimitive extends BasePolyPrimitive {
    constructor(_0x103e9b = {}) {
      super(_0x103e9b);
      this._hasClampToGround = true;
    }
    _conversionStyle(_0x1d7b5a) {
      return PolylineStyleConver.toCesiumVal(_0x1d7b5a);
    }
    _style2Json(_0xcf3db8, _0x31b623) {
      return PolylineStyleConver.toJSON(_0xcf3db8, _0x31b623);
    }
    _createGeometryInstance(_0x2d4ca8, _0x3ea33d) {
      _0x2d4ca8.positions = this.positions || [];
      if (_0x2d4ca8.positions?.length < 2) {
        return;
      }
      if (!_0x2d4ca8.clampToGround && _0x2d4ca8.closure) {
        _0x2d4ca8.positions = this._getClosurePositions(_0x2d4ca8.positions);
      }
      const _0x11078e = _0x2d4ca8.clampToGround ? Cesium__namespace.GroundPolylineGeometry : Cesium__namespace.PolylineGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x11078e(_0x2d4ca8),
        attributes: this._createGeometryInstanceAttributes(_0x2d4ca8)
      });
    }
    _createAppearance(_0xc46fae, _0x47ce5e) {
      if (_0xc46fae._isColorMaterial) {
        _0x47ce5e.geometryInstances.geometry.vertexFormat = Cesium__namespace.PolylineColorAppearance.VERTEX_FORMAT;
        if (!_0xc46fae.colors) {
          const _0x5ce434 = this._getColorByColorMaterial(_0xc46fae);
          _0x47ce5e.geometryInstances.attributes = _0x47ce5e.geometryInstances.attributes || {};
          _0x47ce5e.geometryInstances.attributes.color = Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(_0x5ce434);
          if (_0xc46fae.depthFail) {
            _0x47ce5e.geometryInstances.attributes.depthFailColor = Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(_0xc46fae.depthFailColor || _0x5ce434);
          }
        }
        const _0x796841 = {
          ..._0xc46fae
        };
        return new Cesium__namespace.PolylineColorAppearance(_0x796841);
      } else {
        const _0x1228e1 = {
          ..._0xc46fae
        };
        return new Cesium__namespace.PolylineMaterialAppearance(_0x1228e1);
      }
    }
    _updateStyleHook(_0x5ba8c8, _0x598b2d) {
      if (Cesium__namespace.defined(_0x598b2d.color) && Object.keys(_0x598b2d) === 1) {
        super._updateStyleHook(_0x5ba8c8, _0x598b2d);
      } else {
        this.redraw(_0x5ba8c8);
      }
    }
    _getDrawEntityClass(_0x1d9739, _0x4cc070) {
      return create$5("polyline", _0x1d9739);
    }
  }
  register$5("polylineP", PolylinePrimitive);
  class BaseLayer extends BaseClass {
    constructor(_0x37383b = {}) {
      super(_0x37383b);
      this.options = _0x37383b;
      _0x37383b.id = _0x37383b.id ?? createGuid();
      this._show = _0x37383b.show ?? true;
      this._private = _0x37383b.private;
      this.options.opacity = _0x37383b.opacity ?? 1;
      if (Cesium__namespace.defined(_0x37383b.alpha)) {
        this.options.opacity = _0x37383b.alpha;
      }
      if (this.options.proxy) {
        if (isString(this.options.proxy)) {
          this._proxy = new Cesium__namespace.DefaultProxy(this.options.proxy);
        } else {
          this._proxy = this.options.proxy;
        }
      }
      this._bindControl();
      this._readyPromise = Cesium__namespace.defer();
      this._state = State.INITIALIZED;
    }
    get id() {
      return this.options?.id;
    }
    set id(_0x2672bc) {
      this.options.id = _0x2672bc;
    }
    get name() {
      return this.options?.name;
    }
    set name(_0x380d6e) {
      this.options.name = _0x380d6e;
    }
    get pid() {
      return this.options?.pid;
    }
    set pid(_0x18dff4) {
      this.options.pid = _0x18dff4;
    }
    get type() {
      return this._type;
    }
    get state() {
      return this._state;
    }
    get isAdded() {
      return this._state === State.ADDED && this.options;
    }
    get isDestroy() {
      return this._state === State.DESTROY || !this.options;
    }
    get isPrivate() {
      if (this._private) {
        return true;
      }
      return false;
    }
    get readyPromise() {
      return this._readyPromise?.promise;
    }
    get layer() {
      return null;
    }
    get show() {
      return this._show;
    }
    set show(_0x4218e8) {
      if (this._show === _0x4218e8 || this.isDestroy) {
        return;
      }
      this.options.show = _0x4218e8;
      this._show = _0x4218e8;
      delete this._last_availabilityShow;
      const _0x288bb8 = this.layer;
      if (_0x288bb8) {
        if (Array.isArray(_0x288bb8)) {
          _0x288bb8.forEach(function (_0x55eefd) {
            _0x55eefd.show = _0x4218e8;
            if (_0x55eefd._showHook) {
              _0x55eefd._showHook(_0x4218e8);
            }
          });
        } else {
          _0x288bb8.show = _0x4218e8;
          if (_0x288bb8._showHook) {
            _0x288bb8._showHook(_0x4218e8);
          }
        }
      }
      if (this.isAdded) {
        if (this._showHook) {
          this._showHook(_0x4218e8);
        }
        if (_0x4218e8) {
          this.fire(EventType.show);
        } else {
          this.fire(EventType.hide);
        }
      }
    }
    getRealShow(_0x5a14ff) {
      if (!this._map || !this.show) {
        return false;
      }
      if (this.availability && Cesium__namespace.defined(this._last_availabilityShow)) {
        return this._last_availabilityShow;
      }
      return this.show;
    }
    get hasOpacity() {
      if (Cesium__namespace.defined(this.options.hasOpacity)) {
        return this.options.hasOpacity;
      }
      return !!this.setOpacity;
    }
    get opacity() {
      return this.options?.opacity;
    }
    set opacity(_0xd49dfb) {
      this.options.opacity = _0xd49dfb;
      clearTimeout(this._timeTik);
      this._timeTik = setTimeout(() => {
        if (this.isAdded && this.setOpacity) {
          this.setOpacity(_0xd49dfb);
        }
      }, 100);
    }
    get availability() {
      return this.options?.availability;
    }
    set availability(_0x351e4c) {
      if (this._map) {
        var _0x1fea3a;
        this._availability = getAvailability(_0x351e4c, (_0x1fea3a = this._map) === null || _0x1fea3a === undefined || (_0x1fea3a = _0x1fea3a.clock) === null || _0x1fea3a === undefined ? undefined : _0x1fea3a.startTime);
      }
      this.options.availability = getAvailabilityJson(Array.isArray(_0x351e4c) ? _0x351e4c : this._availability);
      if (_0x351e4c) {
        this.update = _0x8c0430 => {
          this._updateObjectAvailability(_0x8c0430.time);
        };
        this.bindUpdateEvent();
      } else {
        this.unbindUpdateEvent();
      }
    }
    getAvailabilityJson() {
      var _0x1c87d7;
      return getAvailabilityJson(this._availability, true, (_0x1c87d7 = this._map) === null || _0x1c87d7 === undefined || (_0x1c87d7 = _0x1c87d7.clock) === null || _0x1c87d7 === undefined ? undefined : _0x1c87d7.startTime);
    }
    getAvailabilityShow(_0x5dcbb6) {
      if (this._map?.availabilityEnabled === false) {
        return true;
      }
      if (this._availability && _0x5dcbb6) {
        return this._availability.findDataForIntervalContainingDate(_0x5dcbb6) ?? false;
      } else {
        return true;
      }
    }
    _updateObjectAvailability(_0x4a2c44) {
      const _0x3cd720 = this.layer;
      if (!_0x3cd720) {
        return;
      }
      const _0x414749 = this.getAvailabilityShow(_0x4a2c44);
      if (this._last_availabilityShow !== _0x414749) {
        if (Array.isArray(_0x3cd720)) {
          _0x3cd720.forEach(function (_0x3051f3) {
            if (!Cesium__namespace.defined(_0x3051f3._show_original)) {
              _0x3051f3._show_original = _0x3051f3.show;
            }
            _0x3051f3.show = _0x414749;
            if (_0x3051f3._showHook) {
              _0x3051f3._showHook(_0x414749);
            }
          });
        } else {
          if (!Cesium__namespace.defined(_0x3cd720._show_original)) {
            _0x3cd720._show_original = _0x3cd720.show;
          }
          _0x3cd720.show = _0x414749;
          if (_0x3cd720._showHook) {
            _0x3cd720._showHook(_0x414749);
          }
        }
        if (this._showHook) {
          this._showHook(_0x414749);
        }
        this.fire(EventType.availabilityChange, {
          new: _0x414749,
          old: this._last_availabilityShow
        });
      }
      this._last_availabilityShow = _0x414749;
    }
    getUrlResource() {
      return getUrlResource(this.options, this._map?.templateValues);
    }
    getUrl() {
      let _0x56eb57 = this.options.url;
      const _0x4eae84 = this._map?.templateValues;
      if (_0x4eae84) {
        _0x56eb57 = template(_0x56eb57, _0x4eae84);
      }
      return _0x56eb57;
    }
    addTo(_0x13b422) {
      if (_0x13b422 && _0x13b422.addLayer) {
        _0x13b422.addLayer(this);
      }
      return this;
    }
    remove(_0x46223f) {
      if (this._map) {
        this._map.removeLayer(this, _0x46223f);
      }
    }
    _onAdd(_0x8b7964) {
      if (this.isAdded || this._state === State.ADD) {
        return;
      }
      this._state = State.ADD;
      this._map = _0x8b7964;
      if (this.options.eventParent) {
        this.addEventParent(this.options.eventParent);
      } else if (this.options?.eventParent === false) ;else {
        this.addEventParent(_0x8b7964);
      }
      if (this._mountedHook && !this._createOK) {
        this._mountedHook();
        this._createOK = true;
      }
      if (this._addedHook) {
        this._addedHook();
      }
      if (this.options.availability) {
        this.availability = this.options.availability;
      }
      if (this.options.flyTo) {
        this.flyTo();
      }
      this._state = State.ADDED;
      this.fire(EventType.add);
      this.fire(EventType.addLayer, {}, true);
      if (this.options.script) {
        try {
          new Function("layer", this.options.script)(this);
        } catch (_0x33d389) {}
      }
    }
    _onRemove() {
      var _0x54ef19;
      if (this._state !== State.ADDED) {
        return;
      }
      if (!this._map) {
        return;
      }
      if (this._removedHook) {
        this._removedHook();
      }
      this._state = State.REMOVED;
      this.fire(EventType.remove);
      this.fire(EventType.removeLayer, {}, true);
      if ((_0x54ef19 = this.options) !== null && _0x54ef19 !== undefined && _0x54ef19.eventParent) {
        this.removeEventParent(this.options.eventParent);
      } else if (this.options?.eventParent === false) ;else {
        this.removeEventParent(this._map);
      }
      this._map = null;
    }
    _mountedHook() {}
    _addedHook() {}
    _removedHook() {}
    fire(_0x5d64eb, _0x79ca50 = {}, _0x3bdf6c) {
      if (!_0x79ca50.layer) {
        _0x79ca50.layer = this;
      }
      return super.fire(_0x5d64eb, _0x79ca50, _0x3bdf6c);
    }
    bindUpdateEvent() {
      if (!this.update || !this._map) {
        return;
      }
      this.unbindUpdateEvent();
      this._map.on(EventType.preRender, this._map_preRenderHandler, this);
      this._map_preRenderHandler(this._map.scene);
    }
    unbindUpdateEvent() {
      if (this._map) {
        this._map.off(EventType.preRender, this._map_preRenderHandler, this);
      }
    }
    _map_preRenderHandler(_0x389858) {
      var _0x20f305;
      if (!this._map || !this.show) {
        return;
      }
      if ((_0x20f305 = this.options) !== null && _0x20f305 !== undefined && _0x20f305.frameRate && this._last_preUpdateTime) {
        const _0x3611fe = _0x389858._frameState.frameNumber - this._last_preUpdateTime;
        if (_0x3611fe < this.options.frameRate) {
          return;
        }
      }
      this._last_preUpdateTime = _0x389858._frameState.frameNumber;
      this.update(_0x389858._frameState);
    }
    async flyTo(_0x4e8a7e = {}) {
      if (!this._map) {
        return false;
      }
      if (this.options.flyToOptions) {
        _0x4e8a7e = {
          ...this.options.flyToOptions,
          ..._0x4e8a7e
        };
      }
      await this._map.flyAnimationPromise;
      if (this.options.center) {
        return this._map.setCameraView(this.options.center, _0x4e8a7e);
      }
      const _0x3c97aa = this.options.extent || this._extent || this.getRectangle && this.getRectangle();
      if (_0x3c97aa) {
        return this._map.flyToExtent(_0x3c97aa, _0x4e8a7e);
      }
      await this.readyPromise;
      await this._map.flyAnimationPromise;
      return this._flyToEx(_0x4e8a7e);
    }
    async _flyToEx(_0xd46ad9) {
      const _0x560db0 = this._extent || this.getRectangle && this.getRectangle();
      if (_0x560db0) {
        return this._map.flyToExtent(_0x560db0, _0xd46ad9);
      }
    }
    setOptions(_0x501465, _0x3d109d) {
      if (!_0x501465 || Object.keys(_0x501465).length === 0) {
        return this;
      }
      if (this._setOptionsBeforeHook) {
        this._setOptionsBeforeHook(this.options, _0x501465);
      }
      if (_0x3d109d?.merge ?? true) {
        this.options = merge(this.options, _0x501465);
      } else {
        this.options = _0x501465;
      }
      if (Cesium__namespace.defined(_0x501465.opacity)) {
        this.opacity = _0x501465.opacity;
      }
      if (Cesium__namespace.defined(_0x501465.name)) {
        this.name = _0x501465.name;
      }
      if (Cesium__namespace.defined(_0x501465.show)) {
        this.show = _0x501465.show;
      }
      if (Cesium__namespace.defined(_0x501465.availability)) {
        this.availability = _0x501465.availability;
      }
      this._bindControl();
      if (this._setOptionsHook) {
        this._setOptionsHook(this.options, _0x501465);
      }
      return this;
    }
    toJSON(_0x4b7be1) {
      const _0x5df729 = clone(getAttrVal(this.options, {
        onlySimpleType: true
      }), ["parent", "eventParent"]);
      _0x5df729.id = this.id;
      _0x5df729.type = this.type;
      if (!this._hasMapInit) {
        _0x5df729.show = this._show_original ?? this.show;
      }
      if (this._availability) {
        _0x5df729.availability = this.availability;
      }
      if (this._toJsonEx) {
        this._toJsonEx(_0x5df729, _0x4b7be1);
      }
      if (_0x5df729.opacity === 1) {
        delete _0x5df729.opacity;
      }
      for (const _0x2cb496 in _0x5df729) {
        const _0x3b5944 = _0x5df729[_0x2cb496];
        if (!Cesium__namespace.defined(_0x3b5944) || isObject(_0x3b5944) && Object.keys(_0x3b5944).length === 0) {
          delete _0x5df729[_0x2cb496];
        }
      }
      return _0x5df729;
    }
    _bindControl() {
      if (Cesium__namespace.defined(this.options.contextmenuItems)) {
        if (this.options.contextmenuItems) {
          this._contextmenuConfig = {
            content: this.options.contextmenuItems,
            options: this.options.contextmenuOptions,
            layer: this
          };
        } else {
          if (this.closeContextMenu) {
            this.closeContextMenu();
          }
          this._contextmenuConfig = null;
        }
      }
      if (Cesium__namespace.defined(this.options.popup)) {
        if (this.options.popup) {
          const _0x5192b1 = this.options.popupOptions || {};
          this._popupConfig = {
            options: _0x5192b1,
            content: this.options.popup,
            layer: this
          };
        } else {
          if (this.closePopup) {
            this.closePopup();
          }
          this._popupConfig = null;
        }
      }
      if (Cesium__namespace.defined(this.options.tooltip)) {
        if (this.options.tooltip) {
          const _0x51edc3 = this.options.tooltipOptions || {};
          this._tooltipConfig = {
            options: _0x51edc3,
            content: this.options.tooltip,
            layer: this
          };
        } else {
          if (this.closeTooltip) {
            this.closeTooltip();
          }
          this._tooltipConfig = null;
        }
      }
    }
    _filterPropagateEvent(_0x33c3b1, _0x2d80be) {
      if (_0x2d80be.type === "load") {
        return false;
      }
      return true;
    }
    _setExtent(_0x5c4b63, _0x51182e, _0x3ffe19, _0x494d53, _0x42f5b9) {
      if (!_0x42f5b9) {
        _0x42f5b9 = this.options.crs;
      }
      if (_0x42f5b9 && _0x42f5b9 !== CRS.EPSG4326 && _0x42f5b9 !== CRS.EPSG4490) {
        const _0x668026 = proj4Trans([_0x5c4b63, _0x51182e], _0x42f5b9);
        const _0x378e21 = proj4Trans([_0x3ffe19, _0x494d53], _0x42f5b9);
        _0x5c4b63 = _0x668026[0];
        _0x51182e = _0x668026[1];
        _0x3ffe19 = _0x378e21[0];
        _0x494d53 = _0x378e21[1];
      }
      if (isNaN(_0x5c4b63) || isNaN(_0x3ffe19) || isNaN(_0x51182e) || isNaN(_0x494d53) || _0x5c4b63 < -179 || _0x3ffe19 > 179 || _0x51182e < -85 || _0x494d53 > 85) {
        return;
      }
      const _0x5d69ff = {
        xmin: _0x5c4b63,
        ymin: _0x51182e,
        xmax: _0x3ffe19,
        ymax: _0x494d53
      };
      this.options.extent = _0x5d69ff;
      this._rectangle = Cesium__namespace.Rectangle.fromDegrees(_0x5c4b63, _0x51182e, _0x3ffe19, _0x494d53);
      if (this._tileLayer) {
        this._tileLayer.rectangle = this._rectangle;
      }
      logInfo(this.name + "图层设置了范围:", this, this.options.extent);
    }
    destroy(_0x285239) {
      if (this._state === State.DESTROY) {
        return;
      }
      if (this._state !== State.REMOVED) {
        if (this.clear) {
          this.clear();
        }
        this.remove();
      }
      super.destroy(_0x285239);
      this._state = State.DESTROY;
    }
  }
  class BaseGraphicLayer extends BaseLayer {
    _showHook(_0x5e09eb) {
      if (!_0x5e09eb) {
        this._closeAllControl();
      }
    }
    _addedHook() {
      var _0x46d15d;
      if (this.options.highlight) {
        this.bindHighlight(this.options.highlight);
      } else if ((_0x46d15d = this.options.symbol) !== null && _0x46d15d !== undefined && (_0x46d15d = _0x46d15d.styleOptions) !== null && _0x46d15d !== undefined && _0x46d15d.highlight) {
        this.bindHighlight(this.options.symbol.styleOptions.highlight);
      }
    }
    _removedHook() {
      this._closeAllControl();
      this.unbindHighlight();
    }
    _setOptionsHook(_0x5abbc3, _0x450a82) {
      var _0x43a2eb;
      const _0x54cf85 = _0x450a82.highlight ?? ((_0x43a2eb = _0x450a82.symbol) === null || _0x43a2eb === undefined || (_0x43a2eb = _0x43a2eb.styleOptions) === null || _0x43a2eb === undefined ? undefined : _0x43a2eb.highlight);
      if (Cesium__namespace.defined(_0x54cf85)) {
        if (_0x54cf85) {
          var _0x3512be;
          this.bindHighlight(_0x5abbc3.highlight ?? ((_0x3512be = _0x5abbc3.symbol) === null || _0x3512be === undefined || (_0x3512be = _0x3512be.styleOptions) === null || _0x3512be === undefined ? undefined : _0x3512be.highlight));
        } else {
          this.unbindHighlight();
        }
      }
    }
    _closeAllControl() {
      this.closePopup();
      this.closeTooltip();
      this.closeSmallTooltip();
      this.closeContextMenu();
    }
    bindHighlight(_0x2f4104) {
      this.unbindHighlight();
      this._highlightOptions = _0x2f4104;
      if (this._highlightOptions.type === EventType.click) {
        this.on(EventType.click, this._highlight_mouseEventHandler, this);
      } else {
        this.on(EventType.mouseOver, this._highlight_mouseEventHandler, this);
        this.on(EventType.mouseOut, this._highlight_mouseOutHandler, this);
      }
    }
    unbindHighlight() {
      if (this._highlightOptions) {
        this.off(EventType.click, this._highlight_mouseEventHandler, this);
        this.off(EventType.mouseOver, this._highlight_mouseEventHandler, this);
        this.off(EventType.mouseOut, this._highlight_mouseOutHandler, this);
        if (this._map.isHighlighting(this)) {
          this._map.closeHighlight();
        }
        this._highlightOptions = null;
      }
    }
    _highlight_mouseEventHandler(_0x54ee29) {
      if (!this._map || this._map.isDrawing) {
        return;
      }
      const _0x5be9f1 = _0x54ee29?.graphic;
      if (_0x5be9f1) {
        this._map.openHighlight(_0x5be9f1, this._highlightOptions, _0x54ee29);
      } else {
        this._map.closeHighlight();
      }
    }
    _highlight_mouseOutHandler(_0x5dfb34) {
      this._map.closeHighlight();
    }
    openHighlight(_0x4abe13, _0xf6cad1) {
      if (!this._map || !_0x4abe13) {
        return;
      }
      this._map.openHighlight(_0x4abe13, this._highlightOptions, _0xf6cad1);
    }
    closeHighlight() {
      this._map.closeHighlight();
    }
    hasPopup() {
      if (this._popupConfig) {
        return true;
      }
      if (this._graphicList) {
        const _0x3f8078 = this._graphicList.values;
        for (let _0x49bf63 = 0, _0x5e7a16 = _0x3f8078.length; _0x49bf63 < _0x5e7a16; _0x49bf63++) {
          const _0x716cd4 = _0x3f8078[_0x49bf63];
          if (_0x716cd4._popupConfig) {
            return true;
          }
        }
      }
      return false;
    }
    bindPopup(_0x1c0c78, _0x22af21) {
      this._popupConfig = {
        content: _0x1c0c78,
        options: _0x22af21 || this.options.popupOptions,
        layer: this
      };
      return this;
    }
    unbindPopup(_0x28becb) {
      this.closePopup();
      if (_0x28becb) {
        this._popupConfig = false;
      } else {
        this._popupConfig = null;
      }
      return this;
    }
    openPopup(_0x3fbe15) {
      if (_0x3fbe15.openPopup) {
        _0x3fbe15.openPopup();
      } else if (this._popupConfig && _0x3fbe15 && this._map) {
        this._popupConfig.graphic = null;
        this._map.popup.open(_0x3fbe15, this._popupConfig);
      }
      return this;
    }
    closePopup() {
      var _0x2dd8ca;
      if ((_0x2dd8ca = this._map) !== null && _0x2dd8ca !== undefined && _0x2dd8ca.popup && this.hasPopup()) {
        this._map.popup.close(null, this);
      }
      return this;
    }
    hasTooltip() {
      if (this._tooltipConfig) {
        return true;
      }
      if (this._graphicList) {
        const _0x273a10 = this._graphicList.values;
        for (let _0x2b71e4 = 0, _0x3c4057 = _0x273a10.length; _0x2b71e4 < _0x3c4057; _0x2b71e4++) {
          const _0x3985d0 = _0x273a10[_0x2b71e4];
          if (_0x3985d0._tooltipConfig) {
            return true;
          }
        }
      }
      return false;
    }
    bindTooltip(_0x38f4ac, _0x56a442) {
      this._tooltipConfig = {
        content: _0x38f4ac,
        options: _0x56a442 || this.options.tooltipOptions,
        layer: this
      };
      return this;
    }
    unbindTooltip(_0x581e04) {
      if (_0x581e04) {
        this._tooltipConfig = false;
      } else {
        this._tooltipConfig = null;
      }
      this.closeTooltip();
      return this;
    }
    openTooltip(_0x422c84) {
      if (_0x422c84.openTooltip) {
        _0x422c84.openTooltip();
      } else if (this._tooltipConfig && _0x422c84 && this._map) {
        this._tooltipConfig.graphic = null;
        this._map.tooltip.open(_0x422c84, this._tooltipConfig);
      }
      return this;
    }
    closeTooltip() {
      if (this._map && this.hasTooltip()) {
        this._map.tooltip.close(null, this);
      }
      return this;
    }
    hasContextMenu() {
      if (this._contextmenuConfig) {
        return true;
      }
      if (this._graphicList) {
        const _0x57e2b8 = this._graphicList.values;
        for (let _0x5bbab7 = 0, _0x2c39af = _0x57e2b8.length; _0x5bbab7 < _0x2c39af; _0x5bbab7++) {
          const _0x118cbd = _0x57e2b8[_0x5bbab7];
          if (_0x118cbd._contextmenuConfig) {
            return true;
          }
        }
      }
      return false;
    }
    getContextMenu() {
      return this._contextmenuConfig;
    }
    bindContextMenu(_0x45454d, _0x28f85f) {
      this._contextmenuConfig = {
        content: _0x45454d,
        options: _0x28f85f || this.options?.contextmenuOptions,
        layer: this
      };
      return this;
    }
    unbindContextMenu(_0x2dcdef) {
      if (_0x2dcdef) {
        this._contextmenuConfig = false;
      } else {
        this._contextmenuConfig = null;
      }
      this.closeContextMenu();
      return this;
    }
    openContextMenu(_0x539a80) {
      if (_0x539a80.openContextMenu) {
        _0x539a80.openContextMenu();
      } else if (this._contextmenuConfig && _0x539a80 && this._map) {
        this._contextmenuConfig.graphic = null;
        this._map.contextmenu.open(_0x539a80, this._contextmenuConfig);
      }
      return this;
    }
    closeContextMenu() {
      if (this._map && this.hasContextMenu()) {
        this._map.contextmenu.close(null, this);
      }
      return this;
    }
    openSmallTooltip(_0x15a281, _0xa6eb24) {
      if (this._map) {
        this._map.openSmallTooltip(_0x15a281, _0xa6eb24);
      }
      return this;
    }
    closeSmallTooltip() {
      if (this._map) {
        this._map.closeSmallTooltip();
      }
      return this;
    }
  }
  class GraphicLayer extends BaseGraphicLayer {
    constructor(_0x3fbbc5 = {}) {
      super(_0x3fbbc5);
      this._setOptionsHook(_0x3fbbc5, _0x3fbbc5);
      this._graphicList = new MarsArray();
    }
    _setOptionsBeforeHook(_0x5b67e2, _0x48a66d) {
      if (Cesium__namespace.defined(_0x48a66d.symbol) && Cesium__namespace.defined(_0x5b67e2.symbol)) {
        if (_0x5b67e2.symbol.styleOptions && Cesium__namespace.defined(_0x48a66d.symbol.type) && _0x48a66d.symbol.type !== _0x5b67e2.symbol?.type) {
          delete _0x5b67e2.symbol.styleOptions;
        }
        if (_0x5b67e2.symbol.styleFieldOptions && (_0x48a66d.symbol.styleField === undefined || _0x48a66d.symbol.styleField == null || _0x48a66d.symbol.styleField === false)) {
          delete _0x5b67e2.symbol.styleFieldOptions;
        }
      }
    }
    _setOptionsHook(_0xa6af3b, _0x3b7ae8) {
      super._setOptionsHook(_0xa6af3b, _0x3b7ae8);
      this.isContinued = _0xa6af3b.isContinued ?? false;
      if (_0x3b7ae8.cluster) {
        this._initializeCluster();
      } else if (_0x3b7ae8.collision) {
        this._initializeCollision();
      }
      if (this._otherLayer && _0x3b7ae8.symbol) {
        this._otherLayer.setOptions(_0x3b7ae8.symbol);
      }
    }
    get layer() {
      const _0x2285a6 = [];
      if (this._dataSource) {
        _0x2285a6.push(this._dataSource);
      }
      if (this._primitiveCollection) {
        _0x2285a6.push(this._primitiveCollection);
      }
      if (this._labelCollection) {
        _0x2285a6.push(this._labelCollection);
      }
      if (this._billboardCollection) {
        _0x2285a6.push(this._billboardCollection);
      }
      if (this._cloudCollection) {
        _0x2285a6.push(this._cloudCollection);
      }
      if (this._pointCollection) {
        _0x2285a6.push(this._pointCollection);
      }
      if (this._polylineCollection) {
        _0x2285a6.push(this._polylineCollection);
      }
      if (this._lights) {
        _0x2285a6.push(this._lights);
      }
      if (this._visibilitys) {
        _0x2285a6.push(this._visibilitys);
      }
      if (this._pointCluster) {
        if (this._pointCluster._billboardCollection) {
          _0x2285a6.push(this._pointCluster._billboardCollection);
        }
      }
      if (this._otherLayer) {
        _0x2285a6.push(this._otherLayer);
      }
      return _0x2285a6;
    }
    get clusterEnabled() {
      return this._pointCluster?.enabled;
    }
    set clusterEnabled(_0x26c79d) {
      this._initializeCluster();
      this._pointCluster.enabled = _0x26c79d;
    }
    get collisionEnabled() {
      return this._pointCollision?.enabled;
    }
    set collisionEnabled(_0x39df08) {
      this._initializeCollision();
      this._pointCollision.enabled = _0x39df08;
    }
    get dataSource() {
      if (!this._dataSource) {
        this._dataSource = new Cesium__namespace.CustomDataSource(this.id);
        this._dataSource.show = this.getRealShow();
        this._dataSource.zIndex = this.options.zIndex;
        if (this._map) {
          this._map.dataSources.add(this._dataSource);
          if (Cesium__namespace.defined(this.options.zIndex)) {
            this.zIndex = this.options.zIndex;
          }
        }
      }
      return this._dataSource;
    }
    get primitiveCollection() {
      if (!this._primitiveCollection) {
        this._primitiveCollection = new Cesium__namespace.PrimitiveCollection(this.options);
        this._primitiveCollection.show = this.getRealShow();
        this._primitiveCollection.zIndex = this.options.zIndex;
        if (this._map) {
          this._map.scene.primitives.add(this._primitiveCollection);
          if (Cesium__namespace.defined(this.options.zIndex)) {
            this.zIndex = this.options.zIndex;
          }
        }
      }
      return this._primitiveCollection;
    }
    get labelCollection() {
      if (!this._labelCollection) {
        this._labelCollection = new Cesium__namespace.LabelCollection({
          ...this.options,
          scene: this._map?.scene
        });
        this._labelCollection.show = this.getRealShow();
        this._labelCollection.zIndex = this.options.zIndex;
        const _0x245018 = this._labelCollection.update;
        this._labelCollection.update = function (_0x254b8d) {
          if (!this.show) {
            return;
          }
          const _0xddc491 = this._labels;
          for (let _0x5780a5 = 0, _0x59b055 = _0xddc491.length; _0x5780a5 < _0x59b055; ++_0x5780a5) {
            if (_0xddc491[_0x5780a5].update) {
              _0xddc491[_0x5780a5].update(_0x254b8d);
            }
          }
          return _0x245018.bind(this)(_0x254b8d);
        };
        if (this._map) {
          this._map.scene.primitives.add(this._labelCollection);
        }
      }
      return this._labelCollection;
    }
    get pointCollection() {
      if (!this._pointCollection) {
        this._pointCollection = new Cesium__namespace.PointPrimitiveCollection(this.options);
        this._pointCollection.show = this.getRealShow();
        this._pointCollection.zIndex = this.options.zIndex;
        if (this._map) {
          this._map.scene.primitives.add(this._pointCollection);
        }
      }
      return this._pointCollection;
    }
    get billboardCollection() {
      if (!this._billboardCollection) {
        this._billboardCollection = new Cesium__namespace.BillboardCollection({
          ...this.options,
          scene: this._map.scene
        });
        this._billboardCollection.show = this.getRealShow();
        this._billboardCollection.zIndex = this.options.zIndex;
        if (this._map) {
          this._map.scene.primitives.add(this._billboardCollection);
        }
      }
      return this._billboardCollection;
    }
    get cloudCollection() {
      if (!this._cloudCollection) {
        this._cloudCollection = new Cesium__namespace.CloudCollection(this.options.cloud);
        this._cloudCollection.show = this.getRealShow();
        this._cloudCollection.zIndex = this.options.zIndex;
        if (this._map) {
          this._map.scene.primitives.add(this._cloudCollection);
        }
      }
      return this._cloudCollection;
    }
    get lights() {
      if (!this._lights) {
        this._lights = new MarsArray();
        this._lights.show = this.getRealShow();
      }
      return this._lights;
    }
    get visibilitys() {
      if (!this._visibilitys) {
        this._visibilitys = new MarsArray();
        this._visibilitys.show = this.getRealShow();
      }
      return this._visibilitys;
    }
    get container() {
      if (!this._container) {
        this._container = create$4("div", "mars3d-divlayer");
        if (this.getRealShow()) {
          this._container.style.display = "block";
        } else {
          this._container.style.display = "none";
        }
        if (this._map) {
          this._map.container.appendChild(this._container);
        }
      }
      return this._container;
    }
    get pointerEvents() {
      return this._pointerEvents;
    }
    set pointerEvents(_0x44f725) {
      this._pointerEvents = _0x44f725;
      if (_0x44f725) {
        this.container.style["pointer-events"] = "all";
      } else {
        this.container.style["pointer-events"] = "none";
      }
    }
    get objectsToExclude() {
      if (this._objectsToExclude) {
        return this._objectsToExclude;
      }
      if (!this._objectsToExclude_auto) {
        this._objectsToExclude_auto = [];
        this._graphicList.forEach(_0x3e406b => {
          const _0x1779ab = _0x3e406b.objectsToExclude;
          if (_0x1779ab && _0x1779ab.length > 0) {
            _0x1779ab.forEach(_0x44d620 => {
              if (this._objectsToExclude_auto.indexOf(_0x44d620) === -1) {
                this._objectsToExclude_auto.push(_0x44d620);
              }
            });
          } else if (_0x3e406b.czmObject) {
            const _0x5e77ec = _0x3e406b.czmObject;
            if (this._objectsToExclude_auto.indexOf(_0x5e77ec) === -1) {
              this._objectsToExclude_auto.push(_0x5e77ec);
            }
          }
        }, this);
      }
      return this._objectsToExclude_auto;
    }
    set objectsToExclude(_0xa3f776) {
      this._objectsToExclude = _0xa3f776;
    }
    get hasZIndex() {
      return true;
    }
    get zIndex() {
      return this.options.zIndex;
    }
    set zIndex(_0x864df7) {
      this.options.zIndex = _0x864df7;
      if (_0x864df7 == null) {
        return;
      }
      setTimeout(() => {
        this._setZIndex(_0x864df7);
      }, 100);
    }
    _setZIndex(_0x987a93) {
      if (!this.isAdded) {
        return;
      }
      if (this._primitiveCollection) {
        this._primitiveCollection.zIndex = _0x987a93;
        this._map.scene.primitives.raiseToTop(this._primitiveCollection);
        const _0x1a2033 = this._map.scene.primitives;
        for (let _0x14f4d2 = _0x1a2033.length - 1; _0x14f4d2 >= 0; _0x14f4d2--) {
          const _0xeb5732 = _0x1a2033.get(_0x14f4d2);
          if (_0xeb5732 === this._primitiveCollection) {
            continue;
          }
          if (Cesium__namespace.defined(_0xeb5732.zIndex) && _0x987a93 < _0xeb5732.zIndex) {
            this._map.scene.primitives.lower(this._primitiveCollection);
          }
        }
      }
      if (this._dataSource) {
        this._dataSource.zIndex = _0x987a93;
        this._map.dataSources.raiseToTop(this._dataSource);
        const _0x4ceac5 = this._map.dataSources;
        for (let _0x5d5626 = _0x4ceac5.length - 1; _0x5d5626 >= 0; _0x5d5626--) {
          const _0x53e761 = _0x4ceac5.get(_0x5d5626);
          if (_0x53e761 === this._dataSource) {
            continue;
          }
          if (Cesium__namespace.defined(_0x53e761.zIndex) && _0x987a93 < _0x53e761.zIndex) {
            this._map.dataSources.lower(this._dataSource);
          }
        }
      }
    }
    toTop() {
      if (this._map) {
        if (this._primitiveCollection) {
          return this._map.scene.primitives.raiseToTop(this._primitiveCollection);
        }
        if (this._dataSource) {
          return this._map.dataSources.raiseToTop(this._dataSource);
        }
      }
    }
    toBottom() {
      if (this._map) {
        if (this._primitiveCollection) {
          return this._map.scene.primitives.lowerToBottom(this._primitiveCollection);
        }
        if (this._dataSource) {
          return this._map.dataSources.lowerToBottom(this._dataSource);
        }
      }
    }
    get length() {
      return this._graphicList?.length;
    }
    get graphics() {
      return this.getGraphics();
    }
    get hasEdit() {
      return this.options.hasEdit ?? true;
    }
    get isAutoEditing() {
      return this.options.isAutoEditing;
    }
    set isAutoEditing(_0x32992e) {
      this.options.isAutoEditing = _0x32992e;
      if (!this._map) {
        return;
      }
      if (_0x32992e) {
        this._bindEditEvent();
      } else {
        this._unbindEditEvent();
        this.stopEditing();
      }
    }
    get isDrawing() {
      return this._graphic_drawing != null;
    }
    get isEditing() {
      return this._graphic_editing != null;
    }
    get allowDrillPick() {
      return this.options.allowDrillPick;
    }
    set allowDrillPick(_0x42d2de) {
      this.options.allowDrillPick = _0x42d2de;
    }
    get splitDirection() {
      return this.options.splitDirection;
    }
    set splitDirection(_0x4f7a08) {
      this.options.splitDirection = _0x4f7a08;
      this.eachGraphic(_0x9de8f0 => {
        _0x9de8f0.splitDirection = _0x4f7a08;
      });
    }
    get readyPromise() {
      if (this.type === "graphic" && !this._readyPromise) {
        const _0x163fa3 = [];
        this.eachGraphic(_0x41acae => {
          if (!_0x41acae.show) {
            return;
          }
          const _0x1cdeaf = _0x41acae.readyPromise;
          if (Cesium__namespace.defined(_0x1cdeaf)) {
            _0x163fa3.push(_0x1cdeaf);
          }
        });
        return Promise.all(_0x163fa3);
      } else {
        return this._readyPromise?.promise;
      }
    }
    get attr() {
      return this.options?.attr;
    }
    set attr(_0x1d8c02) {
      this.options.attr = _0x1d8c02;
    }
    _onAdd(_0x36a6f4) {
      if (this._map) {
        return;
      }
      this._state = State.ADD;
      this._map = _0x36a6f4;
      if (this.options.eventParent) {
        this.addEventParent(this.options.eventParent);
      } else if (this.options?.eventParent === false) ;else {
        this.addEventParent(_0x36a6f4);
      }
      if (this._dataSource) {
        this._map.dataSources.add(this._dataSource);
      }
      if (this._primitiveCollection) {
        this._map.scene.primitives.add(this._primitiveCollection);
      }
      if (this._labelCollection) {
        this._map.scene.primitives.add(this._labelCollection);
      }
      if (this._billboardCollection) {
        this._map.scene.primitives.add(this._billboardCollection);
      }
      if (this._cloudCollection) {
        this._map.scene.primitives.add(this._cloudCollection);
      }
      if (this._pointCollection) {
        this._map.scene.primitives.add(this._pointCollection);
      }
      if (this._polylineCollection) {
        this._map.scene.primitives.add(this._polylineCollection);
      }
      if (this._container) {
        this._map.container.appendChild(this._container);
      }
      if (this._otherLayer) {
        this._map.addLayer(this._otherLayer);
      }
      if (this.options.cluster) {
        this._initializeCluster();
      } else if (this.options.collision) {
        this._initializeCollision();
      }
      if (this._mountedHook) {
        if (!this._createOK) {
          this._createOK = true;
          this._mountedHook();
        }
      }
      if (this._addedHook) {
        this._addedHook();
      }
      this._graphicList.forEach(_0x86a8e2 => {
        if (_0x86a8e2 !== null && _0x86a8e2 !== undefined && _0x86a8e2._onAdd) {
          _0x86a8e2._onAdd(this);
        }
      }, this);
      if (Cesium__namespace.defined(this.options.zIndex)) {
        this.zIndex = this.options.zIndex;
      }
      if (this.options.availability) {
        this.availability = this.options.availability;
      }
      if (this.options.isAutoEditing) {
        this.isAutoEditing = this.options.isAutoEditing;
      }
      if (this.options.flyTo) {
        this.flyTo();
      }
      this._state = State.ADDED;
      this.fire(EventType.addLayer, {
        layer: this
      }, true);
      if (this.options.script) {
        try {
          new Function("layer", this.options.script)(this);
        } catch (_0x441101) {}
      }
    }
    _mountedHook() {
      super._mountedHook();
      this.on(EventType.drawCreated, _0x31bef4 => {
        this.stopDraw();
        if (this.isContinued) {
          this.startDraw(clone(_0x31bef4.graphic.options, ["_promise"]));
        } else if (this.isAutoEditing) {
          this.startEditing(_0x31bef4.graphic);
        }
      }, this);
      this.on(EventType.load, _0x1f8b10 => {
        if (this.isAutoEditing && this._graphic_editing === _0x1f8b10.graphic) {
          this.startEditing(_0x1f8b10.graphic);
        }
      }, this);
      this.on(EventType.removeGraphic, _0x37ae54 => {
        if (this._graphic_drawing === _0x37ae54.graphic) {
          this._graphic_drawing = null;
        }
        if (this._graphic_editing === _0x37ae54.graphic) {
          this._graphic_editing = null;
        }
      }, this);
      this.on(EventType.editStart, _0x46d50f => {
        this._graphic_editing = _0x46d50f.graphic;
      }, this);
      this.on(EventType.editStop, _0x162bea => {
        this._graphic_editing = null;
      }, this);
      if (this.type === "graphic") {
        if (this.options.data && this.options.data.length > 0) {
          this.loadJSON(this.options.data);
          this._readyPromise.resolve(this);
        } else if (this.options.url) {
          sendAjax({
            url: this.getUrl(),
            proxy: this._proxy,
            queryParameters: this.options.queryParameters
          }).then(_0x3deca8 => {
            this.loadJSON(_0x3deca8);
            this._readyPromise.resolve(this);
          });
        } else {
          delete this._readyPromise;
        }
      }
      if (this.options.geojson) {
        this.loadGeoJSON(this.options.geojson);
      }
    }
    _onRemove() {
      var _0x4d5a05;
      if (this._state !== State.ADDED) {
        return;
      }
      if (!this._map) {
        return;
      }
      this._graphicList.forEach(_0x52e7d5 => {
        if (_0x52e7d5?._onRemove) {
          _0x52e7d5._onRemove();
        }
      }, this);
      if (this._dataSource) {
        this._map.dataSources.remove(this._dataSource);
      }
      if (this._primitiveCollection) {
        this._map.scene.primitives.remove(this._primitiveCollection);
      }
      if (this._labelCollection) {
        this._map.scene.primitives.remove(this._labelCollection);
      }
      if (this._billboardCollection) {
        this._map.scene.primitives.remove(this._billboardCollection);
      }
      if (this._cloudCollection) {
        this._map.scene.primitives.remove(this._cloudCollection);
      }
      if (this._pointCollection) {
        this._map.scene.primitives.remove(this._pointCollection);
      }
      if (this._polylineCollection) {
        this._map.scene.primitives.remove(this._polylineCollection);
      }
      if (this._container && this._container.parentNode) {
        this._map.container.removeChild(this._container);
      }
      if (this._pointCluster) {
        this._pointCluster.destroy();
        delete this._pointCluster;
      }
      if (this._pointCollision) {
        this._pointCollision.destroy();
        delete this._pointCollision;
      }
      if (this._otherLayer) {
        this._map.removeLayer(this._otherLayer);
      }
      if (this._map.scene.primitives.destroyPrimitives) {
        this._primitiveCollection = null;
        this._labelCollection = null;
        this._billboardCollection = null;
        this._cloudCollection = null;
        this._pointCollection = null;
        this._polylineCollection = null;
        if (this._otherLayer) {
          this._otherLayer.destroy();
          this._otherLayer = null;
        }
      }
      if (this.update) {
        this.unbindUpdateEvent();
      }
      if (this._removedHook) {
        this._removedHook();
      }
      this._state = State.REMOVED;
      this.fire(EventType.remove);
      this.fire(EventType.removeLayer, {
        layer: this
      }, true);
      if ((_0x4d5a05 = this.options) !== null && _0x4d5a05 !== undefined && _0x4d5a05.eventParent) {
        this.removeEventParent(this.options.eventParent);
      } else if (this.options?.eventParent === false) ;else {
        this.removeEventParent(this._map);
      }
      this._map = null;
    }
    _removedHook() {
      super._removedHook();
      if (this.isAutoEditing) {
        this.stopDraw();
        this._unbindEditEvent();
      }
    }
    _showHook(_0x59c94d) {
      super._showHook(_0x59c94d);
      if (_0x59c94d) {
        if (this._container) {
          this._container.style.display = "block";
          this._graphicList.forEach(_0x588c22 => {
            if (_0x588c22.updateDivPosition) {
              _0x588c22.updateDivPosition();
            }
          }, this);
        }
      } else {
        if (this._container) {
          this._container.style.display = "none";
        }
        this.stopDraw();
      }
      if (_0x59c94d) {
        this._refreshCollisionCluster();
      }
    }
    refreshCluster() {
      this._refreshCollisionCluster();
    }
    refreshCollision() {
      this._refreshCollisionCluster();
    }
    _refreshCollisionCluster() {
      clearTimeout(this._timeCluster);
      this._timeCluster = setTimeout(() => {
        var _0xc0cf04;
        var _0xcf7c9b;
        if ((_0xc0cf04 = this._pointCluster) !== null && _0xc0cf04 !== undefined && _0xc0cf04._onCameraChangedEventThrottle) {
          this._pointCluster._onCameraChangedEventThrottle();
        } else if ((_0xcf7c9b = this._pointCollision) !== null && _0xcf7c9b !== undefined && _0xcf7c9b._onCameraChangedEventThrottle) {
          this._pointCollision._onCameraChangedEventThrottle();
        }
      }, 50);
    }
    _initializeCluster() {
      if (!this._map) {
        return;
      }
      if (this._pointCollision) {
        this._pointCollision.enabled = false;
      }
      const _0x17a998 = this.options.cluster;
      if (this._pointCluster) {
        this._pointCluster.setOptions(_0x17a998);
      } else {
        this._pointCluster = new PointCluster(this, _0x17a998);
      }
    }
    _initializeCollision() {
      if (!this._map) {
        return;
      }
      if (this._pointCluster) {
        this._pointCluster.enabled = false;
      }
      const _0xa7ae6a = this.options.collision;
      if (this._pointCollision) {
        this._pointCollision.setOptions(_0xa7ae6a);
      } else {
        this._pointCollision = new PointCollision(this, _0xa7ae6a);
      }
    }
    getRectangle(_0x287797) {
      let _0x123800;
      this._graphicList.forEach(_0x1615af => {
        if (!_0x1615af.getRectangle) {
          return;
        }
        const _0x2ef65f = _0x1615af.getRectangle();
        if (!Cesium__namespace.defined(_0x2ef65f)) {
          return;
        }
        if (_0x123800) {
          _0x123800 = Cesium__namespace.Rectangle.union(_0x2ef65f, _0x123800);
        } else {
          _0x123800 = _0x2ef65f;
        }
      }, this);
      if (_0x287797) {
        return formatRectangle(_0x123800);
      } else {
        return _0x123800;
      }
    }
    getMaxHeight() {
      let _0xbef9ec = 0;
      this._graphicList.forEach(_0x805f4c => {
        if (!_0x805f4c.getMaxHeight) {
          return;
        }
        _0xbef9ec = Math.max(_0x805f4c.getMaxHeight(), _0xbef9ec);
      }, this);
      return _0xbef9ec;
    }
    toGeoJSON(_0x1a4e93) {
      var _0x2b983a;
      if (_0x1a4e93 !== null && _0x1a4e93 !== undefined && _0x1a4e93.stopEdit) {
        this.stopEditing();
      }
      if ((_0x2b983a = this._otherLayer) !== null && _0x2b983a !== undefined && _0x2b983a._geojson) {
        return this._otherLayer._geojson;
      }
      let _0x4e3dcb = [];
      this._graphicList.forEach(_0x114cd0 => {
        if (_0x114cd0.isPrivate) {
          return;
        }
        const _0x226f42 = _0x114cd0.toGeoJSON(_0x1a4e93);
        if (!_0x226f42) {
          return;
        }
        if (Array.isArray(_0x226f42)) {
          _0x4e3dcb = _0x4e3dcb.concat(_0x226f42);
        } else {
          _0x4e3dcb.push(_0x226f42);
        }
      }, this);
      const _0xfd692 = {
        id: this.id,
        name: this.name
      };
      const _0x42b6c5 = {
        type: "FeatureCollection",
        layer: _0xfd692,
        features: _0x4e3dcb
      };
      return _0x42b6c5;
    }
    _toJsonEx(_0x547a04, _0x3097e7) {
      if (_0x3097e7 !== null && _0x3097e7 !== undefined && _0x3097e7.stopEdit) {
        this.stopEditing();
      }
      let _0x2847a2 = [];
      this._graphicList.forEach(_0x43a2ad => {
        if (_0x43a2ad.isPrivate || _0x43a2ad.parent || !_0x43a2ad.state) {
          return;
        }
        const _0x340780 = _0x43a2ad.toJSON(_0x3097e7);
        if (!_0x340780) {
          return;
        }
        if (Array.isArray(_0x340780)) {
          _0x2847a2 = _0x2847a2.concat(_0x340780);
        } else {
          _0x2847a2.push(_0x340780);
        }
      }, this);
      _0x547a04.data = _0x2847a2;
    }
    async loadJSON(_0x41e884, _0x7a6d9) {
      if (!_0x41e884) {
        return;
      }
      try {
        if (isString(_0x41e884)) {
          _0x41e884 = JSON.parse(_0x41e884);
        }
      } catch (_0x430eee) {
        logError("loadJSON:请确认json文件格式正确!", _0x430eee);
        return;
      }
      if (_0x41e884.type === "FeatureCollection" && _0x41e884.features || _0x41e884.type === "Feature" && _0x41e884.geometry) {
        return this.loadGeoJSON(_0x41e884, _0x7a6d9);
      }
      const _0x81551b = this._map?.templateValues;
      if (_0x81551b) {
        try {
          _0x41e884 = JSON.parse(template(JSON.stringify(_0x41e884), _0x81551b));
        } catch (_0xecafea) {
          logWarn("loadJSON替换templateValues出错", _0x81551b);
        }
      }
      if (_0x7a6d9 !== null && _0x7a6d9 !== undefined && _0x7a6d9.clear) {
        this.clear();
      }
      if (_0x41e884.data) {
        this.setOptions(_0x41e884);
        _0x41e884 = _0x41e884.data;
      }
      if (!Array.isArray(_0x41e884)) {
        _0x41e884 = [_0x41e884];
      }
      const _0x369cbe = this._addGraphicList(_0x41e884, _0x7a6d9);
      if (_0x7a6d9 !== null && _0x7a6d9 !== undefined && _0x7a6d9.flyTo && this.getRealShow()) {
        this._map.flyToGraphic(_0x369cbe);
      }
      return _0x369cbe;
    }
    loadGeoJSON(_0x205691, _0x1e241b = {}) {
      try {
        if (isString(_0x205691)) {
          _0x205691 = JSON.parse(_0x205691);
        }
      } catch (_0x38c48c) {
        logError("loadGeoJSON:请确认json文件格式正确!", _0x38c48c);
        return;
      }
      if (_0x205691.type === "graphic" && _0x205691.data) {
        return this.loadJSON(_0x205691, _0x1e241b);
      }
      const _0x5226ed = this._map?.templateValues;
      if (_0x5226ed) {
        try {
          _0x205691 = JSON.parse(template(JSON.stringify(_0x205691), _0x5226ed));
        } catch (_0x2dc152) {
          logWarn("loadGeoJSON替换templateValues出错", _0x5226ed);
        }
      }
      const _0x248cdc = this._map?.chinaCRS;
      const _0x2faeb2 = this.options.chinaCRS;
      const _0x260438 = getTransFun(_0x2faeb2, _0x248cdc);
      const _0x111217 = {
        symbol: this.options.symbol,
        crs: this.options.crs,
        simplify: this.options.simplify,
        filter: this.options.filter,
        hasGroup: this.options.hasGroup ?? true,
        ..._0x1e241b
      };
      _0x111217.onPointTrans = _0x260438;
      const _0x29a4ba = _0x111217;
      const _0x280521 = this.options.symbol?.type;
      const _0x79f960 = _0x280521 === "heat";
      if (_0x79f960) {
        delete _0x29a4ba.symbol;
        _0x29a4ba.hasGroup = false;
      }
      const _0x29d544 = geoJsonToGraphics(_0x205691, _0x29a4ba);
      if (_0x79f960) {
        const _0x13fd45 = this._addOtherLayerByExSymbolType(_0x280521, _0x29d544);
        _0x13fd45._graphics = _0x29d544;
        _0x13fd45._geojson = _0x205691;
        const _0xdde687 = {
          graphics: _0x29d544,
          layer: _0x13fd45
        };
        return _0xdde687;
      } else {
        this._removeExSymbolOtherLayer();
        return this._addGraphicByArrOptions(_0x29d544, _0x1e241b);
      }
    }
    _addOtherLayerByExSymbolType(_0x4e546a, _0x5b4225) {
      this._removeExSymbolOtherLayer();
      const _0x3f557e = {
        private: true,
        flyTo: this.options.flyTo,
        availability: this.options.availability,
        show: this.options.show,
        ...this.options.symbol
      };
      _0x3f557e.id = this.id + "-" + _0x4e546a;
      const _0x5aec96 = _0x3f557e;
      switch (_0x4e546a) {
        case "heat":
          {
            _0x5aec96.positions = _0x5b4225;
            break;
          }
      }
      this._otherLayer = create$3(_0x5aec96);
      if (!this._otherLayer) {
        logError("创建图层失败，未识别的" + _0x4e546a + "类型", _0x5aec96);
      }
      this._map.addLayer(this._otherLayer);
      return this._otherLayer;
    }
    _removeExSymbolOtherLayer() {
      if (this._otherLayer) {
        this._map.removeLayer(this._otherLayer, true);
        delete this._otherLayer;
      }
    }
    _addGraphicByArrOptions(_0x5f2226, _0x237d7d = {}) {
      if (_0x237d7d.clear) {
        this.clear();
      }
      if (_0x5f2226.length === 0) {
        return [];
      }
      let _0x594b6c;
      if (_0x237d7d.enabledEvent === false) {
        this.enabledEvent = false;
        _0x594b6c = true;
      }
      const _0x275aee = this._addGraphicList(_0x5f2226, _0x237d7d);
      if (_0x594b6c) {
        this.enabledEvent = true;
      }
      if (_0x237d7d.flyTo && this.getRealShow()) {
        this._map.flyToGraphic(_0x275aee);
      }
      return _0x275aee;
    }
    getClusterList() {
      if (this._pointCluster) {
        return this._pointCluster.getClusterList();
      }
    }
    getNoClusterGraphics(_0x409b6d) {
      if (!this._pointCluster) {
        return;
      }
      const _0x391765 = [];
      this.eachGraphic(_0x29aa56 => {
        if (_0x29aa56.isCluster) {
          return;
        }
        if (_0x409b6d?.isInView === true && !_0x29aa56.isInView(undefined, {
          inWindow: true
        })) {
          return;
        }
        _0x391765.push(_0x29aa56);
      });
      return _0x391765;
    }
    setOpacity(_0x142724) {
      this.options.opacity = _0x142724;
      this._graphicList.forEach(_0x4cae74 => {
        if (_0x4cae74.setOpacity) {
          _0x4cae74.setOpacity(_0x142724);
        }
      }, this);
      if (this._pointCluster) {
        this._pointCluster.setOpacity(_0x142724);
      }
    }
    addGraphic(_0x319807) {
      if (!this._createOK && this._mountedHook) {
        this._createOK = true;
        this._mountedHook();
      }
      if (Array.isArray(_0x319807)) {
        return this._addGraphicList(_0x319807);
      } else {
        return this._addGraphic(_0x319807);
      }
    }
    _checkGraphicId(_0x96d4c2) {
      const _0x44166d = this._graphicList.get(_0x96d4c2?.id);
      if (_0x44166d && _0x44166d !== _0x96d4c2) {
        _0x96d4c2.id = createGuid();
        if (!_0x96d4c2.isPrivate && !_0x96d4c2.parent) {
          logWarn("addGraphic:数据id存在冲突，已重新赋值id", _0x96d4c2);
        }
      }
    }
    _addGraphic(_0x50ce04, _0x1a9215 = true) {
      delete this._objectsToExclude_auto;
      if (!_0x50ce04._onAdd && (_0x50ce04.type || this.options.symbol)) {
        if (_0x1a9215 && this.options.symbol) {
          _0x50ce04 = mergeSymbolToGraphic(_0x50ce04, this.options.symbol);
        }
        _0x50ce04 = create$5(_0x50ce04.type, _0x50ce04);
      }
      if (_0x50ce04) {
        _0x50ce04._onAdd(this);
        this._graphicList.set(_0x50ce04.id, _0x50ce04);
        if (Cesium__namespace.defined(this.options.opacity) && this.options.opacity !== 1 && _0x50ce04.setOpacity) {
          _0x50ce04.setOpacity(this.options.opacity);
        }
        this._refreshCollisionCluster();
      }
      return _0x50ce04;
    }
    _addGraphicList(_0x46f395, _0x29c069 = {}) {
      const _0xb1988e = [];
      if (_0x46f395.length === 0) {
        return _0xb1988e;
      }
      const _0x358dc3 = this.options.graphicOptions;
      const _0x184fc9 = {};
      for (let _0x4d99a5 = 0, _0x556027 = _0x46f395.length; _0x4d99a5 < _0x556027; _0x4d99a5++) {
        let _0x5346a1 = _0x46f395[_0x4d99a5];
        if (this.options.filter) {
          try {
            if (isFunction(this.options.filter) && this.options.filter(_0x5346a1, _0x5346a1.attr) === false) {
              continue;
            }
            const _0x4087c7 = [];
            const _0x5b51bd = [];
            for (const _0x5bc1ec in _0x5346a1.attr) {
              _0x4087c7.push(_0x5bc1ec);
              _0x5b51bd.push(_0x5346a1.attr[_0x5bc1ec]);
            }
            if (isString(this.options.filter) && runJsForAttr(_0x5346a1.attr, this.options.filter) === false) {
              continue;
            }
          } catch (_0x400cd3) {
            logError("filter筛选出错，视为false已过滤", this.options.filter, _0x400cd3);
            continue;
          }
        }
        if (isCombineType(_0x5346a1.type) && _0x5346a1.instances) {
          if (!_0x5346a1._onAdd) {
            if (_0x358dc3) {
              _0x5346a1 = {
                ..._0x358dc3,
                ..._0x5346a1
              };
            }
            if (_0x29c069.onEachFeature) {
              _0x29c069.onEachFeature(_0x5346a1);
            }
          }
          const _0x4c4f68 = this._addGraphic(_0x5346a1, false);
          if (_0x4c4f68) {
            _0xb1988e.push(_0x4c4f68);
          }
          continue;
        }
        if (!_0x184fc9[_0x5346a1.type]) {
          _0x184fc9[_0x5346a1.type] = [];
        }
        _0x184fc9[_0x5346a1.type].push(_0x5346a1);
      }
      for (let _0x59e378 in _0x184fc9) {
        const _0x492b2a = _0x184fc9[_0x59e378];
        if (_0x29c069.toPrimitive && _0x492b2a.length > 10) {
          if (_0x59e378.endsWith("P")) {
            _0x59e378 = _0x59e378.substring(0, _0x59e378.length - 1);
          }
          const _0xc23a7c = _0x59e378 + "C";
          if (GraphicType[_0xc23a7c]) {
            _0x59e378 = _0xc23a7c;
          }
        }
        if (isCombineType(_0x59e378)) {
          const _0x146828 = {
            ..._0x358dc3
          };
          _0x146828.type = _0x59e378;
          _0x146828.instances = _0x492b2a;
          _0x146828.availability = _0x492b2a[0].availability;
          const _0x18d91c = _0x146828;
          if (_0x29c069.onEachFeature) {
            _0x29c069.onEachFeature(_0x18d91c);
          }
          const _0x54ee88 = this._addGraphic(_0x18d91c, false);
          if (_0x54ee88) {
            _0xb1988e.push(_0x54ee88);
          }
        } else {
          for (let _0x1840c9 = 0, _0x13b26b = _0x492b2a.length; _0x1840c9 < _0x13b26b; _0x1840c9++) {
            let _0x30be72 = _0x492b2a[_0x1840c9];
            if (!_0x30be72._onAdd) {
              if (_0x358dc3) {
                _0x30be72 = {
                  ..._0x358dc3,
                  ..._0x30be72
                };
              }
              if (_0x29c069.toPrimitive) {
                const _0x19222d = _0x30be72.type + "P";
                if (GraphicType[_0x19222d]) {
                  _0x30be72.type = _0x19222d;
                }
              }
              if (_0x29c069.onEachFeature) {
                _0x29c069.onEachFeature(_0x30be72);
              }
              if (this.options.onCreateGraphic) {
                const _0x40119d = this.options.onCreateGraphic(_0x30be72);
                if (_0x40119d) {
                  this.addGraphic(_0x40119d);
                  if (Array.isArray(_0x40119d)) {
                    _0xb1988e.push(..._0x40119d);
                  } else {
                    _0xb1988e.push(_0x40119d);
                  }
                }
                continue;
              }
            }
            const _0x248d9f = this._addGraphic(_0x30be72, false);
            if (_0x248d9f) {
              _0xb1988e.push(_0x248d9f);
            }
          }
        }
      }
      return _0xb1988e;
    }
    removeGraphic(_0x976eab, _0x34a6d3 = true) {
      this._removeGraphic(_0x976eab, _0x34a6d3);
      return this;
    }
    _removeGraphic(_0x55544c, _0x27a132, _0x3b58ef) {
      if (!_0x55544c || !_0x55544c._onRemove) {
        return this;
      }
      delete this._objectsToExclude_auto;
      if (!_0x3b58ef) {
        this._graphicList.remove(_0x55544c.id);
      }
      _0x55544c._onRemove();
      if (_0x27a132) {
        _0x55544c.destroy();
      }
      this._refreshCollisionCluster();
    }
    getGraphicById(_0x268b80) {
      return this._graphicList.get(_0x268b80);
    }
    getGraphicByAttr(_0x383b91, _0x4014c8) {
      return this._graphicList.getByAttr(_0x383b91, _0x4014c8, "attr");
    }
    getGraphicsByAttr(_0x285b8a, _0x7d8516) {
      return this._graphicList.getListByAttr(_0x285b8a, _0x7d8516, "attr");
    }
    getGraphicsByStyle(_0x2908cb, _0x2747db) {
      const _0x20cea8 = [];
      this._graphicList.forEach(_0x311e40 => {
        if (_0x311e40.style[_0x2908cb] === _0x2747db) {
          _0x20cea8.push(_0x311e40);
        }
      }, this);
      return _0x20cea8;
    }
    eachGraphic(_0x52ce62, _0xca09b8, _0x1b5c59) {
      this._graphicList.forEach(_0x52ce62, _0xca09b8 || this, _0x1b5c59);
      return this;
    }
    getGraphics(_0x371c6a = false) {
      var _0x3d0ddb;
      if ((_0x3d0ddb = this._otherLayer) !== null && _0x3d0ddb !== undefined && _0x3d0ddb._graphics) {
        return this._otherLayer._graphics;
      }
      if (_0x371c6a) {
        return this._graphicList.values;
      } else {
        const _0x4d9256 = [];
        this._graphicList.forEach(_0x4f6da3 => {
          if (!_0x4f6da3.isPrivate) {
            _0x4d9256.push(_0x4f6da3);
          }
        }, this);
        return _0x4d9256;
      }
    }
    getGraphicsByIds(_0x519e16) {
      const _0x240247 = [];
      _0x519e16.forEach(_0x53f894 => {
        const _0x2f9a0d = this._graphicList.get(_0x53f894);
        if (_0x2f9a0d) {
          _0x240247.push(_0x2f9a0d);
        }
      });
      return _0x240247;
    }
    getGraphicsTree(_0xd236ca = {}) {
      const _0x5e5431 = [];
      const _0x55d27f = {};
      let _0x1cac28 = true;
      this._graphicList.forEach(_0x34856e => {
        if (!_0x34856e.options || _0x34856e.isPrivate || _0x34856e.parent) {
          return;
        }
        const _0x1f9525 = {
          id: _0x34856e.id,
          pid: _0x34856e.pid,
          type: _0x34856e.type,
          name: _0x34856e.name ?? _0x34856e.attr?.NAME ?? _0x34856e.attr?.名称,
          show: _0x34856e.isAdded && _0x34856e.show,
          group: _0x34856e.type === "group" && _0x34856e.hasEmptyGroup,
          zIndex: _0x34856e.zIndex,
          attr: _0x34856e.attr
        };
        let _0x23eaaf = _0x1f9525;
        for (const _0x28df97 in _0x23eaaf) {
          const _0x1590ba = _0x23eaaf[_0x28df97];
          if (!Cesium__namespace.defined(_0x1590ba)) {
            delete _0x23eaaf[_0x28df97];
          }
        }
        if (_0xd236ca.forEach) {
          _0x23eaaf = _0xd236ca.forEach(_0x23eaaf, _0x34856e) ?? _0x23eaaf;
        }
        if (_0x23eaaf.group) {
          _0x1cac28 = false;
        }
        if (_0x55d27f[_0x23eaaf.id]) {
          logWarn("存在id重复的矢量对象配置，请排查!", _0x55d27f[_0x23eaaf.id], _0x23eaaf);
        }
        _0x55d27f[_0x23eaaf.id] = _0x23eaaf;
        delete _0x55d27f[_0x23eaaf.id].children;
        _0x5e5431.push(_0x23eaaf);
      }, this, true);
      let _0x1f44a5 = false;
      if (_0x1cac28 && _0xd236ca.autoGroup) {
        const _0x56adac = {};
        for (let _0x494d19 = _0x5e5431.length - 1; _0x494d19 >= 0; _0x494d19--) {
          const _0x2d14a0 = _0x5e5431[_0x494d19];
          let _0x1a8203;
          if (isString(_0xd236ca.autoGroup)) {
            _0x1a8203 = _0x2d14a0[_0xd236ca.autoGroup] || _0x2d14a0.attr[_0xd236ca.autoGroup];
          } else {
            _0x1a8203 = _0xd236ca.autoGroup(_0x2d14a0, _0x55d27f[_0x2d14a0.id]);
          }
          if (!_0x56adac[_0x1a8203]) {
            let _0x3bae5d = {
              id: createGuid(),
              type: "group",
              name: _0x1a8203,
              show: false,
              group: true
            };
            if (_0xd236ca.forEach) {
              _0x3bae5d = _0xd236ca.forEach(_0x3bae5d) ?? _0x3bae5d;
            }
            _0x5e5431.push(_0x3bae5d);
            _0x56adac[_0x1a8203] = _0x3bae5d.id;
            _0x55d27f[_0x3bae5d.id] = _0x3bae5d;
            _0x1f44a5 = true;
          }
          _0x2d14a0.pid = _0x56adac[_0x1a8203];
        }
      }
      function _0x289479(_0x2a0b9a, _0x109b32) {
        if (Cesium__namespace.defined(_0x109b32.zIndex)) {
          let _0x5c566a = false;
          for (let _0x27b603 = 0; _0x27b603 < _0x2a0b9a.length; _0x27b603++) {
            if (_0x109b32.zIndex > _0x2a0b9a[_0x27b603].zIndex) {
              _0x2a0b9a.splice(_0x27b603, 0, _0x109b32);
              _0x5c566a = true;
              break;
            }
          }
          if (!_0x5c566a) {
            _0x2a0b9a.push(_0x109b32);
          }
        } else {
          _0x2a0b9a.push(_0x109b32);
        }
      }
      const _0xd1f0d6 = [];
      _0x5e5431.forEach(function (_0x17d81b) {
        const _0x26e89c = _0x55d27f[_0x17d81b.pid];
        if (_0x26e89c) {
          if (!_0x26e89c.children) {
            _0x26e89c.children = [];
          }
          _0x289479(_0x26e89c.children, _0x17d81b);
        } else {
          delete _0x17d81b.pid;
          _0x289479(_0xd1f0d6, _0x17d81b);
        }
      });
      const _0x1b7985 = {
        list: _0x5e5431,
        tree: _0xd1f0d6,
        isAutoGroup: _0x1f44a5
      };
      return _0x1b7985;
    }
    clear(_0x39764d = true) {
      var _0x48f2fb;
      this.stopDraw();
      if (this._graphicList) {
        this._graphicList.forEach(_0x3e533c => {
          this._removeGraphic(_0x3e533c, _0x39764d, true);
        }, this);
        this._graphicList.removeAll();
      }
      if (this._dataSource) {
        this._dataSource.entities.removeAll();
      }
      if (this._primitiveCollection) {
        try {
          this._primitiveCollection.removeAll();
        } catch (_0x3c4023) {
          const _0x45c9ce = this._primitiveCollection._primitives;
          const _0x12bd63 = _0x45c9ce.length;
          for (let _0x548534 = 0; _0x548534 < _0x12bd63; ++_0x548534) {
            var _0x30560d;
            if ((_0x30560d = _0x45c9ce[_0x548534]) !== null && _0x30560d !== undefined && (_0x30560d = _0x30560d._external) !== null && _0x30560d !== undefined && _0x30560d._composites) {
              delete _0x45c9ce[_0x548534]._external._composites[this._guid];
              if (this._primitiveCollection.destroyPrimitives) {
                _0x45c9ce[_0x548534].destroy();
              }
            }
          }
          this._primitiveCollection._primitives = [];
        }
      }
      if (this._labelCollection) {
        this._labelCollection.removeAll();
      }
      if (this._billboardCollection) {
        this._billboardCollection.removeAll();
      }
      if (this._cloudCollection) {
        this._cloudCollection.removeAll();
      }
      if (this._pointCollection) {
        this._pointCollection.removeAll();
      }
      if (this._polylineCollection) {
        this._polylineCollection.removeAll();
      }
      if (this._pointCluster) {
        this._pointCluster.removeAll();
      }
      if (this._lights) {
        this._lights.removeAll();
      }
      if (this._visibilitys) {
        this._visibilitys.removeAll();
      }
      if ((_0x48f2fb = this._otherLayer) !== null && _0x48f2fb !== undefined && _0x48f2fb.clear) {
        this._otherLayer.clear();
      }
      this._closeAllControl();
    }
    autoSurfaceHeight(_0x3b7fa5 = {}) {
      return new Promise((_0x39f0df, _0x15a2c4) => {
        const _0x2ee356 = this.getGraphics();
        const _0x16d3b = _0x2ee356.length;
        let _0x4dd623 = -1;
        function _0x2eff5e() {
          _0x4dd623++;
          if (_0x4dd623 >= _0x16d3b) {
            if (_0x3b7fa5.end) {
              const _0x638cff = {
                index: _0x4dd623,
                count: _0x16d3b,
                graphics: _0x2ee356
              };
              _0x3b7fa5.end(_0x638cff);
            }
            _0x39f0df(_0x2ee356);
            return;
          }
          const _0x4741eb = _0x2ee356[_0x4dd623];
          if (_0x3b7fa5.filter && !_0x3b7fa5.filter(_0x4741eb, _0x4dd623)) {
            _0x2eff5e();
            return;
          }
          if (_0x4741eb.autoSurfaceHeight) {
            _0x4741eb.autoSurfaceHeight(_0x3b7fa5).then(() => {
              if (_0x3b7fa5.endItem) {
                const _0x2b4dd4 = {
                  graphic: _0x4741eb,
                  index: _0x4dd623,
                  count: _0x16d3b
                };
                _0x3b7fa5.endItem(_0x2b4dd4);
              }
              _0x2eff5e();
            });
          } else {
            if (_0x3b7fa5.endItem) {
              const _0x1fa6a3 = {
                graphic: _0x4741eb,
                index: _0x4dd623,
                count: _0x16d3b
              };
              _0x3b7fa5.endItem(_0x1fa6a3);
            }
            _0x2eff5e();
          }
        }
        _0x2eff5e();
      });
    }
    startDraw(_0x1de93b) {
      return new Promise((_0x821494, _0xd5f65f) => {
        this.stopDraw();
        if (!this._map) {
          throw new Error("startDraw:需要 map.addLayer(当前图层) 后，才行使用本方法");
        }
        const _0x1a6566 = {
          resolve: _0x821494,
          reject: _0xd5f65f
        };
        _0x1de93b._promise = _0x1a6566;
        const _0x56f6a7 = fromDraw(this, _0x1de93b);
        if (_0x56f6a7 != null) {
          this._graphic_drawing = _0x56f6a7;
          this._map._setDrawingLayer(this);
        }
      });
    }
    endDraw() {
      this.stopEditing();
      if (this._graphic_drawing) {
        const _0x30e62d = this._graphic_drawing.endDraw();
        if (_0x30e62d) {
          this._graphic_drawing = null;
        }
        return _0x30e62d;
      }
      return false;
    }
    stopDraw() {
      this.stopEditing();
      if (this._graphic_drawing) {
        this._graphic_drawing.stopDraw();
        this._graphic_drawing = null;
        this._refreshCollisionCluster();
        return true;
      } else {
        return false;
      }
    }
    clearDrawing() {
      if (this._graphic_drawing) {
        var _0xf6d4bf;
        var _0x5dc6f8;
        if ((_0xf6d4bf = this._graphic_drawing.options) !== null && _0xf6d4bf !== undefined && _0xf6d4bf.success) {
          delete this._graphic_drawing.options.success;
        }
        if ((_0x5dc6f8 = this._graphic_drawing.options) !== null && _0x5dc6f8 !== undefined && _0x5dc6f8._promise) {
          delete this._graphic_drawing.options._promise;
        }
        this._graphic_drawing.remove(true);
        this._graphic_drawing = null;
        return true;
      } else {
        return false;
      }
    }
    _bindEditEvent() {
      this._unbindEditEvent();
      this._map.on(EventType.click, this._onClickHandler, this);
      this._map.on(EventType.mouseMoveTarget, this._onMouseMoveHandler, this);
    }
    _unbindEditEvent() {
      this._map.off(EventType.click, this._onClickHandler, this);
      this._map.off(EventType.mouseMoveTarget, this._onMouseMoveHandler, this);
    }
    _onMouseMoveHandler(_0x3f1237) {
      if (!this.isAutoEditing) {
        return;
      }
      if (!this._map.scene.screenSpaceCameraController.enableInputs) {
        return;
      }
      let _0x4047de = _0x3f1237.graphic;
      if (!_0x4047de) {
        const _0x5ab6fe = this._map.mouseEvent.getPickTarget(_0x3f1237.endPosition, _0x3f1237);
        _0x4047de = _0x5ab6fe?.graphic;
      }
      if (_0x4047de == null || _0x4047de._layer !== this) {
        this._map.closeSmallTooltip();
        return;
      }
      if (_0x4047de._isDrawing || _0x4047de.isPrivate || !_0x4047de.hasEdit) {
        return;
      }
      if (this._map.contextmenu.show && this._map.contextmenu.target === _0x4047de) {
        return;
      }
      let _0xb55528 = this._map.getLangText("_单击后激活编辑");
      if (isPCBroswer() && (_0x4047de.options.hasEditContextMenu ?? true)) {
        _0xb55528 += "<br/>" + this._map.getLangText("_右击菜单删除");
      }
      this._map.openSmallTooltip(_0x3f1237.windowPosition, _0xb55528);
    }
    _onClickHandler(_0x59e486) {
      if (this._graphic_drawing) {
        return;
      }
      const _0x14d565 = _0x59e486.graphic;
      if (_0x14d565 && (_0x14d565.isPrivate || !_0x14d565.hasEdit)) {
        return;
      }
      if (this.isAutoEditing && _0x14d565 && _0x59e486.layer === this) {
        this.startEditing(_0x14d565, _0x59e486);
      } else {
        this.stopEditing();
      }
    }
    startEditing(_0x335248, _0x48cfa7) {
      if (!_0x335248 || !_0x335248.startEditing || !_0x335248.isAdded || !_0x335248.hasEdit) {
        return;
      }
      if (this._graphic_editing === _0x335248 || _0x335248._isDrawing) {
        return;
      }
      this.stopEditing();
      _0x335248.startEditing();
      if (_0x48cfa7 && _0x335248._draw_tooltip) {
        this._map.openSmallTooltip(_0x48cfa7.position, _0x335248._draw_tooltip);
      }
      this._graphic_editing = _0x335248;
      return this;
    }
    stopEditing() {
      if (this._graphic_editing) {
        this._graphic_editing.stopEditing();
        this._graphic_editing = null;
        this._refreshCollisionCluster();
      }
      return this;
    }
    get timeRange() {
      return this._getTimeRange();
    }
    get timeRangeStr() {
      return this._getTimeRange(true);
    }
    _getTimeRange(_0x1d4b94) {
      let _0x34ba5c;
      let _0x22a860;
      this.eachGraphic(_0x883554 => {
        const _0x32eaed = _0x883554.timeRange;
        if (_0x32eaed) {
          if (!_0x34ba5c || Cesium__namespace.JulianDate.lessThan(_0x32eaed.startTime, _0x34ba5c)) {
            _0x34ba5c = _0x32eaed.startTime;
          }
          if (!_0x22a860 || Cesium__namespace.JulianDate.greaterThan(_0x32eaed.stopTime, _0x22a860)) {
            _0x22a860 = _0x32eaed.stopTime;
          }
        }
      });
      if (!_0x34ba5c || !_0x22a860) {
        return;
      }
      if (_0x1d4b94) {
        return {
          startTime: formatDate(Cesium__namespace.JulianDate.toDate(_0x34ba5c)),
          stopTime: formatDate(Cesium__namespace.JulianDate.toDate(_0x22a860))
        };
      } else {
        const _0x4670a9 = {
          startTime: _0x34ba5c,
          stopTime: _0x22a860
        };
        return _0x4670a9;
      }
    }
    activateEdit() {
      this.isAutoEditing = true;
    }
    disableEdit() {
      this.isAutoEditing = false;
    }
  }
  register$3("graphic", GraphicLayer);
  class MatrixMove extends BaseThing {
    constructor(_0x51b0c2 = {}) {
      super(_0x51b0c2);
      this.options.radius = this.options.radius ?? 200;
      this.options.hasMiddle = this.options.hasMiddle ?? true;
      this.translation = new Cesium__namespace.Cartesian3(0, 0, 0);
      this.rotateMatrix = new Cesium__namespace.Matrix3(1, 0, 0, 0, 1, 0, 0, 0, 1);
      if (_0x51b0c2.position) {
        this.position = _0x51b0c2.position;
      }
    }
    get position() {
      return this._position;
    }
    set position(_0x17ca89) {
      this._position = LngLatPoint.toCartesian(_0x17ca89);
      this._initByPosition();
      this._updatePositionHook(true);
    }
    get isMoveing() {
      if (!this._map) {
        return false;
      }
      return this._hasChangeEnableInputs;
    }
    _mountedHook() {
      this._graphicLayer = new GraphicLayer({
        private: true
      });
    }
    _addedHook() {
      this._map.addLayer(this._graphicLayer);
      this._updatePositionHook(true);
      this._createGraphics();
      this._bindEvent();
    }
    _removedHook() {
      if (this._graphic_move_x) {
        delete this._graphic_move_x;
      }
      if (this._graphic_move_y) {
        delete this._graphic_move_y;
      }
      if (this._graphic_move_z) {
        delete this._graphic_move_z;
      }
      if (this._graphic_dragger_ing) {
        delete this._graphic_dragger_ing;
      }
      this._graphicLayer.clear();
      this._map.removeLayer(this._graphicLayer);
      this._unbindEvent();
    }
    _createGraphics() {
      this._graphicLayer.clear();
      const _0x24752b = {
        width: 15,
        arcType: Cesium__namespace.ArcType.NONE,
        materialType: PolylineArrow,
        color: Cesium__namespace.Color.RED,
        depthFail: true
      };
      const _0x41207e = {
        move: true,
        type: Cesium__namespace.Axis.X
      };
      this._graphic_move_x = new PolylinePrimitive({
        positions: this._positions_line_x,
        style: _0x24752b,
        attr: _0x41207e,
        asynchronous: false,
        private: true
      });
      this._graphicLayer.addGraphic(this._graphic_move_x);
      const _0x22b4ce = {
        width: 15,
        arcType: Cesium__namespace.ArcType.NONE,
        materialType: PolylineArrow,
        color: Cesium__namespace.Color.GREEN,
        depthFail: true
      };
      const _0x2505c6 = {
        move: true,
        type: Cesium__namespace.Axis.Y
      };
      this._graphic_move_y = new PolylinePrimitive({
        positions: this._positions_line_y,
        style: _0x22b4ce,
        attr: _0x2505c6,
        asynchronous: false,
        private: true
      });
      this._graphicLayer.addGraphic(this._graphic_move_y);
      const _0x212fa2 = {
        width: 15,
        arcType: Cesium__namespace.ArcType.NONE,
        materialType: PolylineArrow,
        color: Cesium__namespace.Color.BLUE,
        depthFail: true
      };
      const _0x94448 = {
        move: true,
        type: Cesium__namespace.Axis.Z
      };
      this._graphic_move_z = new PolylinePrimitive({
        positions: this._positions_line_z,
        style: _0x212fa2,
        attr: _0x94448,
        asynchronous: false,
        private: true
      });
      this._graphicLayer.addGraphic(this._graphic_move_z);
      const _0x368257 = {
        width: 3,
        arcType: Cesium__namespace.ArcType.NONE,
        materialType: PolylineDash,
        color: Cesium__namespace.Color.YELLOW,
        depthFail: true
      };
      const _0x323854 = {
        positions: [],
        style: _0x368257,
        asynchronous: false,
        private: true,
        show: false
      };
      this._graphic_dragger_ing = new PolylinePrimitive(_0x323854);
      this._graphicLayer.addGraphic(this._graphic_dragger_ing);
    }
    _initByPosition() {
      this.modelToWorld = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this.position);
      this.worldToModel = Cesium__namespace.Matrix4.inverse(this.modelToWorld, new Cesium__namespace.Matrix4());
      this.matrix = this.modelToWorld.clone();
      this.inverseMatrix = Cesium__namespace.Matrix4.inverse(this.matrix, new Cesium__namespace.Matrix4());
      this.normalX = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_X, new Cesium__namespace.Cartesian3());
      this.normalY = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_Y, new Cesium__namespace.Cartesian3());
      this.normalZ = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_Z, new Cesium__namespace.Cartesian3());
      this._positions_line_x = [];
      this._positions_line_y = [];
      this._positions_line_z = [];
    }
    _getFactor() {
      const _0x14b552 = new Cesium__namespace.Matrix4.multiplyByPoint(this._map.camera.viewMatrix, this.position, new Cesium__namespace.Cartesian3());
      let _0x5d22e1 = -_0x14b552.z * Math.tan(this._map.camera.frustum.fov / 2) * 2;
      if (!_0x5d22e1 || _0x5d22e1 < 100) {
        _0x5d22e1 = 100;
      }
      const _0x594031 = _0x5d22e1 / this._map.canvas.width;
      return _0x594031;
    }
    _updatePositionHook(_0xc99493) {
      if (!this._map || !this.position) {
        return;
      }
      const _0x3f1a19 = this.position.clone();
      if (_0xc99493) {
        this.radius = this.options.radius * this._getFactor();
      }
      this._positions_line_x = [_0x3f1a19, Cesium__namespace.Matrix4.multiplyByPoint(this.matrix, new Cesium__namespace.Cartesian3(this.radius, 0, 0), new Cesium__namespace.Cartesian3())];
      this._positions_line_y = [_0x3f1a19, Cesium__namespace.Matrix4.multiplyByPoint(this.matrix, new Cesium__namespace.Cartesian3(0, this.radius, 0), new Cesium__namespace.Cartesian3())];
      this._positions_line_z = [_0x3f1a19, Cesium__namespace.Matrix4.multiplyByPoint(this.matrix, new Cesium__namespace.Cartesian3(0, 0, this.radius), new Cesium__namespace.Cartesian3())];
      if (this._graphic_move_x) {
        this._graphic_move_x.positions = this._positions_line_x;
      }
      if (this._graphic_move_y) {
        this._graphic_move_y.positions = this._positions_line_y;
      }
      if (this._graphic_move_z) {
        this._graphic_move_z.positions = this._positions_line_z;
      }
    }
    _bindEvent() {
      this._graphicLayer.on(EventType.leftDown, this._onMap_leftDown, this);
      this._map.on(EventType.leftUp, this._onMap_leftUp, this);
      if (this.options.hasMiddle) {
        this._map.on(EventType.middleClick, this._onMap_middleClick, this);
      }
      this._map.on(EventType.wheel, this._onMap_wheel, this);
    }
    _unbindEvent() {
      this._graphicLayer.off(EventType.leftDown, this._onMap_leftDown, this);
      this._map.off(EventType.leftUp, this._onMap_leftUp, this);
      this._map.off(EventType.mouseMove, this._onMap_mouseMove, this);
      if (this.options.hasMiddle) {
        this._map.off(EventType.middleClick, this._onMap_middleClick, this);
      }
      this._map.off(EventType.wheel, this._onMap_wheel, this);
    }
    _onMap_leftDown(_0x5558a6) {
      this._graphic = undefined;
      if (_0x5558a6.layer !== this._graphicLayer) {
        return;
      }
      const _0x950829 = _0x5558a6.graphic;
      if (!_0x950829 || !_0x950829.attr.move && !_0x950829.attr.rotate) {
        return;
      }
      this._graphic = _0x950829;
      if (!_0x950829.style.color_bak) {
        _0x950829.style.color_bak = _0x950829.style.color;
      }
      const _0x588a7e = {
        color: Cesium__namespace.Color.YELLOW
      };
      _0x950829.setStyle(_0x588a7e);
      this._graphic_dragger_ing.positions = [this.position, this.position];
      this._graphic_dragger_ing.show = true;
      const _0x2a8a4b = this._graphic.attr.type;
      const _0x1bf4fe = {
        ..._0x5558a6
      };
      _0x1bf4fe.editType = _0x2a8a4b;
      _0x1bf4fe.graphic = _0x950829;
      this.fire(EventType.start, _0x1bf4fe);
      if (this._map.scene.screenSpaceCameraController.enableInputs) {
        this._map.scene.screenSpaceCameraController.enableInputs = false;
        this._hasChangeEnableInputs = true;
      }
      this._map.on(EventType.mouseMove, this._onMap_mouseMove, this);
    }
    _onMap_mouseMove(_0x1f4128) {
      if (!this._graphic) {
        return;
      }
      const _0x3e62fc = _0x1f4128.startPosition;
      const _0xbd3704 = _0x1f4128.endPosition;
      let _0x56b100;
      const _0x52f0bc = this._graphic.attr.type;
      if (_0x52f0bc === Cesium__namespace.Axis.X) {
        _0x56b100 = this.normalX;
      }
      if (_0x52f0bc === Cesium__namespace.Axis.Y) {
        _0x56b100 = this.normalY;
      }
      if (_0x52f0bc === Cesium__namespace.Axis.Z) {
        _0x56b100 = this.normalZ;
      }
      const _0x3b28dd = new Cesium__namespace.Cartesian3(_0xbd3704.x - _0x3e62fc.x, -(_0xbd3704.y - _0x3e62fc.y), 0);
      if (this._map.scene.mode === Cesium__namespace.SceneMode.SCENE2D) {
        _0x3b28dd.x = _0x3b28dd.x * -1;
      }
      const _0x58ceb1 = new Cesium__namespace.Matrix4.multiplyByPointAsVector(this._map.camera.inverseViewMatrix, _0x3b28dd, new Cesium__namespace.Cartesian3());
      const _0xada61c = Cesium__namespace.Cartesian3.dot(_0x58ceb1, _0x56b100) * this._getFactor();
      const _0xabb8c9 = Cesium__namespace.Cartographic.fromCartesian(this.position);
      let _0x395bb1 = new Cesium__namespace.Cartesian3(this.position.x + _0x56b100.x * _0xada61c, this.position.y + _0x56b100.y * _0xada61c, this.position.z + _0x56b100.z * _0xada61c);
      if (_0x52f0bc !== Cesium__namespace.Axis.Z) {
        _0x395bb1 = Cesium__namespace.Cartographic.fromCartesian(_0x395bb1);
        _0x395bb1.height = _0xabb8c9.height;
        if (_0x52f0bc === Cesium__namespace.Axis.X) {
          _0x395bb1.latitude = _0xabb8c9.latitude;
        } else {
          _0x395bb1.longitude = _0xabb8c9.longitude;
        }
        _0x395bb1 = Cesium__namespace.Cartesian3.fromRadians(_0x395bb1.longitude, _0x395bb1.latitude, _0x395bb1.height);
      }
      const _0x76fd0f = Cesium__namespace.Matrix4.multiplyByPoint(this.inverseMatrix, _0x395bb1, new Cesium__namespace.Cartesian3());
      Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, _0x76fd0f, _0x76fd0f);
      Cesium__namespace.Matrix4.multiplyByVector(this.worldToModel, new Cesium__namespace.Cartesian4(_0x76fd0f.x, _0x76fd0f.y, _0x76fd0f.z, 0), _0x76fd0f);
      Cesium__namespace.Cartesian3.add(this.translation, _0x76fd0f, this.translation);
      this.position = _0x395bb1;
      this.matrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this.position);
      Cesium__namespace.Matrix4.inverse(this.matrix, this.inverseMatrix);
      const _0x567bce = this.normalX;
      const _0x436447 = this.normalY;
      const _0x577ea0 = this.normalZ;
      this.normalX = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_X, new Cesium__namespace.Cartesian3());
      this.normalY = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_Y, new Cesium__namespace.Cartesian3());
      this.normalZ = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_Z, new Cesium__namespace.Cartesian3());
      if (_0x52f0bc === Cesium__namespace.Axis.X) {
        let _0x54f707 = Cesium__namespace.Cartesian3.angleBetween(_0x436447, this.normalY);
        let _0xd056f0 = Cesium__namespace.Cartesian3.angleBetween(_0x577ea0, this.normalZ);
        if (_0xada61c < 0) {
          _0xd056f0 = -_0xd056f0;
          _0x54f707 = -_0x54f707;
        }
        const _0xccc5b0 = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.worldToModel, _0x577ea0, new Cesium__namespace.Cartesian3());
        let _0x3c9714 = Cesium__namespace.Matrix3.inverse(this.rotateMatrix, new Cesium__namespace.Matrix3());
        let _0x2a5706 = Cesium__namespace.Matrix3.multiplyByVector(_0x3c9714, _0xccc5b0, new Cesium__namespace.Cartesian3());
        let _0x3d6c86 = this._axisRotation(_0x2a5706, _0x54f707);
        Cesium__namespace.Matrix3.multiply(this.rotateMatrix, _0x3d6c86, this.rotateMatrix);
        const _0x3d4bc7 = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.worldToModel, _0x436447, new Cesium__namespace.Cartesian3());
        _0x3c9714 = Cesium__namespace.Matrix3.inverse(this.rotateMatrix, new Cesium__namespace.Matrix3());
        _0x2a5706 = Cesium__namespace.Matrix3.multiplyByVector(_0x3c9714, _0x3d4bc7, new Cesium__namespace.Cartesian3());
        _0x3d6c86 = this._axisRotation(_0x2a5706, _0xd056f0);
        Cesium__namespace.Matrix3.multiply(this.rotateMatrix, _0x3d6c86, this.rotateMatrix);
      }
      if (_0x52f0bc === Cesium__namespace.Axis.Y) {
        let _0x41b7d6 = Cesium__namespace.Cartesian3.angleBetween(_0x577ea0, this.normalZ);
        if (_0xada61c > 0) {
          _0x41b7d6 = -_0x41b7d6;
        }
        const _0x4411b1 = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.worldToModel, _0x567bce, new Cesium__namespace.Cartesian3());
        const _0x513f3b = Cesium__namespace.Matrix3.inverse(this.rotateMatrix, new Cesium__namespace.Matrix3());
        const _0x51406f = Cesium__namespace.Matrix3.multiplyByVector(_0x513f3b, _0x4411b1, new Cesium__namespace.Cartesian3());
        const _0x4e7a04 = this._axisRotation(_0x51406f, _0x41b7d6);
        Cesium__namespace.Matrix3.multiply(this.rotateMatrix, _0x4e7a04, this.rotateMatrix);
      }
      this._graphic_dragger_ing.positions = [this._graphic_dragger_ing.positions[0], _0x395bb1];
      this._updatePositionHook();
      const _0x3f3e63 = {
        ..._0x1f4128
      };
      _0x3f3e63.editType = _0x52f0bc;
      _0x3f3e63.position = _0x395bb1;
      const _0x41c546 = _0x3f3e63;
      this.onChange(_0x41c546);
    }
    _onMap_leftUp(_0x1ce523) {
      if (!this._graphic) {
        return;
      }
      this._graphic.setStyle({
        color: this._graphic.style.color_bak
      });
      this._graphic = null;
      this._graphic_dragger_ing.positions = [];
      this._graphic_dragger_ing.show = false;
      if (this._hasChangeEnableInputs) {
        this._map.scene.screenSpaceCameraController.enableInputs = true;
        delete this._hasChangeEnableInputs;
      }
      this._map.off(EventType.mouseMove, this._onMap_mouseMove, this);
      this.fire(EventType.stop, _0x1ce523);
    }
    _axisRotation(_0x574ace, _0x19de10, _0x5d2d7e) {
      let _0x48cfcc = _0x574ace.x;
      let _0x253cb3 = _0x574ace.y;
      let _0x3d61c1 = _0x574ace.z;
      const _0x265b35 = Math.sqrt(_0x48cfcc * _0x48cfcc + _0x253cb3 * _0x253cb3 + _0x3d61c1 * _0x3d61c1);
      _0x48cfcc = _0x48cfcc / _0x265b35;
      _0x253cb3 = _0x253cb3 / _0x265b35;
      _0x3d61c1 = _0x3d61c1 / _0x265b35;
      const _0x1b28f9 = _0x48cfcc * _0x48cfcc;
      const _0x44c4d3 = _0x253cb3 * _0x253cb3;
      const _0x5a77c4 = _0x3d61c1 * _0x3d61c1;
      const _0x5798df = Math.cos(_0x19de10);
      const _0x1c3639 = Math.sin(_0x19de10);
      const _0x28d764 = 1 - _0x5798df;
      _0x5d2d7e = _0x5d2d7e || new Cesium__namespace.Matrix3();
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN0ROW0] = _0x1b28f9 + (1 - _0x1b28f9) * _0x5798df;
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN0ROW1] = _0x48cfcc * _0x253cb3 * _0x28d764 + _0x3d61c1 * _0x1c3639;
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN0ROW2] = _0x48cfcc * _0x3d61c1 * _0x28d764 - _0x253cb3 * _0x1c3639;
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN1ROW0] = _0x48cfcc * _0x253cb3 * _0x28d764 - _0x3d61c1 * _0x1c3639;
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN1ROW1] = _0x44c4d3 + (1 - _0x44c4d3) * _0x5798df;
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN1ROW2] = _0x253cb3 * _0x3d61c1 * _0x28d764 + _0x48cfcc * _0x1c3639;
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN2ROW0] = _0x48cfcc * _0x3d61c1 * _0x28d764 + _0x253cb3 * _0x1c3639;
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN2ROW1] = _0x253cb3 * _0x3d61c1 * _0x28d764 - _0x48cfcc * _0x1c3639;
      _0x5d2d7e[Cesium__namespace.Matrix3.COLUMN2ROW2] = _0x5a77c4 + (1 - _0x5a77c4) * _0x5798df;
      return _0x5d2d7e;
    }
    _onMap_wheel() {
      this._updatePositionHook(true);
    }
    _onMap_middleClick(_0x2bda31) {
      const _0x4d8ee1 = this._map.scene.pickPosition(_0x2bda31.position);
      if (_0x4d8ee1) {
        this.position = _0x4d8ee1;
        this.matrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this.position);
        Cesium__namespace.Matrix4.inverse(this.matrix, this.inverseMatrix);
        this._updatePositionHook();
      }
    }
    onChange(_0x27e64d) {
      if (this.options.onChange) {
        this.options.onChange(_0x27e64d);
      }
      this.fire(EventType.change, _0x27e64d, true);
    }
  }
  class MatrixRotate extends MatrixMove {
    get heading() {
      return this.options.heading ?? 0;
    }
    set heading(_0x582ef2) {
      this.options.heading = _0x582ef2;
    }
    get pitch() {
      return this.options.pitch ?? 0;
    }
    set pitch(_0x3d513c) {
      this.options.pitch = _0x3d513c;
    }
    get roll() {
      return this.options.roll ?? 0;
    }
    set roll(_0x52f891) {
      this.options.roll = _0x52f891;
    }
    _removedHook() {
      delete this._graphic_rotate_z;
      delete this._graphic_rotate_x;
      delete this._graphic_rotate_y;
      super._removedHook();
    }
    _createGraphics() {
      this._graphicLayer.clear();
      this._graphic_rotate_x = new PolylinePrimitive({
        positions: this._positions_circle_x,
        style: {
          width: 8,
          color: Cesium__namespace.Color.RED,
          depthFail: true,
          depthFailColor: Cesium__namespace.Color.RED.withAlpha(0.5)
        },
        attr: {
          rotate: true,
          type: Cesium__namespace.Axis.X
        },
        asynchronous: false
      });
      this._graphicLayer.addGraphic(this._graphic_rotate_x);
      this._graphic_rotate_y = new PolylinePrimitive({
        positions: this._positions_circle_y,
        style: {
          width: 8,
          color: Cesium__namespace.Color.GREEN,
          depthFail: true,
          depthFailColor: Cesium__namespace.Color.GREEN.withAlpha(0.5)
        },
        attr: {
          rotate: true,
          type: Cesium__namespace.Axis.Y
        },
        asynchronous: false
      });
      this._graphicLayer.addGraphic(this._graphic_rotate_y);
      this._graphic_rotate_z = new PolylinePrimitive({
        positions: this._positions_circle_z,
        style: {
          width: 8,
          color: Cesium__namespace.Color.BLUE,
          depthFail: true,
          depthFailColor: Cesium__namespace.Color.BLUE.withAlpha(0.5)
        },
        attr: {
          rotate: true,
          type: Cesium__namespace.Axis.Z
        },
        asynchronous: false
      });
      this._graphicLayer.addGraphic(this._graphic_rotate_z);
      const _0x1aad38 = {
        width: 3,
        arcType: Cesium__namespace.ArcType.NONE,
        materialType: PolylineDash,
        color: Cesium__namespace.Color.YELLOW,
        depthFail: true
      };
      const _0x5e5b3b = {
        positions: [],
        style: _0x1aad38,
        asynchronous: false,
        show: false
      };
      this._graphic_dragger_ing = new PolylinePrimitive(_0x5e5b3b);
      this._graphicLayer.addGraphic(this._graphic_dragger_ing);
    }
    _initByPosition() {
      this.modelToWorld = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this.position);
      this.worldToModel = Cesium__namespace.Matrix4.inverse(this.modelToWorld, new Cesium__namespace.Matrix4());
      this.matrix = this.modelToWorld.clone();
      this.inverseMatrix = Cesium__namespace.Matrix4.inverse(this.matrix, new Cesium__namespace.Matrix4());
      this.normalX = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_X, new Cesium__namespace.Cartesian3());
      this.normalY = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_Y, new Cesium__namespace.Cartesian3());
      this.normalZ = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, Cesium__namespace.Cartesian3.UNIT_Z, new Cesium__namespace.Cartesian3());
      this._positions_circle_z = [];
      this._positions_circle_x = [];
      this._positions_circle_y = [];
    }
    _updatePositionHook(_0x23ad09) {
      if (!this._map) {
        return;
      }
      const _0x3b8dd1 = this.position.clone();
      if (_0x23ad09) {
        const _0xd68728 = new Cesium__namespace.Matrix4.multiplyByPoint(this._map.camera.viewMatrix, _0x3b8dd1, new Cesium__namespace.Cartesian3());
        const _0x49e42c = -_0xd68728.z * Math.tan(this._map.camera.frustum.fov / 2) * 2;
        const _0x28c3a6 = _0x49e42c / this._map.canvas.width;
        this.radius = this.options.radius * _0x28c3a6;
      }
      this._positions_circle_z = [];
      this._positions_circle_x = [];
      this._positions_circle_y = [];
      for (let _0x23ed14 = 0; _0x23ed14 <= 360; _0x23ed14++) {
        const _0x48da42 = this.radius * Math.cos(_0x23ed14 / 180 * Math.PI);
        const _0x359592 = this.radius * Math.sin(_0x23ed14 / 180 * Math.PI);
        const _0x534945 = new Cesium__namespace.Cartesian3();
        Cesium__namespace.Cartesian3.add(_0x3b8dd1, Cesium__namespace.Cartesian3.multiplyByScalar(this.normalX, _0x48da42, new Cesium__namespace.Cartesian3()), _0x534945);
        Cesium__namespace.Cartesian3.add(_0x534945, Cesium__namespace.Cartesian3.multiplyByScalar(this.normalY, _0x359592, new Cesium__namespace.Cartesian3()), _0x534945);
        this._positions_circle_z.push(_0x534945);
        const _0x421c40 = new Cesium__namespace.Cartesian3();
        Cesium__namespace.Cartesian3.add(_0x3b8dd1, Cesium__namespace.Cartesian3.multiplyByScalar(this.normalX, _0x48da42, new Cesium__namespace.Cartesian3()), _0x421c40);
        Cesium__namespace.Cartesian3.add(_0x421c40, Cesium__namespace.Cartesian3.multiplyByScalar(this.normalZ, _0x359592, new Cesium__namespace.Cartesian3()), _0x421c40);
        this._positions_circle_x.push(_0x421c40);
        const _0xaee30c = new Cesium__namespace.Cartesian3();
        Cesium__namespace.Cartesian3.add(_0x3b8dd1, Cesium__namespace.Cartesian3.multiplyByScalar(this.normalY, _0x48da42, new Cesium__namespace.Cartesian3()), _0xaee30c);
        Cesium__namespace.Cartesian3.add(_0xaee30c, Cesium__namespace.Cartesian3.multiplyByScalar(this.normalZ, _0x359592, new Cesium__namespace.Cartesian3()), _0xaee30c);
        this._positions_circle_y.push(_0xaee30c);
      }
      if (this._graphic_rotate_z) {
        this._graphic_rotate_z.positions = this._positions_circle_z;
      }
      if (this._graphic_rotate_x) {
        this._graphic_rotate_x.positions = this._positions_circle_x;
      }
      if (this._graphic_rotate_y) {
        this._graphic_rotate_y.positions = this._positions_circle_y;
      }
    }
    _onMap_mouseMove(_0x48b09d) {
      const _0x5265ac = _0x48b09d.startPosition;
      const _0x45c62f = _0x48b09d.endPosition;
      const _0x26b390 = new Cesium__namespace.Matrix4.multiplyByPoint(this._map.camera.viewMatrix, this.position, new Cesium__namespace.Cartesian3());
      const _0x290e1b = -_0x26b390.z * Math.tan(this._map.camera.frustum.fov / 2) * 2;
      let _0x2f4ba1 = _0x290e1b / this._map.canvas.width;
      const _0x3a39ee = new Cesium__namespace.Cartesian3(1, 1, 1);
      let _0x2fbe84;
      const _0x554aaf = this._graphic.attr.type;
      if (_0x554aaf === Cesium__namespace.Axis.Z) {
        _0x3a39ee.z = 0;
        _0x2fbe84 = Cesium__namespace.Cartesian3.angleBetween(Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, new Cesium__namespace.Cartesian3(0, 0, 1), new Cesium__namespace.Cartesian3()), this._map.camera.direction);
      }
      if (_0x554aaf === Cesium__namespace.Axis.X) {
        _0x3a39ee.y = 0;
        _0x2fbe84 = Cesium__namespace.Cartesian3.angleBetween(Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, new Cesium__namespace.Cartesian3(0, 1, 0), new Cesium__namespace.Cartesian3()), this._map.camera.direction);
      }
      if (_0x554aaf === Cesium__namespace.Axis.Y) {
        _0x3a39ee.x = 0;
        _0x2fbe84 = Cesium__namespace.Cartesian3.angleBetween(Cesium__namespace.Matrix4.multiplyByPointAsVector(this.matrix, new Cesium__namespace.Cartesian3(1, 0, 0), new Cesium__namespace.Cartesian3()), this._map.camera.direction);
      }
      if (Math.abs(_0x2fbe84 - Math.PI / 2) < 0.1) {
        _0x2f4ba1 = 1;
        _0x26b390.z = 0;
      }
      let _0x44207b = new Cesium__namespace.Cartesian3((_0x5265ac.x - this._map.canvas.width / 2) * _0x2f4ba1, (-_0x5265ac.y + this._map.canvas.height / 2) * _0x2f4ba1, _0x26b390.z);
      let _0x432742 = new Cesium__namespace.Cartesian3((_0x45c62f.x - this._map.canvas.width / 2) * _0x2f4ba1, (-_0x45c62f.y + this._map.canvas.height / 2) * _0x2f4ba1, _0x26b390.z);
      Cesium__namespace.Matrix4.multiplyByPoint(this._map.camera.inverseViewMatrix, _0x44207b, _0x44207b);
      Cesium__namespace.Matrix4.multiplyByPoint(this._map.camera.inverseViewMatrix, _0x432742, _0x432742);
      Cesium__namespace.Matrix4.multiplyByPoint(this.inverseMatrix, _0x44207b, _0x44207b);
      Cesium__namespace.Matrix4.multiplyByPoint(this.inverseMatrix, _0x432742, _0x432742);
      _0x44207b = new Cesium__namespace.Cartesian3(_0x44207b.x * _0x3a39ee.x, _0x44207b.y * _0x3a39ee.y, _0x44207b.z * _0x3a39ee.z);
      _0x432742 = new Cesium__namespace.Cartesian3(_0x432742.x * _0x3a39ee.x, _0x432742.y * _0x3a39ee.y, _0x432742.z * _0x3a39ee.z);
      _0x2fbe84 = Cesium__namespace.Cartesian3.angleBetween(_0x44207b, _0x432742);
      let _0x2d63b5;
      if (_0x554aaf === Cesium__namespace.Axis.Z) {
        const _0x391f07 = _0x44207b.x * _0x432742.y - _0x44207b.y * _0x432742.x;
        _0x2d63b5 = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.worldToModel, this.normalZ, new Cesium__namespace.Cartesian3());
        if (_0x391f07 > 0) {
          _0x2fbe84 = -_0x2fbe84;
        }
        this.heading = (this.heading + Cesium__namespace.Math.toDegrees(_0x2fbe84)) % 360;
      } else if (_0x554aaf === Cesium__namespace.Axis.X) {
        const _0xf0c5d4 = _0x44207b.x * _0x432742.z - _0x44207b.z * _0x432742.x;
        _0x2d63b5 = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.worldToModel, this.normalY, new Cesium__namespace.Cartesian3());
        if (_0xf0c5d4 > 0) {
          _0x2fbe84 = -_0x2fbe84;
        }
        this.pitch = (this.pitch + Cesium__namespace.Math.toDegrees(_0x2fbe84)) % 360;
      } else if (_0x554aaf === Cesium__namespace.Axis.Y) {
        const _0x4b42d9 = _0x44207b.y * _0x432742.z - _0x44207b.z * _0x432742.y;
        _0x2d63b5 = Cesium__namespace.Matrix4.multiplyByPointAsVector(this.worldToModel, this.normalX, new Cesium__namespace.Cartesian3());
        if (_0x4b42d9 < 0) {
          _0x2fbe84 = -_0x2fbe84;
        }
        this.roll = (this.roll + Cesium__namespace.Math.toDegrees(_0x2fbe84)) % 360;
      }
      const _0x306d1d = Cesium__namespace.Matrix3.inverse(this.rotateMatrix, new Cesium__namespace.Matrix3());
      const _0x537f54 = Cesium__namespace.Matrix3.multiplyByVector(_0x306d1d, _0x2d63b5, new Cesium__namespace.Cartesian3());
      const _0x137773 = this._axisRotation(_0x537f54, _0x2fbe84);
      Cesium__namespace.Matrix3.multiply(this.rotateMatrix, _0x137773, this.rotateMatrix);
      const _0x4b6335 = {
        ..._0x48b09d
      };
      _0x4b6335.editType = _0x554aaf;
      _0x4b6335.position = this.position;
      _0x4b6335.heading = this.heading;
      _0x4b6335.pitch = this.pitch;
      _0x4b6335.roll = this.roll;
      const _0x22efd7 = _0x4b6335;
      this.onChange(_0x22efd7);
    }
    _onMap_middleClick(_0x189f53) {}
  }
  class EditBase {
    constructor(_0x4f820f) {
      this._graphic = _0x4f820f;
      this._map = _0x4f820f._map;
      this.draggers = [];
    }
    get enabled() {
      return this._enabled;
    }
    get map() {
      return this._map;
    }
    get layer() {
      return this._graphic._layer;
    }
    get type() {
      return this._graphic.type;
    }
    get style() {
      return this._graphic.style;
    }
    get options() {
      return this._graphic.options;
    }
    get clampToGround() {
      var _0x5b05c4;
      if ((_0x5b05c4 = this._graphic) === null || _0x5b05c4 === undefined || (_0x5b05c4 = _0x5b05c4.style) === null || _0x5b05c4 === undefined) {
        return undefined;
      } else {
        return _0x5b05c4.clampToGround;
      }
    }
    get entityGraphic() {
      return this._graphic.entityGraphic;
    }
    get hasRotateMatrix() {
      return Boolean(this._matrixRotate);
    }
    get hasMoveMatrix() {
      return Boolean(this._matrixMove);
    }
    get isScene2D() {
      return this._map.scene.mode === Cesium__namespace.SceneMode.SCENE2D;
    }
    get minPointNum() {
      return this._graphic._minPointNum;
    }
    get maxPointNum() {
      return this._graphic._maxPointNum;
    }
    get hasDelPoint() {
      return !this._graphic.isPoint;
    }
    fire(_0x3b932d, _0x43d2a8 = {}) {
      if (!this._graphic.enabledEvent) {
        return;
      }
      if (this._graphic) {
        const _0x530484 = this._graphic.parent;
        if (_0x530484) {
          _0x43d2a8.editType = this.type;
          this._graphic.fire(_0x3b932d, _0x43d2a8, !this._graphic.isPrivate);
          _0x43d2a8.editType = _0x530484.type;
          _0x530484.fire(_0x3b932d, _0x43d2a8, true);
        } else {
          _0x43d2a8.editType = this.type;
          this._graphic.fire(_0x3b932d, _0x43d2a8, true);
        }
      }
    }
    formatNum(_0x2424dc, _0x4f5d50) {
      return formatNum$1(_0x2424dc, _0x4f5d50);
    }
    activate() {
      if (this._enabled) {
        return this;
      }
      this._enabled = true;
      if (this._graphic._setPositionsToCallback) {
        this._graphic._setPositionsToCallback();
      }
      this.destroyDraggers();
      this.bindDraggers();
      this.bindEvent();
      if (this.options.hasEditRevoke ?? true) {
        if (this.position && this.position.clone) {
          this._position_steps = [this.position.clone()];
          this._position_first = this._position_steps[0];
        } else if (this.positions && this.positions.length > 0) {
          this._positions_steps = [clonePostions(this.positions)];
          this._positions_first = this._positions_steps[0];
        }
      }
      this.fire(EventType.editStart);
      return this;
    }
    disable() {
      var _0x415b0c;
      if (!this._enabled) {
        return this;
      }
      this._enabled = false;
      this.stopMoveMatrix();
      this.stopRotateMatrix();
      this.unbindEvent();
      this.destroyDraggers();
      this.finish();
      delete this._position_first;
      delete this._position_steps;
      delete this._positions_first;
      delete this._positions_steps;
      if ((_0x415b0c = this._graphic) !== null && _0x415b0c !== undefined && _0x415b0c._autoCancelPositionsCallback) {
        this._graphic._autoCancelPositionsCallback();
      }
      this.fire(EventType.editStop);
      return this;
    }
    hasRestore() {
      if (this._position_first) {
        return !this._position_first.equals(this.position);
      } else if (this._positions_first) {
        const _0x1f46e5 = this._positions_first;
        const _0x14caf5 = this.positions;
        if (_0x1f46e5.length !== _0x14caf5.length) {
          return true;
        }
        for (let _0x33b76c = 0; _0x33b76c < _0x14caf5.length; _0x33b76c++) {
          if (!_0x14caf5[_0x33b76c].equals(_0x1f46e5[_0x33b76c])) {
            return true;
          }
        }
      }
      return false;
    }
    restore() {
      let _0x5a73a8 = false;
      if (this._position_first) {
        this.position = this._position_first.clone();
        this._position_steps = [this._position_steps[0]];
        _0x5a73a8 = true;
      } else if (this._positions_first) {
        this.positions = clonePostions(this._positions_first);
        this._positions_steps = [this._positions_steps[0]];
        _0x5a73a8 = true;
      }
      if (_0x5a73a8) {
        this.updateDraggers();
        this.updateAttrForEditing();
        this.fire(EventType.editMovePoint, {
          tag: "restore"
        });
      }
      return _0x5a73a8;
    }
    hasRevoke() {
      if (this._position_steps) {
        return this._position_steps.length > 1;
      } else if (this._positions_steps) {
        return this._positions_steps.length > 1;
      }
      return this;
    }
    revoke() {
      let _0x5c238f = false;
      if (this._position_steps) {
        if (this._position_steps.length > 1) {
          this._position_steps.pop();
          const _0x570209 = this._position_steps[this._position_steps.length - 1];
          if (_0x570209) {
            this.position = _0x570209.clone();
          }
          _0x5c238f = true;
        }
      } else if (this._positions_steps) {
        if (this._positions_steps.length > 1) {
          this._positions_steps.pop();
          const _0xa56c97 = this._positions_steps[this._positions_steps.length - 1];
          if (_0xa56c97?.length > 0) {
            this.positions = clonePostions(_0xa56c97);
          }
          _0x5c238f = true;
        }
      }
      if (_0x5c238f) {
        this.updateDraggers();
        this.updateAttrForEditing();
        this.fire(EventType.editMovePoint, {
          tag: "revoke"
        });
      }
      return _0x5c238f;
    }
    finish() {}
    bindEvent() {
      var _0xcb4275;
      this._map.on(EventType.leftDown, this._onLeftDownHandler, this);
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.on(EventType.leftUp, this._onLeftUpHandler, this);
      if (((_0xcb4275 = this.entityGraphic) === null || _0xcb4275 === undefined || (_0xcb4275 = _0xcb4275.disableDepthTestDistance) === null || _0xcb4275 === undefined ? undefined : _0xcb4275._value) === Number.POSITIVE_INFINITY) {
        this.entityGraphic.disableDepthTestDistance = 0;
        this._last_visibleDepth_update = true;
      }
    }
    unbindEvent() {
      this._map.off(EventType.leftDown, this._onLeftDownHandler, this);
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.off(EventType.leftUp, this._onLeftUpHandler, this);
      if (this._hasChangeEnableInputs) {
        this._map.scene.screenSpaceCameraController.enableInputs = true;
        delete this._hasChangeEnableInputs;
      }
      this._map._setEditCursor(false);
      this._updateDraggerIngShow(this._graphic, true);
      if (this._last_visibleDepth_update) {
        this.entityGraphic.disableDepthTestDistance = Number.POSITIVE_INFINITY;
        delete this._last_visibleDepth_update;
      }
    }
    _updateDraggerIngShow(_0x509934, _0x3c21a8) {
      if (!_0x509934._updateCzmObjectShow || _0x509934.isDestroy) {
        return;
      }
      if (_0x509934.isPrivate || _0x509934.options?.drawShow === false) {
        _0x509934._updateCzmObjectShow(_0x3c21a8);
      }
    }
    _onLeftDownHandler(_0x468793) {
      const _0x256b43 = this._map.mouseEvent.getPickTarget(_0x468793.position, _0x468793);
      if (_0x256b43.layer !== this.layer) {
        return;
      }
      const _0x13cf30 = _0x256b43?.graphic;
      if (!_0x13cf30 || !_0x13cf30._isDragger) {
        return;
      }
      if (this._map.scene.screenSpaceCameraController.enableInputs) {
        this._map.scene.screenSpaceCameraController.enableInputs = false;
        this._hasChangeEnableInputs = true;
      }
      this._map._setEditCursor(true);
      _0x13cf30._closeAllControl();
      this._updateDraggerIngShow(_0x13cf30, _0x13cf30.options.drawShow ?? true);
      this._draggerIng = _0x13cf30;
      if (_0x13cf30.onDragStart) {
        _0x13cf30.onDragStart(_0x13cf30, _0x256b43.cartesian || _0x13cf30.position);
      }
      this.fire(EventType.editMouseDown, {
        ..._0x468793,
        ..._0x256b43,
        index: this._draggerIng.index
      });
    }
    _onMouseMoveHandler(_0x2789c1) {
      if (this._draggerIng) {
        this._onMouseMoveDraggerHandler(_0x2789c1);
      } else {
        this._onMouseMoveMapHandler(_0x2789c1);
      }
    }
    _onMouseMoveDraggerHandler(_0x4ee9f1) {
      let _0x30d85b;
      switch (this._draggerIng._pointType) {
        case EditPointType.MoveHeight:
          {
            var _0x31610e;
            const _0x239a47 = _0x4ee9f1.endPosition.y - _0x4ee9f1.startPosition.y;
            const _0x3136b8 = getPositionValue(this._draggerIng.position, (_0x31610e = this._map) === null || _0x31610e === undefined ? undefined : _0x31610e.clock.currentTime);
            const _0x1f6688 = new Cesium__namespace.EllipsoidTangentPlane(_0x3136b8);
            const _0x4950eb = new Cesium__namespace.BoundingSphere();
            const _0xeb636a = new Cesium__namespace.Cartesian3();
            _0x4950eb.center = _0x3136b8;
            _0x4950eb.radius = 1;
            const _0x8ee050 = this._map.scene.frameState.camera.getPixelSize(_0x4950eb, this._map.scene.frameState.context.drawingBufferWidth, this._map.scene.frameState.context.drawingBufferHeight) * 1.5;
            Cesium__namespace.Cartesian3.multiplyByScalar(_0x1f6688.zAxis, -_0x239a47 * _0x8ee050, _0xeb636a);
            _0x30d85b = Cesium__namespace.Cartesian3.clone(_0x3136b8);
            Cesium__namespace.Cartesian3.add(_0x3136b8, _0xeb636a, _0x30d85b);
            this._draggerIng.position = _0x30d85b;
            if (this._draggerIng.onDrag) {
              this._draggerIng.onDrag(this._draggerIng, _0x30d85b, _0x3136b8);
            }
            this.updateAttrForEditing();
            this.fire(EventType.editStyle, _0x4ee9f1);
            break;
          }
        default:
          {
            let _0x1fdfa0 = this._map.getLangText("_释放后完成修改");
            if (this._graphic._getExSmallTooltip && this._draggerIng._pointType === EditPointType.Control) {
              _0x4ee9f1.index = this._draggerIng.index;
              _0x1fdfa0 += this._graphic._getExSmallTooltip(_0x4ee9f1);
            }
            this._map.openSmallTooltip(_0x4ee9f1.endPosition, _0x1fdfa0);
            if (this._draggerIng._pointType === EditPointType.MoveAll) {
              _0x30d85b = getCurrentMouseTerrainPosition(this._map.scene, _0x4ee9f1.endPosition);
            } else {
              _0x30d85b = this._map.mouseEvent.getCurrentMousePosition(_0x4ee9f1.endPosition);
            }
            if (_0x30d85b) {
              if (this.options.updateDrawPosition) {
                _0x30d85b = this.options.updateDrawPosition(_0x30d85b, this);
                if (!_0x30d85b) {
                  return;
                }
              }
              if (this.options.validDrawPosition) {
                const _0x4b77c4 = this.options.validDrawPosition(_0x30d85b, this._graphic);
                if (!_0x4b77c4) {
                  return;
                }
              }
              this._draggerIng.position = _0x30d85b;
              if (this._draggerIng.onDrag) {
                this._draggerIng.onDrag(this._draggerIng, _0x30d85b);
              }
              this.updateAttrForEditing();
            }
          }
          break;
      }
      this.fire(EventType.editMouseMove, {
        ..._0x4ee9f1,
        index: this._draggerIng.index,
        cartesian: _0x30d85b,
        windowPosition: _0x4ee9f1.endPosition
      });
    }
    _onMouseMoveMapHandler(_0x176897) {
      const _0x45db11 = this._map.mouseEvent.getPickTarget(_0x176897.endPosition, _0x176897);
      const _0x5516aa = _0x45db11?.graphic;
      if (_0x5516aa == null) {
        this._map.closeSmallTooltip();
        return;
      }
      if (_0x45db11.layer !== this.layer || !_0x5516aa._isDragger) {
        return;
      }
      if (this._map.contextmenu.show && this._map.contextmenu.target === _0x5516aa) {
        return;
      }
      const _0x1fe78d = _0x5516aa._draw_tooltip;
      if (_0x1fe78d) {
        this._map.openSmallTooltip(_0x176897.endPosition, _0x1fe78d);
      }
    }
    _onLeftUpHandler(_0x1d1cb4) {
      var _0x3897a0;
      if (!this._draggerIng || !this._map) {
        return;
      }
      this._updateDraggerIngShow(this._draggerIng, true);
      const _0x5e244d = getPositionValue(this._draggerIng.position, (_0x3897a0 = this._map) === null || _0x3897a0 === undefined ? undefined : _0x3897a0.clock.currentTime);
      const _0x9c8d72 = this._draggerIng.index;
      if (this._draggerIng.onDragEnd) {
        this._draggerIng.onDragEnd(this._draggerIng, _0x5e244d);
      }
      this.updateAttrForEditing();
      const _0x3b4f89 = {
        ..._0x1d1cb4
      };
      _0x3b4f89.index = _0x9c8d72;
      _0x3b4f89.cartesian = _0x5e244d;
      this.fire(EventType.editMovePoint, _0x3b4f89);
      if (!this._map) {
        return;
      }
      this._draggerIng = null;
      this._map._setEditCursor(false);
      if (this._hasChangeEnableInputs) {
        this._map.scene.screenSpaceCameraController.enableInputs = true;
        delete this._hasChangeEnableInputs;
      }
      this._editPositionsHook();
    }
    openSmallTooltipByMinPointNum(_0xcb4af9) {
      this._map.openSmallTooltip(_0xcb4af9, this._map.getLangText("_无法删除不能少于最小点数") + " " + this.minPointNum);
    }
    createDragger(_0xac5906) {
      let _0x21bd7b;
      if (_0xac5906.dragger) {
        _0x21bd7b = _0xac5906.dragger;
      } else {
        const _0x5658d9 = getEditPointStyle(_0xac5906.type);
        const _0x160445 = _0x5658d9.type || "pointP";
        const _0x28665e = {
          position: _0xac5906.position ?? Cesium__namespace.Cartesian3.ZERO,
          style: _0x5658d9,
          hasEdit: false,
          drawShow: false,
          private: true
        };
        _0x21bd7b = create$5(_0x160445, _0x28665e);
        _0x21bd7b.style.clampToGround = this.clampToGround;
        _0x21bd7b.parent = this._graphic;
        this.layer.addGraphic(_0x21bd7b);
      }
      _0x21bd7b._draw_tooltip = this._map.getLangText("_拖动该点后") + " " + (_0xac5906.tooltip || this._map.getLangText("_修改位置"));
      _0x21bd7b._isDragger = true;
      _0x21bd7b._noMousePick = true;
      _0x21bd7b._pointType = _0xac5906.type || EditPointType.Control;
      _0x21bd7b.onDragStart = _0xac5906.onDragStart;
      _0x21bd7b.onDrag = _0xac5906.onDrag;
      _0x21bd7b.onDragEnd = _0xac5906.onDragEnd;
      if ((_0x21bd7b._pointType === EditPointType.Control || _0x21bd7b._pointType === EditPointType.MoveAll) && (this.options.hasEditContextMenu ?? true)) {
        _0x21bd7b._draw_tooltip += "<br/>" + this._map.getLangText("_更多功能请右击");
        const _0x2be106 = _0x21bd7b._contextmenuConfig;
        const _0x45adf2 = this.getDraggerContextMenu(_0x21bd7b);
        if (_0x2be106 && !_0x2be106._private && !_0x21bd7b._contextmenuConfig_bak) {
          _0x21bd7b._contextmenuConfig_bak = _0x2be106;
          _0x45adf2.push(..._0x2be106.content);
        }
        const _0x3a5485 = this.layer._contextmenuConfig;
        if (_0x3a5485 && this.layer !== _0x21bd7b) {
          _0x45adf2.push(..._0x3a5485.content);
        }
        _0x21bd7b.bindContextMenu(_0x45adf2);
        _0x21bd7b._contextmenuConfig._private = true;
      }
      return _0x21bd7b;
    }
    _resetContextMenu(_0x281072) {
      if (_0x281072 && (this.options.hasEditContextMenu ?? true)) {
        var _0x3159c0;
        if ((_0x3159c0 = _0x281072._contextmenuConfig) !== null && _0x3159c0 !== undefined && _0x3159c0._private) {
          _0x281072.unbindContextMenu();
        }
        if (_0x281072._contextmenuConfig_bak) {
          _0x281072._contextmenuConfig = _0x281072._contextmenuConfig_bak;
          delete _0x281072._contextmenuConfig_bak;
        }
      }
    }
    bindDraggers() {}
    destroyDraggers() {
      this._resetContextMenu(this._graphic);
      for (let _0x6239c1 = 0, _0x5c2bda = this.draggers.length; _0x6239c1 < _0x5c2bda; _0x6239c1++) {
        const _0x1d98b8 = this.draggers[_0x6239c1];
        this._resetContextMenu(_0x1d98b8);
        this.layer.removeGraphic(_0x1d98b8, true);
      }
      this.draggers = [];
    }
    updateDraggers() {
      if (!this._enabled) {
        return this;
      }
      clearTimeout(this._updateDraggersTimeTik);
      this._updateDraggersTimeTik = setTimeout(() => {
        if (!this._enabled) {
          return this;
        }
        this._updateDraggers();
      }, 20);
    }
    _updateDraggers() {
      if (!this._enabled) {
        return this;
      }
      const _0x5389e8 = this._matrixMove?._dragger_index;
      const _0x826489 = this._matrixMove?._dragger_moveAll;
      this.destroyDraggers();
      this.bindDraggers();
      if (Cesium__namespace.defined(_0x5389e8) || _0x826489) {
        for (let _0x172493 = 0, _0x2d9330 = this.draggers.length; _0x172493 < _0x2d9330; _0x172493++) {
          const _0x3dbd0d = this.draggers[_0x172493];
          if (_0x3dbd0d._pointType !== EditPointType.Control && _0x3dbd0d._pointType !== EditPointType.MoveAll) {
            continue;
          }
          if (_0x3dbd0d.index === _0x5389e8 || _0x826489 && _0x3dbd0d._pointType === EditPointType.MoveAll) {
            this.startMoveMatrix(_0x3dbd0d);
            break;
          }
        }
      }
    }
    updateAttrForEditing() {
      if (this._graphic.updateAttrForDrawing) {
        this._graphic.updateAttrForDrawing(true);
      }
      if (this._graphic._updateLabelPosition) {
        this._graphic._updateLabelPosition();
      }
    }
    getDraggerContextMenu(_0x24a822) {
      return [{
        text: this._map.getLangText("_删除该点"),
        icon: Icon.Delete,
        show: _0x22eaed => {
          if (!this.hasDelPoint || !this._graphic.positions || _0x24a822._pointType === EditPointType.MoveAll) {
            return false;
          }
          if (this.positions.length - 1 < this.minPointNum) {
            this.openSmallTooltipByMinPointNum(_0x22eaed.position);
            return false;
          }
          return true;
        },
        callback: _0x15b1d3 => {
          const _0x3464d3 = _0x15b1d3.target;
          if (_0x3464d3) {
            const _0x3b40f7 = _0x3464d3.index;
            if (_0x3b40f7 >= 0 && _0x3b40f7 < this.positions.length) {
              this.positions.splice(_0x3b40f7, 1);
              this.updateDraggers();
              this.updateAttrForEditing();
              const _0x14f2d5 = {
                ..._0x15b1d3
              };
              _0x14f2d5.index = _0x3b40f7;
              this.fire(EventType.editRemovePoint, _0x14f2d5);
              this._editPositionsHook();
            }
          }
        }
      }, {
        text: this._map.getLangText("_按轴平移"),
        icon: Icon.DrawEditYes,
        show: _0x3368b3 => {
          if (this._map.scene.mode !== Cesium__namespace.SceneMode.SCENE3D) {
            return false;
          }
          return !this._matrixMove || this._matrixMove._dragger_index !== _0x24a822.index;
        },
        callback: _0x5114a0 => {
          var _0xcc9915;
          const _0x23937a = (_0xcc9915 = _0x5114a0.target) !== null && _0xcc9915 !== undefined && _0xcc9915.position ? _0x5114a0.target : _0x5114a0.layer;
          this.startMoveMatrix(_0x23937a, _0x5114a0);
        }
      }, {
        text: this._map.getLangText("_停止按轴平移"),
        icon: Icon.DrawEditNo,
        show: _0x5f4e1e => {
          return this._matrixMove && this._matrixMove._dragger_index === _0x24a822.index;
        },
        callback: _0x44646d => {
          this.stopMoveMatrix();
        }
      }];
    }
    _updateStyleHook(_0x5c3041) {
      if (Cesium__namespace.defined(_0x5c3041.clampToGround)) {
        this.stopMoveMatrix();
        this.stopRotateMatrix();
        this.updateDraggers();
      }
    }
    _editPositionsHook() {
      if (this._position_steps && !this._position_steps[this._position_steps.length - 1].equals(this.position)) {
        this._position_steps.push(this.position.clone());
      } else if (this._positions_steps) {
        let _0x343002 = false;
        const _0x5f019b = this._positions_steps[this._positions_steps.length - 1];
        const _0x445b3d = this.positions;
        if (_0x5f019b.length !== _0x445b3d.length) {
          _0x343002 = true;
        } else {
          for (let _0x5edb64 = 0; _0x5edb64 < _0x445b3d.length; _0x5edb64++) {
            if (!_0x445b3d[_0x5edb64].equals(_0x5f019b[_0x5edb64])) {
              _0x343002 = true;
              break;
            }
          }
        }
        if (_0x343002) {
          this._positions_steps.push(clonePostions(this.positions));
        }
      }
    }
    _fireAddPoint(_0x4d242d, _0x3efb85) {
      const _0x154c16 = {
        index: _0x4d242d.index,
        cartesian: _0x3efb85
      };
      this.fire(EventType.editAddPoint, _0x154c16);
    }
    startMoveMatrix(_0x44dda1, _0x39d4ee = {}) {
      this.stopMoveMatrix();
      this.stopRotateMatrix();
      if (!_0x44dda1) {
        _0x44dda1 = this._graphic;
      }
      let _0x520758 = _0x44dda1.positionShow || _0x44dda1.position;
      let _0x3fe0de;
      if (!_0x520758 && this._moveAllPostions) {
        _0x520758 = centerOfMass(this.positions);
        if (!_0x520758) {
          return;
        }
        _0x3fe0de = _0x520758.clone();
      }
      if (this.clampToGround) {
        _0x520758 = getSurfacePosition(this._map.scene, _0x520758);
      }
      const _0x207318 = {
        ..._0x44dda1.options.matrixMove
      };
      _0x207318.position = _0x520758;
      this._matrixMove = new MatrixMove(_0x207318);
      this._map.addThing(this._matrixMove);
      this._matrixMove._graphicLayer.bindContextMenu([{
        text: this._map.getLangText("_停止按轴平移"),
        icon: Icon.DrawEditNo,
        show: _0x47d7fd => {
          return this._matrixMove;
        },
        callback: _0x730ffb => {
          this.stopMoveMatrix();
        }
      }]);
      if ((this.clampToGround || this.noMatrixMoveZ) && this._matrixMove._graphic_move_z) {
        this._matrixMove._graphic_move_z.show = false;
      }
      if (Cesium__namespace.defined(_0x44dda1.index)) {
        this._matrixMove._dragger_index = _0x44dda1.index;
      } else if (Cesium__namespace.defined(_0x44dda1._pointType === EditPointType.MoveAll)) {
        this._matrixMove._dragger_moveAll = true;
      }
      this._matrixMove.on(EventType.start, _0x5571df => {
        if (_0x44dda1.onDragStart) {
          _0x44dda1.onDragStart(_0x44dda1, this._matrixMove.position);
        }
      });
      this._matrixMove.on(EventType.stop, _0x1cc5f5 => {
        const _0x1edbdf = this._matrixMove.position;
        if (_0x3fe0de) {
          this._moveAllPostions(_0x3fe0de, _0x1edbdf);
          _0x3fe0de = _0x1edbdf;
        } else if (_0x44dda1.onDragEnd) {
          _0x44dda1.onDragEnd(_0x44dda1, _0x1edbdf, _0x1cc5f5);
        } else {
          _0x44dda1.position = _0x1edbdf;
        }
        const _0x5b516a = {
          position: _0x1edbdf
        };
        _0x44dda1.fire(EventType.updatePosition, _0x5b516a);
        const _0x2d723d = {
          ..._0x39d4ee,
          ..._0x1cc5f5
        };
        _0x2d723d.index = _0x44dda1.index;
        _0x2d723d.cartesian = _0x1edbdf;
        this.fire(EventType.editMovePoint, _0x2d723d);
        this._editPositionsHook();
      });
      this._matrixMove.on(EventType.change, _0x249515 => {
        const _0x3f11a5 = this._matrixMove.position;
        if (_0x3fe0de) {
          this._moveAllPostions(_0x3fe0de, _0x3f11a5);
          _0x3fe0de = _0x3f11a5;
        } else if (Cesium__namespace.defined(this._graphic?._position_draw)) {
          this._graphic._position_draw = _0x3f11a5;
        } else {
          _0x44dda1.position = _0x3f11a5;
        }
        if (_0x249515.editType === Cesium__namespace.Axis.Z && this._updateHeight) {
          const _0x3a3286 = Cesium__namespace.Cartographic.fromCartesian(_0x3f11a5).height;
          this._updateHeight(_0x3a3286);
        } else if (_0x44dda1.onDrag) {
          _0x44dda1.onDrag(_0x44dda1, _0x3f11a5);
        }
        this.updateAttrForEditing();
        const _0xc981d7 = {
          ..._0x39d4ee,
          ..._0x249515
        };
        _0xc981d7.index = _0x44dda1.index;
        _0xc981d7.cartesian = _0x520758;
        this.fire(EventType.editMouseMove, _0xc981d7);
      });
      _0x44dda1.off(EventType.updatePosition, this._updateMatrixMovePosition, this);
      _0x44dda1.off(EventType.updatePosition, this._updateMatrixRotatePosition, this);
      _0x44dda1.on(EventType.updatePosition, this._updateMatrixMovePosition, this);
    }
    _updateMatrixMovePosition(_0x168ef2) {
      var _0x1ca093;
      if (!this._matrixMove || this._matrixMove.isMoveing || !_0x168ef2.position) {
        return;
      }
      if (this._matrixMove._dragger_index === _0x168ef2.graphic?.index) {
        this._matrixMove.position = _0x168ef2.position;
      } else if (this._matrixMove._dragger_moveAll && (_0x168ef2.graphi?._pointType === EditPointType.MoveAll || (_0x1ca093 = _0x168ef2.layer) !== null && _0x1ca093 !== undefined && _0x1ca093.tileset)) {
        this._matrixMove.position = _0x168ef2.position;
      }
    }
    stopMoveMatrix() {
      if (this._matrixMove) {
        this._map.removeThing(this._matrixMove, true);
        delete this._matrixMove;
      }
    }
    startRotateMatrix(_0x2a1b4b) {
      this.stopMoveMatrix();
      this.stopRotateMatrix();
      if (!_0x2a1b4b) {
        _0x2a1b4b = this._graphic;
      }
      const _0x3ae7bb = _0x2a1b4b.positionShow || _0x2a1b4b.position;
      if (!_0x3ae7bb) {
        return;
      }
      this._matrixRotate = new MatrixRotate({
        ..._0x2a1b4b.options.matrixRotate,
        position: _0x3ae7bb,
        heading: this.style.heading || 0,
        pitch: this.style.pitch || 0,
        roll: this.style.roll || 0
      });
      this._map.addThing(this._matrixRotate);
      this._matrixRotate._graphicLayer.bindContextMenu([{
        text: this._map.getLangText("_停止按轴旋转"),
        icon: Icon.BloomEffectNo,
        show: _0x5aeb2b => {
          return this._matrixRotate;
        },
        callback: _0x3ccd16 => {
          this.stopRotateMatrix();
        }
      }]);
      this._matrixRotate.on(EventType.change, _0xc30d9f => {
        this.style.heading = formatNum$1(_0xc30d9f.heading, 2);
        this.style.pitch = formatNum$1(_0xc30d9f.pitch, 2);
        this.style.roll = formatNum$1(_0xc30d9f.roll, 2);
        this._graphic.updateOrientation();
        this.fire(EventType.editStyle);
      });
      _0x2a1b4b.off(EventType.updatePosition, this._updateMatrixMovePosition, this);
      _0x2a1b4b.off(EventType.updatePosition, this._updateMatrixRotatePosition, this);
      _0x2a1b4b.on(EventType.updatePosition, this._updateMatrixRotatePosition, this);
    }
    _updateMatrixRotatePosition(_0x26e9ac) {
      if (!this._matrixRotate || this._matrixRotate.isMoveing || !_0x26e9ac.position || !_0x26e9ac.graphic) {
        return;
      }
      if (this._matrixRotate._dragger_index === _0x26e9ac.graphic.index) {
        this._matrixRotate.position = _0x26e9ac.position;
      } else if (this._matrixRotate._dragger_moveAll && _0x26e9ac.graphic._pointType === EditPointType.MoveAll) {
        this._matrixRotate.position = _0x26e9ac.position;
      }
    }
    stopRotateMatrix() {
      if (this._matrixRotate) {
        this._map.removeThing(this._matrixRotate, true);
        delete this._matrixRotate;
      }
    }
    destroy() {
      this.disable();
      for (const _0x55774c in this) {
        delete this[_0x55774c];
      }
    }
  }
  function clonePostions(_0x5845b8) {
    const _0x4675da = [];
    for (let _0x543287 = 0, _0x110add = _0x5845b8.length; _0x543287 < _0x110add; ++_0x543287) {
      _0x4675da.push(_0x5845b8[_0x543287].clone());
    }
    return _0x4675da;
  }
  class EditPoly extends EditBase {
    set positions(_0x4127eb) {
      this._graphic._positions_draw = _0x4127eb;
      delete this._graphic._last_outlinePntsLen;
    }
    get positions() {
      return this._graphic._positions_draw || this._graphic._positions || [];
    }
    get hasClosure() {
      return this.style.closure;
    }
    get hasMidPoint() {
      return this.positions.length < this.maxPointNum && (this._graphic.hasMidPoint ?? true);
    }
    get center() {
      return centerOfMass(this.positions);
    }
    bindDraggers() {
      var _0x4317db;
      const _0x312ce4 = this.positions;
      for (let _0x48f3f5 = 0, _0x4e0ab9 = _0x312ce4.length; _0x48f3f5 < _0x4e0ab9; _0x48f3f5++) {
        const _0x20c343 = this.updatePositionsHeightByAttr(_0x312ce4[_0x48f3f5]);
        const _0x3533b3 = this.createDragger({
          position: _0x20c343,
          tooltip: this._map.getLangText("_修改第X个坐标").replaceAll("{index}", _0x48f3f5 + 1),
          onDrag: (_0x4e6848, _0x3bc57e) => {
            _0x3bc57e = this.updatePositionsHeightByAttr(_0x3bc57e);
            _0x4e6848.position = _0x3bc57e;
            this.positions[_0x4e6848.index] = _0x3bc57e;
            if (this._heightDraggers?.length > 0) {
              return;
            }
            if (this.hasMidPoint) {
              let _0xd2866d;
              let _0x37b6ab;
              let _0x402be2;
              if (this.hasClosure || !this.hasClosure && _0x4e6848.index !== 0) {
                if (_0x4e6848.index === 0) {
                  _0xd2866d = _0x4e0ab9 * 2 - 1;
                  _0x37b6ab = _0x4e0ab9 - 1;
                } else {
                  _0xd2866d = _0x4e6848.index * 2 - 1;
                  _0x37b6ab = _0x4e6848.index - 1;
                }
                const _0x24dc58 = _0x312ce4[_0x37b6ab];
                _0x402be2 = getMidpoint(_0x3bc57e, _0x24dc58, this.options.midPointFraction);
                _0x402be2 = this.updatePositionsHeightByAttr(_0x402be2);
                this.draggers[_0xd2866d].position = _0x402be2;
              }
              if (this.hasClosure || !this.hasClosure && _0x4e6848.index !== _0x4e0ab9 - 1) {
                if (_0x4e6848.index === _0x4e0ab9 - 1) {
                  _0xd2866d = _0x4e6848.index * 2 + 1;
                  _0x37b6ab = 0;
                } else {
                  _0xd2866d = _0x4e6848.index * 2 + 1;
                  _0x37b6ab = _0x4e6848.index + 1;
                }
                _0x402be2 = getMidpoint(_0x3bc57e, _0x312ce4[_0x37b6ab], this.options.midPointFraction);
                _0x402be2 = this.updatePositionsHeightByAttr(_0x402be2);
                this.draggers[_0xd2866d].position = _0x402be2;
              }
            }
            if (this._draggerMove) {
              let _0x392ba0 = this.center;
              _0x392ba0 = this.updatePositionsHeightByAttr(_0x392ba0);
              this._draggerMove.position = _0x392ba0;
            }
          },
          onDragStart: (_0xd1c638, _0x1e8d34) => {
            if (this._heightDraggers?.length > 0) {
              for (let _0x522b40 = 0, _0x59a523 = this.draggers.length; _0x522b40 < _0x59a523; _0x522b40++) {
                this.draggers[_0x522b40].show = false;
              }
            }
          },
          onDragEnd: (_0x42950b, _0x53934a) => {
            if (this._heightDraggers?.length > 0) {
              this.updateDraggers();
            }
          }
        });
        _0x3533b3.index = _0x48f3f5;
        this.draggers.push(_0x3533b3);
        if (this.hasMidPoint && (this.hasClosure || !this.hasClosure && _0x48f3f5 < _0x4e0ab9 - 1)) {
          const _0x408175 = (_0x48f3f5 + 1) % _0x4e0ab9;
          let _0x5af86c = getMidpoint(_0x20c343, _0x312ce4[_0x408175], this.options.midPointFraction);
          _0x5af86c = this.updatePositionsHeightByAttr(_0x5af86c);
          const _0xa63d01 = this.createDragger({
            position: _0x5af86c,
            type: EditPointType.AddMidPoint,
            tooltip: this._map.getLangText("_增加点"),
            onDragStart: (_0x2ec0df, _0x5eebc7) => {
              this.positions.splice(_0x2ec0df.index, 0, _0x5eebc7);
            },
            onDrag: (_0x1764c5, _0x5bd569) => {
              this.positions[_0x1764c5.index] = _0x5bd569;
            },
            onDragEnd: (_0xbc06d3, _0x437224) => {
              this._fireAddPoint(_0xbc06d3, _0x437224);
              this.updateDraggers();
            }
          });
          _0xa63d01.index = _0x408175;
          this.draggers.push(_0xa63d01);
        }
      }
      this._bindMoveAllDragger();
      if ((_0x4317db = this.entityGraphic) !== null && _0x4317db !== undefined && _0x4317db.extrudedHeight && !this.isScene2D) {
        this._bindHeightDraggers();
      }
    }
    _bindMoveAllDragger() {
      if (!this._graphic.hasMoveEdit) {
        return;
      }
      let _0x1948c0 = this.center;
      if (this.positions.length === 2) {
        const _0x2c5b88 = Cesium__namespace.Cartesian3.distance(this.positions[0], this.positions[1]);
        _0x1948c0 = getPositionByDirectionAndLen(_0x1948c0, 90, _0x2c5b88 * 0.06);
      }
      _0x1948c0 = this.updatePositionsHeightByAttr(_0x1948c0);
      const _0x3eb73c = this.createDragger({
        position: _0x1948c0,
        type: EditPointType.MoveAll,
        tooltip: this._map.getLangText("_整体平移"),
        onDragStart: (_0x18749e, _0x5b1ef3) => {
          _0x1948c0 = _0x5b1ef3;
        },
        onDrag: (_0x2a7095, _0x2e6cdc) => {
          this._moveAllPostions(_0x1948c0, _0x2e6cdc);
          _0x1948c0 = _0x2e6cdc;
        }
      });
      this._draggerMove = _0x3eb73c;
      this.draggers.push(_0x3eb73c);
    }
    _moveAllPostions(_0x32b155, _0x1a81a3) {
      const _0x180fbd = Cesium__namespace.Cartesian3.subtract(_0x1a81a3, _0x32b155, new Cesium__namespace.Cartesian3());
      if (this._graphic._updateEditDraggerPositionHeight) {
        this.style.maxHeight = Cesium__namespace.Cartographic.fromCartesian(_0x1a81a3).height;
      }
      this.positions.forEach((_0x340e2b, _0x241c1b, _0x351397) => {
        const _0x154815 = this.updatePositionsHeightByAttr(Cesium__namespace.Cartesian3.add(_0x340e2b, _0x180fbd, new Cesium__namespace.Cartesian3()));
        this.positions[_0x241c1b] = _0x154815;
      });
      if (this._graphic._draw_holes?.length > 0) {
        for (let _0x1bd461 = 0, _0x36e8e3 = this._graphic._draw_holes.length; _0x1bd461 < _0x36e8e3; _0x1bd461++) {
          const _0x4c9c75 = this._graphic._draw_holes[_0x1bd461];
          _0x4c9c75.forEach((_0x26c630, _0x5c698f, _0x203f50) => {
            const _0x27e71d = this.updatePositionsHeightByAttr(Cesium__namespace.Cartesian3.add(_0x26c630, _0x180fbd, new Cesium__namespace.Cartesian3()));
            _0x4c9c75[_0x5c698f] = _0x27e71d;
          });
        }
      }
      for (let _0xfe8e4 = 0, _0x17f808 = this.draggers.length; _0xfe8e4 < _0x17f808; _0xfe8e4++) {
        if (this.draggers[_0xfe8e4]._pointType !== EditPointType.MoveAll && this.draggers[_0xfe8e4].position) {
          this.draggers[_0xfe8e4].position = this.updatePositionsHeightByAttr(Cesium__namespace.Cartesian3.add(this.draggers[_0xfe8e4].position, _0x180fbd, new Cesium__namespace.Cartesian3()));
        }
      }
      delete this._graphic._last_outlinePntsLen;
      this._updateMoveAllHook(_0x1a81a3);
    }
    _updateMoveAllHook(_0x36768c) {}
    _bindHeightDraggers(_0xaf9fb4) {
      if (!this._graphic._hasHeightEdit) {
        return;
      }
      this._heightDraggers = [];
      _0xaf9fb4 = _0xaf9fb4 || this.positions;
      const _0x2788f3 = getCesiumValue(this.entityGraphic.extrudedHeight, Number, this._map.clock.currentTime);
      for (let _0x51b209 = 0, _0x46b503 = _0xaf9fb4.length; _0x51b209 < _0x46b503; _0x51b209++) {
        const _0x5200a4 = setPositionsHeight(_0xaf9fb4[_0x51b209], _0x2788f3);
        const _0x2d0885 = this.createDragger({
          position: _0x5200a4,
          type: EditPointType.MoveHeight,
          tooltip: this._map.getLangText("_修改高度"),
          onDrag: (_0x132e7c, _0x31c8b0) => {
            const _0x46ac40 = Cesium__namespace.Cartographic.fromCartesian(_0x31c8b0).height;
            this.entityGraphic.extrudedHeight = _0x46ac40;
            const _0x608613 = getMaxHeight(this.positions);
            this.style.diffHeight = this.formatNum(_0x46ac40 - _0x608613, 2);
            this.updateHeightDraggers(_0x46ac40);
            this.updateAttrForEditing();
            this.fire(EventType.editStyle);
          }
        });
        this.draggers.push(_0x2d0885);
        this._heightDraggers.push(_0x2d0885);
      }
      if (!this._updateHeight) {
        this._updateHeight = _0x10e72c => {
          this.entityGraphic.height = _0x10e72c;
          this.style.height = this.formatNum(_0x10e72c, 2);
          const _0x4b5cd8 = this.positions;
          for (let _0x45cc9a = 0, _0x1406c1 = _0x4b5cd8.length; _0x45cc9a < _0x1406c1; _0x45cc9a++) {
            _0x4b5cd8[_0x45cc9a] = setPositionsHeight(_0x4b5cd8[_0x45cc9a], _0x10e72c);
          }
          const _0x1b704c = getCesiumValue(this.entityGraphic.extrudedHeight, Number, this._map.clock.currentTime);
          for (let _0x5118d9 = 0, _0xff1124 = this.draggers.length; _0x5118d9 < _0xff1124; _0x5118d9++) {
            const _0x2e834f = this.draggers[_0x5118d9];
            if (_0x2e834f._pointType === EditPointType.MoveHeight) {
              _0x2e834f.position = setPositionsHeight(_0x2e834f.position, _0x1b704c);
            } else {
              _0x2e834f.position = setPositionsHeight(_0x2e834f.position, _0x10e72c);
            }
          }
          this.fire(EventType.editStyle);
        };
      }
    }
    updateHeightDraggers(_0xbbac1e) {
      for (let _0x47feed = 0; _0x47feed < this._heightDraggers.length; _0x47feed++) {
        var _0x476a45;
        const _0x1df0ce = this._heightDraggers[_0x47feed];
        const _0x14cc18 = setPositionsHeight(getPositionValue(_0x1df0ce.position, (_0x476a45 = this._map) === null || _0x476a45 === undefined ? undefined : _0x476a45.clock.currentTime), _0xbbac1e);
        _0x1df0ce.position = _0x14cc18;
      }
    }
    updatePositionsHeightByAttr(_0x3c035a) {
      if (this.clampToGround) {
        _0x3c035a = getSurfacePosition(this._map.scene, _0x3c035a);
      } else if (this._graphic._updateEditDraggerPositionHeight) {
        _0x3c035a = this._graphic._updateEditDraggerPositionHeight(_0x3c035a);
      }
      return _0x3c035a;
    }
    _updateStyleHook(_0x557c5e) {
      super._updateStyleHook(_0x557c5e);
      if (Cesium__namespace.defined(_0x557c5e.diffHeight) || Cesium__namespace.defined(_0x557c5e.height) || Cesium__namespace.defined(_0x557c5e.clampToGround)) {
        this.updateDraggers();
      }
    }
  }
  class EditTimePoly extends EditPoly {
    get timeIndex() {
      return this._timeIndex;
    }
    set timeIndex(_0x52fb02) {
      const _0xcf353d = this.maxTimeIndex;
      if (_0x52fb02 < 0 || _0x52fb02 > this.maxTimeIndex) {
        logWarn("timeIndex值需要大于0且小于" + _0xcf353d);
        return;
      }
      if (this._timeIndex !== _0x52fb02) {
        this._changeTimeIndex(this._timeIndex, _0x52fb02);
      }
      this._timeIndex = _0x52fb02;
    }
    get maxTimeIndex() {
      var _0x2cd7eb;
      if ((_0x2cd7eb = this._graphic.options.positions) === null || _0x2cd7eb === undefined || (_0x2cd7eb = _0x2cd7eb.list) === null || _0x2cd7eb === undefined) {
        return undefined;
      } else {
        return _0x2cd7eb.length;
      }
    }
    updateForExternal() {
      this._disableForTime();
      this._activateForTime();
    }
    activate() {
      if (this._enabled) {
        return this;
      }
      this._timeIndex = 0;
      this._activateForTime();
      this._graphic._creteLineForTime();
      return super.activate();
    }
    disable() {
      if (!this._enabled) {
        return this;
      }
      this._disableForTime();
      this._graphic._removeLineForTime();
      return super.disable();
    }
    _activateForTime() {
      this._poly_time = [];
      const _0x2fc819 = [];
      const _0x5a5c4c = this._graphic.options.positions.list;
      for (let _0x49a716 = 0, _0x2b9fea = _0x5a5c4c.length; _0x49a716 < _0x2b9fea; _0x49a716++) {
        const _0x51dbff = LngLatArray.toCartesians(_0x5a5c4c[_0x49a716].positions);
        _0x2fc819.push(_0x51dbff[0]);
        if (_0x49a716 === this.timeIndex) {
          this.positions = _0x51dbff;
          this.updateAttrForEditing();
          setTimeout(() => {
            if (this._graphic) {
              delete this._graphic._last_outlinePntsLen;
            }
          }, 500);
          continue;
        }
        const _0xa1983f = create$5(this._graphic.type, {
          ...this._graphic.options,
          positions: _0x51dbff,
          style: this._graphic.style,
          hasEdit: false,
          private: true
        });
        _0xa1983f._timeIndex = _0x49a716;
        _0xa1983f.parent = this._graphic;
        this.layer.addGraphic(_0xa1983f);
        this._poly_time.push(_0xa1983f);
      }
      this._graphic._positions_draw_time = _0x2fc819;
    }
    _disableForTime() {
      const _0x53b91f = this._graphic.options.positions.list;
      if (this.positions.length > 0) {
        _0x53b91f[this.timeIndex].positions = this.positions;
      }
      if (this._poly_time) {
        for (let _0xa5387d = 0, _0x42dd18 = this._poly_time.length; _0xa5387d < _0x42dd18; _0xa5387d++) {
          const _0x108941 = this._poly_time[_0xa5387d];
          this.layer.removeGraphic(_0x108941, true);
        }
        delete this._poly_time;
      }
      const _0xfcae70 = this._graphic.options.positions;
      this._graphic._setPolyTimePostions(_0xfcae70.list, _0xfcae70);
    }
    fire(_0x51a27e, _0x14db71 = {}) {
      if (_0x51a27e === EventType.editMovePoint || _0x51a27e === EventType.editRemovePoint) {
        this._graphic.options.positions.list[this.timeIndex].positions = this.positions;
        this._graphic._positions_draw_time[this.timeIndex] = this.positions[0];
      }
      return super.fire(_0x51a27e, _0x14db71);
    }
    _changeTimeIndex(_0x4590d2, _0x42b554) {
      const _0x2d8b7e = this._graphic.options.positions.list;
      _0x2d8b7e[_0x4590d2].positions = this.positions;
      const _0x1af4ed = create$5(this._graphic.type, {
        ...this._graphic.options,
        positions: this.positions,
        style: this._graphic.style,
        hasEdit: false,
        private: true
      });
      _0x1af4ed._timeIndex = _0x4590d2;
      _0x1af4ed.parent = this._graphic;
      this.layer.addGraphic(_0x1af4ed);
      this._poly_time.push(_0x1af4ed);
      for (let _0x1fe95b = 0, _0x34ce0c = this._poly_time.length; _0x1fe95b < _0x34ce0c; _0x1fe95b++) {
        const _0x2e4729 = this._poly_time[_0x1fe95b];
        if (_0x2e4729._timeIndex === _0x42b554) {
          this.layer.removeGraphic(_0x2e4729, true);
          break;
        }
      }
      this.positions = LngLatArray.toCartesians(_0x2d8b7e[_0x42b554].positions);
      this.updateDraggers();
      this.updateAttrForEditing();
    }
  }
  class EditTimePoint extends EditPoly {
    get hasClosure() {
      return false;
    }
    get hasMidPoint() {
      return true;
    }
    get hasDelPoint() {
      return true;
    }
    get minPointNum() {
      return 2;
    }
    get maxPointNum() {
      return 9999;
    }
    get entityGraphic() {
      return {};
    }
    _updateTimePositions() {
      var _0x56b9fe;
      this.positions = this._graphic._getPointTimePositions();
      if ((_0x56b9fe = this._graphic.options.position) !== null && _0x56b9fe !== undefined && _0x56b9fe.timeField) {
        const _0x14b175 = [];
        for (let _0x2e7794 = 0, _0x42d4ed = this.positions.length; _0x2e7794 < _0x42d4ed; _0x2e7794++) {
          const _0x5ca745 = this.positions[_0x2e7794];
          _0x14b175.push(_0x5ca745.time);
        }
        this.times = _0x14b175;
      }
      this._graphic._position_draw = this.positions[0];
    }
    updateForExternal() {
      this._updateTimePositions();
      this.updateDraggers();
    }
    activate() {
      if (this._enabled) {
        return this;
      }
      this._updateTimePositions();
      this._graphic._position_draw = this.positions[0];
      this._graphic._creteLineForTime();
      return super.activate();
    }
    disable() {
      var _0x5131f2;
      if (!this._enabled) {
        return this;
      }
      this._graphic._removeLineForTime();
      let _0x8a8c28;
      if ((_0x5131f2 = this._graphic.options.position) !== null && _0x5131f2 !== undefined && _0x5131f2.timeField) {
        _0x8a8c28 = LngLatArray.toPoints(this.positions);
        const _0x5c1fff = _0x8a8c28.length;
        if (_0x5c1fff === this.times.length) {
          for (let _0x48ad49 = 0; _0x48ad49 < _0x5c1fff; _0x48ad49++) {
            _0x8a8c28[_0x48ad49].time = this.times[_0x48ad49];
          }
        } else {
          const _0x55d4c7 = this.times[this.times.length - 1] - this.times[0];
          const _0x2e7c99 = _0x55d4c7 / (_0x5c1fff - 1);
          for (let _0x6cfcd1 = 0; _0x6cfcd1 < _0x5c1fff; _0x6cfcd1++) {
            _0x8a8c28[_0x6cfcd1].time = this.times[0] + _0x2e7c99 * _0x6cfcd1;
          }
        }
      } else {
        _0x8a8c28 = this.positions;
      }
      this._graphic._setPointTimePosition(_0x8a8c28);
      return super.disable();
    }
    fire(_0x3c042e, _0x507923 = {}) {
      if (_0x3c042e === EventType.editAddPoint || _0x3c042e === EventType.editMovePoint || _0x3c042e === EventType.editRemovePoint) {
        this._graphic._position_draw = this.positions[0];
        return;
      }
      return super.fire(_0x3c042e, _0x507923);
    }
  }
  class BaseEntity extends BaseGraphic {
    get dataSource() {
      return this._layer?.dataSource;
    }
    get czmObject() {
      return this._entity;
    }
    get czmObjectEx() {
      let _0x4b2261 = [];
      if (this._primitive_label) {
        _0x4b2261.push(this._primitive_label);
      }
      if (this._entity_outlines) {
        _0x4b2261 = _0x4b2261.concat(this._entity_outlines);
      }
      return _0x4b2261;
    }
    get entity() {
      return this._entity;
    }
    get entityGraphic() {
      return this._entity?.point;
    }
    get label() {
      var _0xbc8da;
      var _0x18daa0;
      if (this._primitive_label) {
        return this._primitive_label;
      }
      if ((_0xbc8da = this._entity) !== null && _0xbc8da !== undefined && _0xbc8da.label) {
        return this._entity.label;
      }
      if ((_0x18daa0 = this.style) !== null && _0x18daa0 !== undefined && _0x18daa0.label) {
        return this.style?.label;
      }
      return {};
    }
    get isEditing() {
      return this._isEditing;
    }
    get hasMoveEdit() {
      return this.options.hasMoveEdit ?? true;
    }
    get lastDrawPoint() {
      const _0x511207 = this._positions_draw;
      if (!_0x511207 || _0x511207.length === 0) {
        return;
      }
      if (this._hadRemoveLastMovePoint) {
        return _0x511207[_0x511207.length - 2];
      } else {
        return _0x511207[_0x511207.length - 1];
      }
    }
    reload() {
      return this.redraw();
    }
    redraw() {
      this.enabledEvent = false;
      const _0x3e14a4 = this._layer;
      this._entity.show = false;
      this._onRemove();
      delete this._entity;
      this._cancelPositionsCallback();
      if (this.options.positions && !this._positions) {
        this._setPolyPostions(this.options.positions);
      }
      if (this.options.position && !this._position) {
        this._setPointPostion(this.options.position);
      }
      this._onAdd(_0x3e14a4);
      this.enabledEvent = true;
    }
    _mountedHook() {}
    _addedHook(_0x440639) {
      const _0x37490c = _0x50de52 => {
        return this._map?.availabilityEnabled;
      };
      const _0x1682ec = _0x4befa0 => {
        this.fire(EventType.availabilityChange, _0x4befa0);
      };
      this.czmObject.isAvailableByMap = _0x37490c;
      this.czmObject.changeAvailableByMap = _0x1682ec;
      this.dataSource.entities.add(this.czmObject);
      this.czmObjectEx.forEach(_0x5b1157 => {
        if (_0x5b1157 instanceof Cesium__namespace.Entity) {
          _0x5b1157.isAvailableByMap = _0x37490c;
          _0x5b1157.changeAvailableByMap = _0x1682ec;
          this.dataSource.entities.add(_0x5b1157);
        }
      });
      if (this._clampToGround_reload) {
        this._clampToGround_last = this.style.clampToGround;
      }
    }
    _removedHook() {
      this.stopDraw();
      this.stopEditing();
      if (this.editing) {
        this.editing.destroy();
        delete this.editing;
      }
      if (this.czmObject) {
        this.dataSource.entities.remove(this.czmObject);
      }
      if (this.czmObjectEx) {
        this.czmObjectEx.forEach(_0x4f1648 => {
          if (_0x4f1648 instanceof Cesium__namespace.Entity) {
            this.dataSource.entities.remove(_0x4f1648);
          }
        });
      }
      if (this._primitive_label) {
        this._layer.labelCollection.remove(this._primitive_label);
        delete this._primitive_label;
      }
    }
    _initFromEntity(_0x2fcfc4) {
      if (_0x2fcfc4.entityCollection) {
        _0x2fcfc4.entityCollection.remove(_0x2fcfc4);
      }
      _0x2fcfc4._id = this.id;
      return _0x2fcfc4;
    }
    _updateEditDraggers() {
      var _0x110547;
      if ((_0x110547 = this.editing) !== null && _0x110547 !== undefined && _0x110547.enabled) {
        this.editing.updateDraggers();
      }
    }
    _updateStyleBaseHook(_0x3437f0) {
      var _0x55abe6;
      if (!this.czmObject || !_0x3437f0) {
        return;
      }
      if (this._clampToGround_reload && Cesium__namespace.defined(_0x3437f0.clampToGround) && _0x3437f0.clampToGround !== this._clampToGround_last) {
        const _0x293d69 = this.isEditing;
        this.redraw();
        this._clampToGround_last = _0x3437f0.clampToGround;
        if (_0x293d69) {
          this.enabledEvent = false;
          this.startEditing();
          this.enabledEvent = true;
        }
        return;
      }
      if (Cesium__namespace.defined(_0x3437f0.setHeight) || Cesium__namespace.defined(_0x3437f0.addHeight)) {
        if (this.isPoint) {
          this._setPointPostion(this.positionShow);
        } else if (this._positions_draw) {
          this._setPolyPostions(this._positions_draw);
          this.updateAttrForDrawing(false);
        } else {
          this._setPolyPostions(this.positionsShow);
        }
      }
      this._updateStyleHook(this.style, _0x3437f0);
      this._updateLabelStyleHook(this.style, _0x3437f0);
      if (this._getOutlinePositions) {
        this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      }
      if (this._updateExOpacity && Cesium__namespace.defined(_0x3437f0.globalAlpha)) {
        this._updateExOpacity(_0x3437f0.globalAlpha);
      }
      if (this._isCallbackPositions) {
        this._updateDistanceDisplayConditionByEdit();
      }
      if ((_0x55abe6 = this.editing) !== null && _0x55abe6 !== undefined && _0x55abe6.enabled) {
        this.editing._updateStyleHook(_0x3437f0);
      }
      return this;
    }
    _updateDistanceDisplayConditionByEdit() {
      let _0x377e1f;
      const _0x272306 = this.center;
      if (_0x272306) {
        _0x377e1f = Cesium__namespace.Cartesian3.distance(_0x272306, new Cesium__namespace.Cartesian3());
      } else {
        _0x377e1f = (Cesium__namespace.Ellipsoid.WGS84.minimumRadius + Cesium__namespace.Ellipsoid.WGS84.maximumRadius) / 2;
      }
      if (this._isCallbackPositions) {
        this.updateDistanceDisplayCondition(_0x377e1f);
      } else {
        this.updateDistanceDisplayCondition();
      }
      if (this._entity_outlines) {
        for (let _0x27e968 = 0, _0x3d9437 = this._entity_outlines.length; _0x27e968 < _0x3d9437; _0x27e968++) {
          const _0x3217e4 = this._entity_outlines[_0x27e968].polyline;
          if (this.style.distanceDisplayCondition) {
            if (_0x3217e4.positions instanceof Cesium__namespace.CallbackProperty && this.style.clampToGround) {
              this.updateOutlinesDistanceDisplayCondition(_0x3217e4, _0x377e1f);
            } else {
              this.updateOutlinesDistanceDisplayCondition(_0x3217e4);
            }
          } else {
            _0x3217e4.distanceDisplayCondition = undefined;
          }
        }
      }
    }
    updateDistanceDisplayCondition(_0xc8a3f8 = 0) {
      if (this.style.distanceDisplayCondition) {
        this.entityGraphic.distanceDisplayCondition = new Cesium__namespace.DistanceDisplayCondition(Number((this.style.distanceDisplayCondition_near ?? 0) + _0xc8a3f8), Number((this.style.distanceDisplayCondition_far ?? Number.MAX_VALUE) + _0xc8a3f8));
      } else {
        this.entityGraphic.distanceDisplayCondition = undefined;
      }
    }
    updateOutlinesDistanceDisplayCondition(_0x19bf29, _0x8849ba = 0) {
      _0x19bf29.distanceDisplayCondition = new Cesium__namespace.DistanceDisplayCondition(Number((this.style.distanceDisplayCondition_near ?? 0) + _0x8849ba), Number((this.style.distanceDisplayCondition_far ?? Number.MAX_VALUE) + _0x8849ba));
    }
    _updateStyleHook(_0x374742, _0x4aa226) {}
    openHighlight(_0x239d13, _0x3b41b3 = true) {
      if (_0x3b41b3) {
        this._map.closeHighlight();
        this._map.last_highlighGraphic = this;
      }
      this._highlight_state = true;
      const _0x1daade = _0x239d13 || this._highlightOptions || this._layer?._highlightOptions;
      if (_0x1daade) {
        const _0x5aef56 = [];
        for (const _0x2920f9 in _0x1daade) {
          if (_0x2920f9 === "type") {
            continue;
          }
          if (!Cesium__namespace.defined(this.style[_0x2920f9])) {
            _0x5aef56.push(_0x2920f9);
          }
        }
        if (_0x5aef56.length > 0) {
          logWarn("openHighlight：原有style中不存在以下属性，关闭高亮时将无法恢复", _0x5aef56);
        }
        const _0x286ebf = merge(clone(this.style), _0x1daade);
        this._updateStyleHook(_0x286ebf, _0x1daade);
        this._updateLabelStyleHook(_0x286ebf, _0x1daade);
        if (this._getOutlinePositions) {
          this._updateOutlineStyle(this._getOutlinePositions(), _0x286ebf);
        }
        this.fire(EventType.highlightOpen, {}, true);
      }
    }
    closeHighlight() {
      if (!this.isAdded || !this._highlight_state) {
        return;
      }
      delete this._highlight_state;
      this._updateStyleHook(this.style, this.style);
      this._updateLabelStyleHook(this.style, this.style);
      if (this._getOutlinePositions) {
        this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      }
      this._map._clearLastHighlight();
      this.fire(EventType.highlightClose, {}, true);
    }
    _createEntity(_0x3f860b) {
      if (this.options.onBeforeCreate) {
        _0x3f860b = this.options.onBeforeCreate(_0x3f860b) || _0x3f860b;
      }
      if (this._onBeforeCreate) {
        _0x3f860b = this._onBeforeCreate(_0x3f860b) || _0x3f860b;
      }
      const _0x8529d1 = {
        id: this.id,
        name: this.name || this.id,
        properties: this.attr,
        show: this.show,
        parent: this.options.parent
      };
      const _0x4adc05 = _0x8529d1;
      if (this.availability) {
        _0x4adc05.availability = getAvailability(this.availability, this._map.clock.startTime);
      }
      if (this.options.description) {
        _0x4adc05.description = this.options.description;
      }
      if (this.options.viewFrom) {
        _0x4adc05.viewFrom = this.options.viewFrom;
      }
      if (this.options.parent) {
        _0x4adc05.parent = this.options.parent;
      }
      const _0x773677 = {
        ..._0x4adc05,
        ..._0x3f860b
      };
      const _0x4e6f64 = new Cesium__namespace.Entity(_0x773677);
      return _0x4e6f64;
    }
    _updateAvailabilityHook(_0x4cb8c0) {
      if (this.czmObject) {
        this.czmObject.availability = _0x4cb8c0;
        this.czmObjectEx.forEach(_0x39254a => {
          _0x39254a.availability = _0x4cb8c0;
        });
      }
    }
    _updateLabelStyleHook(_0x5928ae, _0x59051c) {
      if (_0x59051c !== null && _0x59051c !== undefined && _0x59051c.label) {
        if (Cesium__namespace.defined(_0x5928ae.clampToGround) && !Cesium__namespace.defined(_0x5928ae.label.clampToGround)) {
          _0x59051c.label.clampToGround = _0x5928ae.clampToGround;
        }
        if (this._primitive_label) {
          var _0x257993;
          var _0x5b2b44;
          var _0x3a7659;
          var _0xd30377;
          LabelStyleConver.toCesiumVal(_0x5928ae.label, this._primitive_label, this.attr);
          if (Cesium__namespace.defined(_0x59051c === null || _0x59051c === undefined || (_0x257993 = _0x59051c.label) === null || _0x257993 === undefined ? undefined : _0x257993.position) || Cesium__namespace.defined(_0x59051c === null || _0x59051c === undefined || (_0x5b2b44 = _0x59051c.label) === null || _0x5b2b44 === undefined ? undefined : _0x5b2b44.height) || Cesium__namespace.defined(_0x59051c === null || _0x59051c === undefined || (_0x3a7659 = _0x59051c.label) === null || _0x3a7659 === undefined ? undefined : _0x3a7659.addHeight) || Cesium__namespace.defined(_0x59051c === null || _0x59051c === undefined || (_0xd30377 = _0x59051c.label) === null || _0xd30377 === undefined ? undefined : _0xd30377.setHeight)) {
            this._updateLabelPosition();
          }
        } else if (this._entity.label) {
          var _0x1bbe18;
          var _0x1dc256;
          var _0x228e9e;
          LabelStyleConver.toCesiumVal(_0x5928ae.label, this._entity.label, this.attr);
          if (Cesium__namespace.defined(_0x59051c === null || _0x59051c === undefined || (_0x1bbe18 = _0x59051c.label) === null || _0x1bbe18 === undefined ? undefined : _0x1bbe18.height) || Cesium__namespace.defined(_0x59051c === null || _0x59051c === undefined || (_0x1dc256 = _0x59051c.label) === null || _0x1dc256 === undefined ? undefined : _0x1dc256.addHeight) || Cesium__namespace.defined(_0x59051c === null || _0x59051c === undefined || (_0x228e9e = _0x59051c.label) === null || _0x228e9e === undefined ? undefined : _0x228e9e.setHeight)) {
            this._updateLabelPosition();
          }
        } else {
          this._addLabel(_0x5928ae.label);
        }
      } else if (Cesium__namespace.defined(_0x59051c?.globalAlpha)) {
        this._updateLabelOpacity(_0x59051c.globalAlpha);
      }
    }
    _addLabel(_0xf00c94) {
      if (!_0xf00c94 || !_0xf00c94.text || _0xf00c94.show === false) {
        return;
      }
      if (Cesium__namespace.defined(this.style.clampToGround) && !Cesium__namespace.defined(_0xf00c94.clampToGround) && !Cesium__namespace.defined(_0xf00c94.height)) {
        _0xf00c94.clampToGround = this.style.clampToGround;
      }
      const _0x1e9c73 = LabelStyleConver.toCesiumVal(_0xf00c94, {}, this.attr);
      if (!_0x1e9c73.pixelOffsetScaleByDistance && this.style.scaleByDistance) {
        _0x1e9c73.pixelOffsetScaleByDistance = LabelStyleConver.getScaleByDistance(this.style);
      }
      _0x1e9c73.position = this._getLablePosition();
      _0x1e9c73.show = (this.show && _0xf00c94.show) ?? true;
      if (!_0x1e9c73.position && _0x1e9c73.show) {
        _0x1e9c73.show = false;
        _0x1e9c73._showforposition = true;
      }
      if (this._primitive_label) {
        this._layer.labelCollection.remove(this._primitive_label);
      }
      this._primitive_label = this._layer.labelCollection.add(_0x1e9c73);
      this.bindPickId(this._primitive_label);
      this._bindLabelAvailability(this._primitive_label);
      this._primitive_label._showforposition = _0x1e9c73._showforposition;
      if (this._primitive_label.showBackground) {
        setTimeout(() => {
          if (this._primitive_label) {
            this._primitive_label.showBackground = false;
          }
          setTimeout(() => {
            if (this._primitive_label) {
              this._primitive_label.showBackground = true;
              this._primitive_label.background = true;
            }
          }, 50);
        }, 50);
      }
      return this._primitive_label;
    }
    _updateLabelPosition(_0x356095, _0x453312) {
      if (this._primitive_label) {
        _0x356095 = this._getLablePosition(_0x356095, _0x453312);
        this._primitive_label.position = _0x356095;
        if (this._primitive_label._showforposition && _0x356095) {
          this._primitive_label.show = true;
          delete this._primitive_label._showforposition;
        }
      }
    }
    _updateLabelOpacity(_0x3c1f3f) {
      var _0x13dbee;
      if ((_0x13dbee = this._entity) !== null && _0x13dbee !== undefined && _0x13dbee.label) {
        LabelStyleConver.setOpacity(this._entity.label, _0x3c1f3f);
      }
      if (this._primitive_label && this._primitive_label.show) {
        LabelStyleConver.setOpacity(this._primitive_label, _0x3c1f3f);
      }
    }
    _getLabelIsCombine() {
      const _0x505aab = this.style.label;
      if (Cesium__namespace.defined(_0x505aab.combine)) {
        return _0x505aab.combine;
      }
      if (this._hasPropertyPostion(this.position)) {
        return true;
      }
      if (Cesium__namespace.defined(_0x505aab.setHeight) || Cesium__namespace.defined(_0x505aab.addHeight)) {
        return false;
      }
      return false;
    }
    _getLablePosition(_0x187e58, _0x2148aa = true) {
      const _0x527327 = this.style.label;
      if (!_0x187e58 && _0x2148aa) {
        if (_0x527327.position) {
          if (_0x527327.position === "center") {
            _0x187e58 = this.centerOfMass;
          } else if (isString(_0x527327.position)) {
            const _0x1d8c80 = template(_0x527327.position, this.attr, true);
            if (_0x1d8c80) {
              _0x187e58 = LngLatPoint.parse(_0x1d8c80).toCartesian();
            }
          } else if (isFunction(_0x527327.position)) {
            _0x187e58 = _0x527327.position(_0x187e58);
          } else {
            _0x187e58 = LngLatPoint.parse(_0x527327.position).toCartesian();
          }
        } else {
          _0x187e58 = this.center;
        }
      }
      if (!_0x187e58) {
        return;
      }
      if (Cesium__namespace.defined(this.style.diffHeight)) {
        _0x187e58 = addPositionsHeight(_0x187e58, this.style.diffHeight);
      }
      _0x187e58 = this._updatePositionsForHeight(_0x187e58, _0x527327);
      return _0x187e58;
    }
    _createLabel(_0x2422a6 = {}, _0x2c5bf5) {
      if (_0x2422a6.type && _0x2422a6.type !== "label") {
        const _0x46f410 = create$5(_0x2422a6.type, {
          position: _0x2c5bf5,
          style: _0x2422a6,
          hasEdit: false,
          private: true,
          show: this.show
        });
        Object.defineProperties(_0x46f410, {
          text: {
            set: function (_0x57e6ab) {
              var _0x5d31e3;
              this.attr.text = _0x57e6ab;
              if ((_0x5d31e3 = this.style) !== null && _0x5d31e3 !== undefined && _0x5d31e3.updateText) {
                this.style.updateText(_0x57e6ab, this);
              }
            },
            get: function () {
              return this.attr?.text;
            }
          }
        });
        this._layer.addGraphic(_0x46f410);
        return _0x46f410;
      } else {
        const _0x1cde96 = {
          color: "#ffffff",
          font_size: 18,
          outline: true,
          outlineColor: "#000000",
          outlineWidth: 3,
          background: true,
          backgroundColor: "#000000",
          backgroundOpacity: 0.5,
          scaleByDistance: true,
          scaleByDistance_far: 800000,
          scaleByDistance_farValue: 0.5,
          scaleByDistance_near: 1000,
          scaleByDistance_nearValue: 1,
          pixelOffsetY: -15,
          horizontalOrigin: Cesium__namespace.HorizontalOrigin.LEFT,
          verticalOrigin: Cesium__namespace.VerticalOrigin.BOTTOM,
          visibleDepth: false,
          ..._0x2422a6
        };
        const _0x1001e5 = LabelStyleConver.toCesiumVal(_0x1cde96);
        _0x1001e5.show = this.show;
        if (_0x2c5bf5) {
          _0x1001e5.position = _0x2c5bf5;
        }
        const _0x30c4dd = this._layer.labelCollection.add(_0x1001e5);
        this.bindPickId(_0x30c4dd);
        _0x30c4dd._noMousePick = true;
        _0x30c4dd.hasEdit = false;
        _0x30c4dd.updateText = _0x2422a6.updateText;
        return _0x30c4dd;
      }
    }
    _removeLabel(_0x38ba37) {
      if (_0x38ba37.isAdded) {
        this._layer.removeGraphic(_0x38ba37, true);
      } else {
        this._layer.labelCollection.remove(_0x38ba37);
      }
    }
    _getOutlineStyle(_0x54d74a, _0x415d32) {
      const _0x3c4504 = {
        ..._0x54d74a
      };
      _0x3c4504.width = _0x54d74a.outlineWidth ?? 1;
      _0x3c4504.show = _0x54d74a.outline ?? false;
      let _0x2f3f39 = _0x3c4504;
      delete _0x2f3f39.material;
      delete _0x2f3f39.materialType;
      delete _0x2f3f39.materialOptions;
      delete _0x2f3f39.outline;
      delete _0x2f3f39.outlineColor;
      delete _0x2f3f39.outlineOpacity;
      delete _0x2f3f39.outlineWidth;
      if (_0x54d74a.outlineStyle) {
        delete _0x2f3f39.outlineStyle;
        _0x2f3f39 = {
          ..._0x2f3f39,
          ..._0x54d74a.outlineStyle
        };
      } else {
        _0x2f3f39 = {
          ..._0x2f3f39,
          color: _0x54d74a.outlineColor ?? Cesium__namespace.Color.WHITE,
          opacity: _0x54d74a.outlineOpacity
        };
      }
      if (!_0x2f3f39.show && _0x415d32) {
        _0x2f3f39 = {
          ..._0x2f3f39,
          ..._0x415d32
        };
      }
      if (!Cesium__namespace.defined(_0x2f3f39.arcType) && _0x2f3f39.clampToGround) {
        _0x2f3f39.arcType = Cesium__namespace.ArcType.GEODESIC;
      }
      if (!Cesium__namespace.defined(_0x2f3f39.usePolyline)) {
        if (_0x2f3f39.width > 1 || _0x2f3f39.clampToGround || _0x2f3f39.materialType && _0x2f3f39.materialType !== "Color") {
          _0x2f3f39.usePolyline = true;
        }
        if (_0x2f3f39.diffHeight > 0) {
          _0x2f3f39.usePolyline = false;
        }
      }
      return _0x2f3f39;
    }
    _updateOutlineStyle(_0x589140, _0x2214a9, _0x37c734) {
      if (!this.entityGraphic) {
        return;
      }
      const _0x555c1d = this._getOutlineStyle(_0x2214a9, _0x37c734);
      if (_0x555c1d.show && _0x555c1d.usePolyline) {
        this.entityGraphic.outline = false;
        if (this._entity_outlines) {
          for (let _0x59174c = 0, _0x6c950a = this._entity_outlines.length; _0x59174c < _0x6c950a; _0x59174c++) {
            const _0x18e1f8 = this._entity_outlines[_0x59174c].polyline;
            if (_0x589140 && _0x589140[_0x59174c]) {
              let _0xc2091a = _0x589140[_0x59174c];
              if (_0xc2091a instanceof Cesium__namespace.CallbackProperty) {
                _0x18e1f8.positions = _0xc2091a;
              } else if (Array.isArray(_0xc2091a) && _0xc2091a.length > 0) {
                if (Cesium__namespace.defined(_0x555c1d.height)) {
                  _0xc2091a = setPositionsHeight(_0xc2091a, _0x555c1d.height);
                }
                if (Cesium__namespace.defined(_0x555c1d.setHeight)) {
                  _0xc2091a = setPositionsHeight(_0xc2091a, _0x555c1d.setHeight);
                }
                if (Cesium__namespace.defined(_0x555c1d.addHeight)) {
                  _0xc2091a = addPositionsHeight(_0xc2091a, _0x555c1d.addHeight);
                }
                if (_0x555c1d.closure ?? true) {
                  _0xc2091a = this._getClosurePositions(_0xc2091a);
                }
                if (_0x18e1f8.positions instanceof Cesium__namespace.CallbackProperty) {
                  this.outlinePositions = _0xc2091a;
                } else {
                  _0x18e1f8.positions = _0xc2091a;
                }
              }
            }
            PolylineStyleConver.toCesiumVal(_0x555c1d, _0x18e1f8, true);
          }
        } else if (_0x589140) {
          this._entity_outlines = [];
          for (let _0x57cf7c = 0, _0x1d9582 = _0x589140.length; _0x57cf7c < _0x1d9582; _0x57cf7c++) {
            let _0x4e785a = _0x589140[_0x57cf7c];
            const _0x1f3053 = PolylineStyleConver.toCesiumVal(_0x555c1d, {}, true);
            if (_0x4e785a instanceof Cesium__namespace.CallbackProperty) {
              _0x1f3053.positions = _0x4e785a;
            } else if (Array.isArray(_0x4e785a) && _0x4e785a.length > 0) {
              if (Cesium__namespace.defined(_0x555c1d.height)) {
                _0x4e785a = setPositionsHeight(_0x4e785a, _0x555c1d.height);
              }
              if (Cesium__namespace.defined(_0x555c1d.setHeight)) {
                _0x4e785a = setPositionsHeight(_0x4e785a, _0x555c1d.setHeight);
              }
              if (Cesium__namespace.defined(_0x555c1d.addHeight)) {
                _0x4e785a = addPositionsHeight(_0x4e785a, _0x555c1d.addHeight);
              }
              if (_0x555c1d.closure ?? true) {
                _0x4e785a = this._getClosurePositions(_0x4e785a);
              }
              if (_0x1f3053.positions instanceof Cesium__namespace.CallbackProperty) {
                this.outlinePositions = _0x4e785a;
              } else {
                _0x1f3053.positions = _0x4e785a;
              }
            }
            const _0x5084b5 = this._createEntity({
              id: this.id + "-outline" + _0x57cf7c,
              polyline: _0x1f3053,
              show: this.show
            });
            this.bindPickId(_0x5084b5);
            this._entity_outlines.push(_0x5084b5);
            if (this.isAdded) {
              this.dataSource.entities.add(_0x5084b5);
            }
          }
        }
        return true;
      } else {
        if (this._entity_outlines) {
          for (let _0x2c4e99 = 0, _0x1fbc1c = this._entity_outlines.length; _0x2c4e99 < _0x1fbc1c; _0x2c4e99++) {
            const _0x669fbd = this._entity_outlines[_0x2c4e99].polyline;
            _0x669fbd.show = false;
          }
        }
        this.entityGraphic.outline = _0x555c1d.show;
        this.entityGraphic.outlineWidth = _0x555c1d.width;
        if (_0x555c1d.show) {
          this.entityGraphic.outlineColor = getCesiumColor(_0x555c1d.color, Cesium__namespace.Color.WHITE);
        }
        return false;
      }
    }
    _updateOutlineOpacity(_0xddb550) {
      var _0xc22c40;
      if (this._entity_outlines && this._entity_outlines.length > 0) {
        for (let _0x396019 = 0, _0x256402 = this._entity_outlines.length; _0x396019 < _0x256402; _0x396019++) {
          var _0x1460f4;
          const _0x300fc8 = this._entity_outlines[_0x396019].polyline;
          if (Cesium__namespace.defined(_0x300fc8 === null || _0x300fc8 === undefined || (_0x1460f4 = _0x300fc8.material) === null || _0x1460f4 === undefined ? undefined : _0x1460f4.globalAlpha)) {
            _0x300fc8.material.globalAlpha = _0xddb550;
          } else {
            this._updateOutlineStyle(null, this.style);
          }
        }
      }
      if ((_0xc22c40 = this.entityGraphic) !== null && _0xc22c40 !== undefined && _0xc22c40.outline && this.entityGraphic.outline.getValue()) {
        const _0x561fd2 = getCesiumColor(this.entityGraphic.outlineColor, Cesium__namespace.Color.WHITE);
        if (!Cesium__namespace.defined(this.entityGraphic._outlineColor_alpha)) {
          this.entityGraphic._outlineColor_alpha = _0x561fd2.alpha;
        }
        this.entityGraphic.outlineColor = _0x561fd2.withAlpha(this.entityGraphic._outlineColor_alpha * _0xddb550);
      }
    }
    _updateOutlineToCallback() {
      if (this._entity_outlines) {
        for (let _0x2e9b1 = 0, _0x23397e = this._entity_outlines.length; _0x2e9b1 < _0x23397e; _0x2e9b1++) {
          const _0x101e80 = this._entity_outlines[_0x2e9b1];
          if (_0x101e80.polyline.positions instanceof Cesium__namespace.CallbackProperty) {
            continue;
          }
          _0x101e80.polyline.positions = new Cesium__namespace.CallbackProperty(_0x2a8e6a => {
            return this.outlinePositions;
          }, false);
        }
      }
    }
    _cancelOutlinePositionsCallback() {
      if (this._entity_outlines) {
        for (let _0x19e17f = 0, _0x1fa3fd = this._entity_outlines.length; _0x19e17f < _0x1fa3fd; _0x19e17f++) {
          const _0x58f859 = this._entity_outlines[_0x19e17f];
          if (!(_0x58f859.polyline.positions instanceof Cesium__namespace.CallbackProperty)) {
            continue;
          }
          _0x58f859.polyline.positions = this.outlinePositions;
        }
      }
    }
    setOpacity(_0x50d26c) {
      this.style.globalAlpha = _0x50d26c;
      const _0xbc69c6 = this._updateEntityOpacity(this.entityGraphic, _0x50d26c);
      if (_0xbc69c6) {
        this._updateLabelOpacity(_0x50d26c);
        this._updateOutlineOpacity(_0x50d26c);
        if (this._updateExOpacity) {
          this._updateExOpacity(_0x50d26c);
        }
        return;
      }
      super.setOpacity(_0x50d26c);
    }
    _updateEntityOpacity(_0x5c1dee, _0x4b0138) {
      const _0x13a5dd = _0x5c1dee?.material;
      if (!_0x13a5dd) {
        if (!this.style.fill && this.style.outline) {
          return true;
        }
        return false;
      }
      if (Cesium__namespace.defined(_0x13a5dd?.globalAlpha)) {
        _0x13a5dd.globalAlpha = _0x4b0138;
        return true;
      }
      if (_0x13a5dd._mars_type === "Color" || _0x13a5dd._mars_type === "Image") {
        const _0x238788 = getCesiumColor(_0x13a5dd.color, Cesium__namespace.Color.WHITE);
        if (!Cesium__namespace.defined(_0x13a5dd._color_alpha)) {
          _0x13a5dd._color_alpha = _0x238788.alpha;
        }
        _0x13a5dd.color = _0x238788.withAlpha(_0x13a5dd._color_alpha * _0x4b0138);
        return true;
      }
      return false;
    }
    startFlicker(_0x2e901d = {}) {
      if (!this.flickerEntity) {
        this.flickerEntity = new FlickerEntity();
      }
      if (!_0x2e901d.color && this.style.color) {
        _0x2e901d.color = this.style.color;
      }
      const _0x45e308 = this.czmObjectEx.concat(this.czmObject);
      this.flickerEntity.startFlicker(_0x45e308, _0x2e901d);
      return this.flickerEntity;
    }
    stopFlicker() {
      if (this.flickerEntity) {
        return this.flickerEntity.stopFlicker();
      } else {
        return null;
      }
    }
    get isDrawing() {
      return this._isDrawing;
    }
    startDraw(_0x4e5db4) {
      if (this._isDrawing) {
        return this;
      }
      this._isDrawing = true;
      if (_0x4e5db4) {
        this.addTo(_0x4e5db4);
      }
      if (!this._map) {
        throw new Error("绘制时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._drawAddEventType = _0x4e5db4.options.drawAddEventType ?? EventType.click;
      this._drawEndEventType = _0x4e5db4.options.drawEndEventType ?? EventType.dblClick;
      this._drawDelEventType = _0x4e5db4.options.drawDelEventType ?? EventType.rightClick;
      this._map.mouseEvent.noPickEntity = this._entity;
      this._map._setEditCursor(true);
      this.enableControl(false);
      this._setPositionsToCallback();
      this._startDrawHook();
      if (this._isCallbackPositions) {
        this._updateDistanceDisplayConditionByEdit();
      }
      this.fire(EventType.drawStart, {
        drawType: this.type
      }, true);
    }
    stopDraw() {
      var _0x3635a3;
      var _0x4bf1cb;
      if (!this._isDrawing) {
        return this;
      }
      this._stopDrawHook();
      this._updateLabelPosition();
      this._map._setEditCursor(false);
      this.enableControl(true);
      this._map.closeSmallTooltip();
      this._map.mouseEvent.noPickEntity = null;
      this._isDrawing = false;
      if (this._hadRemoveLastMovePoint) {
        if (this._positions_draw?.length > 0) {
          this.removeNearPoint();
        }
        this._position_draw &&= undefined;
        this.updateAttrForDrawing(false);
        this._hadRemoveLastMovePoint = false;
      }
      if (!this._position_draw && (!this._positions_draw || this._positions_draw?.length === 0)) {
        this.remove(true);
        return undefined;
      }
      if (this._positions_draw && this._positions_draw.length < this._minPointNum) {
        this.remove(true);
        return undefined;
      }
      this._autoCancelPositionsCallback();
      if (this.style.distanceDisplayCondition) {
        this._updateDistanceDisplayConditionByEdit();
      }
      this.fire(EventType.drawCreated, {
        drawType: this.type,
        positions: this._positions_draw
      }, true);
      if ((_0x3635a3 = this.options) !== null && _0x3635a3 !== undefined && _0x3635a3.success) {
        this.options.success(this);
      }
      if ((_0x4bf1cb = this.options) !== null && _0x4bf1cb !== undefined && (_0x4bf1cb = _0x4bf1cb._promise) !== null && _0x4bf1cb !== undefined && _0x4bf1cb.resolve) {
        this.options._promise.resolve(this);
      }
    }
    _autoCancelPositionsCallback() {
      if (this._layer.options.isRestorePositions || Cesium__namespace.defined(this.entityGraphic?.depthFailMaterial)) {
        this._cancelPositionsCallback();
      }
    }
    _setPositionsToCallback() {}
    _cancelPositionsCallback() {}
    _startDrawHook() {}
    _stopDrawHook() {}
    _showDrawMouseMoveSmallTooltip(_0x1a1c84) {
      if (!this._positions_draw) {
        return;
      }
      const _0x1f75ed = _0x1a1c84.endPosition ?? _0x1a1c84.position;
      if (this._positions_draw.length <= 1 && isPCBroswer()) {
        this._map.openSmallTooltip(_0x1f75ed, this._map.getLangText("_单击开始绘制"));
      } else if (this._positions_draw.length < this._minPointNum) {
        this._map.openSmallTooltip(_0x1f75ed, this._map.getLangText("_单击增加点"));
      } else if (this._positions_draw.length >= this._maxPointNum) {
        let _0x4ade0f = this._map.getLangText("_单击完成绘制");
        if (this._getExSmallTooltip) {
          _0x4ade0f += this._getExSmallTooltip(_0x1a1c84);
        }
        this._map.openSmallTooltip(_0x1f75ed, _0x4ade0f);
      } else {
        let _0x18c73a;
        if (isPCBroswer()) {
          let _0x2af78e = "";
          if (this.options.hasDrawDelPoint ?? true) {
            _0x2af78e = ", " + this._map.getLangText("_右击删除点");
          }
          _0x18c73a = this._map.getLangText("_单击增加点") + _0x2af78e + "<br/>" + this._map.getLangText("_双击完成绘制");
        } else {
          _0x18c73a = this._map.getLangText("_单击增加点");
        }
        if (this._getExSmallTooltip) {
          _0x18c73a += this._getExSmallTooltip(_0x1a1c84);
        }
        this._map.openSmallTooltip(_0x1f75ed, _0x18c73a);
      }
    }
    _removeLastMovePoint() {
      if (this._hadRemoveLastMovePoint) {
        this._positions_draw.pop();
        this._hadRemoveLastMovePoint = false;
      }
    }
    _onMouseMoveHandler(_0x5a415b) {
      this._showDrawMouseMoveSmallTooltip(_0x5a415b);
      let _0x25570f = _0x5a415b.cartesian;
      if (_0x25570f) {
        var _0x8bc97d;
        var _0x1db0cb;
        if ((_0x8bc97d = this.options) !== null && _0x8bc97d !== undefined && _0x8bc97d.updateDrawPosition) {
          _0x25570f = this.options.updateDrawPosition(_0x25570f, this);
          if (!_0x25570f) {
            return;
          }
          _0x5a415b.cartesian = _0x25570f;
        }
        if ((_0x1db0cb = this.options) !== null && _0x1db0cb !== undefined && _0x1db0cb.validDrawPosition) {
          const _0x2e1da2 = this.options.validDrawPosition(_0x25570f, this);
          if (!_0x2e1da2) {
            return;
          }
        }
        this._removeLastMovePoint();
        this._positions_draw.push(_0x25570f);
        this._hadRemoveLastMovePoint = true;
        this.updateAttrForDrawing(false);
        this._updateLabelPosition();
        this.fire(EventType.drawMouseMove, {
          ..._0x5a415b,
          drawType: this.type,
          positions: this._positions_draw
        }, true);
      }
    }
    _onClickHandler(_0xb8e92f) {
      const _0x5ca05e = new Date().getTime() - (this._last_clickTime || 0);
      if (this._last_clickTime && _0x5ca05e < 200) {
        return;
      }
      this._last_clickTime = new Date().getTime();
      if (this._last_clickPositionX && Math.abs(this._last_clickPositionX - _0xb8e92f.windowPosition.x) < 10 && Math.abs(this._last_clickPositionY - _0xb8e92f.windowPosition.y) < 10) {
        return;
      }
      this._last_clickPositionX = _0xb8e92f.windowPosition.x;
      this._last_clickPositionY = _0xb8e92f.windowPosition.y;
      let _0x19e931 = _0xb8e92f.cartesian;
      if (!_0x19e931 && this._hadRemoveLastMovePoint) {
        _0x19e931 = this._positions_draw[this._positions_draw.length - 1];
      }
      if (_0x19e931) {
        this._drawAddPoint(_0xb8e92f, _0x19e931);
      }
    }
    _drawAddPoint(_0x1b6715, _0x38dc02) {
      var _0x2b8c10;
      if (this.options.updateDrawPosition) {
        _0x38dc02 = this.options.updateDrawPosition(_0x38dc02, this);
        if (!_0x38dc02) {
          return;
        }
        _0x1b6715.cartesian = _0x38dc02;
      }
      if (this.options.validDrawPosition) {
        const _0x246bb4 = this.options.validDrawPosition(_0x38dc02, this);
        if (!_0x246bb4) {
          return;
        }
      }
      this._removeLastMovePoint();
      this.removeNearPoint();
      if ((_0x2b8c10 = this.options) !== null && _0x2b8c10 !== undefined && _0x2b8c10.addHeight) {
        _0x38dc02 = addPositionsHeight(_0x38dc02, this.options.addHeight);
      }
      this._positions_draw.push(_0x38dc02);
      this.updateAttrForDrawing(false);
      if (!isPCBroswer()) {
        this._showDrawMouseMoveSmallTooltip(_0x1b6715);
      }
      this.fire(EventType.drawAddPoint, {
        ..._0x1b6715,
        drawType: this.type,
        positions: this._positions_draw
      }, true);
      if (this._positions_draw.length >= this._maxPointNum) {
        this.stopDraw();
      }
    }
    _onRightClickHandler(_0x4d394e) {
      if (this._positions_draw.length <= 1) {
        return;
      }
      this._removeLastMovePoint();
      this._positions_draw.pop();
      const _0x4eca2c = _0x4d394e?.cartesian;
      if (_0x4eca2c) {
        this.fire(EventType.drawRemovePoint, {
          ..._0x4d394e,
          drawType: this.type,
          positions: this._positions_draw
        }, true);
        this._positions_draw.push(_0x4eca2c);
        this._hadRemoveLastMovePoint = true;
        this.updateAttrForDrawing(false);
      }
    }
    _onDbClickHandler(_0x1e6a53) {
      if (_0x1e6a53.type !== EventType.dblClick) {
        this._hadRemoveLastMovePoint = false;
      }
      this.removeNearPoint();
      this.endDraw();
    }
    removeNearPoint() {
      if (this._positions_draw.length < 3) {
        return;
      }
      for (let _0x96fd33 = this._positions_draw.length - 1; _0x96fd33 > 0; _0x96fd33--) {
        const _0x462dc1 = this._positions_draw[_0x96fd33];
        const _0x4fb5c9 = this._positions_draw[_0x96fd33 - 1];
        const _0x5b57bc = Cesium__namespace.Cartesian3.distance(_0x462dc1, _0x4fb5c9);
        if (_0x5b57bc < 0.01) {
          this._positions_draw.splice(_0x96fd33, 1);
        } else {
          break;
        }
      }
    }
    endDraw() {
      if (!this._isDrawing) {
        return false;
      }
      if (this._positions_draw && this._positions_draw.length < this._minPointNum) {
        return false;
      }
      this.updateAttrForDrawing(false);
      this.stopDraw();
      return true;
    }
    updateAttrForDrawing(_0x493936) {}
    startEditing() {
      if (this._isEditing) {
        return this;
      }
      this._isEditing = true;
      if (!this._map) {
        throw new Error("编辑时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._map.mouseEvent.noPickEntity = this._entity;
      this._map.mouseEvent.enabledMoveTarget = false;
      if (this.editing) {
        let _0x43ecf8 = false;
        if (this.hasTimePostion) {
          if (!(this.editing instanceof EditTimePoint)) {
            _0x43ecf8 = true;
          }
        } else if (this.hasTimePostions) {
          if (!(this.editing instanceof EditTimePoly)) {
            _0x43ecf8 = true;
          }
        } else if (this.editing instanceof EditTimePoint || this.editing instanceof EditTimePoly) {
          _0x43ecf8 = true;
        }
        if (_0x43ecf8) {
          this.editing.destroy();
          delete this.editing;
        }
      }
      if (!this.editing) {
        let _0x5e1163;
        if (this.hasTimePostion) {
          _0x5e1163 = EditTimePoint;
        } else if (this.hasTimePostions) {
          _0x5e1163 = EditTimePoly;
        } else {
          _0x5e1163 = this.EditClass;
        }
        this.editing = new _0x5e1163(this);
      }
      if (this.editing.activate) {
        this.editing.activate();
      }
      if (this._isCallbackPositions) {
        this._updateDistanceDisplayConditionByEdit();
      }
    }
    stopEditing() {
      var _0x43dc27;
      if (!this._isEditing || !this.isAdded) {
        return this;
      }
      if ((_0x43dc27 = this.editing) !== null && _0x43dc27 !== undefined && _0x43dc27.disable) {
        this.editing.disable();
      }
      if (!this.options) {
        return;
      }
      if (this.style.distanceDisplayCondition) {
        this._updateDistanceDisplayConditionByEdit();
      }
      if (this._stopEditingHook) {
        this._stopEditingHook();
      }
      if (this._map) {
        this._map.closeSmallTooltip();
        this._map.mouseEvent.noPickEntity = null;
        this._map.mouseEvent.enabledMoveTarget = true;
      }
      this._isEditing = false;
    }
    _creteLineForTime() {
      let _0x3fbffd;
      if (this.isPoint) {
        this._orientation = null;
        this._setPointPostion(new Cesium__namespace.CallbackProperty(_0x50f2ef => {
          if (!this._position_draw && this._positions_draw?.length > 0) {
            return this._positions_draw[0];
          }
          return this._position_draw;
        }, false));
        _0x3fbffd = new Cesium__namespace.CallbackProperty(_0x24a38d => {
          return this._positions_draw;
        }, false);
      } else {
        _0x3fbffd = new Cesium__namespace.CallbackProperty(_0x416178 => {
          return this._positions_draw_time;
        }, false);
      }
      if (this._line_forytime) {
        this._layer.removeGraphic(this._line_forytime, true);
        delete this._line_forytime;
      }
      this._line_forytime = create$5("polyline", {
        positions: _0x3fbffd,
        style: {
          width: 2,
          materialType: "LineFlowColor",
          materialOptions: {
            color: "#ffff00",
            speed: 5,
            percent: 0.2,
            alpha: 0.3
          },
          ...this.options.timeline
        },
        private: true
      });
      this._line_forytime.parent = this;
      this._layer.addGraphic(this._line_forytime);
    }
    _removeLineForTime() {
      if (this._line_forytime) {
        this._layer.removeGraphic(this._line_forytime, true);
        delete this._line_forytime;
      }
      if (this.isPoint) {
        this._setPointPostion(this.property);
      }
    }
  }
  class EditPoint extends EditBase {
    get position() {
      return this._graphic._position_draw;
    }
    set position(_0x57ee04) {
      this._graphic._position_draw = _0x57ee04;
    }
    bindDraggers() {
      this.createDragger({
        dragger: this._graphic,
        onDrag: (_0x25201c, _0x5512bd) => {
          this.position = _0x5512bd;
        }
      });
    }
    finish() {
      delete this._graphic._draw_tooltip;
      delete this._graphic._isDragger;
      delete this._graphic._noMousePick;
      delete this._graphic._pointType;
      delete this._graphic.onDrag;
    }
  }
  class BasePointEntity extends BaseEntity {
    constructor(_0x57f4b3 = {}) {
      super(_0x57f4b3);
      this._isPoint = true;
      if (this.hasTimePostion) {
        this._minPointNum = this.options.minPointNum ?? 2;
        this._maxPointNum = this.options.maxPointNum ?? 9999;
      } else {
        this._minPointNum = _0x57f4b3.minPointNum ?? 1;
        this._maxPointNum = _0x57f4b3.maxPointNum ?? 1;
      }
    }
    get EditClass() {
      return EditPoint;
    }
    get position() {
      return this._position;
    }
    set position(_0x3e01d8) {
      if (this.isEditing && _0x3e01d8?.type !== this.options.position?.type) {
        this.stopEditing();
        if (this.isDestroy) {
          return;
        }
      }
      this.options.position = _0x3e01d8;
      this._setPointPostionFoyType(_0x3e01d8);
    }
    _setPointPostion(_0x156ee8) {
      var _0x115b0a;
      var _0x3f3881;
      this._point = LngLatPoint.parse(_0x156ee8);
      if (this._point && (this._point.lat !== 0 || this._point.lng !== 0)) {
        const _0x1b2eae = this.getSetHeight();
        if (Cesium__namespace.defined(_0x1b2eae)) {
          this._point.alt = _0x1b2eae;
        }
        const _0x5362be = this.getAddHeight();
        if (Cesium__namespace.defined(_0x5362be)) {
          this._point.alt += _0x5362be;
        }
      }
      const _0x558df2 = (_0x115b0a = this._point) === null || _0x115b0a === undefined ? undefined : _0x115b0a.toCartesian();
      if ((_0x3f3881 = this.editing) !== null && _0x3f3881 !== undefined && _0x3f3881.enabled && _0x558df2 instanceof Cesium__namespace.Cartesian3) {
        this._position_draw = _0x558df2;
        if (_0x558df2 && this._positions_draw?.length > 0) {
          this._positions_draw[0] = _0x558df2;
        }
      } else {
        if (this._isCallbackPositions && _0x558df2 instanceof Cesium__namespace.Cartesian3) {
          this._cancelPositionsCallback();
        }
        this._position = _0x558df2;
      }
      if (this._entity) {
        this._updatePositionsHook();
      }
      if (this._getRectangle_cache) {
        delete this._getRectangle_cache;
      }
      this.fire(EventType.updatePosition, {
        position: this._position
      });
    }
    get positions() {
      const _0x1c574e = this.positionShow;
      if (_0x1c574e) {
        return [_0x1c574e];
      } else {
        return [];
      }
    }
    set positions(_0x36ff73) {
      if (_0x36ff73 && _0x36ff73.length > 0) {
        this.position = _0x36ff73[0];
      }
    }
    get positionShow() {
      var _0x393c94;
      return getPositionValue(this.position, (_0x393c94 = this._map) === null || _0x393c94 === undefined ? undefined : _0x393c94.clock.currentTime);
    }
    get point() {
      if (!this._point || isNaN(this._point.lat) || !(this._position instanceof Cesium__namespace.Cartesian3)) {
        this._point = LngLatPoint.parse(this.positionShow);
      }
      return this._point;
    }
    get center() {
      var _0x435ae3;
      if (this.isEditing || this.isDrawing) {
        if (this._position_draw) {
          return this._position_draw;
        }
        if (this._positions_draw?.length > 0) {
          return this._positions_draw[0];
        }
      }
      return getPositionValue(this.positionShow, (_0x435ae3 = this._map) === null || _0x435ae3 === undefined ? undefined : _0x435ae3.clock.currentTime);
    }
    get centerPoint() {
      return this.point;
    }
    get orientation() {
      return this.getOrientation();
    }
    set orientation(_0x3749ee) {
      this._orientation = _0x3749ee;
      this.updateOrientation();
    }
    get heading() {
      return this.style.heading ?? 0;
    }
    set heading(_0x1e0abc) {
      this.style.heading = _0x1e0abc;
      this.updateOrientation();
    }
    get pitch() {
      return this.style.pitch ?? 0;
    }
    set pitch(_0x362e60) {
      this.style.pitch = _0x362e60;
      this.updateOrientation();
    }
    get roll() {
      return this.style.roll ?? 0;
    }
    set roll(_0x478212) {
      this.style.roll = _0x478212;
      this.updateOrientation();
    }
    get height() {
      return this.point?.alt;
    }
    set height(_0x280c2e) {
      this.point.alt = _0x280c2e;
      this._setPointPostion(this.point);
    }
    get modelMatrix() {
      if (this._entity) {
        var _0x4fe429;
        return this._entity.computeModelMatrix((_0x4fe429 = this._map) === null || _0x4fe429 === undefined || (_0x4fe429 = _0x4fe429.clock) === null || _0x4fe429 === undefined ? undefined : _0x4fe429.currentTime, new Cesium__namespace.Matrix4());
      } else {
        return undefined;
      }
    }
    get debugAxis() {
      return this._debugAxis;
    }
    set debugAxis(_0xf01b87) {
      this._debugAxis = _0xf01b87;
      if (!this.debugAxisPrimitive) {
        const _0x2d11bb = Math.max(Cesium__namespace.Cartographic.fromCartesian(this.positionShow).height * 0.06, 100);
        this.debugAxisPrimitive = this._layer.primitiveCollection.add(new Cesium__namespace.DebugModelMatrixPrimitive({
          modelMatrix: this.modelMatrix,
          length: _0x2d11bb,
          width: 5
        }));
        this.debugAxisPrimitive._tooltipConfig = {
          content: "<span style=\"color: red;\">红色</span> 是 X轴<br/>\n                  <span style=\"color: green;\">绿色</span> 是 Y轴<br/>\n                  <span style=\"color: blue;\">蓝色</span> 是 Z轴",
          options: this.options.tooltipOptions
        };
        if (this._hasPropertyPostion(this.position)) {
          this.debugAxisPrimitive._timeTik = setInterval(() => {
            this.debugAxisPrimitive.modelMatrix = this.modelMatrix;
          }, 300);
        }
        this.bindPickId(this.debugAxisPrimitive);
      }
      this.debugAxisPrimitive.show = _0xf01b87;
    }
    get debugAxisLength() {
      if (this.debugAxisPrimitive) {
        return this.debugAxisPrimitive.length;
      } else {
        return 0;
      }
    }
    set debugAxisLength(_0x58774f) {
      if (!this.debugAxisPrimitive) {
        this.debugAxis = true;
      }
      this.debugAxisPrimitive.length = _0x58774f;
    }
    get objectsToExclude() {
      if (this.options.objectsToExclude) {
        return this.options.objectsToExclude;
      }
      if (this._objectsToExcludee) {
        return this._objectsToExclude;
      }
      return undefined;
    }
    set objectsToExclude(_0x4975da) {
      this._objectsToExclude = _0x4975da;
    }
    _mountedHook() {}
    _removedHook() {
      super._removedHook();
      if (this.debugAxisPrimitive) {
        clearInterval(this.debugAxisPrimitive._timeTik);
        this._layer.primitiveCollection.remove(this.debugAxisPrimitive);
        delete this.debugAxisPrimitive;
      }
    }
    _updatePositionsHook() {
      this._entity.position = this._position;
      if (this.debugAxisPrimitive) {
        this.debugAxisPrimitive.modelMatrix = this.modelMatrix;
      }
      this._updateEditDraggers();
      this._updateLabelPosition(this._position, false);
    }
    updateOrientation() {
      this._entity.orientation = this.getOrientation();
      if (this.debugAxisPrimitive) {
        this.debugAxisPrimitive.modelMatrix = this.modelMatrix;
      }
      return this._entity.orientation;
    }
    getOrientation(_0x249f3c) {
      _0x249f3c = _0x249f3c || this.options.model || this.style;
      let _0x54ee20 = this.options.orientation || this._orientation;
      if (_0x54ee20) {
        const _0x599879 = _0x249f3c.mergeOrientation || Cesium__namespace.defined(_0x249f3c.heading) || Cesium__namespace.defined(_0x249f3c.pitch) || Cesium__namespace.defined(_0x249f3c.roll);
        if (_0x54ee20 instanceof Cesium__namespace.VelocityOrientationProperty && _0x599879) {
          const _0x31627c = _0x54ee20;
          _0x54ee20 = new Cesium__namespace.CallbackProperty(_0x40ae73 => {
            const _0x2224b5 = getPositionValue(this.position, _0x40ae73);
            const _0x1354e5 = _0x31627c.getValue(_0x40ae73);
            if (!_0x2224b5 || !_0x1354e5) {
              return null;
            }
            const _0x415b89 = Cesium__namespace.Math.toRadians(_0x249f3c.heading ?? this.heading);
            const _0x1bcc4f = Cesium__namespace.Math.toRadians(_0x249f3c.pitch ?? this.pitch);
            const _0x417765 = Cesium__namespace.Math.toRadians(_0x249f3c.roll ?? this.roll);
            const _0x3cf5c3 = getHeadingPitchRollByOrientation(_0x2224b5, _0x1354e5, this.ellipsoid, this.fixedFrameTransform);
            if (_0x249f3c.mergeOrientation) {
              _0x3cf5c3.heading += _0x415b89;
              _0x3cf5c3.roll += _0x417765;
              _0x3cf5c3.pitch += _0x1bcc4f;
            } else {
              if (Cesium__namespace.defined(_0x249f3c.heading)) {
                _0x3cf5c3.heading = _0x415b89;
              }
              if (Cesium__namespace.defined(_0x249f3c.roll)) {
                _0x3cf5c3.roll = _0x417765;
              }
              if (Cesium__namespace.defined(_0x249f3c.pitch)) {
                _0x3cf5c3.pitch = _0x1bcc4f;
              }
            }
            return Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x2224b5, _0x3cf5c3, this.ellipsoid, this.fixedFrameTransform);
          }, false);
        }
        return _0x54ee20;
      }
      const _0x2a46b8 = this.positionShow;
      if (_0x2a46b8 == null) {
        return;
      }
      const _0x252795 = Cesium__namespace.Math.toRadians(_0x249f3c.heading ?? 0);
      const _0x5e4665 = Cesium__namespace.Math.toRadians(_0x249f3c.pitch ?? 0);
      const _0x5f317e = Cesium__namespace.Math.toRadians(_0x249f3c.roll ?? 0);
      const _0x4b0796 = new Cesium__namespace.HeadingPitchRoll(_0x252795, _0x5e4665, _0x5f317e);
      return Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x2a46b8, _0x4b0796, this.ellipsoid, this.fixedFrameTransform);
    }
    _getGeoJsonGeometry(_0x5e5ee9) {
      return {
        type: "Point",
        coordinates: this.getCoord(_0x5e5ee9)
      };
    }
    get hasAjaxPostion() {
      return this._hasPointTypePostion("ajax");
    }
    get hasTimePostion() {
      return this._hasPointTypePostion("time") || this.property;
    }
    get timeRange() {
      return this._getPointTimeRange();
    }
    get timeRangeStr() {
      return this._getPointTimeRange(true);
    }
    clearTimePostion(_0x524e10) {
      return this._clearPointTimePostion(_0x524e10);
    }
    _initSampledPositionProperty() {
      if (!this.options.position || this.options.position.type !== "time") {
        this.options.position = {
          type: "time"
        };
      }
      this._clampToTilesetFrame = -1;
      this._frameRateHeight = this.options.frameRateHeight ?? 30;
      this._maxCacheCount = this.options.maxCacheCount ?? 1000;
      const _0x3d059c = new Cesium__namespace.SampledPositionProperty(this.options.referenceFrame, this.options.numberOfDerivatives);
      _0x3d059c.forwardExtrapolationType = this.options.forwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
      _0x3d059c.backwardExtrapolationType = this.options.backwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
      if (!this._orientation) {
        this._orientation = new Cesium__namespace.VelocityOrientationProperty(_0x3d059c);
        if (this._entity) {
          this._entity.orientation = this.getOrientation();
        }
      }
      this.property = _0x3d059c;
      if (this.options.path) {
        this._setPointPostion(_0x3d059c);
      } else {
        const _0x7cf20d = new Cesium__namespace.CallbackProperty(_0x2e2334 => {
          if (!this._map) {
            return undefined;
          }
          let _0x855c3b = _0x3d059c.getValue(_0x2e2334);
          if (!_0x855c3b) {
            if (!this._last_isFireStop && this._stopTime && Cesium__namespace.JulianDate.greaterThanOrEquals(_0x2e2334, this._stopTime)) {
              this._last_isFireStop = true;
              this.fire(EventType.stop);
            }
            return this._last_position;
          }
          if (_0x855c3b && this.options.clampToTileset) {
            this._clampToTilesetFrame++;
            if (!this._clampToTilesetHeight || this._clampToTilesetFrame % this._frameRateHeight === 0) {
              const _0x405d3a = getHeight(this._map.scene, _0x855c3b);
              if (_0x405d3a) {
                this._clampToTilesetHeight = _0x405d3a;
              }
            }
            if (this._clampToTilesetHeight) {
              const _0x94739a = Cesium__namespace.Cartographic.fromCartesian(_0x855c3b);
              let _0x283864 = this.getAddHeight();
              if (!Cesium__namespace.defined(_0x283864)) {
                _0x283864 = 0;
              }
              _0x855c3b = Cesium__namespace.Cartesian3.fromRadians(_0x94739a.longitude, _0x94739a.latitude, this._clampToTilesetHeight + _0x283864);
            }
          }
          if (this._primitive_label) {
            this._primitive_label.position = _0x855c3b;
          }
          this._last_position = _0x855c3b;
          this._last_isFireStop = false;
          return _0x855c3b;
        }, false);
        this._setPointPostion(_0x7cf20d);
      }
    }
    addTimePosition(_0x49d0c5, _0x344e3f) {
      var _0x19bba2;
      var _0x1c72d6;
      if (!this.property) {
        this._initSampledPositionProperty();
      }
      if (this._maxCacheCount > 0) {
        this.clearTimePostion(this._maxCacheCount);
      }
      const _0x16fef4 = ((_0x19bba2 = this._map) === null || _0x19bba2 === undefined || (_0x19bba2 = _0x19bba2.clock) === null || _0x19bba2 === undefined ? undefined : _0x19bba2.currentTime) || Cesium__namespace.JulianDate.now();
      if (!_0x344e3f) {
        _0x344e3f = _0x16fef4;
      } else if (isNumber(_0x344e3f)) {
        _0x344e3f = Cesium__namespace.JulianDate.addSeconds(_0x16fef4, _0x344e3f, new Cesium__namespace.JulianDate());
      } else if (isString(_0x344e3f)) {
        if (_0x344e3f.indexOf("Z") === -1) {
          _0x344e3f = Cesium__namespace.JulianDate.fromDate(new Date(_0x344e3f));
        } else {
          _0x344e3f = Cesium__namespace.JulianDate.fromIso8601(_0x344e3f);
        }
      } else if (_0x344e3f instanceof Date) {
        _0x344e3f = Cesium__namespace.JulianDate.fromDate(_0x344e3f);
      }
      _0x49d0c5 = LngLatPoint.parse(_0x49d0c5);
      const _0x2c3718 = (_0x1c72d6 = this.property) === null || _0x1c72d6 === undefined || (_0x1c72d6 = _0x1c72d6._property) === null || _0x1c72d6 === undefined ? undefined : _0x1c72d6._times;
      if (this.options.autoMiddleTimePosition && _0x2c3718?.length > 0 && this._position) {
        const _0xbb5dfd = _0x2c3718[_0x2c3718.length - 1];
        if (Cesium__namespace.JulianDate.secondsDifference(_0x16fef4, _0xbb5dfd) > 0.3) {
          let _0x346a6a = this._position;
          if (this._lastDynamicPosition) {
            const _0x309331 = 0.01;
            _0x346a6a = getOnLinePointByLen(this._lastDynamicPosition, this._position, _0x309331, true);
          }
          _0x346a6a = setPositionsHeight(_0x346a6a, _0x49d0c5.alt || 0);
          this.property.addSample(_0x16fef4, _0x346a6a);
        }
      }
      const _0x1ad173 = _0x49d0c5.toCartesian();
      this.property.addSample(_0x344e3f, _0x1ad173);
      if (this._auto_availability && (this.options.path || this.type === "path")) {
        this._setAutoAvailability();
      }
      this._lastDynamicPosition = _0x1ad173;
      this._stopTime = _0x344e3f;
      return this;
    }
    _setAutoAvailability(_0x29948d) {
      var _0x3f89ff;
      const _0x5dca42 = this.property || this.position;
      const _0x5a1132 = _0x5dca42 === null || _0x5dca42 === undefined || (_0x3f89ff = _0x5dca42._property) === null || _0x3f89ff === undefined ? undefined : _0x3f89ff._times;
      if (_0x5a1132 && _0x5a1132.length > 0) {
        let _0x138bf3 = _0x5a1132[0];
        let _0x59f516 = _0x5a1132[_0x5a1132.length - 1];
        if (this.position?.backwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
          _0x138bf3 = Cesium__namespace.JulianDate.addDays(_0x138bf3, -365, new Cesium__namespace.JulianDate());
        }
        if (this.position?.forwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
          _0x59f516 = Cesium__namespace.JulianDate.addDays(_0x59f516, 365, new Cesium__namespace.JulianDate());
        }
        const _0x390988 = {
          start: _0x138bf3,
          stop: _0x59f516
        };
        this.availability = new Cesium__namespace.TimeIntervalCollection([new Cesium__namespace.TimeInterval(_0x390988)]);
        if (_0x29948d) {
          _0x29948d.availability = this._availability;
        }
      } else if (this._map) {
        let _0x147c0b = this.currentTime;
        let _0x14689d = Cesium__namespace.JulianDate.addDays(_0x147c0b, 1, new Cesium__namespace.JulianDate());
        if (this.position?.backwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
          _0x147c0b = Cesium__namespace.JulianDate.addDays(_0x147c0b, -365, new Cesium__namespace.JulianDate());
        }
        if (this.position?.forwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
          _0x14689d = Cesium__namespace.JulianDate.addDays(_0x14689d, 365, new Cesium__namespace.JulianDate());
        }
        const _0x478b60 = {
          start: _0x147c0b,
          stop: _0x14689d
        };
        this.availability = new Cesium__namespace.TimeIntervalCollection([new Cesium__namespace.TimeInterval(_0x478b60)]);
        if (_0x29948d) {
          _0x29948d.availability = this._availability;
        }
      }
      this._auto_availability = true;
    }
    _getPopupPosition() {
      return this.property || this.position || this.center;
    }
    autoSurfaceHeight(_0x253494 = {}) {
      return getSurfaceHeight(this._map.scene, this.position, {
        objectsToExclude: this._layer.objectsToExclude,
        ..._0x253494
      }).then(_0x2d5a6e => {
        if (_0x2d5a6e.position) {
          this._setPointPostion(_0x2d5a6e.position);
        }
      });
    }
    setCallbackPosition(_0x46c1e8) {
      this._setPositionsToCallback();
      if (_0x46c1e8) {
        this._position_draw = LngLatPoint.toCartesian(_0x46c1e8);
      }
      return this._position_draw;
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions || this.hasTimePostion) {
        return;
      }
      this._isCallbackPositions = true;
      this._position_draw = this.positionShow;
      const _0x14c308 = new Cesium__namespace.CallbackProperty(_0x349801 => {
        this._updateLabelPosition(this._position_draw, false);
        return this._position_draw;
      }, false);
      this._setPointPostion(_0x14c308);
      if (this.updateAttrForDrawing) {
        this.updateAttrForDrawing(true);
      }
      this._updateOutlineToCallback();
      this._updateLabelPosition(this._position_draw, false);
    }
    _cancelPositionsCallback() {
      if (!this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = false;
      this._position = this._position_draw;
      this._point = LngLatPoint.fromCartesian(this._position);
      delete this._position_draw;
      if (this._entity) {
        this._entity.position = this._position;
      }
    }
    _startDrawHook() {
      if (this.hasTimePostion) {
        this._positions_draw = [];
        this._creteLineForTime();
        this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
        if (this._drawAddEventType) {
          this._map.on(this._drawAddEventType, this._onClickHandler, this);
        }
        if (this._drawEndEventType) {
          this._map.on(this._drawEndEventType, this._onDbClickHandler, this);
        }
        if (this.options.hasDrawDelPoint ?? true) {
          this._map.on(this._drawDelEventType, this._onRightClickHandler, this);
        }
      } else {
        var _0x5bf36d;
        if (this.options.drawShow === false) {
          this._updateCzmObjectShow(this.options.drawShow);
        }
        if (((_0x5bf36d = this.entityGraphic) === null || _0x5bf36d === undefined || (_0x5bf36d = _0x5bf36d.disableDepthTestDistance) === null || _0x5bf36d === undefined ? undefined : _0x5bf36d._value) === Number.POSITIVE_INFINITY) {
          this.entityGraphic.disableDepthTestDistance = 0;
          this._last_visibleDepth_update = true;
        }
        this._map.on(EventType.mouseMove, this._onMouseMoveHandler_point, this);
        if (this._drawAddEventType) {
          this._map.on(this._drawAddEventType, this._onClickHandler_point, this);
        }
        if (this._drawEndEventType && this._drawEndEventType !== EventType.dblClick) {
          this._map.on(this._drawEndEventType, this._onClickHandler_point, this);
        }
      }
    }
    _stopDrawHook() {
      if (this.hasTimePostion) {
        this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
        if (this._drawAddEventType) {
          this._map.off(this._drawAddEventType, this._onClickHandler, this);
        }
        if (this._drawEndEventType) {
          this._map.off(this._drawEndEventType, this._onDbClickHandler, this);
        }
        if (this.options.hasDrawDelPoint ?? true) {
          this._map.off(this._drawDelEventType, this._onRightClickHandler, this);
        }
        this._removeLineForTime();
        this._setPointTimePosition(this._positions_draw);
        if (this._auto_availability && (this.options.path || this.type === "path")) {
          this._setAutoAvailability();
        }
      } else {
        this._map.off(EventType.mouseMove, this._onMouseMoveHandler_point, this);
        if (this._drawAddEventType) {
          this._map.off(this._drawAddEventType, this._onClickHandler_point, this);
        }
        if (this._drawEndEventType && this._drawEndEventType !== EventType.dblClick) {
          this._map.off(this._drawEndEventType, this._onClickHandler_point, this);
        }
        if (this.options.drawShow === false) {
          this._updateCzmObjectShow(true);
        }
        if (this._last_visibleDepth_update) {
          this.entityGraphic.disableDepthTestDistance = Number.POSITIVE_INFINITY;
          delete this._last_visibleDepth_update;
        }
      }
    }
    _onMouseMoveHandler_point(_0x5db27e) {
      const _0x358127 = _0x5db27e.cartesian;
      if (_0x358127) {
        this._position_draw = _0x358127;
        this._hadRemoveLastMovePoint = true;
      }
      this._map.openSmallTooltip(_0x5db27e.endPosition, this._draw_tooltip || this._map.getLangText("_单击完成绘制"));
      this.fire(EventType.drawMouseMove, {
        ..._0x5db27e,
        drawType: this.type,
        graphic: this
      }, true);
    }
    _onClickHandler_point(_0x234d92) {
      const _0x3ba394 = _0x234d92.cartesian;
      if (_0x3ba394) {
        this._position_draw = _0x3ba394;
      }
      if (this._position_draw) {
        this._hadRemoveLastMovePoint = false;
        this.stopDraw();
      }
    }
    addDynamicPosition(_0x3ceae6, _0x4e0ef0) {
      return this.addTimePosition(_0x3ceae6, _0x4e0ef0);
    }
    get coordinate() {
      return this.getCoord();
    }
    getCoordinate(_0x11db21) {
      const _0x2b0b23 = {
        noAlt: _0x11db21
      };
      return this.getCoord(_0x2b0b23);
    }
  }
  class BasePolyEntity extends BaseEntity {
    constructor(_0x32ea58 = {}) {
      super(_0x32ea58);
      this._minPointNum = _0x32ea58.minPointNum ?? 2;
      this._maxPointNum = _0x32ea58.maxPointNum ?? 9999;
      this._hasHeightEdit = _0x32ea58.hasHeightEdit ?? true;
    }
    get hasMidPoint() {
      return this.options.hasMidPoint ?? true;
    }
    get hasHeightEdit() {
      return this._hasHeightEdit;
    }
    get EditClass() {
      return EditPoly;
    }
    get center() {
      if (this.style.closure) {
        return this.centerOfMass;
      } else {
        return this.centerOfLine;
      }
    }
    get centerOfMass() {
      const _0x5e2d70 = this._positions_show ?? this._positions_draw ?? this.positionsShow;
      return centerOfMass(_0x5e2d70);
    }
    get centerOfLine() {
      const _0xd7128d = this._positions_show ?? this._positions_draw ?? this.positionsShow;
      let _0x4cb2d9;
      if (Cesium__namespace.defined(this.entityGraphic?.height)) {
        _0x4cb2d9 = getCesiumValue(this.entityGraphic.height, Number);
      }
      return centerOfLine(_0xd7128d, _0x4cb2d9);
    }
    get distance() {
      return getDistance(this.positionsShow);
    }
    get area() {
      return getArea(this.positionsShow);
    }
    get positions() {
      if (this._getPositions) {
        return this._getPositions();
      }
      return this._positions;
    }
    set positions(_0x3d6765) {
      if (this.isEditing && _0x3d6765?.type !== this.options.positions?.type) {
        this.stopEditing();
        if (this.isDestroy) {
          return;
        }
      }
      this.options.positions = _0x3d6765;
      this._setPolyPostionsFoyType(_0x3d6765);
    }
    _setPolyPostions(_0x2f5ae5) {
      if (Array.isArray(_0x2f5ae5)) {
        var _0x4cf9ce;
        const _0x337ae9 = [];
        const _0x23e830 = [];
        _0x2f5ae5.forEach((_0xd6e4a2, _0x45d939) => {
          const _0x12eacd = LngLatPoint.parse(_0xd6e4a2);
          if (!_0x12eacd || !_0x12eacd.valid()) {
            return;
          }
          const _0x4041fd = _0x337ae9[_0x337ae9.length - 1];
          if (_0x4041fd && _0x4041fd.equals(_0x12eacd)) {
            return;
          }
          const _0x4821a3 = this.getSetHeight(this.style, _0x45d939);
          if (Cesium__namespace.defined(_0x4821a3)) {
            _0x12eacd.alt = _0x4821a3;
          }
          const _0x3e94cc = this.getAddHeight(this.style, _0x45d939);
          if (Cesium__namespace.defined(_0x3e94cc)) {
            _0x12eacd.alt = _0x12eacd.alt + _0x3e94cc;
          }
          _0x337ae9.push(_0x12eacd);
          _0x23e830.push(_0x12eacd.toCartesian());
        });
        if ((_0x4cf9ce = this.editing) !== null && _0x4cf9ce !== undefined && _0x4cf9ce.enabled) {
          this._positions_draw = _0x23e830;
        } else {
          if (this._positions_draw) {
            this._cancelPositionsCallback();
          }
          this._positions = _0x23e830;
        }
        this._points = _0x337ae9;
      } else {
        this._positions = _0x2f5ae5;
      }
      if (this._entity) {
        this._updatePositionsHook();
      }
      if (this._getRectangle_cache) {
        delete this._getRectangle_cache;
      }
      this.fire(EventType.updatePosition, {
        positions: this._positions
      });
    }
    get positionsShow() {
      if (this._positions_show) {
        return this._positions_show;
      }
      if (this.isEditing || this.isDrawing) {
        if (this._positions_draw?.length > 0) {
          return getCesiumValue(this._positions_draw);
        }
      }
      if (this._positions) {
        let _0xf05255 = getCesiumValue(this._positions);
        if (_0xf05255 instanceof Cesium__namespace.PolygonHierarchy) {
          _0xf05255 = _0xf05255.positions;
        } else if (_0xf05255 instanceof Cesium__namespace.Rectangle) {
          _0xf05255 = this.outlinePositions;
        } else if (_0xf05255 instanceof Cesium__namespace.Cartesian3) {
          _0xf05255 = [_0xf05255];
        }
        return _0xf05255;
      }
      if (this.options.positions && !this.options.positions.type) {
        this._setPolyPostions(this.options.positions);
        return this._positions;
      }
    }
    get points() {
      if (this._positions instanceof Cesium__namespace.CallbackProperty) {
        let _0x346004;
        if (this._positions_draw && Array.isArray(this._positions_draw)) {
          _0x346004 = this._positions_draw;
        } else {
          _0x346004 = this.positionsShow;
          if (this.style.closure) {
            _0x346004.pop();
          }
        }
        const _0x4072a2 = [];
        _0x346004.forEach(function (_0x33c36d) {
          const _0x35d0ef = LngLatPoint.parse(_0x33c36d);
          if (!_0x35d0ef) {
            return;
          }
          _0x4072a2.push(_0x35d0ef);
        });
        this._points = _0x4072a2;
      }
      if (!this._points) {
        this._points = LngLatArray.toPoints(this._positions);
      }
      return this._points;
    }
    get rectangle() {
      return Cesium__namespace.Rectangle.fromCartesianArray(this.positions);
    }
    getEntityPositions() {
      return this.entityGraphic.positions;
    }
    _mountedHook() {}
    _updatePositionsHook() {
      this._updateLabelPosition();
      this._updateEditDraggers();
    }
    _getGeoJsonGeometry(_0x2b3b13) {
      return {
        type: "LineString",
        coordinates: this.getCoord(_0x2b3b13)
      };
    }
    isInPoly(_0x2742fb) {
      return isInPoly(_0x2742fb, this.positionsShow);
    }
    autoSurfaceHeight(_0x5dbbe4 = {}) {
      const _0x305de2 = {
        ..._0x5dbbe4
      };
      _0x305de2.map = this._map;
      _0x305de2.positions = this.positionsShow;
      return computeSurfacePoints(_0x305de2).then(_0x19f21f => {
        if (!_0x19f21f.noHeight) {
          this._setPolyPostions(_0x19f21f.positions);
        }
        return _0x19f21f;
      });
    }
    get hasAjaxPostions() {
      return this._hasPolyTypePostions("ajax");
    }
    get hasTimePostions() {
      return this._hasPolyTypePostions("time");
    }
    get timeRange() {
      return this._getPolyTimeRange();
    }
    get timeRangeStr() {
      return this._getPolyTimeRange(true);
    }
    addTimePositions(_0x3a07de, _0x4952d1 = 0) {
      const _0x44dfbe = {
        positions: _0x3a07de,
        time: _0x4952d1
      };
      const _0x6259c2 = _0x44dfbe;
      if (this.hasTimePostions) {
        var _0x444c1c;
        if ((_0x444c1c = this.options.positions) === null || _0x444c1c === undefined || !_0x444c1c.list) {
          this.options.positions = this.options.positions || {
            type: "time"
          };
          this.options.positions.list = this.options.positions.list || [];
        }
        this.options.positions.list.push(_0x6259c2);
        this._setPolyTimePostions(this.options.positions.list);
      } else {
        const _0x3c674c = {
          type: "time",
          list: [_0x6259c2]
        };
        this.positions = _0x3c674c;
      }
    }
    setCallbackPositions(_0x50ee58) {
      this._setPositionsToCallback();
      if (_0x50ee58) {
        this._positions_draw = LngLatArray.toCartesians(_0x50ee58);
        if (this.getShowPositions && this._positions_show) {
          this._positions_show = this.getShowPositions(this._positions_draw);
        }
        this._updateLabelPosition();
      }
      return this._positions_draw;
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = true;
      let _0x48634b = getCesiumValue(this._positions);
      if (_0x48634b instanceof Cesium__namespace.PolygonHierarchy) {
        _0x48634b = _0x48634b.positions;
      } else if (_0x48634b instanceof Cesium__namespace.Rectangle) {
        _0x48634b = this.outlinePositions;
      }
      this._positions_draw = _0x48634b || this.positionsShow || [];
      const _0x1d1899 = new Cesium__namespace.CallbackProperty(_0x1c794d => {
        return this._positions_CallbackProperty(_0x1c794d);
      }, false);
      this._setPolyPostions(_0x1d1899);
      this._updateOutlineToCallback();
      if (this.updateAttrForDrawing) {
        this.updateAttrForDrawing(true);
      }
      this._updateLabelPosition();
    }
    _positions_CallbackProperty(_0x2fa215) {
      if (this._positions_CallbackPropertyEx) {
        this._positions_CallbackPropertyEx(_0x2fa215);
      }
      return this._positions_draw;
    }
    _cancelPositionsCallback() {
      if (!this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = false;
      this._positions = this._positions_draw;
      this._points = LngLatArray.toPoints(this._positions_draw);
      delete this._positions_draw;
      if (this._entity) {
        this._updatePositionsHook();
        this._cancelOutlinePositionsCallback();
      }
    }
    _startDrawHook() {
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
      if (this._drawAddEventType) {
        this._map.on(this._drawAddEventType, this._onClickHandler, this);
      }
      if (this._drawEndEventType) {
        this._map.on(this._drawEndEventType, this._onDbClickHandler, this);
      }
      if (this.options.hasDrawDelPoint ?? true) {
        this._map.on(this._drawDelEventType, this._onRightClickHandler, this);
      }
    }
    _stopDrawHook() {
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
      if (this._drawAddEventType) {
        this._map.off(this._drawAddEventType, this._onClickHandler, this);
      }
      if (this._drawEndEventType) {
        this._map.off(this._drawEndEventType, this._onDbClickHandler, this);
      }
      if (this.options.hasDrawDelPoint ?? true) {
        this._map.off(this._drawDelEventType, this._onRightClickHandler, this);
      }
    }
    _getExSmallTooltip(_0x479329, _0x460bdc = "") {
      if (this.options.drawShowMeasure === false) {
        return _0x460bdc;
      }
      const _0x13f9b1 = this._positions_draw;
      const _0x499db0 = _0x13f9b1.length;
      if (_0x499db0 < 2) {
        return _0x460bdc;
      }
      const _0x541b39 = {
        unit: this.options.unit,
        getLangText: _0x3b4271 => {
          return this._map.getLangText(_0x3b4271);
        },
        decimal: this.options.decimal
      };
      const _0x4cecb8 = formatDistance(this.distance, _0x541b39);
      if (_0x479329.index === 0) {
        return "<br />" + this._map.getLangText("_总长") + ":" + _0x4cecb8;
      }
      const _0x32c3d6 = _0x479329.index ?? _0x499db0 - 1;
      const _0x430279 = formatDistance(Cesium__namespace.Cartesian3.distance(_0x13f9b1[_0x32c3d6], _0x13f9b1[_0x32c3d6 - 1]), _0x541b39);
      return "<br />" + this._map.getLangText("_总长") + ":" + _0x4cecb8 + " (+" + this._map.getLangText("_距离") + ":" + _0x430279 + ")";
    }
    get coordinates() {
      return this.getCoord();
    }
    getCoordinates(_0x10069b) {
      const _0x547ee3 = {
        noAlt: _0x10069b
      };
      return this.getCoord(_0x547ee3);
    }
  }
  class BasePointPrimitive extends BasePrimitive {
    constructor(_0x4113fa = {}) {
      super(_0x4113fa);
      this._isPoint = true;
    }
    get position() {
      if (this._position) {
        return this._position;
      }
      if (this.property) {
        var _0x838b64;
        return this.property.getValue((_0x838b64 = this._map) === null || _0x838b64 === undefined || (_0x838b64 = _0x838b64.clock) === null || _0x838b64 === undefined ? undefined : _0x838b64.currentTime);
      }
    }
    set position(_0x1742e1) {
      if (this.isEditing && _0x1742e1?.type !== this.options.position?.type) {
        this.stopEditing();
        if (this.isDestroy) {
          return;
        }
      }
      this.options.position = _0x1742e1;
      this._setPointPostionFoyType(_0x1742e1);
    }
    _setPointPostion(_0x250676) {
      var _0x2d5489;
      if (this._forPositionProperty(_0x250676)) {
        return this._position;
      }
      this._point = LngLatPoint.parse(_0x250676);
      if (this._point && (this._point.lat !== 0 || this._point.lng !== 0)) {
        const _0x5438f6 = this.getSetHeight();
        if (Cesium__namespace.defined(_0x5438f6)) {
          this._point.alt = _0x5438f6;
        }
        const _0x1198d3 = this.getAddHeight();
        if (Cesium__namespace.defined(_0x1198d3)) {
          this._point.alt += _0x1198d3;
        }
      }
      this._point = LngLatPoint.parse(_0x250676);
      if (this._point) {
        const _0x29d9f1 = this.getSetHeight();
        if (Cesium__namespace.defined(_0x29d9f1)) {
          this._point.alt = _0x29d9f1;
        }
        const _0x477897 = this.getAddHeight();
        if (Cesium__namespace.defined(_0x477897)) {
          this._point.alt += _0x477897;
        }
      }
      this._position = (_0x2d5489 = this._point) === null || _0x2d5489 === undefined ? undefined : _0x2d5489.toCartesian();
      if (this.options.modelMatrix) {
        delete this.options.modelMatrix;
      }
      if (this.czmObject) {
        this._updatePositionsHook();
      } else if (this._updatePositionsHook_noCzmObject) {
        this._updatePositionsHook_noCzmObject();
      }
      if (this._primitive_label) {
        this._updateLabelPosition();
      }
      if (this._editing_entity) {
        this._editing_entity.position = this._position;
      }
      if (this._getRectangle_cache) {
        delete this._getRectangle_cache;
      }
      this.fire(EventType.updatePosition, {
        position: this._position
      });
    }
    get positionsShow() {
      return this.positions;
    }
    get positionShow() {
      if (this.isEditing) {
        const _0xa66689 = this._editing_entity?.positionShow;
        if (_0xa66689) {
          return _0xa66689;
        }
      }
      if (this._position) {
        return this._position;
      }
      if (this.property) {
        var _0x3431e2;
        return this.property.getValue((_0x3431e2 = this._map) === null || _0x3431e2 === undefined || (_0x3431e2 = _0x3431e2.clock) === null || _0x3431e2 === undefined ? undefined : _0x3431e2.currentTime);
      }
    }
    get point() {
      if (this.isEditing) {
        const _0x2f785e = this._editing_entity?.point;
        if (_0x2f785e) {
          return _0x2f785e;
        }
      }
      return this._point;
    }
    get center() {
      return this.position;
    }
    get centerPoint() {
      return this.point;
    }
    get height() {
      return this.point?.alt;
    }
    set height(_0x271274) {
      this.point.alt = _0x271274;
      this._setPointPostion(this.point);
    }
    get orientation() {
      return this._orientation || this.options.orientation;
    }
    set orientation(_0x4643f7) {
      this._orientation = _0x4643f7;
    }
    get modelMatrix() {
      if (this.options.modelMatrix) {
        return this.options.modelMatrix;
      } else {
        return this._getModelMatrix(this.position, this._orientation);
      }
    }
    get heading() {
      if (Cesium__namespace.defined(this._heading_reality)) {
        return Cesium__namespace.Math.toDegrees(this._heading_reality);
      }
      return this.style.heading ?? 0;
    }
    set heading(_0x29a4fd) {
      this.style.heading = _0x29a4fd;
      this.updateModelMatrix();
    }
    get pitch() {
      if (Cesium__namespace.defined(this._pitch_reality)) {
        return Cesium__namespace.Math.toDegrees(this._pitch_reality);
      }
      return this.style.pitch ?? 0;
    }
    set pitch(_0x43a130) {
      this.style.pitch = _0x43a130;
      this.updateModelMatrix();
    }
    get roll() {
      if (Cesium__namespace.defined(this._roll_reality)) {
        return Cesium__namespace.Math.toDegrees(this._roll_reality);
      }
      return this.style.roll ?? 0;
    }
    set roll(_0x343b41) {
      this.style.roll = _0x343b41;
      this.updateModelMatrix();
    }
    get objectsToExclude() {
      if (this.options.objectsToExclude) {
        return this.options.objectsToExclude;
      }
      if (this._objectsToExcludee) {
        return this._objectsToExclude;
      }
      return undefined;
    }
    set objectsToExclude(_0x4c07d2) {
      this._objectsToExclude = _0x4c07d2;
    }
    get trackedEntity() {
      if (!this._trackedEntity) {
        this._trackedEntity = this._layer.dataSource.entities.add({
          viewFrom: this.options.viewFrom ?? new Cesium__namespace.Cartesian3(-500, -500, 200),
          position: this.property || new Cesium__namespace.CallbackProperty(_0x5138af => {
            return this._position;
          }, false),
          point: {
            pixelSize: 2,
            color: Cesium__namespace.Color.WHITE.withAlpha(0.01)
          }
        });
      }
      return this._trackedEntity;
    }
    get debugAxis() {
      return this._debugAxis;
    }
    set debugAxis(_0x2d2d7f) {
      this._debugAxis = _0x2d2d7f;
      if (!this.debugAxisPrimitive) {
        const _0x5bbc70 = Math.max(Cesium__namespace.Cartographic.fromCartesian(this.positionShow).height * 0.06, 100);
        this.debugAxisPrimitive = this._layer.primitiveCollection.add(new Cesium__namespace.DebugModelMatrixPrimitive({
          modelMatrix: this.modelMatrix,
          length: _0x5bbc70,
          width: 5
        }));
        this.debugAxisPrimitive._tooltipConfig = {
          content: "<span style=\"color: red;\">红色</span> 是 X轴<br/>\n                  <span style=\"color: green;\">绿色</span> 是 Y轴<br/>\n                  <span style=\"color: blue;\">蓝色</span> 是 Z轴",
          options: this.options.tooltipOptions
        };
        if (this.property) {
          this.debugAxisPrimitive._timeTik = setInterval(() => {
            this.debugAxisPrimitive.modelMatrix = this.modelMatrix;
          }, 300);
        }
        this.bindPickId(this.debugAxisPrimitive);
      }
      this.debugAxisPrimitive.show = _0x2d2d7f;
    }
    get debugAxisLength() {
      if (this.debugAxisPrimitive) {
        return this.debugAxisPrimitive.length;
      } else {
        return 0;
      }
    }
    set debugAxisLength(_0x228132) {
      if (!this.debugAxisPrimitive) {
        this.debugAxis = true;
      }
      this.debugAxisPrimitive.length = _0x228132;
    }
    _mountedHook() {
      if (this.options.modelMatrix) {
        const _0x387292 = this.options.modelMatrix;
        this._position = Cesium__namespace.Matrix4.getTranslation(_0x387292, new Cesium__namespace.Cartesian3());
        this._point = LngLatPoint.parse(this._position);
        if (!Cesium__namespace.defined(this.style.heading)) {
          const _0x4ed852 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(Cesium__namespace.Matrix4.getTranslation(_0x387292, new Cesium__namespace.Cartesian3()), Cesium__namespace.Ellipsoid.WGS84, new Cesium__namespace.Matrix4());
          const _0x49d458 = Cesium__namespace.Matrix4.multiply(Cesium__namespace.Matrix4.inverse(_0x4ed852, new Cesium__namespace.Matrix4()), _0x387292, new Cesium__namespace.Matrix4());
          const _0x25c5cf = Cesium__namespace.Matrix4.getRotation(_0x49d458, new Cesium__namespace.Matrix3());
          const _0x343585 = Cesium__namespace.Quaternion.fromRotationMatrix(_0x25c5cf);
          const _0x401d59 = Cesium__namespace.HeadingPitchRoll.fromQuaternion(_0x343585);
          this.style.heading = Cesium__namespace.Math.toDegrees(_0x401d59.heading);
          this.style.pitch = Cesium__namespace.Math.toDegrees(_0x401d59.pitch);
          this.style.roll = Cesium__namespace.Math.toDegrees(_0x401d59.roll);
        }
      }
    }
    _addedHook(_0x202c93) {
      if (!this.getRealShow() || !this.position) {
        return;
      }
      this._forPositionProperty(this.options.position);
      super._addedHook(_0x202c93);
    }
    _removedHook(_0x2f847c) {
      if (this._trackedEntity) {
        if (this._map.trackedEntity === this._trackedEntity) {
          this._map.trackedEntity = undefined;
        }
        this._layer.dataSource.entities.remove(this._trackedEntity);
        delete this._trackedEntity;
      }
      if (this.debugAxisPrimitive) {
        clearInterval(this.debugAxisPrimitive._timeTik);
        this._layer.primitiveCollection.remove(this.debugAxisPrimitive);
        delete this.debugAxisPrimitive;
      }
      super._removedHook(_0x2f847c);
    }
    updateModelMatrix() {
      if (this._primitive) {
        this._primitive.modelMatrix = this.modelMatrix;
      }
    }
    _getModelMatrix(_0xb49f29, _0x117aa9) {
      if (!_0xb49f29) {
        return Cesium__namespace.Matrix4.IDENTITY;
      }
      let _0xe3133d = Cesium__namespace.Math.toRadians(this.style.heading || 0);
      let _0x479a5b = Cesium__namespace.Math.toRadians(this.style.pitch || 0);
      let _0x50f52e = Cesium__namespace.Math.toRadians(this.style.roll || 0);
      if (_0x117aa9) {
        if (_0x117aa9.getValue) {
          var _0x19e46f;
          _0x117aa9 = _0x117aa9.getValue((_0x19e46f = this._map) === null || _0x19e46f === undefined || (_0x19e46f = _0x19e46f.clock) === null || _0x19e46f === undefined ? undefined : _0x19e46f.currentTime);
        }
        if (_0x117aa9) {
          const _0x2fc7f5 = getHeadingPitchRollByOrientation(_0xb49f29, _0x117aa9, this.ellipsoid, this.fixedFrameTransform);
          if (this.style.mergeOrientation) {
            _0xe3133d += _0x2fc7f5.heading;
            _0x50f52e += _0x2fc7f5.roll;
            _0x479a5b += _0x2fc7f5.pitch;
          } else {
            if (!Cesium__namespace.defined(this.style.heading)) {
              _0xe3133d = _0x2fc7f5.heading;
            }
            if (!Cesium__namespace.defined(this.style.roll)) {
              _0x50f52e = _0x2fc7f5.roll;
            }
            if (!Cesium__namespace.defined(this.style.pitch)) {
              _0x479a5b = _0x2fc7f5.pitch;
            }
          }
        }
      }
      this._heading_reality = _0xe3133d;
      this._pitch_reality = _0x479a5b;
      this._roll_reality = _0x50f52e;
      const _0x30031c = Cesium__namespace.Transforms.headingPitchRollToFixedFrame(_0xb49f29, new Cesium__namespace.HeadingPitchRoll(_0xe3133d, _0x479a5b, _0x50f52e), this.ellipsoid, this.fixedFrameTransform);
      if (Cesium__namespace.defined(this.scaleX) && Cesium__namespace.defined(this.scaleY) && Cesium__namespace.defined(this.scaleZ)) {
        Cesium__namespace.Matrix4.multiplyByScale(_0x30031c, new Cesium__namespace.Cartesian3(this.scaleX, this.scaleY, this.scaleZ), _0x30031c);
      } else if (Cesium__namespace.defined(this.style.scale)) {
        Cesium__namespace.Matrix4.multiplyByScale(_0x30031c, new Cesium__namespace.Cartesian3(this.style.scale, this.style.scale, this.style.scale), _0x30031c);
      }
      return _0x30031c;
    }
    _getGeoJsonGeometry(_0x2fe272) {
      return {
        type: "Point",
        coordinates: this.getCoord(_0x2fe272)
      };
    }
    _forPositionProperty(_0x50c973) {
      if (this._hasPropertyPostion(_0x50c973)) {
        this.options.frameRate = this.options.frameRate ?? 5;
        this._orientation = this.options.orientation || new Cesium__namespace.VelocityOrientationProperty(_0x50c973);
        this.property = _0x50c973;
        this.bindUpdateEvent();
        return true;
      } else {
        return false;
      }
    }
    update(_0x118fe9) {
      if (!this.show) {
        return;
      }
      if (this.property) {
        this._position = this.property.getValue(_0x118fe9.time);
        if (this._position && this.options.clampToTileset) {
          this._clampToTilesetFrame++;
          if (!this._clampToTilesetHeight || this._clampToTilesetFrame % this._frameRateHeight === 0) {
            const _0x5ed822 = getHeight(this._map.scene, this._position);
            if (_0x5ed822) {
              this._clampToTilesetHeight = _0x5ed822;
            }
          }
          if (this._clampToTilesetHeight) {
            const _0x5d71c7 = Cesium__namespace.Cartographic.fromCartesian(this._position);
            let _0x2f75d8 = this.getAddHeight();
            if (!Cesium__namespace.defined(_0x2f75d8)) {
              _0x2f75d8 = 0;
            }
            this._position = Cesium__namespace.Cartesian3.fromRadians(_0x5d71c7.longitude, _0x5d71c7.latitude, this._clampToTilesetHeight + _0x2f75d8);
          }
        }
        if (this.czmObject) {
          this._updatePositionsHook();
        }
        if (this._primitive_label) {
          this._updateLabelPosition();
        }
      }
      this._updateObjectAvailability(_0x118fe9.time);
    }
    _getPopupPosition() {
      return this.property || this.position || this.center;
    }
    _getEditEntityPositions(_0x5b460e) {
      if (this.hasTimePostion) {
        _0x5b460e.position = this._getPointTimePositionJson();
      } else {
        _0x5b460e.position = this.position;
      }
    }
    _setEditEntityPositions(_0x4fdaf4) {
      this.position = _0x4fdaf4;
    }
    get hasAjaxPostion() {
      return this._hasPointTypePostion("ajax");
    }
    get hasTimePostion() {
      return this._hasPointTypePostion("time") || this.property;
    }
    get timeRange() {
      return this._getPointTimeRange();
    }
    get timeRangeStr() {
      return this._getPointTimeRange(true);
    }
    clearTimePostion(_0x38e3d9) {
      return this._clearPointTimePostion(_0x38e3d9);
    }
    addTimePosition(_0x3d4108, _0x372f65) {
      var _0x2f1779;
      var _0x21f78a;
      if (!this.property) {
        this._initSampledPositionProperty();
      }
      if (this._maxCacheCount > 0) {
        this.clearTimePostion(this._maxCacheCount);
      }
      const _0x4f9405 = ((_0x2f1779 = this._map) === null || _0x2f1779 === undefined || (_0x2f1779 = _0x2f1779.clock) === null || _0x2f1779 === undefined ? undefined : _0x2f1779.currentTime) || Cesium__namespace.JulianDate.now();
      if (!_0x372f65) {
        _0x372f65 = _0x4f9405;
      } else {
        _0x372f65 = getJulianDate$1(_0x372f65, _0x4f9405);
      }
      _0x3d4108 = LngLatPoint.parse(_0x3d4108);
      if (this.clampToGround) {
        _0x3d4108.alt = getHeight(this._map.scene, _0x3d4108, {
          original: true
        });
      }
      const _0x8b8c75 = (_0x21f78a = this.property) === null || _0x21f78a === undefined || (_0x21f78a = _0x21f78a._property) === null || _0x21f78a === undefined ? undefined : _0x21f78a._times;
      if (this.options.autoMiddleTimePosition && _0x8b8c75?.length > 0 && this._position) {
        const _0x2ae48b = _0x8b8c75[_0x8b8c75.length - 1];
        if (Cesium__namespace.JulianDate.secondsDifference(_0x4f9405, _0x2ae48b) > 0.3) {
          let _0x1d814d = this._position;
          if (this._lastDynamicPosition) {
            const _0x1bea41 = 0.01;
            _0x1d814d = getOnLinePointByLen(this._lastDynamicPosition, this._position, _0x1bea41, true);
          }
          _0x1d814d = setPositionsHeight(_0x1d814d, _0x3d4108.alt || 0);
          this.property.addSample(_0x4f9405, _0x1d814d);
        }
      }
      const _0x4e246d = _0x3d4108.toCartesian();
      this.property.addSample(_0x372f65, _0x4e246d);
      this._lastDynamicPosition = _0x4e246d;
      return this;
    }
    _initSampledPositionProperty() {
      if (!this.options.position || this.options.position.type !== "time") {
        this.options.position = {
          type: "time"
        };
      }
      this._clampToTilesetFrame = -1;
      this._frameRateHeight = this.options.frameRateHeight ?? 30;
      this._maxCacheCount = this.options.maxCacheCount ?? 1000;
      const _0x4b273d = new Cesium__namespace.SampledPositionProperty(this.options.referenceFrame, this.options.numberOfDerivatives);
      _0x4b273d.forwardExtrapolationType = this.options.forwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
      _0x4b273d.backwardExtrapolationType = this.options.backwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
      this.property = _0x4b273d;
      if (!this._orientation) {
        this._orientation = this.options.orientation || new Cesium__namespace.VelocityOrientationProperty(_0x4b273d);
      }
      this.bindUpdateEvent();
    }
    autoSurfaceHeight(_0x120790 = {}) {
      return getSurfaceHeight(this._map.scene, this.position, _0x120790).then(_0x36ca3b => {
        if (_0x36ca3b.position) {
          this._setPointPostion(_0x36ca3b.position);
        }
      });
    }
    addDynamicPosition(_0x1a720a, _0x49e1f2) {
      return this.addTimePosition(_0x1a720a, _0x49e1f2);
    }
    get coordinate() {
      return this.getCoord();
    }
    getCoordinate(_0x181de4) {
      const _0x1832d2 = {
        noAlt: _0x181de4
      };
      return this.getCoord(_0x1832d2);
    }
  }
  class PointEntity extends BasePointEntity {
    get entityGraphic() {
      return this._entity?.point;
    }
    _mountedHook() {
      const _0x108f96 = {
        position: this.position,
        point: PointStyleConver.toCesiumVal(this.style)
      };
      const _0x45f777 = this.style.label;
      if (_0x45f777) {
        if (Cesium__namespace.defined(this.style.clampToGround) && !Cesium__namespace.defined(_0x45f777.clampToGround)) {
          _0x45f777.clampToGround = this.style.clampToGround;
        }
        if (this._getLabelIsCombine()) {
          _0x108f96.label = LabelStyleConver.toCesiumVal(_0x45f777, {}, this.attr);
        } else {
          this._addLabel(_0x45f777);
        }
      }
      if (this.options.billboard) {
        _0x108f96.billboard = BillboardStyleConver.toCesiumVal(this.options.billboard, {}, true);
        if (!Cesium__namespace.defined(_0x108f96.billboard.heightReference) && Cesium__namespace.defined(_0x108f96.point.heightReference)) {
          _0x108f96.billboard.heightReference = _0x108f96.point.heightReference;
        }
      }
      if (this.options.circle) {
        _0x108f96.ellipse = CircleStyleConver.toCesiumVal(this.options.circle, {}, true);
        if (!Cesium__namespace.defined(_0x108f96.ellipse.heightReference) && Cesium__namespace.defined(_0x108f96.point.heightReference)) {
          _0x108f96.ellipse.heightReference = _0x108f96.point.heightReference;
        }
      }
      if (this.options.model) {
        _0x108f96.orientation = this.getOrientation(this.options.model);
        _0x108f96.model = ModelStyleConver.toCesiumVal(this.options.model, {}, true);
        _0x108f96.model.marsOptions = {
          occlusion: this.options.model.marsOcclusion,
          callback: (_0x5142c6, _0x11524e) => {
            this._model = _0x11524e;
            const _0x2806b1 = {
              model: _0x11524e
            };
            this.fire(EventType.load, _0x2806b1, true);
          }
        };
      }
      if (this.options.path) {
        const _0x16262b = PathStyleConver.toCesiumVal(this.options.path, {}, true);
        if (!_0x16262b.isAll) {
          _0x16262b.leadTime = 0;
        }
        _0x108f96.path = _0x16262b;
        if (!this.options.availability) {
          this._setAutoAvailability(_0x108f96);
        }
      }
      this._entity = this._createEntity(_0x108f96);
    }
    _addLabel(_0x4347dc) {
      if (this._getLabelIsCombine()) {
        this._entity.label = this._entity.label || {};
        LabelStyleConver.toCesiumVal(_0x4347dc, this._entity.label, this.attr);
      } else {
        super._addLabel(_0x4347dc);
      }
    }
    _updateStyleHook(_0x57dc6f, _0x38af9d) {
      PointStyleConver.toCesiumVal(_0x57dc6f, this.entityGraphic);
    }
    _style2Json(_0xce40ee, _0x3e3601) {
      return PointStyleConver.toJSON(_0xce40ee, _0x3e3601, true);
    }
    _setOptionsHook(_0x3a713c, _0x36cbc4) {
      if (_0x36cbc4.model) {
        ModelStyleConver.toCesiumVal(_0x3a713c.model, this._entity.model, true);
      }
      if (_0x36cbc4.billboard) {
        BillboardStyleConver.toCesiumVal(_0x3a713c.billboard, this._entity.billboard, true);
      }
      if (_0x36cbc4.path) {
        PathStyleConver.toCesiumVal(_0x3a713c.path, this._entity.path, true);
      }
      if (_0x36cbc4.circle) {
        CircleStyleConver.toCesiumVal(_0x3a713c.circle, this._entity.ellipse, true);
      }
    }
    _toJSON_Ex(_0x176658) {
      if (this.options.model) {
        _0x176658.model = {};
        ModelStyleConver.toJSON(this.options.model, _0x176658.model, true);
      }
      if (this.options.billboard) {
        _0x176658.billboard = {};
        BillboardStyleConver.toJSON(this.options.billboard, _0x176658.billboard, true);
      }
      if (this.options.path) {
        _0x176658.path = {};
        PathStyleConver.toJSON(this.options.path, _0x176658.path, true);
      }
      if (this.options.circle) {
        _0x176658.circle = {};
        CircleStyleConver.toJSON(this.options.circle, _0x176658.circle, true);
      }
    }
    _updateExOpacity(_0x405010) {
      if (this._entity.model) {
        this._entity.model.color = Cesium__namespace.Color.WHITE.withAlpha(_0x405010);
      }
      if (this._entity.billboard) {
        this._entity.billboard.color = Cesium__namespace.Color.WHITE.withAlpha(_0x405010);
      }
      if (this._entity.path) {
        const _0x677130 = this._updateEntityOpacity(this._entity.path, _0x405010);
        if (!_0x677130) {
          const _0x3850ad = {
            ...this.options.path
          };
          _0x3850ad.globalAlpha = _0x405010;
          PathStyleConver.toCesiumVal(_0x3850ad, this._entity.path, true);
        }
      }
      if (this._entity.circle) {
        const _0x256090 = this._updateEntityOpacity(this._entity.circle, _0x405010);
        if (!_0x256090) {
          const _0x1b5676 = {
            ...this.options.circle
          };
          _0x1b5676.globalAlpha = _0x405010;
          CircleStyleConver.toCesiumVal(_0x1b5676, this._entity.ellipse, true);
        }
      }
    }
    _updateDistanceDisplayConditionByEdit() {}
    setOpacity(_0x502431) {
      this.style.globalAlpha = _0x502431;
      PointStyleConver.setOpacity(this.entityGraphic, _0x502431);
      this._updateLabelOpacity(_0x502431);
    }
  }
  register$5("point", PointEntity, true);
  class BillboardEntity extends BasePointEntity {
    get entityGraphic() {
      return this._entity?.billboard;
    }
    get image() {
      return this.style.image;
    }
    set image(_0x3d8bfc) {
      this.style.image = _0x3d8bfc;
      if (this._entity) {
        this._entity.billboard.image = _0x3d8bfc;
      }
    }
    _mountedHook() {
      const _0x5af0a2 = {
        position: this.position,
        billboard: BillboardStyleConver.toCesiumVal(this.style)
      };
      if (this.property && this.style.alignedAxis === true) {
        _0x5af0a2.billboard.alignedAxis = new Cesium__namespace.VelocityVectorProperty(this.property, true);
      }
      const _0x46c100 = this.style.label;
      if (_0x46c100) {
        if (Cesium__namespace.defined(this.style.clampToGround) && !Cesium__namespace.defined(_0x46c100.clampToGround)) {
          _0x46c100.clampToGround = this.style.clampToGround;
        }
        if (this._getLabelIsCombine()) {
          _0x5af0a2.label = LabelStyleConver.toCesiumVal(_0x46c100, {}, this.attr);
        } else {
          this._addLabel(_0x46c100);
        }
      }
      if (this.options.point) {
        _0x5af0a2.point = PointStyleConver.toCesiumVal(this.options.point, {}, true);
        if (!Cesium__namespace.defined(_0x5af0a2.point.heightReference) && Cesium__namespace.defined(_0x5af0a2.billboard.heightReference)) {
          _0x5af0a2.point.heightReference = _0x5af0a2.billboard.heightReference;
        }
      }
      if (this.options.circle) {
        _0x5af0a2.ellipse = CircleStyleConver.toCesiumVal(this.options.circle, {}, true);
      }
      if (this.options.model) {
        _0x5af0a2.orientation = this.getOrientation(this.options.model);
        _0x5af0a2.model = ModelStyleConver.toCesiumVal(this.options.model, {}, true);
        _0x5af0a2.model.marsOptions = {
          occlusion: this.options.model.marsOcclusion,
          callback: (_0x411b65, _0x20f43a) => {
            this._model = _0x20f43a;
            const _0xd6d53c = {
              model: _0x20f43a
            };
            this.fire(EventType.load, _0xd6d53c, true);
          }
        };
      }
      if (this.options.path) {
        const _0x423798 = PathStyleConver.toCesiumVal(this.options.path, {}, true);
        if (!_0x423798.isAll) {
          _0x423798.leadTime = 0;
        }
        _0x5af0a2.path = _0x423798;
        if (!this.options.availability) {
          this._setAutoAvailability(_0x5af0a2);
        }
      }
      if (this.style.distanceDisplayCondition) {
        if (this.style.distanceDisplayPoint) {
          _0x5af0a2.point = PointStyleConver.toCesiumVal(this.style.distanceDisplayPoint);
          _0x5af0a2.point.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayPoint);
        }
      }
      this._entity = this._createEntity(_0x5af0a2);
    }
    _addLabel(_0x109a68) {
      if (this._getLabelIsCombine()) {
        this._entity.label = this._entity.label || {};
        LabelStyleConver.toCesiumVal(_0x109a68, this._entity.label, this.attr);
      } else {
        super._addLabel(_0x109a68);
      }
    }
    _style2Json(_0x26683f, _0x12a899) {
      const _0x4e7baf = BillboardStyleConver.toJSON(_0x26683f, _0x12a899, true);
      if (this.style.distanceDisplayPoint) {
        _0x4e7baf.distanceDisplayPoint = PointStyleConver.toJSON(this.style.distanceDisplayPoint, {}, true);
      }
      return _0x4e7baf;
    }
    _updateStyleHook(_0x14aef9, _0x1d261b) {
      BillboardStyleConver.toCesiumVal(_0x14aef9, this.entityGraphic);
      if (this.property && _0x1d261b.alignedAxis === true) {
        this.entityGraphic.alignedAxis = new Cesium__namespace.VelocityVectorProperty(this.property, true);
      }
    }
    _setOptionsHook(_0xfaf204, _0x5a0e38) {
      if (_0x5a0e38.model) {
        ModelStyleConver.toCesiumVal(_0xfaf204.model, this._entity.model, true);
      }
      if (_0x5a0e38.point) {
        PointStyleConver.toCesiumVal(_0xfaf204.point, this._entity.point, true);
      }
      if (_0x5a0e38.path) {
        PathStyleConver.toCesiumVal(_0xfaf204.path, this._entity.path, true);
      }
      if (_0x5a0e38.circle) {
        CircleStyleConver.toCesiumVal(_0xfaf204.circle, this._entity.ellipse, true);
      }
    }
    _updateExOpacity(_0x597fe9) {
      if (this._entity.model) {
        this._entity.model.color = Cesium__namespace.Color.WHITE.withAlpha(_0x597fe9);
      }
      if (this._entity.point) {
        const _0x29f2f1 = this._updateEntityOpacity(this._entity.point, _0x597fe9);
        if (!_0x29f2f1) {
          const _0x6a8bca = {
            ...this.options.point
          };
          _0x6a8bca.globalAlpha = _0x597fe9;
          PointStyleConver.toCesiumVal(_0x6a8bca, this._entity.point, true);
        }
      }
      if (this._entity.path) {
        const _0x195592 = this._updateEntityOpacity(this._entity.path, _0x597fe9);
        if (!_0x195592) {
          const _0x2556cb = {
            ...this.options.path
          };
          _0x2556cb.globalAlpha = _0x597fe9;
          PathStyleConver.toCesiumVal(_0x2556cb, this._entity.path, true);
        }
      }
      if (this._entity.circle) {
        const _0x1bf71b = this._updateEntityOpacity(this._entity.circle, _0x597fe9);
        if (!_0x1bf71b) {
          const _0x43b025 = {
            ...this.options.circle
          };
          _0x43b025.globalAlpha = _0x597fe9;
          CircleStyleConver.toCesiumVal(_0x43b025, this._entity.ellipse, true);
        }
      }
    }
    _toJSON_Ex(_0x573a11) {
      if (this.options.model) {
        _0x573a11.model = {};
        ModelStyleConver.toJSON(this.options.model, _0x573a11.model, true);
      }
      if (this.options.point) {
        _0x573a11.point = {};
        PointStyleConver.toJSON(this.options.point, _0x573a11.point, true);
      }
      if (this.options.path) {
        _0x573a11.path = {};
        PathStyleConver.toJSON(this.options.path, _0x573a11.path, true);
      }
      if (this.options.circle) {
        _0x573a11.circle = {};
        CircleStyleConver.toJSON(this.options.circle, _0x573a11.circle, true);
      }
    }
    _updateDistanceDisplayConditionByEdit() {}
    _getTargetDistanceDisplayCondition(_0x59f26a) {
      let _0xacff79;
      if (this.style.distanceDisplayCondition instanceof Cesium__namespace.DistanceDisplayCondition) {
        _0xacff79 = this.style.distanceDisplayCondition.far;
      } else if (this.style.distanceDisplayCondition_far) {
        _0xacff79 = this.style.distanceDisplayCondition_far;
      }
      return new Cesium__namespace.DistanceDisplayCondition(_0x59f26a.distanceDisplayCondition_near ?? _0xacff79, _0x59f26a.distanceDisplayCondition_far ?? Number.MAX_VALUE);
    }
    setOpacity(_0x1427c4) {
      this.style.globalAlpha = _0x1427c4;
      if (this._entity) {
        this._entity.billboard.color = Cesium__namespace.Color.WHITE.withAlpha(_0x1427c4);
      }
      this._updateLabelOpacity(_0x1427c4);
    }
    startBounce(_0x374d68 = {}) {
      if (!this._entity) {
        return;
      }
      let _0x156b79 = -(_0x374d68.maxHeight || 50);
      const _0x52ae9f = _0x374d68.step || 1;
      const _0x4d4a81 = _0x374d68.autoStop;
      let _0x391820 = _0x156b79;
      let _0x3a16d5 = -1;
      const _0xb02943 = this;
      function _0x3c66bb() {
        if (_0x391820 <= _0x156b79 && _0x3a16d5 !== 1) {
          _0x3a16d5 = 1;
          if (_0x4d4a81) {
            _0x156b79 *= 0.55;
            if (_0x52ae9f * 2 >= -_0x156b79) {
              _0xb02943.stopBounce();
            }
          }
        } else if (_0x391820 >= 0 && _0x3a16d5 !== -1) {
          _0x3a16d5 = -1;
        }
        _0x391820 += _0x52ae9f * _0x3a16d5;
      }
      const _0x25b13f = getCesiumValue(this.entityGraphic.pixelOffset, Cesium__namespace.Cartesian2) || new Cesium__namespace.Cartesian2(0, 0);
      const _0x4f315c = _0x25b13f.clone();
      this.entityGraphic.pixelOffset_original = _0x25b13f;
      this.entityGraphic.pixelOffset = new Cesium__namespace.CallbackProperty(_0x1f65b5 => {
        _0x3c66bb();
        _0x4f315c.y = _0x25b13f.y + _0x391820;
        return _0x4f315c;
      });
      if (this._entity.label) {
        const _0x54787f = getCesiumValue(this._entity.label.pixelOffset, Cesium__namespace.Cartesian2) || new Cesium__namespace.Cartesian2(0, 0);
        const _0x513c50 = _0x54787f.clone();
        this._entity.label.pixelOffset_original = _0x54787f;
        this._entity.label.pixelOffset = new Cesium__namespace.CallbackProperty(_0x5a4ab6 => {
          _0x513c50.y = _0x54787f.y + _0x391820;
          return _0x513c50;
        });
      }
    }
    stopBounce() {
      this.entityGraphic.pixelOffset = this.entityGraphic.pixelOffset_original;
      if (this._entity.label) {
        this._entity.label.pixelOffset = this._entity.label.pixelOffset_original;
      }
    }
  }
  register$5("billboard", BillboardEntity, true);
  class DivBillboardEntity extends BillboardEntity {
    _mountedHook() {
      super._mountedHook();
      this._updateImage_delay();
    }
    _updateStyleHook(_0x2a5b56, _0x9d1815) {
      delete _0x2a5b56.image;
      super._updateStyleHook(_0x2a5b56, _0x9d1815);
      if (_0x9d1815 && (_0x9d1815.html || _0x9d1815.iconSize || _0x9d1815.color)) {
        this._updateImage_delay();
      }
    }
    _updateImage_delay() {
      if (this.updateTimer) {
        clearTimeout(this.updateTimer);
      }
      this.updateTimer = setTimeout(() => {
        delete this.updateTimer;
        if (!this._entity) {
          return;
        }
        this._updateImage();
      }, 300);
    }
    _updateImage() {
      const _0x455b2b = create$4("div", "mars3d-hideDiv");
      const _0x37c7d3 = this.style.html;
      if (isString(_0x37c7d3)) {
        _0x455b2b.innerHTML = _0x37c7d3;
      } else if (_0x37c7d3 instanceof Element) {
        _0x455b2b.appendChild(_0x37c7d3);
      }
      document.body.appendChild(_0x455b2b);
      this._islosdImg = true;
      if (window.domtoimage) {
        window.domtoimage.toPng(_0x455b2b.firstChild).then(_0x49d7a5 => {
          this.entityGraphic.image = "" + _0x49d7a5;
          document.body.removeChild(_0x455b2b);
          this._islosdImg = false;
          const _0x316857 = {
            image: _0x49d7a5
          };
          this.fire("image", _0x316857);
        }).catch(_0x406899 => {
          logError("未知原因，导出失败!", _0x406899);
          document.body.removeChild(_0x455b2b);
          this._islosdImg = false;
        });
      } else if (window.html2canvas) {
        window.html2canvas(_0x455b2b, {
          backgroundColor: null,
          allowTaint: true
        }).then(_0xb64c61 => {
          this.entityGraphic.image = _0xb64c61;
          document.body.removeChild(_0x455b2b);
          this._islosdImg = false;
          const _0x24b962 = {
            canvas: _0xb64c61
          };
          this.fire("image", _0x24b962);
        }).catch(_0x838a0d => {
          logError("未知原因，导出失败!", _0x838a0d);
          document.body.removeChild(_0x455b2b);
          this._islosdImg = false;
        });
      }
    }
  }
  register$5("divBillboard", DivBillboardEntity, true);
  class FontBillboardEntity extends DivBillboardEntity {
    _updateImage() {
      const _0x4ce3e2 = this.style.color ?? "#ff0000";
      const _0x4bd12d = this.style.iconSize ?? 50;
      const _0x425d59 = create$4("div", "mars3d-hideDiv");
      const _0x367f6b = document.createElement("i");
      _0x367f6b.setAttribute("class", this.style.iconClass);
      _0x367f6b.setAttribute("style", "font-size:" + _0x4bd12d + "px;color:" + _0x4ce3e2 + ";");
      _0x425d59.appendChild(_0x367f6b);
      document.body.appendChild(_0x425d59);
      this._islosdImg = true;
      if (window.domtoimage) {
        window.domtoimage.toPng(_0x367f6b).then(_0x14a773 => {
          this.entityGraphic.image = "" + _0x14a773;
          document.body.removeChild(_0x425d59);
          this._islosdImg = false;
          const _0x1d4468 = {
            image: _0x14a773
          };
          this.fire("image", _0x1d4468);
        }).catch(_0x2acbeb => {
          logError("未知原因，导出失败!", _0x2acbeb);
          document.body.removeChild(_0x425d59);
          this._islosdImg = false;
        });
      } else if (window.html2canvas) {
        window.html2canvas(_0x367f6b, {
          backgroundColor: null,
          allowTaint: true
        }).then(_0x163bc6 => {
          this.entityGraphic.image = _0x163bc6;
          document.body.removeChild(_0x425d59);
          this._islosdImg = false;
          const _0xe8aa7b = {
            canvas: _0x163bc6
          };
          this.fire("image", _0xe8aa7b);
        }).catch(_0x2dfe33 => {
          logError("未知原因，导出失败!", _0x2dfe33);
          document.body.removeChild(_0x425d59);
          this._islosdImg = false;
        });
      }
    }
  }
  register$5("fontBillboard", FontBillboardEntity, true);
  class LabelEntity extends BasePointEntity {
    get entityGraphic() {
      return this._entity?.label;
    }
    get label() {
      if (this._entity) {
        return this._entity.label;
      } else {
        return this.style;
      }
    }
    get text() {
      return this.style.text;
    }
    set text(_0x12c73b) {
      this.style.text = _0x12c73b;
      if (this._entity) {
        this.entityGraphic.text = _0x12c73b;
      }
    }
    _mountedHook() {
      const _0x5e85d4 = {
        position: this.position,
        label: LabelStyleConver.toCesiumVal(this.style)
      };
      this._entity = this._createEntity(_0x5e85d4);
    }
    _addLabel(_0x25156e) {}
    _style2Json(_0x1edbf2, _0x55d806) {
      return LabelStyleConver.toJSON(_0x1edbf2, _0x55d806, true);
    }
    _updateStyleHook(_0x2ffa7a, _0x1513b9) {
      LabelStyleConver.toCesiumVal(_0x2ffa7a, this.entityGraphic);
    }
    _updateDistanceDisplayConditionByEdit() {}
    startBounce(_0x4c3335 = {}) {
      if (!this._entity) {
        return;
      }
      let _0x3543dd = -(_0x4c3335.maxHeight || 50);
      const _0x41f01a = _0x4c3335.step || 1;
      const _0x8bd109 = _0x4c3335.autoStop;
      let _0x4bcac6 = _0x3543dd;
      let _0x9d512e = -1;
      const _0x4a5575 = this;
      function _0x2d85bf() {
        if (_0x4bcac6 <= _0x3543dd && _0x9d512e !== 1) {
          _0x9d512e = 1;
          if (_0x8bd109) {
            _0x3543dd *= 0.55;
            if (_0x41f01a * 2 >= -_0x3543dd) {
              _0x4a5575.stopBounce();
            }
          }
        } else if (_0x4bcac6 >= 0 && _0x9d512e !== -1) {
          _0x9d512e = -1;
        }
        _0x4bcac6 += _0x41f01a * _0x9d512e;
      }
      const _0xc06e23 = getCesiumValue(this.entityGraphic.pixelOffset, Cesium__namespace.Cartesian2) || new Cesium__namespace.Cartesian2(0, 0);
      const _0x52c854 = _0xc06e23.clone();
      this.entityGraphic.pixelOffset_original = _0xc06e23;
      this.entityGraphic.pixelOffset = new Cesium__namespace.CallbackProperty(_0x47650e => {
        _0x2d85bf();
        _0x52c854.y = _0xc06e23.y + _0x4bcac6;
        return _0x52c854;
      });
    }
    stopBounce() {
      this.entityGraphic.pixelOffset = this.entityGraphic.pixelOffset_original;
    }
    setOpacity(_0x749505) {
      this.style.globalAlpha = _0x749505;
      if (this._entity) {
        LabelStyleConver.setOpacity(this.entityGraphic, _0x749505);
      }
    }
  }
  register$5("label", LabelEntity, true);
  class CanvasLabelEntity extends BillboardEntity {
    _mountedHook() {
      super._mountedHook();
      this._updateImage_delay(this.style);
    }
    _onBeforeCreate(_0x468d87) {
      var _0x34dfc1;
      var _0x4f1221;
      if (Cesium__namespace.defined(_0x468d87 === null || _0x468d87 === undefined || (_0x34dfc1 = _0x468d87.billboard) === null || _0x34dfc1 === undefined ? undefined : _0x34dfc1.image)) {
        delete _0x468d87.billboard.image;
      }
      if (Cesium__namespace.defined(_0x468d87 === null || _0x468d87 === undefined || (_0x4f1221 = _0x468d87.billboard) === null || _0x4f1221 === undefined ? undefined : _0x4f1221.color)) {
        delete _0x468d87.billboard.color;
      }
      return _0x468d87;
    }
    _updateStyleHook(_0x20f9cd, _0x381bdb) {
      const _0x5b7abe = {
        ..._0x20f9cd
      };
      const _0xb884a7 = _0x5b7abe;
      delete _0xb884a7.image;
      delete _0xb884a7.color;
      super._updateStyleHook(_0xb884a7, _0x381bdb);
      this._updateImage_delay(_0x20f9cd);
    }
    _updateImage_delay(_0x43000d) {
      if (this.updateTimer) {
        clearTimeout(this.updateTimer);
      }
      this.updateTimer = setTimeout(() => {
        delete this.updateTimer;
        if (!this._entity) {
          return;
        }
        this._updateImage(_0x43000d);
      }, 100);
    }
    _updateImage(_0x374b4a) {
      const _0x42b1f3 = LabelStyleConver.toCesiumVal(_0x374b4a);
      const _0x13a4e1 = getTextImage(_0x42b1f3.text, _0x42b1f3);
      if (_0x13a4e1) {
        this.entityGraphic.image = _0x13a4e1;
      }
    }
  }
  register$5("canvasLabel", CanvasLabelEntity, true);
  class EditCircle extends EditPoly {
    set position(_0x2d1977) {
      this.positions[0] = _0x2d1977;
    }
    get position() {
      return this.positions[0];
    }
    bindDraggers() {
      const _0x51ac61 = this.positions;
      if (_0x51ac61.length === 0) {
        return;
      }
      let _0x1413d1 = this.updatePositionsHeightByAttr(_0x51ac61[0]);
      const _0x17948d = this._map.clock.currentTime;
      const _0x381e4e = getEllipseOuterPositions({
        position: _0x1413d1,
        semiMajorAxis: getCesiumValue(this.entityGraphic.semiMajorAxis, Number, _0x17948d),
        semiMinorAxis: getCesiumValue(this.entityGraphic.semiMinorAxis, Number, _0x17948d),
        rotation: getCesiumValue(this.entityGraphic.rotation, Number, _0x17948d) ?? 0,
        count: 1
      });
      const _0x1ca0a4 = this.updatePositionsHeightByAttr(_0x381e4e[3]);
      _0x51ac61[1] = _0x1ca0a4;
      const _0x4d80f3 = this.createDragger({
        position: _0x1ca0a4,
        type: EditPointType.EditAttr,
        tooltip: this._map.getLangText("_修改半径"),
        onDragStart: (_0x30a8f1, _0x1c2ce6) => {
          if (!this._heightDraggers) {
            return;
          }
          for (let _0x3a2d5d = 0, _0x5dce2e = this._heightDraggers.length; _0x3a2d5d < _0x5dce2e; _0x3a2d5d++) {
            this._heightDraggers[_0x3a2d5d].show = false;
          }
        },
        onDrag: (_0x48b1f3, _0x307d0a) => {
          if (this.entityGraphic.height !== undefined) {
            const _0x3fe42f = getCesiumValue(this.entityGraphic.height, Number, _0x17948d);
            _0x307d0a = setPositionsHeight(_0x307d0a, _0x3fe42f);
            _0x48b1f3.position = _0x307d0a;
          }
          _0x51ac61[_0x48b1f3.index] = _0x307d0a;
          const _0x290ef6 = this.formatNum(Cesium__namespace.Cartesian3.distance(_0x1413d1, _0x307d0a), 2);
          this.entityGraphic.semiMajorAxis = _0x290ef6;
          if (this.maxPointNum === 3 || !Cesium__namespace.defined(this.style.radius)) {
            this.style.semiMajorAxis = _0x290ef6;
          } else {
            this.entityGraphic.semiMinorAxis = _0x290ef6;
            this.style.radius = _0x290ef6;
          }
          this.fire(EventType.editStyle);
        },
        onDragEnd: (_0xe26c20, _0x24ee5a) => {
          this.updateDraggers();
        }
      });
      _0x4d80f3.index = 1;
      this.draggers.push(_0x4d80f3);
      let _0x4d8f6b;
      if (this.maxPointNum === 3) {
        const _0x40d5ee = this.updatePositionsHeightByAttr(_0x381e4e[2]);
        _0x51ac61[2] = _0x40d5ee;
        _0x4d8f6b = this.createDragger({
          position: _0x40d5ee,
          type: EditPointType.EditAttr,
          tooltip: this._map.getLangText("_修改半径"),
          onDragStart: (_0x3d8d04, _0x421999) => {
            if (!this._heightDraggers) {
              return;
            }
            for (let _0x2f9f6f = 0, _0x181c75 = this._heightDraggers.length; _0x2f9f6f < _0x181c75; _0x2f9f6f++) {
              this._heightDraggers[_0x2f9f6f].show = false;
            }
          },
          onDrag: (_0x37809a, _0x193cd9) => {
            if (this.entityGraphic.height !== undefined) {
              const _0x14f146 = getCesiumValue(this.entityGraphic.height, Number, _0x17948d);
              _0x193cd9 = setPositionsHeight(_0x193cd9, _0x14f146);
              _0x37809a.position = _0x193cd9;
            }
            _0x51ac61[_0x37809a.index] = _0x193cd9;
            let _0x3e9f66 = this.formatNum(Cesium__namespace.Cartesian3.distance(_0x1413d1, _0x193cd9), 2);
            const _0x49b524 = getCesiumValue(this.entityGraphic.semiMajorAxis, Number, _0x17948d);
            if (_0x3e9f66 > _0x49b524) {
              _0x3e9f66 = _0x49b524;
            }
            this.entityGraphic.semiMinorAxis = _0x3e9f66;
            if (this.maxPointNum === 3 || !Cesium__namespace.defined(this.style.radius)) {
              this.style.semiMinorAxis = _0x3e9f66;
            } else {
              this.entityGraphic.semiMajorAxis = _0x3e9f66;
              this.style.radius = _0x3e9f66;
            }
            this.fire(EventType.editStyle);
          },
          onDragEnd: (_0x13577a, _0x12f2d7) => {
            this.updateDraggers();
          }
        });
        _0x4d8f6b.index = 2;
        this.draggers.push(_0x4d8f6b);
      }
      if (this._graphic.hasMoveEdit) {
        const _0x47bf38 = this.createDragger({
          position: _0x1413d1,
          onDragStart: (_0x37da4f, _0x32f86a) => {
            for (let _0x5e796d = 0, _0x57c13f = this.draggers.length; _0x5e796d < _0x57c13f; _0x5e796d++) {
              this.draggers[_0x5e796d].show = false;
            }
          },
          onDrag: (_0x133fa8, _0xd321fb) => {
            _0x1413d1 = _0x51ac61[0] = _0xd321fb;
          },
          onDragEnd: (_0x3b6918, _0x36858a) => {
            this.updateDraggers();
          }
        });
        _0x47bf38.index = 0;
        this.draggers.push(_0x47bf38);
        _0x47bf38.majorDragger = _0x4d80f3;
        _0x47bf38.minorDragger = _0x4d8f6b;
      }
      if (this.entityGraphic.extrudedHeight) {
        const _0x512192 = this.maxPointNum === 3 ? [_0x51ac61[1], _0x51ac61[2]] : [_0x51ac61[1]];
        this._bindHeightDraggers(_0x512192);
      }
    }
    updatePositionsHeightByAttr(_0xf46d64) {
      if (this.clampToGround) {
        _0xf46d64 = getSurfacePosition(this._map.scene, _0xf46d64);
      }
      if (this.entityGraphic.height !== undefined) {
        const _0x37c5e1 = getCesiumValue(this.entityGraphic.height, Number, this._map.clock.currentTime);
        _0xf46d64 = setPositionsHeight(_0xf46d64, _0x37c5e1);
      }
      return _0xf46d64;
    }
    _updateStyleHook(_0x530143) {
      super._updateStyleHook(_0x530143);
      if (Cesium__namespace.defined(_0x530143.radius) || Cesium__namespace.defined(_0x530143.semiMinorAxis) || Cesium__namespace.defined(_0x530143.semiMajorAxis) || Cesium__namespace.defined(_0x530143.height) || Cesium__namespace.defined(_0x530143.diffHeight)) {
        this.updateDraggers();
      }
    }
    openSmallTooltipByMinPointNum(_0x3adf8d) {}
  }
  class CircleEntity extends BasePointEntity {
    constructor(_0x12614c = {}) {
      super(_0x12614c);
      this._minPointNum = 2;
      this._maxPointNum = 2;
      this._hasHeightEdit = _0x12614c.hasHeightEdit ?? true;
      this._clampToGround_reload = true;
    }
    get entityGraphic() {
      return this._entity?.ellipse;
    }
    get EditClass() {
      return EditCircle;
    }
    get outlinePositions() {
      if (this._entity) {
        this._outlinePositions = this.getOutlinePositions();
      }
      return this._outlinePositions;
    }
    set outlinePositions(_0x3a44a0) {
      this._outlinePositions = _0x3a44a0;
    }
    get outlineCoordinates() {
      return cartesians2lonlats(this.outlinePositions);
    }
    get distance() {
      return Math.PI * 2 * this.radius;
    }
    get area() {
      const _0x788f2a = this.radius;
      return Math.PI * _0x788f2a * _0x788f2a;
    }
    get radius() {
      if (this.style.radius) {
        return this.style.radius;
      }
      return getCesiumValue(this.entityGraphic?.semiMajorAxis, Number, Cesium__namespace.JulianDate.now());
    }
    set radius(_0x3c6afe) {
      this.style.radius = _0x3c6afe;
      if (this.entityGraphic) {
        this.entityGraphic.semiMajorAxis = _0x3c6afe;
        this.entityGraphic.semiMinorAxis = _0x3c6afe;
        this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      }
    }
    get height() {
      if (this.style.height) {
        return this.style.height;
      }
      return getCesiumValue(this.entityGraphic?.height, Number) ?? 0;
    }
    set height(_0x300223) {
      this.style.height = _0x300223;
      if (this.entityGraphic) {
        this.entityGraphic.height = _0x300223;
      }
    }
    _mountedHook() {
      const _0x3ae880 = {
        position: this.position,
        ellipse: CircleStyleConver.toCesiumVal(this.style, {}, true)
      };
      const _0x16bd3c = this.style.label;
      if (_0x16bd3c) {
        if (Cesium__namespace.defined(this.style.clampToGround) && !Cesium__namespace.defined(_0x16bd3c.clampToGround)) {
          _0x16bd3c.clampToGround = this.style.clampToGround;
        }
        if (this._getLabelIsCombine()) {
          _0x3ae880.label = LabelStyleConver.toCesiumVal(_0x16bd3c, {}, this.attr);
        } else {
          this._addLabel(_0x16bd3c);
        }
      }
      this._entity = this._createEntity(_0x3ae880);
      this._calculateCzmHeight(this.entityGraphic);
      this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      if (this._hasPropertyPostion(this.position)) {
        this._updateOutlineToCallback();
      }
    }
    _addLabel(_0x4ef84c) {
      if (this._getLabelIsCombine()) {
        this._entity.label = this._entity.label || {};
        LabelStyleConver.toCesiumVal(_0x4ef84c, this._entity.label, this.attr);
      } else {
        super._addLabel(_0x4ef84c);
      }
    }
    _style2Json(_0x3a1092, _0x48e4f8) {
      return CircleStyleConver.toJSON(_0x3a1092, _0x48e4f8, true);
    }
    toGeoJSON(_0xbc8fd7) {
      return super.toGeoJSON(_0xbc8fd7);
    }
    _getGeoJsonGeometry(_0x5d3706) {
      if (_0x5d3706 !== null && _0x5d3706 !== undefined && _0x5d3706.outline) {
        return {
          type: "Polygon",
          coordinates: [this.getOutlineCoordinates(_0x5d3706?.closure, _0x5d3706?.count, _0x5d3706?.noAlt)]
        };
      } else {
        return {
          type: "Point",
          coordinates: this.getCoord(_0x5d3706)
        };
      }
    }
    _updateStyleHook(_0x40c2a2, _0x56a969) {
      CircleStyleConver.toCesiumVal(_0x40c2a2, this.entityGraphic, true);
      if (Cesium__namespace.defined(_0x56a969.diffHeight) || Cesium__namespace.defined(_0x56a969.height) || Cesium__namespace.defined(_0x40c2a2.addHeight) || Cesium__namespace.defined(_0x40c2a2.setHeight)) {
        this._calculateCzmHeight(this.entityGraphic);
      }
    }
    _updatePositionsHook() {
      this._entity.position = this.position;
      this._calculateCzmHeight(this.entityGraphic, this.isEditing);
      this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      this._updateLabelPosition();
      this._updateEditDraggers();
    }
    _getOutlinePositions() {
      return [this.outlinePositions];
    }
    setCallbackPosition(_0xfdc543) {
      this._setPositionsToCallback();
      if (_0xfdc543) {
        this._positions_draw[0] = LngLatPoint.toCartesian(_0xfdc543);
      }
      return this._positions_draw[0];
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = true;
      this._positions_draw = this.positions || [];
      const _0xae5bfd = new Cesium__namespace.CallbackProperty(_0x517bad => {
        if (this._positions_draw.length < 1) {
          return null;
        }
        return this._positions_draw[0];
      }, false);
      this._setPointPostion(_0xae5bfd);
      this._updateOutlineToCallback();
    }
    _cancelPositionsCallback() {
      if (!this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = false;
      this._position = this._positions_draw[0];
      this._point = LngLatPoint.fromCartesian(this._position);
      if (this._entity) {
        this._updatePositionsHook();
      }
    }
    _startDrawHook() {
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.on(this._drawAddEventType, this._onClickHandler, this);
      this._map.on(this._drawEndEventType, this._onDbClickHandler, this);
      if (this.options.hasDrawDelPoint ?? true) {
        this._map.on(this._drawDelEventType, this._onRightClickHandler, this);
      }
    }
    _stopDrawHook() {
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.off(this._drawAddEventType, this._onClickHandler, this);
      this._map.off(this._drawEndEventType, this._onDbClickHandler, this);
      if (this.options.hasDrawDelPoint ?? true) {
        this._map.off(this._drawDelEventType, this._onRightClickHandler, this);
      }
    }
    _getExSmallTooltip(_0x456ab5, _0x5ba613 = "") {
      if (this.options.drawShowMeasure === false) {
        return _0x5ba613;
      }
      if (this._positions_draw.length === 0 || !_0x456ab5.cartesian) {
        return _0x5ba613;
      }
      const _0x567c8f = {
        unit: this.options.unit,
        getLangText: _0x560496 => {
          return this._map.getLangText(_0x560496);
        },
        decimal: this.options.decimal
      };
      if (this._maxPointNum === 3 && this.style.semiMajorAxis > 0 && this.style.semiMinorAxis > 0 && this.style.semiMajorAxis !== this.style.semiMinorAxis) {
        return "<br />" + this._map.getLangText("_半径") + ":长" + formatDistance(this.style.semiMajorAxis, _0x567c8f) + ",短" + formatDistance(this.style.semiMinorAxis, _0x567c8f);
      } else {
        const _0x6db18 = this.style.radius ?? this.style.semiMajorAxis;
        if (_0x6db18 > 0) {
          return "<br />" + this._map.getLangText("_半径") + ":" + formatDistance(_0x6db18, _0x567c8f);
        }
      }
      return _0x5ba613;
    }
    updateAttrForDrawing(_0x1692ba) {
      if (this._positions_draw.length < 2) {
        return;
      }
      this._calculateCzmHeight(this.entityGraphic, true);
      if (!_0x1692ba) {
        const _0x16a8bf = formatNum$1(Cesium__namespace.Cartesian3.distance(this._positions_draw[0], this._positions_draw[1]), 2);
        if (_0x16a8bf < 1) {
          return;
        }
        if (this._maxPointNum === 3) {
          let _0x5ca9da = _0x16a8bf;
          let _0x20c0b3 = _0x16a8bf;
          if (this._positions_draw.length === 3) {
            _0x20c0b3 = formatNum$1(Cesium__namespace.Cartesian3.distance(this._positions_draw[0], this._positions_draw[2]), 2);
          }
          if (_0x5ca9da > _0x20c0b3) {
            const _0x52811c = _0x5ca9da;
            _0x5ca9da = _0x20c0b3;
            _0x20c0b3 = _0x52811c;
          }
          this.entityGraphic.semiMajorAxis = _0x20c0b3;
          this.entityGraphic.semiMinorAxis = _0x5ca9da;
          this.style.semiMajorAxis = _0x20c0b3;
          this.style.semiMinorAxis = _0x5ca9da;
        } else {
          this.entityGraphic.semiMajorAxis = _0x16a8bf;
          this.entityGraphic.semiMinorAxis = _0x16a8bf;
          this.style.radius = _0x16a8bf;
        }
      }
      if (this._entity_outlines) {
        this._outlinePositions = this.getOutlinePositions();
        this._updateOutlineToCallback();
      }
    }
    _onRightClickHandler(_0x1d6563) {
      super._onRightClickHandler(_0x1d6563);
      this.entityGraphic.semiMajorAxis = 0;
      this.entityGraphic.semiMinorAxis = 0;
      this.style.radius = 0;
    }
    getOutlinePositions(_0x167e33 = true, _0x5a8abb) {
      const _0xf3b273 = Cesium__namespace.JulianDate.now();
      const _0x1704e5 = getEllipseOuterPositions({
        position: getPositionValue(this._entity.position),
        semiMajorAxis: getCesiumValue(this._entity.ellipse?.semiMajorAxis, Number, _0xf3b273),
        semiMinorAxis: getCesiumValue(this._entity.ellipse?.semiMinorAxis, Number, _0xf3b273),
        rotation: getCesiumValue(this._entity.ellipse?.rotation, Number, _0xf3b273) ?? 0,
        granularity: getCesiumValue(this._entity.ellipse?.granularity, Number, _0xf3b273),
        count: _0x5a8abb
      });
      if (_0x167e33 && _0x1704e5) {
        _0x1704e5.push(_0x1704e5[0]);
        if (this.style.outlineWidth > 4 || this.style.outlineStyle?.width > 4) {
          _0x1704e5.push(_0x1704e5[1]);
        }
      }
      return _0x1704e5;
    }
    getOutlineCoordinates(_0x5aa985, _0x334639, _0x1c59a0) {
      return cartesians2lonlats(this.getOutlinePositions(_0x5aa985, _0x334639), _0x1c59a0);
    }
    _getOutlineStyle(_0x4ce099, _0xf378a3) {
      const _0x4111d9 = super._getOutlineStyle(_0x4ce099, _0xf378a3);
      _0x4111d9.arcType = Cesium__namespace.ArcType.RHUMB;
      return _0x4111d9;
    }
    getRectangle(_0x153b3f) {
      const _0x5988f8 = this.getOutlinePositions(false, 1);
      if (!_0x5988f8 || _0x5988f8.length === 0) {
        return;
      }
      const _0x169659 = getRectangle(_0x5988f8, _0x153b3f?.isFormat);
      return _0x169659;
    }
    isInPoly(_0x474eb8) {
      const _0x3bc2b6 = LngLatPoint.fromCartesian(this.positionShow);
      _0x3bc2b6.alt = 0;
      const _0x2836e3 = LngLatPoint.parse(_0x474eb8);
      _0x2836e3.alt = 0;
      const _0x267ba1 = Cesium__namespace.Cartesian3.distance(_0x3bc2b6.toCartesian(), _0x2836e3.toCartesian());
      return _0x267ba1 <= this.radius;
    }
    flyTo(_0x72ae0f = {}) {
      if (!this._map) {
        return Promise.resolve(false);
      }
      if (!Cesium__namespace.defined(_0x72ae0f.radius)) {
        _0x72ae0f.radius = this.radius * 2 * (_0x72ae0f.scale || 1.8);
      }
      return this._map.flyToPoint(this.point, _0x72ae0f);
    }
  }
  register$5("circle", CircleEntity, true);
  class EditModel extends EditBase {
    get position() {
      return this._graphic._position_draw;
    }
    set position(_0x5c95fd) {
      this._graphic._position_draw = _0x5c95fd;
    }
    updatePositionsHeightByAttr(_0x472ce3) {
      if (this.clampToGround) {
        _0x472ce3 = getSurfacePosition(this._map.scene, _0x472ce3);
      }
      return _0x472ce3;
    }
    bindDraggers() {
      this._graphic._draw_tooltip = this._map.getLangText("_拖动该点后") + "<br/>" + this._map.getLangText("_修改位置");
      this.createDragger({
        dragger: this._graphic,
        onDragStart: (_0x331ae5, _0x5f3828) => {
          for (let _0x49c0c2 = 0, _0x1de5c0 = this.draggers.length; _0x49c0c2 < _0x1de5c0; _0x49c0c2++) {
            this.draggers[_0x49c0c2].show = false;
          }
        },
        onDrag: (_0x2d9396, _0x3b7a4b) => {
          this.position = _0x3b7a4b;
        },
        onDragEnd: (_0x545b62, _0x5e6a6f) => {
          this.updateDraggers();
        }
      });
      const _0x1cbc37 = this.style.radius;
      const _0x1f65ba = this.updatePositionsHeightByAttr(this.position);
      if (this._hasEditHeading) {
        const _0x30c753 = _0x1f65ba && Cesium__namespace.Cartographic.fromCartesian(_0x1f65ba).height;
        const _0x493ec1 = {
          fill: false,
          outline: true,
          outlineColor: "#ffff00",
          outlineOpacity: 0.8,
          radius: _0x1cbc37,
          height: _0x30c753
        };
        this.entityAngle = new CircleEntity({
          name: "角度调整底部圆",
          position: new Cesium__namespace.CallbackProperty(_0xbdd0d2 => {
            return _0x1f65ba;
          }, false),
          style: _0x493ec1,
          private: true
        });
        this.layer.addGraphic(this.entityAngle);
        const _0x582770 = getPositionByDirectionAndLen(_0x1f65ba, this.style.heading, _0x1cbc37);
        const _0x4c85eb = this.createDragger({
          position: _0x582770,
          type: EditPointType.EditAttr,
          tooltip: this._map.getLangText("_修改方向"),
          onDrag: (_0x472c82, _0x22953a) => {
            const _0x17c7d = getAngle(_0x1f65ba, _0x22953a);
            this.style.heading = formatNum$1(_0x17c7d, 2);
            _0x472c82.position = getPositionByDirectionAndLen(_0x1f65ba, this.style.heading, this.style.radius);
            this._graphic.updateOrientation(_0x1f65ba);
          }
        });
        this.draggers.push(_0x4c85eb);
      }
      if (this._hasEditScale && !this.isScene2D) {
        const _0xb5f851 = addPositionsHeight(_0x1f65ba, _0x1cbc37);
        const _0x59381a = this.createDragger({
          position: _0xb5f851,
          type: EditPointType.MoveHeight,
          tooltip: this._map.getLangText("_修改缩放比例"),
          onDragStart: (_0x47106e, _0x3367d7) => {
            if (this.entityAngle) {
              this.entityAngle.show = false;
            }
            for (let _0x5e05d5 = 0, _0x5ad685 = this.draggers.length; _0x5e05d5 < _0x5ad685; _0x5e05d5++) {
              this.draggers[_0x5e05d5].show = false;
            }
          },
          onDrag: (_0x2d33a5, _0xe3edbe) => {
            const _0x533e7b = Cesium__namespace.Cartesian3.distance(_0xe3edbe, _0x1f65ba);
            const _0x32cee9 = _0x2d33a5.radius / (this.style.scale || 1);
            let _0x50fe40 = formatNum$1(_0x533e7b / _0x32cee9, 3);
            if (isNaN(_0x50fe40)) {
              return;
            }
            if (_0x50fe40 <= 0) {
              _0x50fe40 = 0.001;
            }
            this.style.scale = _0x50fe40;
            this.entityGraphic.scale = _0x50fe40;
            _0x2d33a5.radius = _0x533e7b;
            this.style.radius = _0x533e7b;
          },
          onDragEnd: (_0x546199, _0xf6eff9) => {
            this.updateDraggers();
            this.fire(EventType.editStyle);
          }
        });
        _0x59381a.radius = _0x1cbc37;
        this.draggers.push(_0x59381a);
      }
    }
    destroyDraggers() {
      super.destroyDraggers();
      if (this.entityAngle) {
        this.layer.removeGraphic(this.entityAngle, true);
        delete this.entityAngle;
      }
    }
    getDraggerContextMenu(_0x3ccf5f) {
      const _0x41d61a = super.getDraggerContextMenu(_0x3ccf5f);
      if (this.style.hasEditRotate ?? true) {
        _0x41d61a.push({
          text: this._map.getLangText("_按轴旋转"),
          icon: Icon.BloomEffectYes,
          show: _0x409408 => {
            if (this._map.scene.mode !== Cesium__namespace.SceneMode.SCENE3D) {
              return false;
            }
            return !this._matrixRotate || this._matrixRotate._dragger_index !== _0x3ccf5f.index;
          },
          callback: _0x1c2e0d => {
            if (this.entityAngle) {
              this.layer.removeGraphic(this.entityAngle, true);
              delete this.entityAngle;
              this._hasEditHeading = false;
              this.updateDraggers();
            }
            this.startRotateMatrix(_0x1c2e0d.graphic, _0x1c2e0d);
          }
        });
        _0x41d61a.push({
          text: this._map.getLangText("_停止按轴旋转"),
          icon: Icon.BloomEffectNo,
          show: _0x416215 => {
            return this._matrixRotate && this._matrixRotate._dragger_index === _0x3ccf5f.index;
          },
          callback: _0x469d26 => {
            this.stopRotateMatrix();
          }
        });
      }
      if (!Cesium__namespace.defined(this._hasEditHeading)) {
        this._hasEditHeading = this.options.hasEditHeading ?? false;
      }
      _0x41d61a.push({
        text: "编辑方向",
        icon: Icon.DrawCircle,
        show: _0x420caf => {
          return !this._hasEditHeading;
        },
        callback: _0x48fb54 => {
          this.stopRotateMatrix();
          this._hasEditHeading = true;
          this.updateDraggers();
        }
      });
      _0x41d61a.push({
        text: "停止编辑方向",
        icon: Icon.DrawCircle,
        show: _0x530263 => {
          return this._hasEditHeading;
        },
        callback: _0x19c82b => {
          this._hasEditHeading = false;
          this.updateDraggers();
        }
      });
      if (!Cesium__namespace.defined(this._hasEditScale)) {
        this._hasEditScale = this.options.hasEditScale ?? false;
      }
      _0x41d61a.push({
        text: this._map.getLangText("_调整比例"),
        icon: Icon.UndergroundYes,
        show: _0x372d63 => {
          if (this._map.scene.mode !== Cesium__namespace.SceneMode.SCENE3D) {
            return false;
          }
          return !this._hasEditScale;
        },
        callback: _0x2d6e95 => {
          this._hasEditScale = true;
          this.updateDraggers();
        }
      });
      _0x41d61a.push({
        text: this._map.getLangText("_停止调整比例"),
        icon: Icon.UndergroundNo,
        show: _0x3fa040 => {
          return this._hasEditScale;
        },
        callback: _0x855568 => {
          this._hasEditScale = false;
          this.updateDraggers();
        }
      });
      return _0x41d61a;
    }
    finish() {
      delete this._graphic._draw_tooltip;
      delete this._graphic._isDragger;
      delete this._graphic._noMousePick;
      delete this._graphic._pointType;
      delete this._graphic.onDrag;
    }
  }
  var TilesetColorCorrectionFS = "uniform bool u_mars3d_colorcorrection_enabled;\nuniform float u_mars3d_colorcorrection_brightness;\nuniform float u_mars3d_colorcorrection_contrast;\nuniform float u_mars3d_colorcorrection_saturation;\nuniform float u_mars3d_colorcorrection_hue;\n\nvoid fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {\n  if(u_mars3d_colorcorrection_enabled) {\n    material.diffuse = mix(vec3(0.0), material.diffuse, u_mars3d_colorcorrection_brightness);\n    material.diffuse = mix(vec3(0.5), material.diffuse, u_mars3d_colorcorrection_contrast);\n    material.diffuse = czm_hue(material.diffuse, u_mars3d_colorcorrection_hue);\n    material.diffuse = czm_saturation(material.diffuse, u_mars3d_colorcorrection_saturation);\n  }\n}\n";
  const DEF_OPTIONS$2 = {
    brightness: 1,
    contrast: 1,
    hue: 0,
    saturation: 1
  };
  class TilesetColorCorrection extends BaseThing {
    constructor(_0x161561 = {}) {
      _0x161561 = {
        ...DEF_OPTIONS$2,
        ..._0x161561
      };
      super(_0x161561);
      if (!isMars3DCesium) {
        logError("该功能需要引入mars3d修改版Cesium库(mars3d-cesium库)才支持!", this);
      }
    }
    get layer() {
      return this._layer;
    }
    set layer(_0x53b80f) {
      this._layer = _0x53b80f;
      _0x53b80f.readyPromise.then(_0x2b0081 => {
        if (_0x53b80f.isDestroy) {
          return;
        }
        this._initLayer();
      });
    }
    get brightness() {
      return this.options.brightness;
    }
    set brightness(_0x3c21d0) {
      this.options.brightness = _0x3c21d0;
    }
    get contrast() {
      return this.options.contrast;
    }
    set contrast(_0x4269c3) {
      this.options.contrast = _0x4269c3;
    }
    get hue() {
      return this.options.hue;
    }
    set hue(_0x5a8a6f) {
      this.options.hue = _0x5a8a6f;
    }
    get saturation() {
      return this.options.saturation;
    }
    set saturation(_0x225f45) {
      this.options.saturation = _0x225f45;
    }
    _addedHook() {
      if (this.options.layer) {
        this.layer = this.options.layer;
      }
    }
    _removedHook() {
      if (this.cacheMarsOptions) {
        this.cacheMarsOptions();
      }
    }
    _initLayer() {
      var _0x5a77dc;
      const _0x15be0b = this._getCustomShader();
      if ((_0x5a77dc = Cesium__namespace.Mars3DEx) !== null && _0x5a77dc !== undefined && _0x5a77dc.getCacheOrAdd) {
        const _0x30d6c9 = Cesium__namespace.Mars3DEx.getCacheOrAdd(this.layer._marsOptions.customShaders);
        _0x30d6c9.colorCorrection = _0x15be0b;
        this.cacheMarsOptions = function () {
          delete _0x30d6c9.colorcorrection;
        };
      }
    }
    _getCustomShader() {
      const _0x304df8 = new Cesium__namespace.CustomShader({
        lightingModel: Cesium__namespace.LightingModel.UNLIT,
        fragmentShaderText: TilesetColorCorrectionFS
      });
      _0x304df8.uniformMap.u_mars3d_colorcorrection_enabled = () => {
        return this.enabled;
      };
      _0x304df8.uniformMap.u_mars3d_colorcorrection_brightness = () => {
        return this.brightness;
      };
      _0x304df8.uniformMap.u_mars3d_colorcorrection_contrast = () => {
        return this.contrast;
      };
      _0x304df8.uniformMap.u_mars3d_colorcorrection_hue = () => {
        return this.hue;
      };
      _0x304df8.uniformMap.u_mars3d_colorcorrection_saturation = () => {
        return this.saturation;
      };
      this._uniforms = _0x304df8.uniforms;
      return _0x304df8;
    }
  }
  register("colorCorrection", TilesetColorCorrection, false);
  class ModelEntity extends BasePointEntity {
    constructor(_0x14c096 = {}) {
      super(_0x14c096);
      this._marsOptions = {};
      this.style.radius = this.style.radius ?? 50;
      this._readyPromise = Cesium__namespace.defer();
    }
    get entityGraphic() {
      return this._entity?.model;
    }
    get EditClass() {
      return EditModel;
    }
    get scale() {
      return this.style.scale ?? 1;
    }
    set scale(_0x3fb1fc) {
      this.style.scale = _0x3fb1fc;
      const _0x4c09ba = {
        scale: _0x3fb1fc
      };
      this._updateStyleHook(this.style, _0x4c09ba);
    }
    get splitDirection() {
      return this.options.splitDirection;
    }
    set splitDirection(_0x1955cf) {
      this.options.splitDirection = _0x1955cf;
      if (this._entity) {
        this._entity.splitDirection = _0x1955cf;
      }
    }
    get colorCorrection() {
      if (this._map && !this._tilesetColorCorrection) {
        this._initTilesetColorCorrection();
      }
      return this._tilesetColorCorrection;
    }
    _initTilesetColorCorrection() {
      if (this._tilesetColorCorrection) {
        this._tilesetColorCorrection.destroy();
      }
      this._tilesetColorCorrection = new TilesetColorCorrection({
        ...this.options.colorCorrection,
        layer: this
      });
      this._map.addThing(this._tilesetColorCorrection);
    }
    get readyPromise() {
      return this._readyPromise.promise;
    }
    _mountedHook() {
      this._conventMarsOptions();
      if (this.options.colorCorrection) {
        this._initTilesetColorCorrection();
      }
      const _0x4eb45c = {
        position: this.position,
        orientation: this.getOrientation(),
        model: ModelStyleConver.toCesiumVal(this.style, {}, true)
      };
      if (!_0x4eb45c.model.uri && this.options.url) {
        _0x4eb45c.model.uri = this.options.url;
        _0x4eb45c.model.show = true;
      }
      if (!Cesium__namespace.defined(_0x4eb45c.splitDirection) && Cesium__namespace.defined(this._layer.splitDirection)) {
        _0x4eb45c.splitDirection = this._layer.splitDirection;
      }
      const _0x14af77 = this.style.label;
      if (_0x14af77) {
        if (Cesium__namespace.defined(this.style.clampToGround) && !Cesium__namespace.defined(_0x14af77.clampToGround)) {
          _0x14af77.clampToGround = this.style.clampToGround;
        }
        if (this._getLabelIsCombine()) {
          _0x4eb45c.label = LabelStyleConver.toCesiumVal(_0x14af77, {}, this.attr);
        } else {
          this._addLabel(_0x14af77);
        }
      }
      if (this.options.billboard) {
        _0x4eb45c.billboard = BillboardStyleConver.toCesiumVal(this.options.billboard, {}, true);
      }
      if (this.options.point) {
        _0x4eb45c.point = PointStyleConver.toCesiumVal(this.options.point, {}, true);
      }
      if (this.options.circle) {
        _0x4eb45c.ellipse = CircleStyleConver.toCesiumVal(this.options.circle, {}, true);
      }
      if (this.options.path) {
        const _0x334ec7 = PathStyleConver.toCesiumVal(this.options.path, {}, true);
        if (!_0x334ec7.isAll) {
          _0x334ec7.leadTime = 0;
        }
        _0x4eb45c.path = _0x334ec7;
        if (!this.options.availability) {
          this._setAutoAvailability(_0x4eb45c);
        }
      }
      if (this.style.distanceDisplayCondition) {
        if (this.style.distanceDisplayPoint) {
          _0x4eb45c.point = PointStyleConver.toCesiumVal(this.style.distanceDisplayPoint);
          _0x4eb45c.point.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayPoint);
        } else if (this.style.distanceDisplayBillboard) {
          _0x4eb45c.billboard = BillboardStyleConver.toCesiumVal(this.style.distanceDisplayBillboard);
          _0x4eb45c.billboard.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayBillboard);
          if (this.property && this.style.distanceDisplayBillboard.alignedAxis === true) {
            _0x4eb45c.billboard.alignedAxis = new Cesium__namespace.VelocityVectorProperty(this.property, true);
          }
        }
      }
      _0x4eb45c.model.marsOptions = this._marsOptions;
      this._entity = this._createEntity(_0x4eb45c);
    }
    _addedHook(_0xaea41) {
      if (this.options.colorCorrection && !this._tilesetColorCorrection) {
        this._initTilesetColorCorrection();
      }
      super._addedHook(_0xaea41);
    }
    _removedHook() {
      this.rotateStop();
      super._removedHook();
      if (this._tilesetColorCorrection) {
        this._map.removeThing(this._tilesetColorCorrection, true);
        delete this._tilesetColorCorrection;
      }
    }
    _conventMarsOptions() {
      if (!isMars3DCesium) {
        return;
      }
      this._marsOptions.occlusion = this.style.marsOcclusion;
      this._marsOptions.customShaders = this._map.index + "_" + this.id;
      this.loadOk = false;
      this.fire(EventType.loadBefore, {
        url: this.options.url
      });
      this._draw_tooltip = this._map.getLangText("_加载模型中");
      this._marsOptions.callback = (_0x407e61, _0x3a2066) => {
        var _0x5f3d3e;
        delete this._draw_tooltip;
        this.loadOk = true;
        this._model = _0x3a2066;
        if ((_0x5f3d3e = this._layer) !== null && _0x5f3d3e !== undefined && _0x5f3d3e._objectsToExclude_auto) {
          delete this._layer._objectsToExclude_auto;
        }
        if (_0x3a2066.boundingSphere.radius < (this.style.maxRadius, 1000)) {
          this.style.radius = _0x3a2066.boundingSphere.radius;
        }
        this.fire(EventType.load, {
          drawType: this.type,
          entity: _0x407e61,
          model: _0x3a2066,
          graphic: this
        }, true);
        this._readyPromise.resolve(this);
      };
    }
    _style2Json(_0x465dcb, _0x10ba51) {
      _0x10ba51 = ModelStyleConver.toJSON(_0x465dcb, _0x10ba51, true);
      if (this.style.distanceDisplayPoint) {
        _0x10ba51.distanceDisplayPoint = PointStyleConver.toJSON(this.style.distanceDisplayPoint, _0x10ba51.distanceDisplayPoint, true);
      } else if (this.style.distanceDisplayBillboard) {
        _0x10ba51.distanceDisplayBillboard = BillboardStyleConver.toJSON(this.style.distanceDisplayBillboard, _0x10ba51.distanceDisplayBillboard, true);
      }
      return _0x10ba51;
    }
    _updateStyleHook(_0x3fd60e, _0xd447e4) {
      if (_0xd447e4.url && this.show && this.entityGraphic.uri?._value !== _0xd447e4.url) {
        this.loadOk = false;
        this.entityGraphic._readyOk = false;
        const _0x3ca8d1 = {
          url: _0xd447e4?.url
        };
        this.fire(EventType.loadBefore, _0x3ca8d1);
      }
      ModelStyleConver.toCesiumVal(_0x3fd60e, this.entityGraphic, true);
      this._entity.orientation = this.getOrientation();
      if (Cesium__namespace.defined(_0x3fd60e.clampToGround) && this._position_draw) {
        this._position_draw.z += 0.01;
      }
      if (this.style.distanceDisplayCondition) {
        var _0x53f74a;
        if (_0xd447e4.distanceDisplayPoint && this._entity.point) {
          PointStyleConver.toCesiumVal(this.style.distanceDisplayPoint, this._entity.point);
          this._entity.point.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayPoint);
        } else if (_0xd447e4.distanceDisplayBillboard && (_0x53f74a = this._entity) !== null && _0x53f74a !== undefined && _0x53f74a.billboard) {
          BillboardStyleConver.toCesiumVal(this.style.distanceDisplayBillboard, this._entity.billboard);
          this._entity.billboard.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayBillboard);
          if (this.property && _0xd447e4.distanceDisplayBillboard.alignedAxis === true) {
            this._entity.billboard.alignedAxis = new Cesium__namespace.VelocityVectorProperty(this.property, true);
          }
        }
      }
    }
    _updatePositionsHook() {
      super._updatePositionsHook();
      this._entity.orientation = this.getOrientation();
      if (this._entity.path) {
        this._setAutoAvailability();
      }
    }
    _setPositionsToCallback() {
      super._setPositionsToCallback();
      this._entity.orientation = new Cesium__namespace.CallbackProperty(_0x260fc6 => {
        const _0x462f01 = getPositionValue(this.position, _0x260fc6);
        if (_0x462f01 == null) {
          return;
        }
        const _0x4ef22a = Cesium__namespace.Math.toRadians(this.style.heading ?? 0);
        const _0x354971 = Cesium__namespace.Math.toRadians(this.style.pitch ?? 0);
        const _0x5904a7 = Cesium__namespace.Math.toRadians(this.style.roll ?? 0);
        const _0x787926 = new Cesium__namespace.HeadingPitchRoll(_0x4ef22a, _0x354971, _0x5904a7);
        return Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x462f01, _0x787926, this.ellipsoid, this.fixedFrameTransform);
      }, false);
    }
    _cancelPositionsCallback() {
      if (!this._isCallbackPositions) {
        return;
      }
      super._cancelPositionsCallback();
      if (this._entity) {
        this._entity.orientation = this.getOrientation();
      }
    }
    _setOptionsHook(_0x16cf1f, _0x9afad7) {
      if (_0x9afad7.billboard) {
        BillboardStyleConver.toCesiumVal(_0x16cf1f.billboard, this._entity.billboard, true);
      }
      if (_0x9afad7.point) {
        PointStyleConver.toCesiumVal(_0x16cf1f.point, this._entity.point, true);
      }
      if (_0x9afad7.path) {
        PathStyleConver.toCesiumVal(_0x16cf1f.path, this._entity.path, true);
        if (!_0x16cf1f.path.isAll) {
          this._entity.path.leadTime = 0;
        }
      }
      if (_0x9afad7.circle) {
        CircleStyleConver.toCesiumVal(_0x16cf1f.circle, this._entity.ellipse, true);
      }
      if (_0x9afad7.colorCorrection) {
        this.colorCorrection.setOptions(_0x16cf1f.colorCorrection);
      }
    }
    _toJSON_Ex(_0x2eb176) {
      if (this.options.billboard) {
        _0x2eb176.billboard = {};
        BillboardStyleConver.toJSON(this.options.billboard, _0x2eb176.billboard, true);
      }
      if (this.options.point) {
        _0x2eb176.point = {};
        PointStyleConver.toJSON(this.options.point, _0x2eb176.point, true);
      }
      if (this.options.path) {
        _0x2eb176.path = {};
        PathStyleConver.toJSON(this.options.path, _0x2eb176.path, true);
      }
      if (this.options.circle) {
        _0x2eb176.circle = {};
        CircleStyleConver.toJSON(this.options.circle, _0x2eb176.circle, true);
      }
    }
    _addLabel(_0x5daa17) {
      if (this._getLabelIsCombine()) {
        this._entity.label = this._entity.label || {};
        LabelStyleConver.toCesiumVal(_0x5daa17, this._entity.label, this.attr);
      } else {
        super._addLabel(_0x5daa17);
      }
    }
    updateAttrForDrawing(_0x32ccc8) {}
    _updateDistanceDisplayConditionByEdit() {}
    _getTargetDistanceDisplayCondition(_0x3f86c0) {
      let _0x46a2dc;
      if (this.style.distanceDisplayCondition instanceof Cesium__namespace.DistanceDisplayCondition) {
        _0x46a2dc = this.style.distanceDisplayCondition.far;
      } else if (this.style.distanceDisplayCondition_far) {
        _0x46a2dc = this.style.distanceDisplayCondition_far;
      }
      return new Cesium__namespace.DistanceDisplayCondition(_0x3f86c0.distanceDisplayCondition_near ?? _0x46a2dc, _0x3f86c0.distanceDisplayCondition_far ?? Number.MAX_VALUE);
    }
    getHeadingPitchRoll() {
      const _0x51f2c7 = this.currentTime;
      const _0x494972 = this.positionShow;
      const _0x471b58 = Cesium__namespace.Property.getValueOrUndefined(this._entity.orientation, _0x51f2c7, new Cesium__namespace.Quaternion());
      const _0x36b073 = getHeadingPitchRollByOrientation(_0x494972, _0x471b58, this.ellipsoid, this.fixedFrameTransform);
      return _0x36b073;
    }
    rotateStart(_0x16eff = {}) {
      if (this._isRotateStart) {
        this.rotateStop();
      }
      this._rotateDirection = _0x16eff.direction ? 1 : -1;
      this._rotateAngle = 360 / ((_0x16eff.time || 60) * 60);
      this._rotateAutoStopAngle = _0x16eff.autoStopAngle;
      this._rotateHpr = this.getHeadingPitchRoll();
      this._startHeading = this._rotateHpr.heading;
      this._tikRender = 0;
      this._isRotateStart = true;
      this.entity.orientation = new Cesium__namespace.CallbackProperty(_0x5d4be2 => {
        const _0x235120 = getPositionValue(this.position, _0x5d4be2);
        return Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x235120, this._rotateHpr, this.ellipsoid, this.fixedFrameTransform);
      }, false);
      this._map.on(EventType.preRender, this._rotate_onPreRenderHandler, this);
    }
    _rotate_onPreRenderHandler(_0x1e04af) {
      if (!this._map) {
        return;
      }
      this._tikRender++;
      const _0x30f3bf = this._tikRender * this._rotateAngle;
      if (this._rotateAutoStopAngle && _0x30f3bf >= this._rotateAutoStopAngle) {
        this.rotateStop();
        return;
      }
      const _0x3a1a8e = Cesium__namespace.Math.toRadians(_0x30f3bf * this._rotateDirection) + this._startHeading;
      this._rotateHpr.heading = _0x3a1a8e;
    }
    rotateStop() {
      if (!this._isRotateStart) {
        return;
      }
      this._isRotateStart = false;
      this._map.off(EventType.preRender, this._rotate_onPreRenderHandler, this);
      this.heading = Cesium__namespace.Math.toDegrees(this._rotateHpr.heading);
      delete this._rotateDirection;
      delete this._rotateAngle;
      delete this._rotateAutoStopAngle;
      delete this._rotateHpr;
      delete this._startHeading;
      delete this._tikRender;
    }
    moveTo(_0x1f5de2) {
      return new Promise((_0x13f36e, _0x14c16d) => {
        const _0x25b295 = new Cesium__namespace.SampledPositionProperty();
        _0x25b295.forwardExtrapolationType = Cesium__namespace.ExtrapolationType.HOLD;
        const _0x2b222f = this.currentTime.clone();
        const _0x3bdaa8 = this.positionShow;
        _0x25b295.addSample(_0x2b222f, _0x3bdaa8);
        const _0x2e6f45 = LngLatPoint.parse(_0x1f5de2.position).toCartesian();
        const _0x633ab8 = _0x1f5de2.time || 5;
        const _0x593f9c = Cesium__namespace.JulianDate.addSeconds(_0x2b222f, _0x633ab8, new Cesium__namespace.JulianDate());
        _0x25b295.addSample(_0x593f9c, _0x2e6f45);
        this._entity.position = _0x25b295;
        let _0x3e7ed0;
        if (_0x1f5de2.orientation) {
          _0x3e7ed0 = this._entity.orientation;
          this._entity.orientation = new Cesium__namespace.VelocityOrientationProperty(_0x25b295);
        }
        const _0x262be6 = this._map.clock.multiplier;
        this._map.clock.shouldAnimate = true;
        this._map.clock.multiplier = _0x1f5de2.speed || 1;
        this._cancelMoveTo = () => {
          if (!this._map) {
            return;
          }
          delete this._cancelMoveTo;
          if (_0x3e7ed0) {
            this._entity.orientation = _0x3e7ed0;
          }
          this._setPointPostion(_0x2e6f45);
          this._map.clock.multiplier = _0x262be6;
          if (_0x1f5de2.onEnd) {
            _0x1f5de2.onEnd();
          }
          _0x13f36e(this);
        };
        setTimeout(() => {
          this.cancelMoveTo();
        }, _0x633ab8 * 1000);
      });
    }
    cancelMoveTo() {
      if (this._cancelMoveTo) {
        this._cancelMoveTo();
      }
    }
    _getPopupPosition() {
      return this._entity.position;
    }
    setOpacity(_0x1dd69b) {
      this.style.globalAlpha = _0x1dd69b;
      if (this._entity) {
        ModelStyleConver.setOpacity(this.entityGraphic, _0x1dd69b);
        this._updateLabelOpacity(_0x1dd69b);
      }
    }
    getBoundingBox(_0x10a285, _0x28186f) {
      if (!Cesium__namespace.defined(_0x28186f)) {
        _0x28186f = new Cesium__namespace.BoundingRectangle();
      }
      const _0x81ac4b = this.style?.minimumPixelSize ?? 20;
      const _0x592591 = _0x10a285.x - _0x81ac4b * 0.5;
      const _0x12edbc = _0x10a285.y - _0x81ac4b * 0.5;
      _0x28186f.x = _0x592591;
      _0x28186f.y = _0x12edbc;
      _0x28186f.width = _0x81ac4b;
      _0x28186f.height = _0x81ac4b;
      return _0x28186f;
    }
  }
  register$5("model", ModelEntity, true);
  class EditBox extends EditBase {
    set position(_0xae2bf3) {
      this._graphic._position_draw = _0xae2bf3;
    }
    get position() {
      return this._graphic._position_draw;
    }
    bindDraggers() {
      const _0x1b61a6 = this.style;
      let _0x3a16c2;
      let _0x821e93 = this.position;
      _0x3a16c2 = this.createDragger({
        position: _0x821e93,
        onDragStart: (_0x2a9960, _0xe1523d) => {
          _0x821e93 = _0xe1523d;
        },
        onDrag: (_0x149dbf, _0x5997fa) => {
          const _0x53f9e5 = Cesium__namespace.Cartesian3.subtract(_0x5997fa, _0x821e93, new Cesium__namespace.Cartesian3());
          this.position = _0x821e93 = _0x5997fa;
          _0x149dbf.position = _0x5997fa;
          for (let _0x5d4c0a = 0, _0x4964c0 = this.draggers.length; _0x5d4c0a < _0x4964c0; _0x5d4c0a++) {
            if (this.draggers[_0x5d4c0a] === _0x149dbf) {
              continue;
            }
            this.draggers[_0x5d4c0a].position = Cesium__namespace.Cartesian3.add(this.draggers[_0x5d4c0a].position, _0x53f9e5, new Cesium__namespace.Cartesian3());
          }
        }
      });
      this.draggers.push(_0x3a16c2);
      const _0x2451f2 = Cesium__namespace.Math.toRadians(this._graphic.heading);
      const _0xd2015a = Cesium__namespace.Math.toRadians(this._graphic.pitch);
      const _0x30ee83 = Cesium__namespace.Math.toRadians(this._graphic.roll);
      const _0x307a44 = new Cesium__namespace.HeadingPitchRoll(_0x2451f2, _0xd2015a, _0x30ee83);
      const _0xdb82d2 = getPositionByHprAndOffset(_0x821e93, new Cesium__namespace.Cartesian3(_0x1b61a6.dimensions_x / 2, 0, 0), _0x307a44);
      _0x3a16c2 = this.createDragger({
        position: _0xdb82d2,
        type: EditPointType.EditAttr,
        tooltip: this._map.getLangText("_修改长度"),
        onDrag: (_0x5844b8, _0xf536e9) => {
          const _0x5c297b = Cesium__namespace.Cartographic.fromCartesian(this.position).height;
          _0xf536e9 = setPositionsHeight(_0xf536e9, _0x5c297b);
          _0x5844b8.position = _0xf536e9;
          const _0x3634ad = this.formatNum(Cesium__namespace.Cartesian3.distance(this.position, _0xf536e9), 2);
          _0x1b61a6.dimensions_x = _0x3634ad * 2;
          this.updateBox(_0x1b61a6);
          this.fire(EventType.editStyle);
        },
        onDragEnd: (_0x20a06c, _0x22bc16) => {
          this.updateDraggers();
        }
      });
      this.draggers.push(_0x3a16c2);
      const _0x543121 = getPositionByHprAndOffset(_0x821e93, new Cesium__namespace.Cartesian3(0, _0x1b61a6.dimensions_y / 2, 0), _0x307a44);
      _0x3a16c2 = this.createDragger({
        position: _0x543121,
        type: EditPointType.EditAttr,
        tooltip: this._map.getLangText("_修改宽度"),
        onDrag: (_0x32646c, _0x1c0184) => {
          const _0x3ab3d3 = Cesium__namespace.Cartographic.fromCartesian(_0x821e93).height;
          _0x1c0184 = setPositionsHeight(_0x1c0184, _0x3ab3d3);
          _0x32646c.position = _0x1c0184;
          const _0x6493c3 = this.formatNum(Cesium__namespace.Cartesian3.distance(this.position, _0x1c0184), 2);
          _0x1b61a6.dimensions_y = _0x6493c3 * 2;
          this.updateBox(_0x1b61a6);
          this.fire(EventType.editStyle);
        },
        onDragEnd: (_0x4693f5, _0x19c667) => {
          this.updateDraggers();
        }
      });
      this.draggers.push(_0x3a16c2);
      if (!this.isScene2D) {
        const _0x42e67a = getPositionByHprAndOffset(_0x821e93, new Cesium__namespace.Cartesian3(0, 0, _0x1b61a6.dimensions_z / 2), _0x307a44);
        _0x3a16c2 = this.createDragger({
          position: _0x42e67a,
          type: EditPointType.MoveHeight,
          tooltip: this._map.getLangText("_修改高度"),
          onDrag: (_0x4786e8, _0x45ad10) => {
            const _0x22cf47 = this.formatNum(Cesium__namespace.Cartesian3.distance(this.position, _0x45ad10), 2);
            _0x1b61a6.dimensions_z = _0x22cf47 * 2;
            this.updateBox(_0x1b61a6);
            this.fire(EventType.editStyle);
          },
          onDragEnd: (_0x776531, _0x509130) => {
            this.updateDraggers();
          }
        });
        this.draggers.push(_0x3a16c2);
      }
    }
    updateBox(_0x341bb7) {
      const _0x107a21 = new Cesium__namespace.Cartesian3(_0x341bb7.dimensions_x, _0x341bb7.dimensions_y, _0x341bb7.dimensions_z);
      this.entityGraphic.dimensions.setValue(_0x107a21);
    }
    _updateStyleHook(_0x2837df) {
      super._updateStyleHook(_0x2837df);
      if (Cesium__namespace.defined(_0x2837df.dimensions_x) || Cesium__namespace.defined(_0x2837df.dimensions_y) || Cesium__namespace.defined(_0x2837df.dimensions_z)) {
        this.updateDraggers();
      }
    }
  }
  class BoxEntity extends BasePointEntity {
    get entityGraphic() {
      return this._entity?.box;
    }
    get EditClass() {
      return EditBox;
    }
    _mountedHook() {
      const _0x2601f9 = {
        position: this.position,
        orientation: this.getOrientation(),
        box: BoxStyleConver.toCesiumVal(this.style, {}, true)
      };
      this._entity = this._createEntity(_0x2601f9);
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _style2Json(_0x4cbc10, _0x26f3c7) {
      return BoxStyleConver.toJSON(_0x4cbc10, _0x26f3c7, true);
    }
    _updateStyleHook(_0x46b2be, _0x473249) {
      if (_0x473249 && (Cesium__namespace.defined(_0x473249.heading) || Cesium__namespace.defined(_0x473249.pitch) || Cesium__namespace.defined(_0x473249.roll))) {
        this._entity.orientation = this.getOrientation();
      }
      BoxStyleConver.toCesiumVal(_0x46b2be, this.entityGraphic, true);
    }
    _setPositionsToCallback() {
      super._setPositionsToCallback();
      const _0xb5d3e3 = getCesiumValue(this.entityGraphic.dimensions, Number, this.currentTime);
      this.style.dimensions_x = this.style.dimensions_x ?? _0xb5d3e3.x;
      this.style.dimensions_y = this.style.dimensions_y ?? _0xb5d3e3.y;
      this.style.dimensions_z = this.style.dimensions_z ?? _0xb5d3e3.z;
      delete this.style.dimensions;
    }
  }
  register$5("box", BoxEntity, true);
  class EditPlane extends EditBase {
    get position() {
      return this._graphic._position_draw;
    }
    set position(_0xc427d6) {
      this._graphic._position_draw = _0xc427d6;
    }
    bindDraggers() {
      const _0x9f2383 = this.style;
      let _0x3c078c;
      const _0x40efbe = this.position;
      _0x3c078c = this.createDragger({
        position: _0x40efbe,
        onDrag: (_0x3c374b, _0x3f1bfb) => {
          const _0xcb1e4e = Cesium__namespace.Cartesian3.subtract(_0x3f1bfb, this.position, new Cesium__namespace.Cartesian3());
          this.position = _0x3f1bfb;
          for (let _0x4aab03 = 0, _0x122e81 = this.draggers.length; _0x4aab03 < _0x122e81; _0x4aab03++) {
            if (this.draggers[_0x4aab03] === _0x3c374b) {
              continue;
            }
            this.draggers[_0x4aab03].position = Cesium__namespace.Cartesian3.add(this.draggers[_0x4aab03].position, _0xcb1e4e, new Cesium__namespace.Cartesian3());
          }
        }
      });
      this.draggers.push(_0x3c078c);
      const _0x12524b = Cesium__namespace.Math.toRadians(this._graphic.heading);
      const _0x2b4612 = Cesium__namespace.Math.toRadians(this._graphic.pitch);
      const _0x5d0c78 = Cesium__namespace.Math.toRadians(this._graphic.roll);
      const _0x7df74f = new Cesium__namespace.HeadingPitchRoll(_0x12524b, _0x2b4612, _0x5d0c78);
      const _0x56af3a = new Cesium__namespace.Cartesian3();
      switch (_0x9f2383.plane_normal) {
        case "x":
          _0x56af3a.y = _0x9f2383.dimensions_x / 2;
          break;
        default:
          _0x56af3a.x = _0x9f2383.dimensions_x / 2;
          break;
      }
      _0x3c078c = this.createDragger({
        position: getPositionByHprAndOffset(_0x40efbe, _0x56af3a, _0x7df74f),
        type: EditPointType.EditAttr,
        tooltip: this._map.getLangText("_修改长度"),
        onDrag: (_0x5cb8f2, _0x31ddcb) => {
          const _0x51135c = Cesium__namespace.Cartographic.fromCartesian(this.position).height;
          _0x31ddcb = setPositionsHeight(_0x31ddcb, _0x51135c);
          _0x5cb8f2.position = _0x31ddcb;
          const _0x398ff9 = this.formatNum(Cesium__namespace.Cartesian3.distance(this.position, _0x31ddcb), 2);
          _0x9f2383.dimensions_x = _0x398ff9 * 2;
          this.updatePlane(_0x9f2383);
        },
        onDragEnd: (_0x539d8e, _0x21e791) => {
          this.updateDraggers();
        }
      });
      this.draggers.push(_0x3c078c);
      if (_0x9f2383.plane_normal === "z") {
        _0x3c078c = this.createDragger({
          position: getPositionByHprAndOffset(_0x40efbe, new Cesium__namespace.Cartesian3(0, _0x9f2383.dimensions_y / 2, 0), _0x7df74f),
          type: EditPointType.EditAttr,
          tooltip: this._map.getLangText("_修改宽度"),
          onDrag: (_0x40a198, _0x1ffa1b) => {
            const _0x472816 = Cesium__namespace.Cartographic.fromCartesian(this.position).height;
            _0x1ffa1b = setPositionsHeight(_0x1ffa1b, _0x472816);
            _0x40a198.position = _0x1ffa1b;
            const _0x5278fb = this.formatNum(Cesium__namespace.Cartesian3.distance(this.position, _0x1ffa1b), 2);
            _0x9f2383.dimensions_y = _0x5278fb * 2;
            this.updatePlane(_0x9f2383);
          },
          onDragEnd: (_0x4fdabe, _0x61f5d0) => {
            this.updateDraggers();
          }
        });
        this.draggers.push(_0x3c078c);
      } else {
        const _0x4896f6 = {
          x: 0,
          y: 0,
          z: 0
        };
        switch (_0x9f2383.plane_normal) {
          case "x":
          case "y":
            _0x4896f6.z = _0x9f2383.dimensions_y / 2;
            break;
          default:
            _0x4896f6.y = _0x9f2383.dimensions_y / 2;
            break;
        }
        _0x3c078c = this.createDragger({
          position: getPositionByHprAndOffset(_0x40efbe, _0x4896f6, _0x7df74f),
          type: EditPointType.MoveHeight,
          tooltip: this._map.getLangText("_修改宽度"),
          onDrag: (_0x407601, _0x536f46) => {
            const _0x55e3cb = this.formatNum(Cesium__namespace.Cartesian3.distance(this.position, _0x536f46), 2);
            _0x9f2383.dimensions_y = _0x55e3cb * 2;
            this.updatePlane(_0x9f2383);
          },
          onDragEnd: (_0x85f17c, _0x34e524) => {
            this.updateDraggers();
          }
        });
        this.draggers.push(_0x3c078c);
      }
    }
    updatePlane(_0x2b354a) {
      const _0x5957e0 = new Cesium__namespace.Cartesian2(_0x2b354a.dimensions_x, _0x2b354a.dimensions_y);
      this.entityGraphic.dimensions.setValue(_0x5957e0);
      this.fire(EventType.editStyle);
    }
    _updateStyleHook(_0x4c8b41) {
      super._updateStyleHook(_0x4c8b41);
      if (Cesium__namespace.defined(_0x4c8b41.dimensions_x) || Cesium__namespace.defined(_0x4c8b41.dimensions_y)) {
        this.updateDraggers();
      }
    }
  }
  class PlaneEntity extends BasePointEntity {
    get entityGraphic() {
      return this._entity?.plane;
    }
    get EditClass() {
      return EditPlane;
    }
    _mountedHook() {
      const _0x17239b = {
        position: this.position,
        orientation: this.getOrientation(),
        plane: PlaneStyleConver.toCesiumVal(this.style, {}, true)
      };
      this._entity = this._createEntity(_0x17239b);
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _style2Json(_0x286082, _0x51cb6e) {
      return PlaneStyleConver.toJSON(_0x286082, _0x51cb6e, true);
    }
    _updateStyleHook(_0x317aa2, _0x48a545) {
      if (_0x48a545 && (Cesium__namespace.defined(_0x48a545.heading) || Cesium__namespace.defined(_0x48a545.pitch) || Cesium__namespace.defined(_0x48a545.roll))) {
        this._entity.orientation = this.getOrientation();
      }
      PlaneStyleConver.toCesiumVal(_0x317aa2, this.entityGraphic, true);
    }
    _setPositionsToCallback() {
      super._setPositionsToCallback();
      const _0x517443 = getCesiumValue(this.entityGraphic.dimensions, Cesium__namespace.Cartesian2, this.currentTime);
      if (_0x517443) {
        PlaneStyleConver.toOneJson("dimensions", _0x517443, this.style);
      }
      const _0x2045e9 = getCesiumValue(this.entityGraphic.plane, Cesium__namespace.Plane, this.currentTime);
      if (_0x2045e9) {
        PlaneStyleConver.toOneJson("plane", _0x2045e9, this.style);
      }
    }
  }
  register$5("plane", PlaneEntity, true);
  class EditCylinder extends EditPoly {
    set position(_0x54195c) {
      this.positions[0] = _0x54195c;
    }
    get position() {
      return this.positions[0];
    }
    bindDraggers() {
      const _0x116d76 = this.positions;
      const _0x43f4b8 = this.position;
      let _0x57c880 = 0;
      const _0x45b0fb = this.createDragger({
        position: _0x43f4b8,
        onDragStart: (_0x441902, _0x586f85) => {
          for (let _0x1b8919 = 0, _0x3f58b0 = this.draggers.length; _0x1b8919 < _0x3f58b0; _0x1b8919++) {
            this.draggers[_0x1b8919].show = false;
          }
        },
        onDrag: (_0x4aa140, _0x479e4a) => {
          _0x116d76[0] = _0x479e4a;
        },
        onDragEnd: (_0x977478, _0x10f18f) => {
          this.updateDraggers();
        }
      });
      _0x45b0fb.index = _0x57c880;
      this.draggers.push(_0x45b0fb);
      const _0x578fe9 = getEllipseOuterPositions({
        position: _0x43f4b8,
        semiMajorAxis: this.style.bottomRadius,
        semiMinorAxis: this.style.bottomRadius,
        rotation: Cesium__namespace.Math.toRadians(Number(this.style.rotation || 0))
      });
      _0x57c880 = 1;
      const _0x22b2f9 = _0x578fe9[0];
      _0x116d76[_0x57c880] = _0x22b2f9;
      const _0x2ff4fd = this.createDragger({
        position: _0x22b2f9,
        type: EditPointType.EditAttr,
        tooltip: this._map.getLangText("_修改半径"),
        onDrag: (_0x3a269d, _0x44ec9c) => {
          _0x116d76[1] = _0x44ec9c;
          const _0x251740 = this.formatNum(Cesium__namespace.Cartesian3.distance(_0x116d76[0], _0x44ec9c), 2);
          this.style.bottomRadius = _0x251740;
          this.fire(EventType.editStyle);
        },
        onDragEnd: (_0x17210a, _0x1f8610) => {
          this.updateDraggers();
        }
      });
      _0x2ff4fd.index = _0x57c880;
      this.draggers.push(_0x2ff4fd);
      if (!this.isScene2D) {
        _0x57c880 = 2;
        const _0x40d6e6 = addPositionsHeight(_0x43f4b8, this.style.length);
        _0x116d76[_0x57c880] = _0x40d6e6;
        const _0x22220d = this.createDragger({
          position: _0x40d6e6,
          type: EditPointType.MoveHeight,
          tooltip: this._map.getLangText("_修改高度"),
          onDrag: (_0x365244, _0x16c345) => {
            _0x116d76[_0x365244.index] = _0x16c345;
            const _0x5a37e0 = this.formatNum(Cesium__namespace.Cartesian3.distance(_0x116d76[0], _0x16c345), 2);
            this.style.length = _0x5a37e0;
            this.fire(EventType.editStyle);
          },
          onDragEnd: (_0x4b3a13, _0x4b55e8) => {
            this.updateDraggers();
          }
        });
        _0x22220d.index = _0x57c880;
        this.draggers.push(_0x22220d);
      }
    }
    _updateStyleHook(_0x4dbc27) {
      super._updateStyleHook(_0x4dbc27);
      if (Cesium__namespace.defined(_0x4dbc27.topRadius) || Cesium__namespace.defined(_0x4dbc27.bottomRadius) || Cesium__namespace.defined(_0x4dbc27.length) || Cesium__namespace.defined(_0x4dbc27.diffHeight)) {
        this.updateDraggers();
      }
    }
  }
  class CylinderEntity extends BasePointEntity {
    constructor(_0x2991db = {}) {
      super(_0x2991db);
      this._minPointNum = 2;
      this._maxPointNum = 2;
    }
    get entityGraphic() {
      return this._entity?.cylinder;
    }
    get EditClass() {
      return EditCylinder;
    }
    _mountedHook() {
      this._entity = this._createEntity(this._getCreateEntityAttr());
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _getCreateEntityAttr() {
      const _0x5ec12f = {
        position: this.position,
        orientation: this.getOrientation(),
        cylinder: CylinderStyleConver.toCesiumVal(this.style, {}, true)
      };
      return _0x5ec12f;
    }
    _style2Json(_0x385e6d, _0x1134d5) {
      return CylinderStyleConver.toJSON(_0x385e6d, _0x1134d5, true);
    }
    _updateStyleHook(_0x5b2c0f, _0x3d5cb8) {
      CylinderStyleConver.toCesiumVal(_0x5b2c0f, this.entityGraphic, {}, true);
      if (Cesium__namespace.defined(_0x3d5cb8.heading) || Cesium__namespace.defined(_0x3d5cb8.pitch) || Cesium__namespace.defined(_0x3d5cb8.roll)) {
        this._entity.orientation = this.getOrientation();
      }
      if (Cesium__namespace.defined(_0x3d5cb8.length) || Cesium__namespace.defined(_0x3d5cb8.diffHeight)) {
        if (this._positions_draw?.length > 0) {
          this._position_show = addPositionsHeight(this._positions_draw[0], _0x5b2c0f.length / 2);
        }
      }
    }
    _updatePositionsHook() {
      var _0x1b81e1;
      if ((_0x1b81e1 = this.editing) !== null && _0x1b81e1 !== undefined && _0x1b81e1.enabled && this._positions_draw?.length > 0) {
        this._position_show = addPositionsHeight(this._positions_draw[0], this.style.length / 2);
      }
      super._updatePositionsHook();
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = true;
      const _0x498bfc = this.currentTime;
      this.style.topRadius = getCesiumValue(this.entityGraphic.topRadius, Number, _0x498bfc);
      this.entityGraphic.topRadius = new Cesium__namespace.CallbackProperty(_0x559b55 => {
        return this.style.topRadius;
      }, false);
      this.style.bottomRadius = getCesiumValue(this.entityGraphic.bottomRadius, Number, _0x498bfc);
      this.entityGraphic.bottomRadius = new Cesium__namespace.CallbackProperty(_0x503034 => {
        return this.style.bottomRadius;
      }, false);
      this.style.length = getCesiumValue(this.entityGraphic.length, Number, _0x498bfc);
      this.entityGraphic.length = new Cesium__namespace.CallbackProperty(_0x1f7fa9 => {
        return this.style.length;
      }, false);
      if (this.position) {
        this._positions_draw = this.positions;
        this._positions_draw[0] = addPositionsHeight(this.position, -this.style.length / 2);
      } else {
        this._positions_draw = [];
      }
      this._position_show = this.position;
      const _0x33f034 = new Cesium__namespace.CallbackProperty(_0x17525a => {
        return this._position_show;
      }, false);
      this._setPointPostion(_0x33f034);
    }
    _cancelPositionsCallback() {
      if (!this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = false;
      this._position = this._position_show;
      this._point = LngLatPoint.fromCartesian(this._position);
      if (this._entity) {
        this.entityGraphic.length = this.style.length;
        this.entityGraphic.topRadius = this.style.topRadius;
        this.entityGraphic.bottomRadius = this.style.bottomRadius;
        this._updatePositionsHook();
      }
    }
    _startDrawHook() {
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.on(this._drawAddEventType, this._onClickHandler, this);
      this._map.on(this._drawEndEventType, this._onDbClickHandler, this);
      if (this.options.hasDrawDelPoint ?? true) {
        this._map.on(this._drawDelEventType, this._onRightClickHandler, this);
      }
    }
    _stopDrawHook() {
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.off(this._drawAddEventType, this._onClickHandler, this);
      this._map.off(this._drawEndEventType, this._onDbClickHandler, this);
      if (this.options.hasDrawDelPoint ?? true) {
        this._map.off(this._drawDelEventType, this._onRightClickHandler, this);
      }
    }
    updateAttrForDrawing(_0x4df92d) {
      this._position_show = addPositionsHeight(this._positions_draw[0], this.style.length / 2);
      if (!_0x4df92d && this._positions_draw.length > 1) {
        const _0x30f5ba = formatNum$1(Cesium__namespace.Cartesian3.distance(this._positions_draw[0], this._positions_draw[1]), 2);
        this.style.bottomRadius = _0x30f5ba;
        this.style.length = _0x30f5ba * 2;
      }
    }
    _onRightClickHandler(_0xee0ca3) {
      super._onRightClickHandler(_0xee0ca3);
      this.style.bottomRadius = 0;
      this.style.length = 0;
    }
  }
  register$5("cylinder", CylinderEntity, true);
  class ConeTrack extends CylinderEntity {
    constructor(_0x3762fe = {}) {
      super(_0x3762fe);
      if (_0x3762fe.targetPosition) {
        this.targetPosition = _0x3762fe.targetPosition;
      }
    }
    get targetPosition() {
      return this._targetPosition;
    }
    set targetPosition(_0x4b4d9b) {
      this._targetPoint = LngLatPoint.parse(_0x4b4d9b);
      this._targetPosition = this._targetPoint.toCartesian();
    }
    get targetPoint() {
      return this._targetPoint;
    }
    get angle() {
      return this.style.angle ?? 0.01;
    }
    set angle(_0x4561d3) {
      this.style.angle = _0x4561d3;
    }
    _mountedHook() {
      super._mountedHook();
      this._updateDistanceDisplayConditionByEdit();
    }
    _updateStyleHook(_0x3ca3c5, _0x30fae0) {
      CylinderStyleConver.toCesiumVal(_0x3ca3c5, this.entityGraphic, {}, true);
    }
    _getCreateEntityAttr() {
      const _0x451104 = super._getCreateEntityAttr();
      _0x451104.position = new Cesium__namespace.CallbackProperty(_0x4cf132 => {
        this._update(_0x4cf132);
        return this._position_show;
      }, false);
      _0x451104.orientation = new Cesium__namespace.CallbackProperty(_0x379f96 => {
        return this._orientation;
      }, false);
      _0x451104.cylinder.length = new Cesium__namespace.CallbackProperty(_0x1380a3 => {
        return this._cylinderLength;
      }, false);
      if (!Cesium__namespace.defined(_0x451104.cylinder.topRadius)) {
        _0x451104.cylinder.topRadius = 0;
      }
      _0x451104.cylinder.bottomRadius = new Cesium__namespace.CallbackProperty(_0xcd8c9 => {
        return this._cylinderBottomRadius;
      }, false);
      this._isCallbackPositions = true;
      return _0x451104;
    }
    _update(_0x61e76c) {
      const _0x25dd1f = getPositionValue(this.position, _0x61e76c);
      if (!_0x25dd1f) {
        this._position_show = undefined;
        return;
      }
      if (Cesium__namespace.defined(this.targetPosition)) {
        const _0x2ac032 = getPositionValue(this.targetPosition, _0x61e76c);
        if (_0x2ac032) {
          this._cylinderLength = Cesium__namespace.Cartesian3.distance(_0x25dd1f, _0x2ac032);
          this._position_show = Cesium__namespace.Cartesian3.midpoint(_0x25dd1f, _0x2ac032, new Cesium__namespace.Cartesian3());
          this._orientation = Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x25dd1f, getHeadingPitchRollForLine(_0x25dd1f, _0x2ac032), this.ellipsoid, this.fixedFrameTransform);
        }
      } else {
        this._cylinderLength = this.style.length;
        if (!this._cylinderLength) {
          const _0x297fb0 = LngLatPoint.parse(_0x25dd1f);
          this._cylinderLength = _0x297fb0.alt - getHeight(this._map.scene, _0x25dd1f, {
            original: true
          });
        }
        const _0x112d44 = Cesium__namespace.HeadingPitchRoll.fromDegrees(this.heading, this.pitch, this.roll);
        this._orientation = Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x25dd1f, _0x112d44, this.ellipsoid, this.fixedFrameTransform);
        this._position_show = getPositionByHprAndLen(_0x25dd1f, _0x112d44, this._cylinderLength / 2);
      }
      if (this.style.bottomRadius) {
        this._cylinderBottomRadius = this.style.bottomRadius ?? 10;
      } else {
        this._cylinderBottomRadius = this._cylinderLength * Math.cos(Cesium__namespace.Math.toRadians(90 - this.angle));
      }
      this._updateLabelPosition(this._position_show, false);
    }
    _updatePositionsHook() {}
    _setPositionsToCallback() {
      if (this.position) {
        this._positions_draw = this.positions;
        this._positions_draw[0] = addPositionsHeight(this.position, -this.style.length);
      } else {
        this._positions_draw = [];
      }
    }
    _cancelPositionsCallback() {
      this._positions_draw = undefined;
    }
    updateAttrForDrawing(_0x13d6b2) {
      this._position = addPositionsHeight(this._positions_draw[0], this.style.length ?? 10);
      this._point = LngLatPoint.parse(this._position);
      if (!_0x13d6b2 && this._positions_draw.length > 1) {
        const _0x15ab9e = formatNum$1(Cesium__namespace.Cartesian3.distance(this._positions_draw[0], this._positions_draw[1]), 2);
        this.style.bottomRadius = _0x15ab9e;
        this.style.length = _0x15ab9e * 2;
      }
    }
    updateOrientation() {
      return this._entity.orientation;
    }
  }
  register$5("coneTrack", ConeTrack);
  class EditEllipsoid extends EditBase {
    set position(_0x1d5c73) {
      this.positions[0] = _0x1d5c73;
    }
    get position() {
      return this.positions[0];
    }
    set positions(_0x369c0c) {
      this._graphic._positions_draw = _0x369c0c;
    }
    get positions() {
      return this._graphic._positions_draw || this._graphic._positions || [];
    }
    bindDraggers() {
      let _0x12e48b;
      const _0xc466be = this.positions[0];
      _0x12e48b = this.createDragger({
        position: _0xc466be,
        onDragStart: (_0x12a38d, _0x10d4c3) => {
          for (let _0x13ca5c = 0, _0x75b050 = this.draggers.length; _0x13ca5c < _0x75b050; _0x13ca5c++) {
            this.draggers[_0x13ca5c].show = false;
          }
        },
        onDrag: (_0x5a7343, _0x3e83ee) => {
          this.positions[0] = _0x3e83ee;
        },
        onDragEnd: (_0x5d695c, _0x264845) => {
          this.updateDraggers();
        }
      });
      _0x12e48b.index = 0;
      this.draggers.push(_0x12e48b);
      const _0x36c9cf = this.options.hasEditRadii ?? true;
      if (_0x36c9cf && !this.isScene2D) {
        _0x12e48b = this.createDragger({
          position: addPositionsHeight(_0xc466be, this.style.radii_z),
          type: EditPointType.MoveHeight,
          tooltip: this._map.getLangText("_修改半径"),
          onDrag: (_0x5458e1, _0x50886c) => {
            const _0xb9567a = this.positions[0];
            const _0x3c2dca = this.formatNum(Cesium__namespace.Cartesian3.distance(_0xb9567a, _0x50886c), 2);
            this.style.radii_z = _0x3c2dca;
            this._graphic.updateRadii(this.style);
            this.fire(EventType.editStyle);
          }
        });
        this.draggers.push(_0x12e48b);
        const _0x57c654 = getEllipseOuterPositions({
          position: _0xc466be,
          semiMajorAxis: Number(this.style.radii_x),
          semiMinorAxis: Number(this.style.radii_y),
          rotation: Cesium__namespace.Math.toRadians(Number(this.style.rotation || 0))
        });
        const _0x317363 = _0x57c654[0];
        const _0x2a5b86 = this.createDragger({
          position: _0x317363,
          type: EditPointType.EditAttr,
          tooltip: this._map.getLangText("_修改半径"),
          onDrag: (_0xb6a096, _0x3e0816) => {
            const _0x4ef5ef = this.positions[0];
            const _0x488403 = Cesium__namespace.Cartographic.fromCartesian(_0x4ef5ef).height;
            _0x3e0816 = setPositionsHeight(_0x3e0816, _0x488403);
            _0xb6a096.position = _0x3e0816;
            const _0x2588c4 = this.formatNum(Cesium__namespace.Cartesian3.distance(_0x4ef5ef, _0x3e0816), 2);
            this.style.radii_y = _0x2588c4;
            this._graphic.updateRadii(this.style);
            this.fire(EventType.editStyle);
          }
        });
        _0x12e48b.majorDragger = _0x2a5b86;
        this.draggers.push(_0x2a5b86);
        const _0x683288 = _0x57c654[1];
        const _0x9fceb6 = this.createDragger({
          position: _0x683288,
          type: EditPointType.EditAttr,
          tooltip: this._map.getLangText("_修改半径"),
          onDrag: (_0x12ced9, _0x1bb6ad) => {
            const _0x136ff3 = this.positions[0];
            const _0x2e7a5d = Cesium__namespace.Cartographic.fromCartesian(_0x136ff3).height;
            _0x1bb6ad = setPositionsHeight(_0x1bb6ad, _0x2e7a5d);
            _0x12ced9.position = _0x1bb6ad;
            const _0x50c27c = this.formatNum(Cesium__namespace.Cartesian3.distance(_0x136ff3, _0x1bb6ad), 2);
            this.style.radii_x = _0x50c27c;
            this._graphic.updateRadii(this.style);
            this.fire(EventType.editStyle);
          }
        });
        _0x12e48b.minorDragger = _0x9fceb6;
        this.draggers.push(_0x9fceb6);
      }
    }
    _updateStyleHook(_0x52f7f8) {
      super._updateStyleHook(_0x52f7f8);
      if (Cesium__namespace.defined(_0x52f7f8.radii_x) || Cesium__namespace.defined(_0x52f7f8.radii_y) || Cesium__namespace.defined(_0x52f7f8.radii_z)) {
        this.updateDraggers();
      }
    }
  }
  class EllipsoidEntity extends BasePointEntity {
    constructor(_0x5bcd5f = {}) {
      super(_0x5bcd5f);
      this._minPointNum = 2;
      this._maxPointNum = 3;
    }
    get entityGraphic() {
      return this._entity?.ellipsoid;
    }
    get EditClass() {
      return EditEllipsoid;
    }
    get czmObjectEx() {
      let _0xf507b1 = [];
      if (this._primitive_label) {
        _0xf507b1.push(this._primitive_label);
      }
      if (this._entity_scanPlane) {
        _0xf507b1 = _0xf507b1.concat(this._entity_scanPlane);
      }
      return _0xf507b1;
    }
    _mountedHook() {
      const _0x32e3a6 = {
        position: this.position,
        orientation: this.getOrientation(),
        ellipsoid: EllipsoidStyleConver.toCesiumVal(this.style, {}, true)
      };
      this._entity = this._createEntity(_0x32e3a6);
      const _0x1ce061 = getCesiumValue(this.entityGraphic.radii, Cesium__namespace.Cartesian3, this.currentTime);
      if (_0x1ce061) {
        this.style.radii_x = this.style.radii_x ?? _0x1ce061.x;
        this.style.radii_y = this.style.radii_y ?? _0x1ce061.y;
        this.style.radii_z = this.style.radii_z ?? _0x1ce061.z;
      }
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
      const _0x26f098 = this.options.scanPlane || this.style.scanPlane;
      if (_0x26f098) {
        if (Array.isArray(_0x26f098)) {
          _0x26f098.forEach(_0xabf3ff => {
            this.addScanPlane(_0xabf3ff);
          });
        } else {
          this.addScanPlane(_0x26f098);
        }
      }
    }
    _removedHook() {
      if (this._animateFrame) {
        window.cancelAnimationFrame(this._animateFrame);
        delete this._animateFrame;
      }
      super._removedHook();
    }
    _style2Json(_0x450677, _0x162c6d) {
      _0x162c6d = EllipsoidStyleConver.toJSON(_0x450677, _0x162c6d, true);
      if (this._entity_scanPlane && this._entity_scanPlane.length > 0) {
        const _0x29ec52 = [];
        this._entity_scanPlane.forEach(_0x1a75a9 => {
          _0x29ec52.push(_0x1a75a9._planeOptions);
        });
        _0x162c6d.scanPlane = _0x29ec52;
      }
      return _0x162c6d;
    }
    _updateStyleHook(_0x3027ca, _0xcbd66d) {
      EllipsoidStyleConver.toCesiumVal(_0x3027ca, this.entityGraphic, true);
      if (Cesium__namespace.defined(_0xcbd66d.heading) || Cesium__namespace.defined(_0xcbd66d.pitch) || Cesium__namespace.defined(_0xcbd66d.roll)) {
        this._entity.orientation = this.getOrientation();
      }
      if (Cesium__namespace.defined(_0xcbd66d.radii_x) || Cesium__namespace.defined(_0xcbd66d.radii_y) || Cesium__namespace.defined(_0xcbd66d.radii_z)) {
        this.updateRadii(_0x3027ca);
      }
    }
    _updatePositionsHook() {
      super._updatePositionsHook();
      if (this._entity_scanPlane) {
        this._entity_scanPlane.forEach(_0x1f01e1 => {
          _0x1f01e1.position = this.position;
        });
      }
    }
    _setOptionsHook(_0x56c321, _0x21b970) {
      if (_0x21b970.scanPlane) {
        this.removeAllScanPlan();
        const _0x196bae = _0x56c321.scanPlane;
        if (Array.isArray(_0x196bae)) {
          _0x196bae.forEach(_0x580f53 => {
            this.addScanPlane(_0x580f53);
          });
        } else {
          this.addScanPlane(_0x196bae);
        }
      }
    }
    _updateExOpacity(_0x4897eb) {
      if (this._entity_scanPlane?.length > 0) {
        this._entity_scanPlane.forEach(_0x2d14a6 => {
          const _0x3dba31 = this._updateEntityOpacity(_0x2d14a6.ellipsoid, _0x4897eb);
          if (!_0x3dba31) {
            _0x2d14a6._planeOptions.style.globalAlpha = _0x4897eb;
            EllipsoidStyleConver.toCesiumVal(_0x2d14a6._planeOptions.style, _0x2d14a6.ellipsoid, true);
          }
        });
      }
    }
    updateRadii(_0x4712a1) {
      const _0x7a1de = new Cesium__namespace.Cartesian3(_0x4712a1.radii_x, _0x4712a1.radii_y, _0x4712a1.radii_z);
      if (this.entityGraphic.radii) {
        this.entityGraphic.radii.setValue(_0x7a1de);
      } else {
        this.entityGraphic.radii = _0x7a1de;
      }
      if (this._entity_scanPlane?.length > 0) {
        this._entity_scanPlane.forEach(_0x285aa8 => {
          _0x285aa8.ellipsoid.radii = _0x7a1de;
        });
      }
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = true;
      this._positions_draw = this.positions || [];
      const _0x2ddba9 = new Cesium__namespace.CallbackProperty(_0x345108 => {
        if (this._positions_draw.length < 1) {
          return null;
        }
        return this._positions_draw[0];
      }, false);
      this._setPointPostion(_0x2ddba9);
    }
    _cancelPositionsCallback() {
      if (!this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = false;
      this._position = this._positions_draw[0];
      this._point = LngLatPoint.fromCartesian(this._position);
      if (this._entity) {
        this._updatePositionsHook();
      }
    }
    _startDrawHook() {
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.on(this._drawAddEventType, this._onClickHandler, this);
      this._map.on(this._drawEndEventType, this._onDbClickHandler, this);
      if (this.options.hasDrawDelPoint ?? true) {
        this._map.on(this._drawDelEventType, this._onRightClickHandler, this);
      }
    }
    _stopDrawHook() {
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.off(this._drawAddEventType, this._onClickHandler, this);
      this._map.off(this._drawEndEventType, this._onDbClickHandler, this);
      if (this.options.hasDrawDelPoint ?? true) {
        this._map.off(this._drawDelEventType, this._onRightClickHandler, this);
      }
    }
    updateAttrForDrawing(_0x25998c) {
      if (this._positions_draw.length < 2) {
        return;
      }
      if (!_0x25998c) {
        const _0x28c112 = formatNum$1(Cesium__namespace.Cartesian3.distance(this._positions_draw[0], this._positions_draw[1]), 2);
        this.style.radii_x = _0x28c112;
        this.style.radii_z = _0x28c112;
        let _0x9ceeca;
        if (this._positions_draw.length === 3) {
          _0x9ceeca = formatNum$1(Cesium__namespace.Cartesian3.distance(this._positions_draw[0], this._positions_draw[2]), 2);
        } else {
          _0x9ceeca = _0x28c112;
        }
        this.style.radii_y = _0x9ceeca;
        this.updateRadii(this.style);
      }
    }
    _onRightClickHandler(_0x4a7e84) {
      super._onRightClickHandler(_0x4a7e84);
      this.style.radii_y = 0;
      if (this._positions_draw.length === 1) {
        this.style.radii_x = 0;
        this.style.radii_z = 0;
      }
      this.updateRadii(this.style);
    }
    addScanPlane(_0xd0f52c = {}) {
      this._entity_scanPlane = this._entity_scanPlane || [];
      _0xd0f52c.style = _0xd0f52c.style || {};
      const _0x3c5d8d = {
        radii: this.entityGraphic.radii,
        innerRadii: 0.00001,
        minimumClockDegree: -0.00001,
        maximumClockDegree: 0.00001,
        minimumConeDegree: this.style.minimumConeDegree || 0,
        maximumConeDegree: this.style.maximumConeDegree || 90,
        outline: false
      };
      const _0x48a454 = _0x3c5d8d;
      if (this.style.color) {
        _0x48a454.color = this.style.color;
        if (this.style.opacity) {
          _0x48a454.opacity = this.style.opacity;
        }
      } else if (this.style.outlineColor) {
        _0x48a454.color = this.style.outlineColor;
        if (this.style.outlineOpacity) {
          _0x48a454.opacity = this.style.outlineOpacity;
        }
      }
      const _0x3fa37e = Cesium__namespace.Math.toRadians(_0xd0f52c.step || 0.5);
      const _0x11e5ee = new Cesium__namespace.HeadingPitchRoll(Cesium__namespace.Math.toRadians(_0xd0f52c.style.heading ?? this.heading), Cesium__namespace.Math.toRadians(_0xd0f52c.style.pitch ?? this.pitch), Cesium__namespace.Math.toRadians(_0xd0f52c.style.roll ?? this.roll));
      const _0x38cbc4 = new Cesium__namespace.Quaternion();
      Cesium__namespace.Transforms.headingPitchRollQuaternion(this.positionShow, _0x11e5ee, this.ellipsoid, this.fixedFrameTransform, _0x38cbc4);
      let _0x22f70;
      switch (_0xd0f52c.type) {
        case "pitch":
          {
            const _0x1c5b49 = Cesium__namespace.Math.toRadians(_0xd0f52c.min ?? 0);
            const _0x85b110 = Cesium__namespace.Math.toRadians(_0xd0f52c.max ?? 180);
            if (_0x11e5ee.pitch < _0x1c5b49 || _0x11e5ee.pitch > _0x85b110) {
              _0x11e5ee.pitch = _0x1c5b49;
            }
            _0x22f70 = _0x2439fb => {
              _0x11e5ee.pitch += _0x3fa37e;
              if (_0x11e5ee.pitch >= _0x85b110) {
                _0x11e5ee.pitch = _0x1c5b49;
              }
              Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x2439fb, _0x11e5ee, this.ellipsoid, this.fixedFrameTransform, _0x38cbc4);
            };
          }
          break;
        case "roll":
          {
            const _0x3f25db = Cesium__namespace.Math.toRadians(_0xd0f52c.min ?? -90);
            const _0x51da67 = Cesium__namespace.Math.toRadians(_0xd0f52c.max ?? 90);
            if (_0x11e5ee.roll < _0x3f25db || _0x11e5ee.roll > _0x51da67) {
              _0x11e5ee.roll = _0x3f25db;
            }
            _0x22f70 = _0x2639be => {
              _0x11e5ee.roll += _0x3fa37e;
              if (_0x11e5ee.roll >= _0x51da67) {
                _0x11e5ee.roll = _0x3f25db;
              }
              Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x2639be, _0x11e5ee, this.ellipsoid, this.fixedFrameTransform, _0x38cbc4);
            };
          }
          break;
        case "heading":
        default:
          {
            const _0x2f4d8c = Cesium__namespace.Math.toRadians(_0xd0f52c.min ?? 0);
            const _0x52c089 = Cesium__namespace.Math.toRadians(_0xd0f52c.max ?? 360);
            if (_0x11e5ee.heading < _0x2f4d8c || _0x11e5ee.heading > _0x52c089) {
              _0x11e5ee.heading = _0x2f4d8c;
            }
            _0x22f70 = _0x41ed0d => {
              _0x11e5ee.heading += _0x3fa37e;
              if (_0x11e5ee.heading >= _0x52c089) {
                _0x11e5ee.heading = _0x2f4d8c;
              }
              Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x41ed0d, _0x11e5ee, this.ellipsoid, this.fixedFrameTransform, _0x38cbc4);
            };
            break;
          }
      }
      const _0x4eaa6c = {
        ..._0x48a454,
        ..._0xd0f52c.style
      };
      const _0x5c1848 = {
        id: "scanPlane-" + createGuid(),
        position: this.position,
        orientation: new Cesium__namespace.CallbackProperty(_0x4f4328 => {
          return _0x38cbc4;
        }, false),
        ellipsoid: EllipsoidStyleConver.toCesiumVal(_0x4eaa6c, {}, true)
      };
      const _0x12491b = this._createEntity(_0x5c1848);
      if (this.dataSource && this.isAdded) {
        this.dataSource.entities.add(_0x12491b);
      }
      this.bindPickId(_0x12491b);
      _0x12491b._planeOptions = _0xd0f52c;
      this._entity_scanPlane.push(_0x12491b);
      _0x12491b._updateHpr = _0x22f70;
      this._bindRequestAnimationFrame();
      return _0x12491b;
    }
    _bindRequestAnimationFrame() {
      if (this._animateFrame) {
        return;
      }
      if (this._entity_scanPlane?.length > 0) {
        const _0x223425 = 1000 / (this.options.frameRate || 40);
        const _0x47a94e = this;
        let _0x490ca0 = Date.now();
        (function _0x3c3a82() {
          if (_0x47a94e.isDestroy) {
            return;
          }
          _0x47a94e._animateFrame = window.requestAnimationFrame(_0x3c3a82);
          if (_0x47a94e._map && _0x47a94e._map.clock.shouldAnimate) {
            const _0x41dbc1 = Date.now();
            const _0xc17c25 = _0x41dbc1 - _0x490ca0;
            if (_0xc17c25 > _0x223425) {
              _0x490ca0 = _0x41dbc1 - _0xc17c25 % _0x223425;
              _0x47a94e._updateScanPlane();
            }
          }
        })();
      }
    }
    _updateScanPlane() {
      if (this._entity_scanPlane?.length > 0) {
        const _0x303e78 = this.positionShow;
        this._entity_scanPlane.forEach(_0x1fd0e2 => {
          _0x1fd0e2._updateHpr(_0x303e78);
        });
      }
    }
    removeScanPlan(_0x31efeb) {
      if (this.dataSource && this.isAdded) {
        this.dataSource.entities.remove(_0x31efeb);
      }
      removeArrayItem(this._entity_scanPlane, _0x31efeb);
    }
    removeAllScanPlan() {
      if (this.dataSource && this.isAdded) {
        this._entity_scanPlane.forEach(_0x54e5f9 => {
          this.dataSource.entities.remove(_0x54e5f9);
        });
      }
      this._entity_scanPlane = [];
    }
  }
  register$5("ellipsoid", EllipsoidEntity, true);
  class PolylineEntity extends BasePolyEntity {
    get entityGraphic() {
      return this._entity?.polyline;
    }
    _mountedHook() {
      let _0x4cf96e;
      if (Array.isArray(this.positions)) {
        _0x4cf96e = this.getShowPositions(this.positions);
      } else {
        _0x4cf96e = this.positions;
      }
      const _0x2eb8f2 = {
        polyline: PolylineStyleConver.toCesiumVal(this.style, {}, true)
      };
      if (this.style.label && this._hasPropertyPostion(_0x4cf96e)) {
        _0x2eb8f2.polyline.positions = new Cesium__namespace.CallbackProperty(_0x4bd29a => {
          const _0x317318 = _0x4cf96e.getValue(_0x4bd29a);
          this._updateLabelPosition(centerOfLine(_0x317318));
          return _0x317318;
        }, false);
      } else {
        _0x2eb8f2.polyline.positions = _0x4cf96e;
      }
      this._entity = this._createEntity(_0x2eb8f2);
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _addedHook(_0x3bc678) {
      super._addedHook(_0x3bc678);
      this.on(EventType.availabilityChange, this._availabilityChangeHandler, this);
      this._updateSnakeAnimationDurationOptions();
    }
    _removedHook() {
      super._removedHook();
      this.off(EventType.availabilityChange, this._availabilityChangeHandler, this);
    }
    getShowPositions(_0x1b6574) {
      if (this.style.closure) {
        return this._getClosurePositions(_0x1b6574);
      } else {
        return _0x1b6574;
      }
    }
    _style2Json(_0x41b594, _0x57b503) {
      return PolylineStyleConver.toJSON(_0x41b594, _0x57b503, true);
    }
    _updateStyleHook(_0xe8905, _0x2920c7) {
      PolylineStyleConver.toCesiumVal(_0xe8905, this.entityGraphic, true);
      if (Cesium__namespace.defined(_0x2920c7?.closure)) {
        if (!this._isCallbackPositions) {
          this._positions_show = this.getShowPositions(this._positions);
          this.entityGraphic.positions = this._positions_show;
        }
        this.updateAttrForDrawing();
      }
      if (Cesium__namespace.defined(_0x2920c7.snakeAnimation)) {
        this._updateSnakeAnimationDurationOptions();
      }
    }
    _updatePositionsHook() {
      if (this._positions instanceof Cesium__namespace.CallbackProperty) {
        if (this._positions_draw) {
          this._positions_show = this.getShowPositions(this._positions_draw);
        }
        this.entityGraphic.positions = this._positions;
      } else {
        this._positions_show = this.getShowPositions(this._positions);
        this.entityGraphic.positions = this._positions_show;
      }
      this._updateLabelPosition();
      this._updateEditDraggers();
    }
    _positions_CallbackProperty(_0xe6a1b8) {
      if (this._positions_CallbackPropertyEx) {
        this._positions_CallbackPropertyEx(_0xe6a1b8);
      }
      return this._positions_show;
    }
    updateAttrForDrawing(_0x463674) {
      this._positions_show = this.getShowPositions(this._positions_draw);
    }
    _updateDistanceDisplayConditionByEdit() {
      if (this._isCallbackPositions && this.style.clampToGround) {
        let _0x8df491;
        const _0x25ba03 = this.center;
        if (_0x25ba03) {
          _0x8df491 = Cesium__namespace.Cartesian3.distance(_0x25ba03, new Cesium__namespace.Cartesian3());
        } else {
          _0x8df491 = (Cesium__namespace.Ellipsoid.WGS84.minimumRadius + Cesium__namespace.Ellipsoid.WGS84.maximumRadius) / 2;
        }
        this.updateDistanceDisplayCondition(_0x8df491);
      } else {
        this.updateDistanceDisplayCondition();
      }
    }
    _availabilityChangeHandler(_0x28e749) {
      if (_0x28e749.new === false) {
        return;
      }
      setTimeout(() => {
        if (!this.isAdded) {
          return;
        }
        this._updateSnakeAnimationDurationOptions();
      }, 10);
    }
    _updateSnakeAnimationDurationOptions() {
      if (!Cesium__namespace.defined(this.style?.snakeAnimationDuration) || this.isEditing || this.isDrawing) {
        return;
      }
      this.startSnakeAnimation({
        delay: this.style.snakeAnimationDelay,
        duration: this.style.snakeAnimationDuration
      });
    }
    startSnakeAnimation(_0x39eccb = {}) {
      this.stopSnakeAnimation();
      this.setCallbackPositions();
      const _0x1d65e7 = this.getShowPositions(this._positions_draw);
      let _0x115cd0 = 0;
      const _0x55a5df = _0x1d65e7.length;
      for (let _0x197361 = 1; _0x197361 < _0x55a5df; _0x197361++) {
        const _0x5b912f = _0x1d65e7[_0x197361 - 1];
        const _0xab5c39 = _0x1d65e7[_0x197361];
        const _0x3e8329 = Cesium__namespace.Cartesian3.distance(_0x5b912f, _0xab5c39);
        _0x115cd0 += _0x3e8329;
        _0xab5c39._distance = _0x115cd0;
      }
      let _0x49f082 = this.currentTime.secondsOfDay + (_0x39eccb.delay ?? 0);
      const _0x11c782 = _0x39eccb.duration ?? 8;
      if (_0x11c782 <= 0 || _0x115cd0 <= 0) {
        return;
      }
      const _0xd2ad92 = _0x115cd0 / _0x11c782;
      this._positions_show = [_0x1d65e7[0]];
      this._positions_CallbackPropertyEx = _0x742cac => {
        if (this._map?.availabilityEnabled === false) {
          if (this._positions_show.length < 2) {
            this._positions_show = _0x1d65e7;
          }
          return;
        }
        if (this.isEditing || this.isDrawing || this._entity.isAvailable(_0x742cac) === false) {
          _0x49f082 = this.currentTime.secondsOfDay + (_0x39eccb.delay ?? 0);
          this._positions_show = [_0x1d65e7[0]];
          return;
        }
        const _0x5c0eef = _0x742cac.secondsOfDay - _0x49f082;
        if (_0x5c0eef <= 0) {
          return;
        }
        if (_0x5c0eef >= _0x11c782) {
          if (_0x39eccb.autoStop) {
            this.stopSnakeAnimation();
          }
          if (_0x39eccb.callback) {
            _0x39eccb.callback();
          }
          return;
        }
        this._positions_show = [_0x1d65e7[0]];
        const _0x38366b = _0xd2ad92 * _0x5c0eef;
        for (let _0x5dfd33 = 1; _0x5dfd33 < _0x55a5df; _0x5dfd33++) {
          const _0x250386 = _0x1d65e7[_0x5dfd33 - 1];
          const _0x39be6e = _0x1d65e7[_0x5dfd33];
          const _0x5c4d8b = _0x39be6e._distance - _0x38366b;
          this._positions_show.push(_0x39be6e);
          if (_0x5c4d8b === 0) {
            return this._positions_show;
          } else if (_0x5c4d8b > 0) {
            this._positions_show[this._positions_show.length - 1] = getOnLinePointByLen(_0x39be6e, _0x250386, _0x5c4d8b);
            return this._positions_show;
          }
        }
      };
    }
    stopSnakeAnimation() {
      delete this._positions_CallbackPropertyEx;
      this._cancelPositionsCallback();
    }
  }
  register$5("polyline", PolylineEntity);
  class CurveEntity extends PolylineEntity {
    getShowPositions(_0x422ec7) {
      if (!_0x422ec7 || _0x422ec7.length < 3) {
        return _0x422ec7;
      }
      _0x422ec7 = getBezierCurve(_0x422ec7, this.style);
      _0x422ec7 = this._updatePositionsForHeight(_0x422ec7, this.style);
      return _0x422ec7;
    }
  }
  register$5("curve", CurveEntity);
  class BrushLineEntity extends PolylineEntity {
    _startDrawHook() {
      this._map.on(EventType.leftDown, this._onMap_leftDown, this);
      this._map.on(EventType.leftUp, this._onMap_leftUp, this);
    }
    _stopDrawHook() {
      this._map.off(EventType.leftDown, this._onMap_leftDown, this);
      this._map.off(EventType.leftUp, this._onMap_leftUp, this);
      this._map.off(EventType.mouseMove, this._onMap_mouseMove, this);
    }
    _onMap_leftDown(_0x3878da) {
      if (this._map.scene.screenSpaceCameraController.enableInputs) {
        this._map.scene.screenSpaceCameraController.enableInputs = false;
        this._hasChangeEnableInputs = true;
      }
      this._map.on(EventType.mouseMove, this._onMap_mouseMove, this);
    }
    _onMap_mouseMove(_0x3c0dc4) {
      if (this._last_clickPositionX && Math.abs(this._last_clickPositionX - _0x3c0dc4.windowPosition.x) < 10 && Math.abs(this._last_clickPositionY - _0x3c0dc4.windowPosition.y) < 10) {
        return;
      }
      this._last_clickPositionX = _0x3c0dc4.windowPosition.x;
      this._last_clickPositionY = _0x3c0dc4.windowPosition.y;
      let _0x795986 = _0x3c0dc4.cartesian;
      if (_0x795986) {
        var _0x14176a;
        var _0x150225;
        var _0x547ba0;
        if ((_0x14176a = this.options) !== null && _0x14176a !== undefined && _0x14176a.updateDrawPosition) {
          _0x795986 = this.options.updateDrawPosition(_0x795986, this);
          if (!_0x795986) {
            return;
          }
        }
        if ((_0x150225 = this.options) !== null && _0x150225 !== undefined && _0x150225.validDrawPosition) {
          const _0x17364e = this.options.validDrawPosition(_0x795986, this);
          if (!_0x17364e) {
            return;
          }
        }
        this.removeNearPoint();
        if ((_0x547ba0 = this.options) !== null && _0x547ba0 !== undefined && _0x547ba0.addHeight) {
          _0x795986 = addPositionsHeight(_0x795986, this.options.addHeight);
        }
        this._positions_draw.push(_0x795986);
        this.updateAttrForDrawing(false);
        if (!isPCBroswer()) {
          this._showDrawMouseMoveSmallTooltip(_0x3c0dc4);
        }
        this.fire(EventType.drawAddPoint, {
          ..._0x3c0dc4,
          drawType: this.type,
          positions: this._positions_draw
        }, true);
        if (this._positions_draw.length >= this._maxPointNum) {
          this.stopDraw();
        }
      }
    }
    _onMap_leftUp(_0x4f5484) {
      this._map.off(EventType.mouseMove, this._onMap_mouseMove, this);
      if (this._hasChangeEnableInputs) {
        this._map.scene.screenSpaceCameraController.enableInputs = true;
        delete this._hasChangeEnableInputs;
      }
      this.endDraw();
    }
  }
  register$5("brushLine", BrushLineEntity);
  class EditPolylineVolume extends EditPoly {
    get noMatrixMoveZ() {
      return true;
    }
  }
  class PolylineVolumeEntity extends BasePolyEntity {
    get entityGraphic() {
      return this._entity?.polylineVolume;
    }
    get EditClass() {
      return EditPolylineVolume;
    }
    _mountedHook() {
      const _0x3aa96f = {
        polylineVolume: PolylineVolumeStyleConver.toCesiumVal(this.style, {}, true)
      };
      _0x3aa96f.polylineVolume.positions = this.positions;
      this._entity = this._createEntity(_0x3aa96f);
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _style2Json(_0x346433, _0x435779) {
      return PolylineVolumeStyleConver.toJSON(_0x346433, _0x435779, true);
    }
    _updateStyleHook(_0x19d0ef, _0x2c3eab) {
      PolylineVolumeStyleConver.toCesiumVal(_0x19d0ef, this.entityGraphic, true);
    }
    _updatePositionsHook() {
      this.entityGraphic.positions = this.positions;
      this._updateLabelPosition();
      this._updateEditDraggers();
    }
  }
  register$5("polylineVolume", PolylineVolumeEntity);
  class PathEntity extends BasePointEntity {
    get hasTimePostion() {
      return true;
    }
    get entityGraphic() {
      return this._entity?.path;
    }
    get orientationShow() {
      const _0x28bbe5 = Cesium__namespace.Property.getValueOrUndefined(this.orientation, this.currentTime, new Cesium__namespace.Quaternion());
      return _0x28bbe5;
    }
    get hpr() {
      return getHeadingPitchRollByOrientation(this.positionShow, this.orientationShow, this.ellipsoid, this.fixedFrameTransform);
    }
    get pitch() {
      return this.style.pitch ?? 0;
    }
    set pitch(_0x3a6ade) {
      this.style.pitch = _0x3a6ade;
      this.updateOrientation();
    }
    get roll() {
      return this.style.roll ?? 0;
    }
    set roll(_0x6d2a94) {
      this.style.roll = _0x6d2a94;
      this.updateOrientation();
    }
    _updatePositionsHook() {
      super._updatePositionsHook();
      if (!this.position || !(this.position instanceof Cesium__namespace.SampledPositionProperty)) {
        this.entityGraphic.show = false;
        this._entity.orientation = undefined;
        this.availability = undefined;
      } else {
        this.entityGraphic.show = true;
        this._entity.orientation = this.getOrientation();
        if (this._auto_availability) {
          this._setAutoAvailability();
        }
      }
    }
    _setPosToProperties() {
      if (this.options.position) {
        this.position = this.options.position;
      } else if (this.options.positions) {
        this.position = {
          type: "time",
          list: this.options.positions,
          speed: this.options.speed,
          timeField: this.options.timeField,
          pauseTime: this.options.pauseTime,
          startTime: this.options.startTime
        };
      } else {
        this.position = {
          type: "time"
        };
      }
    }
    _mountedHook() {
      if (this.position instanceof Cesium__namespace.SampledPositionProperty && !this.options.orientation) {
        this._orientation = new Cesium__namespace.VelocityOrientationProperty(this.position);
      }
      const _0x254146 = {
        position: this.position,
        orientation: this.getOrientation(),
        path: PathStyleConver.toCesiumVal(this.style || this.options.path, {}, true)
      };
      if (!this.options.availability) {
        this._setAutoAvailability(_0x254146);
      }
      if (this.options.label) {
        this.options.label.text = this.options.label.text || this.name;
        _0x254146.label = LabelStyleConver.toCesiumVal(this.options.label);
      }
      if (this.options.billboard) {
        _0x254146.billboard = BillboardStyleConver.toCesiumVal(this.options.billboard);
      }
      if (this.options.point) {
        _0x254146.point = PointStyleConver.toCesiumVal(this.options.point);
      }
      if (this.options.circle) {
        _0x254146.ellipse = CircleStyleConver.toCesiumVal(this.options.circle, {}, true);
      }
      if (this.options.model) {
        _0x254146.model = ModelStyleConver.toCesiumVal(this.options.model, {}, true);
        _0x254146.model.marsOptions = {
          occlusion: this.options.model.marsOcclusion,
          callback: (_0x1dfddb, _0x465ae3) => {
            this._model = _0x465ae3;
            const _0x7d78e1 = {
              model: _0x465ae3
            };
            this.fire(EventType.load, _0x7d78e1, true);
          }
        };
      }
      this._entity = this._createEntity(_0x254146);
    }
    _initSampledPositionProperty() {
      if (!this.options) {
        return;
      }
      this._maxCacheCount = this.options.maxCacheCount ?? 1000;
      if (!this.position) {
        const _0x4fafd2 = new Cesium__namespace.SampledPositionProperty(this.options.referenceFrame);
        _0x4fafd2.forwardExtrapolationType = this.options.forwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        _0x4fafd2.backwardExtrapolationType = this.options.backwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        if (!this.options.orientation) {
          this.options.orientation = new Cesium__namespace.VelocityOrientationProperty(_0x4fafd2);
          if (this._entity) {
            this._entity.orientation = this.getOrientation();
          }
        }
        this._setPointPostion(_0x4fafd2);
      }
      this.property = this.position;
    }
    _updateStyleHook(_0x41456e, _0x4d1dc1) {
      PathStyleConver.toCesiumVal(_0x41456e, this.entityGraphic, {}, true);
    }
    _style2Json(_0x14acc3, _0x2e62b9) {
      return PathStyleConver.toJSON(_0x14acc3, _0x2e62b9, true);
    }
    _getGeoJsonGeometry(_0x3b4787) {
      const _0x42edef = this._getPointTimePositionJson({
        toArray: true
      });
      const _0x2d88f2 = {
        type: "LineString",
        coordinates: _0x42edef.list
      };
      return _0x2d88f2;
    }
    _toJSON_Ex(_0x411a72) {
      if (this.options.label) {
        _0x411a72.label = {};
        LabelStyleConver.toJSON(this.options.label, _0x411a72.label, true);
      }
      if (this.options.model) {
        _0x411a72.model = {};
        ModelStyleConver.toJSON(this.options.model, _0x411a72.model, true);
      }
      if (this.options.billboard) {
        _0x411a72.billboard = {};
        BillboardStyleConver.toJSON(this.options.billboard, _0x411a72.billboard, true);
      }
      if (this.options.point) {
        _0x411a72.point = {};
        PointStyleConver.toJSON(this.options.point, _0x411a72.point, true);
      }
      if (this.options.circle) {
        _0x411a72.circle = {};
        CircleStyleConver.toJSON(this.options.circle, _0x411a72.circle, true);
      }
    }
    _setOptionsHook(_0x5137ce, _0x12a5db) {
      if (_0x12a5db.label) {
        LabelStyleConver.toCesiumVal(_0x5137ce.label, this._entity.label, this);
      }
      if (_0x12a5db.model) {
        ModelStyleConver.toCesiumVal(_0x5137ce.model, this._entity.model, true);
      }
      if (_0x12a5db.billboard) {
        BillboardStyleConver.toCesiumVal(_0x5137ce.billboard, this._entity.billboard, true);
      }
      if (_0x12a5db.point) {
        PointStyleConver.toCesiumVal(_0x5137ce.point, this._entity.point, true);
      }
      if (_0x12a5db.circle) {
        CircleStyleConver.toCesiumVal(_0x5137ce.circle, this._entity.ellipse, true);
      }
    }
    _updateExOpacity(_0xc1666c) {
      if (this._entity.model) {
        this._entity.model.color = Cesium__namespace.Color.WHITE.withAlpha(_0xc1666c);
      }
      if (this._entity.billboard) {
        this._entity.billboard.color = Cesium__namespace.Color.WHITE.withAlpha(_0xc1666c);
      }
      if (this._entity.point) {
        const _0x20cb4c = this._updateEntityOpacity(this._entity.point, _0xc1666c);
        if (!_0x20cb4c) {
          const _0x497f3b = {
            ...this.options.point
          };
          _0x497f3b.globalAlpha = _0xc1666c;
          PointStyleConver.toCesiumVal(_0x497f3b, this._entity.point, true);
        }
      }
      if (this._entity.circle) {
        const _0x1f0bc6 = this._updateEntityOpacity(this._entity.circle, _0xc1666c);
        if (!_0x1f0bc6) {
          const _0x527641 = {
            ...this.options.circle
          };
          _0x527641.globalAlpha = _0xc1666c;
          CircleStyleConver.toCesiumVal(_0x527641, this._entity.ellipse, true);
        }
      }
    }
    getIndex(_0x3e0498) {
      var _0x5e52b6;
      var _0x5610f6;
      const _0x3c4cf4 = (_0x5e52b6 = this.position) === null || _0x5e52b6 === undefined || (_0x5e52b6 = _0x5e52b6._property) === null || _0x5e52b6 === undefined ? undefined : _0x5e52b6._times;
      const _0x2333ab = _0x3c4cf4.length;
      if (_0x2333ab === 0) {
        return 0;
      }
      const _0x34d099 = _0x3e0498 || ((_0x5610f6 = this._map) === null || _0x5610f6 === undefined || (_0x5610f6 = _0x5610f6.clock) === null || _0x5610f6 === undefined ? undefined : _0x5610f6.currentTime) || Cesium__namespace.JulianDate.now();
      for (let _0x36046f = 0; _0x36046f < _0x2333ab; _0x36046f++) {
        const _0x35a13f = Cesium__namespace.JulianDate.compare(_0x34d099, _0x3c4cf4[_0x36046f]);
        if (_0x35a13f <= 0) {
          return _0x36046f - 1;
        }
      }
      let _0x5d99c4 = Cesium__namespace.binarySearch(_0x3c4cf4, _0x34d099, Cesium__namespace.JulianDate.compare);
      if (_0x5d99c4 < 0) {
        _0x5d99c4 = ~_0x5d99c4;
      }
      if (_0x5d99c4 < 0) {
        _0x5d99c4 = 0;
      }
      if (_0x5d99c4 >= _0x2333ab) {
        _0x5d99c4 = _0x2333ab - 1;
      }
      return _0x5d99c4;
    }
    getRectangle(_0x17c670) {
      var _0xe85f0f;
      var _0x4de1ec;
      const _0x32232e = (_0xe85f0f = this.position) === null || _0xe85f0f === undefined || (_0xe85f0f = _0xe85f0f._property) === null || _0xe85f0f === undefined ? undefined : _0xe85f0f._times;
      const _0x52bc81 = (_0x4de1ec = this.position) === null || _0x4de1ec === undefined || (_0x4de1ec = _0x4de1ec._property) === null || _0x4de1ec === undefined ? undefined : _0x4de1ec._values;
      if (!_0x32232e || _0x32232e.length === 0) {
        return;
      }
      const _0x2ff750 = [];
      for (let _0x2944e9 = 0, _0x1c5ae7 = _0x32232e.length; _0x2944e9 < _0x1c5ae7; _0x2944e9++) {
        _0x2ff750.push(new Cesium__namespace.Cartesian3(_0x52bc81[_0x2944e9 * 3], _0x52bc81[_0x2944e9 * 3 + 1], _0x52bc81[_0x2944e9 * 3 + 2]));
      }
      const _0x2e8292 = getRectangle(_0x2ff750, _0x17c670?.isFormat);
      return _0x2e8292;
    }
    getCoord(_0x1ab565) {
      if (_0x1ab565?.expType === false) {
        return null;
      } else {
        return this._getPointTimePositionJson(_0x1ab565);
      }
    }
    flyToPoint(_0x3ab6a8 = {}) {
      if (!this._map) {
        return Promise.resolve(false);
      }
      const _0xa5016d = this.positionShow;
      if (!_0xa5016d) {
        return Promise.resolve(false);
      }
      let _0x3d4356;
      if (Cesium__namespace.defined(_0x3ab6a8.heading)) {
        _0x3d4356 = _0x3ab6a8.heading + Cesium__namespace.Math.toDegrees(this.hpr?.heading || 0);
      }
      const _0x2f3e8e = {
        ..._0x3ab6a8
      };
      _0x2f3e8e.heading = _0x3d4356;
      return this._map.flyToPoint(_0xa5016d, _0x2f3e8e);
    }
    _setPositionsToCallback() {}
  }
  register$5("path", PathEntity, true);
  class EditCorridor extends EditPoly {
    updatePositionsHeightByAttr(_0x263457) {
      if (this.entityGraphic.height !== undefined) {
        const _0x410cf1 = getCesiumValue(this.entityGraphic.height, Number, this._map.clock.currentTime);
        _0x263457 = setPositionsHeight(_0x263457, _0x410cf1);
      }
      return _0x263457;
    }
    createDragger(_0x3dfdcc) {
      if (this.clampToGround) {
        _0x3dfdcc.position = getSurfacePosition(this._map.scene, _0x3dfdcc.position);
      }
      return super.createDragger(_0x3dfdcc);
    }
    _updateMoveAllHook(_0x549a8d) {
      if (this.clampToGround) {
        return;
      }
      const _0x313f0d = Cesium__namespace.Cartographic.fromCartesian(_0x549a8d).height;
      this.entityGraphic.height = _0x313f0d;
      this.style.height = this.formatNum(_0x313f0d, 2);
    }
    _updateHeight(_0x370948) {
      this.entityGraphic.height = _0x370948;
      this.style.height = this.formatNum(_0x370948, 2);
      const _0x336d7d = this.positions;
      for (let _0xc22799 = 0, _0x470239 = _0x336d7d.length; _0xc22799 < _0x470239; _0xc22799++) {
        _0x336d7d[_0xc22799] = setPositionsHeight(_0x336d7d[_0xc22799], _0x370948);
      }
      for (let _0x3cac3d = 0, _0x281d04 = this.draggers.length; _0x3cac3d < _0x281d04; _0x3cac3d++) {
        const _0x2d40f9 = this.draggers[_0x3cac3d];
        _0x2d40f9.position = setPositionsHeight(_0x2d40f9.position, _0x370948);
      }
      this.fire(EventType.editStyle);
    }
  }
  class CorridorEntity extends BasePolyEntity {
    get entityGraphic() {
      return this._entity?.corridor;
    }
    get EditClass() {
      return EditCorridor;
    }
    _mountedHook() {
      const _0x4e9b72 = {
        corridor: CorridorStyleConver.toCesiumVal(this.style, {}, true)
      };
      _0x4e9b72.corridor.positions = this.positions;
      this._entity = this._createEntity(_0x4e9b72);
      this._calculateCzmHeight(this.entityGraphic);
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _style2Json(_0x2cdbc7, _0x6266c3) {
      return CorridorStyleConver.toJSON(_0x2cdbc7, _0x6266c3, true);
    }
    _updateStyleHook(_0x6eb235, _0x1c9359) {
      CorridorStyleConver.toCesiumVal(_0x6eb235, this.entityGraphic, true);
      if (Cesium__namespace.defined(_0x1c9359.diffHeight) || Cesium__namespace.defined(_0x1c9359.height) || Cesium__namespace.defined(_0x6eb235.addHeight) || Cesium__namespace.defined(_0x6eb235.setHeight)) {
        this._calculateCzmHeight(this.entityGraphic);
      }
    }
    _updatePositionsHook() {
      this.entityGraphic.positions = this.positions;
      this._updateLabelPosition();
      this._calculateCzmHeight(this.entityGraphic);
      this._updateEditDraggers();
    }
    updateAttrForDrawing(_0x3f03dc) {
      this._calculateCzmHeight(this.entityGraphic, true);
    }
  }
  register$5("corridor", CorridorEntity);
  class EditWall extends EditPoly {
    bindDraggers() {
      const _0x517171 = this.positions;
      const _0xe60cef = this.style;
      const _0x30e913 = this.hasMidPoint;
      for (let _0x10b7eb = 0, _0x39c5de = _0x517171.length; _0x10b7eb < _0x39c5de; _0x10b7eb++) {
        const _0x2b8580 = _0x517171[_0x10b7eb];
        const _0x161974 = this.createDragger({
          position: _0x2b8580,
          onDrag: (_0x5219ca, _0x463a1e) => {
            _0x517171[_0x5219ca.index] = _0x463a1e;
            if (this._heightDraggers && this._heightDraggers.length > 0) {
              this._heightDraggers[_0x5219ca.index].position = addPositionsHeight(_0x463a1e, _0xe60cef.diffHeight);
            }
            if (_0x30e913) {
              if (_0x5219ca.index > 0) {
                this.draggers[_0x5219ca.index * 2 - 1].position = getMidpoint(_0x463a1e, _0x517171[_0x5219ca.index - 1], this.options.midPointFraction);
              }
              if (_0x5219ca.index < _0x517171.length - 1) {
                this.draggers[_0x5219ca.index * 2 + 1].position = getMidpoint(_0x463a1e, _0x517171[_0x5219ca.index + 1], this.options.midPointFraction);
              }
            }
            const _0x16cb80 = centerOfMass(_0x517171);
            this._draggerMove.position = _0x16cb80;
          }
        });
        _0x161974.index = _0x10b7eb;
        this.draggers.push(_0x161974);
        if (this.hasMidPoint && (this.hasClosure || !this.hasClosure && _0x10b7eb < _0x39c5de - 1)) {
          const _0x5d43f2 = (_0x10b7eb + 1) % _0x39c5de;
          const _0x22977a = getMidpoint(_0x2b8580, _0x517171[_0x5d43f2], this.options.midPointFraction);
          const _0x3191f9 = this.createDragger({
            position: _0x22977a,
            type: EditPointType.AddMidPoint,
            tooltip: this._map.getLangText("_增加点"),
            onDragStart: (_0x163469, _0x4e5efc) => {
              this.positions.splice(_0x163469.index, 0, _0x4e5efc);
              this.updateAttrForEditing();
            },
            onDrag: (_0x3c908a, _0x408caf) => {
              this.positions[_0x3c908a.index] = _0x408caf;
            },
            onDragEnd: (_0xd828af, _0x1d7869) => {
              this._fireAddPoint(_0xd828af, _0x1d7869);
              this.updateDraggers();
            }
          });
          _0x3191f9.index = _0x5d43f2;
          this.draggers.push(_0x3191f9);
        }
      }
      this._bindMoveAllDragger();
      if (!this.isScene2D) {
        this._bindHeightDraggers();
      }
    }
    _bindHeightDraggers() {
      if (!this._graphic._hasHeightEdit) {
        return;
      }
      this._heightDraggers = [];
      const _0x5e5004 = this.positions;
      const _0x58e537 = Number(this.style.diffHeight);
      for (let _0x8c6bc1 = 0, _0x11fd42 = _0x5e5004.length; _0x8c6bc1 < _0x11fd42; _0x8c6bc1++) {
        const _0x19dee3 = addPositionsHeight(_0x5e5004[_0x8c6bc1], _0x58e537);
        const _0x56af97 = this.createDragger({
          position: _0x19dee3,
          type: EditPointType.MoveHeight,
          tooltip: this._map.getLangText("_修改高度"),
          onDrag: (_0x3f5f36, _0x4f3eb7) => {
            const _0x1c3b5c = Cesium__namespace.Cartographic.fromCartesian(_0x4f3eb7).height;
            this.style.diffHeight = formatNum$1(_0x1c3b5c - this._graphic._minimumHeights[_0x3f5f36.index], 2);
            for (let _0x14a6d7 = 0; _0x14a6d7 < _0x5e5004.length; _0x14a6d7++) {
              if (_0x14a6d7 === _0x3f5f36.index) {
                continue;
              }
              this._heightDraggers[_0x14a6d7].position = addPositionsHeight(_0x5e5004[_0x14a6d7], this.style.diffHeight);
            }
            this.updateAttrForEditing();
            this.fire(EventType.editStyle);
          }
        });
        _0x56af97.index = _0x8c6bc1;
        this.draggers.push(_0x56af97);
        this._heightDraggers.push(_0x56af97);
      }
    }
  }
  class WallEntity extends BasePolyEntity {
    get entityGraphic() {
      return this._entity?.wall;
    }
    get EditClass() {
      return EditWall;
    }
    _mountedHook() {
      const _0x4c780f = {
        wall: WallStyleConver.toCesiumVal(this.style, {}, true)
      };
      if (this.style.closure) {
        _0x4c780f.wall.positions = this._getClosurePositions(this.positions);
      } else {
        _0x4c780f.wall.positions = this.positions;
      }
      if (!this.style.maximumHeights || !this.style.minimumHeights) {
        this._updateMaxMinHeights(_0x4c780f);
      }
      this._entity = this._createEntity(_0x4c780f);
      if (this._isCallbackPositions) {
        this.entityGraphic.minimumHeights = new Cesium__namespace.CallbackProperty(_0x2e1bba => {
          return this._minimumHeights;
        }, false);
        this.entityGraphic.maximumHeights = new Cesium__namespace.CallbackProperty(_0x3b9f4f => {
          return this._maximumHeights;
        }, false);
      }
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _style2Json(_0xa1cfd7, _0x1d8fca) {
      return WallStyleConver.toJSON(_0xa1cfd7, _0x1d8fca, true);
    }
    _updateStyleHook(_0x3b67d6, _0x4d1137) {
      WallStyleConver.toCesiumVal(_0x3b67d6, this.entityGraphic, true);
      if (Cesium__namespace.defined(_0x4d1137.closure)) {
        this._updatePositionsHook();
      }
      if (Cesium__namespace.defined(_0x4d1137?.diffHeight)) {
        this._updateMaxMinHeights(this._entity);
      }
      if (Cesium__namespace.defined(_0x4d1137.riseAnimation)) {
        this._updateRiseAnimationDurationOptions();
      }
    }
    _updatePositionsHook() {
      if (this.style.closure) {
        this.entityGraphic.positions = this._getClosurePositions(this.positions);
      } else {
        this.entityGraphic.positions = this.positions;
      }
      if (!this.style.maximumHeights || !this.style.minimumHeights) {
        this._updateMaxMinHeights(this._entity);
      }
      this._updateLabelPosition();
      this._updateEditDraggers();
    }
    _updateMaxMinHeights(_0x57c1fd) {
      const _0x592d94 = this.points;
      if (!_0x592d94 || _0x592d94.length === 0) {
        return;
      }
      this.style.diffHeight = this.style.diffHeight || 100;
      const _0x207f25 = _0x592d94.length;
      const _0x5f3c5c = new Array(_0x207f25);
      const _0x308c49 = new Array(_0x207f25);
      for (let _0x333f44 = 0; _0x333f44 < _0x207f25; _0x333f44++) {
        const _0x3986c8 = _0x592d94[_0x333f44].alt;
        _0x5f3c5c[_0x333f44] = _0x3986c8;
        if (this.style.fixedTop) {
          _0x308c49[_0x333f44] = _0x592d94[0].alt + this.style.diffHeight;
        } else {
          _0x308c49[_0x333f44] = _0x3986c8 + this.style.diffHeight;
        }
      }
      if (this.style.closure && _0x207f25 > 0) {
        _0x5f3c5c.push(_0x5f3c5c[0]);
        _0x308c49.push(_0x308c49[0]);
      }
      this._minimumHeights = _0x5f3c5c;
      this._maximumHeights = _0x308c49;
      if (_0x57c1fd) {
        if (!(_0x57c1fd.wall.minimumHeights instanceof Cesium__namespace.CallbackProperty)) {
          _0x57c1fd.wall.minimumHeights = _0x5f3c5c;
        }
        if (!(_0x57c1fd.wall.maximumHeights instanceof Cesium__namespace.CallbackProperty)) {
          _0x57c1fd.wall.maximumHeights = _0x308c49;
        }
      }
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions) {
        return;
      }
      super._setPositionsToCallback();
      if (this.entityGraphic) {
        this.entityGraphic.minimumHeights = new Cesium__namespace.CallbackProperty(_0x2f4f8a => {
          return this._minimumHeights;
        }, false);
        this.entityGraphic.maximumHeights = new Cesium__namespace.CallbackProperty(_0x1d6603 => {
          return this._maximumHeights;
        }, false);
      }
    }
    _positions_CallbackProperty(_0x29bc1f) {
      if (this._positions_CallbackPropertyEx) {
        this._positions_CallbackPropertyEx(_0x29bc1f);
      }
      if (this.style.closure && this._positions_draw?.length > 0) {
        return this._positions_draw.concat(this._positions_draw[0]);
      } else {
        return this._positions_draw;
      }
    }
    _cancelPositionsCallback() {
      if (!this._isCallbackPositions) {
        return;
      }
      super._cancelPositionsCallback();
      if (this._entity) {
        this.entityGraphic.minimumHeights = this._minimumHeights;
        this.entityGraphic.maximumHeights = this._maximumHeights;
      }
    }
    updateAttrForDrawing(_0x3990de) {
      this._updateMaxMinHeights(this._entity);
    }
    _addedHook(_0x10df1d) {
      super._addedHook(_0x10df1d);
      this.on(EventType.availabilityChange, this._availabilityChangeHandler, this);
      this._updateRiseAnimationDurationOptions();
    }
    _removedHook() {
      super._removedHook();
      this.off(EventType.availabilityChange, this._availabilityChangeHandler, this);
    }
    _availabilityChangeHandler(_0x439511) {
      if (_0x439511.new === false) {
        return;
      }
      setTimeout(() => {
        if (!this.isAdded) {
          return;
        }
        this._updateRiseAnimationDurationOptions();
      }, 10);
    }
    _updateRiseAnimationDurationOptions() {
      if (!Cesium__namespace.defined(this.style?.riseAnimationDuration) || this.isEditing || this.isDrawing) {
        return;
      }
      this.startRiseAnimation({
        delay: this.style.riseAnimationDelay,
        duration: this.style.riseAnimationDuration
      });
    }
    startRiseAnimation(_0x223674 = {}) {
      this.stopRiseAnimation();
      const _0x2fc2bb = this.currentTime.secondsOfDay + (_0x223674.delay ?? 0);
      const _0x4cafb9 = _0x223674.duration ?? 8;
      if (_0x4cafb9 <= 0) {
        return;
      }
      this.entityGraphic.maximumHeights = new Cesium__namespace.CallbackProperty(_0x5d6ed8 => {
        if (this._map?.availabilityEnabled === false) {
          return this._maximumHeights;
        }
        const _0x29280d = _0x5d6ed8.secondsOfDay - _0x2fc2bb;
        if (_0x29280d <= 0) {
          return this._maximumHeights;
        }
        if (_0x29280d >= _0x4cafb9) {
          if (_0x223674.autoStop) {
            this.stopRiseAnimation();
          }
          if (_0x223674.callback) {
            _0x223674.callback();
          }
          return this._maximumHeights;
        }
        return this._maximumHeights.map((_0x394141, _0xec719c) => {
          return _0x394141 * (_0x29280d / _0x4cafb9);
        });
      }, false);
    }
    stopRiseAnimation() {
      this.entityGraphic.maximumHeights = new Cesium__namespace.CallbackProperty(_0x1b3e3f => {
        return this._maximumHeights;
      }, false);
    }
  }
  register$5("wall", WallEntity);
  class EditRectangle extends EditPoly {
    bindDraggers() {
      const _0x32408c = this.positions;
      for (let _0x4285f2 = 0, _0x5e7753 = _0x32408c.length; _0x4285f2 < _0x5e7753; _0x4285f2++) {
        const _0x435ca0 = this.updatePositionsHeightByAttr(_0x32408c[_0x4285f2]);
        const _0x1510aa = this.createDragger({
          position: _0x435ca0,
          onDrag: (_0x298c8a, _0x487d9e) => {
            const _0x3bf4d1 = this._map.clock.currentTime;
            const _0x4b0d15 = getCesiumValue(this.entityGraphic.height, Number, _0x3bf4d1);
            this.positions[_0x298c8a.index] = _0x487d9e;
            if (this.entityGraphic.height !== undefined) {
              for (let _0x434c9f = 0, _0x10f6b1 = this.draggers.length; _0x434c9f < _0x10f6b1; _0x434c9f++) {
                const _0x35aff9 = this.draggers[_0x434c9f];
                const _0x139393 = setPositionsHeight(this.positions[_0x35aff9.index], _0x4b0d15);
                _0x35aff9.position = _0x139393;
                this.positions[_0x35aff9.index] = _0x139393;
              }
            }
            if (this._heightDraggers && this._heightDraggers.length > 0) {
              const _0x4f139c = getCesiumValue(this.entityGraphic.extrudedHeight, Number, _0x3bf4d1);
              this._heightDraggers[_0x298c8a.index].position = setPositionsHeight(_0x487d9e, _0x4f139c);
            }
            let _0x3e4a2e = this.center;
            _0x3e4a2e = this.updatePositionsHeightByAttr(_0x3e4a2e);
            this._draggerMove.position = _0x3e4a2e;
          }
        });
        _0x1510aa.index = _0x4285f2;
        this.draggers.push(_0x1510aa);
      }
      this._bindMoveAllDragger();
      if (this.entityGraphic.extrudedHeight) {
        this._bindHeightDraggers();
      }
    }
    updatePositionsHeightByAttr(_0x2821e4) {
      if (this.clampToGround) {
        _0x2821e4 = getSurfacePosition(this._map.scene, _0x2821e4);
      }
      if (this.entityGraphic.height !== undefined) {
        const _0x319a71 = getCesiumValue(this.entityGraphic.height, Number, this._map.clock.currentTime);
        _0x2821e4 = setPositionsHeight(_0x2821e4, _0x319a71);
      }
      return _0x2821e4;
    }
    _updateHeight(_0x429b5f) {
      this.entityGraphic.height = _0x429b5f;
      this.style.height = this.formatNum(_0x429b5f, 2);
      const _0x38c90e = this.positions;
      for (let _0x1a26f6 = 0, _0x305fe5 = _0x38c90e.length; _0x1a26f6 < _0x305fe5; _0x1a26f6++) {
        _0x38c90e[_0x1a26f6] = setPositionsHeight(_0x38c90e[_0x1a26f6], _0x429b5f);
      }
      for (let _0x188d0e = 0, _0x3c4166 = this.draggers.length; _0x188d0e < _0x3c4166; _0x188d0e++) {
        const _0x2bffb0 = this.draggers[_0x188d0e];
        _0x2bffb0.position = setPositionsHeight(_0x2bffb0.position, _0x429b5f);
      }
      this.fire(EventType.editStyle);
    }
    _bindMoveAllDragger() {
      if (!this._graphic.hasMoveEdit) {
        return;
      }
      let _0xc8486f = this.center;
      _0xc8486f = this.updatePositionsHeightByAttr(_0xc8486f);
      let _0x11b00a;
      let _0x2a5dbf;
      const _0x46db7b = this.createDragger({
        position: _0xc8486f,
        type: EditPointType.MoveAll,
        tooltip: this._map.getLangText("_整体平移"),
        onDragStart: (_0x2691c9, _0x120474) => {
          for (let _0x1faa67 = 0, _0x2c2525 = this.draggers.length; _0x1faa67 < _0x2c2525; _0x1faa67++) {
            this.draggers[_0x1faa67].show = false;
          }
          const _0x32aa36 = getCesiumValue(this._graphic._entity.rectangle.coordinates, Cesium__namespace.Rectangle);
          const _0x373a75 = getCesiumValue(this._graphic._entity.rectangle.height, Number) || 0;
          const _0x501d25 = {
            rectangle: _0x32aa36,
            rotation: 0,
            height: _0x373a75
          };
          const _0x167565 = getRectangleOuterPositions(_0x501d25);
          _0x11b00a = Cesium__namespace.Cartesian3.distance(_0x167565[0], _0x167565[1]);
          _0x2a5dbf = Cesium__namespace.Cartesian3.distance(_0x167565[1], _0x167565[2]);
        },
        onDrag: (_0x401cb3, _0x226177) => {
          if (!this.clampToGround) {
            const _0x1269eb = Cesium__namespace.Cartographic.fromCartesian(_0x226177).height;
            this.entityGraphic.height = _0x1269eb;
            this.style.height = this.formatNum(_0x1269eb, 2);
          }
          const _0x2ac490 = {
            center: _0x226177,
            width: _0x11b00a,
            height: _0x2a5dbf
          };
          const _0x26eef8 = getRectPositionsByCenter(_0x2ac490);
          this.positions = [_0x26eef8[1], _0x26eef8[3]];
        },
        onDragEnd: (_0x100250, _0x24db28) => {
          this.updateDraggers();
        }
      });
      this._draggerMove = _0x46db7b;
      this.draggers.push(_0x46db7b);
    }
  }
  class RectangleEntity extends BasePolyEntity {
    constructor(_0x358087 = {}) {
      super(_0x358087);
      this._minPointNum = 2;
      this._maxPointNum = 2;
      this._clampToGround_reload = true;
      if (this.options.rectangle) {
        this._rectangle = this.options.rectangle;
      } else if (this.options.coordinates) {
        this._rectangle = this.options.coordinates;
      }
    }
    get entityGraphic() {
      return this._entity?.rectangle;
    }
    get EditClass() {
      return EditRectangle;
    }
    get center() {
      const _0x285526 = getCesiumValue(this.rectangle);
      if (!_0x285526) {
        return null;
      }
      let _0x203fd8 = Cesium__namespace.Cartographic.toCartesian(Cesium__namespace.Rectangle.center(_0x285526));
      if (Cesium__namespace.defined(this.style.height)) {
        _0x203fd8 = setPositionsHeight(_0x203fd8, this.style.height);
      }
      return _0x203fd8;
    }
    get outlinePositions() {
      this._outlinePositions = getOutlinePositions(this._entity);
      return this._outlinePositions;
    }
    set outlinePositions(_0x52c5c3) {
      this._outlinePositions = _0x52c5c3;
    }
    get outlineCoordinates() {
      return cartesians2lonlats(this.outlinePositions);
    }
    get rectangle() {
      if (!this._rectangle && this.positions) {
        this._rectangle = getRectangle(this.positionsShow);
        if (this.style.height) {
          this._rectangle.maxHeight = this.style.height;
        } else if (this.style.setHeight) {
          this._rectangle.maxHeight = this.style.setHeight;
        }
      }
      return this._rectangle;
    }
    set rectangle(_0x3a88ef) {
      var _0x238080;
      if ((_0x238080 = this.editing) !== null && _0x238080 !== undefined && _0x238080.enabled && !(_0x3a88ef instanceof Cesium__namespace.CallbackProperty)) {
        this._rectangle_draw = _0x3a88ef;
      } else {
        this._rectangle = _0x3a88ef;
        if (this._entity) {
          this.entityGraphic.coordinates = _0x3a88ef;
        }
      }
    }
    get points() {
      const _0x1c5e55 = [];
      let _0x59cf91;
      if (this._positions_draw) {
        _0x59cf91 = this._positions_draw;
      } else if (this._positions.getValue) {
        _0x59cf91 = this._positions.getValue();
      } else {
        _0x59cf91 = this._positions;
      }
      if (!_0x59cf91) {
        _0x59cf91 = getOutlinePositions(this._entity, false);
      }
      _0x59cf91.forEach(function (_0x4ddbfb) {
        const _0x4c8c3a = LngLatPoint.parse(_0x4ddbfb);
        if (!_0x4c8c3a || !_0x4c8c3a.valid()) {
          return;
        }
        _0x1c5e55.push(_0x4c8c3a);
      });
      this._points = _0x1c5e55;
      return this._points;
    }
    get distance() {
      return getDistance(this.outlinePositions, true);
    }
    get area() {
      return getArea(this.outlinePositions);
    }
    getEntityPositions() {
      if (!this._entity.rectangle) {
        return null;
      }
      const _0x22b3a9 = getCesiumValue(this._entity.rectangle.coordinates, Cesium__namespace.Rectangle);
      const _0x3f1345 = getCesiumValue(this._entity.rectangle.height, Number) || 0;
      const _0x2de728 = Cesium__namespace.Cartesian3.fromRadians(_0x22b3a9.west, _0x22b3a9.south, _0x3f1345);
      const _0xa23866 = Cesium__namespace.Cartesian3.fromRadians(_0x22b3a9.east, _0x22b3a9.north, _0x3f1345);
      return [_0x2de728, _0xa23866];
    }
    _mountedHook() {
      const _0x4008de = {
        rectangle: RectangleStyleConver.toCesiumVal(this.style, {}, true)
      };
      _0x4008de.rectangle.coordinates = this.rectangle;
      if (this._positions instanceof Cesium__namespace.CallbackProperty) {
        _0x4008de.rectangle.coordinates = new Cesium__namespace.CallbackProperty(_0x23f414 => {
          const _0x420a15 = this._positions.getValue(_0x23f414);
          if (_0x420a15 && _0x420a15.length > 0) {
            this._rectangle = Cesium__namespace.Rectangle.fromCartesianArray(_0x420a15);
            return this._rectangle;
          } else {
            return undefined;
          }
        }, false);
      }
      this._entity = this._createEntity(_0x4008de);
      this._calculateCzmHeight(this.entityGraphic);
      this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      if (this._entity_outlines && this.entityGraphic.coordinates instanceof Cesium__namespace.CallbackProperty) {
        this._updateOutlineToCallback();
      }
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _style2Json(_0x529cc6, _0x1d6b8f) {
      return RectangleStyleConver.toJSON(_0x529cc6, _0x1d6b8f, true);
    }
    _updateStyleHook(_0x54229a, _0x2abe1f) {
      RectangleStyleConver.toCesiumVal(_0x54229a, this.entityGraphic, true);
      if (Cesium__namespace.defined(_0x2abe1f.diffHeight) || Cesium__namespace.defined(_0x2abe1f.height) || Cesium__namespace.defined(_0x54229a.addHeight) || Cesium__namespace.defined(_0x54229a.setHeight)) {
        this._calculateCzmHeight(this.entityGraphic);
      }
    }
    _updatePositionsHook() {
      if (this.positions) {
        this.rectangle = Cesium__namespace.Rectangle.fromCartesianArray(this.positions);
      } else {
        this._rectangle_draw = Cesium__namespace.Rectangle.fromCartesianArray(this._positions_draw);
      }
      this.outlinePositions = getOutlinePositions(this._entity);
      this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      this._updateLabelPosition();
      this._calculateCzmHeight(this.entityGraphic);
      this._updateEditDraggers();
    }
    _getOutlineStyle(_0x51ca60, _0x5d21ba) {
      _0x51ca60 = {
        ..._0x51ca60
      };
      delete _0x51ca60.addHeight;
      delete _0x51ca60.setHeight;
      delete _0x51ca60.height;
      const _0xf5a203 = super._getOutlineStyle(_0x51ca60, _0x5d21ba);
      _0xf5a203.arcType = Cesium__namespace.ArcType.RHUMB;
      return _0xf5a203;
    }
    _getOutlinePositions() {
      const _0x194d79 = getOutlinePositions(this._entity);
      return [_0x194d79];
    }
    toGeoJSON(_0x4a75dd) {
      return super.toGeoJSON(_0x4a75dd);
    }
    _getGeoJsonGeometry(_0x3b784f) {
      if (_0x3b784f !== null && _0x3b784f !== undefined && _0x3b784f.outline) {
        return {
          type: "Polygon",
          coordinates: [this.getOutlineCoordinates(_0x3b784f?.closure, _0x3b784f?.noAlt)]
        };
      } else {
        return {
          type: "LineString",
          coordinates: this.getCoord(_0x3b784f)
        };
      }
    }
    setCallbackPositions(_0x5db766) {
      this._setPositionsToCallback();
      if (_0x5db766) {
        _0x5db766 &&= LngLatArray.toCartesians(_0x5db766);
        this._positions_draw = _0x5db766;
        this.updateAttrForDrawing(true);
        this._updateLabelPosition();
      }
      return this._positions_draw;
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = true;
      const _0x175298 = this.positions;
      if (_0x175298) {
        if (_0x175298 instanceof Cesium__namespace.CallbackProperty) {
          this._positions_draw = this.getEntityPositions();
        } else {
          this._positions_draw = this.positions;
        }
        this._rectangle_draw = Cesium__namespace.Rectangle.fromCartesianArray(this._positions_draw);
      } else {
        this._positions_draw = [];
        this._rectangle_draw = null;
      }
      this.rectangle = new Cesium__namespace.CallbackProperty(_0x75a2e => {
        if (this._positions_CallbackPropertyEx) {
          this._positions_CallbackPropertyEx(_0x75a2e);
        }
        return this._rectangle_draw;
      }, false);
      this._updateOutlineToCallback();
    }
    _cancelPositionsCallback() {
      if (!this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = false;
      this._positions = this._positions_draw;
      this._rectangle = this._rectangle_draw;
      delete this._positions_draw;
      delete this._rectangle_draw;
      if (this._entity) {
        this.entityGraphic.coordinates = this._rectangle;
        this._cancelOutlinePositionsCallback();
      }
    }
    updateAttrForDrawing(_0x28b96b) {
      this._calculateCzmHeight(this.entityGraphic, true);
      this._rectangle_draw = Cesium__namespace.Rectangle.fromCartesianArray(this._positions_draw);
      if (this._entity_outlines) {
        this._updateOutlineToCallback();
        this._outlinePositions = getOutlinePositions(this._entity);
      }
    }
    _getExSmallTooltip(_0x2709db, _0x2a6cf9 = "") {
      if (this.options.drawShowMeasure === false) {
        return _0x2a6cf9;
      }
      if (this._positions_draw.length < 2) {
        return _0x2a6cf9;
      }
      const _0x14ba13 = {
        unit: this.options.unit,
        getLangText: _0x4c0fc1 => {
          return this._map.getLangText(_0x4c0fc1);
        },
        decimal: this.options.decimal
      };
      return "<br />" + this._map.getLangText("_面积") + ":" + formatArea(this.area, _0x14ba13);
    }
    getOutlinePositions(_0x381cbf) {
      return getOutlinePositions(this._entity, _0x381cbf);
    }
    getOutlineCoordinates(_0x2257d6, _0x2677e6) {
      return cartesians2lonlats(this.getOutlinePositions(_0x2257d6), _0x2677e6);
    }
    getRectangle(_0x315387) {
      const _0x4633d0 = this._rectangle_draw || this.rectangle;
      if (_0x315387 !== null && _0x315387 !== undefined && _0x315387.isFormat) {
        return formatRectangle(_0x4633d0);
      } else {
        return _0x4633d0;
      }
    }
    isInPoly(_0x44edfe) {
      const _0x5d520a = getCesiumValue(this._entity.rectangle?.coordinates, Cesium__namespace.Rectangle);
      const _0x51f571 = Cesium__namespace.Rectangle.contains(_0x5d520a, LngLatPoint.parse(_0x44edfe).toCartographic());
      return _0x51f571;
    }
    flyTo(_0xba577b = {}) {
      if (!this._map) {
        return;
      }
      _0xba577b.clampToGround = this.style.clampToGround;
      this._map.flyToExtent(getCesiumValue(this.rectangle, Cesium__namespace.Rectangle), _0xba577b);
      return this;
    }
  }
  register$5("rectangle", RectangleEntity);
  function getOutlinePositions(_0x20ebcb, _0x5a5a0c = true) {
    if (!_0x20ebcb || !_0x20ebcb.rectangle) {
      return [];
    }
    const _0x1681a3 = getCesiumValue(_0x20ebcb.rectangle.coordinates, Cesium__namespace.Rectangle);
    if (!_0x1681a3) {
      return [];
    }
    const _0x49dcdd = getCesiumValue(_0x20ebcb.rectangle.rotation, Number) || 0;
    const _0x4a3600 = getCesiumValue(_0x20ebcb.rectangle.height, Number) || 0;
    const _0x24980c = {
      rectangle: _0x1681a3,
      rotation: _0x49dcdd,
      height: _0x4a3600
    };
    const _0x2ec65a = getRectangleOuterPositions(_0x24980c);
    if (_0x5a5a0c) {
      _0x2ec65a.push(_0x2ec65a[0]);
    }
    return _0x2ec65a;
  }
  function getAllPositions(_0x3ceb31) {
    const _0x4efc9d = getCesiumValue(_0x3ceb31.polygon.hierarchy, Cesium__namespace.PolygonHierarchy);
    const _0x4ba3f9 = getHierarchyVal(_0x4efc9d);
    return _0x4ba3f9;
  }
  function getPositions(_0x593ffa, _0x181f4f) {
    if (!_0x181f4f && _0x593ffa._positions_draw && _0x593ffa._positions_draw.length > 0) {
      return _0x593ffa._positions_draw;
    }
    let _0x4abced = getCesiumValue(_0x593ffa.polygon.hierarchy, Cesium__namespace.PolygonHierarchy);
    if (_0x4abced && _0x4abced instanceof Cesium__namespace.PolygonHierarchy) {
      _0x4abced = _0x4abced.positions;
    }
    return _0x4abced;
  }
  function getHolesPositions(_0x4dd556) {
    const _0x1648d2 = getCesiumValue(_0x4dd556.polygon.hierarchy, Cesium__namespace.PolygonHierarchy);
    const _0x4bcca5 = getHierarchyVal(_0x1648d2);
    if (_0x4bcca5.length > 1) {
      return _0x4bcca5.slice(1);
    } else {
      return null;
    }
  }
  function getHierarchyVal(_0x58eb70) {
    if (!_0x58eb70) {
      return [];
    }
    if (_0x58eb70 && _0x58eb70 instanceof Cesium__namespace.PolygonHierarchy) {
      let _0xe31eba = [_0x58eb70.positions];
      for (let _0x156142 = 0, _0x12d594 = _0x58eb70.holes.length; _0x156142 < _0x12d594; _0x156142++) {
        const _0x37f99d = _0x58eb70.holes[_0x156142];
        _0xe31eba = _0xe31eba.concat(getHierarchyVal(_0x37f99d));
      }
      return _0xe31eba;
    } else {
      return [_0x58eb70];
    }
  }
  function getPolygonHierarchy(_0xfbac95, _0x2be4ae) {
    if (_0xfbac95.length === 0) {
      return new Cesium__namespace.PolygonHierarchy();
    }
    const _0x1bf1c4 = [];
    if (_0xfbac95.length > 1) {
      for (let _0x644cc = 1, _0x58b619 = _0xfbac95.length; _0x644cc < _0x58b619; _0x644cc++) {
        _0x1bf1c4.push(new Cesium__namespace.PolygonHierarchy(lonlats2cartesians(_0xfbac95[_0x644cc], _0x2be4ae)));
      }
    }
    const _0x226402 = _0xfbac95[0];
    const _0x4e4ce1 = new Cesium__namespace.PolygonHierarchy(lonlats2cartesians(_0x226402, _0x2be4ae), _0x1bf1c4);
    return _0x4e4ce1;
  }
  function getPolygonHierarchy2(_0x377043) {
    if (_0x377043.length === 0) {
      return new Cesium__namespace.PolygonHierarchy();
    }
    const _0x38305d = [];
    if (_0x377043.length > 1) {
      for (let _0x2e1d42 = 1, _0x20cf2a = _0x377043.length; _0x2e1d42 < _0x20cf2a; _0x2e1d42++) {
        _0x38305d.push(new Cesium__namespace.PolygonHierarchy(LngLatArray.toCartesians(_0x377043[_0x2e1d42])));
      }
    }
    const _0x291fd6 = _0x377043[0];
    const _0x4668ce = new Cesium__namespace.PolygonHierarchy(LngLatArray.toCartesians(_0x291fd6), _0x38305d);
    return _0x4668ce;
  }
  class EditPolygon extends EditPoly {
    get hasClosure() {
      return this._graphic.hasClosure ?? true;
    }
    get clampToGround() {
      var _0x1997db;
      return this.style.clampToGround ?? !getCesiumValue((_0x1997db = this._graphic) === null || _0x1997db === undefined || (_0x1997db = _0x1997db.entityGraphic) === null || _0x1997db === undefined ? undefined : _0x1997db.perPositionHeight, Boolean);
    }
    bindDraggers() {
      super.bindDraggers();
      if (this._graphic._draw_holes?.length > 0) {
        for (let _0x241dfd = 0, _0xde36c3 = this._graphic._draw_holes.length; _0x241dfd < _0xde36c3; _0x241dfd++) {
          this.bindHolesDraggers(this._graphic._draw_holes[_0x241dfd], _0x241dfd);
        }
      }
    }
    bindHolesDraggers(_0x2c4c35, _0x284523) {
      for (let _0x2b61db = 0, _0x49125d = _0x2c4c35.length; _0x2b61db < _0x49125d; _0x2b61db++) {
        const _0x86d2fa = this.updatePositionsHeightByAttr(_0x2c4c35[_0x2b61db]);
        const _0x4d2d00 = this.createDragger({
          position: _0x86d2fa,
          onDrag: (_0x344124, _0x63cfa2) => {
            _0x63cfa2 = this.updatePositionsHeightByAttr(_0x63cfa2);
            _0x344124.position = _0x63cfa2;
            _0x2c4c35[_0x344124.index] = _0x63cfa2;
          },
          onDragEnd: (_0x1a552c, _0x559b4a) => {
            this.updateDraggers();
          }
        });
        _0x4d2d00.index = _0x2b61db;
        this.draggers.push(_0x4d2d00);
        if (this.hasMidPoint && (this.hasClosure || !this.hasClosure && _0x2b61db < _0x49125d - 1)) {
          const _0x2454a8 = (_0x2b61db + 1) % _0x49125d;
          let _0x4a3243 = getMidpoint(_0x86d2fa, _0x2c4c35[_0x2454a8], this.options.midPointFraction);
          _0x4a3243 = this.updatePositionsHeightByAttr(_0x4a3243);
          const _0x1267b0 = this.createDragger({
            position: _0x4a3243,
            type: EditPointType.AddMidPoint,
            tooltip: this._map.getLangText("_增加点"),
            onDragStart: (_0x24d454, _0x4ce91a) => {
              _0x2c4c35.splice(_0x24d454.index, 0, _0x4ce91a);
            },
            onDrag: (_0x207b6f, _0x3f399c) => {
              _0x2c4c35[_0x207b6f.index] = _0x3f399c;
            },
            onDragEnd: (_0x49c1c1, _0xf21a76) => {
              this._fireAddPoint(_0x49c1c1, _0xf21a76);
              this.updateDraggers();
            }
          });
          _0x1267b0.index = _0x2454a8;
          this.draggers.push(_0x1267b0);
        }
      }
    }
  }
  class PolygonEntity extends BasePolyEntity {
    constructor(_0x8c1fea = {}) {
      super(_0x8c1fea);
      this._minPointNum = _0x8c1fea.minPointNum ?? 3;
      this._clampToGround_reload = true;
    }
    get entityGraphic() {
      return this._entity?.polygon;
    }
    get EditClass() {
      return EditPolygon;
    }
    get center() {
      return this.centerOfMass;
    }
    get distance() {
      return getDistance(this.positionsShow, true);
    }
    get positionsShow() {
      if (this._positions_show) {
        return this._positions_show;
      }
      let _0x5c1524 = getCesiumValue(this._positions);
      if (_0x5c1524 instanceof Cesium__namespace.PolygonHierarchy) {
        _0x5c1524 = _0x5c1524.positions;
      } else if (_0x5c1524 instanceof Cesium__namespace.Cartesian3) {
        _0x5c1524 = [_0x5c1524];
      }
      return this.getShowPositions(_0x5c1524);
    }
    get hierarchy() {
      return this._hierarchy || this.entityGraphic?.hierarchy;
    }
    _setPolyPostions(_0x4a04e7) {
      var _0x3e488f;
      if ((_0x3e488f = this.editing) === null || _0x3e488f === undefined || !_0x3e488f.enabled) {
        this._hierarchy = null;
        this._positions_show = null;
      }
      if (_0x4a04e7 instanceof Cesium__namespace.PolygonHierarchy) {
        this._hierarchy = _0x4a04e7;
        _0x4a04e7 = this._hierarchy.positions;
      }
      if (Array.isArray(_0x4a04e7)) {
        var _0xc7b56;
        if (_0x4a04e7.length > 0 && Array.isArray(_0x4a04e7[0]) && _0x4a04e7[0].length > 0) {
          const _0xc005f5 = _0x4a04e7[0][0];
          if (Array.isArray(_0xc005f5) && isNumber(_0xc005f5[0])) {
            this._hierarchy = getPolygonHierarchy(_0x4a04e7, this.style.height || this.style.setHeight || this.style.addHeight);
            _0x4a04e7 = this._hierarchy.positions;
          } else if (_0xc005f5 instanceof Cesium__namespace.Cartesian3 || _0xc005f5 instanceof LngLatPoint) {
            this._hierarchy = getPolygonHierarchy2(_0x4a04e7);
            _0x4a04e7 = this._hierarchy.positions;
          }
        }
        const _0x431c9a = [];
        const _0x4a305c = [];
        _0x4a04e7.forEach((_0x281da5, _0x1bdd7f) => {
          const _0x1b06a3 = LngLatPoint.parse(_0x281da5);
          if (!_0x1b06a3) {
            return;
          }
          const _0x143fc4 = this.getSetHeight(this.style, _0x1bdd7f);
          if (Cesium__namespace.defined(_0x143fc4)) {
            _0x1b06a3.alt = _0x143fc4;
          }
          const _0x53dc2d = this.getAddHeight(this.style, _0x1bdd7f);
          if (Cesium__namespace.defined(_0x53dc2d)) {
            _0x1b06a3.alt += _0x53dc2d;
          }
          _0x431c9a.push(_0x1b06a3);
          _0x4a305c.push(_0x1b06a3.toCartesian());
        });
        this._points = _0x431c9a;
        if ((_0xc7b56 = this.editing) !== null && _0xc7b56 !== undefined && _0xc7b56.enabled) {
          this._positions_draw = _0x4a305c;
        } else {
          this._positions = _0x4a305c;
        }
      } else {
        this._positions = _0x4a04e7;
      }
      if (this._entity) {
        this._updatePositionsHook();
      }
      this.fire(EventType.updatePosition, {
        positions: this._positions
      });
    }
    getEntityPositions() {
      return getPositions(this._entity);
    }
    getShowPositions(_0x1e8566) {
      if (!_0x1e8566 || _0x1e8566.length === 0) {
        return _0x1e8566;
      }
      const _0x515a4e = [];
      _0x1e8566.forEach(function (_0x54b32e) {
        _0x515a4e.push(_0x54b32e.clone());
      });
      return _0x515a4e;
    }
    _mountedHook() {
      const _0x20e7d1 = {
        polygon: PolygonStyleConver.toCesiumVal(this.style, {}, true)
      };
      if (this._hasPropertyPostion(this._positions)) {
        let _0xc71e5d = this.isPoint;
        if (!_0xc71e5d) {
          const _0xb2f83c = this._positions.getValue(this.currentTime);
          _0xc71e5d = _0xb2f83c && Array.isArray(_0xb2f83c);
        }
        if (_0xc71e5d) {
          const _0x42367c = new Cesium__namespace.PolygonHierarchy();
          _0x20e7d1.polygon.hierarchy = new Cesium__namespace.CallbackProperty(_0x3b352a => {
            const _0x210a9a = this._positions.getValue(_0x3b352a);
            this._positions_show = this.getShowPositions(_0x210a9a);
            _0x42367c.positions = this._positions_show;
            if (this._entity_outlines && this._positions_show?.length > 0) {
              if (this.style.outlineStyle?.closure ?? true) {
                this.outlinePositions = this._getClosurePositions(this._positions_show);
              } else {
                this.outlinePositions = this._positions_show;
              }
            }
            this._updateLabelPosition();
            return _0x42367c;
          }, false);
          this._hierarchy = _0x42367c;
        } else {
          _0x20e7d1.polygon.hierarchy = this._positions;
        }
      } else if (this._hierarchy) {
        _0x20e7d1.polygon.hierarchy = this._hierarchy;
      } else {
        if (!this._positions_show) {
          this._positions_show = this.getShowPositions(this.positions);
        }
        _0x20e7d1.polygon.hierarchy = new Cesium__namespace.PolygonHierarchy(this._positions_show);
      }
      this._entity = this._createEntity(_0x20e7d1);
      this._updateDiffHeight(this.style.diffHeight);
      this._bindExType();
      this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      if (this._entity.polygon.hierarchy instanceof Cesium__namespace.CallbackProperty) {
        this._updateOutlineToCallback();
      }
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _bindExType() {
      const _0x1b59b1 = this.options.buildings || this._layer.options.buildings;
      if (_0x1b59b1 && (_0x1b59b1.enabled ?? true)) {
        if (_0x1b59b1.bottomHeight) {
          let _0x1aed39;
          if (isNumber(_0x1b59b1.bottomHeight)) {
            _0x1aed39 = _0x1b59b1.bottomHeight;
          } else if (isString(_0x1b59b1.bottomHeight)) {
            _0x1aed39 = Number(this.attr[_0x1b59b1.bottomHeight] || 0);
          }
          this._entity.polygon.height = _0x1aed39;
        }
        const _0x3c6b0a = Number(this.attr[_0x1b59b1.cloumn] || 1);
        let _0x1b7f4d;
        if (isNumber(_0x1b59b1.height)) {
          _0x1b7f4d = _0x1b59b1.height;
        } else if (isString(_0x1b59b1.height)) {
          _0x1b7f4d = this.attr[_0x1b59b1.height] || _0x1b7f4d;
        } else {
          _0x1b7f4d = 3.5;
        }
        const _0xbd1b38 = getCesiumValue(this._entity.polygon.height) || 0;
        this._entity.polygon.extrudedHeight = _0xbd1b38 + _0x3c6b0a * _0x1b7f4d;
      }
    }
    _updateDiffHeight(_0x5cbfe2) {
      if (!Cesium__namespace.defined(_0x5cbfe2) || !this.entityGraphic || this.entityGraphic.extrudedHeight instanceof Cesium__namespace.CallbackProperty) {
        return;
      }
      if (Cesium__namespace.defined(_0x5cbfe2) && _0x5cbfe2 !== 0) {
        const _0x12bff3 = this.getMaxHeight();
        this.entityGraphic.extrudedHeight = _0x12bff3 + _0x5cbfe2;
      } else {
        this.entityGraphic.extrudedHeight = undefined;
      }
    }
    getMaxHeight() {
      let _0x3444ff = 0;
      if (Cesium__namespace.defined(this.style.height)) {
        _0x3444ff = this.style.height;
      } else {
        _0x3444ff = getMaxHeight(this._positions_draw || this._positions);
      }
      return _0x3444ff;
    }
    _style2Json(_0x404b27, _0x5fb85e) {
      return PolygonStyleConver.toJSON(_0x404b27, _0x5fb85e, true);
    }
    _updateStyleHook(_0x197a99, _0x5e1f74) {
      PolygonStyleConver.toCesiumVal(_0x197a99, this.entityGraphic, true);
      if (Cesium__namespace.defined(_0x5e1f74.diffHeight) || Cesium__namespace.defined(_0x5e1f74.height)) {
        this._updateDiffHeight(_0x5e1f74.diffHeight);
      }
      if (Cesium__namespace.defined(_0x5e1f74.height)) {
        this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      }
    }
    _updatePositionsHook() {
      if (this._positions && this._positions instanceof Cesium__namespace.CallbackProperty) {
        var _0xc043d1;
        this.entityGraphic.hierarchy = this._positions;
        if ((_0xc043d1 = this.editing) !== null && _0xc043d1 !== undefined && _0xc043d1.enabled && this._hierarchy) {
          this._positions_show = this.getShowPositions(this._positions_draw);
          this._hierarchy.positions = this._positions_show;
        }
      } else if (this._positions instanceof Cesium__namespace.SampledPositionProperty) {
        const _0x63f3d2 = new Cesium__namespace.PolygonHierarchy();
        this.entityGraphic.hierarchy = new Cesium__namespace.CallbackProperty(_0x526155 => {
          const _0x5e0251 = this.property.getValue(_0x526155);
          this._positions_show = this.getShowPositions(_0x5e0251);
          _0x63f3d2.positions = this._positions_show;
          if (this._entity_outlines && this._positions_show?.length > 0) {
            if (this.style.outlineStyle?.closure ?? true) {
              this.outlinePositions = this._getClosurePositions(this._positions_show);
            } else {
              this.outlinePositions = this._positions_show;
            }
          }
          this._updateLabelPosition();
          return _0x63f3d2;
        }, false);
        this._hierarchy = _0x63f3d2;
      } else if (this._hierarchy) {
        this.entityGraphic.hierarchy = this._hierarchy;
      } else {
        this._positions_show = this.getShowPositions(this.positions);
        this.entityGraphic.hierarchy = new Cesium__namespace.PolygonHierarchy(this._positions_show);
        this._isCallbackPositions = false;
      }
      this._updateOutlineStyle(this._getOutlinePositions(), this.style);
      this._updateLabelPosition();
      this._updateDiffHeight(this.style.diffHeight);
      this._updateEditDraggers();
    }
    _getOutlinePositions() {
      return getAllPositions(this._entity);
    }
    _getOutlineStyle(_0x3ed68f, _0x30f93f) {
      _0x3ed68f = {
        ..._0x3ed68f
      };
      delete _0x3ed68f.addHeight;
      delete _0x3ed68f.setHeight;
      return super._getOutlineStyle(_0x3ed68f, _0x30f93f);
    }
    toGeoJSON(_0x373d06) {
      return super.toGeoJSON(_0x373d06);
    }
    _getGeoJsonGeometry(_0x1d52cc) {
      var _0x44f297;
      let _0x320ba1 = this.getCoord(_0x1d52cc);
      if (_0x1d52cc !== null && _0x1d52cc !== undefined && _0x1d52cc.closure && _0x320ba1.length > 0) {
        _0x320ba1.push(_0x320ba1[0]);
      }
      if (((_0x44f297 = this._hierarchy) === null || _0x44f297 === undefined || (_0x44f297 = _0x44f297.holes) === null || _0x44f297 === undefined ? undefined : _0x44f297.length) > 0) {
        _0x320ba1 = [_0x320ba1];
        const _0x123ef2 = getHolesPositions(this._entity);
        _0x123ef2.forEach(_0x155c68 => {
          _0x320ba1.push(LngLatArray.toArray(_0x155c68));
        });
        const _0x59a0d7 = {
          type: "Polygon",
          coordinates: _0x320ba1
        };
        return _0x59a0d7;
      } else {
        const _0x55d715 = {
          type: "Polygon",
          coordinates: [_0x320ba1]
        };
        return _0x55d715;
      }
    }
    setCallbackPositions(_0x4d29c7) {
      this._setPositionsToCallback();
      if (_0x4d29c7) {
        const _0x492869 = [];
        const _0x33649b = [];
        _0x4d29c7.forEach((_0xf74adf, _0x9e8a21) => {
          const _0x2d1505 = LngLatPoint.parse(_0xf74adf);
          if (!_0x2d1505) {
            return;
          }
          const _0x5ce0d7 = this.getSetHeight(this.style, _0x9e8a21);
          if (Cesium__namespace.defined(_0x5ce0d7)) {
            _0x2d1505.alt = _0x5ce0d7;
          }
          const _0x3393b2 = this.getAddHeight(this.style, _0x9e8a21);
          if (Cesium__namespace.defined(_0x3393b2)) {
            _0x2d1505.alt += _0x3393b2;
          }
          _0x492869.push(_0x2d1505);
          _0x33649b.push(_0x2d1505.toCartesian());
        });
        this._points = _0x492869;
        this._positions_draw = _0x33649b;
        this.updateAttrForDrawing(true);
        this._updateLabelPosition();
      }
      return this._positions_draw;
    }
    _positions_CallbackProperty(_0x865ae) {
      if (this._positions_CallbackPropertyEx) {
        this._positions_CallbackPropertyEx(_0x865ae);
      }
      return this._hierarchy;
    }
    _cancelPositionsCallback() {
      super._cancelPositionsCallback();
      this._hierarchy = null;
    }
    _startDrawHook() {
      super._startDrawHook();
      this._updateOutlineStyle([new Cesium__namespace.CallbackProperty(_0x2cdd8a => {
        return this.outlinePositions;
      }, false)], this.style, {
        show: true,
        width: 2,
        color: this.style.color,
        usePolyline: true
      });
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions) {
        return;
      }
      if (this._entity) {
        this._draw_holes = getHolesPositions(this._entity);
      }
      super._setPositionsToCallback();
    }
    updateAttrForDrawing(_0x190605) {
      if (!this._hierarchy) {
        this._hierarchy = new Cesium__namespace.PolygonHierarchy();
        if (this._draw_holes) {
          const _0x2e92a1 = [];
          this._draw_holes.forEach(_0x2e7e1e => {
            _0x2e92a1.push(new Cesium__namespace.PolygonHierarchy(_0x2e7e1e));
          });
          this._hierarchy.holes = _0x2e92a1;
        }
      }
      this._positions_show = this.getShowPositions(this._positions_draw);
      this._hierarchy.positions = this._positions_show;
      this._updateDiffHeight(this.style.diffHeight);
      const _0x22ab17 = this._positions_show?.length;
      if (_0x22ab17 > 0) {
        if (this.style.outlineStyle?.closure ?? true) {
          this.outlinePositions = this._getClosurePositions(this._positions_show);
        } else {
          this.outlinePositions = this._positions_show;
        }
        if (_0x22ab17 !== this._last_outlinePntsLen) {
          let _0x5a8e7a;
          if (this._positions_draw.length < this._minPointNum) {
            const _0x46fb84 = {
              usePolyline: true,
              show: true,
              width: 2,
              color: this.style.color
            };
            _0x5a8e7a = _0x46fb84;
          }
          this._updateOutlineToCallback();
          this._updateOutlineStyle(null, this.style, _0x5a8e7a);
          this._last_outlinePntsLen = _0x22ab17;
        }
      } else {
        this.outlinePositions = [];
        delete this._last_outlinePntsLen;
      }
    }
    _getExSmallTooltip(_0x247642, _0x1a6238 = "") {
      if (this.options.drawShowMeasure === false) {
        return _0x1a6238;
      }
      if (this._positions_draw.length < 3) {
        return _0x1a6238;
      }
      const _0x464b9c = {
        unit: this.options.unit,
        getLangText: _0x46c9cc => {
          return this._map.getLangText(_0x46c9cc);
        },
        decimal: this.options.decimal
      };
      return "<br />" + this._map.getLangText("_面积") + ":" + formatArea(this.area, _0x464b9c);
    }
  }
  register$5("polygon", PolygonEntity);
  PolygonEntity.getPositions = getPositions;
  PolygonEntity.getAllPositions = getAllPositions;
  class EllipseEntity extends CircleEntity {
    constructor(_0x8f1226 = {}) {
      super(_0x8f1226);
      this._maxPointNum = 3;
    }
  }
  register$5("ellipse", EllipseEntity, true);
  function RectangularSensorGraphics(_0x36688e) {
    this._show = undefined;
    this._radius = undefined;
    this._xHalfAngle = undefined;
    this._yHalfAngle = undefined;
    this._lineColor = undefined;
    this._showSectorLines = undefined;
    this._showSectorSegmentLines = undefined;
    this._showLateralSurfaces = undefined;
    this._material = undefined;
    this._showDomeSurfaces = undefined;
    this._showDomeLines = undefined;
    this._showIntersection = undefined;
    this._intersectionColor = undefined;
    this._intersectionWidth = undefined;
    this._showThroughEllipsoid = undefined;
    this._gaze = undefined;
    this._showScanPlane = undefined;
    this._scanPlaneColor = undefined;
    this._scanPlaneMode = undefined;
    this._scanPlaneRate = undefined;
    this._definitionChanged = new Cesium__namespace.Event();
    this.merge(_0x36688e ?? {});
  }
  const _0x5c4522 = {
    get: function () {
      return this._definitionChanged;
    }
  };
  Object.defineProperties(RectangularSensorGraphics.prototype, {
    definitionChanged: _0x5c4522,
    show: Cesium__namespace.createPropertyDescriptor("show"),
    radius: Cesium__namespace.createPropertyDescriptor("radius"),
    xHalfAngle: Cesium__namespace.createPropertyDescriptor("xHalfAngle"),
    yHalfAngle: Cesium__namespace.createPropertyDescriptor("yHalfAngle"),
    lineColor: Cesium__namespace.createPropertyDescriptor("lineColor"),
    showSectorLines: Cesium__namespace.createPropertyDescriptor("showSectorLines"),
    showSectorSegmentLines: Cesium__namespace.createPropertyDescriptor("showSectorSegmentLines"),
    showLateralSurfaces: Cesium__namespace.createPropertyDescriptor("showLateralSurfaces"),
    material: Cesium__namespace.createMaterialPropertyDescriptor("material"),
    showDomeSurfaces: Cesium__namespace.createPropertyDescriptor("showDomeSurfaces"),
    showDomeLines: Cesium__namespace.createPropertyDescriptor("showDomeLines"),
    showIntersection: Cesium__namespace.createPropertyDescriptor("showIntersection"),
    intersectionColor: Cesium__namespace.createPropertyDescriptor("intersectionColor"),
    intersectionWidth: Cesium__namespace.createPropertyDescriptor("intersectionWidth"),
    showThroughEllipsoid: Cesium__namespace.createPropertyDescriptor("showThroughEllipsoid"),
    gaze: Cesium__namespace.createPropertyDescriptor("gaze"),
    showScanPlane: Cesium__namespace.createPropertyDescriptor("showScanPlane"),
    scanPlaneColor: Cesium__namespace.createPropertyDescriptor("scanPlaneColor"),
    scanPlaneMode: Cesium__namespace.createPropertyDescriptor("scanPlaneMode"),
    scanPlaneRate: Cesium__namespace.createPropertyDescriptor("scanPlaneRate")
  });
  RectangularSensorGraphics.prototype.clone = function (_0x557044) {
    if (!Cesium__namespace.defined(_0x557044)) {
      _0x557044 = new RectangularSensorGraphics();
    }
    _0x557044.show = this.show;
    _0x557044.radius = this.radius;
    _0x557044.xHalfAngle = this.xHalfAngle;
    _0x557044.yHalfAngle = this.yHalfAngle;
    _0x557044.lineColor = this.lineColor;
    _0x557044.showSectorLines = this.showSectorLines;
    _0x557044.showSectorSegmentLines = this.showSectorSegmentLines;
    _0x557044.showLateralSurfaces = this.showLateralSurfaces;
    _0x557044.material = this.material;
    _0x557044.showDomeSurfaces = this.showDomeSurfaces;
    _0x557044.showDomeLines = this.showDomeLines;
    _0x557044.showIntersection = this.showIntersection;
    _0x557044.intersectionColor = this.intersectionColor;
    _0x557044.intersectionWidth = this.intersectionWidth;
    _0x557044.showThroughEllipsoid = this.showThroughEllipsoid;
    _0x557044.gaze = this.gaze;
    _0x557044.showScanPlane = this.showScanPlane;
    _0x557044.scanPlaneColor = this.scanPlaneColor;
    _0x557044.scanPlaneMode = this.scanPlaneMode;
    _0x557044.scanPlaneRate = this.scanPlaneRate;
    return _0x557044;
  };
  RectangularSensorGraphics.prototype.merge = function (_0x5bd842) {
    if (!Cesium__namespace.defined(_0x5bd842)) {
      throw new Cesium__namespace.DeveloperError("source is required.");
    }
    this.slice = this.slice ?? _0x5bd842.slice;
    this.show = this.show ?? _0x5bd842.show;
    this.radius = this.radius ?? _0x5bd842.radius;
    this.xHalfAngle = this.xHalfAngle ?? _0x5bd842.xHalfAngle;
    this.yHalfAngle = this.yHalfAngle ?? _0x5bd842.yHalfAngle;
    this.lineColor = this.lineColor ?? _0x5bd842.lineColor;
    this.showSectorLines = this.showSectorLines ?? _0x5bd842.showSectorLines;
    this.showSectorSegmentLines = this.showSectorSegmentLines ?? _0x5bd842.showSectorSegmentLines;
    this.showLateralSurfaces = this.showLateralSurfaces ?? _0x5bd842.showLateralSurfaces;
    this.material = this.material ?? _0x5bd842.material;
    this.showDomeSurfaces = this.showDomeSurfaces ?? _0x5bd842.showDomeSurfaces;
    this.showDomeLines = this.showDomeLines ?? _0x5bd842.showDomeLines;
    this.showIntersection = this.showIntersection ?? _0x5bd842.showIntersection;
    this.intersectionColor = this.intersectionColor ?? _0x5bd842.intersectionColor;
    this.intersectionWidth = this.intersectionWidth ?? _0x5bd842.intersectionWidth;
    this.showThroughEllipsoid = this.showThroughEllipsoid ?? _0x5bd842.showThroughEllipsoid;
    this.gaze = this.gaze ?? _0x5bd842.gaze;
    this.showScanPlane = this.showScanPlane ?? _0x5bd842.showScanPlane;
    this.scanPlaneColor = this.scanPlaneColor ?? _0x5bd842.scanPlaneColor;
    this.scanPlaneMode = this.scanPlaneMode ?? _0x5bd842.scanPlaneMode;
    this.scanPlaneRate = this.scanPlaneRate ?? _0x5bd842.scanPlaneRate;
  };
  var RectangularSensorVS = "in vec4 position;\nin vec3 normal;\nout vec3 v_position;\nout vec3 v_positionWC;\nout vec3 v_positionEC;\nout vec3 v_normalEC;\n\nvoid main() {\n  gl_Position = czm_modelViewProjection * position;\n  v_position = vec3(position);\n  v_positionWC = (czm_model * position).xyz;\n  v_positionEC = (czm_modelView * position).xyz;\n  v_normalEC = czm_normal * normal;\n}\n";
  var RectangularSensorFS = "uniform bool u_showIntersection;\nuniform bool u_showThroughEllipsoid;\n\nuniform float u_radius;\nuniform float u_xHalfAngle;\nuniform float u_yHalfAngle;\nuniform float u_normalDirection;\nuniform float u_type;\n\nin vec3 v_position;\nin vec3 v_positionWC;\nin vec3 v_positionEC;\nin vec3 v_normalEC;\n\nvec4 getColor(float sensorRadius, vec3 pointEC) {\n  czm_materialInput materialInput;\n\n  vec3 pointMC = (czm_inverseModelView * vec4(pointEC, 1.0)).xyz;\n  materialInput.st = sensor2dTextureCoordinates(sensorRadius, pointMC);\n  materialInput.str = pointMC / sensorRadius;\n\n  vec3 positionToEyeEC = -v_positionEC;\n  materialInput.positionToEyeEC = positionToEyeEC;\n\n  vec3 normalEC = normalize(v_normalEC);\n  materialInput.normalEC = u_normalDirection * normalEC;\n\n  czm_material material = czm_getMaterial(materialInput);\n    // czm_lightDirectionEC在cesium1.66开始加入的\n  return mix(czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC), vec4(material.diffuse, material.alpha), 0.4);\n\n}\n\nbool isOnBoundary(float value, float epsilon) {\n  float width = getIntersectionWidth();\n  float tolerance = width * epsilon;\n\n  float delta = max(abs(dFdx(value)), abs(dFdy(value)));\n  float pixels = width * delta;\n  float temp = abs(value);\n  return temp < tolerance && temp < pixels || (delta < 10.0 * tolerance && temp - delta < tolerance && temp < pixels);\n}\n\nvec4 shade(bool isOnBoundary) {\n  if(u_showIntersection && isOnBoundary) {\n    return getIntersectionColor();\n  }\n  if(u_type == 1.0) {\n    return getLineColor();\n  }\n  return getColor(u_radius, v_positionEC);\n}\n\nfloat ellipsoidSurfaceFunction(vec3 point) {\n  vec3 scaled = czm_ellipsoidInverseRadii * point;\n  return dot(scaled, scaled) - 1.0;\n}\n\nvoid main() {\n  vec3 sensorVertexWC = czm_model[3].xyz;      // (0.0, 0.0, 0.0) in model coordinates\n\n  float positionX = v_position.x;\n  float positionY = v_position.y;\n  float positionZ = v_position.z;\n\n  vec3 zDir = vec3(0.0, 0.0, 1.0);\n  vec3 lineX = vec3(positionX, 0, positionZ);\n  vec3 lineY = vec3(0, positionY, positionZ);\n  float resX = dot(normalize(lineX), zDir);\n  if(resX < cos(u_xHalfAngle) - 0.00001) {\n    discard;\n  }\n  float resY = dot(normalize(lineY), zDir);\n  if(resY < cos(u_yHalfAngle) - 0.00001) {\n    discard;\n  }\n\n  float ellipsoidValue = ellipsoidSurfaceFunction(v_positionWC);\n  if(!u_showThroughEllipsoid) {\n    if(ellipsoidValue < 0.0) {\n      discard;\n    }\n    if(inSensorShadow(sensorVertexWC, v_positionWC)) {\n      discard;\n    }\n  }\n\n  bool isOnEllipsoid = isOnBoundary(ellipsoidValue, czm_epsilon3);\n  out_FragColor = shade(isOnEllipsoid);\n}\n";
  var RectangularSensor$1 = "uniform vec4 u_intersectionColor;\nuniform float u_intersectionWidth;\nuniform vec4 u_lineColor;\n\nbool inSensorShadow(vec3 coneVertexWC, vec3 pointWC) {\n    // Diagonal matrix from the unscaled ellipsoid space to the scaled space.\n  vec3 D = czm_ellipsoidInverseRadii;\n\n    // Sensor vertex in the scaled ellipsoid space\n  vec3 q = D * coneVertexWC;\n  float qMagnitudeSquared = dot(q, q);\n  float test = qMagnitudeSquared - 1.0;\n\n    // Sensor vertex to fragment vector in the ellipsoid's scaled space\n  vec3 temp = D * pointWC - q;\n  float d = dot(temp, q);\n\n    // Behind silhouette plane and inside silhouette cone\n  return (d < -test) && (d / length(temp) < -sqrt(test));\n}\n\n\nvec4 getLineColor() {\n  return u_lineColor;\n}\n\nvec4 getIntersectionColor() {\n  return u_intersectionColor;\n}\n\nfloat getIntersectionWidth() {\n  return u_intersectionWidth;\n}\n\nvec2 sensor2dTextureCoordinates(float sensorRadius, vec3 pointMC) {\n    // (s, t) both in the range [0, 1]\n  float t = pointMC.z / sensorRadius;\n  float s = 1.0 + (atan(pointMC.y, pointMC.x) / czm_twoPi);\n  s = s - floor(s);\n\n  return vec2(s, t);\n}\n";
  var RectangularSensorScanPlaneFS = "\nuniform bool u_showIntersection;\nuniform bool u_showThroughEllipsoid;\n\nuniform float u_radius;\nuniform float u_xHalfAngle;\nuniform float u_yHalfAngle;\nuniform float u_normalDirection;\nuniform vec4 u_color;\n\nin vec3 v_position;\nin vec3 v_positionWC;\nin vec3 v_positionEC;\nin vec3 v_normalEC;\n\nvec4 getColor(float sensorRadius, vec3 pointEC) {\n  czm_materialInput materialInput;\n\n  vec3 pointMC = (czm_inverseModelView * vec4(pointEC, 1.0)).xyz;\n  materialInput.st = sensor2dTextureCoordinates(sensorRadius, pointMC);\n  materialInput.str = pointMC / sensorRadius;\n\n  vec3 positionToEyeEC = -v_positionEC;\n  materialInput.positionToEyeEC = positionToEyeEC;\n\n  vec3 normalEC = normalize(v_normalEC);\n  materialInput.normalEC = u_normalDirection * normalEC;\n\n  czm_material material = czm_getMaterial(materialInput);\n\n  material.diffuse = u_color.rgb;\n  material.alpha = u_color.a;\n    // czm_lightDirectionEC在cesium1.66开始加入的\n  return mix(czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC), vec4(material.diffuse, material.alpha), 0.4);\n\n}\n\nbool isOnBoundary(float value, float epsilon) {\n  float width = getIntersectionWidth();\n  float tolerance = width * epsilon;\n\n  float delta = max(abs(dFdx(value)), abs(dFdy(value)));\n  float pixels = width * delta;\n  float temp = abs(value);\n  return temp < tolerance && temp < pixels || (delta < 10.0 * tolerance && temp - delta < tolerance && temp < pixels);\n}\n\nvec4 shade(bool isOnBoundary) {\n  if(u_showIntersection && isOnBoundary) {\n    return getIntersectionColor();\n  }\n  return getColor(u_radius, v_positionEC);\n}\n\nfloat ellipsoidSurfaceFunction(vec3 point) {\n  vec3 scaled = czm_ellipsoidInverseRadii * point;\n  return dot(scaled, scaled) - 1.0;\n}\n\nvoid main() {\n  vec3 sensorVertexWC = czm_model[3].xyz;      // (0.0, 0.0, 0.0) in model coordinates\n\n  float positionX = v_position.x;\n  float positionY = v_position.y;\n  float positionZ = v_position.z;\n\n  vec3 zDir = vec3(0.0, 0.0, 1.0);\n  vec3 lineX = vec3(positionX, 0, positionZ);\n  vec3 lineY = vec3(0, positionY, positionZ);\n  float resX = dot(normalize(lineX), zDir);\n  if(resX < cos(u_xHalfAngle) - 0.0001) {\n    discard;\n  }\n  float resY = dot(normalize(lineY), zDir);\n  if(resY < cos(u_yHalfAngle) - 0.0001) {\n    discard;\n  }\n\n  float ellipsoidValue = ellipsoidSurfaceFunction(v_positionWC);\n\n  if(!u_showThroughEllipsoid) {\n    if(ellipsoidValue < 0.0) {\n      discard;\n    }\n    if(inSensorShadow(sensorVertexWC, v_positionWC)) {\n      discard;\n    }\n  }\n  bool isOnEllipsoid = isOnBoundary(ellipsoidValue, czm_epsilon3);\n  out_FragColor = shade(isOnEllipsoid);\n}\n";
  const BoundingSphere$1 = Cesium__namespace.BoundingSphere;
  const Cartesian3$4 = Cesium__namespace.Cartesian3;
  const Color$1 = Cesium__namespace.Color;
  const combine$1 = Cesium__namespace.combine;
  const ComponentDatatype$1 = Cesium__namespace.ComponentDatatype;
  const defined$4 = Cesium__namespace.defined;
  const DeveloperError$1 = Cesium__namespace.DeveloperError;
  const Matrix4$2 = Cesium__namespace.Matrix4;
  const PrimitiveType$1 = Cesium__namespace.PrimitiveType;
  const Buffer = Cesium__namespace.Buffer;
  const BufferUsage = Cesium__namespace.BufferUsage;
  const DrawCommand = Cesium__namespace.DrawCommand;
  const Pass = Cesium__namespace.Pass;
  const RenderState = Cesium__namespace.RenderState;
  const ShaderProgram = Cesium__namespace.ShaderProgram;
  const ShaderSource = Cesium__namespace.ShaderSource;
  const VertexArray = Cesium__namespace.VertexArray;
  const BlendingState = Cesium__namespace.BlendingState;
  const CullFace = Cesium__namespace.CullFace;
  const Material = Cesium__namespace.Material;
  const SceneMode$1 = Cesium__namespace.SceneMode;
  const VertexFormat$1 = Cesium__namespace.VertexFormat;
  const CesiumMath$2 = Cesium__namespace.Math;
  const Matrix3$2 = Cesium__namespace.Matrix3;
  const JulianDate = Cesium__namespace.JulianDate;
  const sin = Math.sin;
  const cos = Math.cos;
  const tan = Math.tan;
  const atan = Math.atan;
  const attributeLocations = {
    position: 0,
    normal: 1
  };
  function RectangularSensorPrimitive(_0x12af0f = {}) {
    const _0x561780 = this;
    this.show = _0x12af0f.show ?? true;
    this.slice = _0x12af0f.slice ?? 32;
    this.modelMatrix = Matrix4$2.clone(_0x12af0f.modelMatrix, new Matrix4$2());
    this._modelMatrix = new Matrix4$2();
    this._computedModelMatrix = new Matrix4$2();
    this._computedScanPlaneModelMatrix = new Matrix4$2();
    this.radius = _0x12af0f.radius ?? Number.POSITIVE_INFINITY;
    this._radius = undefined;
    this.xHalfAngle = _0x12af0f.xHalfAngle ?? 0;
    this._xHalfAngle = undefined;
    this.yHalfAngle = _0x12af0f.yHalfAngle ?? 0;
    this._yHalfAngle = undefined;
    this.lineColor = _0x12af0f.lineColor ?? Color$1.WHITE;
    this.showSectorLines = _0x12af0f.showSectorLines ?? true;
    this.showSectorSegmentLines = _0x12af0f.showSectorSegmentLines ?? true;
    this.showLateralSurfaces = _0x12af0f.showLateralSurfaces ?? true;
    this.material = defined$4(_0x12af0f.material) ? _0x12af0f.material : Material.fromType(Material.ColorType);
    this._material = undefined;
    this._translucent = undefined;
    this.lateralSurfaceMaterial = defined$4(_0x12af0f.lateralSurfaceMaterial) ? _0x12af0f.lateralSurfaceMaterial : Material.fromType(Material.ColorType);
    this._lateralSurfaceMaterial = undefined;
    this._lateralSurfaceTranslucent = undefined;
    this.showDomeSurfaces = _0x12af0f.showDomeSurfaces ?? true;
    this.domeSurfaceMaterial = defined$4(_0x12af0f.domeSurfaceMaterial) ? _0x12af0f.domeSurfaceMaterial : Material.fromType(Material.ColorType);
    this._domeSurfaceMaterial = undefined;
    this.showDomeLines = _0x12af0f.showDomeLines ?? true;
    this.showIntersection = _0x12af0f.showIntersection ?? true;
    this.intersectionColor = _0x12af0f.intersectionColor ?? Color$1.WHITE;
    this.intersectionWidth = _0x12af0f.intersectionWidth ?? 5;
    this.showThroughEllipsoid = _0x12af0f.showThroughEllipsoid ?? false;
    this._showThroughEllipsoid = undefined;
    this.showScanPlane = _0x12af0f.showScanPlane ?? true;
    this.scanPlaneColor = _0x12af0f.scanPlaneColor ?? Color$1.WHITE;
    this.scanPlaneMode = _0x12af0f.scanPlaneMode ?? "horizontal";
    this.scanPlaneRate = _0x12af0f.scanPlaneRate ?? 10;
    this._scanePlaneXHalfAngle = 0;
    this._scanePlaneYHalfAngle = 0;
    this._time = JulianDate.now();
    this._boundingSphere = new BoundingSphere$1();
    this._boundingSphereWC = new BoundingSphere$1();
    this._sectorFrontCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.TRIANGLES,
      boundingVolume: this._boundingSphereWC
    });
    this._sectorBackCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.TRIANGLES,
      boundingVolume: this._boundingSphereWC
    });
    this._sectorVA = undefined;
    this._sectorLineCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.LINES,
      boundingVolume: this._boundingSphereWC
    });
    this._sectorLineVA = undefined;
    this._sectorSegmentLineCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.LINES,
      boundingVolume: this._boundingSphereWC
    });
    this._sectorSegmentLineVA = undefined;
    this._domeFrontCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.TRIANGLES,
      boundingVolume: this._boundingSphereWC
    });
    this._domeBackCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.TRIANGLES,
      boundingVolume: this._boundingSphereWC
    });
    this._domeVA = undefined;
    this._domeLineCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.LINES,
      boundingVolume: this._boundingSphereWC
    });
    this._domeLineVA = undefined;
    this._scanPlaneFrontCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.TRIANGLES,
      boundingVolume: this._boundingSphereWC
    });
    this._scanPlaneBackCommand = new DrawCommand({
      owner: this,
      primitiveType: PrimitiveType$1.TRIANGLES,
      boundingVolume: this._boundingSphereWC
    });
    this._scanRadialCommand = undefined;
    this._colorCommands = [];
    this._frontFaceRS = undefined;
    this._backFaceRS = undefined;
    this._sp = undefined;
    const _0x182c6f = {
      u_type: function () {
        return 0;
      },
      u_xHalfAngle: function () {
        return _0x561780.xHalfAngle;
      },
      u_yHalfAngle: function () {
        return _0x561780.yHalfAngle;
      },
      u_radius: function () {
        return _0x561780.radius;
      },
      u_showThroughEllipsoid: function () {
        return _0x561780.showThroughEllipsoid;
      },
      u_showIntersection: function () {
        return _0x561780.showIntersection;
      },
      u_intersectionColor: function () {
        return _0x561780.intersectionColor;
      },
      u_intersectionWidth: function () {
        return _0x561780.intersectionWidth;
      },
      u_normalDirection: function () {
        return 1;
      },
      u_lineColor: function () {
        return _0x561780.lineColor;
      }
    };
    this._uniforms = _0x182c6f;
    const _0x293ee1 = {
      u_xHalfAngle: function () {
        return _0x561780._scanePlaneXHalfAngle;
      },
      u_yHalfAngle: function () {
        return _0x561780._scanePlaneYHalfAngle;
      },
      u_radius: function () {
        return _0x561780.radius;
      },
      u_color: function () {
        return _0x561780.scanPlaneColor;
      },
      u_showThroughEllipsoid: function () {
        return _0x561780.showThroughEllipsoid;
      },
      u_showIntersection: function () {
        return _0x561780.showIntersection;
      },
      u_intersectionColor: function () {
        return _0x561780.intersectionColor;
      },
      u_intersectionWidth: function () {
        return _0x561780.intersectionWidth;
      },
      u_normalDirection: function () {
        return 1;
      },
      u_lineColor: function () {
        return _0x561780.lineColor;
      }
    };
    this._scanUniforms = _0x293ee1;
  }
  RectangularSensorPrimitive.prototype.update = function (_0x1ac53f) {
    const _0x505037 = _0x1ac53f.mode;
    if (!this.show || _0x505037 !== SceneMode$1.SCENE3D) {
      return;
    }
    let _0x1b2f50 = false;
    let _0xa6c15a = false;
    let _0x7892bd = false;
    const _0x1778b0 = this.xHalfAngle;
    const _0x5d0290 = this.yHalfAngle;
    if (_0x1778b0 < 0 || _0x5d0290 < 0) {
      throw new DeveloperError$1("halfAngle must be greater than or equal to zero.");
    }
    if (_0x1778b0 === 0 || _0x5d0290 === 0) {
      return;
    }
    if (this._xHalfAngle !== _0x1778b0 || this._yHalfAngle !== _0x5d0290) {
      this._xHalfAngle = _0x1778b0;
      this._yHalfAngle = _0x5d0290;
      _0x1b2f50 = true;
    }
    const _0x15e858 = this.radius;
    if (_0x15e858 < 0) {
      throw new DeveloperError$1("this.radius must be greater than or equal to zero.");
    }
    let _0x24bf90 = false;
    if (this._radius !== _0x15e858) {
      _0x24bf90 = true;
      this._radius = _0x15e858;
      this._boundingSphere = new BoundingSphere$1(Cartesian3$4.ZERO, this.radius);
    }
    const _0x3345a0 = !Matrix4$2.equals(this.modelMatrix, this._modelMatrix);
    if (_0x3345a0 || _0x24bf90) {
      Matrix4$2.clone(this.modelMatrix, this._modelMatrix);
      Matrix4$2.multiplyByUniformScale(this.modelMatrix, this.radius, this._computedModelMatrix);
      BoundingSphere$1.transform(this._boundingSphere, this.modelMatrix, this._boundingSphereWC);
    }
    const _0x27ed94 = this.showThroughEllipsoid;
    if (this._showThroughEllipsoid !== this.showThroughEllipsoid) {
      this._showThroughEllipsoid = _0x27ed94;
      _0xa6c15a = true;
    }
    const _0x82aaec = this.material;
    if (this._material !== _0x82aaec) {
      this._material = _0x82aaec;
      _0xa6c15a = true;
      _0x7892bd = true;
    }
    const _0x476bc2 = _0x82aaec.isTranslucent();
    if (this._translucent !== _0x476bc2) {
      this._translucent = _0x476bc2;
      _0xa6c15a = true;
    }
    if (this.showScanPlane) {
      const _0x191f04 = _0x1ac53f.time;
      const _0x461998 = JulianDate.secondsDifference(_0x191f04, this._time);
      if (_0x461998 < 0) {
        this._time = JulianDate.clone(_0x191f04, this._time);
      }
      const _0x3d6a9c = Math.max(_0x461998 % this.scanPlaneRate / this.scanPlaneRate, 0);
      let _0x67c845;
      const _0x117939 = new Matrix3$2();
      if (this.scanPlaneMode === "horizontal") {
        _0x67c845 = _0x5d0290 * 2 * _0x3d6a9c - _0x5d0290;
        const _0x533d9f = cos(_0x67c845);
        const _0x224327 = tan(_0x1778b0);
        const _0x578113 = atan(_0x533d9f * _0x224327);
        this._scanePlaneXHalfAngle = _0x578113;
        this._scanePlaneYHalfAngle = _0x67c845;
        Cesium__namespace.Matrix3.fromRotationX(this._scanePlaneYHalfAngle, _0x117939);
      } else {
        _0x67c845 = _0x1778b0 * 2 * _0x3d6a9c - _0x1778b0;
        const _0x2cb7db = tan(_0x5d0290);
        const _0x23a94d = cos(_0x67c845);
        const _0x588518 = atan(_0x23a94d * _0x2cb7db);
        this._scanePlaneXHalfAngle = _0x67c845;
        this._scanePlaneYHalfAngle = _0x588518;
        Cesium__namespace.Matrix3.fromRotationY(this._scanePlaneXHalfAngle, _0x117939);
      }
      Cesium__namespace.Matrix4.multiplyByMatrix3(this.modelMatrix, _0x117939, this._computedScanPlaneModelMatrix);
      Matrix4$2.multiplyByUniformScale(this._computedScanPlaneModelMatrix, this.radius, this._computedScanPlaneModelMatrix);
    }
    if (_0x1b2f50) {
      createVertexArray(this, _0x1ac53f);
    }
    if (_0xa6c15a) {
      createRenderState(this, _0x27ed94, _0x476bc2);
    }
    if (_0x7892bd) {
      createShaderProgram(this, _0x1ac53f, _0x82aaec);
    }
    if (_0xa6c15a || _0x7892bd) {
      createCommands(this, _0x476bc2);
    }
    const _0x448dfd = _0x1ac53f.commandList;
    const _0x4c585d = _0x1ac53f.passes;
    const _0x9531dd = this._colorCommands;
    if (_0x4c585d.render) {
      for (let _0x35a4ab = 0, _0x483308 = _0x9531dd.length; _0x35a4ab < _0x483308; _0x35a4ab++) {
        const _0x2cd5db = _0x9531dd[_0x35a4ab];
        _0x448dfd.push(_0x2cd5db);
      }
    }
  };
  RectangularSensorPrimitive.prototype.isDestroyed = function () {
    return false;
  };
  const nScratch = new Cartesian3$4();
  function computeUnitPosiiton(_0x207664, _0xb27fa5, _0x5939c4) {
    const _0x201647 = _0x207664.slice;
    const _0x46700f = cos(_0x5939c4);
    const _0x55c182 = tan(_0x5939c4);
    const _0x22b466 = cos(_0xb27fa5);
    const _0x53f82f = tan(_0xb27fa5);
    const _0x421fab = atan(_0x22b466 * _0x55c182);
    const _0xf88b5 = atan(_0x46700f * _0x53f82f);
    const _0x53204e = [];
    for (let _0x20ef68 = 0; _0x20ef68 < _0x201647; _0x20ef68++) {
      const _0xbd9c5f = _0x421fab * 2 * _0x20ef68 / (_0x201647 - 1) - _0x421fab;
      _0x53204e.push(new Cartesian3$4(0, sin(_0xbd9c5f), cos(_0xbd9c5f)));
    }
    const _0x527a19 = [];
    for (let _0x12d6b2 = 0; _0x12d6b2 < _0x201647; _0x12d6b2++) {
      const _0x185829 = _0xf88b5 * 2 * _0x12d6b2 / (_0x201647 - 1) - _0xf88b5;
      _0x527a19.push(new Cartesian3$4(sin(_0x185829), 0, cos(_0x185829)));
    }
    const _0x50d0e1 = {
      zoy: _0x53204e,
      zox: _0x527a19
    };
    return _0x50d0e1;
  }
  function computeSectorPositions(_0x36c175, _0x13ef8c) {
    const _0x11594d = _0x36c175.xHalfAngle;
    const _0x465b83 = _0x36c175.yHalfAngle;
    const _0x25b700 = _0x13ef8c.zoy;
    const _0xd0f14d = _0x13ef8c.zox;
    const _0x53637a = [];
    const _0x9bf031 = new Matrix3$2();
    let _0x311984 = Matrix3$2.fromRotationY(_0x11594d, _0x9bf031);
    _0x53637a.push(_0x25b700.map(function (_0x52ec45) {
      return Matrix3$2.multiplyByVector(_0x311984, _0x52ec45, new Cesium__namespace.Cartesian3());
    }));
    _0x311984 = Matrix3$2.fromRotationX(-_0x465b83, _0x9bf031);
    _0x53637a.push(_0xd0f14d.map(function (_0x21ca0a) {
      return Matrix3$2.multiplyByVector(_0x311984, _0x21ca0a, new Cesium__namespace.Cartesian3());
    }).reverse());
    _0x311984 = Matrix3$2.fromRotationY(-_0x11594d, _0x9bf031);
    _0x53637a.push(_0x25b700.map(function (_0x1b929c) {
      return Matrix3$2.multiplyByVector(_0x311984, _0x1b929c, new Cesium__namespace.Cartesian3());
    }).reverse());
    _0x311984 = Matrix3$2.fromRotationX(_0x465b83, _0x9bf031);
    _0x53637a.push(_0xd0f14d.map(function (_0x146ba4) {
      return Matrix3$2.multiplyByVector(_0x311984, _0x146ba4, new Cesium__namespace.Cartesian3());
    }));
    return _0x53637a;
  }
  function createSectorVertexArray(_0xaa4818, _0x1f9e47) {
    const _0x5bf798 = Array.prototype.concat.apply([], _0x1f9e47).length - _0x1f9e47.length;
    const _0x3b7b08 = new Float32Array(_0x5bf798 * 18);
    let _0x2ecc95 = 0;
    for (let _0x15138c = 0, _0x492d7a = _0x1f9e47.length; _0x15138c < _0x492d7a; _0x15138c++) {
      const _0x3c4631 = _0x1f9e47[_0x15138c];
      const _0x3ea984 = Cartesian3$4.normalize(Cartesian3$4.cross(_0x3c4631[0], _0x3c4631[_0x3c4631.length - 1], nScratch), nScratch);
      for (let _0x13755c = 0, _0x19b4ab = _0x3c4631.length - 1; _0x13755c < _0x19b4ab; _0x13755c++) {
        _0x3b7b08[_0x2ecc95++] = 0;
        _0x3b7b08[_0x2ecc95++] = 0;
        _0x3b7b08[_0x2ecc95++] = 0;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.x;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.y;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.z;
        _0x3b7b08[_0x2ecc95++] = _0x3c4631[_0x13755c].x;
        _0x3b7b08[_0x2ecc95++] = _0x3c4631[_0x13755c].y;
        _0x3b7b08[_0x2ecc95++] = _0x3c4631[_0x13755c].z;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.x;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.y;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.z;
        _0x3b7b08[_0x2ecc95++] = _0x3c4631[_0x13755c + 1].x;
        _0x3b7b08[_0x2ecc95++] = _0x3c4631[_0x13755c + 1].y;
        _0x3b7b08[_0x2ecc95++] = _0x3c4631[_0x13755c + 1].z;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.x;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.y;
        _0x3b7b08[_0x2ecc95++] = -_0x3ea984.z;
      }
    }
    const _0x577050 = {
      context: _0xaa4818,
      typedArray: _0x3b7b08,
      usage: BufferUsage.STATIC_DRAW
    };
    const _0x3ba90d = Buffer.createVertexBuffer(_0x577050);
    const _0x4d740c = Float32Array.BYTES_PER_ELEMENT * 6;
    const _0x530cca = {
      index: attributeLocations.position,
      vertexBuffer: _0x3ba90d,
      componentsPerAttribute: 3,
      componentDatatype: ComponentDatatype$1.FLOAT,
      offsetInBytes: 0,
      strideInBytes: _0x4d740c
    };
    const _0x2aaf16 = {
      index: attributeLocations.normal,
      vertexBuffer: _0x3ba90d,
      componentsPerAttribute: 3,
      componentDatatype: ComponentDatatype$1.FLOAT,
      offsetInBytes: Float32Array.BYTES_PER_ELEMENT * 3,
      strideInBytes: _0x4d740c
    };
    const _0x43cada = [_0x530cca, _0x2aaf16];
    const _0x1cf6df = {
      context: _0xaa4818,
      attributes: _0x43cada
    };
    return new VertexArray(_0x1cf6df);
  }
  function createSectorLineVertexArray(_0x246b4c, _0x370537) {
    const _0xaab238 = _0x370537.length;
    const _0x995c30 = new Float32Array(_0xaab238 * 9);
    let _0x2b0994 = 0;
    for (let _0x421f09 = 0, _0x29e97b = _0x370537.length; _0x421f09 < _0x29e97b; _0x421f09++) {
      const _0x17103b = _0x370537[_0x421f09];
      _0x995c30[_0x2b0994++] = 0;
      _0x995c30[_0x2b0994++] = 0;
      _0x995c30[_0x2b0994++] = 0;
      _0x995c30[_0x2b0994++] = _0x17103b[0].x;
      _0x995c30[_0x2b0994++] = _0x17103b[0].y;
      _0x995c30[_0x2b0994++] = _0x17103b[0].z;
    }
    const _0x435b3e = {
      context: _0x246b4c,
      typedArray: _0x995c30,
      usage: BufferUsage.STATIC_DRAW
    };
    const _0x256f67 = Buffer.createVertexBuffer(_0x435b3e);
    const _0x3f897c = Float32Array.BYTES_PER_ELEMENT * 3;
    const _0x4470e3 = {
      index: attributeLocations.position,
      vertexBuffer: _0x256f67,
      componentsPerAttribute: 3,
      componentDatatype: ComponentDatatype$1.FLOAT,
      offsetInBytes: 0,
      strideInBytes: _0x3f897c
    };
    const _0x381406 = [_0x4470e3];
    const _0x6627fd = {
      context: _0x246b4c,
      attributes: _0x381406
    };
    return new VertexArray(_0x6627fd);
  }
  function createSectorSegmentLineVertexArray(_0x32f932, _0x36599b) {
    const _0x278c50 = Array.prototype.concat.apply([], _0x36599b).length - _0x36599b.length;
    const _0x543fe5 = new Float32Array(_0x278c50 * 9);
    let _0x3a1b24 = 0;
    for (let _0x6e6548 = 0, _0x454188 = _0x36599b.length; _0x6e6548 < _0x454188; _0x6e6548++) {
      const _0x6118d9 = _0x36599b[_0x6e6548];
      for (let _0x540999 = 0, _0x70a523 = _0x6118d9.length - 1; _0x540999 < _0x70a523; _0x540999++) {
        _0x543fe5[_0x3a1b24++] = _0x6118d9[_0x540999].x;
        _0x543fe5[_0x3a1b24++] = _0x6118d9[_0x540999].y;
        _0x543fe5[_0x3a1b24++] = _0x6118d9[_0x540999].z;
        _0x543fe5[_0x3a1b24++] = _0x6118d9[_0x540999 + 1].x;
        _0x543fe5[_0x3a1b24++] = _0x6118d9[_0x540999 + 1].y;
        _0x543fe5[_0x3a1b24++] = _0x6118d9[_0x540999 + 1].z;
      }
    }
    const _0x2edb5f = {
      context: _0x32f932,
      typedArray: _0x543fe5,
      usage: BufferUsage.STATIC_DRAW
    };
    const _0x4590a8 = Buffer.createVertexBuffer(_0x2edb5f);
    const _0x2646cc = Float32Array.BYTES_PER_ELEMENT * 3;
    const _0x279080 = {
      index: attributeLocations.position,
      vertexBuffer: _0x4590a8,
      componentsPerAttribute: 3,
      componentDatatype: ComponentDatatype$1.FLOAT,
      offsetInBytes: 0,
      strideInBytes: _0x2646cc
    };
    const _0x748191 = [_0x279080];
    const _0x3ccc39 = {
      context: _0x32f932,
      attributes: _0x748191
    };
    return new VertexArray(_0x3ccc39);
  }
  function createDomeVertexArray(_0x5ef6e5) {
    const _0x153d83 = {
      vertexFormat: VertexFormat$1.POSITION_ONLY,
      stackPartitions: 32,
      slicePartitions: 32
    };
    const _0x1ceece = Cesium__namespace.EllipsoidGeometry.createGeometry(new Cesium__namespace.EllipsoidGeometry(_0x153d83));
    const _0x5717af = {
      context: _0x5ef6e5,
      geometry: _0x1ceece,
      attributeLocations: attributeLocations,
      bufferUsage: BufferUsage.STATIC_DRAW,
      interleave: false
    };
    const _0x31737a = VertexArray.fromGeometry(_0x5717af);
    return _0x31737a;
  }
  function createDomeLineVertexArray(_0xb0722b) {
    const _0x126025 = {
      vertexFormat: VertexFormat$1.POSITION_ONLY,
      stackPartitions: 32,
      slicePartitions: 32
    };
    const _0x1a6f59 = Cesium__namespace.EllipsoidOutlineGeometry.createGeometry(new Cesium__namespace.EllipsoidOutlineGeometry(_0x126025));
    const _0x45b1d2 = {
      context: _0xb0722b,
      geometry: _0x1a6f59,
      attributeLocations: attributeLocations,
      bufferUsage: BufferUsage.STATIC_DRAW,
      interleave: false
    };
    const _0x947f22 = VertexArray.fromGeometry(_0x45b1d2);
    return _0x947f22;
  }
  function createScanPlaneVertexArray(_0x30afa0, _0x30309b) {
    const _0x45c2b0 = _0x30309b.length - 1;
    const _0x460a59 = new Float32Array(_0x45c2b0 * 9);
    let _0x253fa4 = 0;
    for (let _0x43ba3d = 0; _0x43ba3d < _0x45c2b0; _0x43ba3d++) {
      _0x460a59[_0x253fa4++] = 0;
      _0x460a59[_0x253fa4++] = 0;
      _0x460a59[_0x253fa4++] = 0;
      _0x460a59[_0x253fa4++] = _0x30309b[_0x43ba3d].x;
      _0x460a59[_0x253fa4++] = _0x30309b[_0x43ba3d].y;
      _0x460a59[_0x253fa4++] = _0x30309b[_0x43ba3d].z;
      _0x460a59[_0x253fa4++] = _0x30309b[_0x43ba3d + 1].x;
      _0x460a59[_0x253fa4++] = _0x30309b[_0x43ba3d + 1].y;
      _0x460a59[_0x253fa4++] = _0x30309b[_0x43ba3d + 1].z;
    }
    const _0xd4eb93 = {
      context: _0x30afa0,
      typedArray: _0x460a59,
      usage: BufferUsage.STATIC_DRAW
    };
    const _0x4cb05c = Buffer.createVertexBuffer(_0xd4eb93);
    const _0x5610b0 = Float32Array.BYTES_PER_ELEMENT * 3;
    const _0x462b75 = {
      index: attributeLocations.position,
      vertexBuffer: _0x4cb05c,
      componentsPerAttribute: 3,
      componentDatatype: ComponentDatatype$1.FLOAT,
      offsetInBytes: 0,
      strideInBytes: _0x5610b0
    };
    const _0x1daf16 = [_0x462b75];
    const _0x46b2c5 = {
      context: _0x30afa0,
      attributes: _0x1daf16
    };
    return new VertexArray(_0x46b2c5);
  }
  function createVertexArray(_0x129c13, _0x363fa3) {
    const _0x3f379f = _0x363fa3.context;
    const _0x3c85f8 = computeUnitPosiiton(_0x129c13, _0x129c13.xHalfAngle, _0x129c13.yHalfAngle);
    const _0x4d4f40 = computeSectorPositions(_0x129c13, _0x3c85f8);
    if (_0x129c13.showLateralSurfaces) {
      _0x129c13._sectorVA = createSectorVertexArray(_0x3f379f, _0x4d4f40);
    }
    if (_0x129c13.showSectorLines) {
      _0x129c13._sectorLineVA = createSectorLineVertexArray(_0x3f379f, _0x4d4f40);
    }
    if (_0x129c13.showSectorSegmentLines) {
      _0x129c13._sectorSegmentLineVA = createSectorSegmentLineVertexArray(_0x3f379f, _0x4d4f40);
    }
    if (_0x129c13.showDomeSurfaces) {
      _0x129c13._domeVA = createDomeVertexArray(_0x3f379f);
    }
    if (_0x129c13.showDomeLines) {
      _0x129c13._domeLineVA = createDomeLineVertexArray(_0x3f379f);
    }
    if (_0x129c13.showScanPlane) {
      if (_0x129c13.scanPlaneMode === "horizontal") {
        const _0x18f255 = computeUnitPosiiton(_0x129c13, CesiumMath$2.PI_OVER_TWO, 0);
        _0x129c13._scanPlaneVA = createScanPlaneVertexArray(_0x3f379f, _0x18f255.zox);
      } else {
        const _0x4def69 = computeUnitPosiiton(_0x129c13, 0, CesiumMath$2.PI_OVER_TWO);
        _0x129c13._scanPlaneVA = createScanPlaneVertexArray(_0x3f379f, _0x4def69.zoy);
      }
    }
  }
  function createCommonShaderProgram(_0x5bbac3, _0x549ff0, _0x111329) {
    const _0x11d51e = _0x549ff0.context;
    const _0x5e313c = RectangularSensorVS;
    const _0x2efc5c = {
      sources: [RectangularSensor$1, _0x111329.shaderSource, RectangularSensorFS]
    };
    const _0x25d65d = new ShaderSource(_0x2efc5c);
    _0x5bbac3._sp = ShaderProgram.replaceCache({
      context: _0x11d51e,
      shaderProgram: _0x5bbac3._sp,
      vertexShaderSource: _0x5e313c,
      fragmentShaderSource: _0x25d65d,
      attributeLocations: attributeLocations
    });
    const _0x19fc51 = {
      sources: [RectangularSensor$1, _0x111329.shaderSource, RectangularSensorFS],
      pickColorQualifier: "uniform"
    };
    const _0x549e86 = new ShaderSource(_0x19fc51);
    _0x5bbac3._pickSP = ShaderProgram.replaceCache({
      context: _0x11d51e,
      shaderProgram: _0x5bbac3._pickSP,
      vertexShaderSource: _0x5e313c,
      fragmentShaderSource: _0x549e86,
      attributeLocations: attributeLocations
    });
  }
  function createScanPlaneShaderProgram(_0x592356, _0x351347, _0x113f06) {
    const _0xf18d66 = _0x351347.context;
    const _0x53b0f1 = RectangularSensorVS;
    const _0x106293 = {
      sources: [RectangularSensor$1, _0x113f06.shaderSource, RectangularSensorScanPlaneFS]
    };
    const _0x2cd419 = new ShaderSource(_0x106293);
    _0x592356._scanePlaneSP = ShaderProgram.replaceCache({
      context: _0xf18d66,
      shaderProgram: _0x592356._scanePlaneSP,
      vertexShaderSource: _0x53b0f1,
      fragmentShaderSource: _0x2cd419,
      attributeLocations: attributeLocations
    });
  }
  function createShaderProgram(_0x18be5a, _0x4b0cef, _0x5e109d) {
    createCommonShaderProgram(_0x18be5a, _0x4b0cef, _0x5e109d);
    if (_0x18be5a.showScanPlane) {
      createScanPlaneShaderProgram(_0x18be5a, _0x4b0cef, _0x5e109d);
    }
  }
  function createRenderState(_0x2bc96c, _0x32edd1, _0x202ca5) {
    if (_0x202ca5) {
      const _0x1feeaf = {
        enabled: !_0x32edd1
      };
      const _0x444aca = {
        enabled: true,
        face: CullFace.BACK
      };
      const _0x2dfd7b = {
        depthTest: _0x1feeaf,
        depthMask: false,
        blending: BlendingState.ALPHA_BLEND,
        cull: _0x444aca
      };
      _0x2bc96c._frontFaceRS = RenderState.fromCache(_0x2dfd7b);
      const _0x48fbae = {
        enabled: !_0x32edd1
      };
      const _0xd4a09c = {
        enabled: true,
        face: CullFace.FRONT
      };
      const _0x32bdf2 = {
        depthTest: _0x48fbae,
        depthMask: false,
        blending: BlendingState.ALPHA_BLEND,
        cull: _0xd4a09c
      };
      _0x2bc96c._backFaceRS = RenderState.fromCache(_0x32bdf2);
      const _0x3755b8 = {
        enabled: !_0x32edd1
      };
      const _0x23a7da = {
        depthTest: _0x3755b8,
        depthMask: false,
        blending: BlendingState.ALPHA_BLEND
      };
      _0x2bc96c._pickRS = RenderState.fromCache(_0x23a7da);
    } else {
      const _0x48e486 = {
        enabled: !_0x32edd1
      };
      const _0x4fc0c4 = {
        depthTest: _0x48e486,
        depthMask: true
      };
      _0x2bc96c._frontFaceRS = RenderState.fromCache(_0x4fc0c4);
      _0x2bc96c._pickRS = RenderState.fromCache({
        depthTest: {
          enabled: true
        },
        depthMask: true
      });
    }
  }
  function createCommand(_0x22bb5b, _0x5e377b, _0x192083, _0x1c0b63, _0x484793, _0x2929fa, _0x331e10, _0xf11522, _0x187784, _0x1dc078, _0x16d89c, _0x444327) {
    if (_0x1dc078 && _0x192083) {
      _0x192083.vertexArray = _0x331e10;
      _0x192083.renderState = _0x484793;
      _0x192083.shaderProgram = _0x2929fa;
      _0x192083.uniformMap = combine$1(_0xf11522, _0x22bb5b._material._uniforms);
      _0x192083.uniformMap.u_normalDirection = function () {
        return -1;
      };
      _0x192083.pass = _0x16d89c;
      _0x192083.modelMatrix = _0x187784;
      _0x22bb5b._colorCommands.push(_0x192083);
    }
    _0x5e377b.vertexArray = _0x331e10;
    _0x5e377b.renderState = _0x1c0b63;
    _0x5e377b.shaderProgram = _0x2929fa;
    _0x5e377b.uniformMap = combine$1(_0xf11522, _0x22bb5b._material._uniforms);
    if (_0x444327) {
      _0x5e377b.uniformMap.u_type = function () {
        return 1;
      };
    }
    _0x5e377b.pass = _0x16d89c;
    _0x5e377b.modelMatrix = _0x187784;
    _0x22bb5b._colorCommands.push(_0x5e377b);
  }
  function createCommands(_0x3d2e5a, _0x42749c) {
    _0x3d2e5a._colorCommands.length = 0;
    const _0x5d4801 = _0x42749c ? Pass.TRANSLUCENT : Pass.OPAQUE;
    if (_0x3d2e5a.showLateralSurfaces) {
      createCommand(_0x3d2e5a, _0x3d2e5a._sectorFrontCommand, _0x3d2e5a._sectorBackCommand, _0x3d2e5a._frontFaceRS, _0x3d2e5a._backFaceRS, _0x3d2e5a._sp, _0x3d2e5a._sectorVA, _0x3d2e5a._uniforms, _0x3d2e5a._computedModelMatrix, _0x42749c, _0x5d4801);
    }
    if (_0x3d2e5a.showSectorLines) {
      createCommand(_0x3d2e5a, _0x3d2e5a._sectorLineCommand, undefined, _0x3d2e5a._frontFaceRS, _0x3d2e5a._backFaceRS, _0x3d2e5a._sp, _0x3d2e5a._sectorLineVA, _0x3d2e5a._uniforms, _0x3d2e5a._computedModelMatrix, _0x42749c, _0x5d4801, true);
    }
    if (_0x3d2e5a.showSectorSegmentLines) {
      createCommand(_0x3d2e5a, _0x3d2e5a._sectorSegmentLineCommand, undefined, _0x3d2e5a._frontFaceRS, _0x3d2e5a._backFaceRS, _0x3d2e5a._sp, _0x3d2e5a._sectorSegmentLineVA, _0x3d2e5a._uniforms, _0x3d2e5a._computedModelMatrix, _0x42749c, _0x5d4801, true);
    }
    if (_0x3d2e5a.showDomeSurfaces) {
      createCommand(_0x3d2e5a, _0x3d2e5a._domeFrontCommand, _0x3d2e5a._domeBackCommand, _0x3d2e5a._frontFaceRS, _0x3d2e5a._backFaceRS, _0x3d2e5a._sp, _0x3d2e5a._domeVA, _0x3d2e5a._uniforms, _0x3d2e5a._computedModelMatrix, _0x42749c, _0x5d4801);
    }
    if (_0x3d2e5a.showDomeLines) {
      createCommand(_0x3d2e5a, _0x3d2e5a._domeLineCommand, undefined, _0x3d2e5a._frontFaceRS, _0x3d2e5a._backFaceRS, _0x3d2e5a._sp, _0x3d2e5a._domeLineVA, _0x3d2e5a._uniforms, _0x3d2e5a._computedModelMatrix, _0x42749c, _0x5d4801, true);
    }
    if (_0x3d2e5a.showScanPlane) {
      createCommand(_0x3d2e5a, _0x3d2e5a._scanPlaneFrontCommand, _0x3d2e5a._scanPlaneBackCommand, _0x3d2e5a._frontFaceRS, _0x3d2e5a._backFaceRS, _0x3d2e5a._scanePlaneSP, _0x3d2e5a._scanPlaneVA, _0x3d2e5a._scanUniforms, _0x3d2e5a._computedScanPlaneModelMatrix, _0x42749c, _0x5d4801);
    }
  }
  const AssociativeArray = Cesium__namespace.AssociativeArray;
  const Cartesian3$3 = Cesium__namespace.Cartesian3;
  const Color = Cesium__namespace.Color;
  const defined$3 = Cesium__namespace.defined;
  const DeveloperError = Cesium__namespace.DeveloperError;
  const Matrix3$1 = Cesium__namespace.Matrix3;
  const Matrix4$1 = Cesium__namespace.Matrix4;
  const Quaternion$1 = Cesium__namespace.Quaternion;
  const MaterialProperty = Cesium__namespace.MaterialProperty;
  const Property = Cesium__namespace.Property;
  const matrix3Scratch = new Matrix3$1();
  const cachedPosition = new Cartesian3$3();
  const cachedGazePosition = new Cartesian3$3();
  const cachedOrientation = new Quaternion$1();
  const diffVectorScratch = new Cartesian3$3();
  const orientationScratch = new Quaternion$1();
  function removePrimitive(_0x45d094, _0x49e4de, _0x58aae5) {
    const _0x20338f = _0x49e4de[_0x45d094.id];
    if (Cesium__namespace.defined(_0x20338f)) {
      const _0x79cd9a = _0x20338f.primitive;
      try {
        _0x58aae5.remove(_0x79cd9a);
      } catch (_0xaecd2a) {}
      if (_0x79cd9a.destroy && _0x79cd9a.isDestroyed && !_0x79cd9a.isDestroyed()) {
        _0x79cd9a.destroy();
      }
      delete _0x49e4de[_0x45d094.id];
    }
  }
  function RectangularSensorVisualizer(_0x310bf3, _0x15bacb) {
    if (!defined$3(_0x310bf3)) {
      throw new DeveloperError("scene is required.");
    }
    if (!defined$3(_0x15bacb)) {
      throw new DeveloperError("entityCollection is required.");
    }
    _0x15bacb.collectionChanged.addEventListener(RectangularSensorVisualizer.prototype._onCollectionChanged, this);
    this._scene = _0x310bf3;
    this._primitives = _0x310bf3.primitives;
    this._entityCollection = _0x15bacb;
    this._hash = {};
    this._entitiesToVisualize = new AssociativeArray();
    this._onCollectionChanged(_0x15bacb, _0x15bacb.values, [], []);
  }
  RectangularSensorVisualizer.prototype.update = function (_0x2bda1a) {
    if (!defined$3(_0x2bda1a)) {
      throw new DeveloperError("time is required.");
    }
    const _0x526d20 = this._entitiesToVisualize.values;
    const _0x48d7a5 = this._hash;
    const _0xbcd087 = this._primitives;
    let _0x825920;
    let _0x421eb0;
    let _0x4490dc;
    let _0x1f23c8;
    let _0x52f060;
    for (let _0x19b391 = 0, _0x4aaa0f = _0x526d20.length; _0x19b391 < _0x4aaa0f; _0x19b391++) {
      const _0x5967f3 = _0x526d20[_0x19b391];
      const _0x1082da = _0x5967f3._rectangularSensorMars;
      let _0xa52d89 = _0x48d7a5[_0x5967f3.id];
      let _0xeefb4 = _0x5967f3.isShowing && _0x5967f3.isAvailable(_0x2bda1a) && Property.getValueOrDefault(_0x1082da._show, _0x2bda1a, true);
      if (_0xeefb4) {
        _0x825920 = Property.getValueOrUndefined(_0x5967f3._position, _0x2bda1a, cachedPosition);
        _0x421eb0 = Property.getValueOrUndefined(_0x5967f3._orientation, _0x2bda1a, cachedOrientation);
        _0x4490dc = Property.getValueOrUndefined(_0x1082da._radius, _0x2bda1a);
        _0x1f23c8 = Property.getValueOrUndefined(_0x1082da._xHalfAngle, _0x2bda1a);
        _0x52f060 = Property.getValueOrUndefined(_0x1082da._yHalfAngle, _0x2bda1a);
        _0xeefb4 = defined$3(_0x825920) && defined$3(_0x1f23c8) && defined$3(_0x52f060);
      }
      if (!_0xeefb4) {
        if (defined$3(_0xa52d89)) {
          _0xa52d89.primitive.show = false;
        }
        continue;
      }
      let _0x5a3fa8 = defined$3(_0xa52d89) ? _0xa52d89.primitive : undefined;
      if (!defined$3(_0x5a3fa8)) {
        _0x5a3fa8 = new RectangularSensorPrimitive();
        _0x5a3fa8.id = _0x5967f3;
        _0xbcd087.add(_0x5a3fa8);
        const _0x1e1307 = {
          primitive: _0x5a3fa8,
          position: undefined,
          orientation: undefined
        };
        _0xa52d89 = _0x1e1307;
        _0x48d7a5[_0x5967f3.id] = _0xa52d89;
      }
      const _0x45d600 = Property.getValueOrUndefined(_0x1082da._gaze, _0x2bda1a);
      if (defined$3(_0x45d600)) {
        const _0x47e8dd = Property.getValueOrUndefined(_0x45d600._position, _0x2bda1a, cachedGazePosition);
        if (!defined$3(_0x825920) || !defined$3(_0x47e8dd)) {
          continue;
        }
        const _0x41b7ca = Cartesian3$3.subtract(_0x825920, _0x47e8dd, diffVectorScratch);
        const _0x1cbca2 = Cartesian3$3.angleBetween(Cesium__namespace.Cartesian3.UNIT_Z, _0x41b7ca);
        const _0x2db722 = Cartesian3$3.cross(Cesium__namespace.Cartesian3.UNIT_Z, _0x41b7ca, diffVectorScratch);
        _0x421eb0 = Quaternion$1.fromAxisAngle(_0x2db722, _0x1cbca2 - Math.PI, orientationScratch);
        _0x4490dc = Cartesian3$3.distance(_0x825920, _0x47e8dd);
        _0x5a3fa8.modelMatrix = Matrix4$1.fromRotationTranslation(Matrix3$1.fromQuaternion(_0x421eb0, matrix3Scratch), _0x825920, _0x5a3fa8.modelMatrix);
      } else if (!Cartesian3$3.equals(_0x825920, _0xa52d89.position) || !Quaternion$1.equals(_0x421eb0, _0xa52d89.orientation)) {
        if (defined$3(_0x421eb0)) {
          _0x5a3fa8.modelMatrix = Matrix4$1.fromRotationTranslation(Matrix3$1.fromQuaternion(_0x421eb0, matrix3Scratch), _0x825920, _0x5a3fa8.modelMatrix);
          _0xa52d89.position = Cartesian3$3.clone(_0x825920, _0xa52d89.position);
          _0xa52d89.orientation = Quaternion$1.clone(_0x421eb0, _0xa52d89.orientation);
        } else {
          _0x5a3fa8.modelMatrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x825920);
          _0xa52d89.position = Cartesian3$3.clone(_0x825920, _0xa52d89.position);
        }
      }
      _0x5a3fa8.show = true;
      _0x5a3fa8.gaze = _0x45d600;
      _0x5a3fa8.radius = _0x4490dc;
      _0x5a3fa8.xHalfAngle = _0x1f23c8;
      _0x5a3fa8.yHalfAngle = _0x52f060;
      _0x5a3fa8.lineColor = Property.getValueOrDefault(_0x1082da._lineColor, _0x2bda1a, Color.WHITE);
      _0x5a3fa8.showSectorLines = Property.getValueOrDefault(_0x1082da._showSectorLines, _0x2bda1a, true);
      _0x5a3fa8.showSectorSegmentLines = Property.getValueOrDefault(_0x1082da._showSectorSegmentLines, _0x2bda1a, true);
      _0x5a3fa8.showLateralSurfaces = Property.getValueOrDefault(_0x1082da._showLateralSurfaces, _0x2bda1a, true);
      _0x5a3fa8.material = MaterialProperty.getValue(_0x2bda1a, _0x1082da._material, _0x5a3fa8.material);
      _0x5a3fa8.showDomeSurfaces = Property.getValueOrDefault(_0x1082da._showDomeSurfaces, _0x2bda1a, true);
      _0x5a3fa8.showDomeLines = Property.getValueOrDefault(_0x1082da._showDomeLines, _0x2bda1a, true);
      _0x5a3fa8.showIntersection = Property.getValueOrDefault(_0x1082da._showIntersection, _0x2bda1a, true);
      _0x5a3fa8.intersectionColor = Property.getValueOrDefault(_0x1082da._intersectionColor, _0x2bda1a, Color.WHITE);
      _0x5a3fa8.intersectionWidth = Property.getValueOrDefault(_0x1082da._intersectionWidth, _0x2bda1a, 1);
      _0x5a3fa8.showThroughEllipsoid = Property.getValueOrDefault(_0x1082da._showThroughEllipsoid, _0x2bda1a, false);
      _0x5a3fa8.scanPlaneMode = Property.getValueOrDefault(_0x1082da._scanPlaneMode, _0x2bda1a);
      _0x5a3fa8.scanPlaneColor = Property.getValueOrDefault(_0x1082da._scanPlaneColor, _0x2bda1a, Color.WHITE);
      _0x5a3fa8.showScanPlane = Property.getValueOrDefault(_0x1082da._showScanPlane, _0x2bda1a, true);
      _0x5a3fa8.scanPlaneRate = Property.getValueOrDefault(_0x1082da._scanPlaneRate, _0x2bda1a, 1);
    }
    return true;
  };
  RectangularSensorVisualizer.prototype.isDestroyed = function () {
    return false;
  };
  RectangularSensorVisualizer.prototype.destroy = function () {
    const _0x38c570 = this._entitiesToVisualize.values;
    const _0x157a39 = this._hash;
    const _0x410b12 = this._primitives;
    for (let _0x17a6ec = _0x38c570.length - 1; _0x17a6ec > -1; _0x17a6ec--) {
      removePrimitive(_0x38c570[_0x17a6ec], _0x157a39, _0x410b12);
    }
    for (const _0x6eac7 in this) {
      delete this[_0x6eac7];
    }
    return Cesium__namespace.destroyObject(this);
  };
  RectangularSensorVisualizer.prototype._onCollectionChanged = function (_0x3890e1, _0x540f52, _0x199651, _0x2c56cb) {
    const _0x2b5241 = this._entitiesToVisualize;
    if (!_0x2b5241) {
      return;
    }
    const _0xc9c476 = this._hash;
    const _0x2806f = this._primitives;
    let _0xbd2792;
    let _0x1e79b7;
    for (_0xbd2792 = _0x540f52.length - 1; _0xbd2792 > -1; _0xbd2792--) {
      _0x1e79b7 = _0x540f52[_0xbd2792];
      if (defined$3(_0x1e79b7._rectangularSensorMars) && defined$3(_0x1e79b7._position)) {
        _0x2b5241.set(_0x1e79b7.id, _0x1e79b7);
      }
    }
    for (_0xbd2792 = _0x2c56cb.length - 1; _0xbd2792 > -1; _0xbd2792--) {
      _0x1e79b7 = _0x2c56cb[_0xbd2792];
      if (defined$3(_0x1e79b7._rectangularSensorMars) && defined$3(_0x1e79b7._position)) {
        _0x2b5241.set(_0x1e79b7.id, _0x1e79b7);
      } else {
        removePrimitive(_0x1e79b7, _0xc9c476, _0x2806f);
        _0x2b5241.remove(_0x1e79b7.id);
      }
    }
    for (_0xbd2792 = _0x199651.length - 1; _0xbd2792 > -1; _0xbd2792--) {
      _0x1e79b7 = _0x199651[_0xbd2792];
      removePrimitive(_0x1e79b7, _0xc9c476, _0x2806f);
      _0x2b5241.remove(_0x1e79b7.id);
    }
  };
  const originalDefaultVisualizersCallback = Cesium__namespace.DataSourceDisplay.defaultVisualizersCallback;
  Cesium__namespace.DataSourceDisplay.defaultVisualizersCallback = function (_0x2e5c43, _0x33cf2c, _0x57bfd5) {
    const _0x4bb95e = _0x57bfd5.entities;
    const _0x44277f = originalDefaultVisualizersCallback(_0x2e5c43, _0x33cf2c, _0x57bfd5);
    return _0x44277f.concat([new RectangularSensorVisualizer(_0x2e5c43, _0x4bb95e)]);
  };
  class RectangularSensor extends BasePointEntity {
    get entityGraphic() {
      return this._entity?.rectangularSensorMars;
    }
    get radius() {
      return this.style.radius;
    }
    set radius(_0x577634) {
      this.style.radius = _0x577634;
      if (this._entity) {
        this.entityGraphic.radius = _0x577634;
      }
    }
    _mountedHook() {
      const _0x25ea84 = {
        position: this.position,
        orientation: this.getOrientation(),
        rectangularSensorMars: new RectangularSensorGraphics(RectangularSensorStyleConver.toCesiumVal(this.style))
      };
      this._entity = this._createEntity(_0x25ea84);
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _updateStyleHook(_0x363ad4, _0x5d5256) {
      if (this._entity && this.isAdded) {
        const _0x4889f1 = this._layer.dataSource;
        _0x4889f1.entities.remove(this._entity);
        delete this._entity;
        this._mountedHook();
        _0x4889f1.entities.add(this._entity);
      }
    }
    _updateEntityOpacity(_0x579257, _0x36b1a4) {
      const _0x266b9e = _0x579257?.material;
      if (!_0x266b9e) {
        return false;
      }
      const _0x4772bb = getCesiumColor(_0x266b9e.color, Cesium__namespace.Color.WHITE);
      if (!Cesium__namespace.defined(this._material_color_alpha)) {
        this._material_color_alpha = _0x4772bb.alpha;
      }
      _0x266b9e.color = _0x4772bb.withAlpha(this._material_color_alpha * _0x36b1a4);
      return true;
    }
    _updateExOpacity(_0xac40c0) {
      const _0x2b6017 = getCesiumColor(this.entityGraphic.lineColor, Cesium__namespace.Color.WHITE);
      if (!Cesium__namespace.defined(this._lineColor_alpha)) {
        this._lineColor_alpha = _0x2b6017.alpha;
      }
      this.entityGraphic.lineColor = _0x2b6017.withAlpha(this._lineColor_alpha * _0xac40c0);
      const _0x400d66 = getCesiumColor(this.entityGraphic.scanPlaneColor, Cesium__namespace.Color.WHITE);
      if (!Cesium__namespace.defined(this._scanPlaneColor_alpha)) {
        this._scanPlaneColor_alpha = _0x400d66.alpha;
      }
      this.entityGraphic.scanPlaneColor = _0x400d66.withAlpha(this._scanPlaneColor_alpha * _0xac40c0);
    }
    _style2Json(_0x562cf7, _0x394369) {
      return RectangularSensorStyleConver.toJSON(_0x562cf7, _0x394369, true);
    }
  }
  register$5("rectangularSensor", RectangularSensor, true);
  class PointPolygonEntity extends PolygonEntity {
    constructor(_0x3e66d1 = {}) {
      super(_0x3e66d1);
      this._isPoint = true;
    }
    get position() {
      return this._position;
    }
    set position(_0x4f5391) {
      this.options.position = _0x4f5391;
      this._setPointPostionFoyType(_0x4f5391);
    }
    get positionShow() {
      var _0x3eef45;
      return getPositionValue(this.position, (_0x3eef45 = this._map) === null || _0x3eef45 === undefined ? undefined : _0x3eef45.clock.currentTime);
    }
    get point() {
      return this._point ?? LngLatPoint.parse(this.positionShow);
    }
    _setPointPostion(_0x5bf11d) {
      var _0xe4b9e3;
      this._point = LngLatPoint.parse(_0x5bf11d);
      this._position = (_0xe4b9e3 = this._point) === null || _0xe4b9e3 === undefined ? undefined : _0xe4b9e3.toCartesian();
      if (this.property) {
        this._positions = this.property;
        if (this._entity) {
          this._updatePositionsHook();
        }
      } else if (this._position.getValue) {
        this._positions = this._position;
        if (this._entity) {
          this._updatePositionsHook();
        }
      } else {
        this._setPolyPostions([this._position]);
      }
    }
    _getGeoJsonGeometry(_0x32425d) {
      const _0x568845 = this.getCoord(_0x32425d);
      const _0x5f2d84 = {
        type: "Point",
        coordinates: _0x568845
      };
      return _0x5f2d84;
    }
    updateAttrForDrawing(_0x22a22d) {
      if (!_0x22a22d && this._positions_draw?.length > 1) {
        this._position = this._positions_draw[0];
        this._point = LngLatPoint.fromCartesian(this._position);
        this._updateAttrForDrawing_ForPoint(this._positions_draw);
      }
      super.updateAttrForDrawing(_0x22a22d);
    }
    _updateAttrForDrawing_ForPoint(_0x14d388) {}
    getShowPositions(_0x94de8f) {
      if (!_0x94de8f) {
        return _0x94de8f;
      }
      if (Array.isArray(_0x94de8f)) {
        if (_0x94de8f.length < 1) {
          return _0x94de8f;
        }
        return this._getShowPositions_ForPoint(_0x94de8f[0]);
      } else {
        var _0x20ceba;
        let _0x47305f = _0x94de8f;
        if ((_0x20ceba = _0x47305f) !== null && _0x20ceba !== undefined && _0x20ceba.getValue) {
          _0x47305f = _0x47305f.getValue(Cesium__namespace.JulianDate.now());
        }
        return this._getShowPositions_ForPoint(_0x47305f);
      }
    }
    _getShowPositions_ForPoint(_0x1454a2) {}
    autoSurfaceHeight(_0x5256ec = {}) {
      return getSurfaceHeight(this._map.scene, this.positions[0], {
        objectsToExclude: this._layer.objectsToExclude,
        ..._0x5256ec
      }).then(_0x50daca => {
        if (_0x50daca.position) {
          this._setPointPostion(_0x50daca.position);
        }
      });
    }
  }
  class EditVideo2D extends EditBase {
    get position() {
      return this._graphic.position;
    }
    set position(_0x606f00) {
      this._graphic.position = _0x606f00;
    }
    bindDraggers() {
      const _0x4e200d = this._graphic.position;
      const _0x25e8fa = this.createDragger({
        position: _0x4e200d,
        onDragEnd: (_0xb95c90, _0x1d50b3) => {
          this._graphic.position = _0x1d50b3;
        }
      });
      this.draggers.push(_0x25e8fa);
    }
  }
  const DEF_STYLE$v = {
    distance: 0.1,
    perPositionHeight: true,
    showFrustum: false,
    opacity: 1,
    flipx: false,
    flipy: false
  };
  class Video2D extends PointPolygonEntity {
    constructor(_0x31c46b = {}) {
      _0x31c46b.style = {
        ...DEF_STYLE$v,
        ..._0x31c46b.style
      };
      super(_0x31c46b);
    }
    get czmObjectEx() {
      let _0x94d9de = [];
      if (this._frustumPrimitive) {
        _0x94d9de.push(this._frustumPrimitive);
      }
      if (this._entity_label) {
        _0x94d9de.push(this._entity_label);
      }
      if (this._entity_outlines) {
        _0x94d9de = _0x94d9de.concat(this._entity_outlines);
      }
      return _0x94d9de;
    }
    get EditClass() {
      return EditVideo2D;
    }
    get targetPosition() {
      return this._targetPosition;
    }
    set targetPosition(_0x3c230f) {
      this._targetPosition = _0x3c230f;
      if (!this._map) {
        return;
      }
      const _0x38227c = this.positionShow;
      if (!_0x38227c) {
        return;
      }
      const _0x5372be = LngLatPoint.toCartesian(_0x3c230f, this._map?.currentTime);
      this.distance = Cesium__namespace.Cartesian3.distance(_0x38227c, _0x5372be);
      const _0x44d1e1 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5372be, _0x38227c, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x3f3add = Cesium__namespace.Cartesian3.normalize(_0x38227c, new Cesium__namespace.Cartesian3());
      const _0x4c0258 = new Cesium__namespace.Camera(this._map.scene);
      _0x4c0258.position = _0x38227c;
      _0x4c0258.direction = _0x44d1e1;
      _0x4c0258.up = _0x3f3add;
      this.style.heading = Cesium__namespace.Math.toDegrees(_0x4c0258.heading) - 90;
      this.style.pitch = Cesium__namespace.Math.toDegrees(_0x4c0258.pitch);
      this._updatePositionsHook();
    }
    get heading() {
      return this.style.heading ?? 0;
    }
    set heading(_0x44d4f4) {
      this.style.heading = _0x44d4f4;
      this._updatePositionsHook();
    }
    get pitch() {
      return this.style.pitch ?? 0;
    }
    set pitch(_0x2972a8) {
      this.style.pitch = _0x2972a8;
      this._updatePositionsHook();
    }
    get roll() {
      return this.style.roll ?? 0;
    }
    set roll(_0x2744ea) {
      this.style.roll = _0x2744ea;
      this._updatePositionsHook();
    }
    get angle() {
      return this.style.angle;
    }
    set angle(_0xa21e1e) {
      this.style.angle = _0xa21e1e;
      this._updatePositionsHook();
    }
    get angle2() {
      return this.style.angle2 ?? this.style.angle;
    }
    set angle2(_0x4cc1cb) {
      this.style.angle2 = _0x4cc1cb;
      this._updatePositionsHook();
    }
    get distance() {
      return this.style.distance;
    }
    set distance(_0x2eba34) {
      this.style.distance = _0x2eba34;
      this._updatePositionsHook();
    }
    get opacity() {
      return this.style.opacity;
    }
    set opacity(_0xc09e02) {
      this.setOpacity(_0xc09e02);
    }
    get flipx() {
      return this.style.flipx;
    }
    set flipx(_0x135b0e) {
      this.style.flipx = _0x135b0e;
      if (this._entity) {
        this._entity.polygon.material.flipx = _0x135b0e;
      }
    }
    get flipy() {
      return this.style.flipy;
    }
    set flipy(_0x33ba02) {
      this.style.flipy = _0x33ba02;
      if (this._entity) {
        this._entity.polygon.material.flipy = _0x33ba02;
      }
    }
    get showFrustum() {
      return this.style.showFrustum;
    }
    set showFrustum(_0xb8e400) {
      this.style.showFrustum = _0xb8e400;
      this._frustumPrimitive.show = _0xb8e400;
    }
    get play() {
      return this.options.play ?? true;
    }
    set play(_0x316e24) {
      this.options.play = _0x316e24;
      if (!this._videoContainer) {
        return;
      }
      try {
        if (_0x316e24) {
          if (this._videoSynchronizer) {
            this._videoSynchronizer.element = this._videoContainer;
          }
          this._videoContainer.play();
        } else {
          if (this._videoSynchronizer) {
            this._videoSynchronizer.element = undefined;
          }
          this._videoContainer.pause();
        }
      } catch (_0xec1a65) {}
    }
    updateVideoContainer() {
      var _0x29c4fb;
      if (this._hasRemoveElement && (_0x29c4fb = this._videoContainer) !== null && _0x29c4fb !== undefined && _0x29c4fb.parentNode) {
        this._videoContainer.parentNode.removeChild(this._videoContainer);
        delete this._hasRemoveElement;
        delete this._videoContainer;
      }
      if (this._videoSynchronizer) {
        this._videoSynchronizer.destroy();
        delete this._videoSynchronizer;
      }
      if (this.style.url) {
        this._videoContainer = createVideo(this.style.url, this.style.fileType, "", document.body);
        this._videoContainer.style.display = "none";
        if (!this.play) {
          this._videoContainer.removeAttribute("autoplay");
        }
        this._hasRemoveElement = true;
      } else if (this.style.container) {
        this._videoContainer = this.style.container;
      }
      if (this._videoContainer) {
        if (this.options.synchronizer) {
          this._videoSynchronizer = new Cesium__namespace.VideoSynchronizer({
            clock: this._map.clock,
            element: this._videoContainer
          });
        }
        if (!this._entity.polygon.textureCoordinates) {
          this._entity.polygon.textureCoordinates = {
            positions: [new Cesium__namespace.Cartesian2(0, 1), new Cesium__namespace.Cartesian2(1, 1), new Cesium__namespace.Cartesian2(1, 0), new Cesium__namespace.Cartesian2(0, 0)]
          };
        }
        this._entity.polygon.material = new Image2MaterialProperty({
          image: this._videoContainer,
          maskImage: this.style.maskImage,
          noWhite: true,
          opacity: this.style.opacity,
          flipx: this.style.flipx,
          flipy: this.style.flipy
        });
      }
    }
    setOpacity(_0x54cd42) {
      this.style.opacity = _0x54cd42;
      if (this._entity) {
        this._entity.polygon.material.opacity = _0x54cd42;
      }
    }
    _mountedHook() {
      super._mountedHook();
      if (this.options.targetPosition) {
        this.targetPosition = this.options.targetPosition;
      }
      this.updateVideoContainer();
    }
    _removedHook() {
      var _0x124afb;
      super._removedHook();
      if (this._frustumPrimitive) {
        this._layer.primitiveCollection.remove(this._frustumPrimitive);
        delete this._frustumPrimitive;
      }
      if (this._videoSynchronizer) {
        this._videoSynchronizer.destroy();
        delete this._videoSynchronizer;
      }
      if (this._hasRemoveElement && (_0x124afb = this._videoContainer) !== null && _0x124afb !== undefined && _0x124afb.parentNode) {
        this._videoContainer.parentNode.removeChild(this._videoContainer);
        delete this._hasRemoveElement;
        delete this._videoContainer;
      }
    }
    _getShowPositions_ForPoint(_0x935ca5) {
      const _0x23e48 = new Cesium__namespace.HeadingPitchRoll.fromDegrees(this.heading + 90, this.pitch, this.roll);
      const _0x2ca198 = new Cesium__namespace.Camera(this._map.scene);
      _0x2ca198.position = _0x935ca5;
      _0x2ca198.frustum.fov = Cesium__namespace.Math.toRadians(this.angle * 2);
      _0x2ca198.frustum.aspectRatio = this.angle / this.angle2;
      _0x2ca198.frustum.near = 0.01;
      _0x2ca198.frustum.far = this.style.distance;
      const _0x37e156 = {
        heading: _0x23e48.heading,
        pitch: _0x23e48.pitch,
        roll: _0x23e48.roll
      };
      const _0x33ad1a = {
        destination: _0x935ca5,
        orientation: _0x37e156
      };
      _0x2ca198.setView(_0x33ad1a);
      this._createFrustumPrimitive(_0x2ca198);
      const _0x229356 = _0x2ca198.directionWC;
      const _0x44bd25 = _0x2ca198.upWC;
      const _0x6796dc = _0x2ca198.rightWC;
      const _0x2cc282 = new Cesium__namespace.Ray(_0x935ca5, _0x229356);
      const _0x5d6a6a = Cesium__namespace.Ray.getPoint(_0x2cc282, this.style.distance, new Cesium__namespace.Cartesian3());
      const _0x10d242 = Cesium__namespace.Math.toRadians(this.angle);
      const _0x1aceeb = Math.tan(_0x10d242);
      const _0x39be9a = this.style.distance * _0x1aceeb;
      const _0x192220 = _0x39be9a / _0x2ca198.frustum.aspectRatio;
      const _0x2da36d = Math.sqrt(_0x39be9a * _0x39be9a + _0x192220 * _0x192220);
      const _0x9ca832 = new Cesium__namespace.Cartesian3();
      const _0x42b756 = new Cesium__namespace.Ray(_0x5d6a6a, _0x6796dc);
      const _0x4c7a10 = Cesium__namespace.Ray.getPoint(_0x42b756, _0x39be9a, new Cesium__namespace.Cartesian3());
      const _0x542a1f = new Cesium__namespace.Ray(_0x4c7a10, _0x44bd25);
      Cesium__namespace.Ray.getPoint(_0x542a1f, _0x192220, _0x9ca832);
      const _0x316c57 = new Cesium__namespace.Cartesian3();
      const _0x255aff = Cesium__namespace.Cartesian3.negate(_0x44bd25, new Cesium__namespace.Cartesian3());
      const _0x1622e4 = new Cesium__namespace.Ray(_0x4c7a10, _0x255aff);
      Cesium__namespace.Ray.getPoint(_0x1622e4, _0x192220, _0x316c57);
      const _0x2465e0 = new Cesium__namespace.Cartesian3();
      const _0x321f32 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5d6a6a, _0x9ca832, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x87debf = new Cesium__namespace.Ray(_0x5d6a6a, _0x321f32);
      Cesium__namespace.Ray.getPoint(_0x87debf, _0x2da36d, _0x2465e0);
      const _0x422e90 = new Cesium__namespace.Cartesian3();
      const _0xb873e = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5d6a6a, _0x316c57, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x1a9c09 = new Cesium__namespace.Ray(_0x5d6a6a, _0xb873e);
      Cesium__namespace.Ray.getPoint(_0x1a9c09, _0x2da36d, _0x422e90);
      return [_0x422e90, _0x9ca832, _0x316c57, _0x2465e0];
    }
    _updateStyleHook(_0x522a80, _0x2d7a54) {
      var _0x2bc12b;
      super._updateStyleHook(_0x522a80, _0x2d7a54);
      if (Cesium__namespace.defined(_0x2d7a54.heading) || Cesium__namespace.defined(_0x2d7a54.pitch) || Cesium__namespace.defined(_0x2d7a54.roll) || Cesium__namespace.defined(_0x2d7a54.distance) || Cesium__namespace.defined(_0x2d7a54.angle) || Cesium__namespace.defined(_0x2d7a54.angle2)) {
        this._updatePositionsHook();
      }
      if (_0x2d7a54.url || _0x2d7a54.container) {
        this.updateVideoContainer();
      }
      const _0x4b2e61 = (_0x2bc12b = this._entity) === null || _0x2bc12b === undefined || (_0x2bc12b = _0x2bc12b.polygon) === null || _0x2bc12b === undefined ? undefined : _0x2bc12b.material;
      if (_0x4b2e61) {
        if (Cesium__namespace.defined(_0x2d7a54.flipy)) {
          _0x4b2e61.flipy = _0x2d7a54.flipy;
        }
        if (Cesium__namespace.defined(_0x2d7a54.flipx)) {
          _0x4b2e61.flipx = _0x2d7a54.flipx;
        }
        if (Cesium__namespace.defined(_0x2d7a54.opacity)) {
          _0x4b2e61.opacity = _0x2d7a54.opacity;
        }
      }
      if (Cesium__namespace.defined(_0x2d7a54.showFrustum)) {
        this.showFrustum = _0x2d7a54.showFrustum;
      }
    }
    _createFrustumPrimitive(_0x386f07) {
      const _0x45bccf = _0x386f07.directionWC;
      const _0x4ee3ce = _0x386f07.upWC;
      let _0x2f9cc8 = _0x386f07.rightWC;
      _0x2f9cc8 = Cesium__namespace.Cartesian3.negate(_0x2f9cc8, new Cesium__namespace.Cartesian3());
      const _0x46012c = new Cesium__namespace.Matrix3();
      Cesium__namespace.Matrix3.setColumn(_0x46012c, 0, _0x2f9cc8, _0x46012c);
      Cesium__namespace.Matrix3.setColumn(_0x46012c, 1, _0x4ee3ce, _0x46012c);
      Cesium__namespace.Matrix3.setColumn(_0x46012c, 2, _0x45bccf, _0x46012c);
      const _0x3899c4 = Cesium__namespace.Quaternion.fromRotationMatrix(_0x46012c, new Cesium__namespace.Quaternion());
      if (this._frustumPrimitive) {
        this._layer.primitiveCollection.remove(this._frustumPrimitive);
      }
      const _0x440535 = {
        origin: _0x386f07.position,
        orientation: _0x3899c4,
        frustum: _0x386f07.frustum,
        _drawNearPlane: true
      };
      this._frustumPrimitive = new Cesium__namespace.Primitive({
        geometryInstances: new Cesium__namespace.GeometryInstance({
          id: this.id,
          geometry: new Cesium__namespace.FrustumOutlineGeometry(_0x440535),
          attributes: {
            color: Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(Cesium__namespace.Color.AZURE)
          }
        }),
        appearance: new Cesium__namespace.PerInstanceColorAppearance({
          translucent: false,
          flat: true
        }),
        asynchronous: false,
        show: this.showFrustum && this.show
      });
      this._layer.primitiveCollection.add(this._frustumPrimitive);
    }
    _updateAvailabilityHook(_0x39e823) {
      this._bindPrimitiveAvailability(this._frustumPrimitive);
    }
    _style2JsonBase(_0x414649, _0x51c867) {
      const _0x2a7f0c = getAttrVal(_0x414649, {
        onlySimpleType: true
      });
      if (this.style.container) {
        _0x2a7f0c.container = "document.getElementById(" + this._videoContainer.id + ")";
      }
      return _0x2a7f0c;
    }
    setView() {
      if (!this._map) {
        return;
      }
      this._map.camera.setView({
        destination: this.position,
        orientation: {
          heading: Cesium__namespace.Math.toRadians(this.heading),
          pitch: Cesium__namespace.Math.toRadians(this.pitch),
          roll: Cesium__namespace.Math.toRadians(this.roll)
        }
      });
    }
    startDraw(_0x4ddf80) {
      if (this._isDrawing) {
        return this;
      }
      this._isDrawing = true;
      if (_0x4ddf80) {
        this.addTo(_0x4ddf80);
      }
      if (!this._map) {
        throw new Error("绘制时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._map._setEditCursor(true);
      this.enableControl(false);
      this._startDrawHook();
      this.fire(EventType.drawStart, {
        drawType: this.type,
        graphic: this
      }, true);
    }
    stopDraw() {
      var _0x2fb5bb;
      var _0x589f27;
      if (!this._isDrawing) {
        return this;
      }
      this._stopDrawHook();
      this._map._setEditCursor(false);
      this.enableControl(true);
      this._map.closeSmallTooltip();
      this._isDrawing = false;
      if (!this.position || !this.distance) {
        this.remove(true);
        return;
      }
      this.fire(EventType.drawCreated, {
        drawType: this.type,
        graphic: this
      }, true);
      if ((_0x2fb5bb = this.options) !== null && _0x2fb5bb !== undefined && _0x2fb5bb.success) {
        this.options.success(this);
      }
      if ((_0x589f27 = this.options) !== null && _0x589f27 !== undefined && (_0x589f27 = _0x589f27._promise) !== null && _0x589f27 !== undefined && _0x589f27.resolve) {
        this.options._promise.resolve(this);
      }
    }
    _startDrawHook() {
      this._map.on(EventType.click, this._onClickHandler, this);
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
    }
    _stopDrawHook() {
      this._map.off(EventType.click, this._onClickHandler, this);
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
    }
    _onClickHandler(_0x156855) {
      const _0x902781 = _0x156855.cartesian;
      if (!_0x902781) {
        return;
      }
      _0x156855 = {
        ..._0x156855,
        drawType: this.type,
        graphic: this
      };
      this.fire(EventType.drawAddPoint, _0x156855, true);
      if (!this.position) {
        this._setPointPostion(_0x902781);
        return;
      }
      this.targetPosition = _0x902781;
      this.stopDraw();
      this.fire(EventType.drawCreated, _0x156855);
    }
    _onMouseMoveHandler(_0x210a36) {
      const _0xa54f67 = _0x210a36.cartesian;
      if (!_0xa54f67) {
        return;
      }
      const _0x35fa27 = this.position;
      if (_0x35fa27) {
        this.targetPosition = _0xa54f67;
        this.fire(EventType.drawMouseMove, {
          ..._0x210a36,
          drawType: this.type,
          graphic: this
        }, true);
        this._map.openSmallTooltip(_0x210a36.endPosition, this._map.getLangText("_单击完成绘制"));
      } else {
        this._map.openSmallTooltip(_0x210a36.endPosition, this._map.getLangText("_单击开始绘制"));
      }
    }
  }
  register$5("video2D", Video2D, true);
  class PitEntity extends BasePolyEntity {
    constructor(_0x5c40be = {}) {
      super(_0x5c40be);
      this.style.diffHeight = this.style.diffHeight ?? 10;
      this.style.splitNum = this.style.splitNum ?? 50;
    }
    get center() {
      return this.centerOfMass;
    }
    get diffHeight() {
      return this.style.diffHeight;
    }
    set diffHeight(_0x3e6e48) {
      this.style.diffHeight = _0x3e6e48;
      if (this._entity) {
        const _0x56cf01 = this._minHeight - this.style.diffHeight;
        this._entity.polygon.height = _0x56cf01;
        const _0x285c50 = Array(this._positionsWall.length).fill(_0x56cf01);
        this._entity.wall.minimumHeights = _0x285c50;
      }
    }
    _mountedHook() {
      const _0x210bbf = this.options.data || this._getPitData();
      this.data = _0x210bbf;
      const _0x529a5e = {
        polygon: new Cesium__namespace.PolygonGraphics({
          show: Boolean(this.style.imageBottom),
          hierarchy: new Cesium__namespace.PolygonHierarchy(this.positions),
          perPositionHeight: false,
          height: _0x210bbf.height,
          material: new Image2MaterialProperty({
            ...this.style,
            image: this.style.imageBottom,
            repeat: this.style.repeatBottom ?? new Cesium__namespace.Cartesian2(1, 1)
          }),
          stRotation: this.style.stRotationDegree ? Cesium__namespace.Math.toRadians(this.style.stRotationDegree) : this.style.stRotation,
          fill: true,
          outline: false
        }),
        wall: {
          show: Boolean(this.style.image),
          positions: _0x210bbf.positionsWall,
          minimumHeights: _0x210bbf.minimumHeights,
          maximumHeights: _0x210bbf.maximumHeights,
          fill: true,
          material: new Image2MaterialProperty({
            ...this.style,
            image: this.style.image,
            repeat: this.style.repeat ?? new Cesium__namespace.Cartesian2(this.style.repeatX ?? 50, this.style.repeatY ?? 1)
          }),
          outline: false
        }
      };
      this._entity = this._createEntity(_0x529a5e);
      this._minHeight = _0x210bbf.minHeight;
      this._positionsWall = _0x210bbf.positionsWall;
      this._wallHeights = _0x210bbf.maximumHeights;
      if (this.style.label) {
        this._addLabel(this.style.label);
      }
    }
    _updateStyleHook(_0x46b852, _0x5a1826) {
      if (Cesium__namespace.defined(_0x5a1826.image)) {
        this._entity.wall.material.image = _0x5a1826.image;
      }
      if (Cesium__namespace.defined(_0x5a1826.imageBottom)) {
        this._entity.polygon.material.image = _0x5a1826.imageBottom;
      }
    }
    _getPitData() {
      const _0x5540dd = this.positions;
      const _0x579b58 = interPolyline({
        scene: this._map.scene,
        positions: this._getClosurePositions(_0x5540dd),
        splitNum: this.style.splitNum
      });
      const _0x22c507 = [];
      let _0x1f2f58 = Number.MAX_VALUE;
      for (let _0x3b6bc4 = 0, _0x21df0c = _0x579b58.length; _0x3b6bc4 < _0x21df0c; _0x3b6bc4++) {
        const _0x12c595 = Cesium__namespace.Cartographic.fromCartesian(_0x579b58[_0x3b6bc4]);
        _0x1f2f58 = Math.min(_0x1f2f58, _0x12c595.height);
        _0x22c507.push(_0x12c595.height);
      }
      if (Cesium__namespace.defined(this.style.minHeight)) {
        _0x1f2f58 = this.style.minHeight;
      }
      const _0x21fe85 = _0x1f2f58 - this.style.diffHeight;
      const _0x24e6a4 = Array(_0x579b58.length).fill(_0x21fe85);
      const _0x2387be = {
        height: _0x21fe85,
        minHeight: _0x1f2f58,
        positionsWall: _0x579b58,
        minimumHeights: _0x24e6a4,
        maximumHeights: _0x22c507
      };
      return _0x2387be;
    }
    setUpHeight(_0x123057) {
      const _0x3b5e54 = this._minHeight - this.style.diffHeight;
      const _0x590ccc = _0x3b5e54 + _0x123057;
      const _0x22aa27 = [];
      const _0x515ec2 = [];
      for (let _0x42fa35 = 0, _0xa3c1bd = this._wallHeights.length; _0x42fa35 < _0xa3c1bd; _0x42fa35++) {
        const _0x46e0b7 = this._wallHeights[_0x42fa35];
        _0x515ec2.push(_0x46e0b7 + _0x123057);
        _0x22aa27.push(_0x590ccc);
      }
      if (this._entity) {
        if (this._isCallbackPositions) {
          this._height = _0x3b5e54;
          this._minimumHeights = _0x22aa27;
          this._maximumHeights = _0x515ec2;
        } else {
          this._entity.polygon.height = _0x3b5e54;
          this._entity.wall.minimumHeights = _0x22aa27;
          this._entity.wall.maximumHeights = _0x515ec2;
        }
      }
    }
    _setPositionsToCallback() {
      if (this._isCallbackPositions) {
        return;
      }
      this._isCallbackPositions = true;
      this._height = this._entity.polygon.height;
      this._minimumHeights = this._entity.wall.minimumHeights;
      this._maximumHeights = this._entity.wall.maximumHeights;
      this._entity.polygon.height = new Cesium__namespace.CallbackProperty(_0x2ea6e8 => {
        return this._height;
      }, false);
      this._entity.wall.minimumHeights = new Cesium__namespace.CallbackProperty(_0x321b2b => {
        return this._minimumHeights;
      }, false);
      this._entity.wall.maximumHeights = new Cesium__namespace.CallbackProperty(_0x3255dc => {
        return this._maximumHeights;
      }, false);
    }
  }
  register$5("pitEntity", PitEntity);
  class AlgorithmUtil {
    constructor() {
      this.HALF_PI = Math.PI / 2;
      this.ZERO_TOLERANCE = 0.0001;
    }
    toRadians(_0x54cc4e) {
      return _0x54cc4e * Math.PI / 180;
    }
    getThirdPoint(_0x392415, _0x28e1bc, _0x23589c, _0x5d2889, _0x222c35) {
      const _0x2e8f5f = this.getAzimuth(_0x392415, _0x28e1bc);
      const _0x146efd = _0x222c35 ? _0x2e8f5f + _0x23589c : _0x2e8f5f - _0x23589c;
      const _0x33ea28 = _0x5d2889 * Math.cos(_0x146efd);
      const _0x23e1ac = _0x5d2889 * Math.sin(_0x146efd);
      return [_0x28e1bc[0] + _0x33ea28, _0x28e1bc[1] + _0x23e1ac];
    }
    getAzimuth(_0x1f64ab, _0x504c05) {
      let _0x2322db = 0;
      const _0x59889b = Math.asin(Math.abs(_0x504c05[1] - _0x1f64ab[1]) / this.MathDistance(_0x1f64ab, _0x504c05));
      if (_0x504c05[1] >= _0x1f64ab[1] && _0x504c05[0] >= _0x1f64ab[0]) {
        _0x2322db = _0x59889b + Math.PI;
      } else if (_0x504c05[1] >= _0x1f64ab[1] && _0x504c05[0] < _0x1f64ab[0]) {
        _0x2322db = Math.PI * 2 - _0x59889b;
      } else if (_0x504c05[1] < _0x1f64ab[1] && _0x504c05[0] < _0x1f64ab[0]) {
        _0x2322db = _0x59889b;
      } else if (_0x504c05[1] < _0x1f64ab[1] && _0x504c05[0] >= _0x1f64ab[0]) {
        _0x2322db = Math.PI - _0x59889b;
      }
      return _0x2322db;
    }
    MathDistance(_0x3d1850, _0x5384d) {
      return Math.sqrt(Math.pow(_0x3d1850[0] - _0x5384d[0], 2) + Math.pow(_0x3d1850[1] - _0x5384d[1], 2));
    }
    isClockWise(_0x52e2f8, _0x3cdc18, _0x23b9b0) {
      if (!_0x23b9b0) {
        return false;
      }
      return (_0x23b9b0[1] - _0x52e2f8[1]) * (_0x3cdc18[0] - _0x52e2f8[0]) > (_0x3cdc18[1] - _0x52e2f8[1]) * (_0x23b9b0[0] - _0x52e2f8[0]);
    }
    getBisectorNormals(_0x53a692, _0x50158c, _0x58412f, _0x18cb75) {
      const _0x18f338 = this.getNormal(_0x50158c, _0x58412f, _0x18cb75);
      let _0x1190c8 = null;
      let _0xea911e = null;
      let _0x1b559d = null;
      let _0x5dad9e = null;
      let _0x48bbc2 = null;
      const _0x57e0bd = Math.sqrt(_0x18f338[0] * _0x18f338[0] + _0x18f338[1] * _0x18f338[1]);
      const _0x4699ab = _0x18f338[0] / _0x57e0bd;
      const _0x116611 = _0x18f338[1] / _0x57e0bd;
      const _0x4a3d3d = this.MathDistance(_0x50158c, _0x58412f);
      const _0x105452 = this.MathDistance(_0x58412f, _0x18cb75);
      if (_0x57e0bd > this.ZERO_TOLERANCE) {
        if (this.isClockWise(_0x50158c, _0x58412f, _0x18cb75)) {
          _0x1b559d = _0x53a692 * _0x4a3d3d;
          _0x5dad9e = _0x58412f[0] - _0x1b559d * _0x116611;
          _0x48bbc2 = _0x58412f[1] + _0x1b559d * _0x4699ab;
          _0x1190c8 = [_0x5dad9e, _0x48bbc2];
          _0x1b559d = _0x53a692 * _0x105452;
          _0x5dad9e = _0x58412f[0] + _0x1b559d * _0x116611;
          _0x48bbc2 = _0x58412f[1] - _0x1b559d * _0x4699ab;
          _0xea911e = [_0x5dad9e, _0x48bbc2];
        } else {
          _0x1b559d = _0x53a692 * _0x4a3d3d;
          _0x5dad9e = _0x58412f[0] + _0x1b559d * _0x116611;
          _0x48bbc2 = _0x58412f[1] - _0x1b559d * _0x4699ab;
          _0x1190c8 = [_0x5dad9e, _0x48bbc2];
          _0x1b559d = _0x53a692 * _0x105452;
          _0x5dad9e = _0x58412f[0] - _0x1b559d * _0x116611;
          _0x48bbc2 = _0x58412f[1] + _0x1b559d * _0x4699ab;
          _0xea911e = [_0x5dad9e, _0x48bbc2];
        }
      } else {
        _0x5dad9e = _0x58412f[0] + _0x53a692 * (_0x50158c[0] - _0x58412f[0]);
        _0x48bbc2 = _0x58412f[1] + _0x53a692 * (_0x50158c[1] - _0x58412f[1]);
        _0x1190c8 = [_0x5dad9e, _0x48bbc2];
        _0x5dad9e = _0x58412f[0] + _0x53a692 * (_0x18cb75[0] - _0x58412f[0]);
        _0x48bbc2 = _0x58412f[1] + _0x53a692 * (_0x18cb75[1] - _0x58412f[1]);
        _0xea911e = [_0x5dad9e, _0x48bbc2];
      }
      return [_0x1190c8, _0xea911e];
    }
    getCubicValue(_0x201112, _0x34383b, _0x4bbfd, _0x4ab7cf, _0x39bb13) {
      _0x201112 = Math.max(Math.min(_0x201112, 1), 0);
      const _0x41ac1a = 1 - _0x201112;
      const _0x398a3d = _0x201112 * _0x201112;
      const _0x44cc7b = _0x398a3d * _0x201112;
      const _0x502044 = _0x41ac1a * _0x41ac1a;
      const _0x94a66a = _0x502044 * _0x41ac1a;
      const _0x18d7f5 = _0x94a66a * _0x34383b[0] + _0x502044 * 3 * _0x201112 * _0x4bbfd[0] + _0x41ac1a * 3 * _0x398a3d * _0x4ab7cf[0] + _0x44cc7b * _0x39bb13[0];
      const _0xfbc140 = _0x94a66a * _0x34383b[1] + _0x502044 * 3 * _0x201112 * _0x4bbfd[1] + _0x41ac1a * 3 * _0x398a3d * _0x4ab7cf[1] + _0x44cc7b * _0x39bb13[1];
      return [_0x18d7f5, _0xfbc140];
    }
    getNormal(_0x1869f4, _0x1591e7, _0x7b1292) {
      let _0x409aeb = _0x1869f4[0] - _0x1591e7[0];
      let _0x27a89f = _0x1869f4[1] - _0x1591e7[1];
      const _0x3d7f16 = Math.sqrt(_0x409aeb * _0x409aeb + _0x27a89f * _0x27a89f);
      _0x409aeb /= _0x3d7f16;
      _0x27a89f /= _0x3d7f16;
      let _0x59160b = _0x7b1292[0] - _0x1591e7[0];
      let _0x341248 = _0x7b1292[1] - _0x1591e7[1];
      const _0x1950af = Math.sqrt(_0x59160b * _0x59160b + _0x341248 * _0x341248);
      _0x59160b /= _0x1950af;
      _0x341248 /= _0x1950af;
      const _0x37db0b = _0x409aeb + _0x59160b;
      const _0x6aeb22 = _0x27a89f + _0x341248;
      return [_0x37db0b, _0x6aeb22];
    }
    getArcPoints(_0x2b258b, _0x28c393, _0x19c523, _0x4fb7a3) {
      let _0x45a19c = null;
      let _0x460cb0 = null;
      const _0x4d3086 = [];
      let _0x16bc54 = _0x4fb7a3 - _0x19c523;
      _0x16bc54 = _0x16bc54 < 0 ? _0x16bc54 + Math.PI * 2 : _0x16bc54;
      for (let _0x127895 = 0; _0x127895 <= 100; _0x127895++) {
        const _0x2e9b1b = _0x19c523 + _0x16bc54 * _0x127895 / 100;
        _0x45a19c = _0x2b258b[0] + _0x28c393 * Math.cos(_0x2e9b1b);
        _0x460cb0 = _0x2b258b[1] + _0x28c393 * Math.sin(_0x2e9b1b);
        _0x4d3086.push([_0x45a19c, _0x460cb0]);
      }
      return _0x4d3086;
    }
    getPointByAngleAndLen(_0xf02160, _0xbd4498, _0x456f15) {
      const _0x11b2ba = _0xf02160[0] + _0xbd4498 * Math.cos(_0x456f15);
      const _0x2587f4 = _0xf02160[1] + _0xbd4498 * Math.sin(_0x456f15);
      return [_0x11b2ba, _0x2587f4];
    }
    getBaseLength(_0x4510a5) {
      return Math.pow(this.wholeDistance(_0x4510a5), 0.99);
    }
    wholeDistance(_0x596186) {
      let _0x42ae41 = 0;
      const _0xfb1a45 = this;
      if (_0x596186 && Array.isArray(_0x596186) && _0x596186.length > 0) {
        _0x596186.forEach(function (_0x50eb2a, _0x2630af) {
          if (_0x2630af < _0x596186.length - 1) {
            _0x42ae41 += _0xfb1a45.MathDistance(_0x50eb2a, _0x596186[_0x2630af + 1]);
          }
        });
      }
      return _0x42ae41;
    }
    getArrowHeadPoints(_0x5cc3b9) {
      if (!_0x5cc3b9) {
        return [];
      }
      const _0x109afd = _0x5cc3b9.points;
      if (_0x109afd.length < 2) {
        return [];
      }
      const _0x1a7e7f = _0x5cc3b9.tailLeft;
      const _0x244ec0 = _0x5cc3b9.tailRight;
      const _0x30baf2 = _0x5cc3b9.headTailFactor;
      const _0x359704 = _0x5cc3b9.neckWidthFactor;
      const _0x45dc7e = _0x5cc3b9.neckHeightFactor;
      const _0x4c5b19 = _0x5cc3b9.headWidthFactor;
      const _0x4f7f1b = _0x5cc3b9.headHeightFactor;
      let _0x3f9348 = this.getBaseLength(_0x109afd);
      let _0x2aa2a0 = _0x3f9348 * _0x4f7f1b;
      const _0x4c9dff = _0x109afd[_0x109afd.length - 1];
      _0x3f9348 = this.MathDistance(_0x4c9dff, _0x109afd[_0x109afd.length - 2]);
      const _0x13ec2a = this.MathDistance(_0x1a7e7f, _0x244ec0);
      if (_0x2aa2a0 > _0x13ec2a * _0x30baf2) {
        _0x2aa2a0 = _0x13ec2a * _0x30baf2;
      }
      const _0x81d194 = _0x2aa2a0 * _0x4c5b19;
      const _0x24953a = _0x2aa2a0 * _0x359704;
      _0x2aa2a0 = _0x2aa2a0 > _0x3f9348 ? _0x3f9348 : _0x2aa2a0;
      const _0x45a23b = _0x2aa2a0 * _0x45dc7e;
      const _0x1d32c7 = this.getThirdPoint(_0x109afd[_0x109afd.length - 2], _0x4c9dff, 0, _0x2aa2a0, true);
      const _0x3e9e48 = this.getThirdPoint(_0x109afd[_0x109afd.length - 2], _0x4c9dff, 0, _0x45a23b, true);
      const _0x17f216 = this.getThirdPoint(_0x4c9dff, _0x1d32c7, this.HALF_PI, _0x81d194, false);
      const _0x5eb96d = this.getThirdPoint(_0x4c9dff, _0x1d32c7, this.HALF_PI, _0x81d194, true);
      const _0x24ff2d = this.getThirdPoint(_0x4c9dff, _0x3e9e48, this.HALF_PI, _0x24953a, false);
      const _0x1190d6 = this.getThirdPoint(_0x4c9dff, _0x3e9e48, this.HALF_PI, _0x24953a, true);
      return [_0x24ff2d, _0x17f216, _0x4c9dff, _0x5eb96d, _0x1190d6];
    }
    getTailPoints(_0x35a481) {
      if (!_0x35a481) {
        return;
      }
      const _0x5e61ac = _0x35a481.points;
      const _0x2b981d = _0x35a481.tailWidthFactor;
      const _0x386e37 = _0x35a481.swallowTailFactor;
      const _0xc35cf0 = this.getBaseLength(_0x5e61ac);
      const _0xaf19c7 = _0xc35cf0 * _0x2b981d;
      const _0x566bdc = this.getThirdPoint(_0x5e61ac[1], _0x5e61ac[0], this.HALF_PI, _0xaf19c7, false);
      const _0x223b5c = this.getThirdPoint(_0x5e61ac[1], _0x5e61ac[0], this.HALF_PI, _0xaf19c7, true);
      const _0x369607 = _0xaf19c7 * _0x386e37;
      const _0x169b26 = this.getThirdPoint(_0x5e61ac[1], _0x5e61ac[0], 0, _0x369607, true);
      return [_0x566bdc, _0x169b26, _0x223b5c];
    }
    getArrowBodyPoints(_0xb842a0, _0x24e364, _0x80563f, _0x4c8317) {
      const _0x2b57e4 = this.wholeDistance(_0xb842a0);
      const _0x3582ba = this.getBaseLength(_0xb842a0);
      const _0x410775 = _0x3582ba * _0x4c8317;
      const _0x490c8b = this.MathDistance(_0x24e364, _0x80563f);
      const _0x83579c = (_0x410775 - _0x490c8b) / 2;
      let _0x1f7dcb = 0;
      const _0x1d8803 = [];
      const _0x52dfda = [];
      for (let _0x5cd49c = 1; _0x5cd49c < _0xb842a0.length - 1; _0x5cd49c++) {
        const _0x5b05a1 = this.getAngleOfThreePoints(_0xb842a0[_0x5cd49c - 1], _0xb842a0[_0x5cd49c], _0xb842a0[_0x5cd49c + 1]) / 2;
        _0x1f7dcb += this.MathDistance(_0xb842a0[_0x5cd49c - 1], _0xb842a0[_0x5cd49c]);
        const _0x5c5c3f = (_0x410775 / 2 - _0x1f7dcb / _0x2b57e4 * _0x83579c) / Math.sin(_0x5b05a1);
        const _0x419371 = this.getThirdPoint(_0xb842a0[_0x5cd49c - 1], _0xb842a0[_0x5cd49c], Math.PI - _0x5b05a1, _0x5c5c3f, true);
        const _0x2b03aa = this.getThirdPoint(_0xb842a0[_0x5cd49c - 1], _0xb842a0[_0x5cd49c], _0x5b05a1, _0x5c5c3f, false);
        _0x1d8803.push(_0x419371);
        _0x52dfda.push(_0x2b03aa);
      }
      return _0x1d8803.concat(_0x52dfda);
    }
    getAngleOfThreePoints(_0x2cb9da, _0x3308b6, _0x261e84) {
      const _0x103a0b = this.getAzimuth(_0x3308b6, _0x2cb9da) - this.getAzimuth(_0x3308b6, _0x261e84);
      if (_0x103a0b < 0) {
        return _0x103a0b + Math.PI * 2;
      } else {
        return _0x103a0b;
      }
    }
    getQBSplinePoints(_0x130961) {
      if (_0x130961.length <= 2) {
        return _0x130961;
      } else {
        const _0x576027 = 2;
        const _0x5a2bd8 = [];
        const _0x99c852 = _0x130961.length - _0x576027 - 1;
        _0x5a2bd8.push(_0x130961[0]);
        for (let _0x57506a = 0; _0x57506a <= _0x99c852; _0x57506a++) {
          for (let _0x1bbe2e = 0; _0x1bbe2e <= 1; _0x1bbe2e += 0.05) {
            let _0x401fc9 = 0;
            let _0xd31aa4 = 0;
            for (let _0x4964c2 = 0; _0x4964c2 <= _0x576027; _0x4964c2++) {
              const _0xcba392 = this.getQuadricBSplineFactor(_0x4964c2, _0x1bbe2e);
              _0x401fc9 += _0xcba392 * _0x130961[_0x57506a + _0x4964c2][0];
              _0xd31aa4 += _0xcba392 * _0x130961[_0x57506a + _0x4964c2][1];
            }
            _0x5a2bd8.push([_0x401fc9, _0xd31aa4]);
          }
        }
        _0x5a2bd8.push(_0x130961[_0x130961.length - 1]);
        return _0x5a2bd8;
      }
    }
    getQuadricBSplineFactor(_0xeb8358, _0x347446) {
      let _0x58ac19 = 0;
      if (_0xeb8358 === 0) {
        _0x58ac19 = Math.pow(_0x347446 - 1, 2) / 2;
      } else if (_0xeb8358 === 1) {
        _0x58ac19 = (Math.pow(_0x347446, 2) * -2 + _0x347446 * 2 + 1) / 2;
      } else if (_0xeb8358 === 2) {
        _0x58ac19 = Math.pow(_0x347446, 2) / 2;
      }
      return _0x58ac19;
    }
    Mid(_0x3a774b, _0x3c8f6e) {
      return [(_0x3a774b[0] + _0x3c8f6e[0]) / 2, (_0x3a774b[1] + _0x3c8f6e[1]) / 2, (_0x3a774b[2] || 0 + _0x3c8f6e[2] || 0) / 2];
    }
    getCircleCenterOfThreePoints(_0x2146a0, _0x2f5ff0, _0x588b21) {
      const _0x456aae = _0x2146a0[2] || 0;
      const _0xd33ac7 = [(_0x2146a0[0] + _0x2f5ff0[0]) / 2, (_0x2146a0[1] + _0x2f5ff0[1]) / 2, _0x456aae];
      const _0x2615a0 = [_0xd33ac7[0] - _0x2146a0[1] + _0x2f5ff0[1], _0xd33ac7[1] + _0x2146a0[0] - _0x2f5ff0[0], _0x456aae];
      const _0x453789 = [(_0x2146a0[0] + _0x588b21[0]) / 2, (_0x2146a0[1] + _0x588b21[1]) / 2, _0x456aae];
      const _0x16b345 = [_0x453789[0] - _0x2146a0[1] + _0x588b21[1], _0x453789[1] + _0x2146a0[0] - _0x588b21[0], _0x456aae];
      return this.getIntersectPoint(_0xd33ac7, _0x2615a0, _0x453789, _0x16b345);
    }
    getIntersectPoint(_0x49db35, _0x4059d8, _0x4d170d, _0x3a8a53) {
      if (_0x49db35[1] === _0x4059d8[1]) {
        const _0x100d60 = (_0x3a8a53[0] - _0x4d170d[0]) / (_0x3a8a53[1] - _0x4d170d[1]);
        const _0x240a08 = _0x100d60 * (_0x49db35[1] - _0x4d170d[1]) + _0x4d170d[0];
        const _0xc8b7b6 = _0x49db35[1];
        return [_0x240a08, _0xc8b7b6];
      }
      if (_0x4d170d[1] === _0x3a8a53[1]) {
        const _0x29caf4 = (_0x4059d8[0] - _0x49db35[0]) / (_0x4059d8[1] - _0x49db35[1]);
        const _0x590d58 = _0x29caf4 * (_0x4d170d[1] - _0x49db35[1]) + _0x49db35[0];
        const _0x257997 = _0x4d170d[1];
        return [_0x590d58, _0x257997];
      }
      const _0x223857 = (_0x4059d8[0] - _0x49db35[0]) / (_0x4059d8[1] - _0x49db35[1]);
      const _0x1bf64a = (_0x3a8a53[0] - _0x4d170d[0]) / (_0x3a8a53[1] - _0x4d170d[1]);
      const _0x55be86 = (_0x223857 * _0x49db35[1] - _0x49db35[0] - _0x1bf64a * _0x4d170d[1] + _0x4d170d[0]) / (_0x223857 - _0x1bf64a);
      const _0x3fef2d = _0x223857 * _0x55be86 - _0x223857 * _0x49db35[1] + _0x49db35[0];
      return [_0x3fef2d, _0x55be86, _0x49db35[2] || 0];
    }
    getBezierPoints(_0x1ea108) {
      if (_0x1ea108.length <= 2) {
        return _0x1ea108;
      } else {
        const _0x1b46fd = [];
        const _0x341723 = _0x1ea108.length - 1;
        for (let _0x1fc29c = 0; _0x1fc29c <= 1; _0x1fc29c += 0.01) {
          let _0x1eabb5 = 0;
          let _0x56cb06 = 0;
          for (let _0xfedd07 = 0; _0xfedd07 <= _0x341723; _0xfedd07++) {
            const _0x781d8a = this.getBinomialFactor(_0x341723, _0xfedd07);
            const _0x53f91e = Math.pow(_0x1fc29c, _0xfedd07);
            const _0x362922 = Math.pow(1 - _0x1fc29c, _0x341723 - _0xfedd07);
            _0x1eabb5 += _0x781d8a * _0x53f91e * _0x362922 * _0x1ea108[_0xfedd07][0];
            _0x56cb06 += _0x781d8a * _0x53f91e * _0x362922 * _0x1ea108[_0xfedd07][1];
          }
          _0x1b46fd.push([_0x1eabb5, _0x56cb06]);
        }
        return _0x1b46fd;
      }
    }
    getFactorial(_0x4b1408) {
      let _0x52d35e = 1;
      switch (_0x4b1408) {
        case _0x4b1408 <= 1:
          _0x52d35e = 1;
          break;
        case _0x4b1408 === 2:
          _0x52d35e = 2;
          break;
        case _0x4b1408 === 3:
          _0x52d35e = 6;
          break;
        case _0x4b1408 === 24:
          _0x52d35e = 24;
          break;
        case _0x4b1408 === 5:
          _0x52d35e = 120;
          break;
        default:
          for (let _0x5e4caf = 1; _0x5e4caf <= _0x4b1408; _0x5e4caf++) {
            _0x52d35e *= _0x5e4caf;
          }
          break;
      }
      return _0x52d35e;
    }
    getBinomialFactor(_0x387c3e, _0x22bcba) {
      return this.getFactorial(_0x387c3e) / (this.getFactorial(_0x22bcba) * this.getFactorial(_0x387c3e - _0x22bcba));
    }
  }
  const algorithmUtil = new AlgorithmUtil();
  const minAnalge = algorithmUtil.toRadians(20);
  const maxAnalge = algorithmUtil.toRadians(160);
  class ArrowParentUtil {
    constructor() {
      this.algorithmUtil = algorithmUtil;
    }
    getMaxHeight(_0x210a2a) {
      let _0x1cfb6c = _0x210a2a[0][2] || 0;
      for (let _0x1e83f1 = 0; _0x1e83f1 < _0x210a2a.length; _0x1e83f1++) {
        if (_0x210a2a[2] > _0x1cfb6c) {
          _0x1cfb6c = _0x210a2a[2];
        }
      }
      return _0x1cfb6c;
    }
    getArrowHeadPoints(_0x1bc64f, _0x39009d, _0x5ce2a5) {
      if (!_0x1bc64f || _0x1bc64f.length < 2) {
        return null;
      }
      let _0x1aca68 = this.algorithmUtil.getBaseLength(_0x1bc64f) * this.headHeightFactor;
      const _0x1bba2f = this.algorithmUtil.MathDistance(_0x39009d, _0x5ce2a5);
      if (_0x1aca68 > _0x1bba2f * this.headTailFactor) {
        _0x1aca68 = _0x1bba2f * this.headTailFactor;
      }
      const _0x2f3086 = _0x1bc64f[_0x1bc64f.length - 1];
      const _0xa66446 = _0x1bc64f[_0x1bc64f.length - 2];
      const _0x214a2a = this.algorithmUtil.MathDistance(_0x2f3086, _0xa66446);
      _0x1aca68 = _0x1aca68 > _0x214a2a ? _0x214a2a : _0x1aca68;
      const _0x252c78 = _0x1aca68 * this.headWidthFactor;
      const _0x52cb6c = _0x1aca68 * this.neckWidthFactor;
      const _0xf245b1 = _0x1aca68 * this.neckHeightFactor;
      const _0x176033 = this.algorithmUtil.getThirdPoint(_0xa66446, _0x2f3086, 0, _0x1aca68, true);
      const _0x432e36 = this.algorithmUtil.getThirdPoint(_0xa66446, _0x2f3086, 0, _0xf245b1, true);
      const _0x5ccad8 = this.algorithmUtil.getThirdPoint(_0x2f3086, _0x176033, Math.PI / 2, _0x252c78, false);
      const _0x54e1ba = this.algorithmUtil.getThirdPoint(_0x2f3086, _0x176033, Math.PI / 2, _0x252c78, true);
      const _0x24f0e1 = this.algorithmUtil.getThirdPoint(_0x2f3086, _0x432e36, Math.PI / 2, _0x52cb6c, false);
      const _0x23c769 = this.algorithmUtil.getThirdPoint(_0x2f3086, _0x432e36, Math.PI / 2, _0x52cb6c, true);
      return [_0x24f0e1, _0x5ccad8, _0x2f3086, _0x54e1ba, _0x23c769];
    }
    getArrowBodyPoints(_0x146d2c, _0x4a02db, _0x106d57, _0x114c00) {
      const _0x463c49 = this.algorithmUtil.wholeDistance(_0x146d2c);
      const _0x37fd2c = this.algorithmUtil.getBaseLength(_0x146d2c);
      const _0x25178f = _0x37fd2c * _0x114c00;
      const _0x435000 = this.algorithmUtil.MathDistance(_0x4a02db, _0x106d57);
      const _0x4b13d4 = (_0x25178f - _0x435000) / 2;
      let _0x16e344 = 0;
      const _0x5d4194 = [];
      const _0x9f2c2f = [];
      for (let _0x4960f7 = 1; _0x4960f7 < _0x146d2c.length - 1; _0x4960f7++) {
        let _0x4227c4 = this.algorithmUtil.getAngleOfThreePoints(_0x146d2c[_0x4960f7 - 1], _0x146d2c[_0x4960f7], _0x146d2c[_0x4960f7 + 1]) / 2;
        if (_0x4227c4 < minAnalge) {
          _0x4227c4 = minAnalge;
        } else if (_0x4227c4 > maxAnalge) {
          _0x4227c4 = maxAnalge;
        }
        _0x16e344 += this.algorithmUtil.MathDistance(_0x146d2c[_0x4960f7 - 1], _0x146d2c[_0x4960f7]);
        const _0x539496 = (_0x25178f / 2 - _0x16e344 / _0x463c49 * _0x4b13d4) / Math.sin(_0x4227c4);
        const _0x21b1e = this.algorithmUtil.getThirdPoint(_0x146d2c[_0x4960f7 - 1], _0x146d2c[_0x4960f7], Math.PI - _0x4227c4, _0x539496, true);
        const _0x5d5e8b = this.algorithmUtil.getThirdPoint(_0x146d2c[_0x4960f7 - 1], _0x146d2c[_0x4960f7], _0x4227c4, _0x539496, false);
        _0x5d4194.push(_0x21b1e);
        _0x9f2c2f.push(_0x5d5e8b);
      }
      return _0x5d4194.concat(_0x9f2c2f);
    }
  }
  class AttackArrowUtil extends ArrowParentUtil {
    setOptions(_0x29d84d = {}) {
      this.headHeightFactor = _0x29d84d.headHeightFactor || 0.18;
      this.headWidthFactor = _0x29d84d.headWidthFactor || 0.3;
      this.neckHeightFactor = _0x29d84d.neckHeightFactor || 0.85;
      this.neckWidthFactor = _0x29d84d.neckWidthFactor || 0.15;
      this.headTailFactor = _0x29d84d.headTailFactor || 0.8;
    }
    startCompute(_0xe139fe, _0x25c68b) {
      if (!_0xe139fe || _0xe139fe.length === 0) {
        return _0xe139fe;
      }
      this.positions = _0xe139fe;
      this.setOptions(_0x25c68b);
      const _0x5d783a = cartesians2mercators(_0xe139fe);
      const _0x1325ab = _0x25c68b?.maxHeight ?? this.getMaxHeight(_0x5d783a);
      const _0x2810fd = _0x5d783a[_0x5d783a.length - 1];
      const _0x2d7d42 = _0x5d783a[_0x5d783a.length - 2];
      const _0x351ed8 = this.algorithmUtil.MathDistance(_0x2810fd, _0x2d7d42);
      if (_0x351ed8 < 1 && _0x5d783a.length > 2) {
        _0x5d783a.splice(_0x5d783a.length - 2, 1);
      }
      let _0x387336 = _0x5d783a[0];
      let _0x4adb72 = _0x5d783a[1];
      if (this.algorithmUtil.isClockWise(_0x5d783a[0], _0x5d783a[1], _0x5d783a[2])) {
        _0x387336 = _0x5d783a[1];
        _0x4adb72 = _0x5d783a[0];
      }
      const _0x22bb89 = this.algorithmUtil.Mid(_0x387336, _0x4adb72);
      const _0x53911f = [_0x22bb89].concat(_0x5d783a.slice(2));
      const _0x24c91d = this.getArrowHeadPoints(_0x53911f, _0x387336, _0x4adb72);
      if (!_0x24c91d || _0x24c91d.length < 4) {
        return _0xe139fe;
      }
      const _0x2e2423 = _0x24c91d[0];
      const _0x1335d9 = _0x24c91d[4];
      const _0x41687c = this.algorithmUtil.MathDistance(_0x387336, _0x4adb72) / this.algorithmUtil.getBaseLength(_0x53911f);
      const _0x26eb2b = this.getArrowBodyPoints(_0x53911f, _0x2e2423, _0x1335d9, _0x41687c);
      const _0x47d090 = _0x26eb2b.length;
      let _0x194e98 = [_0x387336].concat(_0x26eb2b.slice(0, _0x47d090 / 2));
      _0x194e98.push(_0x2e2423);
      let _0x3eab3f = [_0x4adb72].concat(_0x26eb2b.slice(_0x47d090 / 2, _0x47d090));
      _0x3eab3f.push(_0x1335d9);
      _0x194e98 = this.algorithmUtil.getQBSplinePoints(_0x194e98);
      _0x3eab3f = this.algorithmUtil.getQBSplinePoints(_0x3eab3f);
      const _0x1a55e1 = _0x194e98.concat(_0x24c91d, _0x3eab3f.reverse());
      const _0x20fbe4 = mercators2cartesians(_0x1a55e1, _0x1325ab);
      return _0x20fbe4;
    }
  }
  const attackArrowUtil$1 = new AttackArrowUtil();
  class AttackArrow extends PolygonEntity {
    get hasClosure() {
      return false;
    }
    getShowPositions(_0x46c01b) {
      if (!_0x46c01b || _0x46c01b.length < 2) {
        return _0x46c01b;
      }
      this.style.maxHeight = this.getMaxHeight();
      return attackArrowUtil$1.startCompute(_0x46c01b, this.style);
    }
    _updateEditDraggerPositionHeight(_0x2c3dc3) {
      return setPositionsHeight(_0x2c3dc3, this.style.maxHeight);
    }
  }
  register$5("attackArrow", AttackArrow);
  class AttackArrowPWUtil extends ArrowParentUtil {
    setOptions(_0x301dd3 = {}) {
      this.headHeightFactor = _0x301dd3.headHeightFactor || 0.18;
      this.headWidthFactor = _0x301dd3.headWidthFactor || 0.3;
      this.neckHeightFactor = _0x301dd3.neckHeightFactor || 0.85;
      this.neckWidthFactor = _0x301dd3.neckWidthFactor || 0.15;
      this.tailWidthFactor = _0x301dd3.tailWidthFactor || 0.1;
    }
    startCompute(_0x422d0b, _0x4eaabb) {
      if (!_0x422d0b || _0x422d0b.length === 0) {
        return _0x422d0b;
      }
      this.positions = _0x422d0b;
      this.setOptions(_0x4eaabb);
      const _0x3833dc = cartesians2mercators(_0x422d0b);
      const _0x4c2bc7 = _0x4eaabb?.maxHeight ?? this.getMaxHeight(_0x3833dc);
      const _0x1252c9 = this.getTailPoints(_0x3833dc);
      const _0x160ef7 = this.getArrowHeadPoints(_0x3833dc, _0x1252c9[0], _0x1252c9[1]);
      if (!_0x160ef7 || _0x160ef7.length < 4) {
        return _0x422d0b;
      }
      const _0x223ab2 = _0x160ef7[0];
      const _0x510af6 = _0x160ef7[4];
      const _0x5c0ea2 = this.getArrowBodyPoints(_0x3833dc, _0x223ab2, _0x510af6, this.tailWidthFactor);
      const _0x1ea555 = _0x5c0ea2.length;
      let _0x59a545 = [_0x1252c9[0]].concat(_0x5c0ea2.slice(0, _0x1ea555 / 2));
      _0x59a545.push(_0x223ab2);
      let _0x3eb179 = [_0x1252c9[1]].concat(_0x5c0ea2.slice(_0x1ea555 / 2, _0x1ea555));
      _0x3eb179.push(_0x510af6);
      _0x59a545 = this.algorithmUtil.getQBSplinePoints(_0x59a545);
      _0x3eb179 = this.algorithmUtil.getQBSplinePoints(_0x3eb179);
      const _0x43a4bf = _0x59a545.concat(_0x160ef7, _0x3eb179.reverse());
      const _0x59b4e7 = mercators2cartesians(_0x43a4bf, _0x4c2bc7);
      return _0x59b4e7;
    }
    getTailPoints(_0x254387) {
      const _0x33a6a3 = this.algorithmUtil.getBaseLength(_0x254387);
      const _0x265594 = _0x33a6a3 * this.tailWidthFactor;
      const _0x3c3dc8 = this.algorithmUtil.getThirdPoint(_0x254387[1], _0x254387[0], Math.PI / 2, _0x265594, false);
      const _0xafcca6 = this.algorithmUtil.getThirdPoint(_0x254387[1], _0x254387[0], Math.PI / 2, _0x265594, true);
      return [_0x3c3dc8, _0xafcca6];
    }
  }
  const attackArrowPWUtil = new AttackArrowPWUtil();
  class AttackArrowPW extends PolygonEntity {
    get hasClosure() {
      return false;
    }
    getShowPositions(_0x27285d) {
      if (!_0x27285d || _0x27285d.length < 2) {
        return _0x27285d;
      }
      this.style.maxHeight = this.getMaxHeight();
      return attackArrowPWUtil.startCompute(_0x27285d, this.style);
    }
    _updateEditDraggerPositionHeight(_0x13931e) {
      return setPositionsHeight(_0x13931e, this.style.maxHeight);
    }
    static getOutlinePositions(_0x3959b9, _0x51b253) {
      if (!_0x3959b9 || _0x3959b9.length < 2) {
        return _0x3959b9;
      }
      _0x3959b9 = LngLatArray.toCartesians(_0x3959b9);
      return attackArrowPWUtil.startCompute(_0x3959b9, _0x51b253);
    }
  }
  register$5("attackArrowPW", AttackArrowPW);
  class AttackArrowYWUtil extends ArrowParentUtil {
    setOptions(_0x569feb = {}) {
      this.headHeightFactor = _0x569feb.headHeightFactor || 0.18;
      this.headWidthFactor = _0x569feb.headWidthFactor || 0.3;
      this.neckHeightFactor = _0x569feb.neckHeightFactor || 0.85;
      this.neckWidthFactor = _0x569feb.neckWidthFactor || 0.15;
      this.tailWidthFactor = _0x569feb.tailWidthFactor || 0.1;
      this.headTailFactor = _0x569feb.headTailFactor || 0.8;
      this.swallowTailFactor = _0x569feb.swallowTailFactor || 1;
    }
    startCompute(_0x1f85e5, _0x361ed3) {
      if (!_0x1f85e5 || _0x1f85e5.length === 0) {
        return _0x1f85e5;
      }
      this.positions = _0x1f85e5;
      this.setOptions(_0x361ed3);
      const _0x5f4aff = cartesians2mercators(_0x1f85e5);
      const _0x1ff197 = _0x361ed3?.maxHeight ?? this.getMaxHeight(_0x5f4aff);
      const _0x890797 = [_0x5f4aff[0], _0x5f4aff[1]];
      let _0x662b6e = _0x890797[0];
      let _0x21c87a = _0x890797[1];
      if (this.algorithmUtil.isClockWise(_0x5f4aff[0], _0x5f4aff[1], _0x5f4aff[2])) {
        _0x662b6e = _0x5f4aff[1];
        _0x21c87a = _0x5f4aff[0];
      }
      const _0x48d281 = this.algorithmUtil.Mid(_0x662b6e, _0x21c87a);
      const _0xb9bf87 = [_0x48d281].concat(_0x5f4aff.slice(2));
      const _0x51f459 = this.getArrowHeadPoints(_0xb9bf87, _0x662b6e, _0x21c87a);
      if (!_0x51f459 || _0x51f459.length < 4) {
        return _0x1f85e5;
      }
      const _0x399b6b = [_0x51f459[0], _0x51f459[4]];
      const _0x220bec = _0x399b6b[0];
      const _0x59f672 = _0x399b6b[1];
      const _0x5e7f89 = this.algorithmUtil.MathDistance(_0x662b6e, _0x21c87a);
      const _0x48d2a5 = this.algorithmUtil.getBaseLength(_0xb9bf87);
      const _0xc15e3e = _0x48d2a5 * this.tailWidthFactor * this.swallowTailFactor;
      const _0x367eff = this.algorithmUtil.getThirdPoint(_0xb9bf87[1], _0xb9bf87[0], 0, _0xc15e3e, true);
      const _0x402e5a = _0x5e7f89 / _0x48d2a5;
      const _0x57da3f = this.getArrowBodyPoints(_0xb9bf87, _0x220bec, _0x59f672, _0x402e5a);
      const _0x25c373 = _0x57da3f.length;
      let _0x2ceb19 = [_0x662b6e].concat(_0x57da3f.slice(0, _0x25c373 / 2));
      _0x2ceb19.push(_0x220bec);
      let _0x546f0d = [_0x21c87a].concat(_0x57da3f.slice(_0x25c373 / 2, _0x25c373));
      _0x546f0d.push(_0x59f672);
      _0x2ceb19 = this.algorithmUtil.getQBSplinePoints(_0x2ceb19);
      _0x546f0d = this.algorithmUtil.getQBSplinePoints(_0x546f0d);
      const _0x1fc79b = _0x2ceb19.concat(_0x51f459, _0x546f0d.reverse(), [_0x367eff, _0x2ceb19[0]]);
      const _0x5855cd = mercators2cartesians(_0x1fc79b, _0x1ff197);
      return _0x5855cd;
    }
  }
  const attackArrowUtil = new AttackArrowYWUtil();
  class AttackArrowYW extends PolygonEntity {
    get hasClosure() {
      return false;
    }
    getShowPositions(_0x49b6c3) {
      if (!_0x49b6c3 || _0x49b6c3.length < 3) {
        return _0x49b6c3;
      }
      this.style.maxHeight = this.getMaxHeight();
      return attackArrowUtil.startCompute(_0x49b6c3, this.style);
    }
    _updateEditDraggerPositionHeight(_0x1e55e9) {
      return setPositionsHeight(_0x1e55e9, this.style.maxHeight);
    }
    static getOutlinePositions(_0x5728ee, _0x5d1ae3) {
      if (!_0x5728ee || _0x5728ee.length < 3) {
        return _0x5728ee;
      }
      _0x5728ee = LngLatArray.toCartesians(_0x5728ee);
      return attackArrowUtil.startCompute(_0x5728ee, _0x5d1ae3);
    }
  }
  register$5("attackArrowYW", AttackArrowYW);
  class CloseCurveUtil {
    constructor() {
      this.algorithmUtil = algorithmUtil;
    }
    startCompute(_0x431e85, _0x3f03d7) {
      if (!_0x431e85 || _0x431e85.length === 0) {
        return _0x431e85;
      }
      this.positions = _0x431e85;
      const _0x2fb297 = cartesians2mercators(_0x431e85);
      const _0x17217e = _0x3f03d7?.maxHeight ?? this.getMaxHeight(_0x2fb297);
      _0x2fb297.push(_0x2fb297[0], _0x2fb297[1]);
      let _0x33410b = [];
      const _0xa7c4ec = [];
      for (let _0x292c8a = 0; _0x292c8a < _0x2fb297.length - 2; _0x292c8a++) {
        const _0xf1bc69 = this.algorithmUtil.getBisectorNormals(0.3, _0x2fb297[_0x292c8a], _0x2fb297[_0x292c8a + 1], _0x2fb297[_0x292c8a + 2]);
        _0x33410b = _0x33410b.concat(_0xf1bc69);
      }
      const _0x26c2d3 = _0x33410b.length;
      _0x33410b = [_0x33410b[_0x26c2d3 - 1]].concat(_0x33410b.slice(0, _0x26c2d3 - 1));
      for (let _0x24a946 = 0; _0x24a946 < _0x2fb297.length - 2; _0x24a946++) {
        const _0x2cbaf8 = _0x2fb297[_0x24a946];
        const _0x5f0954 = _0x2fb297[_0x24a946 + 1];
        _0xa7c4ec.push(_0x2cbaf8);
        for (let _0x2751b2 = 0; _0x2751b2 <= 100; _0x2751b2++) {
          const _0x2e5fa9 = this.algorithmUtil.getCubicValue(_0x2751b2 / 100, _0x2cbaf8, _0x33410b[_0x24a946 * 2], _0x33410b[_0x24a946 * 2 + 1], _0x5f0954);
          _0xa7c4ec.push(_0x2e5fa9);
        }
        _0xa7c4ec.push(_0x5f0954);
      }
      const _0x263ca9 = mercators2cartesians(_0xa7c4ec, _0x17217e);
      return _0x263ca9;
    }
    getMaxHeight(_0x17b3a0) {
      let _0x1e6787 = _0x17b3a0[0][2] || 0;
      for (let _0x599dc2 = 0; _0x599dc2 < _0x17b3a0.length; _0x599dc2++) {
        if (_0x17b3a0[2] > _0x1e6787) {
          _0x1e6787 = _0x17b3a0[2];
        }
      }
      return _0x1e6787;
    }
  }
  const closeCurveUtil = new CloseCurveUtil();
  class CloseVurve extends PolygonEntity {
    getShowPositions(_0x41e8b6) {
      if (!_0x41e8b6 || _0x41e8b6.length < 2) {
        return _0x41e8b6;
      }
      this.style.maxHeight = this.getMaxHeight();
      return closeCurveUtil.startCompute(_0x41e8b6, this.style);
    }
    _updateEditDraggerPositionHeight(_0x55d98b) {
      return setPositionsHeight(_0x55d98b, this.style.maxHeight);
    }
    static getOutlinePositions(_0x152391, _0x44b83b) {
      if (!_0x152391 || _0x152391.length < 2) {
        return _0x152391;
      }
      _0x152391 = LngLatArray.toCartesians(_0x152391);
      return closeCurveUtil.startCompute(_0x152391, _0x44b83b);
    }
  }
  register$5("closeVurve", CloseVurve);
  class DoubleArrowUtil {
    constructor() {
      this.algorithmUtil = algorithmUtil;
    }
    setOptions(_0x27bb9a = {}) {
      this.headHeightFactor = _0x27bb9a.headHeightFactor || 0.25;
      this.headWidthFactor = _0x27bb9a.headWidthFactor || 0.3;
      this.neckHeightFactor = _0x27bb9a.neckHeightFactor || 0.85;
      this.neckWidthFactor = _0x27bb9a.neckWidthFactor || 0.15;
    }
    startCompute(_0x50cd51, _0x447383) {
      if (!_0x50cd51 || _0x50cd51.length < 3) {
        return _0x50cd51;
      }
      this.positions = _0x50cd51;
      this.setOptions(_0x447383);
      const _0x3f17c3 = cartesians2mercators(_0x50cd51);
      const _0x23e8f0 = _0x447383?.maxHeight ?? this.getMaxHeight(_0x3f17c3);
      const _0x1fc712 = [_0x3f17c3[0], _0x3f17c3[1], _0x3f17c3[2]];
      const _0x4b6917 = _0x1fc712[0];
      const _0x3d000d = _0x1fc712[1];
      const _0x4b1f2c = _0x1fc712[2];
      const _0x13e7df = this.positions.length;
      let _0x579953;
      let _0x90fb7e;
      if (_0x13e7df === 3) {
        _0x579953 = this.getTempPoint4(_0x4b6917, _0x3d000d, _0x4b1f2c);
        _0x90fb7e = this.algorithmUtil.Mid(_0x4b6917, _0x3d000d);
      } else if (_0x13e7df === 4) {
        _0x579953 = _0x3f17c3[3];
        _0x90fb7e = this.algorithmUtil.Mid(_0x4b6917, _0x3d000d);
      } else {
        const _0x331cdc = this.algorithmUtil.MathDistance(_0x3f17c3[3], _0x3f17c3[4]);
        const _0x28d668 = this.algorithmUtil.MathDistance(_0x3f17c3[2], _0x3f17c3[3]);
        if (_0x331cdc < _0x28d668 * 0.1) {
          _0x579953 = _0x3f17c3[3];
          _0x90fb7e = this.algorithmUtil.Mid(_0x4b6917, _0x3d000d);
        } else {
          _0x579953 = _0x3f17c3[3];
          _0x90fb7e = _0x3f17c3[4];
        }
      }
      let _0x3044fd;
      let _0x8120ae;
      if (this.algorithmUtil.isClockWise(_0x4b6917, _0x3d000d, _0x4b1f2c)) {
        _0x3044fd = this.getArrowPoints(_0x4b6917, _0x90fb7e, _0x579953, false);
        _0x8120ae = this.getArrowPoints(_0x90fb7e, _0x3d000d, _0x4b1f2c, true);
      } else {
        _0x3044fd = this.getArrowPoints(_0x3d000d, _0x90fb7e, _0x4b1f2c, false);
        _0x8120ae = this.getArrowPoints(_0x90fb7e, _0x4b6917, _0x579953, true);
      }
      const _0x491e69 = _0x3044fd.length;
      const _0x2965de = (_0x491e69 - 5) / 2;
      const _0x1d118a = _0x3044fd.slice(0, _0x2965de);
      const _0x2d73e1 = _0x3044fd.slice(_0x2965de, _0x2965de + 5);
      let _0x1ab4e3 = _0x3044fd.slice(_0x2965de + 5, _0x491e69);
      let _0x9c7705 = _0x8120ae.slice(0, _0x2965de);
      const _0x782bd7 = _0x8120ae.slice(_0x2965de, _0x2965de + 5);
      const _0x5c598e = _0x8120ae.slice(_0x2965de + 5, _0x491e69);
      _0x9c7705 = this.algorithmUtil.getBezierPoints(_0x9c7705);
      const _0x197208 = this.algorithmUtil.getBezierPoints(_0x5c598e.concat(_0x1d118a.slice(1)));
      _0x1ab4e3 = this.algorithmUtil.getBezierPoints(_0x1ab4e3);
      const _0x4622c7 = _0x9c7705.concat(_0x782bd7, _0x197208, _0x2d73e1, _0x1ab4e3);
      const _0x549d52 = mercators2cartesians(_0x4622c7, _0x23e8f0);
      return _0x549d52;
    }
    getTempPoint4(_0x1a9bc7, _0x23d421, _0x8a86fc) {
      const _0x40f149 = this.algorithmUtil.Mid(_0x1a9bc7, _0x23d421);
      const _0x333f1e = this.algorithmUtil.MathDistance(_0x40f149, _0x8a86fc);
      const _0x5c3cde = this.algorithmUtil.getAngleOfThreePoints(_0x1a9bc7, _0x40f149, _0x8a86fc);
      let _0xf522d0;
      let _0x3de2a4;
      let _0x16d497;
      let _0xf0f603;
      if (_0x5c3cde < Math.PI / 2) {
        _0x3de2a4 = _0x333f1e * Math.sin(_0x5c3cde);
        _0x16d497 = _0x333f1e * Math.cos(_0x5c3cde);
        _0xf0f603 = this.algorithmUtil.getThirdPoint(_0x1a9bc7, _0x40f149, Math.PI / 2, _0x3de2a4, false);
        _0xf522d0 = this.algorithmUtil.getThirdPoint(_0x40f149, _0xf0f603, Math.PI / 2, _0x16d497, true);
      } else if (_0x5c3cde >= Math.PI / 2 && _0x5c3cde < Math.PI) {
        _0x3de2a4 = _0x333f1e * Math.sin(Math.PI - _0x5c3cde);
        _0x16d497 = _0x333f1e * Math.cos(Math.PI - _0x5c3cde);
        _0xf0f603 = this.algorithmUtil.getThirdPoint(_0x1a9bc7, _0x40f149, Math.PI / 2, _0x3de2a4, false);
        _0xf522d0 = this.algorithmUtil.getThirdPoint(_0x40f149, _0xf0f603, Math.PI / 2, _0x16d497, false);
      } else if (_0x5c3cde >= Math.PI && _0x5c3cde < Math.PI * 1.5) {
        _0x3de2a4 = _0x333f1e * Math.sin(_0x5c3cde - Math.PI);
        _0x16d497 = _0x333f1e * Math.cos(_0x5c3cde - Math.PI);
        _0xf0f603 = this.algorithmUtil.getThirdPoint(_0x1a9bc7, _0x40f149, Math.PI / 2, _0x3de2a4, true);
        _0xf522d0 = this.algorithmUtil.getThirdPoint(_0x40f149, _0xf0f603, Math.PI / 2, _0x16d497, true);
      } else {
        _0x3de2a4 = _0x333f1e * Math.sin(Math.PI * 2 - _0x5c3cde);
        _0x16d497 = _0x333f1e * Math.cos(Math.PI * 2 - _0x5c3cde);
        _0xf0f603 = this.algorithmUtil.getThirdPoint(_0x1a9bc7, _0x40f149, Math.PI / 2, _0x3de2a4, true);
        _0xf522d0 = this.algorithmUtil.getThirdPoint(_0x40f149, _0xf0f603, Math.PI / 2, _0x16d497, false);
      }
      return _0xf522d0;
    }
    getArrowPoints(_0x1d33a4, _0x265187, _0x1f93e8, _0x1e489e) {
      const _0x1d7fa6 = this.algorithmUtil.Mid(_0x1d33a4, _0x265187);
      const _0x3dd6b4 = this.algorithmUtil.MathDistance(_0x1d7fa6, _0x1f93e8);
      let _0x1d3084 = this.algorithmUtil.getThirdPoint(_0x1f93e8, _0x1d7fa6, 0, _0x3dd6b4 * 0.3, true);
      let _0x2ea092 = this.algorithmUtil.getThirdPoint(_0x1f93e8, _0x1d7fa6, 0, _0x3dd6b4 * 0.5, true);
      _0x1d3084 = this.algorithmUtil.getThirdPoint(_0x1d7fa6, _0x1d3084, Math.PI / 2, _0x3dd6b4 / 5, _0x1e489e);
      _0x2ea092 = this.algorithmUtil.getThirdPoint(_0x1d7fa6, _0x2ea092, Math.PI / 2, _0x3dd6b4 / 4, _0x1e489e);
      const _0x8c9338 = [_0x1d7fa6, _0x1d3084, _0x2ea092, _0x1f93e8];
      const _0x2395d3 = this.getArrowHeadPoints(_0x8c9338);
      if (_0x2395d3 && Array.isArray(_0x2395d3) && _0x2395d3.length > 3) {
        const _0x5d8e2d = [_0x2395d3[0], _0x2395d3[4]];
        const _0x56f507 = _0x5d8e2d[0];
        const _0x49496e = _0x5d8e2d[1];
        const _0x32d8d8 = this.algorithmUtil.MathDistance(_0x1d33a4, _0x265187) / this.algorithmUtil.getBaseLength(_0x8c9338) / 2;
        const _0x42f3b9 = this.getArrowBodyPoints(_0x8c9338, _0x56f507, _0x49496e, _0x32d8d8);
        if (_0x42f3b9) {
          const _0x2e210b = _0x42f3b9.length;
          let _0x328598 = _0x42f3b9.slice(0, _0x2e210b / 2);
          let _0x398284 = _0x42f3b9.slice(_0x2e210b / 2, _0x2e210b);
          _0x328598.push(_0x56f507);
          _0x398284.push(_0x49496e);
          _0x328598 = _0x328598.reverse();
          _0x328598.push(_0x265187);
          _0x398284 = _0x398284.reverse();
          _0x398284.push(_0x1d33a4);
          return _0x328598.reverse().concat(_0x2395d3, _0x398284);
        }
      } else {
        logWarn("getArrowPoints:插值出错", _0x2395d3);
      }
    }
    getArrowHeadPoints(_0x2724a8) {
      if (!_0x2724a8 || _0x2724a8.length < 2) {
        return [];
      }
      const _0x3d878c = this.algorithmUtil.getBaseLength(_0x2724a8);
      const _0x341952 = _0x3d878c * this.headHeightFactor;
      const _0x3e9141 = _0x2724a8[_0x2724a8.length - 1];
      const _0xe51a74 = _0x341952 * this.headWidthFactor;
      const _0x51c790 = _0x341952 * this.neckWidthFactor;
      const _0x331812 = _0x341952 * this.neckHeightFactor;
      const _0x26ad72 = this.algorithmUtil.getThirdPoint(_0x2724a8[_0x2724a8.length - 2], _0x3e9141, 0, _0x341952, true);
      const _0x1412f8 = this.algorithmUtil.getThirdPoint(_0x2724a8[_0x2724a8.length - 2], _0x3e9141, 0, _0x331812, true);
      const _0x1c595b = this.algorithmUtil.getThirdPoint(_0x3e9141, _0x26ad72, Math.PI / 2, _0xe51a74, false);
      const _0x448d06 = this.algorithmUtil.getThirdPoint(_0x3e9141, _0x26ad72, Math.PI / 2, _0xe51a74, true);
      const _0x2039b0 = this.algorithmUtil.getThirdPoint(_0x3e9141, _0x1412f8, Math.PI / 2, _0x51c790, false);
      const _0x3ca1bf = this.algorithmUtil.getThirdPoint(_0x3e9141, _0x1412f8, Math.PI / 2, _0x51c790, true);
      return [_0x2039b0, _0x1c595b, _0x3e9141, _0x448d06, _0x3ca1bf];
    }
    getArrowBodyPoints(_0x5daa16, _0x4fe3d5, _0xe7fa1d, _0xb4070a) {
      const _0x347b56 = this.algorithmUtil.wholeDistance(_0x5daa16);
      const _0x288f6a = this.algorithmUtil.getBaseLength(_0x5daa16);
      const _0x5e6f5e = _0x288f6a * _0xb4070a;
      const _0x4b22bf = this.algorithmUtil.MathDistance(_0x4fe3d5, _0xe7fa1d);
      const _0x513ba7 = (_0x5e6f5e - _0x4b22bf) / 2;
      let _0x1d3f2e = 0;
      const _0x310e98 = [];
      const _0x47f631 = [];
      for (let _0xaff6f3 = 1; _0xaff6f3 < _0x5daa16.length - 1; _0xaff6f3++) {
        const _0x160859 = this.algorithmUtil.getAngleOfThreePoints(_0x5daa16[_0xaff6f3 - 1], _0x5daa16[_0xaff6f3], _0x5daa16[_0xaff6f3 + 1]) / 2;
        _0x1d3f2e += this.algorithmUtil.MathDistance(_0x5daa16[_0xaff6f3 - 1], _0x5daa16[_0xaff6f3]);
        const _0xa7ea3f = (_0x5e6f5e / 2 - _0x1d3f2e / _0x347b56 * _0x513ba7) / Math.sin(_0x160859);
        const _0x2eeba3 = this.algorithmUtil.getThirdPoint(_0x5daa16[_0xaff6f3 - 1], _0x5daa16[_0xaff6f3], Math.PI - _0x160859, _0xa7ea3f, true);
        const _0x4cfb6f = this.algorithmUtil.getThirdPoint(_0x5daa16[_0xaff6f3 - 1], _0x5daa16[_0xaff6f3], _0x160859, _0xa7ea3f, false);
        _0x310e98.push(_0x2eeba3);
        _0x47f631.push(_0x4cfb6f);
      }
      return _0x310e98.concat(_0x47f631);
    }
    getMaxHeight(_0x4414dd) {
      let _0x28d048 = _0x4414dd[0][2] || 0;
      for (let _0x59e3d7 = 0; _0x59e3d7 < _0x4414dd.length; _0x59e3d7++) {
        if (_0x4414dd[2] > _0x28d048) {
          _0x28d048 = _0x4414dd[2];
        }
      }
      return _0x28d048;
    }
  }
  const doubleArrowUtil = new DoubleArrowUtil();
  class DoubleArrow extends PolygonEntity {
    constructor(_0x16aae0 = {}) {
      super(_0x16aae0);
      this._minPointNum = 3;
      this._maxPointNum = 5;
    }
    getShowPositions(_0x6d5b98) {
      if (!_0x6d5b98 || _0x6d5b98.length < this._minPointNum) {
        return _0x6d5b98;
      }
      this.style.maxHeight = this.getMaxHeight();
      return doubleArrowUtil.startCompute(_0x6d5b98, this.style);
    }
    _updateEditDraggerPositionHeight(_0x10486f) {
      return setPositionsHeight(_0x10486f, this.style.maxHeight);
    }
    static getOutlinePositions(_0x34a7e7, _0x559445) {
      if (!_0x34a7e7 || _0x34a7e7.length < 3) {
        return _0x34a7e7;
      }
      _0x34a7e7 = LngLatArray.toCartesians(_0x34a7e7);
      return doubleArrowUtil.startCompute(_0x34a7e7, _0x559445);
    }
  }
  register$5("doubleArrow", DoubleArrow);
  class FineArrowUtil {
    constructor() {
      this.algorithmUtil = algorithmUtil;
    }
    setOptions(_0x247f69 = {}) {
      this.headAngle = _0x247f69.headAngle || Math.PI / 8.5;
      this.neckAngle = _0x247f69.neckAngle || Math.PI / 13;
      this.tailWidthFactor = _0x247f69.tailWidthFactor || 0.1;
      this.neckWidthFactor = _0x247f69.neckWidthFactor || 0.2;
      this.headWidthFactor = _0x247f69.headWidthFactor || 0.25;
      this.neckHeightFactor = _0x247f69.neckHeightFactor || 0.85;
    }
    startCompute(_0x206a23, _0x504cc0) {
      if (!_0x206a23 || _0x206a23.length === 0) {
        return _0x206a23;
      }
      this.positions = _0x206a23;
      this.setOptions(_0x504cc0);
      const _0x20063a = cartesians2mercators(_0x206a23);
      const _0xdfe1ee = _0x504cc0?.maxHeight ?? this.getMaxHeight(_0x20063a);
      const _0x62d251 = [_0x20063a[0], _0x20063a[1]];
      const _0x8e36d1 = _0x62d251[0];
      const _0x36ec46 = _0x62d251[1];
      const _0x1b3aba = this.algorithmUtil.getBaseLength(_0x20063a);
      const _0x42c9f7 = _0x1b3aba * this.tailWidthFactor;
      const _0x247c7b = _0x1b3aba * this.neckWidthFactor;
      const _0x4d3ec5 = _0x1b3aba * this.headWidthFactor;
      const _0x43abce = this.algorithmUtil.getThirdPoint(_0x36ec46, _0x8e36d1, Math.PI / 2, _0x42c9f7, true);
      const _0x2894b1 = this.algorithmUtil.getThirdPoint(_0x36ec46, _0x8e36d1, Math.PI / 2, _0x42c9f7, false);
      const _0x30ebc1 = this.algorithmUtil.getThirdPoint(_0x8e36d1, _0x36ec46, this.headAngle, _0x4d3ec5, false);
      const _0x329e8a = this.algorithmUtil.getThirdPoint(_0x8e36d1, _0x36ec46, this.headAngle, _0x4d3ec5, true);
      const _0x265efa = this.algorithmUtil.getThirdPoint(_0x8e36d1, _0x36ec46, this.neckAngle, _0x247c7b, false);
      const _0x4d984b = this.algorithmUtil.getThirdPoint(_0x8e36d1, _0x36ec46, this.neckAngle, _0x247c7b, true);
      const _0x47b6fb = [_0x43abce, _0x265efa, _0x30ebc1, _0x36ec46, _0x329e8a, _0x4d984b, _0x2894b1];
      const _0x10e7d3 = mercators2cartesians(_0x47b6fb, _0xdfe1ee);
      return _0x10e7d3;
    }
    getMaxHeight(_0x1fa779) {
      let _0x27e4b2 = _0x1fa779[0][2] || 0;
      for (let _0x24abd9 = 0; _0x24abd9 < _0x1fa779.length; _0x24abd9++) {
        if (_0x1fa779[2] > _0x27e4b2) {
          _0x27e4b2 = _0x1fa779[2];
        }
      }
      return _0x27e4b2;
    }
  }
  const fineArrowUtil = new FineArrowUtil();
  class FineArrow extends PolygonEntity {
    constructor(_0x5b7818 = {}) {
      super(_0x5b7818);
      this._minPointNum = 2;
      this._maxPointNum = 2;
    }
    getShowPositions(_0x13afbb) {
      if (!_0x13afbb || _0x13afbb.length < 2) {
        return _0x13afbb;
      }
      this.style.maxHeight = this.getMaxHeight();
      return fineArrowUtil.startCompute(_0x13afbb, this.style);
    }
    _updateEditDraggerPositionHeight(_0x359103) {
      return setPositionsHeight(_0x359103, this.style.maxHeight);
    }
    static getOutlinePositions(_0x28a544, _0x749667) {
      if (!_0x28a544 || _0x28a544.length < 2) {
        return _0x28a544;
      }
      _0x28a544 = LngLatArray.toCartesians(_0x28a544);
      return fineArrowUtil.startCompute(_0x28a544, _0x749667);
    }
  }
  register$5("fineArrow", FineArrow);
  class FineArrowYWUtil extends ArrowParentUtil {
    setOptions(_0x46846e = {}) {
      this.headHeightFactor = _0x46846e.headHeightFactor || 0.18;
      this.headWidthFactor = _0x46846e.headWidthFactor || 0.3;
      this.neckHeightFactor = _0x46846e.neckHeightFactor || 0.85;
      this.neckWidthFactor = _0x46846e.neckWidthFactor || 0.15;
      this.tailWidthFactor = _0x46846e.tailWidthFactor || 0.1;
      this.swallowTailFactor = _0x46846e.swallowTailFactor || 1;
    }
    startCompute(_0x55d6e4, _0x260b4c) {
      if (!_0x55d6e4 || _0x55d6e4.length === 0) {
        return _0x55d6e4;
      }
      this.positions = _0x55d6e4;
      this.setOptions(_0x260b4c);
      const _0x1bafe7 = cartesians2mercators(_0x55d6e4);
      const _0x462877 = _0x260b4c?.maxHeight ?? this.getMaxHeight(_0x1bafe7);
      const _0x427e2c = this.getTailPoints(_0x1bafe7);
      const _0x3d205a = this.getArrowHeadPoints(_0x1bafe7, _0x427e2c[0], _0x427e2c[2]);
      if (!_0x3d205a || _0x3d205a.length < 4) {
        return _0x55d6e4;
      }
      const _0x194543 = _0x3d205a[0];
      const _0x21e703 = _0x3d205a[4];
      const _0x226003 = this.getArrowBodyPoints(_0x1bafe7, _0x194543, _0x21e703, this.tailWidthFactor);
      const _0x3410c = _0x226003.length;
      let _0x4932f9 = [_0x427e2c[0]].concat(_0x226003.slice(0, _0x3410c / 2));
      _0x4932f9.push(_0x194543);
      let _0x7deed5 = [_0x427e2c[2]].concat(_0x226003.slice(_0x3410c / 2, _0x3410c));
      _0x7deed5.push(_0x21e703);
      _0x4932f9 = this.algorithmUtil.getQBSplinePoints(_0x4932f9);
      _0x7deed5 = this.algorithmUtil.getQBSplinePoints(_0x7deed5);
      const _0x1e7d8f = _0x4932f9.concat(_0x3d205a, _0x7deed5.reverse(), [_0x427e2c[1], _0x4932f9[0]]);
      const _0x589109 = mercators2cartesians(_0x1e7d8f, _0x462877);
      return _0x589109;
    }
    getTailPoints(_0x248e79) {
      const _0x1b9375 = this.algorithmUtil.getBaseLength(_0x248e79);
      const _0x1a449f = _0x1b9375 * this.tailWidthFactor;
      const _0x43f158 = this.algorithmUtil.getThirdPoint(_0x248e79[1], _0x248e79[0], Math.PI / 2, _0x1a449f, false);
      const _0x232bfc = this.algorithmUtil.getThirdPoint(_0x248e79[1], _0x248e79[0], Math.PI / 2, _0x1a449f, true);
      const _0x7a71d0 = _0x1a449f * this.swallowTailFactor;
      const _0x28913d = this.algorithmUtil.getThirdPoint(_0x248e79[1], _0x248e79[0], 0, _0x7a71d0, true);
      return [_0x43f158, _0x28913d, _0x232bfc];
    }
  }
  const fineArrowYWUtil = new FineArrowYWUtil();
  class FineArrowYW extends PolygonEntity {
    constructor(_0x34a013 = {}) {
      super(_0x34a013);
      this._minPointNum = 2;
      this._maxPointNum = 2;
    }
    getShowPositions(_0x1c8990) {
      if (!_0x1c8990 || _0x1c8990.length < 2) {
        return _0x1c8990;
      }
      this.style.maxHeight = this.getMaxHeight();
      return fineArrowYWUtil.startCompute(_0x1c8990, this.style);
    }
    _updateEditDraggerPositionHeight(_0xccfb51) {
      return setPositionsHeight(_0xccfb51, this.style.maxHeight);
    }
    static getOutlinePositions(_0x13821b, _0x50a90e) {
      if (!_0x13821b || _0x13821b.length < 2) {
        return _0x13821b;
      }
      _0x13821b = LngLatArray.toCartesians(_0x13821b);
      return fineArrowYWUtil.startCompute(_0x13821b, _0x50a90e);
    }
  }
  register$5("fineArrowYW", FineArrowYW);
  class GatheringPlaceUtil {
    constructor() {
      this.algorithmUtil = algorithmUtil;
    }
    startCompute(_0x5e3958, _0x409565) {
      if (!_0x5e3958 || _0x5e3958.length === 0) {
        return _0x5e3958;
      }
      this.positions = _0x5e3958;
      const _0x43fd94 = cartesians2mercators(_0x5e3958);
      const _0x380915 = _0x409565?.maxHeight ?? this.getMaxHeight(_0x43fd94);
      const _0x4cf54c = this.algorithmUtil.Mid(_0x43fd94[0], _0x43fd94[2]);
      _0x43fd94.push(_0x4cf54c, _0x43fd94[0], _0x43fd94[1]);
      let _0x3fe16e = [];
      let _0xe4e37c;
      let _0x4792e9;
      let _0xd52e43;
      const _0x2cf3c7 = [];
      for (let _0x3d5508 = 0; _0x3d5508 < _0x43fd94.length - 2; _0x3d5508++) {
        _0xe4e37c = _0x43fd94[_0x3d5508];
        _0x4792e9 = _0x43fd94[_0x3d5508 + 1];
        _0xd52e43 = _0x43fd94[_0x3d5508 + 2];
        const _0x171052 = this.algorithmUtil.getBisectorNormals(0.4, _0xe4e37c, _0x4792e9, _0xd52e43);
        _0x3fe16e = _0x3fe16e.concat(_0x171052);
      }
      const _0x5ca543 = _0x3fe16e.length;
      _0x3fe16e = [_0x3fe16e[_0x5ca543 - 1]].concat(_0x3fe16e.slice(0, _0x5ca543 - 1));
      for (let _0x10eff5 = 0; _0x10eff5 < _0x43fd94.length - 2; _0x10eff5++) {
        _0xe4e37c = _0x43fd94[_0x10eff5];
        _0x4792e9 = _0x43fd94[_0x10eff5 + 1];
        _0x2cf3c7.push(_0xe4e37c);
        for (let _0x148e38 = 0; _0x148e38 <= 100; _0x148e38++) {
          const _0x2d933f = this.algorithmUtil.getCubicValue(_0x148e38 / 100, _0xe4e37c, _0x3fe16e[_0x10eff5 * 2], _0x3fe16e[_0x10eff5 * 2 + 1], _0x4792e9);
          _0x2cf3c7.push(_0x2d933f);
        }
        _0x2cf3c7.push(_0x4792e9);
      }
      const _0xa41a0b = mercators2cartesians(_0x2cf3c7, _0x380915);
      return _0xa41a0b;
    }
    getMaxHeight(_0x2c3792) {
      let _0x918901 = _0x2c3792[0][2] || 0;
      for (let _0x323db2 = 0; _0x323db2 < _0x2c3792.length; _0x323db2++) {
        if (_0x2c3792[2] > _0x918901) {
          _0x918901 = _0x2c3792[2];
        }
      }
      return _0x918901;
    }
  }
  const gatheringPlaceUtil = new GatheringPlaceUtil();
  class GatheringPlace extends PolygonEntity {
    constructor(_0xb773ea = {}) {
      super(_0xb773ea);
      this._minPointNum = 3;
      this._maxPointNum = 3;
    }
    getShowPositions(_0x34b76d) {
      if (!_0x34b76d || _0x34b76d.length < this._minPointNum) {
        return _0x34b76d;
      }
      this.style.maxHeight = this.getMaxHeight();
      return gatheringPlaceUtil.startCompute(_0x34b76d, this.style);
    }
    _updateEditDraggerPositionHeight(_0xe42d36) {
      return setPositionsHeight(_0xe42d36, this.style.maxHeight);
    }
    static getOutlinePositions(_0x573d45, _0x1637b0) {
      if (!_0x573d45 || _0x573d45.length < 2) {
        return _0x573d45;
      }
      _0x573d45 = LngLatArray.toCartesians(_0x573d45);
      return gatheringPlaceUtil.startCompute(_0x573d45, _0x1637b0);
    }
  }
  register$5("gatheringPlace", GatheringPlace);
  class IsosTriangle extends PolygonEntity {
    constructor(_0x121e43 = {}) {
      super(_0x121e43);
      this._minPointNum = 3;
      this._maxPointNum = 3;
    }
    getShowPositions(_0x2913e7) {
      if (!_0x2913e7 || _0x2913e7.length < this._minPointNum) {
        return _0x2913e7;
      }
      return IsosTriangle.getOutlinePositions(_0x2913e7, this.style);
    }
    static getOutlinePositions(_0x51cd62, _0x4aeb8a) {
      if (!_0x51cd62 || _0x51cd62.length < 3) {
        return _0x51cd62;
      }
      const _0x3b27dc = _0x51cd62[0];
      const _0x5081b7 = _0x51cd62[1];
      const _0xe9010f = _0x51cd62[2];
      const _0xfdfa75 = Cesium__namespace.Cartesian3.midpoint(_0x3b27dc, _0x5081b7, new Cesium__namespace.Cartesian3());
      const _0x388f88 = getAngle(_0xfdfa75, _0x5081b7);
      const _0x21dd15 = getAngle(_0xfdfa75, _0xe9010f);
      const _0x5da897 = _0x388f88 - _0x21dd15 - 90;
      const _0x4981f8 = getRotateCenterPoint(_0xfdfa75, _0xe9010f, _0x5da897);
      return [_0x3b27dc, _0x5081b7, _0x4981f8];
    }
  }
  register$5("isosTriangle", IsosTriangle);
  class LuneUtil {
    constructor() {
      this.algorithmUtil = algorithmUtil;
    }
    startCompute(_0x1387e8, _0xaf167b) {
      if (!_0x1387e8 || _0x1387e8.length === 0) {
        return _0x1387e8;
      }
      this.positions = _0x1387e8;
      let _0x399171 = cartesians2mercators(_0x1387e8);
      const _0x822035 = _0xaf167b?.maxHeight ?? this.getMaxHeight(_0x399171);
      const _0x125af2 = [_0x399171[0], _0x399171[1], _0x399171[2], undefined, undefined];
      const _0x4dcf46 = _0x125af2[0];
      const _0x15793e = _0x125af2[1];
      const _0x413c99 = _0x125af2[2];
      let _0x1b23b1 = _0x125af2[3];
      let _0x176718 = _0x125af2[4];
      const _0x317c23 = this.algorithmUtil.getCircleCenterOfThreePoints(_0x4dcf46, _0x15793e, _0x413c99);
      const _0x2c96d7 = this.algorithmUtil.MathDistance(_0x4dcf46, _0x317c23);
      const _0x4258f1 = this.algorithmUtil.getAzimuth(_0x4dcf46, _0x317c23);
      const _0x150890 = this.algorithmUtil.getAzimuth(_0x15793e, _0x317c23);
      if (this.algorithmUtil.isClockWise(_0x4dcf46, _0x15793e, _0x413c99)) {
        _0x1b23b1 = _0x150890;
        _0x176718 = _0x4258f1;
      } else {
        _0x1b23b1 = _0x4258f1;
        _0x176718 = _0x150890;
      }
      _0x399171 = this.algorithmUtil.getArcPoints(_0x317c23, _0x2c96d7, _0x1b23b1, _0x176718);
      _0x399171.push(_0x399171[0]);
      const _0x2ba823 = mercators2cartesians(_0x399171, _0x822035);
      return _0x2ba823;
    }
    getMaxHeight(_0x21d8f5) {
      let _0x4661b1 = _0x21d8f5[0][2] || 0;
      for (let _0x34e513 = 0; _0x34e513 < _0x21d8f5.length; _0x34e513++) {
        if (_0x21d8f5[2] > _0x4661b1) {
          _0x4661b1 = _0x21d8f5[2];
        }
      }
      return _0x4661b1;
    }
  }
  const luneUtil = new LuneUtil();
  class Lune extends PolygonEntity {
    constructor(_0x3e839f = {}) {
      super(_0x3e839f);
      this._minPointNum = 3;
      this._maxPointNum = 3;
    }
    getShowPositions(_0x4b64e9) {
      if (!_0x4b64e9 || _0x4b64e9.length < this._minPointNum) {
        return _0x4b64e9;
      }
      this.style.maxHeight = this.getMaxHeight();
      return luneUtil.startCompute(_0x4b64e9, this.style);
    }
    _updateEditDraggerPositionHeight(_0x3b0c85) {
      return setPositionsHeight(_0x3b0c85, this.style.maxHeight);
    }
    static getOutlinePositions(_0x58ef3b, _0x43f407) {
      if (!_0x58ef3b || _0x58ef3b.length < 3) {
        return _0x58ef3b;
      }
      _0x58ef3b = LngLatArray.toCartesians(_0x58ef3b);
      return luneUtil.startCompute(_0x58ef3b, _0x43f407);
    }
  }
  register$5("lune", Lune);
  class EditRegular extends EditPolygon {
    set position(_0x3157ad) {
      this.positions[0] = _0x3157ad;
    }
    get position() {
      return this.positions[0];
    }
    bindDraggers() {
      const _0x48ae3b = this.positions;
      let _0x1ffd99 = this.updatePositionsHeightByAttr(_0x48ae3b[0]);
      if (this._graphic.hasMoveEdit) {
        const _0x31dc48 = this.createDragger({
          position: _0x1ffd99,
          type: EditPointType.MoveAll,
          tooltip: this._map.getLangText("_整体平移"),
          onDragStart: (_0x447b93, _0x9cb257) => {
            _0x1ffd99 = _0x9cb257;
          },
          onDrag: (_0x332d64, _0x37e1ae) => {
            _0x37e1ae = this.updatePositionsHeightByAttr(_0x37e1ae);
            _0x332d64.position = _0x37e1ae;
            this._moveAllPostions(_0x1ffd99, _0x37e1ae);
            _0x1ffd99 = _0x37e1ae;
          }
        });
        _0x31dc48.index = 0;
        this.draggers.push(_0x31dc48);
      }
      const _0x34fd1b = getPositionByDirectionAndLen(_0x1ffd99, this.style.startAngle, this.style.radius);
      _0x48ae3b[1] = _0x34fd1b;
      const _0x13a994 = this.createDragger({
        position: this.updatePositionsHeightByAttr(_0x34fd1b),
        onDrag: (_0x53913a, _0xac856b) => {
          _0xac856b = this.updatePositionsHeightByAttr(_0xac856b);
          _0x53913a.position = _0xac856b;
          this.positions[_0x53913a.index] = _0xac856b;
          this.style.radius = Cesium__namespace.Cartesian3.distance(_0x48ae3b[0], _0xac856b);
          this.style.startAngle = formatNum$1(getAngle(_0x48ae3b[0], _0xac856b), 2);
        },
        onDragStart: (_0x5b791d, _0x3b553d) => {
          for (let _0x50f399 = 0, _0x5e692f = this.draggers.length; _0x50f399 < _0x5e692f; _0x50f399++) {
            this.draggers[_0x50f399].show = false;
          }
        },
        onDragEnd: (_0x51cd64, _0x53aea6) => {
          this.updateDraggers();
        }
      });
      _0x13a994.index = 1;
      this.draggers.push(_0x13a994);
      if (this.entityGraphic.extrudedHeight) {
        this._bindHeightDraggers();
      }
    }
    _moveAllPostions(_0x232794, _0x41f2a0) {
      const _0x4470b4 = Cesium__namespace.Cartesian3.subtract(_0x41f2a0, _0x232794, new Cesium__namespace.Cartesian3());
      this.positions.forEach((_0x4fba3a, _0x5ec835, _0x4934fc) => {
        const _0x3947f4 = Cesium__namespace.Cartesian3.add(_0x4fba3a, _0x4470b4, new Cesium__namespace.Cartesian3());
        this.positions[_0x5ec835] = _0x3947f4;
      });
      for (let _0x4d8c42 = 0, _0x3cbb54 = this.draggers.length; _0x4d8c42 < _0x3cbb54; _0x4d8c42++) {
        this.draggers[_0x4d8c42].position = Cesium__namespace.Cartesian3.add(this.draggers[_0x4d8c42].position, _0x4470b4, new Cesium__namespace.Cartesian3());
      }
    }
    _updateHeight(_0x3d6431) {
      this.entityGraphic.height = _0x3d6431;
      this.style.height = this.formatNum(_0x3d6431, 2);
      const _0x4b956f = this.positions;
      for (let _0x5a865c = 0, _0x4e1d50 = _0x4b956f.length; _0x5a865c < _0x4e1d50; _0x5a865c++) {
        _0x4b956f[_0x5a865c] = setPositionsHeight(_0x4b956f[_0x5a865c], _0x3d6431);
      }
      this.fire(EventType.editStyle);
    }
  }
  class Regular extends PointPolygonEntity {
    constructor(_0x584aeb = {}) {
      super(_0x584aeb);
      this._minPointNum = 2;
      this._maxPointNum = 2;
      this.style.radius = this.style.radius ?? 1000;
      this.style.startAngle = this.style.startAngle ?? 0;
    }
    get EditClass() {
      return EditRegular;
    }
    _updateAttrForDrawing_ForPoint(_0x3aae2a) {
      const _0x3fbc22 = _0x3aae2a[0];
      const _0x3a7ada = _0x3aae2a[1];
      this.style.radius = formatNum$1(Cesium__namespace.Cartesian3.distance(_0x3fbc22, _0x3a7ada), 2);
      this.style.startAngle = formatNum$1(getAngle(_0x3fbc22, _0x3a7ada), 2);
    }
    _getShowPositions_ForPoint(_0x5ea555) {
      return Regular.getOutlinePositions(_0x5ea555, this.style);
    }
    _updateStyleHook(_0x548e4a, _0x3db27e) {
      super._updateStyleHook(_0x548e4a, _0x3db27e);
      if (Cesium__namespace.defined(_0x3db27e.radius) || Cesium__namespace.defined(_0x3db27e.startAngle) || Cesium__namespace.defined(_0x3db27e.border)) {
        this._updatePositionsHook();
      }
    }
    static getOutlinePositions(_0x8b2911, _0x4dc599) {
      const _0x3b4537 = _0x4dc599.border || 3;
      const _0x1ecca9 = _0x4dc599.radius || 1000;
      const _0x361581 = _0x4dc599.startAngle || 0;
      const _0x456cdb = 360 / _0x3b4537;
      const _0x174ef0 = [];
      for (let _0x4ff2b9 = 0; _0x4ff2b9 <= _0x3b4537; _0x4ff2b9++) {
        const _0x279e55 = _0x361581 + _0x456cdb * _0x4ff2b9;
        _0x174ef0.push(getPositionByDirectionAndLen(_0x8b2911, _0x279e55, _0x1ecca9));
      }
      return _0x174ef0;
    }
  }
  register$5("regular", Regular, true);
  class EditSector extends EditPolygon {
    set position(_0x3b03c3) {
      this.positions[0] = _0x3b03c3;
    }
    get position() {
      return this.positions[0];
    }
    bindDraggers() {
      const _0x2cc4a7 = this.positions;
      let _0x3c1e8c = this.updatePositionsHeightByAttr(_0x2cc4a7[0]);
      if (this._graphic.hasMoveEdit) {
        const _0x53b5b4 = this.createDragger({
          position: _0x3c1e8c,
          type: EditPointType.MoveAll,
          tooltip: this._map.getLangText("_整体平移"),
          onDragStart: (_0x3849fd, _0x2b879c) => {
            _0x3c1e8c = _0x2b879c;
          },
          onDrag: (_0xfa25a, _0x4183f2) => {
            _0x4183f2 = this.updatePositionsHeightByAttr(_0x4183f2);
            _0xfa25a.position = _0x4183f2;
            this._moveAllPostions(_0x3c1e8c, _0x4183f2);
            _0x3c1e8c = _0x4183f2;
          }
        });
        _0x53b5b4.index = 0;
        this.draggers.push(_0x53b5b4);
      }
      const _0x50b793 = getPositionByDirectionAndLen(_0x3c1e8c, this.style.startAngle, this.style.radius);
      _0x2cc4a7[1] = _0x50b793;
      const _0x495584 = this.createDragger({
        position: this.updatePositionsHeightByAttr(_0x50b793),
        onDrag: (_0xf6afa1, _0xa761ed) => {
          _0xa761ed = this.updatePositionsHeightByAttr(_0xa761ed);
          _0xf6afa1.position = _0xa761ed;
          this.positions[_0xf6afa1.index] = _0xa761ed;
          this.style.radius = Cesium__namespace.Cartesian3.distance(_0x2cc4a7[0], _0xa761ed);
          this.style.startAngle = formatNum$1(getAngle(_0x2cc4a7[0], _0xa761ed), 2);
          _0x2cc4a7[2] = getPositionByDirectionAndLen(_0x2cc4a7[0], this.style.endAngle, this.style.radius);
        },
        onDragStart: (_0x5f3eee, _0x15f1a4) => {
          for (let _0x27eacd = 0, _0x55008c = this.draggers.length; _0x27eacd < _0x55008c; _0x27eacd++) {
            this.draggers[_0x27eacd].show = false;
          }
        },
        onDragEnd: (_0xfa9c1d, _0x4ad9d0) => {
          this.updateDraggers();
        }
      });
      _0x495584.index = 1;
      this.draggers.push(_0x495584);
      const _0x211c0b = getPositionByDirectionAndLen(_0x3c1e8c, this.style.endAngle, this.style.radius);
      _0x2cc4a7[2] = _0x211c0b;
      const _0x56e02d = this.createDragger({
        position: this.updatePositionsHeightByAttr(_0x211c0b),
        onDrag: (_0x38e0c8, _0x1b9fd3) => {
          _0x1b9fd3 = this.updatePositionsHeightByAttr(_0x1b9fd3);
          _0x38e0c8.position = _0x1b9fd3;
          this.positions[_0x38e0c8.index] = _0x1b9fd3;
          this.style.radius = Cesium__namespace.Cartesian3.distance(_0x2cc4a7[0], _0x1b9fd3);
          this.style.endAngle = getAngle(_0x2cc4a7[0], _0x1b9fd3);
          _0x2cc4a7[1] = getPositionByDirectionAndLen(_0x2cc4a7[0], this.style.startAngle, this.style.radius);
        },
        onDragStart: (_0x395c50, _0xdf327d) => {
          for (let _0x250e5f = 0, _0x1c6aa2 = this.draggers.length; _0x250e5f < _0x1c6aa2; _0x250e5f++) {
            this.draggers[_0x250e5f].show = false;
          }
        },
        onDragEnd: (_0x4f3dc9, _0xca52f2) => {
          this.updateDraggers();
        }
      });
      _0x56e02d.index = 2;
      this.draggers.push(_0x56e02d);
      if (this.entityGraphic.extrudedHeight) {
        this._bindHeightDraggers();
      }
    }
    _moveAllPostions(_0x2c2951, _0x5aafa8) {
      const _0x50602f = Cesium__namespace.Cartesian3.subtract(_0x5aafa8, _0x2c2951, new Cesium__namespace.Cartesian3());
      const _0xfd4c6 = this.positions;
      for (let _0x39d410 = 0, _0x33cdf5 = _0xfd4c6.length; _0x39d410 < _0x33cdf5; _0x39d410++) {
        _0xfd4c6[_0x39d410] = Cesium__namespace.Cartesian3.add(_0xfd4c6[_0x39d410], _0x50602f, new Cesium__namespace.Cartesian3());
      }
      for (let _0x5b9708 = 0, _0x190e8c = this.draggers.length; _0x5b9708 < _0x190e8c; _0x5b9708++) {
        if (this.draggers[_0x5b9708]._pointType !== EditPointType.MoveAll) {
          this.draggers[_0x5b9708].position = Cesium__namespace.Cartesian3.add(this.draggers[_0x5b9708].position, _0x50602f, new Cesium__namespace.Cartesian3());
        }
      }
    }
  }
  class Sector extends PointPolygonEntity {
    constructor(_0x49eb78 = {}) {
      super(_0x49eb78);
      this._minPointNum = 2;
      this._maxPointNum = 3;
      this.style.radius = this.style.radius ?? 1000;
      this.style.startAngle = this.style.startAngle ?? 0;
      this.style.endAngle = this.style.endAngle ?? 0;
    }
    get EditClass() {
      return EditSector;
    }
    _updateAttrForDrawing_ForPoint(_0x4afd72) {
      const _0x14dabb = _0x4afd72[0];
      const _0x2c80ae = _0x4afd72[1];
      this.style.radius = formatNum$1(Cesium__namespace.Cartesian3.distance(_0x14dabb, _0x2c80ae), 2);
      this.style.startAngle = formatNum$1(getAngle(_0x14dabb, _0x2c80ae), 2);
      if (_0x4afd72?.length > 2) {
        this.style.endAngle = formatNum$1(getAngle(_0x14dabb, _0x4afd72[2]), 2);
      } else {
        this.style.endAngle = this.style.startAngle;
      }
    }
    _getShowPositions_ForPoint(_0x4737bc) {
      return Sector.getOutlinePositions(_0x4737bc, this.style);
    }
    _updateStyleHook(_0x3dc73c, _0x2e8084) {
      super._updateStyleHook(_0x3dc73c, _0x2e8084);
      if (Cesium__namespace.defined(_0x2e8084.radius) || Cesium__namespace.defined(_0x2e8084.startAngle) || Cesium__namespace.defined(_0x2e8084.endAngle) || Cesium__namespace.defined(_0x2e8084.noCenter)) {
        if (this._isCallbackPositions && !this.editing) {
          this._positions_show = this.getShowPositions(this._positions_draw);
          this._hierarchy.positions = this._positions_show;
        }
        this._updatePositionsHook();
      }
    }
    static getOutlinePositions(_0x58e31a, _0x2a6447) {
      const _0x2c2874 = _0x2a6447.radius;
      const _0x5595e2 = _0x2a6447.startAngle;
      let _0x43aba1 = _0x2a6447.endAngle;
      if (_0x43aba1 <= _0x5595e2) {
        _0x43aba1 += 360;
      }
      const _0x29099d = [];
      if (!_0x2a6447.noCenter) {
        _0x29099d.push(_0x58e31a);
      }
      for (let _0x134436 = _0x5595e2; _0x134436 <= _0x43aba1; _0x134436++) {
        _0x29099d.push(getPositionByDirectionAndLen(_0x58e31a, _0x134436, _0x2c2874));
      }
      if (!_0x2a6447.noCenter) {
        _0x29099d.push(_0x58e31a);
      }
      return _0x29099d;
    }
  }
  register$5("sector", Sector, true);
  class StraightArrowUtil {
    constructor() {
      this.algorithmUtil = algorithmUtil;
    }
    setOptions(_0x2aa6a7 = {}) {
      this.tailWidthFactor = _0x2aa6a7.tailWidthFactor || 0.05;
      this.neckWidthFactor = _0x2aa6a7.neckWidthFactor || 0.1;
      this.headWidthFactor = _0x2aa6a7.headWidthFactor || 0.15;
      this.headAngle = _0x2aa6a7.headAngle || Math.PI / 4;
      this.neckAngle = _0x2aa6a7.neckAngle || Math.PI * 0.17741;
    }
    startCompute(_0x36b038, _0x571f5e) {
      if (!_0x36b038 || _0x36b038.length === 0) {
        return _0x36b038;
      }
      this.positions = _0x36b038;
      this.setOptions(_0x571f5e);
      const _0x300b1a = cartesians2mercators(_0x36b038);
      const _0x54174b = _0x571f5e?.maxHeight ?? this.getMaxHeight(_0x300b1a);
      const _0x5a2b20 = [_0x300b1a[0], _0x300b1a[1]];
      const _0x172e53 = _0x5a2b20[0];
      const _0x52c518 = _0x5a2b20[1];
      const _0x25ea7d = this.algorithmUtil.getBaseLength(_0x300b1a);
      const _0x1de85c = _0x25ea7d * this.tailWidthFactor;
      const _0x4cc6f7 = _0x25ea7d * this.neckWidthFactor;
      const _0x3e85ea = _0x25ea7d * this.headWidthFactor;
      const _0x2ea215 = this.algorithmUtil.getThirdPoint(_0x52c518, _0x172e53, Math.PI / 2, _0x1de85c, true);
      const _0x4cb610 = this.algorithmUtil.getThirdPoint(_0x52c518, _0x172e53, Math.PI / 2, _0x1de85c, false);
      const _0x43d53e = this.algorithmUtil.getThirdPoint(_0x172e53, _0x52c518, this.headAngle, _0x3e85ea, false);
      const _0xb5ef68 = this.algorithmUtil.getThirdPoint(_0x172e53, _0x52c518, this.headAngle, _0x3e85ea, true);
      const _0x11b0d1 = this.algorithmUtil.getThirdPoint(_0x172e53, _0x52c518, this.neckAngle, _0x4cc6f7, false);
      const _0x4aa2fc = this.algorithmUtil.getThirdPoint(_0x172e53, _0x52c518, this.neckAngle, _0x4cc6f7, true);
      const _0x50d09b = [_0x2ea215, _0x11b0d1, _0x43d53e, _0x52c518, _0xb5ef68, _0x4aa2fc, _0x4cb610];
      const _0x475124 = mercators2cartesians(_0x50d09b, _0x54174b);
      return _0x475124;
    }
    getMaxHeight(_0x247636) {
      let _0x412c73 = _0x247636[0][2] || 0;
      for (let _0x20681f = 0; _0x20681f < _0x247636.length; _0x20681f++) {
        if (_0x247636[2] > _0x412c73) {
          _0x412c73 = _0x247636[2];
        }
      }
      return _0x412c73;
    }
  }
  const straightArrowUtil = new StraightArrowUtil();
  class StraightArrow extends PolygonEntity {
    constructor(_0x28c21a = {}) {
      super(_0x28c21a);
      this._minPointNum = 2;
      this._maxPointNum = 2;
    }
    getShowPositions(_0x1c3ddc) {
      if (!_0x1c3ddc || _0x1c3ddc.length < 2) {
        return _0x1c3ddc;
      }
      this.style.maxHeight = this.getMaxHeight();
      return straightArrowUtil.startCompute(_0x1c3ddc, this.style);
    }
    _updateEditDraggerPositionHeight(_0x290b9d) {
      return setPositionsHeight(_0x290b9d, this.style.maxHeight);
    }
    static getOutlinePositions(_0x468c6f, _0x1924c8) {
      if (!_0x468c6f || _0x468c6f.length < 2) {
        return _0x468c6f;
      }
      _0x468c6f = LngLatArray.toCartesians(_0x468c6f);
      return straightArrowUtil.startCompute(_0x468c6f, _0x1924c8);
    }
  }
  register$5("straightArrow", StraightArrow);
  class EditParallelogram extends EditPolygon {
    set positions(_0x2eec8) {
      this._graphic._positions_draw = _0x2eec8;
    }
    get positions() {
      const _0x5bf2a1 = this._graphic._positions_draw || this._graphic._positions || [];
      if (_0x5bf2a1.length === 2) {
        const _0x4d470a = LngLatPoint.fromCartesian(_0x5bf2a1[0]);
        const _0x2df0f3 = LngLatPoint.fromCartesian(_0x5bf2a1[1]);
        const _0x14d69d = new LngLatPoint(_0x4d470a.lng, _0x2df0f3.lat, _0x4d470a.alt);
        _0x5bf2a1.push(_0x14d69d.toCartesian());
      }
      return _0x5bf2a1;
    }
    get center() {
      const _0x48760d = this.positions;
      if (_0x48760d.length < this.minPointNum) {
        return;
      }
      return Cesium__namespace.Cartesian3.midpoint(_0x48760d[0], _0x48760d[2], new Cesium__namespace.Cartesian3());
    }
  }
  class ParallelogramEntity extends PolygonEntity {
    constructor(_0x3a9d9f = {}) {
      super(_0x3a9d9f);
      this._minPointNum = 3;
      this._maxPointNum = 3;
    }
    get centerOfMass() {
      const _0x2086e1 = this.positionsShow;
      if (_0x2086e1.length < this._minPointNum) {
        return;
      }
      return Cesium__namespace.Cartesian3.midpoint(_0x2086e1[0], _0x2086e1[2], new Cesium__namespace.Cartesian3());
    }
    get EditClass() {
      return EditParallelogram;
    }
    getShowPositions(_0x1463a8) {
      if (!_0x1463a8 || _0x1463a8.length < this._minPointNum) {
        return _0x1463a8;
      }
      return ParallelogramEntity.getOutlinePositions(_0x1463a8);
    }
    static getOutlinePositions(_0x30c764) {
      const _0x19ec7d = getAngle(_0x30c764[2], _0x30c764[1]);
      const _0x4206eb = getSurfaceDistance([_0x30c764[2], _0x30c764[1]]);
      let _0x5529bf = getPositionByDirectionAndLen(_0x30c764[0], _0x19ec7d + 180, _0x4206eb);
      if (_0x4206eb > 10000) {
        const _0x3ae8c7 = LngLatPoint.toCartographic(_0x30c764[2]);
        const _0x44da15 = Cesium__namespace.Cartographic.fromCartesian(_0x5529bf);
        _0x5529bf = Cesium__namespace.Cartesian3.fromRadians(_0x44da15.longitude, _0x44da15.latitude, _0x3ae8c7.height);
      }
      return [_0x30c764[0], _0x30c764[1], _0x30c764[2], _0x5529bf];
    }
  }
  register$5("parallelogram", ParallelogramEntity);
  const DEF_STYLE$u = {
    color: "#3388ff",
    pixelSize: 8,
    outlineColor: "#ffffff",
    outlineWidth: 2,
    visibleDepth: false
  };
  class PointMeasure extends PointEntity {
    constructor(_0x1ce68a = {}) {
      _0x1ce68a.style = {
        ...DEF_STYLE$u,
        ..._0x1ce68a.style
      };
      super(_0x1ce68a);
    }
    enableControl(_0x36403b) {
      var _0x4fc1b4;
      var _0x3b3d54;
      this._map.mouseEvent.enabledMoveTarget = _0x36403b;
      if ((_0x4fc1b4 = this._map) !== null && _0x4fc1b4 !== undefined && _0x4fc1b4.tooltip) {
        this._map.tooltip.enabled = _0x36403b;
      }
      if ((_0x3b3d54 = this._map) !== null && _0x3b3d54 !== undefined && _0x3b3d54.contextmenu) {
        this._map.contextmenu.enabled = _0x36403b;
      }
    }
    _addedHook(_0x29267b) {
      super._addedHook(_0x29267b);
      const _0x5d9955 = this._map;
      const _0x1d6ca0 = {
        autoClose: false,
        closeOnClick: false,
        animation: false,
        ...this.options.popupOptions
      };
      const _0x3b6e1d = _0x1d6ca0;
      this.bindPopup(_0x4c1db7 => {
        const _0x57c7ff = this.point;
        _0x57c7ff.format();
        if (isFunction(this.options.popup)) {
          return this.options.popup(_0x57c7ff, _0x4c1db7);
        }
        const _0x24dcd7 = degree2dms(_0x57c7ff.lng).str;
        const _0x3d2157 = degree2dms(_0x57c7ff.lat).str;
        let _0x519eb3 = "";
        if (this.options.crs !== false) {
          const _0x3bbf54 = proj4Trans([_0x57c7ff.lng, _0x57c7ff.lat], "EPSG:4326", this.options.crs ?? CRS.CGCS2000_GK_Zone_3);
          if (_0x3bbf54[0] !== _0x57c7ff.lng && _0x3bbf54[1] !== _0x57c7ff.lat) {
            _0x519eb3 = "<div title=\"大地2000坐标\"><label>" + _0x5d9955.getLangText("_横坐标") + "</label>" + _0x3bbf54[0].toFixed(1) + "</div>\n                   <div title=\"大地2000坐标\"><label>" + _0x5d9955.getLangText("_纵坐标") + "</label>" + _0x3bbf54[1].toFixed(1) + "</div>";
          }
        }
        return "<div class=\"mars3d-template-title\">" + _0x5d9955.getLangText("_位置信息") + "</div>\n                <div class=\"mars3d-template-content\">\n                    <div><label>" + _0x5d9955.getLangText("_经度") + "</label>" + _0x57c7ff.lng + "&nbsp;&nbsp;" + _0x24dcd7 + "</div>\n                    <div><label>" + _0x5d9955.getLangText("_纬度") + "</label>" + _0x57c7ff.lat + "&nbsp;&nbsp;&nbsp;&nbsp;" + _0x3d2157 + "</div>\n                     " + _0x519eb3 + "\n                    <div><label>" + _0x5d9955.getLangText("_海拔") + "</label>" + _0x57c7ff.alt + _0x5d9955.getLangText("_米") + "</div>\n                </div>";
      }, _0x3b6e1d);
      this.on(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.once(EventType.drawCreated, this._drawCreatedHandler, this);
      this.on(EventType.editMovePoint, this._editPointHandler, this);
      this.on(EventType.editRemovePoint, this._editPointHandler, this);
      if (this.position) {
        this.openPopup();
      }
    }
    _updatePositionsHook() {
      super._updatePositionsHook();
      this.openPopup();
    }
    _removedHook() {
      this.off(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.off(EventType.drawCreated, this._drawCreatedHandler, this);
      this.off(EventType.editMovePoint, this._editPointHandler, this);
      this.off(EventType.editRemovePoint, this._editPointHandler, this);
      super._removedHook();
    }
    _drawMouseMoveHandler(_0x2d3fde) {
      this.openPopup(null, _0x2d3fde);
    }
    _drawCreatedHandler(_0x5890c1) {
      this.openPopup(null, _0x5890c1);
      this.fire(EventType.end, {
        mtype: this.type,
        graphic: this
      }, true);
    }
    _editPointHandler(_0x1febd0) {
      this.openPopup();
    }
  }
  register$5("pointMeasure", PointMeasure, true);
  const DEF_STYLE$t = {
    materialType: "PolylineGlow",
    glowPower: 0.1,
    color: "#ebe12c",
    width: 9,
    clampToGround: false
  };
  class DistanceMeasure extends PolylineEntity {
    constructor(_0x537fa5 = {}) {
      _0x537fa5.hasMoveEdit = _0x537fa5.hasMoveEdit ?? false;
      _0x537fa5.showAddText = _0x537fa5.showAddText ?? true;
      _0x537fa5.decimal = _0x537fa5.decimal ?? 2;
      _0x537fa5.style = {
        ...DEF_STYLE$t,
        ..._0x537fa5.style
      };
      super(_0x537fa5);
      this._measured = {};
    }
    get measured() {
      return this._measured;
    }
    _showHook(_0x3a4e27) {
      if (this._measureLable) {
        this._measureLable.show = _0x3a4e27;
      }
      if (this._arrPartMeasureLable) {
        for (let _0x4e066c = 0; _0x4e066c < this._arrPartMeasureLable.length; _0x4e066c++) {
          this._arrPartMeasureLable[_0x4e066c].show = _0x3a4e27;
        }
      }
    }
    _addedHook(_0x50701e) {
      var _0x333cc2;
      super._addedHook(_0x50701e);
      this._arrPartMeasureLable = [];
      const _0x4ab2be = this.options.label || ((_0x333cc2 = this._layer) === null || _0x333cc2 === undefined || (_0x333cc2 = _0x333cc2.options) === null || _0x333cc2 === undefined ? undefined : _0x333cc2.label);
      this._measureLable = this._createLabel(_0x4ab2be);
      this._measureLable.show = false;
      this.on(EventType.drawAddPoint, this._drawAddPointHandler, this);
      this.on(EventType.drawRemovePoint, this._drawRemovePointHandler, this);
      this.on(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.once(EventType.drawCreated, this._drawCreatedHandler, this);
      this.on(EventType.editMovePoint, this._editPointHandler, this);
      this.on(EventType.editRemovePoint, this._editPointHandler, this);
      if (this.options.positions) {
        this._measureLable.show = this.show;
        this._editPointHandler();
      }
    }
    _updatePositionsHook() {
      super._updatePositionsHook();
      this._measureLable.show = this.show;
      this._editPointHandler();
    }
    _removedHook() {
      this.off(EventType.drawAddPoint, this._drawAddPointHandler, this);
      this.off(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.off(EventType.drawRemovePoint, this._drawRemovePointHandler, this);
      this.off(EventType.drawCreated, this._drawCreatedHandler, this);
      this.off(EventType.editMovePoint, this._editPointHandler, this);
      this.off(EventType.editRemovePoint, this._editPointHandler, this);
      if (Cesium__namespace.defined(this._measureLable)) {
        this._removeLabel(this._measureLable);
        delete this._measureLable;
      }
      if (Cesium__namespace.defined(this._arrPartMeasureLable) && this._arrPartMeasureLable.length > 0) {
        const _0xb2cb2f = this._arrPartMeasureLable;
        if (_0xb2cb2f && _0xb2cb2f.length > 0) {
          for (let _0x3ec625 = 0, _0x841f5f = _0xb2cb2f.length; _0x3ec625 < _0x841f5f; _0x3ec625++) {
            this._removeLabel(_0xb2cb2f[_0x3ec625]);
          }
        }
        delete this._arrPartMeasureLable;
      }
      super._removedHook();
    }
    _toJSON_Ex(_0xf79f67) {
      var _0x48de44;
      if ((_0x48de44 = _0xf79f67.label) !== null && _0x48de44 !== undefined && _0x48de44.updateText) {
        delete _0xf79f67.label;
      }
      _0xf79f67.measured = getAttrVal(this.measured, {
        onlySimpleType: true
      });
    }
    updateText(_0x21a862) {
      if (_0x21a862) {
        this.options.unit = _0x21a862;
      }
      const _0x10cebe = {
        unit: this.options.unit,
        getLangText: _0x15cfaa => {
          return this._map.getLangText(_0x15cfaa);
        },
        decimal: this.options.decimal
      };
      this._measured.distanceStr = formatDistance(this._measured.distance, _0x10cebe);
      if (this._measured.distance !== this._measured.distanceLastFd) {
        this._measureLable.text = this._map.getLangText("_总长") + ":" + this._measured.distanceStr;
        if (this.options.showAddText) {
          const _0x4f2eca = formatDistance(this._measured.distanceLastFd, _0x10cebe);
          this._measured.distanceLastFdStr = _0x4f2eca;
          this._measureLable.text += "\n(+" + _0x4f2eca + ")";
        }
      } else {
        this._measureLable.text = this._map.getLangText("_总长") + ":" + this._measured.distanceStr;
      }
      for (let _0xe8c813 = 0, _0x3ce093 = this._arrPartMeasureLable.length; _0xe8c813 < _0x3ce093; _0xe8c813++) {
        const _0x20c812 = this._arrPartMeasureLable[_0xe8c813];
        if (_0x20c812.showText) {
          _0x20c812.showText();
        }
      }
    }
    _drawAddPointHandler(_0x47b915) {
      var _0x533107;
      const _0x4437ac = this;
      const _0x40ec4f = this.positionsShow;
      const _0x4da09c = this._createLabel(this.options.label || ((_0x533107 = this._layer) === null || _0x533107 === undefined || (_0x533107 = _0x533107.options) === null || _0x533107 === undefined ? undefined : _0x533107.label), _0x40ec4f[_0x40ec4f.length - 1]);
      this._arrPartMeasureLable.push(_0x4da09c);
      if (_0x40ec4f.length === 1) {
        _0x4da09c.showText = function () {
          this.text = _0x4437ac._map.getLangText("_起点");
        };
        _0x4da09c.showText();
        if (_0x4da09c.updateText) {
          _0x4da09c.updateText(_0x4da09c.text, _0x4da09c);
        }
      } else {
        const _0x4009d4 = getSurfaceDistance(_0x40ec4f);
        const _0x340855 = getSurfaceDistance([_0x40ec4f[_0x40ec4f.length - 2], _0x40ec4f[_0x40ec4f.length - 1]]);
        _0x4da09c.attr = {};
        _0x4da09c.attr.value = _0x4009d4;
        _0x4da09c.attr.valueFD = _0x340855;
        _0x4da09c.showText = function () {
          const _0x2a32f6 = {
            unit: _0x4437ac.options.unit,
            getLangText: _0x430068 => {
              return _0x4437ac._map.getLangText(_0x430068);
            },
            decimal: _0x4437ac.options.decimal
          };
          const _0x167588 = formatDistance(this.attr.value, _0x2a32f6);
          if (this.attr.value !== this.attr.valueFD) {
            this.text = _0x167588;
            if (_0x4437ac.options.showAddText) {
              const _0x26bcee = formatDistance(this.attr.valueFD, _0x2a32f6);
              this.text += "\n(+" + _0x26bcee + ")";
            }
          } else {
            this.text = _0x167588;
          }
          if (this.updateText) {
            this.updateText(this.text, this);
          }
        };
        _0x4da09c.showText();
        this._measured.distance = _0x4009d4;
        this._measured.distanceLastFd = _0x340855;
        this._measured.distanceStr = formatDistance(this._measured.distance, {
          unit: this.options.unit,
          getLangText: _0x203e42 => {
            return this._map.getLangText(_0x203e42);
          },
          decimal: this.options.decimal
        });
      }
    }
    _drawRemovePointHandler(_0x518c37) {
      const _0x1ad1e2 = this._arrPartMeasureLable.pop();
      this._removeLabel(_0x1ad1e2);
      this._drawMouseMoveHandler(_0x518c37);
      this._measureLable.position = _0x518c37.cartesian;
    }
    _drawMouseMoveHandler(_0x359748) {
      const _0x265a4c = this.positionsShow;
      if (!_0x265a4c || _0x265a4c.length < 2) {
        this._measureLable.show = false;
        return;
      }
      const _0x4b3817 = getSurfaceDistance(_0x265a4c);
      let _0x18532b = getSurfaceDistance([_0x265a4c[_0x265a4c.length - 2], _0x265a4c[_0x265a4c.length - 1]]);
      if (_0x18532b === 0 && _0x265a4c.length > 2) {
        _0x18532b = getSurfaceDistance([_0x265a4c[_0x265a4c.length - 3], _0x265a4c[_0x265a4c.length - 2]]);
      }
      this._measured.distance = _0x4b3817;
      this._measured.distanceLastFd = _0x18532b;
      this.updateText();
      this._measureLable.position = _0x265a4c[_0x265a4c.length - 1];
      this.fire(EventType.change, {
        mtype: this.type,
        value: this._measured.distance,
        label: this._measured.distanceStr
      }, true);
    }
    _drawCreatedHandler(_0x5e8002, _0x2bb643 = true) {
      const _0x527739 = this.positionsShow;
      const _0x2ad61a = this._arrPartMeasureLable.length - _0x527739.length;
      if (_0x2ad61a >= 0) {
        for (let _0x428b33 = this._arrPartMeasureLable.length - 1; _0x428b33 >= _0x527739.length - 1; _0x428b33--) {
          this._removeLabel(this._arrPartMeasureLable[_0x428b33]);
        }
        this._arrPartMeasureLable.splice(_0x527739.length - 1, _0x2ad61a + 1);
      }
      this.updateText();
      this._measureLable.position = _0x527739[_0x527739.length - 1];
      this._measureLable.show = this.show;
      if (_0x2bb643) {
        this.fire(EventType.end, {
          mtype: this.type,
          value: this._measured.distance,
          label: this._measured.distanceStr
        }, true);
      }
    }
    _editPointHandler(_0x31eaff, _0xcc1bff = true) {
      var _0x5f2a4f;
      let _0x4904c2 = this._arrPartMeasureLable;
      if (_0x4904c2 && _0x4904c2.length > 0) {
        for (let _0x20302a = 0, _0x138c3d = _0x4904c2.length; _0x20302a < _0x138c3d; _0x20302a++) {
          this._removeLabel(_0x4904c2[_0x20302a]);
        }
      }
      this._measureLable.show = false;
      const _0x134fdc = this;
      const _0x13e396 = this.positionsShow;
      if (!_0x13e396 || _0x13e396.length < 2) {
        return;
      }
      const _0x5d8f42 = this._createLabel(this.options.label || ((_0x5f2a4f = this._layer) === null || _0x5f2a4f === undefined || (_0x5f2a4f = _0x5f2a4f.options) === null || _0x5f2a4f === undefined ? undefined : _0x5f2a4f.label), _0x13e396[0]);
      _0x5d8f42.showText = function () {
        this.text = _0x134fdc._map.getLangText("_起点");
      };
      _0x5d8f42.showText();
      _0x4904c2 = [_0x5d8f42];
      const _0x1253bf = _0x4904c2[0];
      _0x1253bf.position = _0x13e396[0];
      this._arrPartMeasureLable = [_0x1253bf];
      let _0x29350 = 0;
      for (let _0x25c81f = 1, _0x17b922 = _0x13e396.length - 1; _0x25c81f < _0x17b922; _0x25c81f++) {
        var _0x247141;
        const _0x5bd59e = getSurfaceDistance([_0x13e396[_0x25c81f - 1], _0x13e396[_0x25c81f]]);
        _0x29350 += _0x5bd59e;
        const _0x42a31b = this._createLabel(this.options.label || ((_0x247141 = this._layer) === null || _0x247141 === undefined || (_0x247141 = _0x247141.options) === null || _0x247141 === undefined ? undefined : _0x247141.label), _0x13e396[_0x25c81f]);
        this._arrPartMeasureLable.push(_0x42a31b);
        _0x42a31b.attr = {};
        _0x42a31b.attr.value = _0x29350;
        _0x42a31b.attr.valueFD = _0x5bd59e;
        _0x42a31b.showText = function () {
          const _0x49253c = {
            unit: _0x134fdc.options.unit,
            getLangText: _0x14fbe7 => {
              return _0x134fdc._map.getLangText(_0x14fbe7);
            },
            decimal: _0x134fdc.options.decimal
          };
          const _0x3af871 = formatDistance(this.attr.value, _0x49253c);
          if (this.attr.value !== this.attr.valueFD) {
            const _0x5db2ec = formatDistance(this.attr.valueFD, _0x49253c);
            this.text = _0x3af871;
            if (_0x134fdc.options.showAddText) {
              this.text += "\n(+" + _0x5db2ec + ")";
            }
          } else {
            this.text = _0x3af871;
          }
          if (this.updateText) {
            this.updateText(this.text, this);
          }
        };
        _0x42a31b.showText();
      }
      const _0x336343 = getSurfaceDistance([_0x13e396[_0x13e396.length - 2], _0x13e396[_0x13e396.length - 1]]);
      _0x29350 += _0x336343;
      this._measured.distance = _0x29350;
      this._measured.distanceLastFd = _0x336343;
      this.updateText();
      this._measureLable.position = _0x13e396[_0x13e396.length - 1];
      this._measureLable.show = this.show;
      if (_0xcc1bff) {
        this.fire(EventType.change, {
          mtype: this.type,
          value: this._measured.distance,
          label: this._measured.distanceStr
        }, true);
      }
    }
  }
  register$5("distanceMeasure", DistanceMeasure);
  class DistanceSurfaceMeasure extends DistanceMeasure {
    constructor(_0x53b348 = {}) {
      super(_0x53b348);
      if (_0x53b348._promise) {
        this._promise = _0x53b348._promise;
        delete _0x53b348._promise;
      }
      _0x53b348.style.clampToGround = true;
      _0x53b348.splitNum = _0x53b348.splitNum ?? 200;
      this.disTerrainScale = 1.2;
    }
    _drawCreatedHandler(_0x2ea367) {
      super._drawCreatedHandler(_0x2ea367, false);
      this.updateLengthForTerrain(_0x2ea367);
    }
    _editPointHandler(_0x56d991) {
      super._editPointHandler(_0x56d991, false);
      this.updateLengthForTerrain(_0x56d991);
    }
    updateLengthForTerrain(_0x3084f5) {
      const _0x3af267 = this.positionsShow;
      if (!_0x3af267 || _0x3af267.length < 2) {
        return;
      }
      this._measured.distance_original = this._measured.distance;
      this._measured.distanceStr_original = this._measured.distanceStr;
      this.fire(EventType.start, {
        mtype: this.type,
        graphic: this
      }, true);
      const _0x3438b2 = [];
      getClampDistance(_0x3af267, {
        scene: this._map.scene,
        splitNum: this.options.splitNum,
        minDistance: this.options.minDistance,
        has3dtiles: this.options.has3dtiles,
        hasTerrain: this.options.hasTerrain,
        exact: this.options.exact,
        disTerrainScale: this.disTerrainScale,
        endItem: _0x509911 => {
          if (this.isDestroy) {
            return;
          }
          _0x3438b2.push(..._0x509911.positions);
          let _0x188b41 = _0x509911.index;
          const _0x35e469 = _0x509911.all_distance;
          const _0x1abf74 = _0x509911.distance;
          _0x188b41++;
          const _0x1f8d89 = this._arrPartMeasureLable[_0x188b41];
          if (_0x1f8d89) {
            _0x1f8d89.attr.value = _0x35e469;
            _0x1f8d89.attr.valueFD = _0x1abf74;
            _0x1f8d89.showText();
          } else if (_0x188b41 === _0x3af267.length - 1 && this._measureLable) {
            this._measured.distance = _0x35e469;
            this._measured.distanceLastFd = _0x1abf74;
            this.updateText();
          }
        },
        end: _0x33a6fb => {
          var _0x4c75b5;
          if (this.isDestroy) {
            return;
          }
          this._measured.distance = _0x33a6fb;
          this._measured.positionsSurface = _0x3438b2;
          const _0x5d02be = {
            mtype: this.type,
            graphic: this,
            positions: _0x3438b2,
            value: this._measured.distance,
            label: this._measured.distanceStr
          };
          const _0x32fda9 = _0x5d02be;
          this.fire(EventType.change, _0x32fda9, true);
          this.fire(EventType.end, _0x32fda9, true);
          if ((_0x4c75b5 = this._promise) !== null && _0x4c75b5 !== undefined && _0x4c75b5.resolve) {
            this._promise.resolve(this);
          }
        }
      });
    }
  }
  register$5("distanceSurfaceMeasure", DistanceSurfaceMeasure);
  class SectionMeasure extends DistanceMeasure {
    constructor(_0x300552 = {}) {
      super(_0x300552);
      if (_0x300552._promise) {
        this._promise = _0x300552._promise;
        delete _0x300552._promise;
      }
      _0x300552.splitNum = _0x300552.splitNum ?? 200;
    }
    _drawCreatedHandler(_0x3ee1c2) {
      super._drawCreatedHandler(_0x3ee1c2, false);
      this.updateSectionForTerrain(_0x3ee1c2);
    }
    _editPointHandler(_0x5e02ae) {
      super._editPointHandler(_0x5e02ae, false);
      this.updateSectionForTerrain(_0x5e02ae);
    }
    updateSectionForTerrain(_0x3ded29) {
      const _0x10f7db = this.positionsShow;
      if (!_0x10f7db || _0x10f7db.length < 2) {
        return;
      }
      this._measured.distance_original = this._measured.distance;
      this._measured.distanceStr_original = this._measured.distanceStr;
      this.fire(EventType.start, {
        mtype: this.type,
        graphic: this
      }, true);
      let _0x2c4291 = 0;
      const _0x338aa4 = [];
      const _0x2e0c47 = [];
      const _0x40e3ed = [];
      const _0xc984ac = [];
      computeStepSurfaceLine({
        map: this._map,
        positions: _0x10f7db,
        splitNum: this.options.splitNum,
        minDistance: this.options.minDistance,
        has3dtiles: this.options.has3dtiles,
        hasTerrain: this.options.hasTerrain,
        objectsToExclude: this.options.objectsToExclude,
        exact: this.options.exact,
        endItem: (_0x178bea, _0x2d8daa, _0x50eaa9) => {
          if (this.isDestroy) {
            return;
          }
          const _0x3c1ddf = Cesium__namespace.Cartographic.fromCartesian(_0x10f7db[_0x50eaa9])?.height;
          const _0x8f44d8 = Cesium__namespace.Cartographic.fromCartesian(_0x10f7db[_0x50eaa9 + 1])?.height;
          const _0x1c495c = (_0x8f44d8 - _0x3c1ddf) / _0x178bea.length;
          let _0x3ccff0 = 0;
          for (let _0x1687ba = 0; _0x1687ba < _0x178bea.length; _0x1687ba++) {
            const _0x2018ff = LngLatPoint.fromCartesian(_0x178bea[_0x1687ba]);
            if (_0x1687ba !== 0) {
              const _0x25b894 = LngLatPoint.fromCartesian(_0x178bea[_0x1687ba - 1]);
              const _0x460a1a = Cesium__namespace.Cartesian3.distance(Cesium__namespace.Cartesian3.fromDegrees(_0x25b894.lng, _0x25b894.lat), Cesium__namespace.Cartesian3.fromDegrees(_0x2018ff.lng, _0x2018ff.lat));
              _0x2c4291 += _0x460a1a;
              _0x3ccff0 += _0x460a1a;
            }
            _0x338aa4.push(Number(_0x2c4291.toFixed(1)));
            _0x2e0c47.push(_0x2018ff.alt);
            _0xc984ac.push(_0x2018ff);
            const _0x181110 = Number((_0x3c1ddf + _0x1c495c * _0x1687ba).toFixed(1));
            _0x40e3ed.push(_0x181110);
          }
          _0x50eaa9++;
          const _0x4fc9b9 = this._arrPartMeasureLable[_0x50eaa9];
          if (_0x4fc9b9) {
            _0x4fc9b9.attr.value = _0x2c4291;
            _0x4fc9b9.attr.valueFD = _0x3ccff0;
            _0x4fc9b9.showText();
          } else if (_0x50eaa9 === _0x10f7db.length - 1 && this._measureLable) {
            this._measured.distance = _0x2c4291;
            this._measured.distanceLastFd = _0x3ccff0;
            this.updateText();
          }
        },
        end: () => {
          var _0x4673c7;
          if (this.isDestroy) {
            return;
          }
          this.updateText();
          this._measured.arrLen = _0x338aa4;
          this._measured.arrLX = _0x40e3ed;
          this._measured.arrHB = _0x2e0c47;
          this._measured.arrPoint = _0xc984ac;
          const _0x43a231 = {
            mtype: this.type,
            graphic: this,
            value: _0x2c4291,
            label: this._measured.distanceStr,
            ...this._measured
          };
          const _0x4c9a35 = _0x43a231;
          this.fire(EventType.change, _0x4c9a35, true);
          this.fire(EventType.end, _0x4c9a35, true);
          if ((_0x4673c7 = this._promise) !== null && _0x4673c7 !== undefined && _0x4673c7.resolve) {
            this._promise.resolve(this);
          }
        }
      });
    }
  }
  register$5("sectionMeasure", SectionMeasure);
  const DEF_STYLE$s = {
    materialType: "PolylineArrow",
    color: "#ebe967",
    width: 9,
    clampToGround: true
  };
  class AngleMeasure extends PolylineEntity {
    constructor(_0x13abbe = {}) {
      _0x13abbe.hasMoveEdit = _0x13abbe.hasMoveEdit ?? false;
      _0x13abbe.maxPointNum = 2;
      _0x13abbe.decimal = _0x13abbe.decimal ?? 2;
      _0x13abbe.angleDecimal = _0x13abbe.angleDecimal ?? 1;
      _0x13abbe.style = {
        ...DEF_STYLE$s,
        ..._0x13abbe.style
      };
      super(_0x13abbe);
      this._measured = {};
    }
    get measured() {
      return this._measured;
    }
    _showHook(_0x5b420b) {
      if (this._measureLable) {
        this._measureLable.show = _0x5b420b;
      }
    }
    _addedHook(_0x4eb6ad) {
      var _0x2de16c;
      super._addedHook(_0x4eb6ad);
      this._measureLable = this._createLabel(this.options.label || ((_0x2de16c = this._layer) === null || _0x2de16c === undefined || (_0x2de16c = _0x2de16c.options) === null || _0x2de16c === undefined ? undefined : _0x2de16c.label));
      this._measureLable.show = false;
      this.on(EventType.drawAddPoint, this._drawAddPointHandler, this);
      this.on(EventType.drawRemovePoint, this._drawRemovePointHandler, this);
      this.on(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.once(EventType.drawCreated, this._drawCreatedHandler, this);
      this.on(EventType.editMovePoint, this._drawMouseMoveHandler, this);
      this.on(EventType.editRemovePoint, this._drawMouseMoveHandler, this);
      this.on(EventType.editMouseMove, this._drawMouseMoveHandler, this);
      if (this.options.positions) {
        this._measureLable.show = this.show;
        this._drawMouseMoveHandler();
      }
    }
    _updatePositionsHook() {
      super._updatePositionsHook();
      this._measureLable.show = this.show;
      this._drawMouseMoveHandler();
    }
    _removedHook() {
      this.off(EventType.drawAddPoint, this._drawAddPointHandler, this);
      this.off(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.off(EventType.drawRemovePoint, this._drawRemovePointHandler, this);
      this.off(EventType.drawCreated, this._drawCreatedHandler, this);
      this.off(EventType.editMovePoint, this._drawMouseMoveHandler, this);
      this.off(EventType.editRemovePoint, this._drawMouseMoveHandler, this);
      this.off(EventType.editMouseMove, this._drawMouseMoveHandler, this);
      if (Cesium__namespace.defined(this._measureLable)) {
        this._removeLabel(this._measureLable);
        delete this._measureLable;
      }
      super._removedHook();
    }
    _toJSON_Ex(_0x4f7938) {
      _0x4f7938.measured = getAttrVal(this.measured, {
        onlySimpleType: true
      });
    }
    updateText(_0x3cd86b) {
      if (_0x3cd86b) {
        this.options.unit = _0x3cd86b;
      }
      this._measured.angleStr = this._measured.angle.toFixed(this.options.angleDecimal) + "°";
      this._measured.distanceStr = formatDistance(this._measured.distance, {
        unit: this.options.unit,
        getLangText: _0x4e00a8 => {
          return this._map.getLangText(_0x4e00a8);
        },
        decimal: this.options.decimal
      });
      this._measureLable.text = this._map.getLangText("_角度") + ":" + this._measured.angleStr + "\n" + this._map.getLangText("_距离") + ":" + this._measured.distanceStr;
    }
    _drawAddPointHandler(_0xf04f4d) {
      this._drawMouseMoveHandler(_0xf04f4d);
    }
    _drawRemovePointHandler(_0x221dde) {
      if (this._measureLable) {
        this._measureLable.show = false;
      }
    }
    _drawMouseMoveHandler(_0x482f62) {
      const _0x295311 = this.positionsShow;
      if (!_0x295311 || _0x295311.length < 2) {
        this._measureLable.show = false;
        return;
      }
      this._measured.distance = Cesium__namespace.Cartesian3.distance(_0x295311[0], _0x295311[1]);
      this._measured.angle = getAngle(_0x295311[0], _0x295311[1], true);
      this.updateText();
      this._measureLable.position = _0x295311[1];
      this._measureLable.show = this.show;
      this.fire(EventType.change, {
        mtype: this.type,
        value: this._measured.angle,
        label: this._measured.angleStr
      }, true);
    }
    _drawCreatedHandler(_0x245c7e) {
      this.fire(EventType.end, {
        mtype: this.type,
        value: this._measured.angle,
        label: this._measured.angleStr
      }, true);
    }
  }
  register$5("angleMeasure", AngleMeasure);
  const DEF_STYLE$r = {
    materialType: "PolylineGlow",
    glowPower: 0.1,
    color: "#ebe12c",
    width: 9
  };
  class HeightMeasure extends PolylineEntity {
    constructor(_0x2d8fa0 = {}) {
      _0x2d8fa0.hasMoveEdit = _0x2d8fa0.hasMoveEdit ?? false;
      _0x2d8fa0.maxPointNum = 2;
      _0x2d8fa0.decimal = _0x2d8fa0.decimal ?? 2;
      _0x2d8fa0.style = {
        ...DEF_STYLE$r,
        ..._0x2d8fa0.style
      };
      super(_0x2d8fa0);
      this._measured = {};
    }
    get measured() {
      return this._measured;
    }
    _showHook(_0x3ed4bd) {
      if (this._measureLable) {
        this._measureLable.show = _0x3ed4bd;
      }
    }
    _addedHook(_0x26ab8b) {
      super._addedHook(_0x26ab8b);
      this._initMeasureLable();
      this.on(EventType.drawAddPoint, this._drawAddPointHandler, this);
      this.on(EventType.drawRemovePoint, this._drawRemovePointHandler, this);
      this.on(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.once(EventType.drawCreated, this._drawCreatedHandler, this);
      this.on(EventType.editMovePoint, this._editPointHandler, this);
      this.on(EventType.editRemovePoint, this._editPointHandler, this);
      this.on(EventType.editMouseMove, this._editPointHandler, this);
      if (this.options.positions) {
        this._measureLable.show = this.show;
        this._editPointHandler();
      }
    }
    _updatePositionsHook() {
      super._updatePositionsHook();
      this._measureLable.show = this.show;
      this._editPointHandler();
    }
    _removedHook() {
      this.off(EventType.drawAddPoint, this._drawAddPointHandler, this);
      this.off(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.off(EventType.drawRemovePoint, this._drawRemovePointHandler, this);
      this.off(EventType.drawCreated, this._drawCreatedHandler, this);
      this.off(EventType.editMovePoint, this._editPointHandler, this);
      this.off(EventType.editRemovePoint, this._editPointHandler, this);
      this.off(EventType.editMouseMove, this._editPointHandler, this);
      this._removeMeasureLabelAndEx();
      super._removedHook();
    }
    _toJSON_Ex(_0x49b051) {
      _0x49b051.measured = getAttrVal(this.measured, {
        onlySimpleType: true
      });
    }
    _initMeasureLable() {
      var _0x18dcbd;
      this._measureLable = this._createLabel(this.options.label || ((_0x18dcbd = this._layer) === null || _0x18dcbd === undefined || (_0x18dcbd = _0x18dcbd.options) === null || _0x18dcbd === undefined ? undefined : _0x18dcbd.label));
      this._measureLable.show = false;
    }
    _removeMeasureLabelAndEx() {
      if (Cesium__namespace.defined(this._measureLable)) {
        this._removeLabel(this._measureLable);
        delete this._measureLable;
      }
    }
    updateText(_0x2b15ee) {
      if (_0x2b15ee) {
        this.options.unit = _0x2b15ee;
      }
      this._measured.heightStr = formatDistance(this._measured.height, {
        unit: this.options.unit,
        getLangText: _0x3cc694 => {
          return this._map.getLangText(_0x3cc694);
        },
        decimal: this.options.decimal
      });
      this._measureLable.text = this._map.getLangText("_高度差") + ":" + this._measured.heightStr;
      if (Cesium__namespace.defined(this._measured.angle)) {
        this._measureLable.text += "\n" + this._map.getLangText("_角度") + ":" + this._measured.angle.toFixed(2) + "°";
      }
    }
    _drawAddPointHandler(_0x2c2e2a) {
      this._drawMouseMoveHandler(_0x2c2e2a);
    }
    _drawRemovePointHandler(_0x685c30) {
      if (this._measureLable) {
        this._measureLable.show = false;
      }
    }
    _drawMouseMoveHandler(_0x3dfd41) {
      const _0x4f4970 = this.positionsShow;
      if (!_0x4f4970 || _0x4f4970.length < 2) {
        this._measureLable.show = false;
        return;
      }
      const _0x4f5c04 = Cesium__namespace.Cartographic.fromCartesian(_0x4f4970[0]);
      const _0x408d57 = Cesium__namespace.Cartographic.fromCartesian(_0x4f4970[1]);
      this._measured.height = this._map.getRealAlt(_0x408d57.height - _0x4f5c04.height);
      if (this.options.hasAbs) {
        this._measured.height = Math.abs(this._measured.height);
      }
      this.updateText();
      this._measureLable.position = Cesium__namespace.Cartesian3.midpoint(_0x4f4970[0], _0x4f4970[1], new Cesium__namespace.Cartesian3());
      this._measureLable.show = this.show;
      this.fire(EventType.change, {
        mtype: this.type,
        value: this._measured.height,
        label: this._measured.heightStr
      }, true);
    }
    _drawCreatedHandler(_0x1c5529) {
      this.fire(EventType.end, {
        mtype: this.type,
        value: this._measured.height,
        label: this._measured.heightStr
      }, true);
    }
    _editPointHandler(_0x46ecf5) {
      this._drawMouseMoveHandler(_0x46ecf5);
    }
  }
  register$5("heightMeasure", HeightMeasure);
  class HeightTriangleMeasure extends HeightMeasure {
    _showHook(_0x55d063) {
      if (this._measureLable) {
        this._measureLable.show = _0x55d063;
      }
      if (this._measureDistanceLable) {
        this._measureDistanceLable.show = _0x55d063;
      }
      if (this._measureHorLable) {
        this._measureHorLable.show = _0x55d063;
      }
      if (this._measureExLine) {
        this._measureExLine.show = _0x55d063;
      }
    }
    _initMeasureLable() {
      var _0x1dfdf1;
      var _0x56b0cd;
      super._initMeasureLable();
      this._measureDistanceLable = this._createLabel(this.options.label || ((_0x1dfdf1 = this._layer) === null || _0x1dfdf1 === undefined || (_0x1dfdf1 = _0x1dfdf1.options) === null || _0x1dfdf1 === undefined ? undefined : _0x1dfdf1.label));
      this._measureDistanceLable.pixelOffset = new Cesium__namespace.Cartesian2(0, 0);
      this._measureHorLable = this._createLabel(this.options.label || ((_0x56b0cd = this._layer) === null || _0x56b0cd === undefined || (_0x56b0cd = _0x56b0cd.options) === null || _0x56b0cd === undefined ? undefined : _0x56b0cd.label));
      this._measureHorLable.pixelOffset = new Cesium__namespace.Cartesian2(0, 0);
    }
    _removeMeasureLabelAndEx() {
      super._removeMeasureLabelAndEx();
      if (this._measureDistanceLable != null) {
        this._removeLabel(this._measureDistanceLable);
        delete this._measureDistanceLable;
      }
      if (this._measureHorLable != null) {
        this._removeLabel(this._measureHorLable);
        delete this._measureHorLable;
      }
      if (this._measureExLine != null) {
        this.dataSource.entities.remove(this._measureExLine);
        delete this._measureExLine;
      }
    }
    updateText(_0x2c4368) {
      super.updateText(_0x2c4368);
      const _0x2118a8 = {
        unit: this.options.unit,
        getLangText: _0x1a97ce => {
          return this._map.getLangText(_0x1a97ce);
        },
        decimal: this.options.decimal
      };
      this._measured.distanceStr = formatDistance(this._measured.distance, _0x2118a8);
      this._measureDistanceLable.text = this._map.getLangText("_空间距离") + ":" + this._measured.distanceStr;
      this._measured.distanceHorStr = formatDistance(this._measured.distanceHor, _0x2118a8);
      this._measureHorLable.text = this._map.getLangText("_水平距离") + ":" + this._measured.distanceHorStr;
    }
    _drawRemovePointHandler(_0x2829d0) {
      if (this._measureLable) {
        this._measureLable.show = false;
      }
      if (this._measureHorLable) {
        this._measureHorLable.show = false;
      }
      if (this._measureDistanceLable) {
        this._measureDistanceLable.show = false;
      }
      if (this._measureExLine) {
        this._measureExLine_positions = null;
      }
    }
    _drawMouseMoveHandler(_0x55b164) {
      const _0xd4a4c7 = this.positionsShow;
      if (!_0xd4a4c7 || _0xd4a4c7.length < 2) {
        this._measureLable.show = false;
        return;
      }
      const _0x3ba47f = Cesium__namespace.Cartographic.fromCartesian(_0xd4a4c7[0]);
      const _0x188266 = _0x3ba47f.height;
      const _0x4dbd01 = Cesium__namespace.Cartographic.fromCartesian(_0xd4a4c7[1]);
      const _0x44cc3a = _0x4dbd01.height;
      let _0x3af564;
      let _0x290122;
      let _0x347ab0;
      if (_0x188266 > _0x44cc3a) {
        _0x290122 = Cesium__namespace.Cartesian3.fromRadians(_0x4dbd01.longitude, _0x4dbd01.latitude, _0x188266);
        _0x347ab0 = _0xd4a4c7[0];
        _0x3af564 = _0xd4a4c7[1];
      } else {
        _0x290122 = Cesium__namespace.Cartesian3.fromRadians(_0x3ba47f.longitude, _0x3ba47f.latitude, _0x44cc3a);
        _0x347ab0 = _0xd4a4c7[1];
        _0x3af564 = _0xd4a4c7[0];
      }
      this._measured.height = this._map.getRealAlt(Math.abs(_0x44cc3a - _0x188266));
      this._measureLable.position = getOnLinePointByRatio(_0x290122, _0x3af564, 0.5);
      this._measureLable.show = this.show;
      this._measured.distance = Cesium__namespace.Cartesian3.distance(_0x347ab0, _0x3af564);
      this._measureDistanceLable.position = getOnLinePointByRatio(_0x347ab0, _0x3af564, 0.4);
      this._measureDistanceLable.show = this.show;
      this._measured.distanceHor = Cesium__namespace.Cartesian3.distance(_0x347ab0, _0x290122);
      this._measureHorLable.position = getOnLinePointByRatio(_0x347ab0, _0x290122, 0.6);
      this._measureHorLable.show = this.show;
      const _0x1c5361 = Math.round(this._measured.height / this._measured.distance * 100) / 100;
      const _0xfea957 = Math.asin(_0x1c5361) / Math.PI * 180;
      this._measured.angle = _0xfea957;
      this.updateText();
      this.updateExLine([_0x3af564, _0x290122, _0x347ab0]);
      this.fire(EventType.change, {
        mtype: this.type,
        value: this._measured.height,
        label: this._measured.heightStr
      }, true);
    }
    updateExLine(_0xa0703e) {
      this._measureExLine_positions = _0xa0703e;
      if (!this._measureExLine) {
        const _0x5198ee = {
          id: this.id + "-ex",
          polyline: PolylineStyleConver.toCesiumVal(this.options.style, {}, true)
        };
        _0x5198ee.polyline.positions = new Cesium__namespace.CallbackProperty(_0x4fd9c4 => {
          return this._measureExLine_positions;
        }, false);
        this._measureExLine = this._createEntity(_0x5198ee);
        this.dataSource.entities.add(this._measureExLine);
        this.bindPickId(this._measureExLine);
      }
    }
    _editPointHandler(_0x3383a9) {
      this._drawMouseMoveHandler(_0x3383a9);
    }
  }
  register$5("heightTriangleMeasure", HeightTriangleMeasure);
  const DEF_STYLE$q = {
    color: "#00fff2",
    opacity: 0.4,
    outline: true,
    outlineColor: "#fafa5a",
    outlineWidth: 2,
    clampToGround: false
  };
  class AreaMeasure extends PolygonEntity {
    constructor(_0x3d9fe0 = {}) {
      _0x3d9fe0.hasMoveEdit = _0x3d9fe0.hasMoveEdit ?? false;
      _0x3d9fe0.decimal = _0x3d9fe0.decimal ?? 2;
      _0x3d9fe0.style = {
        ...DEF_STYLE$q,
        ..._0x3d9fe0.style
      };
      _0x3d9fe0.label &&= {
        horizontalOrigin: Cesium__namespace.HorizontalOrigin.CENTER,
        ..._0x3d9fe0.label
      };
      super(_0x3d9fe0);
      this._measured = {};
    }
    get measured() {
      return this._measured;
    }
    _showHook(_0x454ca5) {
      if (this._measureLable) {
        this._measureLable.show = _0x454ca5;
      }
    }
    _addedHook(_0x30ca86) {
      var _0xce8cf1;
      super._addedHook(_0x30ca86);
      this._measureLable = this._createLabel(this.options.label || ((_0xce8cf1 = this._layer) === null || _0xce8cf1 === undefined || (_0xce8cf1 = _0xce8cf1.options) === null || _0xce8cf1 === undefined ? undefined : _0xce8cf1.label));
      this._measureLable.show = false;
      this.on(EventType.drawAddPoint, this._drawAddPointHandler, this);
      this.on(EventType.drawRemovePoint, this._drawRemovePointHandler, this);
      this.on(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.once(EventType.drawCreated, this._drawCreatedHandler, this);
      this.on(EventType.editMovePoint, this._editPointHandler, this);
      this.on(EventType.editMouseMove, this._editPointHandler, this);
      this.on(EventType.editRemovePoint, this._editPointHandler, this);
      if (this.options.positions) {
        this._measureLable.show = this.show;
        this._editPointHandler();
      }
    }
    _updatePositionsHook() {
      super._updatePositionsHook();
      if (this._measureLable) {
        this._measureLable.show = this.show;
        this._editPointHandler();
      }
    }
    _removedHook() {
      this.off(EventType.drawAddPoint, this._drawAddPointHandler, this);
      this.off(EventType.drawMouseMove, this._drawMouseMoveHandler, this);
      this.off(EventType.drawRemovePoint, this._drawRemovePointHandler, this);
      this.off(EventType.drawCreated, this._drawCreatedHandler, this);
      this.off(EventType.editMouseMove, this._editPointHandler, this);
      this.off(EventType.editMovePoint, this._editPointHandler, this);
      this.off(EventType.editRemovePoint, this._editPointHandler, this);
      this._removeMeasureLabelAndEx();
      super._removedHook();
    }
    _toJSON_Ex(_0x50d47f) {
      _0x50d47f.measured = getAttrVal(this.measured, {
        onlySimpleType: true,
        noArray: true
      });
    }
    _removeMeasureLabelAndEx() {
      if (Cesium__namespace.defined(this._measureLable)) {
        this._removeLabel(this._measureLable);
        delete this._measureLable;
      }
    }
    updateText(_0x53520b) {
      if (_0x53520b) {
        this.options.unit = _0x53520b;
      }
      this._measured.areaStr = formatArea(this._measured.area, {
        unit: this.options.unit,
        getLangText: _0x3bbd66 => {
          return this._map.getLangText(_0x3bbd66);
        },
        decimal: this.options.decimal
      });
      this._measureLable.text = this._map.getLangText("_面积") + ":" + this._measured.areaStr;
    }
    startDraw(_0x1b612b) {
      super.startDraw(_0x1b612b);
      this._drawMouseMoveHandler();
      if (this.options.positions?.length > 2) {
        this.stopDraw();
      }
    }
    _drawAddPointHandler(_0x126ec1) {
      this._drawMouseMoveHandler(_0x126ec1);
    }
    _drawRemovePointHandler(_0x40eab0) {
      const _0x2803eb = this.positionsShow;
      if (_0x2803eb?.length < 3) {
        this._measureLable.show = false;
      }
    }
    _drawMouseMoveHandler(_0x25341c) {
      const _0x4c80d9 = this.positionsShow;
      if (_0x4c80d9.length < 3) {
        if (this._measureLable) {
          this._measureLable.show = false;
        }
        return;
      }
      this._measured.area = getArea(_0x4c80d9);
      this.updateText();
      const _0x21955e = centerOfMass(_0x4c80d9);
      this._measureLable.position = _0x21955e;
      this._measureLable.show = this.show;
      this.fire(EventType.change, {
        mtype: this.type,
        value: this._measured.area,
        label: this._measured.areaStr
      }, true);
    }
    _drawCreatedHandler(_0x2ce8c9) {
      this.fire(EventType.end, {
        mtype: this.type,
        value: this._measured.area,
        label: this._measured.areaStr
      }, true);
    }
    _editPointHandler(_0x2b60be) {
      const _0x150a7b = this.positionsShow;
      if (!_0x150a7b || _0x150a7b.length < 3) {
        return;
      }
      this._measured.area = getArea(_0x150a7b);
      this.updateText();
      this._measureLable.position = centerOfMass(_0x150a7b);
      this.fire(EventType.change, {
        mtype: this.type,
        value: this._measured.area,
        label: this._measured.areaStr
      }, true);
    }
  }
  register$5("areaMeasure", AreaMeasure);
  class AreaSurfaceMeasure extends AreaMeasure {
    constructor(_0x292901 = {}) {
      super(_0x292901);
      if (_0x292901._promise) {
        this._promise = _0x292901._promise;
        delete _0x292901._promise;
      }
      _0x292901.style.clampToGround = true;
    }
    _drawCreatedHandler(_0x2fcce7) {
      this.updateAreaForTerrain(_0x2fcce7);
    }
    _editPointHandler(_0xfb06e5) {
      super._editPointHandler(_0xfb06e5);
      this.updateAreaForTerrain(_0xfb06e5);
    }
    updateAreaForTerrain(_0x1a12fc) {
      const _0x20acd1 = this.positionsShow;
      if (!_0x20acd1 || _0x20acd1.length < 3) {
        return;
      }
      this._measured.area_original = this._measured.area;
      this._measured.areaStr_original = this._measured.areaStr;
      this.fire(EventType.start, {
        mtype: this.type,
        graphic: this
      }, true);
      const _0x5e8da0 = {
        scene: this._map.scene,
        splitNum: this.options.splitNum,
        has3dtiles: this.options.has3dtiles,
        exact: this.options.exact
      };
      getClampArea(_0x20acd1, _0x5e8da0).then(_0x50a131 => {
        var _0x3f437e;
        var _0x1ec169;
        if (!this._map || !this._measureLable) {
          return;
        }
        const _0x205c64 = getPositionValue(this._measureLable.position, (_0x3f437e = this._map) === null || _0x3f437e === undefined ? undefined : _0x3f437e.clock.currentTime);
        if (_0x205c64 && _0x50a131 !== null && _0x50a131 !== undefined && _0x50a131.maxHeight) {
          this._measureLable.position = setPositionsHeight(_0x205c64, _0x50a131.maxHeight);
        }
        this._measured.area = _0x50a131.area;
        this.updateText();
        const _0x45f9cf = {
          ..._0x50a131
        };
        _0x45f9cf.mtype = this.type;
        _0x45f9cf.value = this._measured.area;
        _0x45f9cf.label = this._measured.areaStr;
        const _0x34eeb8 = _0x45f9cf;
        this.fire(EventType.change, _0x34eeb8, true);
        this.fire(EventType.end, _0x34eeb8, true);
        if ((_0x1ec169 = this._promise) !== null && _0x1ec169 !== undefined && _0x1ec169.resolve) {
          this._promise.resolve(this);
        }
      });
    }
  }
  register$5("areaSurfaceMeasure", AreaSurfaceMeasure);
  class VolumeMeasure extends AreaMeasure {
    constructor(_0x3aec4b = {}) {
      super(_0x3aec4b);
      if (_0x3aec4b._promise) {
        this._promise = _0x3aec4b._promise;
        delete _0x3aec4b._promise;
      }
      this.labelHeightStyle = {
        ...this.options.label,
        font_size: 15,
        background: false
      };
      if (Cesium__namespace.defined(_0x3aec4b.labelHeight)) {
        this.labelHeightStyle = {
          ...this.labelHeightStyle,
          ..._0x3aec4b.labelHeight
        };
      }
      this.polygonWallStyle = {
        color: "#00ff00",
        opacity: 0.3,
        closeTop: false,
        closeBottom: true,
        perPositionHeight: false,
        height: new Cesium__namespace.CallbackProperty(_0x4eebfe => {
          return this.minHeight;
        }, false),
        extrudedHeight: new Cesium__namespace.CallbackProperty(_0x25046d => {
          return this.maxHeight;
        }, false)
      };
      if (Cesium__namespace.defined(_0x3aec4b.polygonWall)) {
        this.polygonWallStyle = {
          ...this.polygonWallStyle,
          ..._0x3aec4b.polygonWall
        };
      }
      this.heightLabel = _0x3aec4b.heightLabel ?? true;
      this.offsetLabel = _0x3aec4b.offsetLabel ?? false;
      this.showArea = _0x3aec4b.showArea ?? true;
      this.showFillVolume = _0x3aec4b.showFillVolume ?? true;
      this.showDigVolume = _0x3aec4b.showDigVolume ?? true;
      this._hasFX = false;
    }
    get hasEdit() {
      return false;
    }
    get polygonMaxHeight() {
      if (this.interPolygonObj) {
        return this.interPolygonObj.maxHeight;
      } else {
        return this.maxHeight;
      }
    }
    get height() {
      return this._jzmHeight;
    }
    set height(_0x2bf5ab) {
      this._jzmHeight = _0x2bf5ab;
      if (_0x2bf5ab > this.maxHeight) {
        this.maxHeight = _0x2bf5ab;
      }
      if (_0x2bf5ab < this.minHeight) {
        this.minHeight = _0x2bf5ab;
      }
      if (!this._hasFX) {
        return;
      }
      const _0x4412a9 = updateVolume(this.interPolygonObj, this.height);
      for (const _0x52e853 in _0x4412a9) {
        this._measured[_0x52e853] = _0x4412a9[_0x52e853];
      }
      this.updateText();
      if (this._arrPartMeasureLable) {
        for (let _0xdb1522 = 0; _0xdb1522 < this._arrPartMeasureLable.length; _0xdb1522++) {
          this._arrPartMeasureLable[_0xdb1522].showText();
        }
      }
      const _0x1ec213 = {
        ..._0x4412a9
      };
      _0x1ec213.sourceTarget = this;
      _0x1ec213.mtype = this.type;
      _0x1ec213.graphic = this;
      const _0x4a69cb = _0x1ec213;
      this.fire(EventType.change, _0x4a69cb, true);
    }
    get minHeight() {
      return this._minHeight || 0;
    }
    set minHeight(_0x22affe) {
      this._minHeight = _0x22affe;
      if (!this._hasFX) {
        return;
      }
      if (this.interPolygonObj) {
        this.interPolygonObj.minHeight = _0x22affe;
        this.interPolygonObj = updateVolumeByMinHeight(this.interPolygonObj);
      }
      const _0x312d30 = updateVolume(this.interPolygonObj, this.height);
      for (const _0x1046c5 in _0x312d30) {
        this._measured[_0x1046c5] = _0x312d30[_0x1046c5];
      }
      this.updateText();
      const _0x308bb4 = {
        ..._0x312d30
      };
      _0x308bb4.sourceTarget = this;
      _0x308bb4.mtype = this.type;
      _0x308bb4.graphic = this;
      const _0x10b548 = _0x308bb4;
      this.fire(EventType.change, _0x10b548, true);
    }
    get maxHeight() {
      return this._maxHeight || 0;
    }
    set maxHeight(_0x5333c0) {
      this._maxHeight = _0x5333c0;
    }
    _showHook(_0x2a1d80) {
      if (this._wallEntity) {
        this._wallEntity.show = _0x2a1d80;
      }
      if (this._measureLable) {
        this._measureLable.show = _0x2a1d80;
      }
      if (this._arrPartMeasureLable) {
        for (let _0x4f9e8c = 0; _0x4f9e8c < this._arrPartMeasureLable.length; _0x4f9e8c++) {
          this._arrPartMeasureLable[_0x4f9e8c].show = _0x2a1d80;
        }
      }
    }
    _removedHook() {
      if (this._depthTestAgainstTerrain_reset) {
        this._map.scene.globe.depthTestAgainstTerrain = false;
        delete this._depthTestAgainstTerrain_reset;
      }
      super._removedHook();
    }
    _removeMeasureLabelAndEx() {
      super._removeMeasureLabelAndEx();
      if (Cesium__namespace.defined(this._arrPartMeasureLable) && this._arrPartMeasureLable.length > 0) {
        const _0x4f992e = this._arrPartMeasureLable;
        if (_0x4f992e && _0x4f992e.length > 0) {
          for (let _0x466c84 = 0, _0x340ab5 = _0x4f992e.length; _0x466c84 < _0x340ab5; _0x466c84++) {
            this._removeLabel(_0x4f992e[_0x466c84]);
          }
        }
        delete this._arrPartMeasureLable;
      }
      if (Cesium__namespace.defined(this._wallEntity)) {
        this.dataSource.entities.remove(this._wallEntity);
        delete this._wallEntity;
      }
    }
    _drawCreatedHandler(_0x19b318) {
      clearTimeout(this._cache_timeTik);
      this._measureLable.text = this._map.getLangText("_正在计算体积") + "…";
      const _0x19d007 = this.positionsShow;
      this._cache_timeTik = setTimeout(() => {
        if (this.isAdded) {
          this.calcVolume(_0x19d007);
        }
      }, 100);
    }
    _editPointHandler(_0x58f8b0) {
      this._drawCreatedHandler(_0x58f8b0);
    }
    updateText(_0x3cfb29) {
      if (_0x3cfb29) {
        this.options.unit = _0x3cfb29;
      }
      const _0x1e7587 = {
        unit: this.options.unit,
        getLangText: _0x118d06 => {
          return this._map.getLangText(_0x118d06);
        },
        decimal: this.options.decimal
      };
      let _0x53553a = "";
      if (this.showFillVolume && this._measured.fillVolume > 0) {
        this._measured.fillVolumeStr = formatVolume(this._measured.fillVolume, _0x1e7587);
        _0x53553a += (this.options.fillVolumeName || this._map.getLangText("_填方体积")) + "：" + this._measured.fillVolumeStr + "\n";
      }
      if (this.showDigVolume && this._measured.digVolume > 0) {
        this._measured.digVolumeStr = formatVolume(this._measured.digVolume, _0x1e7587);
        _0x53553a += (this.options.digVolumeName || this._map.getLangText("_挖方体积")) + "：" + this._measured.digVolumeStr + "\n";
      }
      if (this.showArea && this._measured.totalArea > 0) {
        this._measured.totalAreaStr = formatArea(this._measured.totalArea, _0x1e7587);
        _0x53553a += (this.options.areaName || this._map.getLangText("_横切面积")) + "：" + this._measured.totalAreaStr;
      }
      this._measureLable.text = _0x53553a;
    }
    calcVolume(_0x26a7cb) {
      if (!this._map || !_0x26a7cb || _0x26a7cb.length < 3) {
        return;
      }
      this.fire(EventType.start, {
        mtype: this.type,
        sourceTarget: this,
        positions: _0x26a7cb
      }, true);
      this._hasFX = true;
      const _0x58020f = {
        positions: _0x26a7cb,
        scene: this._map.scene,
        exact: true,
        ...this.options
      };
      interPolygon(_0x58020f).then(_0x59c211 => {
        if (!this._map || !this._hasFX) {
          return;
        }
        if (_0x59c211.has3dtiles) {
          this._map.scene.globe.depthTestAgainstTerrain = false;
        } else if (!this._map.scene.globe.depthTestAgainstTerrain) {
          this._map.scene.globe.depthTestAgainstTerrain = true;
          this._depthTestAgainstTerrain_reset = true;
        }
        this.showVolume(_0x26a7cb, _0x59c211);
      });
    }
    showVolume(_0x1c3cc0, _0x53c87c) {
      var _0x427818;
      this._jzmHeight = this.options.height ?? _0x53c87c.minHeight;
      if (this._jzmHeight < _0x53c87c.minHeight) {
        _0x53c87c.minHeight = this._jzmHeight;
      }
      this.interPolygonObj = updateVolumeByMinHeight(_0x53c87c);
      this._minHeight = this.options.minHeight ?? this.interPolygonObj.minHeight;
      this._maxHeight = this.options.maxHeight ?? this.interPolygonObj.maxHeight;
      const _0x187499 = Math.floor(Cesium__namespace.Math.chordLength(_0x53c87c.granularity, this.ellipsoid.maximumRadius) * 0.3);
      if (this._maxHeight - this._minHeight < _0x187499) {
        this._maxHeight = this._minHeight + _0x187499;
      }
      const _0x44a0f9 = updateVolume(this.interPolygonObj, this.height);
      for (const _0x4f48d6 in _0x44a0f9) {
        this._measured[_0x4f48d6] = _0x44a0f9[_0x4f48d6];
      }
      this.updateText();
      this._measureLable.position = centerOfMass(_0x1c3cc0, this.interPolygonObj.maxHeight);
      if (this.heightLabel) {
        this.showPointHeightLabel(_0x1c3cc0, this.interPolygonObj.minHeight);
      }
      this._entity._noMousePick = true;
      this.entityGraphic.perPositionHeight = false;
      this.entityGraphic.hierarchy = new Cesium__namespace.PolygonHierarchy(_0x1c3cc0);
      this.entityGraphic.height = new Cesium__namespace.CallbackProperty(_0x1a0e71 => {
        return this.height;
      }, false);
      const _0x31ffbe = PolygonStyleConver.toCesiumVal(this.polygonWallStyle, {}, true);
      _0x31ffbe.hierarchy = new Cesium__namespace.PolygonHierarchy(_0x1c3cc0);
      if (Cesium__namespace.defined(this._wallEntity)) {
        this.dataSource.entities.remove(this._wallEntity);
      }
      this._wallEntity = this.dataSource.entities.add({
        polygon: _0x31ffbe,
        show: this.show
      });
      this._wallEntity._noMousePick = true;
      this.bindPickId(this._wallEntity);
      const _0x407e2b = {
        ..._0x44a0f9
      };
      _0x407e2b.sourceTarget = this;
      _0x407e2b.mtype = this.type;
      _0x407e2b.graphic = this;
      const _0x353082 = _0x407e2b;
      this.fire(EventType.change, _0x353082, true);
      this.fire(EventType.end, _0x353082, true);
      if ((_0x427818 = this._promise) !== null && _0x427818 !== undefined && _0x427818.resolve) {
        this._promise.resolve(this);
      }
    }
    showPointHeightLabel(_0x454ae7, _0x24ec2d) {
      const _0xf0bd9b = this;
      if (Cesium__namespace.defined(this._arrPartMeasureLable) && this._arrPartMeasureLable.length > 0) {
        const _0x247971 = this._arrPartMeasureLable;
        if (_0x247971 && _0x247971.length > 0) {
          for (let _0x381c6b = 0, _0x2ef058 = _0x247971.length; _0x381c6b < _0x2ef058; _0x381c6b++) {
            this._removeLabel(_0x247971[_0x381c6b]);
          }
        }
        delete this._arrPartMeasureLable;
      }
      const _0x1c2e70 = [];
      for (let _0x17cae0 = 0; _0x17cae0 < _0x454ae7.length; _0x17cae0++) {
        const _0xb4eaa8 = Cesium__namespace.Cartographic.fromCartesian(_0x454ae7[_0x17cae0]);
        const _0x537795 = Math.max(getHeight(this._map.scene, _0xb4eaa8, {
          original: true
        }), _0x24ec2d);
        const _0x145403 = Cesium__namespace.Cartesian3.fromRadians(_0xb4eaa8.longitude, _0xb4eaa8.latitude, _0x537795);
        const _0x41001a = this._createLabel(this.labelHeightStyle, _0x145403);
        const _0xcf6056 = {
          value: _0x537795
        };
        _0x41001a.attr = _0xcf6056;
        _0x1c2e70.push(_0x41001a);
        _0x41001a.showText = function () {
          const _0x2ebfbd = this.attr.value;
          let _0x47e255 = _0xf0bd9b._map.getLangText("_海拔") + "：" + _0x2ebfbd.toFixed(2) + _0xf0bd9b._map.getLangText("_米");
          if (_0xf0bd9b.offsetLabel) {
            const _0x1d58b7 = _0x2ebfbd - _0xf0bd9b.height;
            if (_0x1d58b7 > 0) {
              _0x47e255 += "\n" + _0xf0bd9b._map.getLangText("_高度") + "：" + _0x1d58b7.toFixed(2) + _0xf0bd9b._map.getLangText("_米") + "(" + _0xf0bd9b._map.getLangText("_面上") + ")";
            } else {
              _0x47e255 += "\n" + _0xf0bd9b._map.getLangText("_高度") + "：" + Math.abs(_0x1d58b7).toFixed(2) + _0xf0bd9b._map.getLangText("_米") + "(" + _0xf0bd9b._map.getLangText("_面下") + ")";
            }
          }
          this.text = _0x47e255;
          return _0x47e255;
        };
        _0x41001a.showText();
      }
      this._arrPartMeasureLable = _0x1c2e70;
    }
  }
  register$5("volumeMeasure", VolumeMeasure);
  class VolumeDepthMeasure extends AreaMeasure {
    constructor(_0x309209 = {}) {
      super(_0x309209);
      if (_0x309209._promise) {
        this._promise = _0x309209._promise;
        delete _0x309209._promise;
      }
      this.labelHeightStyle = {
        ...this.options.label,
        font_size: 15,
        background: false
      };
      if (Cesium__namespace.defined(_0x309209.labelHeight)) {
        this.labelHeightStyle = {
          ...this.labelHeightStyle,
          ..._0x309209.labelHeight
        };
      }
      this._digBoxColor = Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(getCesiumColor(_0x309209.digBoxColor ?? "rgba(255, 0, 0, 0.3)"));
      this._fillBoxColor = Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(getCesiumColor(_0x309209.fillBoxColor ?? "rgba(140, 230, 50, 0.3)"));
      this.options.offsetHeight = this.options.offsetHeight ?? 0;
      this.polygonWallStyle = {
        color: "#00ff00",
        opacity: 0.3,
        closeTop: false,
        closeBottom: true,
        perPositionHeight: false,
        height: new Cesium__namespace.CallbackProperty(_0x529ae2 => {
          return this.minHeight;
        }, false),
        extrudedHeight: new Cesium__namespace.CallbackProperty(_0x1b81c1 => {
          return this.maxHeight;
        }, false)
      };
      if (Cesium__namespace.defined(_0x309209.polygonWall)) {
        this.polygonWallStyle = {
          ...this.polygonWallStyle,
          ..._0x309209.polygonWall
        };
      }
      this.heightLabel = _0x309209.heightLabel ?? true;
      this.offsetLabel = _0x309209.offsetLabel ?? false;
      this.showArea = _0x309209.showArea ?? true;
      this.showFillVolume = _0x309209.showFillVolume ?? true;
      this.showDigVolume = _0x309209.showDigVolume ?? true;
      this._showFillBox = _0x309209.showFillBox ?? true;
      this._showDigBox = _0x309209.showDigBox ?? true;
      this._showPoly = _0x309209.showPoly ?? true;
      this._showWall = _0x309209.showWall ?? false;
      this._hasFX = false;
    }
    get hasEdit() {
      return false;
    }
    get polygonMaxHeight() {
      if (this._measured) {
        return this._measured.maxHeight;
      } else {
        return this.maxHeight;
      }
    }
    get height() {
      return this._jzmHeight;
    }
    set height(_0x2b47c9) {
      this._jzmHeight = _0x2b47c9;
      if (_0x2b47c9 > this.maxHeight) {
        this.maxHeight = _0x2b47c9;
      }
      if (_0x2b47c9 < this.minHeight) {
        this.minHeight = _0x2b47c9;
      }
      if (!this._hasFX) {
        return;
      }
      this.updateVolume();
      this.updateText();
      if (this._arrPartMeasureLable) {
        for (let _0x4284a9 = 0; _0x4284a9 < this._arrPartMeasureLable.length; _0x4284a9++) {
          this._arrPartMeasureLable[_0x4284a9].showText();
        }
      }
      const _0x3a0b8d = {
        ...this._measured
      };
      _0x3a0b8d.sourceTarget = this;
      _0x3a0b8d.mtype = this.type;
      _0x3a0b8d.graphic = this;
      const _0x397d92 = _0x3a0b8d;
      this.fire(EventType.change, _0x397d92, true);
    }
    get minHeight() {
      return this._minHeight || 0;
    }
    set minHeight(_0x79d9bb) {
      this._minHeight = _0x79d9bb;
      if (!this._hasFX) {
        return;
      }
      if (this._measured) {
        this._measured.minHeight = _0x79d9bb;
        this.updateVolume();
      }
      this.updateText();
      const _0x1b845a = {
        ...this._measured
      };
      _0x1b845a.sourceTarget = this;
      _0x1b845a.mtype = this.type;
      _0x1b845a.graphic = this;
      const _0x295d22 = _0x1b845a;
      this.fire(EventType.change, _0x295d22, true);
    }
    get maxHeight() {
      return this._maxHeight || 0;
    }
    set maxHeight(_0x412bed) {
      this._maxHeight = _0x412bed;
      if (!this._hasFX) {
        return;
      }
      if (this._measured) {
        this._measured.maxHeight = _0x412bed;
        this.updateVolume();
      }
      this.updateText();
      const _0x2c4202 = {
        ...this._measured
      };
      _0x2c4202.sourceTarget = this;
      _0x2c4202.mtype = this.type;
      _0x2c4202.graphic = this;
      const _0x444da8 = _0x2c4202;
      this.fire(EventType.change, _0x444da8, true);
    }
    get showFillBox() {
      return this._showFillBox;
    }
    set showFillBox(_0x3eecb1) {
      this._showFillBox = _0x3eecb1;
      this.updateVolume();
    }
    get showDigBox() {
      return this._showDigBox;
    }
    set showDigBox(_0x10d6f3) {
      this._showDigBox = _0x10d6f3;
      this.updateVolume();
    }
    _showHook(_0xbb17b3) {
      if (this._wallEntity) {
        this._wallEntity.show = _0xbb17b3;
      }
      if (this._measureLable) {
        this._measureLable.show = _0xbb17b3;
      }
      if (this._arrPartMeasureLable) {
        for (let _0x3eccce = 0; _0x3eccce < this._arrPartMeasureLable.length; _0x3eccce++) {
          this._arrPartMeasureLable[_0x3eccce].show = _0xbb17b3;
        }
      }
      if (this._primitive_boxs) {
        this._primitive_boxs.show = _0xbb17b3;
      }
    }
    _removeMeasureLabelAndEx() {
      super._removeMeasureLabelAndEx();
      this.removePointHeightLabel();
      if (Cesium__namespace.defined(this._wallEntity)) {
        this.dataSource.entities.remove(this._wallEntity);
        delete this._wallEntity;
      }
      clearTimeout(this._cache_timeTik);
      if (this._primitive_boxs) {
        this._layer.primitiveCollection.remove(this._primitive_boxs);
        delete this._primitive_boxs;
      }
    }
    _drawCreatedHandler(_0x591d0d) {
      clearTimeout(this._cache_timeTik);
      this._measureLable.text = this._map.getLangText("_正在计算体积") + "…";
      const _0x1c9e4a = this.positionsShow;
      if (_0x1c9e4a?.length > 3) {
        this._cache_timeTik = setTimeout(() => {
          if (this.isAdded) {
            this.calcVolume(_0x1c9e4a);
          }
        }, 100);
      }
    }
    _editPointHandler(_0x4da126) {
      this._drawCreatedHandler(_0x4da126);
    }
    updateText(_0x21ca4e) {
      if (_0x21ca4e) {
        this.options.unit = _0x21ca4e;
      }
      const _0x150d31 = {
        unit: this.options.unit,
        getLangText: _0x5d5ecd => {
          return this._map.getLangText(_0x5d5ecd);
        },
        decimal: this.options.decimal
      };
      let _0x5bc699 = "";
      if (this.showFillVolume) {
        const _0x222589 = this.options.measured?.fillVolume ?? this._measured.fillVolume;
        this._measured.fillVolumeStr = formatVolume(_0x222589, _0x150d31);
        _0x5bc699 += (this.options.fillVolumeName || this._map.getLangText("_填方体积")) + "：" + this._measured.fillVolumeStr + "\n";
      }
      if (this.showDigVolume) {
        const _0x15f9b9 = this.options.measured?.digVolume ?? this._measured.digVolume;
        this._measured.digVolumeStr = formatVolume(_0x15f9b9, _0x150d31);
        _0x5bc699 += (this.options.digVolumeName || this._map.getLangText("_挖方体积")) + "：" + this._measured.digVolumeStr + "\n";
      }
      if (this.showArea) {
        const _0x2da3fa = this.options.measured?.totalArea ?? this._measured.totalArea;
        this._measured.totalAreaStr = formatArea(_0x2da3fa, _0x150d31);
        _0x5bc699 += (this.options.areaName || this._map.getLangText("_横切面积")) + "：" + this._measured.totalAreaStr;
      }
      this._measureLable.text = _0x5bc699;
    }
    calcVolume(_0x4c9bbe) {
      if (!this._map) {
        return;
      }
      this.fire(EventType.start, {
        mtype: this.type,
        sourceTarget: this,
        positions: _0x4c9bbe
      }, true);
      this._hasFX = true;
      this._measureLable.show = false;
      this._entity.show = false;
      if (this._entity_outlines) {
        for (let _0x3e4f61 = 0, _0x1541ad = this._entity_outlines.length; _0x3e4f61 < _0x1541ad; _0x3e4f61++) {
          const _0x1b0fb9 = this._entity_outlines[_0x3e4f61].polyline;
          _0x1b0fb9.show = false;
        }
      }
      if (this._primitive_boxs) {
        this._layer.primitiveCollection.remove(this._primitive_boxs);
        delete this._primitive_boxs;
      }
      const _0x766d76 = {
        scene: this._map.scene,
        positions: _0x4c9bbe,
        splitNum: this.options.splitNum,
        cameraHeight: this.options.cameraHeight
      };
      interPolygonByDepth(_0x766d76).then(_0x554741 => {
        var _0x1eeb2b;
        if (this.isDestroy) {
          return;
        }
        this._measured = _0x554741;
        if (Cesium__namespace.defined(this.options.minHeight)) {
          _0x554741.minHeight = this.options.minHeight;
        }
        if (Cesium__namespace.defined(this.options.maxHeight)) {
          _0x554741.maxHeight = this.options.maxHeight;
        }
        this._minHeight = _0x554741.minHeight;
        this._maxHeight = _0x554741.maxHeight;
        this._jzmHeight = this.options.height ?? _0x554741.minHeight;
        if (this._jzmHeight < _0x554741.minHeight) {
          _0x554741.minHeight = this._jzmHeight;
        }
        this._measured = this.updateVolume(_0x554741);
        this.updateText();
        this._measureLable.position = centerOfMass(_0x4c9bbe, this._maxHeight);
        this._measureLable.show = this.show;
        if (this.heightLabel) {
          this.addPointHeightLabel(_0x4c9bbe, this._minHeight);
        }
        if (this._showPoly) {
          this._entity.show = true;
          if (this._entity_outlines) {
            for (let _0x35f676 = 0, _0x1b2db9 = this._entity_outlines.length; _0x35f676 < _0x1b2db9; _0x35f676++) {
              const _0x5a430c = this._entity_outlines[_0x35f676].polyline;
              _0x5a430c.show = true;
            }
          }
          this._entity._noMousePick = true;
          this.entityGraphic.show = true;
          this.entityGraphic.perPositionHeight = false;
          this.entityGraphic.hierarchy = new Cesium__namespace.PolygonHierarchy(_0x4c9bbe);
          this.entityGraphic.height = new Cesium__namespace.CallbackProperty(_0x3bb50f => {
            return this.height;
          }, false);
        } else {
          this.entityGraphic.show = false;
        }
        if (this._showWall) {
          const _0x2f6992 = PolygonStyleConver.toCesiumVal(this.polygonWallStyle, {}, true);
          _0x2f6992.hierarchy = new Cesium__namespace.PolygonHierarchy(_0x4c9bbe);
          const _0x21b3b0 = {
            polygon: _0x2f6992
          };
          this._wallEntity = this.dataSource.entities.add(_0x21b3b0);
          this._wallEntity._noMousePick = true;
          this.bindPickId(this._wallEntity);
        }
        const _0x45a408 = {
          ...this._measured
        };
        _0x45a408.sourceTarget = this;
        _0x45a408.mtype = this.type;
        _0x45a408.graphic = this;
        const _0x51f164 = _0x45a408;
        this.fire(EventType.change, _0x51f164, true);
        this.fire(EventType.end, _0x51f164, true);
        if ((_0x1eeb2b = this._promise) !== null && _0x1eeb2b !== undefined && _0x1eeb2b.resolve) {
          this._promise.resolve(this);
        }
      });
    }
    updateVolume(_0x6456d) {
      if (!_0x6456d) {
        _0x6456d = this._measured;
      }
      const _0x10efa1 = _0x6456d.minHeight;
      const _0xc34f88 = _0x6456d.maxHeight;
      const _0x5280cb = this.height;
      const _0x2b1ba2 = _0x6456d.box.area;
      const _0x434cb1 = [];
      const _0x4a7419 = this.options.offsetHeight;
      let _0x11cb42 = 0;
      let _0x4b6a71 = 0;
      for (let _0x35af9f = 0, _0x130ec2 = _0x6456d.count; _0x35af9f < _0x130ec2; _0x35af9f++) {
        const _0xcd6c2e = _0x6456d.positions[_0x35af9f];
        let _0x14ea6e = _0xcd6c2e.height;
        if (_0x14ea6e < _0x10efa1) {
          _0x14ea6e = _0x10efa1;
        }
        if (_0x14ea6e > _0xc34f88) {
          _0x14ea6e = _0xc34f88;
        }
        if (_0x14ea6e > _0x5280cb) {
          _0x11cb42 += _0x2b1ba2 * (_0x14ea6e - _0x5280cb);
          if (this.showDigBox) {
            const _0x504a81 = _0xcd6c2e.getOutline();
            const _0x50c31f = {
              color: this._digBoxColor
            };
            _0x434cb1.push(new Cesium__namespace.GeometryInstance({
              geometry: new Cesium__namespace.PolygonOutlineGeometry({
                polygonHierarchy: new Cesium__namespace.PolygonHierarchy(_0x504a81),
                extrudedHeight: _0x14ea6e + _0x4a7419,
                height: _0x5280cb + _0x4a7419
              }),
              attributes: _0x50c31f
            }));
          }
        } else if (_0x14ea6e < _0x5280cb) {
          _0x4b6a71 += _0x2b1ba2 * (_0x5280cb - _0x14ea6e);
          if (this.showFillBox) {
            const _0x5f4e27 = _0xcd6c2e.getOutline();
            const _0x5ddcdc = {
              color: this._fillBoxColor
            };
            _0x434cb1.push(new Cesium__namespace.GeometryInstance({
              geometry: new Cesium__namespace.PolygonOutlineGeometry({
                polygonHierarchy: new Cesium__namespace.PolygonHierarchy(_0x5f4e27),
                extrudedHeight: _0x5280cb + _0x4a7419,
                height: _0x14ea6e + _0x4a7419
              }),
              attributes: _0x5ddcdc
            }));
          }
        }
      }
      _0x6456d.digVolume = _0x11cb42;
      _0x6456d.fillVolume = _0x4b6a71;
      if (this._primitive_boxs) {
        this._layer.primitiveCollection.remove(this._primitive_boxs);
        delete this._primitive_boxs;
      }
      if (_0x434cb1.length > 0) {
        this._primitive_boxs = new Cesium__namespace.Primitive({
          geometryInstances: _0x434cb1,
          appearance: new Cesium__namespace.PerInstanceColorAppearance({
            flat: true,
            renderState: {
              lineWidth: 1
            }
          }),
          asynchronous: true
        });
        this._layer.primitiveCollection.add(this._primitive_boxs);
        this._primitive_boxs._noMousePick = true;
        this.bindPickId(this._primitive_boxs);
      }
      return _0x6456d;
    }
    addPointHeightLabel(_0x43b0f6, _0x471cbf) {
      this.removePointHeightLabel();
      const _0x2e7c03 = this;
      const _0x1e580b = [];
      for (let _0x18311d = 0; _0x18311d < _0x43b0f6.length; _0x18311d++) {
        const _0x45e5a8 = Cesium__namespace.Cartographic.fromCartesian(_0x43b0f6[_0x18311d]);
        const _0x5e0186 = Math.max(getHeight(this._map.scene, _0x45e5a8, {
          original: true
        }), _0x471cbf);
        const _0x258ae8 = Cesium__namespace.Cartesian3.fromRadians(_0x45e5a8.longitude, _0x45e5a8.latitude, _0x5e0186);
        const _0x391d3f = this._createLabel(this.labelHeightStyle, _0x258ae8);
        const _0x833e61 = {
          value: _0x5e0186
        };
        _0x391d3f.attr = _0x833e61;
        _0x1e580b.push(_0x391d3f);
        _0x391d3f.showText = function () {
          const _0x20559c = this.attr.value;
          let _0x1f1016 = _0x2e7c03._map.getLangText("_海拔") + "：" + _0x20559c.toFixed(2) + _0x2e7c03._map.getLangText("_米");
          if (_0x2e7c03.offsetLabel) {
            const _0x21fd28 = _0x20559c - _0x2e7c03.height;
            if (_0x21fd28 > 0) {
              _0x1f1016 += "\n" + _0x2e7c03._map.getLangText("_高度") + "：" + _0x21fd28.toFixed(2) + _0x2e7c03._map.getLangText("_米") + "(" + _0x2e7c03._map.getLangText("_面上") + ")";
            } else {
              _0x1f1016 += "\n" + _0x2e7c03._map.getLangText("_高度") + "：" + Math.abs(_0x21fd28).toFixed(2) + _0x2e7c03._map.getLangText("_米") + "(" + _0x2e7c03._map.getLangText("_面下") + ")";
            }
          }
          this.text = _0x1f1016;
          return _0x1f1016;
        };
        _0x391d3f.showText();
      }
      this._arrPartMeasureLable = _0x1e580b;
    }
    removePointHeightLabel() {
      if (Cesium__namespace.defined(this._arrPartMeasureLable) && this._arrPartMeasureLable.length > 0) {
        const _0x55cefa = this._arrPartMeasureLable;
        if (_0x55cefa && _0x55cefa.length > 0) {
          for (let _0xb96acc = 0, _0x51d7de = _0x55cefa.length; _0xb96acc < _0x51d7de; _0xb96acc++) {
            this._removeLabel(_0x55cefa[_0xb96acc]);
          }
        }
        delete this._arrPartMeasureLable;
      }
    }
    _toJSON_Ex(_0x4e5167) {
      const _0x4e8e81 = {
        fillVolume: this._measured.fillVolume,
        digVolume: this._measured.digVolume,
        totalArea: this._measured.totalArea,
        minHeight: this._measured.minHeight,
        maxHeight: this._measured.maxHeight
      };
      _0x4e5167.measured = _0x4e8e81;
    }
  }
  register$5("volumeDepthMeasure", VolumeDepthMeasure);
  class PointPrimitive extends BasePointPrimitive {
    get primitiveCollection() {
      return this._layer?.pointCollection;
    }
    _showHook(_0x198d7a) {
      if (this._primitive) {
        this._primitive.show = _0x198d7a;
      } else if (_0x198d7a) {
        super._showHook(_0x198d7a);
      }
    }
    _addedHook(_0x5b8374) {
      if (!this.getRealShow()) {
        return;
      }
      this._forPositionProperty(this.options.position);
      this._calculateAsynSurfacePosition();
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
      }
      const _0x4bff73 = PointStyleConver.toCesiumVal(this.style, {
        show: this.show,
        position: this.position
      });
      this._primitive = this.primitiveCollection.add(_0x4bff73);
      if (_0x5b8374.label) {
        this._addLabel(_0x5b8374.label);
      }
    }
    _updateStyleHook(_0x15a61e, _0xbfac71) {
      delete _0xbfac71.scene;
      delete _0xbfac71.position;
      PointStyleConver.toCesiumVal(_0xbfac71, this.primitive);
    }
    _style2Json(_0x5a9401, _0x26575d) {
      delete _0x5a9401.scene;
      delete _0x5a9401.position;
      return PointStyleConver.toJSON(_0x5a9401, _0x26575d);
    }
    _updatePositionsHook() {
      this._primitive.position = this.position;
    }
    async _calculateAsynSurfacePosition() {
      if (this.style.clampToGround || Cesium__namespace.defined(this.style.heightReference) && this.style.heightReference !== Cesium__namespace.HeightReference.NONE) {
        let _0x197adc;
        if (this.style.clampToGroundExact) {
          const _0xf532ae = await getSurfaceHeight(this._map.scene, this.position, this.style);
          _0x197adc = _0xf532ae.position;
        } else {
          _0x197adc = getSurfacePosition(this._map.scene, this.position, this.style);
        }
        this._setPointPostion(_0x197adc);
      }
    }
    _updateAvailabilityHook(_0x4202e5) {
      if (_0x4202e5) {
        this.bindUpdateEvent();
      } else {
        this.unbindUpdateEvent();
        this._primitive.show = this.show;
        this.czmObjectEx.forEach(_0x22250b => {
          _0x22250b.show = this.show;
        });
      }
      if (this._editing_entity) {
        this._editing_entity.availability = _0x4202e5;
      }
    }
    setOpacity(_0x5eaebd) {
      this.style.globalAlpha = _0x5eaebd;
      PointStyleConver.setOpacity(this.primitive, _0x5eaebd);
      this._updateLabelOpacity(_0x5eaebd);
    }
    _getDrawEntityClass(_0x10ed79, _0x2e5e6d) {
      return create$5("point", _0x10ed79);
    }
    getWindowCoordinates(_0x29350c) {
      return this._primitive.computeScreenSpacePosition(this._map.scene, _0x29350c);
    }
    getBoundingBox(_0x4af787, _0x52351e) {
      return Cesium__namespace.PointPrimitive.getScreenSpaceBoundingBox(this._primitive, _0x4af787, _0x52351e);
    }
  }
  register$5("pointP", PointPrimitive, true);
  class BillboardPrimitive extends BasePointPrimitive {
    get primitiveCollection() {
      return this._layer?.billboardCollection;
    }
    get czmObjectEx() {
      const _0x3ea3f5 = [];
      if (this._primitive_label) {
        _0x3ea3f5.push(this._primitive_label);
      }
      if (this._primitive_point) {
        _0x3ea3f5.push(this._primitive_point);
      }
      return _0x3ea3f5;
    }
    get image() {
      return this.style.image;
    }
    set image(_0x67bdc) {
      this.style.image = _0x67bdc;
      if (this._primitive) {
        this._primitive.image = _0x67bdc;
      }
      if (this._editing_entity) {
        this._editing_entity.image = _0x67bdc;
      }
    }
    _showHook(_0x51a19b) {
      if (this._primitive) {
        this._primitive.show = _0x51a19b;
      } else if (_0x51a19b) {
        super._showHook(_0x51a19b);
      }
    }
    _addedHook(_0x3f34bc) {
      if (!this.getRealShow()) {
        return;
      }
      this._forPositionProperty(this.options.position);
      const _0x3c57de = {
        show: this.show,
        position: this.position
      };
      const _0x2fe171 = BillboardStyleConver.toCesiumVal(_0x3f34bc, _0x3c57de);
      this._primitive = this.primitiveCollection.add(_0x2fe171);
      if (this.style.alignedAxis) {
        if (this.property && this.style.alignedAxis === true) {
          this._alignedAxis = new Cesium__namespace.VelocityVectorProperty(this.property, true);
        } else {
          this._alignedAxis = this.style.alignedAxis;
        }
      }
      if (_0x3f34bc.label) {
        this._addLabel(_0x3f34bc.label);
      }
      if (this.style.distanceDisplayCondition) {
        if (this.style.distanceDisplayPoint) {
          var _0xe7305c;
          const _0x1438d3 = PointStyleConver.toCesiumVal(this.style.distanceDisplayPoint, {
            show: this.show,
            position: this.position
          });
          _0x1438d3.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayPoint);
          this._primitive_point = (_0xe7305c = this._layer) === null || _0xe7305c === undefined ? undefined : _0xe7305c.pointCollection.add(_0x1438d3);
        }
      }
    }
    _removedHook() {
      super._removedHook();
      if (this._primitive_point) {
        var _0x41a4ca;
        if ((_0x41a4ca = this._layer) !== null && _0x41a4ca !== undefined) {
          _0x41a4ca.pointCollection.remove(this._primitive_point);
        }
        delete this._primitive_point;
      }
    }
    _updateStyleHook(_0xbf9b20, _0xef7fb0) {
      BillboardStyleConver.toCesiumVal(_0xbf9b20, this.primitive);
      if (_0xef7fb0.alignedAxis) {
        if (this.property && _0xef7fb0.alignedAxis === true) {
          this._alignedAxis = new Cesium__namespace.VelocityVectorProperty(this.property, true);
        } else {
          this._alignedAxis = _0xef7fb0.alignedAxis;
        }
      }
      if (this.style.distanceDisplayCondition) {
        if (_0xef7fb0.distanceDisplayPoint && this._primitive_point) {
          PointStyleConver.toCesiumVal(this.style.distanceDisplayPoint, this._primitive_point);
          this._primitive_point.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayPoint);
        }
      }
    }
    _style2Json(_0x307aaf, _0x53595f) {
      return BillboardStyleConver.toJSON(_0x307aaf, _0x53595f);
    }
    _updatePositionsHook() {
      if (!this._primitive._billboardCollection) {
        return;
      }
      this._primitive.position = this.position;
      if (this._alignedAxis) {
        this._primitive.alignedAxis = getCesiumValue(this._alignedAxis, Cesium__namespace.Cartesian3, this.currentTime);
      }
      if (this._primitive_point) {
        this._primitive_point.position = this.position;
      }
    }
    setOpacity(_0x87c0ce) {
      this.style.globalAlpha = _0x87c0ce;
      if (this._primitive) {
        this._primitive.color = Cesium__namespace.Color.WHITE.withAlpha(_0x87c0ce);
      }
      this._updateLabelOpacity(_0x87c0ce);
    }
    _updateAvailabilityHook(_0xa86ed1) {
      if (_0xa86ed1) {
        this.bindUpdateEvent();
      } else {
        this.unbindUpdateEvent();
        this._primitive.show = this.show;
        this.czmObjectEx.forEach(_0x351084 => {
          _0x351084.show = this.show;
        });
      }
      if (this._editing_entity) {
        this._editing_entity.availability = _0xa86ed1;
      }
    }
    _getTargetDistanceDisplayCondition(_0x193bf4) {
      let _0x401c41;
      if (this.style.distanceDisplayCondition instanceof Cesium__namespace.DistanceDisplayCondition) {
        _0x401c41 = this.style.distanceDisplayCondition.far;
      } else if (this.style.distanceDisplayCondition_far) {
        _0x401c41 = this.style.distanceDisplayCondition_far;
      }
      return new Cesium__namespace.DistanceDisplayCondition(_0x193bf4.distanceDisplayCondition_near ?? _0x401c41, _0x193bf4.distanceDisplayCondition_far ?? Number.MAX_VALUE);
    }
    _getDrawEntityClass(_0xc4b6a8, _0x1ab72f) {
      return create$5("billboard", _0xc4b6a8);
    }
    getWindowCoordinates(_0x2271f9) {
      return this._primitive.computeScreenSpacePosition(this._map.scene, _0x2271f9);
    }
    getBoundingBox(_0x2d2008, _0x1e9a79) {
      if (this._primitive.width && this._primitive.height) {
        return Cesium__namespace.Billboard.getScreenSpaceBoundingBox(this._primitive, _0x2d2008, _0x1e9a79);
      } else {
        const _0x494044 = {
          width: this._primitive.width || 30,
          height: this._primitive.height || 30,
          scale: this._primitive.scale || 1,
          horizontalOrigin: this._primitive.horizontalOrigin,
          verticalOrigin: this._primitive.verticalOrigin
        };
        return Cesium__namespace.Billboard.getScreenSpaceBoundingBox(_0x494044, _0x2d2008, _0x1e9a79);
      }
    }
  }
  register$5("billboardP", BillboardPrimitive, true);
  class DivBillboardPrimitive extends BillboardPrimitive {
    get hasEditEqualType() {
      return true;
    }
    _mountedHook() {
      super._mountedHook();
      this._updateImage_delay();
    }
    _updateStyleHook(_0x15ff40, _0x1c2d46) {
      delete _0x15ff40.image;
      super._updateStyleHook(_0x15ff40, _0x1c2d46);
      if (this._editing_entity) {
        this._editing_entity.setStyle(_0x1c2d46);
      }
      if (_0x1c2d46 && (_0x1c2d46.html || _0x1c2d46.iconSize || _0x1c2d46.color)) {
        this._updateImage_delay();
      }
    }
    _updateImage_delay() {
      if (this.updateTimer) {
        clearTimeout(this.updateTimer);
      }
      this.updateTimer = setTimeout(() => {
        delete this.updateTimer;
        if (this.isDestroy) {
          return;
        }
        this._updateImage();
      }, 300);
    }
    _updateImage() {
      if (this.isDestroy) {
        return;
      }
      const _0x8ad491 = create$4("div", "mars3d-hideDiv");
      const _0x1b85e6 = this.style.html;
      if (isString(_0x1b85e6)) {
        _0x8ad491.innerHTML = _0x1b85e6;
      } else if (_0x1b85e6 instanceof Element) {
        _0x8ad491.appendChild(_0x1b85e6);
      }
      document.body.appendChild(_0x8ad491);
      this._islosdImg = true;
      if (window.domtoimage) {
        window.domtoimage.toPng(_0x8ad491.firstChild).then(_0x213294 => {
          this.image = "" + _0x213294;
          document.body.removeChild(_0x8ad491);
          this._islosdImg = false;
          const _0x3f8d45 = {
            image: _0x213294
          };
          this.fire("image", _0x3f8d45);
        }).catch(_0x16920a => {
          logError("未知原因，导出失败!", _0x16920a);
          document.body.removeChild(_0x8ad491);
          this._islosdImg = false;
        });
      } else if (window.html2canvas) {
        window.html2canvas(_0x8ad491, {
          backgroundColor: null,
          allowTaint: true
        }).then(_0x51fa92 => {
          this.image = _0x51fa92;
          document.body.removeChild(_0x8ad491);
          this._islosdImg = false;
          const _0x69ae1e = {
            canvas: _0x51fa92
          };
          this.fire("image", _0x69ae1e);
        }).catch(_0x549a12 => {
          logError("未知原因，导出失败!", _0x549a12);
          document.body.removeChild(_0x8ad491);
          this._islosdImg = false;
        });
      }
    }
  }
  register$5("divBillboardP", DivBillboardPrimitive, true);
  const _0x31eaa6 = {
    rectX: 100,
    rectY: -50,
    rectColor: "rgb(16 238 220)",
    pointColor: "#0000ff",
    pointSize: 4,
    pointOutline: true,
    pointOutlineWidth: 2,
    pointOutlineColor: "#ffffff",
    autoPoistion: true
  };
  const DEF_STYLE$p = _0x31eaa6;
  class BillboardIndicator extends BillboardPrimitive {
    constructor(_0x38c28e = {}) {
      _0x38c28e.style = {
        ...DEF_STYLE$p,
        ..._0x38c28e.style
      };
      _0x38c28e.style.label = {
        align: "center",
        baseline: "middle",
        ..._0x38c28e.style.label
      };
      super(_0x38c28e);
    }
    _addedHook(_0x483efb) {
      const _0x5c51f9 = getCanvasImage(_0x483efb);
      _0x483efb.image = _0x5c51f9.image;
      _0x483efb.eyeOffsetZ = 1;
      _0x483efb.rectWidth = _0x5c51f9.rectWidth;
      _0x483efb.rectHeight = _0x5c51f9.rectHeight;
      _0x483efb.label = {
        ..._0x483efb.label,
        eyeOffsetZ: 0,
        hasPixelOffset: true,
        pixelOffsetX: _0x5c51f9.pixelOffsetX,
        pixelOffsetY: _0x5c51f9.pixelOffsetY,
        horizontalOrigin: Cesium__namespace.HorizontalOrigin.CENTER,
        verticalOrigin: Cesium__namespace.VerticalOrigin.TOP
      };
      if (Cesium__namespace.defined(_0x483efb.scale)) {
        _0x483efb.label.scale = _0x483efb.scale;
      }
      if (_0x483efb.scaleByDistance) {
        _0x483efb.label.scaleByDistance = _0x483efb.scaleByDistance;
        _0x483efb.label.pixelOffsetScaleByDistance = _0x483efb.scaleByDistance;
      }
      super._addedHook(_0x483efb);
      this.on(EventType.click, this._clickHandler, this);
    }
    _removedHook() {
      this.off(EventType.click, this._clickHandler, this);
      this._removeDragCanvas();
      super._removedHook();
    }
    _startEditingHook(_0x18eb0a) {
      this.off(EventType.click, this._clickHandler, this);
      this._removeDragCanvas();
    }
    _stopEditingHook() {
      this.on(EventType.click, this._clickHandler, this);
    }
    _updateStyleBaseHook(_0x39c696) {
      delete _0x39c696.image;
      if (Cesium__namespace.defined(_0x39c696.scaleByDistance)) {
        _0x39c696.label = _0x39c696.label || {};
        _0x39c696.label.scaleByDistance = _0x39c696.scaleByDistance;
        _0x39c696.label.pixelOffsetScaleByDistance = _0x39c696.scaleByDistance;
        this.style.label.scaleByDistance = _0x39c696.scaleByDistance;
        this.style.label.pixelOffsetScaleByDistance = _0x39c696.scaleByDistance;
      }
      if (Cesium__namespace.defined(_0x39c696.scale)) {
        _0x39c696.label = _0x39c696.label || {};
        _0x39c696.label.scale = _0x39c696.scale;
        this.style.label.scale = _0x39c696.scale;
      }
      super._updateStyleBaseHook(_0x39c696);
      this._updateImage();
    }
    _updateImage(_0x15b4b7) {
      const _0xcedc1 = getCanvasImage(this.style);
      this.image = _0xcedc1.image;
      this.style.rectWidth = _0xcedc1.rectWidth;
      this.style.rectHeight = _0xcedc1.rectHeight;
      this.style.label.pixelOffsetX = _0xcedc1.pixelOffsetX;
      this.style.label.pixelOffsetY = _0xcedc1.pixelOffsetY;
      this.label.pixelOffset = new Cesium__namespace.Cartesian2(_0xcedc1.pixelOffsetX, _0xcedc1.pixelOffsetY);
      if (_0x15b4b7 && typeof _0x15b4b7 === "function") {
        _0x15b4b7();
      }
    }
    setOpacity(_0x2486a3) {
      super.setOpacity(_0x2486a3);
      if (this._dragCanvas) {
        this._dragCanvas.style.opacity = _0x2486a3;
      }
    }
    _showHook(_0x1fbd8c) {
      super._showHook(_0x1fbd8c);
      if (this._dragCanvas) {
        this._dragCanvas.style.display = _0x1fbd8c ? "block" : "none";
      }
    }
    _visibleCzmObject(_0x5234f6) {
      if (this._primitive) {
        this._primitive.show = _0x5234f6;
      }
      if (this._primitive_label) {
        this._primitive_label.show = _0x5234f6;
      }
    }
    _clickHandler(_0x390dce) {
      if (this.isEditing) {
        return;
      }
      this._removeDragCanvas();
      this._visibleCzmObject(false);
      this._graphicWindowPosition = toWindowCoordinates$1(this._map.scene, this.positionShow);
      const _0x1f5c39 = create$4("canvas", "mars3d-billboard-indicator", this._layer.container);
      _0x1f5c39.id = this.id;
      _0x1f5c39.style.position = "absolute";
      _0x1f5c39.style.top = "0px";
      _0x1f5c39.style.left = "0px";
      _0x1f5c39.width = parseInt(this._map.canvas.width);
      _0x1f5c39.height = parseInt(this._map.canvas.height);
      _0x1f5c39.style.width = this._map.canvas.style.width + "px";
      _0x1f5c39.style.height = this._map.canvas.style.height + "px";
      this._dragCanvas = _0x1f5c39;
      const _0x837433 = _0x1f5c39.getContext("2d");
      this._changeDragCanvas(_0x837433);
      this._drawingCanvas(_0x837433, true);
      addEvent(_0x1f5c39, "mousedown", this._canvasMouseDown.bind(this));
    }
    _removeDragCanvas() {
      if (this._dragCanvas) {
        this._dragCanvas.parentElement.removeChild(this._dragCanvas);
        delete this._dragCanvas;
      }
    }
    _canvasMouseDown(_0x5adeea) {
      _0x5adeea.preventDefault();
      _0x5adeea.stopPropagation();
      const _0x12b41a = this._dragCanvas;
      if (!_0x12b41a) {
        return;
      }
      const _0x174b1e = this._getDragRectPosition();
      const _0x1b3776 = {
        x: _0x5adeea.offsetX,
        y: _0x5adeea.offsetY
      };
      const _0x29badc = _0x1b3776;
      if (isInRect(_0x29badc, _0x174b1e)) {
        addEvent(_0x12b41a, "mousemove", _0x58d114);
      }
      addEvent(_0x12b41a, "mouseup", _0x2334ea);
      const _0x5879f5 = this;
      let _0x4461ef;
      function _0x58d114(_0x3c45e5) {
        _0x3c45e5.preventDefault();
        _0x3c45e5.stopPropagation();
        let _0x5e8fab = _0x3c45e5.clientX - _0x5adeea.clientX;
        let _0x410625 = _0x3c45e5.clientY - _0x5adeea.clientY;
        if (_0x5879f5.style.scale && _0x5879f5.style.scale !== 1) {
          _0x5e8fab /= _0x5879f5.style.scale;
          _0x410625 /= _0x5879f5.style.scale;
        }
        const _0x1f2a63 = _0x12b41a.getContext("2d");
        _0x1f2a63.clearRect(0, 0, _0x12b41a.width, _0x12b41a.height);
        _0x5879f5._changeDragCanvas(_0x1f2a63);
        _0x4461ef = _0x5879f5._drawingCanvas(_0x1f2a63, true, _0x5e8fab, _0x410625);
      }
      function _0x2334ea() {
        _0x5adeea.preventDefault();
        _0x5adeea.stopPropagation();
        removeEvent(_0x12b41a, "mousemove", _0x58d114);
        removeEvent(_0x12b41a, "mouseup", _0x2334ea);
        if (_0x4461ef) {
          _0x5879f5.style.rectX = _0x4461ef?.x;
          _0x5879f5.style.rectY = _0x4461ef?.y;
        }
        _0x5879f5._updateImage(() => {
          _0x5879f5._removeDragCanvas();
          _0x5879f5._visibleCzmObject(true);
        });
      }
    }
    _drawingCanvas(_0x312f01, _0x14eafe = false, _0x160d9c = 0, _0x49bb58 = 0) {
      _0x312f01.beginPath();
      _0x312f01.arc(0, 0, this.style.pointSize, 0, Math.PI * 2);
      _0x312f01.fillStyle = this.style.pointColor;
      _0x312f01.fill();
      if (this.style.pointOutline) {
        _0x312f01.strokeStyle = this.style.pointColor;
        _0x312f01.lineWidth = this.style.pointOutlineWidth ?? 2;
      }
      _0x312f01.stroke();
      _0x312f01.beginPath();
      _0x312f01.moveTo(0, 0);
      _0x312f01.lineWidth = this.style.lineWidth ?? 2;
      _0x312f01.strokeStyle = this.style.lineColor ?? "yellow";
      if (this.style.lineDash) {
        _0x312f01.setLineDash(this.style.lineDash.split(","));
      }
      const _0x43c30a = [this.style.rectX + _0x160d9c, this.style.rectY + _0x49bb58];
      const _0x320b06 = [0, 0];
      if (this.style.autoPoistion) {
        if (_0x43c30a[0] < 0 && Math.abs(_0x43c30a[0]) > this.style.rectWidth / 2) {
          _0x320b06[0] = _0x320b06[0] + this.style.rectWidth;
        }
        if (_0x43c30a[1] > 0 && _0x43c30a[1] > this.style.rectHeight / 2) {
          _0x320b06[1] = _0x320b06[1] + -this.style.rectHeight;
        }
      }
      _0x312f01.translate(..._0x43c30a);
      _0x312f01.lineTo(..._0x320b06);
      _0x312f01.stroke();
      _0x312f01.fillStyle = this.style.rectColor ?? "rgb(16 238 220)";
      _0x312f01.fillRect(0, 0, this.style.rectWidth, -this.style.rectHeight);
      _0x312f01.stroke();
      if (_0x14eafe) {
        _0x312f01.font = getFontByStyle(this.style.label);
        _0x312f01.textAlign = this.style.label.align ?? "center";
        _0x312f01.textBaseline = this.style.label.baseline ?? "middle";
        _0x312f01.fillStyle = this.style.label.color ?? "#ffffff";
        _0x312f01.fillText(this.style.label.text, this.style.rectWidth / 2, -this.style.rectHeight / 2);
        _0x312f01.stroke();
      }
      _0x312f01.restore();
      const _0xf10ac4 = {
        x: this.style.rectX + _0x160d9c,
        y: this.style.rectY + _0x49bb58
      };
      return _0xf10ac4;
    }
    _getDragRectPosition() {
      let _0x405594 = this._graphicWindowPosition.x + this.style.rectX;
      let _0x1977a6 = this._graphicWindowPosition.y + this.style.rectY;
      let _0xdc71a1 = this.style.rectWidth;
      let _0x1daa9c = this.style.rectHeight;
      if (this.style.scale && this.style.scale !== 1) {
        _0x405594 = this._graphicWindowPosition.x + this.style.rectX * Number(this.style.scale);
        _0x1977a6 = this._graphicWindowPosition.y + this.style.rectY * Number(this.style.scale);
        _0xdc71a1 = this.style.rectWidth * Number(this.style.scale);
        _0x1daa9c = this.style.rectHeight * Number(this.style.scale);
      }
      if (this.style.scaleByDistance) {
        const _0x13df47 = this._map.getCameraDistance();
        const _0x1bf8df = this.style.scaleByDistance;
        const _0x1920a4 = _0x1bf8df.near || this.style.scaleByDistance_near;
        const _0x5e5812 = _0x1bf8df.far || this.style.scaleByDistance_far;
        const _0x5d3ff5 = _0x1bf8df.farValue || this.style.scaleByDistance_farValue;
        const _0x4a2e45 = _0x1bf8df.nearValue || this.style.scaleByDistance_nearValue;
        if (_0x13df47 < _0x1920a4 || _0x13df47 < _0x5e5812) {
          _0x405594 = this._graphicWindowPosition.x + this.style.rectX * Number(_0x4a2e45);
          _0x1977a6 = this._graphicWindowPosition.y + this.style.rectY * Number(_0x4a2e45);
          _0xdc71a1 = this.style.rectWidth * Number(_0x4a2e45);
          _0x1daa9c = this.style.rectHeight * Number(_0x4a2e45);
        }
        if (_0x13df47 > _0x5e5812) {
          _0x405594 = this._graphicWindowPosition.x + this.style.rectX * Number(_0x5d3ff5);
          _0x1977a6 = this._graphicWindowPosition.y + this.style.rectY * Number(_0x5d3ff5);
          _0xdc71a1 = this.style.rectWidth * Number(_0x5d3ff5);
          _0x1daa9c = this.style.rectHeight * Number(_0x5d3ff5);
        }
      }
      const _0x49640e = {
        x: _0x405594,
        y: _0x1977a6
      };
      const _0x2da4ef = {
        x: _0x405594 + _0xdc71a1,
        y: _0x1977a6
      };
      const _0x50db0a = {
        x: _0x405594,
        y: _0x1977a6 - _0x1daa9c
      };
      const _0x278838 = {
        x: _0x405594 + _0xdc71a1,
        y: _0x1977a6 - _0x1daa9c
      };
      const _0x51d955 = {
        bl: _0x49640e,
        br: _0x2da4ef,
        tl: _0x50db0a,
        tr: _0x278838
      };
      const _0x1bfbb2 = _0x51d955;
      if (this.style.rotationDegree && this.style.rotationDegree !== 1) {
        _0x1bfbb2.bl = getRotationPoint(this._graphicWindowPosition, _0x1bfbb2.bl, this.style.rotationDegree);
        _0x1bfbb2.br = getRotationPoint(this._graphicWindowPosition, _0x1bfbb2.br, this.style.rotationDegree);
        _0x1bfbb2.tl = getRotationPoint(this._graphicWindowPosition, _0x1bfbb2.tl, this.style.rotationDegree);
        _0x1bfbb2.tr = getRotationPoint(this._graphicWindowPosition, _0x1bfbb2.tr, this.style.rotationDegree);
      }
      return _0x1bfbb2;
    }
    _changeDragCanvas(_0x4b329c) {
      _0x4b329c.save();
      if (this._layer.opacity || this.style.opacity) {
        _0x4b329c.globalAlpha = this.style.opacity || this._layer.opacity;
      }
      _0x4b329c.translate(this._graphicWindowPosition.x, this._graphicWindowPosition.y);
      if (this.style.scale && this.style.scale !== 1) {
        _0x4b329c.scale(this.style.scale, this.style.scale);
      }
      if (this.style.scaleByDistance) {
        const _0x3cb31c = this._map.getCameraDistance();
        const _0x2064e2 = this.style.scaleByDistance;
        const _0x22a13b = _0x2064e2.near || this.style.scaleByDistance_near;
        const _0x6dd816 = _0x2064e2.far || this.style.scaleByDistance_far;
        const _0xe3d890 = _0x2064e2.farValue || this.style.scaleByDistance_farValue;
        const _0x53a76d = _0x2064e2.nearValue || this.style.scaleByDistance_nearValue;
        if (_0x3cb31c < _0x22a13b || _0x3cb31c < _0x6dd816) {
          _0x4b329c.scale(_0x53a76d, _0x53a76d);
        }
        if (_0x3cb31c > _0x6dd816) {
          _0x4b329c.scale(_0xe3d890, _0xe3d890);
        }
      }
      if (this.style.rotationDegree) {
        _0x4b329c.rotate(-(this.style.rotationDegree * Math.PI) / 180);
      }
    }
  }
  register$5("billboardIndicator", BillboardIndicator, true);
  function getRotationPoint(_0x3c942d, _0x59af57, _0x4f601a, _0x1700e1 = true) {
    const {
      x: _0x327e15,
      y: _0x5c3d8e
    } = _0x3c942d;
    const {
      x: _0x536914,
      y: _0x527ffb
    } = _0x59af57;
    const _0x5b8f17 = Math.PI / 180 * (_0x1700e1 ? 360 - _0x4f601a : _0x4f601a);
    const _0xccad96 = +((_0x536914 - _0x327e15) * Math.cos(_0x5b8f17) - (_0x527ffb - _0x5c3d8e) * Math.sin(_0x5b8f17) + _0x327e15).toFixed(6);
    const _0xa180ae = +((_0x536914 - _0x327e15) * Math.sin(_0x5b8f17) + (_0x527ffb - _0x5c3d8e) * Math.cos(_0x5b8f17) + _0x5c3d8e).toFixed(6);
    const _0x119733 = {
      x: _0xccad96,
      y: _0xa180ae
    };
    return _0x119733;
  }
  function isInRect(_0x8dba77, _0x44c2d6) {
    const {
      x: _0x3e56ac,
      y: _0x2f6dd7
    } = _0x8dba77;
    const {
      bl: _0x1e00db,
      br: _0x2e05c4,
      tl: _0x2d319c,
      tr: _0x45e003
    } = _0x44c2d6;
    return _0x3e56ac > _0x1e00db.x && _0x3e56ac < _0x45e003.x && _0x2f6dd7 > _0x1e00db.y && _0x2f6dd7 < _0x45e003.y || _0x3e56ac > _0x2d319c.x && _0x3e56ac < _0x2e05c4.x && _0x2f6dd7 > _0x2d319c.y && _0x2f6dd7 < _0x2e05c4.y;
  }
  function addEvent(_0x2cfb03, _0x3a2bbf, _0x4944ce) {
    if (!_0x2cfb03) {
      return;
    }
    if (_0x2cfb03.attachEvent) {
      _0x2cfb03.attachEvent("on" + _0x3a2bbf, _0x4944ce);
    } else if (_0x2cfb03.addEventListener) {
      _0x2cfb03.addEventListener(_0x3a2bbf, _0x4944ce);
    } else {
      _0x2cfb03["on" + _0x3a2bbf] = _0x4944ce;
    }
  }
  function removeEvent(_0xb1c071, _0x182db9, _0x20d8ca) {
    if (!_0xb1c071) {
      return;
    }
    if (_0xb1c071.detachEvent) {
      _0xb1c071.detachEvent("on" + _0x182db9, _0x20d8ca);
    } else if (_0xb1c071.removeEventListener) {
      _0xb1c071.removeEventListener(_0x182db9, _0x20d8ca);
    } else {
      _0xb1c071["on" + _0x182db9] = null;
    }
  }
  const bgImageCache = {};
  const textGroupSize = 6;
  function getCanvasImage(_0x3a0788) {
    let _0x3a4627 = _0x3a0788.label.text;
    const _0x5bb571 = getStrLength(_0x3a4627);
    const _0x31da93 = Math.ceil(_0x5bb571 / textGroupSize);
    const _0x444609 = _0x3a0788.rectX + "_" + _0x3a0788.rectY + "_" + _0x31da93 + "_" + (_0x3a0788.scale ?? 1) + "_" + (_0x3a0788.label.font_size ?? 18);
    if (bgImageCache[_0x444609]) {
      return bgImageCache[_0x444609];
    }
    const _0x1ee436 = document.createElement("canvas");
    const _0x37c8a9 = _0x1ee436.getContext("2d", {
      willReadFrequently: true
    });
    let _0x5949a2 = _0x3a0788.rectWidth;
    let _0x53d7d5 = _0x3a0788.rectHeight;
    _0x37c8a9.font = getFontByStyle(_0x3a0788.label);
    for (let _0x18d94e = 0, _0x355698 = _0x31da93 * textGroupSize - _0x5bb571; _0x18d94e < _0x355698; _0x18d94e++) {
      _0x3a4627 += "0";
    }
    const _0x2e0b5f = _0x37c8a9.measureText(_0x3a4627);
    _0x5949a2 = _0x2e0b5f.width + 10;
    _0x53d7d5 = _0x2e0b5f.actualBoundingBoxAscent + _0x2e0b5f.actualBoundingBoxDescent + 10;
    _0x1ee436.width = (_0x5949a2 + Math.abs(_0x3a0788.rectX)) * 2;
    _0x1ee436.height = (_0x53d7d5 + Math.abs(_0x3a0788.rectY)) * 2;
    _0x37c8a9.translate(_0x1ee436.width / 2, _0x1ee436.height / 2);
    _0x37c8a9.beginPath();
    _0x37c8a9.arc(0, 0, _0x3a0788.pointSize, 0, Math.PI * 2);
    _0x37c8a9.fillStyle = _0x3a0788.pointColor;
    _0x37c8a9.fill();
    if (_0x3a0788.pointOutline) {
      _0x37c8a9.strokeStyle = _0x3a0788.pointColor;
      _0x37c8a9.lineWidth = _0x3a0788.pointOutlineWidth ?? 2;
    }
    _0x37c8a9.stroke();
    _0x37c8a9.beginPath();
    _0x37c8a9.moveTo(0, 0);
    _0x37c8a9.lineWidth = _0x3a0788.lineWidth ?? 2;
    _0x37c8a9.strokeStyle = _0x3a0788.lineColor ?? "yellow";
    if (_0x3a0788.lineDash) {
      _0x37c8a9.setLineDash(_0x3a0788.lineDash.split(","));
    }
    const _0x400f4a = _0x3a0788.rectX;
    const _0x183e5a = _0x3a0788.rectY;
    let _0x268560 = 0;
    let _0x1794b3 = 0;
    if (_0x3a0788.autoPoistion) {
      if (_0x400f4a < 0 && Math.abs(_0x400f4a) > _0x5949a2 / 2) {
        _0x268560 = _0x5949a2;
      }
      if (_0x183e5a > 0 && _0x183e5a > _0x53d7d5 / 2) {
        _0x1794b3 = -_0x53d7d5;
      }
    }
    _0x37c8a9.translate(_0x400f4a, _0x183e5a);
    _0x37c8a9.lineTo(_0x268560, _0x1794b3);
    _0x37c8a9.stroke();
    _0x37c8a9.fillStyle = _0x3a0788.rectColor ?? "rgb(16 238 220)";
    _0x37c8a9.fillRect(0, 0, _0x5949a2, -_0x53d7d5);
    _0x37c8a9.stroke();
    const _0x2fd8da = _0x1ee436.toDataURL("image/png");
    let _0x48bbab = _0x400f4a + _0x5949a2 / 2 + _0x3a0788.pointSize / 2;
    let _0x5ccd93 = _0x183e5a - _0x53d7d5 + _0x3a0788.pointSize;
    if (_0x3a0788.scale && _0x3a0788.scale !== 1) {
      _0x48bbab *= _0x3a0788.scale;
      _0x5ccd93 *= _0x3a0788.scale;
    }
    const _0x2a5509 = {
      image: _0x2fd8da,
      rectWidth: _0x5949a2,
      rectHeight: _0x53d7d5,
      pixelOffsetX: _0x48bbab,
      pixelOffsetY: _0x5ccd93
    };
    const _0x3e81e1 = _0x2a5509;
    bgImageCache[_0x444609] = _0x3e81e1;
    return _0x3e81e1;
  }
  function getFontByStyle(_0x169cf5) {
    if (Cesium__namespace.defined(_0x169cf5.font)) {
      return _0x169cf5.font;
    }
    return (_0x169cf5.font_style || "") + " " + (_0x169cf5.font_weight || "") + " " + (_0x169cf5.font_size || 18) + "px  " + (_0x169cf5.font_family || "微软雅黑");
  }
  class CloudPrimitive extends BasePointPrimitive {
    get primitiveCollection() {
      return this._layer?.cloudCollection;
    }
    get maximumSize() {
      return this.style.maximumSize;
    }
    set maximumSize(_0x29865e) {
      this.style.maximumSize = _0x29865e;
      if (this._primitive) {
        this._primitive.maximumSize = _0x29865e;
      }
    }
    get scale() {
      return this.style.scale;
    }
    set scale(_0x2d2a65) {
      this.style.scale = _0x2d2a65;
      if (this._primitive) {
        this._primitive.scale = _0x2d2a65;
      }
    }
    get slice() {
      return this.style.slice;
    }
    set slice(_0x2daa27) {
      this.style.slice = _0x2daa27;
      if (this._primitive) {
        this._primitive.slice = _0x2daa27;
      }
    }
    get brightness() {
      return this.style.brightness;
    }
    set brightness(_0x4208fa) {
      this.style.brightness = _0x4208fa;
      if (this._primitive) {
        this._primitive.brightness = _0x4208fa;
      }
    }
    get hasOpacity() {
      return false;
    }
    _addedHook(_0x8eedc7) {
      if (!this.getRealShow()) {
        return;
      }
      this._forPositionProperty(this.options.position);
      const _0x155fda = {
        show: this.show,
        position: this.position
      };
      const _0x3656c9 = CloudStyleConver.toCesiumVal(_0x8eedc7, _0x155fda);
      this._primitive = this.primitiveCollection.add(_0x3656c9);
      if (_0x8eedc7.label) {
        this._addLabel(_0x8eedc7.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _showHook(_0x2122fc) {
      if (this._primitive) {
        this._primitive.show = _0x2122fc;
      } else {
        super._showHook(_0x2122fc);
      }
    }
    _updateStyleHook(_0x240e7f, _0x3e50c8) {
      CloudStyleConver.toCesiumVal(_0x240e7f, this.primitive);
    }
    _style2Json(_0xf71ef0, _0x10057f) {
      return CloudStyleConver.toJSON(_0xf71ef0, _0x10057f);
    }
    _updatePositionsHook() {
      this._primitive.position = this.position;
    }
    _updateAvailabilityHook(_0xd48f91) {
      if (_0xd48f91) {
        this.bindUpdateEvent();
      } else {
        this.unbindUpdateEvent();
        this._primitive.show = this.show;
        this.czmObjectEx.forEach(_0x3dd130 => {
          _0x3dd130.show = this.show;
        });
      }
      if (this._editing_entity) {
        this._editing_entity.availability = _0xd48f91;
      }
    }
    _getDrawEntityClass(_0x264f17, _0x155b8c) {
      return this._getDrawPointEntityClass(_0x264f17, _0x155b8c);
    }
  }
  register$5("cloud", CloudPrimitive, true);
  class LabelPrimitive extends BasePointPrimitive {
    get primitiveCollection() {
      return this._layer?.labelCollection;
    }
    get text() {
      return this.style.text;
    }
    set text(_0x46b953) {
      this.style.text = _0x46b953;
      if (this._primitive) {
        this._primitive.text = _0x46b953;
      }
    }
    _showHook(_0x50db8f) {
      if (this._primitive) {
        this._primitive.show = _0x50db8f;
      } else if (_0x50db8f) {
        super._showHook(_0x50db8f);
      }
    }
    _addedHook(_0x14bd85) {
      if (!this.getRealShow()) {
        return;
      }
      const _0x2b15af = LabelStyleConver.toCesiumVal(this.style, {
        show: this.show,
        position: this.position
      }, {}, this.attr);
      this._primitive = this.primitiveCollection.add(_0x2b15af);
    }
    _updateStyleHook(_0x8effc7, _0x27d151) {
      LabelStyleConver.toCesiumVal(_0x8effc7, this.primitive, this.attr);
    }
    _style2Json(_0x3e4601, _0x821fd1) {
      return LabelStyleConver.toJSON(_0x3e4601, _0x821fd1);
    }
    _updatePositionsHook() {
      this._primitive.position = this.position;
    }
    _updateAvailabilityHook(_0x3e54dc) {
      if (_0x3e54dc) {
        this.bindUpdateEvent();
      } else {
        this.unbindUpdateEvent();
        this._primitive.show = this.show;
        this.czmObjectEx.forEach(_0x5d7789 => {
          _0x5d7789.show = this.show;
        });
      }
      if (this._editing_entity) {
        this._editing_entity.availability = _0x3e54dc;
      }
    }
    _getDrawEntityClass(_0x48bdc9, _0x51b6de) {
      return create$5("label", _0x48bdc9);
    }
    setOpacity(_0x55047f) {
      this.style.globalAlpha = _0x55047f;
      if (this._primitive && this.show) {
        LabelStyleConver.setOpacity(this._primitive, _0x55047f);
      }
    }
    getWindowCoordinates(_0x416559) {
      return this._primitive.computeScreenSpacePosition(this._map.scene, _0x416559);
    }
    getBoundingBox(_0x902c97, _0x235d8d) {
      return this._primitive.getBoundingBox(_0x902c97, _0x235d8d);
    }
  }
  register$5("labelP", LabelPrimitive, true);
  class ModelPrimitive extends BasePointPrimitive {
    constructor(_0x456bcf = {}) {
      super(_0x456bcf);
      this._marsOptions = {};
      this._readyPromise = Cesium__namespace.defer();
    }
    get czmObjectEx() {
      const _0x349f15 = [];
      if (this._primitive_label) {
        _0x349f15.push(this._primitive_label);
      }
      if (this._primitive_point) {
        _0x349f15.push(this._primitive_point);
      }
      if (this._primitive_billboard) {
        _0x349f15.push(this._primitive_billboard);
      }
      return _0x349f15;
    }
    get scale() {
      return this.style.scale ?? 1;
    }
    set scale(_0x48a7c6) {
      this.style.scale = _0x48a7c6;
      const _0x430105 = {
        scale: _0x48a7c6
      };
      this._updateStyleHook(this.style, _0x430105);
    }
    get scaleX() {
      return this.style.scaleX ?? 1;
    }
    set scaleX(_0x11d6b8) {
      this.style.scaleX = _0x11d6b8;
      this.updateModelMatrix();
    }
    get scaleY() {
      return this.style.scaleY ?? 1;
    }
    set scaleY(_0x27ffee) {
      this.style.scaleY = _0x27ffee;
      this.updateModelMatrix();
    }
    get scaleZ() {
      return this.style.scaleZ ?? 1;
    }
    set scaleZ(_0x47a567) {
      this.style.scaleZ = _0x47a567;
      this.updateModelMatrix();
    }
    get splitDirection() {
      return this.options.splitDirection;
    }
    set splitDirection(_0xb2058a) {
      this.options.splitDirection = _0xb2058a;
      if (this._primitive) {
        this._primitive.splitDirection = _0xb2058a;
      }
    }
    get colorCorrection() {
      if (this._map && !this._tilesetColorCorrection) {
        this._initTilesetColorCorrection();
      }
      return this._tilesetColorCorrection;
    }
    _initTilesetColorCorrection() {
      if (this._tilesetColorCorrection) {
        this._tilesetColorCorrection.destroy();
      }
      this._tilesetColorCorrection = new TilesetColorCorrection({
        ...this.options.colorCorrection,
        layer: this
      });
      this._map.addThing(this._tilesetColorCorrection);
    }
    get readyPromise() {
      return this._readyPromise.promise;
    }
    _showHook(_0x2c2845) {
      if (this._primitive) {
        this._primitive.show = _0x2c2845;
      } else if (_0x2c2845) {
        super._showHook(_0x2c2845);
      }
    }
    _addedHook(_0x585437) {
      if (!this.getRealShow()) {
        return;
      }
      this._forPositionProperty(this.options.position);
      const _0x11b53c = ModelStyleConver.toCesiumVal(this.style);
      if (!_0x11b53c.url) {
        return;
      }
      if (!Cesium__namespace.defined(_0x11b53c.splitDirection) && Cesium__namespace.defined(this._layer.splitDirection)) {
        _0x11b53c.splitDirection = this._layer.splitDirection;
      }
      this._conventMarsOptions();
      if (this.options.colorCorrection) {
        this._initTilesetColorCorrection();
      }
      const _0x13fc59 = {
        modelMatrix: this.modelMatrix,
        scene: this._map.scene,
        marsOptions: this._marsOptions,
        ..._0x11b53c
      };
      Cesium__namespace.Model.fromGltfAsync(_0x13fc59).then(_0x27c476 => {
        if (!this.isAdded) {
          return;
        }
        this._primitive = this.primitiveCollection.add(_0x27c476);
        this._primitive.readyEvent.addEventListener(() => {
          var _0x3f7953;
          var _0x34238e;
          if (this.isDestroy || !this._primitive) {
            return;
          }
          if (this._modelMatrix) {
            this._primitive.modelMatrix = this._modelMatrix;
          }
          if ((this.style.runAnimations ?? true) && (_0x3f7953 = this._primitive.activeAnimations) !== null && _0x3f7953 !== undefined && _0x3f7953.addAll) {
            this._primitive.activeAnimations.addAll({
              loop: Cesium__namespace.ModelAnimationLoop.REPEAT,
              ...this.style
            });
          }
          if ((_0x34238e = this._layer) !== null && _0x34238e !== undefined && _0x34238e._objectsToExclude_auto) {
            delete this._layer._objectsToExclude_auto;
          }
          this.fire(EventType.load, {
            drawType: this.type,
            model: _0x27c476,
            graphic: this
          }, true);
          this._readyPromise.resolve(this);
        });
        this._primitive.show = this.getRealShow();
        this.bindPickId(this._primitive);
      });
      if (_0x585437.label) {
        this._addLabel(_0x585437.label);
      }
      if (this.style.distanceDisplayCondition) {
        if (this.style.distanceDisplayPoint) {
          var _0x226690;
          const _0x5169bb = PointStyleConver.toCesiumVal(this.style.distanceDisplayPoint, {
            show: this.show,
            position: this.position
          });
          _0x5169bb.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayPoint);
          this._primitive_point = (_0x226690 = this._layer) === null || _0x226690 === undefined ? undefined : _0x226690.pointCollection.add(_0x5169bb);
        } else if (this.style.distanceDisplayBillboard) {
          var _0x565696;
          const _0x392b04 = BillboardStyleConver.toCesiumVal(this.style.distanceDisplayBillboard, {
            show: this.show,
            position: this.position
          });
          _0x392b04.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayBillboard);
          this._primitive_billboard = (_0x565696 = this._layer) === null || _0x565696 === undefined ? undefined : _0x565696.billboardCollection.add(_0x392b04);
        }
      }
    }
    _removedHook() {
      super._removedHook();
      if (this._tilesetColorCorrection) {
        this._map.removeThing(this._tilesetColorCorrection, true);
        delete this._tilesetColorCorrection;
      }
      if (this._primitive_point) {
        var _0x34e000;
        if ((_0x34e000 = this._layer) !== null && _0x34e000 !== undefined) {
          _0x34e000.pointCollection.remove(this._primitive_point);
        }
        delete this._primitive_point;
      }
      if (this._primitive_billboard) {
        var _0x106e52;
        if ((_0x106e52 = this._layer) !== null && _0x106e52 !== undefined) {
          _0x106e52.billboardCollection.remove(this._primitive_billboard);
        }
        delete this._primitive_billboard;
      }
    }
    _conventMarsOptions() {
      if (!isMars3DCesium) {
        return;
      }
      this._marsOptions.occlusion = this.style.marsOcclusion;
      this._marsOptions.customShaders = this._map.index + "_" + this.id;
    }
    _updateStyleHook(_0x32a2d1, _0x4b7ff1) {
      if (!this.primitive) {
        return;
      }
      if (_0x4b7ff1.url && this.show) {
        const _0x272074 = this.primitive.url ?? this.primitive._resource?._url;
        if (_0x272074 !== _0x4b7ff1.url) {
          this.redraw(_0x32a2d1);
          return;
        }
      }
      ModelStyleConver.toCesiumVal(_0x32a2d1, this.primitive);
      if (Cesium__namespace.defined(_0x4b7ff1.heading) || Cesium__namespace.defined(_0x4b7ff1.pitch) || Cesium__namespace.defined(_0x4b7ff1.roll) || Cesium__namespace.defined(_0x4b7ff1.scale) || Cesium__namespace.defined(_0x4b7ff1.scaleX) || Cesium__namespace.defined(_0x4b7ff1.scaleY) || Cesium__namespace.defined(_0x4b7ff1.scaleZ)) {
        this._primitive.modelMatrix = this.modelMatrix;
      }
      if (this.style.distanceDisplayCondition) {
        var _0x5a39c1;
        if (_0x4b7ff1.distanceDisplayPoint && this._primitive_point) {
          PointStyleConver.toCesiumVal(this.style.distanceDisplayPoint, this._primitive_point);
          this._primitive_point.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayPoint);
        } else if (_0x4b7ff1.distanceDisplayBillboard && (_0x5a39c1 = this._entity) !== null && _0x5a39c1 !== undefined && _0x5a39c1.billboard) {
          BillboardStyleConver.toCesiumVal(this.style.distanceDisplayBillboard, this._primitive_billboard);
          this._primitive_billboard.distanceDisplayCondition = this._getTargetDistanceDisplayCondition(this.style.distanceDisplayBillboard);
        }
      }
      if (Cesium__namespace.defined(_0x4b7ff1.runAnimations) || Cesium__namespace.defined(_0x4b7ff1.startTime) || Cesium__namespace.defined(_0x4b7ff1.delay) || Cesium__namespace.defined(_0x4b7ff1.stopTime) || Cesium__namespace.defined(_0x4b7ff1.removeOnStop) || Cesium__namespace.defined(_0x4b7ff1.multiplier) || Cesium__namespace.defined(_0x4b7ff1.reverse) || Cesium__namespace.defined(_0x4b7ff1.loop)) {
        if (this.style.runAnimations) {
          this._primitive.activeAnimations.removeAll();
          this._primitive.activeAnimations.addAll({
            loop: Cesium__namespace.ModelAnimationLoop.REPEAT,
            ...this.style
          });
        } else {
          this._primitive.activeAnimations.removeAll();
        }
      }
    }
    _updateDrawEntityToThis() {
      delete this._drawPrimitiveShow;
      super._updateDrawEntityToThis();
    }
    _style2Json(_0x2b3a5f, _0x5aa1ef) {
      _0x5aa1ef = ModelStyleConver.toJSON(_0x2b3a5f, _0x5aa1ef);
      if (_0x2b3a5f.distanceDisplayBillboard) {
        _0x5aa1ef.distanceDisplayBillboard = BillboardStyleConver.toJSON(_0x2b3a5f.distanceDisplayBillboard, _0x5aa1ef.distanceDisplayBillboard);
      }
      if (_0x2b3a5f.distanceDisplayPoint) {
        _0x5aa1ef.distanceDisplayPoint = PointStyleConver.toJSON(_0x2b3a5f.distanceDisplayPoint, _0x5aa1ef.distanceDisplayPoint);
      }
      return _0x5aa1ef;
    }
    _updatePositionsHook() {
      this._primitive.modelMatrix = this.modelMatrix;
      if (this._primitive_point) {
        this._primitive_point.position = this.position;
      }
      if (this._primitive_billboard) {
        this._primitive_billboard.position = this.position;
      }
    }
    _setOptionsHook(_0x22da8d, _0x396d06) {
      if (_0x396d06.colorCorrection) {
        this.colorCorrection.setOptions(_0x22da8d.colorCorrection);
      }
    }
    _getTargetDistanceDisplayCondition(_0x2be701) {
      let _0x199351;
      if (this.style.distanceDisplayCondition instanceof Cesium__namespace.DistanceDisplayCondition) {
        _0x199351 = this.style.distanceDisplayCondition.far;
      } else if (this.style.distanceDisplayCondition_far) {
        _0x199351 = this.style.distanceDisplayCondition_far;
      }
      return new Cesium__namespace.DistanceDisplayCondition(_0x2be701.distanceDisplayCondition_near ?? _0x199351, _0x2be701.distanceDisplayCondition_far ?? Number.MAX_VALUE);
    }
    setOpacity(_0x13030a) {
      this.style.globalAlpha = _0x13030a;
      this.readyPromise.then(() => {
        if (this._primitive) {
          ModelStyleConver.setOpacity(this._primitive, _0x13030a);
        }
        this._updateLabelOpacity(_0x13030a);
      });
    }
    _updateAvailabilityHook(_0x196c14) {
      if (_0x196c14) {
        this.bindUpdateEvent();
      } else {
        this.unbindUpdateEvent();
        if (this._primitive) {
          this._primitive.show = this.show;
          this.czmObjectEx.forEach(_0x12f12e => {
            _0x12f12e.show = this.show;
          });
        }
      }
      if (this._editing_entity) {
        this._editing_entity.availability = _0x196c14;
      }
    }
    startFlicker(_0x17263c = {}) {
      if (!this.flickerEntity) {
        this.flickerEntity = new FlickerEntity();
      }
      if (!_0x17263c.color && this.style.color) {
        _0x17263c.color = this.style.color;
      }
      this.readyPromise.then(() => {
        const _0x4cfb84 = {
          model: this.czmObject
        };
        const _0x3b01c0 = [_0x4cfb84];
        this.flickerEntity.startFlicker(_0x3b01c0, _0x17263c);
      });
      return this.flickerEntity;
    }
    stopFlicker() {
      if (this.flickerEntity) {
        return this.flickerEntity.stopFlicker();
      } else {
        return null;
      }
    }
    _getDrawEntityClass(_0x5bae91, _0x2bca42) {
      return create$5("model", _0x5bae91);
    }
    getBoundingBox(_0x473395, _0x2ba3a) {
      if (!Cesium__namespace.defined(_0x2ba3a)) {
        _0x2ba3a = new Cesium__namespace.BoundingRectangle();
      }
      const _0x1c7548 = this.style?.minimumPixelSize ?? 20;
      const _0xaa59f0 = _0x473395.x - _0x1c7548 * 0.5;
      const _0x350ada = _0x473395.y - _0x1c7548 * 0.5;
      _0x2ba3a.x = _0xaa59f0;
      _0x2ba3a.y = _0x350ada;
      _0x2ba3a.width = _0x1c7548;
      _0x2ba3a.height = _0x1c7548;
      return _0x2ba3a;
    }
  }
  register$5("modelP", ModelPrimitive, true);
  class CirclePrimitive extends BasePointPrimitive {
    constructor(_0x23c2b8 = {}) {
      super(_0x23c2b8);
      this._hasClampToGround = true;
    }
    get distance() {
      return Math.PI * 2 * this.radius;
    }
    get area() {
      const _0x86cdac = this.radius;
      return Math.PI * _0x86cdac * _0x86cdac;
    }
    get radius() {
      return this.style.radius;
    }
    set radius(_0xa73dc6) {
      this.style.radius = _0xa73dc6;
      const _0x2d3c6b = {
        radius: _0xa73dc6
      };
      this._updateStyleHook(this.style, _0x2d3c6b);
    }
    get outlinePositions() {
      return this.getOutlinePositions();
    }
    _conversionStyle(_0x5031e8) {
      return CircleStyleConver.toCesiumVal(_0x5031e8);
    }
    _style2Json(_0x4fa851, _0x5b2465) {
      return CircleStyleConver.toJSON(_0x4fa851, _0x5b2465);
    }
    _createGeometryInstance(_0x10161d, _0x36a01d) {
      _0x10161d.center = this.position;
      this._calculateCzmHeight(_0x10161d);
      const _0x2f7f55 = _0x36a01d ? Cesium__namespace.CircleOutlineGeometry : Cesium__namespace.CircleGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x2f7f55(_0x10161d),
        attributes: this._createGeometryInstanceAttributes(_0x10161d)
      });
    }
    _getPolylineOutlinePositions() {
      return [this.getOutlinePositions(false)];
    }
    getOutlineCoordinates(_0x23645e, _0x4960e0, _0x245029) {
      return cartesians2lonlats(this.getOutlinePositions(_0x23645e, _0x4960e0), _0x245029);
    }
    getOutlinePositions(_0x515414 = true, _0x13f348) {
      const _0x1f1e22 = {
        position: this.position,
        radius: this.radius,
        granularity: this.style.granularity,
        count: _0x13f348
      };
      const _0x4b0ebc = getEllipseOuterPositions(_0x1f1e22);
      if (_0x515414 && _0x4b0ebc) {
        _0x4b0ebc.push(_0x4b0ebc[0]);
        if (this.style.outlineWidth > 4 || this.style.outlineStyle?.width > 4) {
          _0x4b0ebc.push(_0x4b0ebc[1]);
        }
      }
      return _0x4b0ebc;
    }
    flyTo(_0x22467e = {}) {
      if (!this._map) {
        return Promise.resolve(false);
      }
      if (!Cesium__namespace.defined(_0x22467e.radius)) {
        _0x22467e.radius = this.radius * (_0x22467e.scale || 1.8);
      }
      return this._map.flyToPoint(this.position, _0x22467e);
    }
    getRectangle(_0xa7eb88) {
      const _0x3d9a12 = this.getOutlinePositions(false, 1);
      if (!_0x3d9a12 || _0x3d9a12.length === 0) {
        return;
      }
      const _0x840269 = getRectangle(_0x3d9a12, _0xa7eb88?.isFormat);
      return _0x840269;
    }
    isInPoly(_0x1074dc) {
      _0x1074dc = LngLatPoint.parse(_0x1074dc).toCartesian();
      _0x1074dc = setPositionsHeight(_0x1074dc, this.height);
      const _0x9cd68b = Cesium__namespace.Cartesian3.distance(this.position, _0x1074dc);
      return _0x9cd68b <= this.radius;
    }
    _getDrawEntityClass(_0x29a9c2, _0x1e16ba) {
      return create$5("circle", _0x29a9c2);
    }
  }
  register$5("circleP", CirclePrimitive, true);
  class PlanePrimitive extends BasePointPrimitive {
    get modelMatrix() {
      if (!this.position) {
        return Cesium__namespace.Matrix4.IDENTITY;
      }
      const _0x3c42d0 = PlaneStyleConver.toCesiumVal(this.style);
      const _0x80210f = super.modelMatrix;
      const _0x49daa9 = _0x3c42d0.plane ?? new Cesium__namespace.Plane(_0x3c42d0.plane_normal ?? Cesium__namespace.Cartesian3.UNIT_Z, _0x3c42d0.plane_distance ?? 0);
      const _0xe4789c = _0x3c42d0.dimensions ?? new Cesium__namespace.Cartesian2(_0x3c42d0.dimensions_x ?? 1, _0x3c42d0.dimensions_y ?? 1);
      Cesium__namespace.PlaneGeometryUpdater.createPrimitiveMatrix(_0x49daa9, _0xe4789c, _0x80210f, _0x80210f);
      return _0x80210f;
    }
    _conversionStyle(_0x4e618b) {
      return PlaneStyleConver.toCesiumVal(_0x4e618b);
    }
    _style2Json(_0x795ab7, _0x317767) {
      return PlaneStyleConver.toJSON(_0x795ab7, _0x317767);
    }
    _createGeometryInstance(_0x33e03a, _0x155647) {
      const _0x20191f = _0x155647 ? Cesium__namespace.PlaneOutlineGeometry : Cesium__namespace.PlaneGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x20191f(_0x33e03a),
        modelMatrix: this.modelMatrix,
        attributes: this._createGeometryInstanceAttributes(_0x33e03a)
      });
    }
    _getDrawEntityClass(_0x4bb5ce, _0x657080) {
      return create$5("plane", _0x4bb5ce);
    }
  }
  register$5("planeP", PlanePrimitive, true);
  class BoxPrimitive extends BasePointPrimitive {
    constructor(_0x243ec8 = {}) {
      super(_0x243ec8);
      this.style.closed = this.style.closed ?? true;
    }
    _conversionStyle(_0x18adac) {
      return BoxStyleConver.toCesiumVal(_0x18adac);
    }
    _style2Json(_0x395440, _0x23d519) {
      return BoxStyleConver.toJSON(_0x395440, _0x23d519);
    }
    _createGeometryInstance(_0x51595e, _0x4dd701) {
      const _0x270314 = _0x4dd701 ? Cesium__namespace.BoxOutlineGeometry : Cesium__namespace.BoxGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: _0x270314.fromDimensions(_0x51595e),
        modelMatrix: this.modelMatrix,
        attributes: this._createGeometryInstanceAttributes(_0x51595e)
      });
    }
    _getDrawEntityClass(_0x15be41, _0x31e686) {
      return create$5("box", _0x15be41);
    }
  }
  register$5("boxP", BoxPrimitive, true);
  class CylinderPrimitive extends BasePointPrimitive {
    constructor(_0x626acf = {}) {
      super(_0x626acf);
      this.style.closed = this.style.closed ?? true;
    }
    _conversionStyle(_0x4031ad) {
      return CylinderStyleConver.toCesiumVal(_0x4031ad);
    }
    _style2Json(_0xfcdf81, _0x266be1) {
      return CylinderStyleConver.toJSON(_0xfcdf81, _0x266be1);
    }
    _createGeometryInstance(_0x36e771, _0xc73114) {
      const _0x288fee = _0xc73114 ? Cesium__namespace.CylinderOutlineGeometry : Cesium__namespace.CylinderGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x288fee(_0x36e771),
        modelMatrix: _0x36e771.modelMatrix || this.modelMatrix,
        attributes: this._createGeometryInstanceAttributes(_0x36e771)
      });
    }
    _getDrawEntityClass(_0x5703bc, _0xd7a0fa) {
      return create$5("cylinder", _0x5703bc);
    }
  }
  register$5("cylinderP", CylinderPrimitive, true);
  class ConeTrackPrimitive extends CylinderPrimitive {
    constructor(_0x301ef9 = {}) {
      super(_0x301ef9);
      if (_0x301ef9.targetPosition) {
        this.targetPosition = _0x301ef9.targetPosition;
      }
    }
    get targetPosition() {
      return this._targetPosition;
    }
    set targetPosition(_0x45bc22) {
      this._targetPoint = LngLatPoint.parse(_0x45bc22);
      this._targetPosition = this._targetPoint.toCartesian();
      if (this.czmObject) {
        this._updatePositionsHook();
      }
    }
    get targetPoint() {
      return this._targetPoint;
    }
    get angle() {
      return this.style.angle;
    }
    set angle(_0x36cdf3) {
      this.style.angle = _0x36cdf3;
    }
    _createGeometryInstance(_0x4fe01c, _0x102d79) {
      const _0x234322 = this.position;
      const _0x5be3b5 = getPositionValue(this.targetPosition, this.currentTime);
      let _0x3820ac;
      let _0x1df16a;
      if (_0x5be3b5) {
        _0x4fe01c.length = Cesium__namespace.Cartesian3.distance(_0x234322, _0x5be3b5);
        _0x1df16a = Cesium__namespace.Cartesian3.midpoint(_0x234322, _0x5be3b5, new Cesium__namespace.Cartesian3());
        _0x3820ac = getHeadingPitchRollForLine(_0x234322, _0x5be3b5);
      } else {
        _0x4fe01c.length = this.style.length;
        _0x3820ac = new Cesium__namespace.HeadingPitchRoll(Cesium__namespace.Math.toRadians(this.heading), Cesium__namespace.Math.toRadians(this.pitch), Cesium__namespace.Math.toRadians(this.roll));
        _0x1df16a = getPositionByHprAndLen(_0x234322, _0x3820ac, _0x4fe01c.length / 2);
      }
      _0x4fe01c.modelMatrix = Cesium__namespace.Transforms.headingPitchRollToFixedFrame(_0x1df16a, _0x3820ac, this.ellipsoid, this.fixedFrameTransform);
      if (Cesium__namespace.defined(this.style.angle)) {
        _0x4fe01c.bottomRadius = _0x4fe01c.length * Math.cos(Cesium__namespace.Math.toRadians(90 - this.angle));
      }
      return super._createGeometryInstance(_0x4fe01c, _0x102d79);
    }
    _getDrawEntityClass(_0x4517dc, _0x3b0f57) {
      return create$5("coneTrack", _0x4517dc);
    }
  }
  register$5("coneTrackP", ConeTrackPrimitive, true);
  class EllipsoidPrimitive extends BasePointPrimitive {
    constructor(_0x572b91 = {}) {
      super(_0x572b91);
      this.style.closed = this.style.closed ?? true;
    }
    _conversionStyle(_0x5e78d4) {
      return EllipsoidStyleConver.toCesiumVal(_0x5e78d4);
    }
    _style2Json(_0x12ce17, _0xade00a) {
      return EllipsoidStyleConver.toJSON(_0x12ce17, _0xade00a);
    }
    _createGeometryInstance(_0x1eb87c, _0x278768) {
      const _0xbe4aac = _0x278768 ? Cesium__namespace.EllipsoidOutlineGeometry : Cesium__namespace.EllipsoidGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0xbe4aac(_0x1eb87c),
        modelMatrix: this.modelMatrix,
        attributes: this._createGeometryInstanceAttributes(_0x1eb87c)
      });
    }
    _getDrawEntityClass(_0x187f29, _0x260f9d) {
      return create$5("ellipsoid", _0x187f29);
    }
  }
  register$5("ellipsoidP", EllipsoidPrimitive, true);
  class WallPrimitive extends BasePolyPrimitive {
    _createGeometryInstance(_0x489238, _0x57f9b4) {
      let _0x23a9a8 = this.positions;
      const _0x4d7de3 = this.points;
      const _0x2183d0 = _0x4d7de3.length;
      let _0x45b595 = new Array(_0x2183d0);
      let _0x263768 = new Array(_0x2183d0);
      for (let _0x36e33e = 0; _0x36e33e < _0x2183d0; _0x36e33e++) {
        const _0x38c7c4 = _0x4d7de3[_0x36e33e].alt;
        _0x45b595[_0x36e33e] = _0x38c7c4;
        _0x263768[_0x36e33e] = _0x38c7c4 + Number(this.style.diffHeight || 100);
      }
      if (this.style.closure && _0x23a9a8?.length > 0) {
        _0x23a9a8 = _0x23a9a8.concat(_0x23a9a8[0]);
        _0x45b595 = _0x45b595.concat(_0x45b595[0]);
        _0x263768 = _0x263768.concat(_0x263768[0]);
      }
      const _0x427439 = _0x57f9b4 ? Cesium__namespace.WallOutlineGeometry : Cesium__namespace.WallGeometry;
      const _0x31a526 = {
        ..._0x489238
      };
      _0x31a526.positions = _0x23a9a8;
      _0x31a526.maximumHeights = _0x263768;
      _0x31a526.minimumHeights = _0x45b595;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x427439(_0x31a526),
        attributes: this._createGeometryInstanceAttributes(_0x489238)
      });
    }
    _conversionStyle(_0x20a74e) {
      return WallStyleConver.toCesiumVal(_0x20a74e);
    }
    _style2Json(_0x342ec9, _0xf970bb) {
      return WallStyleConver.toJSON(_0x342ec9, _0xf970bb);
    }
    _getDrawEntityClass(_0x57bcdc, _0x2f6b8f) {
      return create$5("wall", _0x57bcdc);
    }
  }
  register$5("wallP", WallPrimitive);
  class CorridorPrimitive extends BasePolyPrimitive {
    constructor(_0x5588b6 = {}) {
      super(_0x5588b6);
      this._hasClampToGround = true;
    }
    _createGeometryInstance(_0x3aca58, _0x55698a) {
      _0x3aca58.positions = this.positions;
      this._calculateCzmHeight(_0x3aca58);
      const _0x1664ef = _0x55698a ? Cesium__namespace.CorridorOutlineGeometry : Cesium__namespace.CorridorGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x1664ef(_0x3aca58),
        attributes: this._createGeometryInstanceAttributes(_0x3aca58)
      });
    }
    _conversionStyle(_0x590943) {
      return CorridorStyleConver.toCesiumVal(_0x590943);
    }
    _style2Json(_0x37dc5c, _0x57c1cd) {
      return CorridorStyleConver.toJSON(_0x37dc5c, _0x57c1cd);
    }
    _getDrawEntityClass(_0x2a4f79, _0x411f33) {
      return create$5("corridor", _0x2a4f79);
    }
  }
  register$5("corridorP", CorridorPrimitive);
  class PolylineVolumePrimitive extends BasePolyPrimitive {
    constructor(_0x3c421f = {}) {
      super(_0x3c421f);
      this.style.closed = this.style.closed ?? true;
    }
    _createGeometryInstance(_0x38166e, _0x234865) {
      const _0x49fec6 = _0x234865 ? Cesium__namespace.PolylineVolumeOutlineGeometry : Cesium__namespace.PolylineVolumeGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x49fec6({
          ..._0x38166e,
          polylinePositions: this.positions,
          shapePositions: _0x38166e.shape
        }),
        attributes: this._createGeometryInstanceAttributes(_0x38166e)
      });
    }
    _conversionStyle(_0x3729e7) {
      return PolylineVolumeStyleConver.toCesiumVal(_0x3729e7);
    }
    _style2Json(_0x267471, _0x2565d0) {
      return PolylineVolumeStyleConver.toJSON(_0x267471, _0x2565d0);
    }
    _getDrawEntityClass(_0x4228c4, _0x2518c4) {
      return create$5("polylineVolume", _0x4228c4);
    }
  }
  register$5("polylineVolumeP", PolylineVolumePrimitive);
  class RectanglePrimitive extends BasePolyPrimitive {
    constructor(_0x17dc53 = {}) {
      super(_0x17dc53);
      this._hasClampToGround = true;
      if (_0x17dc53.rectangle) {
        this.rectangle = _0x17dc53.rectangle;
      }
    }
    get rectangle() {
      if (!this._rectangle && this.positions) {
        this._rectangle = Cesium__namespace.Rectangle.fromCartesianArray(this.positions);
      }
      return this._rectangle;
    }
    set rectangle(_0xe7129e) {
      this._rectangle = _0xe7129e;
    }
    get outlinePositions() {
      let _0x91c5b7;
      if (Cesium__namespace.defined(this.style.rotationDegree)) {
        _0x91c5b7 = Cesium__namespace.Math.toRadians(this.style.rotationDegree);
      } else if (Cesium__namespace.defined(this.style.rotation)) {
        _0x91c5b7 = this.style.rotation;
      }
      const _0x404d84 = getRectangleOuterPositions({
        rectangle: this.rectangle,
        rotation: _0x91c5b7,
        height: this._getHeihgt()
      });
      return _0x404d84;
    }
    get distance() {
      return getDistance(this.outlinePositions, true);
    }
    get area() {
      return getArea(this.outlinePositions);
    }
    get center() {
      const _0x3b4d95 = this.rectangle;
      if (!this.rectangle) {
        return null;
      }
      let _0x19bb91 = Cesium__namespace.Cartographic.toCartesian(Cesium__namespace.Rectangle.center(_0x3b4d95));
      _0x19bb91 = setPositionsHeight(_0x19bb91, this._getHeihgt());
      return _0x19bb91;
    }
    _updatePositionsHook() {
      this.rectangle = Cesium__namespace.Rectangle.fromCartesianArray(this.positions);
      return super._updatePositionsHook();
    }
    _createGeometryInstance(_0x2c2431, _0x20e34e) {
      _0x2c2431.rectangle = this.rectangle;
      this._calculateCzmHeight(_0x2c2431);
      const _0x595951 = _0x20e34e ? Cesium__namespace.RectangleOutlineGeometry : Cesium__namespace.RectangleGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x595951(_0x2c2431),
        attributes: this._createGeometryInstanceAttributes(_0x2c2431)
      });
    }
    _conversionStyle(_0x398a7b) {
      return RectangleStyleConver.toCesiumVal(_0x398a7b);
    }
    _style2Json(_0x3ebd88, _0x534426) {
      return RectangleStyleConver.toJSON(_0x3ebd88, _0x534426);
    }
    _getGeoJsonGeometry(_0xb63891) {
      return {
        type: "Polygon",
        coordinates: [this.getCoord(_0xb63891)]
      };
    }
    _getPolylineOutlinePositions() {
      return [this.outlinePositions];
    }
    _getOutlineStyle(_0x5a9942, _0x5d3735) {
      _0x5a9942 = {
        ..._0x5a9942
      };
      delete _0x5a9942.addHeight;
      delete _0x5a9942.setHeight;
      delete _0x5a9942.height;
      const _0x28eb91 = super._getOutlineStyle(_0x5a9942, _0x5d3735);
      _0x28eb91.arcType = Cesium__namespace.ArcType.RHUMB;
      return _0x28eb91;
    }
    _getHeihgt() {
      let _0x12e7d2 = 0;
      if (Cesium__namespace.defined(this.style.height)) {
        _0x12e7d2 = this.style.height;
        const _0x5dd57e = this.getSetHeight();
        if (Cesium__namespace.defined(_0x5dd57e)) {
          _0x12e7d2 = _0x5dd57e;
        }
        const _0x33cddf = this.getAddHeight();
        if (Cesium__namespace.defined(_0x33cddf)) {
          _0x12e7d2 += _0x33cddf;
        }
      } else {
        _0x12e7d2 = this.getMaxHeight(this.positions);
      }
      return _0x12e7d2;
    }
    getRectangle(_0x35cc5d) {
      const _0x5cdffb = this.rectangle;
      if (_0x35cc5d !== null && _0x35cc5d !== undefined && _0x35cc5d.isFormat) {
        return formatRectangle(_0x5cdffb);
      } else {
        return _0x5cdffb;
      }
    }
    isInPoly(_0x3cddd8) {
      const _0x2d1207 = Cesium__namespace.Rectangle.contains(this.rectangle, LngLatPoint.parse(_0x3cddd8).toCartographic());
      return _0x2d1207;
    }
    _getDrawEntityClass(_0x58b8ff, _0x411918) {
      return create$5("rectangle", _0x58b8ff);
    }
    _updateDrawEntityToThis() {
      super._updateDrawEntityToThis();
      this._updatePositionsHook();
    }
  }
  register$5("rectangleP", RectanglePrimitive);
  class PolygonPrimitive extends BasePolyPrimitive {
    constructor(_0x25cfa6 = {}) {
      super(_0x25cfa6);
      this._hasClampToGround = true;
    }
    get center() {
      return this.centerOfMass;
    }
    get distance() {
      return getDistance(this.positionsShow, true);
    }
    _setPolyPostions(_0x5300f1) {
      if (_0x5300f1.length > 0 && Array.isArray(_0x5300f1[0]) && _0x5300f1[0].length > 0) {
        const _0xcd2f28 = _0x5300f1[0][0];
        if (Array.isArray(_0xcd2f28) && isNumber(_0xcd2f28[0])) {
          this._hierarchy = getPolygonHierarchy(_0x5300f1, this.style.height || this.style.setHeight || this.style.addHeight);
          _0x5300f1 = this._hierarchy.positions;
        } else if (_0xcd2f28 instanceof Cesium__namespace.Cartesian3 || _0xcd2f28 instanceof LngLatPoint) {
          this._hierarchy = getPolygonHierarchy2(_0x5300f1);
          _0x5300f1 = this._hierarchy.positions;
        }
      }
      super._setPolyPostions(_0x5300f1);
      if (this._hierarchy && this._positions) {
        this._hierarchy.positions = this._positions;
      }
    }
    _createGeometryInstance(_0x9e26f5, _0x51dbcf) {
      this._updateDiffHeight(_0x9e26f5);
      if (this._hierarchy) {
        _0x9e26f5.polygonHierarchy = this._hierarchy;
      } else {
        _0x9e26f5.polygonHierarchy = new Cesium__namespace.PolygonHierarchy(this.positions);
      }
      let _0x450281;
      if (_0x51dbcf) {
        _0x450281 = Cesium__namespace.PolygonOutlineGeometry;
      } else if (_0x9e26f5.perPositionHeight && !Cesium__namespace.defined(_0x9e26f5.extrudedHeight) && !Cesium__namespace.defined(_0x9e26f5.offsetAttribute)) {
        _0x450281 = Cesium__namespace.CoplanarPolygonGeometry;
      } else {
        _0x450281 = Cesium__namespace.PolygonGeometry;
      }
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x450281(_0x9e26f5),
        attributes: this._createGeometryInstanceAttributes(_0x9e26f5)
      });
    }
    _updateDiffHeight(_0x424f50) {
      if (this.style.clampToGround) {
        return;
      }
      if (Cesium__namespace.defined(this.style.diffHeight) && !Cesium__namespace.defined(_0x424f50.extrudedHeight)) {
        let _0x10df4b = 0;
        if (Cesium__namespace.defined(_0x424f50.height)) {
          _0x10df4b = _0x424f50.height;
        } else if (Cesium__namespace.defined(this.style.height)) {
          _0x10df4b = this.style.height;
        } else {
          _0x10df4b = getMaxHeight(this.positions);
        }
        _0x424f50.extrudedHeight = _0x10df4b + this.style.diffHeight;
      }
    }
    _conversionStyle(_0x3128a2) {
      let _0x65a26d = PolygonStyleConver.toCesiumVal(_0x3128a2);
      _0x65a26d = this._bindExType(_0x65a26d);
      return _0x65a26d;
    }
    _bindExType(_0x32e18b) {
      const _0x173207 = this.options.buildings || this._layer.options.buildings;
      if (_0x173207 && (_0x173207.enabled ?? true)) {
        if (_0x173207.bottomHeight) {
          let _0x3a39f0;
          if (isNumber(_0x173207.bottomHeight)) {
            _0x3a39f0 = _0x173207.bottomHeight;
          } else if (isString(_0x173207.bottomHeight)) {
            _0x3a39f0 = Number(this.attr[_0x173207.bottomHeight] || 0);
          }
          _0x32e18b.height = _0x3a39f0;
        }
        const _0x3314e5 = Number(this.attr[_0x173207.cloumn] || 1);
        let _0x16aa9a;
        if (isNumber(_0x173207.height)) {
          _0x16aa9a = _0x173207.height;
        } else if (isString(_0x173207.height)) {
          _0x16aa9a = this.attr[_0x173207.height] || _0x16aa9a;
        } else {
          _0x16aa9a = 3.5;
        }
        const _0xf1a80e = _0x32e18b.height || 0;
        _0x32e18b.extrudedHeight = _0xf1a80e + _0x3314e5 * _0x16aa9a;
      }
      return _0x32e18b;
    }
    _style2Json(_0x392a88, _0x3f7ab7) {
      return PolygonStyleConver.toJSON(_0x392a88, _0x3f7ab7);
    }
    _getGeoJsonGeometry(_0x3ef1c2) {
      var _0x5102a2;
      if (((_0x5102a2 = this._hierarchy) === null || _0x5102a2 === undefined || (_0x5102a2 = _0x5102a2.holes) === null || _0x5102a2 === undefined ? undefined : _0x5102a2.length) > 0) {
        const _0x36197d = [];
        const _0x5026d2 = getHierarchyVal(this._hierarchy);
        _0x5026d2.forEach(_0x294466 => {
          _0x36197d.push(LngLatArray.toArray(_0x294466));
        });
        const _0x150b65 = {
          type: "Polygon",
          coordinates: _0x36197d
        };
        return _0x150b65;
      } else {
        const _0x11167e = this.getCoord(_0x3ef1c2);
        if (_0x3ef1c2 !== null && _0x3ef1c2 !== undefined && _0x3ef1c2.closure && _0x11167e.length > 0) {
          _0x11167e.push(_0x11167e[0]);
        }
        const _0x5595b4 = {
          type: "Polygon",
          coordinates: [_0x11167e]
        };
        return _0x5595b4;
      }
    }
    _getPolylineOutlinePositions() {
      if (this._hierarchy) {
        return getHierarchyVal(this._hierarchy);
      } else {
        return [this.positions];
      }
    }
    _getOutlineStyle(_0x470ab2, _0x1df55f) {
      _0x470ab2 = {
        ..._0x470ab2
      };
      delete _0x470ab2.addHeight;
      delete _0x470ab2.setHeight;
      delete _0x470ab2.height;
      return super._getOutlineStyle(_0x470ab2, _0x1df55f);
    }
    _getDrawEntityClass(_0x1ab55a, _0x34fc20) {
      return create$5("polygon", _0x1ab55a);
    }
    _startEditingHook(_0x1310b4) {
      if (this._hierarchy) {
        _0x1310b4._hierarchy = this._hierarchy;
      }
    }
  }
  register$5("polygonP", PolygonPrimitive);
  class FrustumPrimitive extends BasePointPrimitive {
    constructor(_0x44315a = {}) {
      super(_0x44315a);
      this.style.closed = this.style.closed ?? true;
      if (_0x44315a.targetPosition) {
        this.targetPosition = _0x44315a.targetPosition;
      }
    }
    get targetPosition() {
      return this._targetPosition;
    }
    set targetPosition(_0x48a592) {
      this._targetPoint = LngLatPoint.parse(_0x48a592);
      this._targetPosition = this._targetPoint.toCartesian();
      if (this.isAdded && this.show) {
        this._removedHook();
        this._addedHook(this.style);
      }
    }
    get targetPoint() {
      return this._targetPoint;
    }
    get angle() {
      return this.style.angle;
    }
    set angle(_0x50b11f) {
      this.style.angle = _0x50b11f;
    }
    get angle2() {
      return this.style.angle2 ?? this.style.angle;
    }
    set angle2(_0x55eef6) {
      this.style.angle2 = _0x55eef6;
    }
    get groundPosition() {
      return getRayEarthPosition(this.position, this._orientation);
    }
    get defaultVertexFormat() {
      return Cesium__namespace.VertexFormat.POSITION_ONLY;
    }
    updateModelMatrix() {}
    _conversionStyle(_0x531c2d) {
      return CylinderStyleConver.toCesiumVal(_0x531c2d);
    }
    _style2Json(_0x44566b, _0x43c79d) {
      return CylinderStyleConver.toJSON(_0x44566b, _0x43c79d);
    }
    _createGeometryInstance(_0xbfde45, _0x3d5f5f) {
      this._update();
      const _0x1ddea3 = _0x3d5f5f ? Cesium__namespace.FrustumOutlineGeometry : Cesium__namespace.FrustumGeometry;
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new _0x1ddea3({
          ..._0xbfde45,
          origin: this.position,
          orientation: this._orientation,
          frustum: this._frustum
        }),
        attributes: this._createGeometryInstanceAttributes(_0xbfde45)
      });
    }
    _update(_0x35bc4c) {
      const _0x5dedb3 = getPositionValue(this.position, _0x35bc4c);
      if (!_0x5dedb3) {
        return;
      }
      if (this.options.camera) {
        const _0x23e8ae = this.options.camera;
        const _0x513d6d = new Cesium__namespace.Cartesian3();
        const _0x56002b = new Cesium__namespace.Matrix3();
        const _0xdfcfbd = new Cesium__namespace.Quaternion();
        const _0x1f8a48 = _0x23e8ae.directionWC;
        const _0x3854bd = _0x23e8ae.upWC;
        const _0x2d8011 = Cesium__namespace.Cartesian3.negate(_0x23e8ae.rightWC, _0x513d6d);
        Cesium__namespace.Matrix3.setColumn(_0x56002b, 0, _0x2d8011, _0x56002b);
        Cesium__namespace.Matrix3.setColumn(_0x56002b, 1, _0x3854bd, _0x56002b);
        Cesium__namespace.Matrix3.setColumn(_0x56002b, 2, _0x1f8a48, _0x56002b);
        this._orientation = Cesium__namespace.Quaternion.fromRotationMatrix(_0x56002b, _0xdfcfbd);
        this._frustum = _0x23e8ae.frustum;
        const _0x392d74 = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromQuaternion(this._orientation, new Cesium__namespace.Matrix3()), _0x5dedb3, new Cesium__namespace.Matrix4());
        const _0x5f3bd6 = Cesium__namespace.Transforms.fixedFrameToHeadingPitchRoll(_0x392d74, this._map.scene.globe.ellipsoid);
        this.heading = Cesium__namespace.Math.toDegrees(_0x5f3bd6.heading);
        this.pitch = Cesium__namespace.Math.toDegrees(_0x5f3bd6.pitch);
        this.roll = Cesium__namespace.Math.toDegrees(_0x5f3bd6.roll);
        return;
      }
      const _0x2c8207 = getPositionValue(this.targetPosition, _0x35bc4c);
      if (_0x2c8207) {
        this._frustumFar = Cesium__namespace.Cartesian3.distance(_0x5dedb3, _0x2c8207);
        const _0x52f155 = getHeadingPitchRollForLine(_0x5dedb3, _0x2c8207, true);
        this.heading = Cesium__namespace.Math.toDegrees(_0x52f155.heading);
        this.pitch = Cesium__namespace.Math.toDegrees(_0x52f155.pitch);
        this.roll = Cesium__namespace.Math.toDegrees(_0x52f155.roll);
      } else {
        this._frustumFar = this.style.length;
      }
      const _0x4f24b9 = Cesium__namespace.HeadingPitchRoll.fromDegrees(this.heading, this.pitch, this.roll);
      this._orientation = Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x5dedb3, _0x4f24b9, this.ellipsoid, this.fixedFrameTransform);
      this._frustum = new Cesium__namespace.PerspectiveFrustum({
        fov: Cesium__namespace.Math.toRadians(this.angle * 2 || 0.01),
        aspectRatio: this.angle / this.angle2,
        near: this.style.near ?? 0.01,
        far: this._frustumFar
      });
    }
    getRayEarthPositions(_0x4e408b) {
      const _0x9e7d17 = getPositionValue(this.position, _0x4e408b);
      const _0x355d3a = Cesium__namespace.Math.toRadians(this.heading);
      const _0x5567fb = Cesium__namespace.Math.toRadians(this.pitch + this.angle2);
      const _0x5a8185 = Cesium__namespace.Math.toRadians(this.pitch - this.angle2);
      const _0x77eb06 = Cesium__namespace.Math.toRadians(this.roll + this.angle);
      const _0x55ff32 = Cesium__namespace.Math.toRadians(this.roll - this.angle);
      const _0x40536e = getRayEarthPosition(_0x9e7d17, new Cesium__namespace.HeadingPitchRoll(_0x355d3a, _0x5567fb, _0x77eb06), false);
      const _0x33554b = getRayEarthPosition(_0x9e7d17, new Cesium__namespace.HeadingPitchRoll(_0x355d3a, _0x5567fb, _0x55ff32), false);
      const _0x272e5e = getRayEarthPosition(_0x9e7d17, new Cesium__namespace.HeadingPitchRoll(_0x355d3a, _0x5a8185, _0x55ff32), false);
      const _0x8b70f1 = getRayEarthPosition(_0x9e7d17, new Cesium__namespace.HeadingPitchRoll(_0x355d3a, _0x5a8185, _0x77eb06), false);
      return [_0x40536e, _0x33554b, _0x272e5e, _0x8b70f1];
    }
    _getDrawEntityClass(_0x302321, _0x17788d) {
      return this._getDrawPointEntityClass(_0x302321, _0x17788d);
    }
  }
  register$5("frustum", FrustumPrimitive, true);
  class ParallelogramPrimitive extends BasePolyPrimitive {
    constructor(_0xa0ac05 = {}) {
      super(_0xa0ac05);
      this.minPointNum = 3;
      this.maxPointNum = 3;
      this._hasClampToGround = false;
    }
    get outlinePositions() {
      const _0x4514d7 = ParallelogramPrimitive.getOutlinePositions(this.positions);
      return _0x4514d7;
    }
    get center() {
      return this.centerOfMass;
    }
    get centerOfMass() {
      const _0x3be39e = this.positions;
      if (_0x3be39e.length < 3) {
        return;
      }
      return Cesium__namespace.Cartesian3.midpoint(_0x3be39e[0], _0x3be39e[2], new Cesium__namespace.Cartesian3());
    }
    get hasEditEqualType() {
      return false;
    }
    get EditClass() {
      return EditParallelogram;
    }
    _conversionStyle(_0x2c3737) {
      return RectangleStyleConver.toCesiumVal(_0x2c3737);
    }
    _style2Json(_0x4a8183, _0x59e505) {
      return RectangleStyleConver.toJSON(_0x4a8183, _0x59e505);
    }
    _createGeometryInstance(_0x2bbfae, _0x33aee2) {
      if (_0x33aee2) {
        return;
      }
      const _0x8a7577 = this.positions;
      const {
        positions: _0x4dd56e,
        uv: _0xad3764,
        indice: _0x310a79
      } = getGridPositions$1(_0x8a7577);
      const _0x4128c2 = _0x4dd56e.length;
      const _0x39b469 = new Float64Array(_0x4128c2 * 3);
      for (let _0x1994dd = 0; _0x1994dd < _0x4128c2; ++_0x1994dd) {
        _0x39b469[_0x1994dd * 3] = _0x4dd56e[_0x1994dd].x;
        _0x39b469[_0x1994dd * 3 + 1] = _0x4dd56e[_0x1994dd].y;
        _0x39b469[_0x1994dd * 3 + 2] = _0x4dd56e[_0x1994dd].z;
      }
      const _0x1356b0 = new Cesium__namespace.Geometry({
        attributes: {
          position: new Cesium__namespace.GeometryAttribute({
            componentDatatype: Cesium__namespace.ComponentDatatype.DOUBLE,
            componentsPerAttribute: 3,
            values: _0x39b469
          }),
          st: new Cesium__namespace.GeometryAttribute({
            componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
            componentsPerAttribute: 2,
            values: new Float32Array(_0xad3764)
          })
        },
        indices: new Uint16Array(_0x310a79),
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        boundingSphere: Cesium__namespace.BoundingSphere.fromVertices(_0x39b469)
      });
      return new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: _0x1356b0,
        attributes: this._createGeometryInstanceAttributes(_0x2bbfae)
      });
    }
    _createAppearance(_0x376d0f, _0x20111a, _0x243f2f) {
      const _0x5ec234 = {
        flat: true,
        ..._0x376d0f
      };
      return new Cesium__namespace.MaterialAppearance(_0x5ec234);
    }
    _getDrawEntityClass(_0x4eb7c7, _0x4688aa) {
      return create$5("parallelogram", _0x4eb7c7);
    }
    _getPolylineOutlinePositions() {
      return [this.outlinePositions];
    }
    static getOutlinePositions(_0x3b2a69) {
      const _0x48d276 = getAngle(_0x3b2a69[2], _0x3b2a69[1]);
      const _0x53279a = Cesium__namespace.Cartesian3.distance(_0x3b2a69[2], _0x3b2a69[1]);
      let _0x1f3022 = getPositionByDirectionAndLen(_0x3b2a69[0], _0x48d276 + 180, _0x53279a);
      if (_0x53279a > 10000) {
        const _0x1b7fb3 = LngLatPoint.toCartographic(_0x3b2a69[2]);
        const _0x3d6883 = Cesium__namespace.Cartographic.fromCartesian(_0x1f3022);
        _0x1f3022 = Cesium__namespace.Cartesian3.fromRadians(_0x3d6883.longitude, _0x3d6883.latitude, _0x1b7fb3.height);
      }
      return [_0x3b2a69[0], _0x3b2a69[1], _0x3b2a69[2], _0x1f3022];
    }
  }
  register$5("parallelogramP", ParallelogramPrimitive);
  function getGridPositions$1(_0x2eb16c) {
    const _0x4656c5 = _0x2eb16c[0];
    const _0x153a70 = _0x2eb16c[1];
    const _0x509c7b = _0x2eb16c[2];
    const _0x550ea6 = getAngle(_0x2eb16c[2], _0x2eb16c[1]);
    const _0x65172a = Cesium__namespace.Cartesian3.distance(_0x2eb16c[2], _0x2eb16c[1]);
    const _0x837086 = getPositionByDirectionAndLen(_0x2eb16c[0], _0x550ea6 + 180, _0x65172a);
    const _0x4a37fe = [];
    const _0x56e112 = [];
    const _0x2d615c = [];
    const _0x26cde6 = Cesium__namespace.Cartesian3.distance(_0x153a70, _0x509c7b);
    const _0x5b5392 = _0x26cde6;
    const _0x23f136 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x837086, _0x4656c5, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
    const _0x118afb = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x509c7b, _0x153a70, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
    for (let _0x35c9dd = 0; _0x35c9dd <= 1; _0x35c9dd++) {
      for (let _0xc7c1d4 = 0; _0xc7c1d4 <= 1; _0xc7c1d4++) {
        const _0x567893 = Cesium__namespace.Cartesian3.add(Cesium__namespace.Cartesian3.multiplyByScalar(_0x23f136, _0x35c9dd * _0x5b5392, new Cesium__namespace.Cartesian3()), _0x4656c5, new Cesium__namespace.Cartesian3());
        const _0x5809fd = Cesium__namespace.Cartesian3.add(Cesium__namespace.Cartesian3.multiplyByScalar(_0x118afb, _0x35c9dd * _0x5b5392, new Cesium__namespace.Cartesian3()), _0x153a70, new Cesium__namespace.Cartesian3());
        const _0x897a90 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5809fd, _0x567893, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
        const _0x3d974a = Cesium__namespace.Cartesian3.distance(_0x5809fd, _0x567893);
        const _0x305d86 = _0x3d974a;
        const _0x33651c = Cesium__namespace.Cartesian3.add(Cesium__namespace.Cartesian3.multiplyByScalar(_0x897a90, _0xc7c1d4 * _0x305d86, new Cesium__namespace.Cartesian3()), _0x567893, new Cesium__namespace.Cartesian3());
        _0x4a37fe.push(_0xc7c1d4);
        _0x4a37fe.push(1 - _0x35c9dd);
        _0x56e112.push(_0x33651c);
      }
    }
    for (let _0x245983 = 0; _0x245983 < 1; _0x245983++) {
      for (let _0x14e424 = 0; _0x14e424 < 1; _0x14e424++) {
        const _0x4605c9 = _0x245983 * 2 + _0x14e424;
        const _0x1fec30 = (_0x245983 + 1) * 2 + _0x14e424;
        _0x2d615c.push(_0x4605c9);
        _0x2d615c.push(_0x4605c9 + 1);
        _0x2d615c.push(_0x1fec30 + 1);
        _0x2d615c.push(_0x1fec30 + 1);
        _0x2d615c.push(_0x1fec30);
        _0x2d615c.push(_0x4605c9);
      }
    }
    const _0x12751a = {
      uv: _0x4a37fe,
      indice: _0x2d615c,
      positions: _0x56e112
    };
    return _0x12751a;
  }
  var ConeGlowCircleOuterMaterial = "uniform vec4 u_color;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float time = fract(czm_frameNumber / 90.);\n  vec2 new_st = fract(st - vec2(time, time));\n  vec4 color = texture(image, new_st);\n\n  vec3 diffuseMars3D = color.rgb;\n  float alphaMars3D = color.a;\n  diffuseMars3D *= u_color.rgb;\n  alphaMars3D *= u_color.a;\n  alphaMars3D *= u_color.a;\n  material.diffuse = diffuseMars3D;\n  material.alpha = alphaMars3D * pow(1. - st.t, u_color.a) * globalAlpha;\n  return material;\n}\n";
  var ConeGlowCylinderGaussMaterial = "uniform vec4 u_color;\nuniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  float powerRatio = 1. / (fract(czm_frameNumber / 30.0) + 1.);\n  float alphaMars3D = pow(1. - st.t, powerRatio);\n  vec4 color = vec4(u_color.rgb, alphaMars3D * u_color.a);\n  material.diffuse = color.rgb;\n  material.alpha = color.a * globalAlpha;\n  return material;\n}\n";
  var ConeGlowGradientMaterial = "uniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec4 tColor = u_color;\n  vec2 st = materialInput.st;\n  vec2 center = st - vec2(0.5, 0.5);\n  float length = length(center) / 0.5;\n  float timeMars3D = 1. - abs(czm_frameNumber / 360. - 0.5);\n\n  float param = 1. - step(length, 0.6);//大于0.6模糊，rate = 0.6\n  float scale = param * length;// 0.6< length 返回0，反之返回1.\n  float alpha = param * (1.0 - abs(scale - 0.8) / 0.2);// 0.8 < length 返回0，反之返回1.\n\n  float param1 = step(length, 0.7);//小于0.5模糊\n  float scale1 = param1 * length;// 0.6< length 返回0，反之返回1.\n  alpha += param1 * (1.0 - abs(scale1 - 0.35) / 0.35);// 0.8 < length 返回0，反之返回1.\n\n  material.diffuse = u_color.rgb * vec3(u_color.a);\n  material.alpha = pow(alpha, 4.0) * globalAlpha;\n  return material;\n}\n";
  var ConeGlowRingScanMaterial = "uniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  vec2 center = st - vec2(0.5, 0.5);\n  float time = -czm_frameNumber * 3.1415926 / 180.;//扫描速度1度\n  float sin_t = sin(time);\n  float cos_t = cos(time);\n  vec2 center_rotate = vec2(center.s * cos_t - center.t * sin_t + 0.5, center.s * sin_t + center.t * cos_t + 0.5);\n  vec4 color = texture(image, center_rotate);\n  vec3 tColor = color.rgb * u_color.rgb;\n  tColor *= u_color.a;\n  material.diffuse = tColor;\n  float lengthMars3D = 2. - length(center) / 0.5;\n  material.alpha = color.a * pow(lengthMars3D, 0.5) * globalAlpha;//color.r = 0 或1\n  return material;\n}\n";
  const DEF_STYLE$o = {
    height: 1000,
    radius: 100,
    color: "#00ffff"
  };
  const particleImage = new Image();
  particleImage.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAEACAYAAADSoXR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjExQTg0NDEyMDEzQjExRUFBNDhBRjhGMUMzOUUyNTU0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjExQTg0NDEzMDEzQjExRUFBNDhBRjhGMUMzOUUyNTU0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTFBODQ0MTAwMTNCMTFFQUE0OEFGOEYxQzM5RTI1NTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTFBODQ0MTEwMTNCMTFFQUE0OEFGOEYxQzM5RTI1NTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz41vRwAAAAE90lEQVR42uydyW4UMRCG3T2dgYSAEGs4sp44cCJBcGUJbwCvALwWPAI8ABwAiUVwgLBdkEikJEiAGMhkZqhfU1aa1sy0g+yaJPyWSupOpPjz0uVyucrJer2eG2fJ3ZgLAQhAgC0PgN8XIlkqgGLE75oih0WmRVZEvop0rHog18rnRe6IzInsthyCXFt+TuSKyGmRXZZDgK5eFrkv8l7kiUhrxN/JSo3pigSvcNmI1bCh3b5LK2+NqHyvyEF9x3z5HgqRRViOAXhW5JrCoNdei/y20gMYxhmRSyIXRY6JTMT4DENLW+SdyD19x/NajDmwmYIW79Hnn+MA4GJEAAIQgABJbMJB+n5Sl9zWZvR9DABUfkJkVt8fi3zUldAEoKl24Y2S1fPZEmBdZFHkkb4vxTLRQ5djbyUf0ncYrD/UADUB8MZno2Q19yx7gIqIAAQgAAEIQIAtYZT+85LvRnjQCoPKR3rQUgN4Y3ZeK30g8qps0qeeAzDn4TWD9+ySG+BBS90DaGnVg9a2tgnR4il9/jkOACoiAhCAAASIZpAAFl6yulO0JACo/IDrn6CedP1zxOciv6wAYNnAP3RVBeWtJQCWzG8iL/X9g4vkqNzMctzUXtintt2KM/aS+bmQaY90rb8CF6tSKiICEIAABCAAAQiwbfcFIWVCbUcc9bZDLKiYAKj4uOv7Bb+ILLj+8W7PCgC7Jhzv44Qdh9yrru8V61jPgd645gD2io+15RiC5ZA5ENNPmGmDmtrta9YAVEQE2FlrQUM/J6efU8cSAD87ojodBaccS6kgiiErGiq/qe93XT+3oGU5BJnbyKrIUs6BQZoQUEcrQ7CYagiGqeKiMgnXLXsg5uJUm/RQJKy8fGS7PMw6SgVQPrJFGZr0kCfUL/7IFjIzrLGpemBQ0kPbehL6I9vMjUh6oEVEAAIQgAAEIAABdpyj0qcK71YrqGUJANNrv+sHOcAiRpDDM1cTY1BEHk7kqyP/2Ac5vLEEQEG8aDnIoTb5ObZRWg5ywG5o1dX4ClNYxT7IISgJPsXGpLut9MCWU0S5bqkmdAa3LQEwcZDAfkZ3tthQfkwNkVeeD6kiuaUabcp6DpS9YyalrAdQ8bT1EFQVUabarND9fNuyB2gREYAABCAAAQhAAAIQoM770UgBXARCIr/koDogVlzgrWuxemBKd0m4JnBed0+5ZQ9gn3BK5LK+P4y5ewoB8DFiKO91COLFfwVuTCZV1hSoYw1APZCsFIkbN1Haaa87wwiKQe6eT27AEX6esPVVd8/kOOdAz/oz9FE0p+uGIKUeqE5C8xgSKiICEIAABCAAAQhAAAIQgAAEIAABCECA6AA+sbkREyDUUYlKD6ggZwzRkr8tewBhusisv+0in5qE/hFchoZTE0TL4p8sTbtIpyahQ4Ag5fKpSVBmfdDECvQTZjoM0U9N6KgkwH9xY7PXpPiCmq5yuaLVldHIO7jgNi5XfOEhCqNh9udHV/RnC5YAUDTftdV4/ivvwEoRVS9XXPWa1FIT5ird8jpSB+BDN3rO8AaGMnGy0I0QRYTvdk6NkOsucuhGCMAgI8Q0isaHbmAevNMhiD4P6iZhstANGiQE2PEGCRo2NcgAsQDwKnxWFdlT17/duWU1BJmuHz6A5bwbEsCScgh+qAHit3Jr1oooOPExdRBLbeJjSpuwuy30AAH+CDAAPH5ltESNYl4AAAAASUVORK5CYII=";
  particleImage.onload = function () {};
  class LightCone extends BasePointPrimitive {
    constructor(_0x408d4c = {}) {
      _0x408d4c.style = {
        ...DEF_STYLE$o,
        ..._0x408d4c.style
      };
      super(_0x408d4c);
      this._primitive = null;
      this._primitive2 = null;
      this._primitive3 = null;
      this._primitive4 = null;
    }
    get czmObject() {
      return this._primitive;
    }
    get czmObjectEx() {
      if (this._primitive2) {
        return [this._primitive2, this._primitive3, this._primitive4];
      } else {
        return [];
      }
    }
    get color() {
      return this._color;
    }
    set color(_0x4db068) {
      this.style.color = _0x4db068;
    }
    _addedHook(_0x56e072) {
      if (!this.getRealShow() || !this.position) {
        return;
      }
      let _0x97c909 = this.position;
      if (Cesium__namespace.defined(_0x56e072.setHeight)) {
        const _0x1bb9b5 = this.getSetHeight();
        if (Cesium__namespace.defined(_0x1bb9b5)) {
          _0x97c909 = setPositionsHeight(_0x97c909, _0x1bb9b5);
        }
        const _0x5a0d2d = this.getAddHeight();
        if (Cesium__namespace.defined(_0x5a0d2d)) {
          _0x97c909 = addPositionsHeight(_0x97c909, _0x5a0d2d);
        }
      }
      const _0x4e4708 = _0x56e072.radius;
      this.topRadius = _0x4e4708 / 100;
      this.topRadius = this.topRadius > 1 ? 1 : this.topRadius;
      this.inner_controlPoints = getCirclePosition(_0x97c909, _0x4e4708 * 0.7);
      this.outer_controlPoints = getCirclePosition(_0x97c909, _0x4e4708);
      this.circular_clone_topPoints = getCirclePosition(_0x97c909, this.topRadius);
      this.circlePoints_2 = getCirclePosition(_0x97c909, _0x4e4708 * 2);
      this.ringCanvas = this.drawRingCanvas();
      this.gradientCircleCanvas = this.cirdrawGradientCircleCanvas();
      this.image = this.drawCanvas(particleImage);
      this._color = getColorByStyle(_0x56e072);
      this.addInner(_0x56e072);
      this.addOuter(_0x56e072);
      this.addCircle(_0x56e072);
      this.addRing(_0x56e072);
      if (_0x56e072.label) {
        this._addLabel(_0x56e072.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _removedHook() {
      if (!this._noDestroy) {
        this.stopDraw();
        this.stopEditing();
      }
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
        delete this._primitive;
      }
      if (this._primitive2) {
        this.primitiveCollection.remove(this._primitive2);
        delete this._primitive2;
      }
      if (this._primitive3) {
        this.primitiveCollection.remove(this._primitive3);
        delete this._primitive3;
      }
      if (this._primitive4) {
        this.primitiveCollection.remove(this._primitive4);
        delete this._primitive4;
      }
    }
    addInner(_0x2a968b) {
      const _0x3d2790 = createCylinderInstance(this.inner_controlPoints, this.circular_clone_topPoints, {
        height: _0x2a968b.height,
        color: this.color,
        distanceDisplayCondition: _0x2a968b.distanceDisplayCondition
      });
      const _0x499002 = {
        u_color: this._color,
        globalAlpha: 1
      };
      const _0x4562ca = {
        uniforms: _0x499002,
        source: ConeGlowCylinderGaussMaterial
      };
      const _0x23d20f = {
        fabric: _0x4562ca,
        translucent: function (_0x2d9644) {
          return _0x2d9644.uniforms.u_color.alpha < 1;
        }
      };
      const _0x28ed13 = new Cesium__namespace.EllipsoidSurfaceAppearance({
        material: new Cesium__namespace.Material(_0x23d20f)
      });
      this._primitive = new Cesium__namespace.Primitive({
        geometryInstances: _0x3d2790,
        appearance: _0x28ed13,
        asynchronous: false,
        show: this.show
      });
      this.primitiveCollection.add(this._primitive);
    }
    addOuter(_0x2743a6) {
      const _0x52174f = createCylinderInstance(this.outer_controlPoints, this.circular_clone_topPoints, {
        height: _0x2743a6.height,
        distanceDisplayCondition: _0x2743a6.distanceDisplayCondition,
        color: new Cesium__namespace.Color(0.5, 0.8, 1, 2)
      });
      this._primitive2 = new Cesium__namespace.Primitive({
        geometryInstances: _0x52174f,
        appearance: new Cesium__namespace.EllipsoidSurfaceAppearance({
          material: new Cesium__namespace.Material({
            fabric: {
              uniforms: {
                u_color: this._color,
                image: this.image,
                globalAlpha: 1
              },
              source: ConeGlowCircleOuterMaterial
            },
            translucent: true
          })
        }),
        asynchronous: false,
        show: this.show
      });
      this.primitiveCollection.add(this._primitive2);
    }
    addCircle(_0x16a20b) {
      const _0x523402 = Cesium__namespace.Cartographic.fromCartesian(this.position);
      const _0x57d425 = {
        perPositionHeight: _0x523402.height >= 1,
        distanceDisplayCondition: _0x16a20b.distanceDisplayCondition
      };
      const _0x2f7a39 = createCircleInstance(this.circlePoints_2, _0x57d425);
      this._primitive3 = new Cesium__namespace.Primitive({
        geometryInstances: _0x2f7a39,
        appearance: new Cesium__namespace.EllipsoidSurfaceAppearance({
          material: new Cesium__namespace.Material({
            fabric: {
              uniforms: {
                u_color: this._color,
                image: this.gradientCircleCanvas,
                globalAlpha: 1
              },
              source: ConeGlowGradientMaterial
            },
            translucent: true
          })
        }),
        asynchronous: false,
        show: this.show
      });
      this.primitiveCollection.add(this._primitive3);
    }
    addRing(_0x390d83) {
      const _0x4ebe11 = createCircleInstance(this.circlePoints_2, {
        perPositionHeight: this.point.alt >= 1,
        distanceDisplayCondition: _0x390d83.distanceDisplayCondition
      });
      this._primitive4 = new Cesium__namespace.Primitive({
        geometryInstances: _0x4ebe11,
        appearance: new Cesium__namespace.EllipsoidSurfaceAppearance({
          material: new Cesium__namespace.Material({
            fabric: {
              uniforms: {
                u_color: this._color,
                image: this.ringCanvas,
                globalAlpha: 1
              },
              source: ConeGlowRingScanMaterial
            },
            translucent: true
          })
        }),
        asynchronous: false,
        show: this.show
      });
      this.primitiveCollection.add(this._primitive4);
    }
    drawCanvas(_0x55f9fd) {
      const _0x52b759 = document.createElement("canvas");
      _0x52b759.width = 64;
      _0x52b759.height = 256;
      const _0x462f31 = _0x52b759.getContext("2d", {
        willReadFrequently: true
      });
      _0x462f31.clearRect(0, 0, 64, 256);
      _0x462f31.drawImage(_0x55f9fd, 0, 0);
      _0x462f31.drawImage(_0x55f9fd, 33, 0);
      return _0x52b759;
    }
    drawRingCanvas() {
      const _0x1c4eae = document.createElement("canvas");
      _0x1c4eae.width = 512;
      _0x1c4eae.height = 512;
      const _0x2e8951 = _0x1c4eae.getContext("2d", {
        willReadFrequently: true
      });
      _0x2e8951.fillStyle = "rgba(255,255,255,0)";
      _0x2e8951.strokeStyle = "rgba(255, 255, 255,255)";
      _0x2e8951.setLineDash([50, 50]);
      _0x2e8951.lineWidth = 30;
      _0x2e8951.beginPath();
      _0x2e8951.arc(256, 256, 150, 0, Math.PI * 2, true);
      _0x2e8951.stroke();
      _0x2e8951.restore();
      return _0x1c4eae;
    }
    cirdrawGradientCircleCanvas() {
      const _0x21359c = document.createElement("canvas");
      _0x21359c.width = 512;
      _0x21359c.height = 512;
      const _0x7d20a0 = _0x21359c.getContext("2d", {
        willReadFrequently: true
      });
      const _0x120494 = _0x7d20a0.createRadialGradient(256, 256, 0, 256, 256, 256);
      _0x120494.addColorStop(0.1, "rgba(255, 255, 255, 1.0)");
      _0x120494.addColorStop(0.2, "rgba(255, 255, 255, 0.0)");
      _0x120494.addColorStop(0.3, "rgba(255, 255, 255, 0.9)");
      _0x120494.addColorStop(0.5, "rgba(255, 255, 255, 0.0)");
      _0x120494.addColorStop(0.9, "rgba(255, 255, 255, 0.2)");
      _0x120494.addColorStop(1, "rgba(255, 255, 255, 1.0)");
      _0x7d20a0.clearRect(0, 0, 512, 512);
      _0x7d20a0.beginPath();
      _0x7d20a0.arc(256, 256, 256, 0, Math.PI * 2, true);
      _0x7d20a0.fillStyle = _0x120494;
      _0x7d20a0.fill();
      _0x7d20a0.restore();
      return _0x21359c;
    }
    setOpacity(_0xbfab06) {
      this.style.globalAlpha = _0xbfab06;
      if (this._primitive) {
        this._primitive.appearance.material.uniforms.globalAlpha = _0xbfab06;
        this._primitive2.appearance.material.uniforms.globalAlpha = _0xbfab06;
        this._primitive3.appearance.material.uniforms.globalAlpha = _0xbfab06;
        this._primitive4.appearance.material.uniforms.globalAlpha = _0xbfab06;
      }
    }
    _getDrawEntityClass(_0x27e9d5, _0x55ba85) {
      return this._getDrawPointEntityClass(_0x27e9d5, _0x55ba85);
    }
  }
  register$5("lightCone", LightCone, true);
  function createCircleInstance(_0x2ca182, _0x9e789f) {
    const _0x31df5d = new Cesium__namespace.CoplanarPolygonGeometry({
      polygonHierarchy: new Cesium__namespace.PolygonHierarchy(_0x2ca182),
      perPositionHeight: _0x9e789f.perPositionHeight
    });
    return new Cesium__namespace.GeometryInstance({
      geometry: _0x31df5d,
      attributes: {
        distanceDisplayCondition: _0x9e789f.distanceDisplayCondition || new Cesium__namespace.DistanceDisplayConditionGeometryInstanceAttribute()
      }
    });
  }
  function createCylinderInstance(_0x11a825, _0x19862d, _0x3bfee0) {
    const _0x3cc34a = _0x3bfee0.height;
    const _0x1108de = _0x3bfee0.color;
    const _0x342e90 = _0x11a825.slice();
    const _0x3dff94 = _0x11a825.length;
    const _0x35ff59 = _0x3dff94 * 2;
    const _0x36eb80 = [];
    const _0x28e33d = 1 / (_0x3dff94 - 1);
    const _0x472d65 = [];
    const _0x4ff3a1 = [];
    for (let _0x3d2487 = 0; _0x3d2487 < _0x3dff94; _0x3d2487++) {
      _0x4ff3a1.push(addPositionsHeight(_0x19862d[_0x3d2487], _0x3cc34a));
      _0x36eb80.push(_0x3d2487 * _0x28e33d);
      _0x36eb80.push(0);
      const _0x96af36 = _0x3d2487 + 1;
      const _0x3c111f = (_0x3d2487 + 1) % _0x3dff94;
      const _0x27c49b = _0x35ff59 - _0x96af36;
      _0x472d65.push(...[_0x27c49b - 1, _0x27c49b, _0x3d2487]);
      _0x472d65.push(...[_0x3d2487, _0x3c111f, _0x27c49b - 1]);
    }
    for (let _0x15a90e = 0; _0x15a90e < _0x4ff3a1.length; _0x15a90e++) {
      _0x342e90.push(_0x4ff3a1[_0x3dff94 - _0x15a90e - 1]);
      _0x36eb80.push(1 - _0x15a90e * _0x28e33d);
      _0x36eb80.push(1);
    }
    let _0x551d62 = new Cesium__namespace.CoplanarPolygonGeometry({
      polygonHierarchy: new Cesium__namespace.PolygonHierarchy(_0x342e90),
      perPositionHeight: true
    });
    _0x551d62 = Cesium__namespace.CoplanarPolygonGeometry.createGeometry(_0x551d62);
    _0x551d62.indices = _0x472d65;
    _0x551d62.attributes.st.values = _0x36eb80;
    return new Cesium__namespace.GeometryInstance({
      geometry: _0x551d62,
      attributes: {
        color: Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(_0x1108de),
        distanceDisplayCondition: _0x3bfee0.distanceDisplayCondition || new Cesium__namespace.DistanceDisplayConditionGeometryInstanceAttribute()
      }
    });
  }
  function getCirclePosition(_0x268b44, _0x4a8024, _0x3ba88a = 120) {
    const _0x5b1762 = [];
    const _0x55e88a = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x268b44);
    const _0x3dc15a = Math.PI * 2 / _0x3ba88a;
    const _0x113659 = Math.PI * 2 * 270 / 360;
    for (let _0x13112a = 0; _0x13112a < _0x3ba88a; _0x13112a++) {
      const _0x4565a7 = _0x113659 - _0x3dc15a * _0x13112a;
      const _0x5c6b24 = new Cesium__namespace.Cartesian3(Math.sin(_0x4565a7) * _0x4a8024, Math.cos(_0x4565a7) * _0x4a8024, 0);
      _0x5b1762.push(Cesium__namespace.Matrix4.multiplyByPoint(_0x55e88a, _0x5c6b24, new Cesium__namespace.Cartesian3()));
    }
    _0x5b1762.push(_0x5b1762[0]);
    return _0x5b1762;
  }
  var WaterFS = "in vec3 v_positionMC;\nin vec3 v_positionEC;\nin vec2 v_st;\n\nvoid main() {\n  czm_materialInput materialInput;\n  vec3 normalECMars3D = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));\n    #ifdef FACE_FORWARD\n  normalECMars3D = faceforward(normalECMars3D, vec3(0.0, 0.0, 1.0), -normalECMars3D);\n    #endif\n  materialInput.s = v_st.s;\n  materialInput.st = v_st;\n  materialInput.str = vec3(v_st, 0.0);\n  materialInput.normalEC = normalECMars3D;\n  materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);\n\n  vec3 positionToEyeEC = -v_positionEC;\n  materialInput.positionToEyeEC = positionToEyeEC;\n  czm_material material = czm_getMaterial(materialInput);\n\n    #ifdef FLAT\n  out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n    #else\n  out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n    #endif\n}\n";
  class Water extends PolygonPrimitive {
    _addedHook(_0x4b151a) {
      if (!this.getRealShow() || !this.positions || this.positions.length === 0) {
        return;
      }
      const _0x3da472 = this._conversionStyle(_0x4b151a);
      _0x3da472.vertexFormat = Cesium__namespace.EllipsoidSurfaceAppearance.VERTEX_FORMAT;
      _0x4b151a.opacity = _0x4b151a.opacity ?? 0.8;
      const _0x3e0a7d = _0x4b151a.opacity * (_0x4b151a.globalAlpha ?? 1);
      const _0x455c08 = {
        geometryInstances: this._createGeometryInstance(_0x3da472),
        appearance: new Cesium__namespace.EllipsoidSurfaceAppearance({
          aboveGround: false,
          material: new Cesium__namespace.Material({
            fabric: {
              type: "Water",
              uniforms: {
                specularMap: _0x3da472.specularMap ?? Cesium__namespace.Material.DefaultImageId,
                normalMap: _0x3da472.normalMap ?? Cesium__namespace.Material.DefaultImageId,
                frequency: _0x3da472.frequency ?? 8000,
                animationSpeed: _0x3da472.animationSpeed ?? 0.03,
                amplitude: _0x3da472.amplitude ?? 5,
                specularIntensity: _0x4b151a.specularIntensity ?? 0.8,
                baseWaterColor: getCesiumColor(_0x4b151a.baseWaterColor ?? "#123e59").withAlpha(_0x4b151a.opacity),
                blendColor: getCesiumColor(_0x4b151a.blendColor ?? "#123e59").withAlpha(_0x4b151a.opacity)
              }
            }
          }),
          fragmentShaderSource: WaterFS,
          translucent: _0x3e0a7d !== 1
        }),
        show: this.show
      };
      if (_0x4b151a.clampToGround) {
        _0x455c08.classificationType = _0x4b151a.classificationType ?? Cesium__namespace.ClassificationType.TERRAIN;
        this._primitive = this.primitiveCollection.add(new Cesium__namespace.GroundPrimitive(_0x455c08));
      } else {
        this._primitive = this.primitiveCollection.add(new Cesium__namespace.Primitive(_0x455c08));
      }
      if (this._primitive_outline) {
        this.primitiveCollection.remove(this._primitive_outline);
        delete this._primitive_outline;
      }
      if (_0x4b151a.outline) {
        const _0x4805c6 = this._getOutlineStyle(_0x4b151a);
        this._primitive_outline = this._createPolylineOutline(_0x4805c6);
      }
      if (_0x4b151a.label) {
        this._addLabel(_0x4b151a.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _getDrawEntityClass(_0xca662e, _0x5b8651) {
      _0xca662e.style.materialType = "Water";
      return create$5("polygon", _0xca662e);
    }
  }
  register$5("water", Water);
  class Mask extends PolygonPrimitive {
    get extent() {
      return this.options.extent ?? {
        xmin: 60,
        xmax: 140,
        ymin: 0,
        ymax: 60
      };
    }
    _setPolyPostions(_0x57bfd9) {
      const _0x2b8e6b = [];
      if (_0x57bfd9.length > 0) {
        let _0x2f7cdd = false;
        if (Array.isArray(_0x57bfd9[0]) && _0x57bfd9[0].length > 0) {
          const _0x7f2c2a = _0x57bfd9[0][0];
          if (Array.isArray(_0x7f2c2a) && isNumber(_0x7f2c2a[0])) {
            _0x2f7cdd = true;
          } else if (_0x7f2c2a instanceof Cesium__namespace.Cartesian3 || _0x7f2c2a instanceof LngLatPoint) {
            _0x2f7cdd = true;
          }
        }
        if (_0x2f7cdd) {
          for (let _0x369cf9 = 0, _0x298291 = _0x57bfd9.length; _0x369cf9 < _0x298291; _0x369cf9++) {
            _0x2b8e6b.push(new Cesium__namespace.PolygonHierarchy(LngLatArray.toCartesians(_0x57bfd9[_0x369cf9])));
          }
          this._points = LngLatArray.toPoints(_0x57bfd9[0]);
        } else {
          _0x2b8e6b.push(new Cesium__namespace.PolygonHierarchy(LngLatArray.toCartesians(_0x57bfd9)));
          this._points = LngLatArray.toPoints(_0x57bfd9);
        }
        this._rectangle = getRectangle(this._points);
      }
      const _0x2edd8a = this.extent;
      const _0x50637d = [[_0x2edd8a.xmin, _0x2edd8a.ymax], [_0x2edd8a.xmin, _0x2edd8a.ymin], [_0x2edd8a.xmax, _0x2edd8a.ymin], [_0x2edd8a.xmax, _0x2edd8a.ymax], [_0x2edd8a.xmin, _0x2edd8a.ymax]];
      this._hierarchy = new Cesium__namespace.PolygonHierarchy(LngLatArray.toCartesians(_0x50637d), _0x2b8e6b);
      this._positions = this._hierarchy.positions;
    }
    _getPolylineOutlinePositions() {
      const _0x51ffdd = super._getPolylineOutlinePositions();
      if (_0x51ffdd.length > 1) {
        _0x51ffdd.shift();
      }
      return _0x51ffdd;
    }
    _createGeometryInstance(_0x2c82ce, _0x51a559) {
      const _0x3f5476 = super._createGeometryInstance(_0x2c82ce, _0x51a559);
      if (!this.style.global) {
        return _0x3f5476;
      }
      const _0x3a2cba = this.extent;
      const _0x4a7506 = 179.999;
      const _0x10de99 = 89.999;
      const _0x565dea = this._createRectangleGeometry(_0x2c82ce, Cesium__namespace.Rectangle.fromDegrees(-_0x4a7506, -_0x10de99, 0, _0x10de99));
      const _0x4fab35 = this._createRectangleGeometry(_0x2c82ce, Cesium__namespace.Rectangle.fromDegrees(0, -_0x10de99, _0x3a2cba.xmin, _0x10de99));
      const _0x3c49b7 = this._createRectangleGeometry(_0x2c82ce, Cesium__namespace.Rectangle.fromDegrees(_0x3a2cba.xmax, -_0x10de99, _0x4a7506, _0x10de99));
      const _0x510c71 = this._createRectangleGeometry(_0x2c82ce, Cesium__namespace.Rectangle.fromDegrees(_0x3a2cba.xmin, -_0x10de99, _0x3a2cba.xmax, _0x3a2cba.ymin));
      const _0x1fe26f = this._createRectangleGeometry(_0x2c82ce, Cesium__namespace.Rectangle.fromDegrees(_0x3a2cba.xmin, _0x3a2cba.ymax, _0x3a2cba.xmax, _0x10de99));
      return [_0x3f5476, _0x565dea, _0x4fab35, _0x3c49b7, _0x510c71, _0x1fe26f];
    }
    _createRectangleGeometry(_0x39f857, _0x4bb632) {
      const _0x22c7bc = {
        ..._0x39f857
      };
      _0x22c7bc.rectangle = _0x4bb632;
      return new Cesium__namespace.GeometryInstance({
        geometry: new Cesium__namespace.RectangleGeometry(_0x22c7bc),
        attributes: this._createGeometryInstanceAttributes(_0x39f857)
      });
    }
    _createAppearance(_0x1d33b8, _0x17470e, _0x2bf9a5) {
      _0x1d33b8.vertexFormat = Cesium__namespace.EllipsoidSurfaceAppearance.VERTEX_FORMAT;
      const _0x403ed6 = {
        ..._0x1d33b8
      };
      return new Cesium__namespace.EllipsoidSurfaceAppearance(_0x403ed6);
    }
  }
  register$5("mask", Mask);
  var DiffuseWallGlowVS = "in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec3 normal;\nin vec2 st;\nin float batchId;\nout vec2 v_st;\nout vec3 v_normalEC;\nout vec3 v_positionEC;\n\nvoid main() {\n  vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n  v_positionEC = (czm_modelViewRelativeToEye * p).xyz;\n  v_normalEC = czm_normal * normal;\n  v_st = st;\n  gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n";
  var DiffuseWallGlowFS = "in vec3 v_positionEC;\nin vec3 v_normalEC;\nin vec2 v_st;\n\nvoid main() {\n  out_FragColor = xh_getMaterial(v_st);\n}\n";
  const DEF_STYLE$n = {
    diffHeight: 1000,
    speed: 10,
    maxScale: 1
  };
  class DiffuseWall extends BasePolyPrimitive {
    constructor(_0x2e7fd2 = {}) {
      _0x2e7fd2.style = {
        ...DEF_STYLE$n,
        ..._0x2e7fd2.style
      };
      super(_0x2e7fd2);
      this._mScale = Cesium__namespace.Matrix4.fromUniformScale(1);
      this._maxScale = _0x2e7fd2.style.maxScale || 1;
    }
    get czmObject() {
      return this._primitive;
    }
    get center() {
      if (!this._center) {
        this._center = this.centerOfMass;
      }
      return this._center;
    }
    set center(_0x238027) {
      this._center = _0x238027;
    }
    get position() {
      return this._center;
    }
    set position(_0x46a255) {
      this._setPointPostion(_0x46a255);
    }
    _setPointPostion(_0x3aa531) {
      this._center = LngLatPoint.parse(_0x3aa531).toCartesian();
      this._updatePositionsByCircleCenter();
    }
    get radius() {
      return this.style.radius;
    }
    set radius(_0x56b3da) {
      this.style.radius = _0x56b3da;
      this._updatePositionsByCircleCenter();
    }
    _setPosToProperties() {
      if (this.options.position) {
        this.position = this.options.position;
        this._isCircle = true;
      } else if (this.options.positions) {
        this.positions = this.options.positions;
        this.center = this.centerOfMass;
      }
    }
    _addedHook(_0x2b9857) {
      const _0x541fc8 = this.positions;
      if (!this.getRealShow() || !_0x541fc8 || _0x541fc8.length === 0) {
        return;
      }
      const _0x179bc8 = addPositionsHeight(this.positions, _0x2b9857.diffHeight);
      this.center = this.centerOfMass;
      const _0x3e02c5 = [];
      const _0x28de52 = [];
      const _0x218e7c = [];
      const _0x48d0f9 = [];
      for (let _0x299f4f = 0, _0x210caf = _0x541fc8.length; _0x299f4f < _0x210caf; _0x299f4f++) {
        const _0x586629 = (_0x299f4f + 1) % _0x210caf;
        _0x3e02c5.push(...[_0x541fc8[_0x299f4f].x, _0x541fc8[_0x299f4f].y, _0x541fc8[_0x299f4f].z]);
        _0x3e02c5.push(...[_0x541fc8[_0x586629].x, _0x541fc8[_0x586629].y, _0x541fc8[_0x586629].z]);
        _0x3e02c5.push(...[_0x179bc8[_0x586629].x, _0x179bc8[_0x586629].y, _0x179bc8[_0x586629].z]);
        _0x3e02c5.push(...[_0x179bc8[_0x299f4f].x, _0x179bc8[_0x299f4f].y, _0x179bc8[_0x299f4f].z]);
        _0x48d0f9.push(...[0, 0, 1]);
        _0x48d0f9.push(...[0, 0, 1]);
        _0x48d0f9.push(...[0, 0, 1]);
        _0x48d0f9.push(...[0, 0, 1]);
        _0x28de52.push(...[0, 0, 1, 0, 1, 1, 0, 1]);
        const _0x2f738f = _0x299f4f * 4;
        const _0x4ad5fe = _0x2f738f + 1;
        const _0xffe5f9 = _0x2f738f + 2;
        const _0x40362d = _0x2f738f + 3;
        _0x218e7c.push(...[_0xffe5f9, _0x40362d, _0x2f738f, _0x2f738f, _0x4ad5fe, _0xffe5f9]);
      }
      const _0x48da7f = new Float64Array(_0x3e02c5);
      const _0x4f59ee = new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new Cesium__namespace.Geometry({
          attributes: {
            position: new Cesium__namespace.GeometryAttribute({
              componentDatatype: Cesium__namespace.ComponentDatatype.DOUBLE,
              componentsPerAttribute: 3,
              values: _0x48da7f
            }),
            normal: new Cesium__namespace.GeometryAttribute({
              componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
              componentsPerAttribute: 3,
              values: new Float32Array(_0x48d0f9)
            }),
            st: new Cesium__namespace.GeometryAttribute({
              componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
              componentsPerAttribute: 2,
              values: new Float32Array(_0x28de52)
            })
          },
          indices: new Uint16Array(_0x218e7c),
          primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
          boundingSphere: Cesium__namespace.BoundingSphere.fromVertices(_0x48da7f)
        })
      });
      const _0xdf4ce8 = getColorByStyle(_0x2b9857);
      const _0x2e3e10 = {
        color: _0xdf4ce8,
        globalAlpha: 1
      };
      const _0x5e0902 = {
        uniforms: _0x2e3e10,
        source: "\n              uniform vec4 color;\n              uniform float globalAlpha;\n\n              vec4 xh_getMaterial(vec2 st){\n                float alpha = pow(1. - st.t, 1.5);\n                vec4 colorNew = vec4(color.rgb * color.a, alpha*globalAlpha);\n                return colorNew;\n              }"
      };
      const _0x3c1eed = {
        translucent: true,
        fabric: _0x5e0902
      };
      this._primitive = new Cesium__namespace.Primitive({
        geometryInstances: _0x4f59ee,
        appearance: new Cesium__namespace.MaterialAppearance({
          material: new Cesium__namespace.Material(_0x3c1eed),
          vertexShaderSource: DiffuseWallGlowVS,
          fragmentShaderSource: DiffuseWallGlowFS
        }),
        asynchronous: false,
        shadows: this.style.shadows,
        show: this.show
      });
      this.primitiveCollection.add(this._primitive);
      this.bindUpdateEvent();
      if (_0x2b9857.label) {
        this._addLabel(_0x2b9857.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    update(_0x5c2aca) {
      if (this._primitive && this.show) {
        const _0x459e0a = _0x5c2aca.frameNumber / 1000 * this.style.speed;
        let _0x3f7c84 = _0x459e0a - Math.floor(_0x459e0a);
        _0x3f7c84 = _0x3f7c84 < 0.01 ? 0.01 : _0x3f7c84;
        this._mScale[0] = this._mScale[5] = _0x3f7c84 * this._maxScale;
        this._mScale[10] = 1.1 - _0x3f7c84;
        if (this.center) {
          this._primitive.modelMatrix = scaleXYZ(this.center, this._mScale);
        }
      }
    }
    _updatePositionsByCircleCenter() {
      this._noUpdateEditing = true;
      const _0x43b0dd = {
        position: this.center,
        radius: this.style.radius ?? 100,
        count: this.style.count ?? 50
      };
      const _0x3118e0 = getEllipseOuterPositions(_0x43b0dd);
      this._setPolyPostions(_0x3118e0);
      this._noUpdateEditing = false;
    }
    _getDrawEntityClass(_0xd7d42f, _0x3f2747) {
      if (this._isCircle) {
        return create$5("circle", _0xd7d42f);
      } else {
        _0xd7d42f.style.closure = true;
        return create$5("wall", _0xd7d42f);
      }
    }
    _setEditEntityPositions(_0x862158) {
      if (this._isCircle) {
        this.position = _0x862158[0];
      } else {
        this.positions = _0x862158;
      }
    }
    _updateStyleByEdit(_0x36ac70) {
      if (this._isCircle && Cesium__namespace.defined(_0x36ac70.radius)) {
        this.radius = _0x36ac70.radius;
      }
      if (Cesium__namespace.defined(_0x36ac70.diffHeight)) {
        this.style.diffHeight = _0x36ac70.diffHeight;
      }
    }
  }
  register$5("diffuseWall", DiffuseWall);
  function scaleXYZ(_0x59acd3, _0x548f20) {
    const _0x4c3918 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x59acd3);
    const _0x4469b8 = Cesium__namespace.Matrix4.inverse(_0x4c3918, new Cesium__namespace.Matrix4());
    const _0x33c422 = Cesium__namespace.Matrix4.multiply(_0x548f20, _0x4469b8, new Cesium__namespace.Matrix4());
    return Cesium__namespace.Matrix4.multiply(_0x4c3918, _0x33c422, new Cesium__namespace.Matrix4());
  }
  var ScrollWallGlowVS = "in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec3 normal;\nin vec2 st;\nin float batchId;\nout vec2 v_st;\nout vec3 v_normalEC;\nout vec3 v_positionEC;\n\nvoid main() {\n  vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n  v_positionEC = (czm_modelViewRelativeToEye * p).xyz;\n  v_normalEC = czm_normal * normal;\n  v_st = st;\n  gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n";
  var ScrollWallGlowFS = "in vec3 v_positionEC;\nin vec3 v_normalEC;\nin vec2 v_st;\n\nvoid main() {\n  vec3 positionToEyeEC = -v_positionEC;\n  vec3 normalECMars3D = normalize(v_normalEC);\n    #ifdef FACE_FORWARD\n  normalECMars3D = faceforward(normalECMars3D, vec3(0.0, 0.0, 1.0), -normalECMars3D);\n    #endif\n\n  czm_materialInput materialInput;\n  materialInput.normalEC = normalECMars3D;\n  materialInput.positionToEyeEC = positionToEyeEC;\n  materialInput.st = v_st;\n\n  czm_material material = czm_getMaterial(materialInput);\n  out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n}\n";
  var ScrollWallGlowMaterial = "uniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput cmi) {\n  czm_material material = czm_getDefaultMaterial(cmi);\n  vec2 st = cmi.st;\n  float t = fract(speed * czm_frameNumber / 1000.0) * direction;\n  vec2 st1 = vec2(st.s, fract(st.t - t));\n  vec4 color = vec4(0., 0., 0., 0.);\n  float tt = 0.5 - abs(0.5 - st1.t);\n  // float ss = st1.s;\n  float alphaMars3D = tt * 2.;\n  color = vec4(u_color.rgb * u_color.a, alphaMars3D * 1.2);\n  material.diffuse = color.rgb;\n  material.alpha = color.a * globalAlpha;\n  return material;\n}\n";
  var ScrollWallGlowMaterial2 = "uniform float globalAlpha;\n\nczm_material czm_getMaterial(czm_materialInput cmi) {\n  czm_material material = czm_getDefaultMaterial(cmi);\n  vec2 st = cmi.st;\n  float t = fract(speed * czm_frameNumber / 1000.0) * direction;\n  vec2 st1 = vec2(fract(st.s - t), st.t);\n  vec4 color = vec4(0., 0., 0., 0.);\n  float alpha = 1. - st.t;\n  float vMars3D = fract(st1.s / 0.25);\n  alpha *= sin(vMars3D * 3.1415926);\n  color = vec4(u_color.rgb * u_color.a, alpha * 1.2);\n  material.diffuse = color.rgb;\n  material.alpha = color.a * globalAlpha;\n  return material;\n}\n";
  const DEF_STYLE$m = {
    diffHeight: 100,
    speed: 10,
    style: 1
  };
  class ScrollWall extends BasePolyPrimitive {
    constructor(_0x3f8db8 = {}) {
      _0x3f8db8.style = {
        ...DEF_STYLE$m,
        ..._0x3f8db8.style
      };
      super(_0x3f8db8);
    }
    get czmObject() {
      return this._primitive;
    }
    get center() {
      return this.centerOfMass;
    }
    _addedHook(_0x5d664c) {
      const _0x3c494c = this.positions;
      if (!this.getRealShow() || !_0x3c494c || _0x3c494c.length === 0) {
        return;
      }
      const _0x5c83bc = addPositionsHeight(_0x3c494c, _0x5d664c.diffHeight);
      const _0x57496f = [];
      const _0x764725 = [];
      const _0x2b2b9a = [];
      const _0xba8919 = [];
      for (let _0xdfac1b = 0, _0x35b4fb = _0x3c494c.length; _0xdfac1b < _0x35b4fb; _0xdfac1b++) {
        let _0x519605 = _0xdfac1b + 1;
        if (_0x519605 === _0x35b4fb) {
          _0x519605 = 0;
        }
        _0x57496f.push(...[_0x3c494c[_0xdfac1b].x, _0x3c494c[_0xdfac1b].y, _0x3c494c[_0xdfac1b].z]);
        _0x57496f.push(...[_0x3c494c[_0x519605].x, _0x3c494c[_0x519605].y, _0x3c494c[_0x519605].z]);
        _0x57496f.push(...[_0x5c83bc[_0x519605].x, _0x5c83bc[_0x519605].y, _0x5c83bc[_0x519605].z]);
        _0x57496f.push(...[_0x5c83bc[_0xdfac1b].x, _0x5c83bc[_0xdfac1b].y, _0x5c83bc[_0xdfac1b].z]);
        _0xba8919.push(...[0, 0, 1]);
        _0xba8919.push(...[0, 0, 1]);
        _0xba8919.push(...[0, 0, 1]);
        _0xba8919.push(...[0, 0, 1]);
        _0x764725.push(...[0, 0, 1, 0, 1, 1, 0, 1]);
        const _0x5c26eb = _0xdfac1b * 4;
        const _0x235d0b = _0x5c26eb + 1;
        const _0x51f51d = _0x5c26eb + 2;
        const _0x45dee5 = _0x5c26eb + 3;
        _0x2b2b9a.push(...[_0x5c26eb, _0x235d0b, _0x51f51d, _0x51f51d, _0x45dee5, _0x5c26eb]);
      }
      const _0x42cca3 = new Float64Array(_0x57496f);
      const _0x40de74 = new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: new Cesium__namespace.Geometry({
          attributes: {
            position: new Cesium__namespace.GeometryAttribute({
              componentDatatype: Cesium__namespace.ComponentDatatype.DOUBLE,
              componentsPerAttribute: 3,
              values: _0x42cca3
            }),
            normal: new Cesium__namespace.GeometryAttribute({
              componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
              componentsPerAttribute: 3,
              values: new Float32Array(_0xba8919)
            }),
            st: new Cesium__namespace.GeometryAttribute({
              componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
              componentsPerAttribute: 2,
              values: new Float32Array(_0x764725)
            })
          },
          indices: new Uint16Array(_0x2b2b9a),
          primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
          boundingSphere: Cesium__namespace.BoundingSphere.fromVertices(_0x42cca3)
        })
      });
      const _0x2b13c7 = getColorByStyle(_0x5d664c);
      const _0x3a05dd = true;
      const _0x45a195 = {
        u_color: _0x2b13c7,
        speed: _0x5d664c.speed,
        direction: _0x5d664c.reverse ? 1 : -1,
        globalAlpha: 1
      };
      this._primitive = new Cesium__namespace.Primitive({
        geometryInstances: _0x40de74,
        appearance: new Cesium__namespace.MaterialAppearance({
          material: new Cesium__namespace.Material({
            translucent: _0x3a05dd,
            fabric: {
              uniforms: _0x45a195,
              source: this.createShader()
            }
          }),
          vertexShaderSource: ScrollWallGlowVS,
          fragmentShaderSource: ScrollWallGlowFS
        }),
        asynchronous: false,
        shadows: _0x5d664c.shadows,
        show: this.show
      });
      this.primitiveCollection.add(this._primitive);
      if (_0x5d664c.label) {
        this._addLabel(_0x5d664c.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    createShader() {
      if (this.style.style === 1) {
        return ScrollWallGlowMaterial;
      } else {
        return ScrollWallGlowMaterial2;
      }
    }
    _getDrawEntityClass(_0x76e786, _0x2f1ca3) {
      _0x76e786.style.closure = true;
      return create$5("wall", _0x76e786);
    }
    _updateStyleByEdit(_0x4f9c11) {
      if (Cesium__namespace.defined(_0x4f9c11.diffHeight)) {
        this.style.diffHeight = _0x4f9c11.diffHeight;
      }
    }
  }
  register$5("scrollWall", ScrollWall);
  const Cartesian3$2 = Cesium__namespace.Cartesian3;
  const defined$2 = Cesium__namespace.defined;
  const CesiumMath$1 = Cesium__namespace.Math;
  const Matrix3 = Cesium__namespace.Matrix3;
  const PolylineVolumeGeometryLibrary = Cesium__namespace.PolylineVolumeGeometryLibrary;
  const Quaternion = Cesium__namespace.Quaternion;
  const ThickWallGeometryLibrary = {};
  const scratch1 = new Cartesian3$2();
  const scratch2 = new Cartesian3$2();
  const scratch3 = new Cartesian3$2();
  const scratch4 = new Cartesian3$2();
  const scaleArray2 = [new Cartesian3$2(), new Cartesian3$2()];
  const cartesian1 = new Cartesian3$2();
  const cartesian2 = new Cartesian3$2();
  const cartesian3 = new Cartesian3$2();
  const cartesian4 = new Cartesian3$2();
  const cartesian5 = new Cartesian3$2();
  const cartesian6 = new Cartesian3$2();
  const cartesian7 = new Cartesian3$2();
  const cartesian8 = new Cartesian3$2();
  const cartesian9 = new Cartesian3$2();
  const cartesian10$1 = new Cartesian3$2();
  const quaterion = new Quaternion();
  const rotMatrix = new Matrix3();
  function cartesian3ToArray(_0x1e31de) {
    const _0x3db2cd = [];
    _0x1e31de.forEach(_0x520d60 => {
      _0x3db2cd.push(_0x520d60.x);
      _0x3db2cd.push(_0x520d60.y);
      _0x3db2cd.push(_0x520d60.z);
    });
    return _0x3db2cd;
  }
  function computeRoundCorner(_0x1f98e3, _0x1ad6d9, _0x46a248, _0x365229) {
    const _0x2def14 = Cartesian3$2.angleBetween(Cartesian3$2.subtract(_0x1ad6d9, _0x1f98e3, scratch1), Cartesian3$2.subtract(_0x46a248, _0x1f98e3, scratch2));
    const _0xdcd1f0 = 1;
    const _0x1273c0 = _0xdcd1f0 * 3;
    const _0x1d70d5 = new Array(_0x1273c0);
    _0x1d70d5[_0x1273c0 - 3] = _0x46a248.x;
    _0x1d70d5[_0x1273c0 - 2] = _0x46a248.y;
    _0x1d70d5[_0x1273c0 - 1] = _0x46a248.z;
    let _0x24722b;
    if (_0x365229) {
      _0x24722b = Matrix3.fromQuaternion(Quaternion.fromAxisAngle(Cartesian3$2.negate(_0x1f98e3, scratch1), _0x2def14 / _0xdcd1f0, quaterion), rotMatrix);
    } else {
      _0x24722b = Matrix3.fromQuaternion(Quaternion.fromAxisAngle(_0x1f98e3, _0x2def14 / _0xdcd1f0, quaterion), rotMatrix);
    }
    let _0x58500c = 0;
    _0x1ad6d9 = Cartesian3$2.clone(_0x1ad6d9, scratch1);
    for (let _0x48632f = 0; _0x48632f < _0xdcd1f0; _0x48632f++) {
      _0x1ad6d9 = Matrix3.multiplyByVector(_0x24722b, _0x1ad6d9, _0x1ad6d9);
      _0x1d70d5[_0x58500c++] = _0x1ad6d9.x;
      _0x1d70d5[_0x58500c++] = _0x1ad6d9.y;
      _0x1d70d5[_0x58500c++] = _0x1ad6d9.z;
    }
    return _0x1d70d5;
  }
  function addShiftedPositions(_0x291e37, _0xe024eb, _0x243d8f, _0x558382) {
    const _0x1a66c3 = new Array(_0x291e37.length);
    const _0x17647e = new Array(_0x291e37.length);
    const _0x3ac0f0 = Cartesian3$2.multiplyByScalar(_0xe024eb, _0x243d8f, scratch1);
    const _0x461631 = Cartesian3$2.negate(_0x3ac0f0, scratch2);
    let _0x5a4205 = 0;
    let _0x32daba = _0x291e37.length - 1;
    for (let _0x309639 = 0; _0x309639 < _0x291e37.length; _0x309639 += 3) {
      const _0x49b784 = Cartesian3$2.fromArray(_0x291e37, _0x309639, scratch3);
      const _0x1131e1 = Cartesian3$2.add(_0x49b784, _0x461631, scratch4);
      _0x1a66c3[_0x5a4205++] = _0x1131e1.x;
      _0x1a66c3[_0x5a4205++] = _0x1131e1.y;
      _0x1a66c3[_0x5a4205++] = _0x1131e1.z;
      const _0x2677cf = Cartesian3$2.add(_0x49b784, _0x3ac0f0, scratch4);
      _0x17647e[_0x32daba--] = _0x2677cf.z;
      _0x17647e[_0x32daba--] = _0x2677cf.y;
      _0x17647e[_0x32daba--] = _0x2677cf.x;
    }
    _0x558382.push(_0x1a66c3, _0x17647e);
    return _0x558382;
  }
  ThickWallGeometryLibrary.addAttribute = function (_0x3364db, _0x1c4c0f, _0x1a302a, _0x37cf5a) {
    const _0x588453 = _0x1c4c0f.x;
    const _0xdb379 = _0x1c4c0f.y;
    const _0xc7caba = _0x1c4c0f.z;
    if (defined$2(_0x1a302a)) {
      _0x3364db[_0x1a302a] = _0x588453;
      _0x3364db[_0x1a302a + 1] = _0xdb379;
      _0x3364db[_0x1a302a + 2] = _0xc7caba;
    }
    if (defined$2(_0x37cf5a)) {
      _0x3364db[_0x37cf5a] = _0xc7caba;
      _0x3364db[_0x37cf5a - 1] = _0xdb379;
      _0x3364db[_0x37cf5a - 2] = _0x588453;
    }
  };
  const scratchForwardProjection = new Cartesian3$2();
  const scratchBackwardProjection = new Cartesian3$2();
  ThickWallGeometryLibrary.computePositions = function (_0xd97e36) {
    const _0x246efa = _0xd97e36.positions;
    const _0x367c18 = _0xd97e36.ellipsoid;
    const _0x34076d = _0xd97e36.width / 2;
    let _0x523d5e = cartesian1;
    let _0x1b2966 = cartesian2;
    let _0x12615b = cartesian3;
    let _0x448c46 = cartesian4;
    let _0x1578ef = cartesian5;
    let _0x432b5c = cartesian6;
    let _0x3c8654 = cartesian7;
    let _0x14beae = cartesian8;
    let _0x383ef7 = cartesian9;
    let _0x506df3 = cartesian10$1;
    let _0x249716 = [];
    let _0x33c60b = _0x246efa[0];
    let _0xdfe96 = _0x246efa[1];
    _0x1b2966 = Cartesian3$2.normalize(Cartesian3$2.subtract(_0xdfe96, _0x33c60b, _0x1b2966), _0x1b2966);
    _0x523d5e = _0x367c18.geodeticSurfaceNormal(_0x33c60b, _0x523d5e);
    _0x448c46 = Cartesian3$2.normalize(Cartesian3$2.cross(_0x523d5e, _0x1b2966, _0x448c46), _0x448c46);
    _0x3c8654 = Cartesian3$2.clone(_0x33c60b, _0x3c8654);
    _0x33c60b = _0xdfe96;
    _0x12615b = Cartesian3$2.negate(_0x1b2966, _0x12615b);
    let _0x3462cd;
    const _0x2c3af0 = [];
    let _0x2ded01;
    const _0x255c33 = _0x246efa.length;
    for (_0x2ded01 = 1; _0x2ded01 < _0x255c33 - 1; _0x2ded01++) {
      _0x523d5e = _0x367c18.geodeticSurfaceNormal(_0x33c60b, _0x523d5e);
      _0xdfe96 = _0x246efa[_0x2ded01 + 1];
      _0x1b2966 = Cartesian3$2.normalize(Cartesian3$2.subtract(_0xdfe96, _0x33c60b, _0x1b2966), _0x1b2966);
      _0x1578ef = Cartesian3$2.normalize(Cartesian3$2.add(_0x1b2966, _0x12615b, _0x1578ef), _0x1578ef);
      const _0x18a217 = Cartesian3$2.multiplyByScalar(_0x523d5e, Cartesian3$2.dot(_0x1b2966, _0x523d5e), scratchForwardProjection);
      Cartesian3$2.subtract(_0x1b2966, _0x18a217, _0x18a217);
      Cartesian3$2.normalize(_0x18a217, _0x18a217);
      const _0x2ebd44 = Cartesian3$2.multiplyByScalar(_0x523d5e, Cartesian3$2.dot(_0x12615b, _0x523d5e), scratchBackwardProjection);
      Cartesian3$2.subtract(_0x12615b, _0x2ebd44, _0x2ebd44);
      Cartesian3$2.normalize(_0x2ebd44, _0x2ebd44);
      const _0x1f9de3 = !CesiumMath$1.equalsEpsilon(Math.abs(Cartesian3$2.dot(_0x18a217, _0x2ebd44)), 1, CesiumMath$1.EPSILON7);
      if (_0x1f9de3) {
        _0x1578ef = Cartesian3$2.cross(_0x1578ef, _0x523d5e, _0x1578ef);
        _0x1578ef = Cartesian3$2.cross(_0x523d5e, _0x1578ef, _0x1578ef);
        _0x1578ef = Cartesian3$2.normalize(_0x1578ef, _0x1578ef);
        const _0x802963 = _0x34076d / Math.max(0.25, Cartesian3$2.magnitude(Cartesian3$2.cross(_0x1578ef, _0x12615b, scratch1)));
        const _0x2cb3a6 = PolylineVolumeGeometryLibrary.angleIsGreaterThanPi(_0x1b2966, _0x12615b, _0x33c60b, _0x367c18);
        _0x1578ef = Cartesian3$2.multiplyByScalar(_0x1578ef, _0x802963, _0x1578ef);
        if (_0x2cb3a6) {
          _0x14beae = Cartesian3$2.add(_0x33c60b, _0x1578ef, _0x14beae);
          _0x506df3 = Cartesian3$2.add(_0x14beae, Cartesian3$2.multiplyByScalar(_0x448c46, _0x34076d, _0x506df3), _0x506df3);
          _0x383ef7 = Cartesian3$2.add(_0x14beae, Cartesian3$2.multiplyByScalar(_0x448c46, _0x34076d * 2, _0x383ef7), _0x383ef7);
          scaleArray2[0] = Cartesian3$2.clone(_0x3c8654, scaleArray2[0]);
          scaleArray2[1] = Cartesian3$2.clone(_0x506df3, scaleArray2[1]);
          _0x3462cd = cartesian3ToArray(scaleArray2);
          _0x249716 = addShiftedPositions(_0x3462cd, _0x448c46, _0x34076d, _0x249716);
          _0x432b5c = Cartesian3$2.clone(_0x383ef7, _0x432b5c);
          _0x448c46 = Cartesian3$2.normalize(Cartesian3$2.cross(_0x523d5e, _0x1b2966, _0x448c46), _0x448c46);
          _0x383ef7 = Cartesian3$2.add(_0x14beae, Cartesian3$2.multiplyByScalar(_0x448c46, _0x34076d * 2, _0x383ef7), _0x383ef7);
          _0x3c8654 = Cartesian3$2.add(_0x14beae, Cartesian3$2.multiplyByScalar(_0x448c46, _0x34076d, _0x3c8654), _0x3c8654);
          _0x2c3af0.push({
            leftPositions: computeRoundCorner(_0x14beae, _0x432b5c, _0x383ef7, _0x2cb3a6)
          });
        } else {
          _0x383ef7 = Cartesian3$2.add(_0x33c60b, _0x1578ef, _0x383ef7);
          _0x506df3 = Cartesian3$2.add(_0x383ef7, Cartesian3$2.negate(Cartesian3$2.multiplyByScalar(_0x448c46, _0x34076d, _0x506df3), _0x506df3), _0x506df3);
          _0x14beae = Cartesian3$2.add(_0x383ef7, Cartesian3$2.negate(Cartesian3$2.multiplyByScalar(_0x448c46, _0x34076d * 2, _0x14beae), _0x14beae), _0x14beae);
          scaleArray2[0] = Cartesian3$2.clone(_0x3c8654, scaleArray2[0]);
          scaleArray2[1] = Cartesian3$2.clone(_0x506df3, scaleArray2[1]);
          _0x3462cd = cartesian3ToArray(scaleArray2);
          _0x249716 = addShiftedPositions(_0x3462cd, _0x448c46, _0x34076d, _0x249716);
          _0x432b5c = Cartesian3$2.clone(_0x14beae, _0x432b5c);
          _0x448c46 = Cartesian3$2.normalize(Cartesian3$2.cross(_0x523d5e, _0x1b2966, _0x448c46), _0x448c46);
          _0x14beae = Cartesian3$2.add(_0x383ef7, Cartesian3$2.negate(Cartesian3$2.multiplyByScalar(_0x448c46, _0x34076d * 2, _0x14beae), _0x14beae), _0x14beae);
          _0x3c8654 = Cartesian3$2.add(_0x383ef7, Cartesian3$2.negate(Cartesian3$2.multiplyByScalar(_0x448c46, _0x34076d, _0x3c8654), _0x3c8654), _0x3c8654);
          _0x2c3af0.push({
            rightPositions: computeRoundCorner(_0x383ef7, _0x432b5c, _0x14beae, _0x2cb3a6)
          });
        }
        _0x12615b = Cartesian3$2.negate(_0x1b2966, _0x12615b);
      }
      _0x33c60b = _0xdfe96;
    }
    _0x523d5e = _0x367c18.geodeticSurfaceNormal(_0x33c60b, _0x523d5e);
    scaleArray2[0] = Cartesian3$2.clone(_0x3c8654, scaleArray2[0]);
    scaleArray2[1] = Cartesian3$2.clone(_0x33c60b, scaleArray2[1]);
    _0x3462cd = cartesian3ToArray(scaleArray2);
    _0x249716 = addShiftedPositions(_0x3462cd, _0x448c46, _0x34076d, _0x249716);
    const _0x14c7e9 = {
      positions: _0x249716,
      corners: _0x2c3af0
    };
    return _0x14c7e9;
  };
  const BoundingSphere = Cesium__namespace.BoundingSphere;
  const Cartesian3$1 = Cesium__namespace.Cartesian3;
  const Cartographic = Cesium__namespace.Cartographic;
  const Check = Cesium__namespace.Check;
  const ComponentDatatype = Cesium__namespace.ComponentDatatype;
  const defined$1 = Cesium__namespace.defined;
  const Ellipsoid = Cesium__namespace.Ellipsoid;
  const Geometry = Cesium__namespace.Geometry;
  const GeometryAttribute = Cesium__namespace.GeometryAttribute;
  const GeometryAttributes = Cesium__namespace.GeometryAttributes;
  const IndexDatatype = Cesium__namespace.IndexDatatype;
  const CesiumMath = Cesium__namespace.Math;
  const PrimitiveType = Cesium__namespace.PrimitiveType;
  const VertexFormat = Cesium__namespace.VertexFormat;
  const CornerType = Cesium__namespace.CornerType;
  const cartesian10 = new Cartesian3$1();
  const cartesian20 = new Cartesian3$1();
  const cartesian30 = new Cartesian3$1();
  function combine(_0x558819, _0x10b7cf) {
    const _0x388edf = _0x558819.positions;
    const _0x38540d = _0x558819.corners;
    const _0x3ea310 = new GeometryAttributes();
    let _0x17b655;
    let _0x4f6486 = 0;
    let _0x18f012 = 0;
    let _0x7ce6f7;
    let _0x351dbf = 0;
    let _0x57d600;
    for (_0x7ce6f7 = 0; _0x7ce6f7 < _0x388edf.length; _0x7ce6f7 += 2) {
      _0x57d600 = _0x388edf[_0x7ce6f7].length - 3;
      _0x4f6486 += _0x57d600;
      _0x351dbf += _0x57d600 * 2;
      _0x18f012 += _0x388edf[_0x7ce6f7 + 1].length - 3;
    }
    _0x4f6486 += 3;
    _0x18f012 += 3;
    for (_0x7ce6f7 = 0; _0x7ce6f7 < _0x38540d.length; _0x7ce6f7++) {
      _0x17b655 = _0x38540d[_0x7ce6f7];
      const _0x32c6ae = _0x38540d[_0x7ce6f7].leftPositions;
      if (defined$1(_0x32c6ae)) {
        _0x57d600 = _0x32c6ae.length;
        _0x4f6486 += _0x57d600;
        _0x351dbf += _0x57d600;
      } else {
        _0x57d600 = _0x38540d[_0x7ce6f7].rightPositions.length;
        _0x18f012 += _0x57d600;
        _0x351dbf += _0x57d600;
      }
    }
    const _0x2d7f7e = _0x4f6486 + _0x18f012;
    const _0x2ee95 = new Float64Array(_0x2d7f7e);
    let _0x4c7d36 = 0;
    let _0x26beba = _0x2d7f7e - 1;
    let _0x5e58e9;
    let _0x280a60;
    let _0x6c5121;
    let _0x45c1e9;
    const _0x107506 = IndexDatatype.createTypedArray(_0x2d7f7e / 3, _0x351dbf);
    let _0x1fefe4 = 0;
    let _0x56ae5f = 0;
    let _0x152a72 = _0x388edf[_0x56ae5f++];
    let _0x522865 = _0x388edf[_0x56ae5f++];
    _0x2ee95.set(_0x152a72, _0x4c7d36);
    _0x2ee95.set(_0x522865, _0x26beba - _0x522865.length + 1);
    _0x57d600 = _0x522865.length - 3;
    for (_0x7ce6f7 = 0; _0x7ce6f7 < _0x57d600; _0x7ce6f7 += 3) {
      _0x280a60 = _0x4c7d36 / 3;
      _0x45c1e9 = _0x280a60 + 1;
      _0x5e58e9 = (_0x26beba - 2) / 3;
      _0x6c5121 = _0x5e58e9 - 1;
      _0x107506[_0x1fefe4++] = _0x5e58e9;
      _0x107506[_0x1fefe4++] = _0x280a60;
      _0x107506[_0x1fefe4++] = _0x6c5121;
      _0x107506[_0x1fefe4++] = _0x6c5121;
      _0x107506[_0x1fefe4++] = _0x280a60;
      _0x107506[_0x1fefe4++] = _0x45c1e9;
      _0x4c7d36 += 3;
      _0x26beba -= 3;
    }
    for (_0x7ce6f7 = 0; _0x7ce6f7 < _0x38540d.length; _0x7ce6f7++) {
      let _0xc93518;
      _0x17b655 = _0x38540d[_0x7ce6f7];
      const _0x5ea229 = _0x17b655.leftPositions;
      const _0x38f678 = _0x17b655.rightPositions;
      let _0x2c38f1;
      let _0x545fae;
      let _0x285ee8 = cartesian30;
      let _0x3e00e4 = cartesian10;
      let _0x223019 = cartesian20;
      if (defined$1(_0x5ea229)) {
        _0x26beba -= 3;
        _0x2c38f1 = _0x45c1e9;
        _0x545fae = _0x6c5121;
        for (_0xc93518 = 0; _0xc93518 < _0x5ea229.length / 3; _0xc93518++) {
          _0x285ee8 = Cartesian3$1.fromArray(_0x5ea229, _0xc93518 * 3, _0x285ee8);
          _0x107506[_0x1fefe4++] = _0x2c38f1;
          _0x107506[_0x1fefe4++] = _0x545fae - _0xc93518 - 1;
          _0x107506[_0x1fefe4++] = _0x545fae - _0xc93518;
          ThickWallGeometryLibrary.addAttribute(_0x2ee95, _0x285ee8, undefined, _0x26beba);
          _0x3e00e4 = Cartesian3$1.fromArray(_0x2ee95, (_0x545fae - _0xc93518 - 1) * 3, _0x3e00e4);
          _0x223019 = Cartesian3$1.fromArray(_0x2ee95, _0x2c38f1 * 3, _0x223019);
          _0x26beba -= 3;
        }
        _0x285ee8 = Cartesian3$1.fromArray(_0x2ee95, _0x2c38f1 * 3, _0x285ee8);
        _0x3e00e4 = Cartesian3$1.subtract(Cartesian3$1.fromArray(_0x2ee95, _0x545fae * 3, _0x3e00e4), _0x285ee8, _0x3e00e4);
        _0x223019 = Cartesian3$1.subtract(Cartesian3$1.fromArray(_0x2ee95, (_0x545fae - _0xc93518) * 3, _0x223019), _0x285ee8, _0x223019);
        _0x4c7d36 += 3;
      } else {
        _0x4c7d36 += 3;
        _0x2c38f1 = _0x6c5121;
        _0x545fae = _0x45c1e9;
        for (_0xc93518 = 0; _0xc93518 < _0x38f678.length / 3; _0xc93518++) {
          _0x285ee8 = Cartesian3$1.fromArray(_0x38f678, _0xc93518 * 3, _0x285ee8);
          _0x107506[_0x1fefe4++] = _0x2c38f1;
          _0x107506[_0x1fefe4++] = _0x545fae + _0xc93518;
          _0x107506[_0x1fefe4++] = _0x545fae + _0xc93518 + 1;
          ThickWallGeometryLibrary.addAttribute(_0x2ee95, _0x285ee8, _0x4c7d36);
          _0x3e00e4 = Cartesian3$1.fromArray(_0x2ee95, _0x2c38f1 * 3, _0x3e00e4);
          _0x223019 = Cartesian3$1.fromArray(_0x2ee95, (_0x545fae + _0xc93518) * 3, _0x223019);
          _0x4c7d36 += 3;
        }
        _0x285ee8 = Cartesian3$1.fromArray(_0x2ee95, _0x2c38f1 * 3, _0x285ee8);
        _0x3e00e4 = Cartesian3$1.subtract(Cartesian3$1.fromArray(_0x2ee95, (_0x545fae + _0xc93518) * 3, _0x3e00e4), _0x285ee8, _0x3e00e4);
        _0x223019 = Cartesian3$1.subtract(Cartesian3$1.fromArray(_0x2ee95, _0x545fae * 3, _0x223019), _0x285ee8, _0x223019);
        _0x26beba -= 3;
      }
      _0x152a72 = _0x388edf[_0x56ae5f++];
      _0x522865 = _0x388edf[_0x56ae5f++];
      _0x152a72.splice(0, 3);
      _0x522865.splice(_0x522865.length - 3, 3);
      _0x2ee95.set(_0x152a72, _0x4c7d36);
      _0x2ee95.set(_0x522865, _0x26beba - _0x522865.length + 1);
      _0x57d600 = _0x522865.length - 3;
      for (_0xc93518 = 0; _0xc93518 < _0x522865.length; _0xc93518 += 3) {
        _0x45c1e9 = _0x4c7d36 / 3;
        _0x280a60 = _0x45c1e9 - 1;
        _0x6c5121 = (_0x26beba - 2) / 3;
        _0x5e58e9 = _0x6c5121 + 1;
        _0x107506[_0x1fefe4++] = _0x5e58e9;
        _0x107506[_0x1fefe4++] = _0x280a60;
        _0x107506[_0x1fefe4++] = _0x6c5121;
        _0x107506[_0x1fefe4++] = _0x6c5121;
        _0x107506[_0x1fefe4++] = _0x280a60;
        _0x107506[_0x1fefe4++] = _0x45c1e9;
        _0x4c7d36 += 3;
        _0x26beba -= 3;
      }
      _0x4c7d36 -= 3;
      _0x26beba += 3;
    }
    const _0x2d8a0d = {
      componentDatatype: ComponentDatatype.DOUBLE,
      componentsPerAttribute: 3,
      values: _0x2ee95
    };
    _0x3ea310.position = new GeometryAttribute(_0x2d8a0d);
    if (_0x10b7cf.st) {
      const _0x49449e = new Float32Array(_0x2d7f7e / 3 * 2);
      let _0x3c0f72 = 0;
      _0x4f6486 /= 3;
      _0x18f012 /= 3;
      const _0x5b20ac = 1 / (_0x4f6486 - 1);
      const _0x478143 = 1 / (_0x18f012 - 1);
      for (_0x7ce6f7 = 0; _0x7ce6f7 < _0x18f012; _0x7ce6f7++) {
        _0x49449e[_0x3c0f72++] = _0x7ce6f7 * _0x478143;
        _0x49449e[_0x3c0f72++] = 0;
      }
      for (_0x7ce6f7 = _0x4f6486; _0x7ce6f7 > 0; _0x7ce6f7--) {
        _0x49449e[_0x3c0f72++] = (_0x7ce6f7 - 1) * _0x5b20ac;
        _0x49449e[_0x3c0f72++] = 1;
      }
      const _0x4f92ca = {
        componentDatatype: ComponentDatatype.FLOAT,
        componentsPerAttribute: 2,
        values: _0x49449e
      };
      _0x3ea310.st = new GeometryAttribute(_0x4f92ca);
    }
    const _0x5c1efe = {
      attributes: _0x3ea310,
      indices: _0x107506
    };
    return _0x5c1efe;
  }
  function ThickWallGeometry(_0x1e54a6 = {}) {
    const _0x52cd67 = _0x1e54a6.positions;
    const _0x178d12 = _0x1e54a6.width;
    Check.defined("options.positions", _0x52cd67);
    Check.defined("options.width", _0x178d12);
    this._positions = _0x52cd67;
    this._ellipsoid = Ellipsoid.clone(_0x1e54a6.ellipsoid ?? Ellipsoid.WGS84);
    this._vertexFormat = VertexFormat.clone(_0x1e54a6.vertexFormat ?? VertexFormat.POSITION_AND_ST);
    this._width = _0x178d12;
    this._granularity = _0x1e54a6.granularity ?? CesiumMath.RADIANS_PER_DEGREE;
  }
  ThickWallGeometry.createGeometry = function (_0x2e9cbe) {
    const _0x400c47 = _0x2e9cbe._positions;
    const _0x2fdc38 = _0x2e9cbe._width;
    const _0x159745 = _0x2e9cbe._ellipsoid;
    const _0x1a2dba = _0x400c47.map(_0x51c4d3 => Cartographic.fromCartesian(_0x51c4d3));
    const _0x1d31f9 = _0x400c47.map(_0x268447 => _0x159745.scaleToGeodeticSurface(_0x268447));
    const _0x56c52e = _0x2e9cbe._vertexFormat;
    const _0x6f87a = {
      ellipsoid: _0x159745,
      positions: _0x1d31f9,
      width: _0x2fdc38,
      cornerType: CornerType.BEVELED,
      granularity: _0x2e9cbe._granularity,
      saveAttributes: false
    };
    const _0x5b15e2 = _0x6f87a;
    const _0x2107b4 = ThickWallGeometryLibrary.computePositions(_0x5b15e2);
    const _0x5bec8a = [];
    let _0x4c75ee = [];
    const _0x1fef00 = _0x2107b4.positions;
    const _0x293c67 = _0x1fef00.length / 2;
    for (let _0x589ffb = 0; _0x589ffb < _0x293c67; _0x589ffb++) {
      const _0x2bd3ce = _0x1a2dba[_0x589ffb];
      const _0x7fa625 = _0x1a2dba[_0x589ffb + 1];
      const _0x17f9a9 = _0x1fef00[_0x589ffb * 2];
      const _0xb3e5e6 = _0x1fef00[_0x589ffb * 2 + 1];
      const _0x3a9aec = _0x17f9a9.length / 3;
      const _0x100559 = _0xb3e5e6.length / 3;
      for (let _0x236e20 = 0; _0x236e20 < _0x3a9aec; _0x236e20++) {
        const _0x2305b2 = new Cesium__namespace.Cartesian3(_0x17f9a9[_0x236e20 * 3], _0x17f9a9[_0x236e20 * 3 + 1], _0x17f9a9[_0x236e20 * 3 + 2]);
        const _0x4df375 = Cartographic.fromCartesian(_0x2305b2);
        let _0x2a7f9a;
        if (_0x236e20 === 0) {
          _0x2a7f9a = Cartesian3$1.fromRadians(_0x4df375.longitude, _0x4df375.latitude, _0x2bd3ce.height);
        } else {
          _0x2a7f9a = Cartesian3$1.fromRadians(_0x4df375.longitude, _0x4df375.latitude, _0x7fa625.height);
        }
        _0x5bec8a.push(_0x2a7f9a);
        _0x17f9a9[_0x236e20 * 3] = _0x2a7f9a.x;
        _0x17f9a9[_0x236e20 * 3 + 1] = _0x2a7f9a.y;
        _0x17f9a9[_0x236e20 * 3 + 2] = _0x2a7f9a.z;
      }
      const _0x2eea76 = [];
      for (let _0x417fd5 = 0; _0x417fd5 < _0x100559; _0x417fd5++) {
        const _0x41af0a = new Cesium__namespace.Cartesian3(_0xb3e5e6[_0x417fd5 * 3], _0xb3e5e6[_0x417fd5 * 3 + 1], _0xb3e5e6[_0x417fd5 * 3 + 2]);
        const _0x332e52 = Cartographic.fromCartesian(_0x41af0a);
        let _0x3eb7f4;
        if (_0x417fd5 === 0) {
          _0x3eb7f4 = Cartesian3$1.fromRadians(_0x332e52.longitude, _0x332e52.latitude, _0x7fa625.height);
        } else {
          _0x3eb7f4 = Cartesian3$1.fromRadians(_0x332e52.longitude, _0x332e52.latitude, _0x2bd3ce.height);
        }
        _0x2eea76.push(_0x3eb7f4);
        _0xb3e5e6[_0x417fd5 * 3] = _0x3eb7f4.x;
        _0xb3e5e6[_0x417fd5 * 3 + 1] = _0x3eb7f4.y;
        _0xb3e5e6[_0x417fd5 * 3 + 2] = _0x3eb7f4.z;
      }
      _0x4c75ee.push(..._0x2eea76.reverse());
    }
    _0x2107b4.corners.forEach((_0x36de75, _0x385191) => {
      let _0x2895c2;
      if (defined$1(_0x36de75.rightPositions)) {
        _0x2895c2 = _0x36de75.rightPositions;
      } else {
        _0x2895c2 = _0x36de75.leftPositions;
      }
      const _0x4ab9db = new Cesium__namespace.Cartesian3(_0x2895c2[0], _0x2895c2[1], _0x2895c2[2]);
      const _0x223d5d = Cartographic.fromCartesian(_0x4ab9db);
      const _0x147482 = _0x400c47[_0x385191 + 1];
      const _0x363665 = Cartographic.fromCartesian(_0x147482);
      const _0x5699c1 = Cartesian3$1.fromRadians(_0x223d5d.longitude, _0x223d5d.latitude, _0x363665.height);
      _0x2895c2[0] = _0x5699c1.x;
      _0x2895c2[1] = _0x5699c1.y;
      _0x2895c2[2] = _0x5699c1.z;
    });
    const _0xec6a1d = combine(_0x2107b4, _0x56c52e);
    const _0x45a989 = _0xec6a1d.attributes;
    const _0x203cf2 = BoundingSphere.fromVertices(_0x45a989.position.values, undefined, 3);
    _0x4c75ee = Cesium__namespace.arrayRemoveDuplicates(_0x4c75ee, Cartesian3$1.equalsEpsilon);
    const _0x21353e = {
      attributes: _0x45a989,
      indices: _0xec6a1d.indices,
      primitiveType: PrimitiveType.TRIANGLES,
      boundingSphere: _0x203cf2
    };
    return {
      geometry: new Geometry(_0x21353e),
      rightPoints: _0x4c75ee,
      leftPoints: _0x5bec8a
    };
  };
  const DEF_STYLE$l = {
    diffHeight: 100,
    bottomHeight: 0,
    width: 10,
    flat: true
  };
  class ThickWall extends BasePolyPrimitive {
    constructor(_0x30a14b = {}) {
      _0x30a14b.style = {
        ...DEF_STYLE$l,
        ..._0x30a14b.style
      };
      super(_0x30a14b);
    }
    get czmObject() {
      return this._primitive;
    }
    _createGeometryInstance(_0x428182, _0x6f9939) {
      if (!this.positions) {
        return;
      }
      const _0x154cf2 = [];
      const _0x3b8f55 = [];
      const _0x3a5d6f = [];
      this.positions.forEach(_0x5739fb => {
        const _0x2d9080 = Cesium__namespace.Cartographic.fromCartesian(_0x5739fb);
        _0x3b8f55.push(Cesium__namespace.Cartesian3.fromRadians(_0x2d9080.longitude, _0x2d9080.latitude, _0x2d9080.height + _0x428182.diffHeight));
        _0x3a5d6f.push(Cesium__namespace.Cartesian3.fromRadians(_0x2d9080.longitude, _0x2d9080.latitude, _0x2d9080.height - _0x428182.bottomHeight));
      });
      if (_0x428182.closure) {
        _0x3b8f55.push(_0x3b8f55[0]);
        _0x3a5d6f.push(_0x3a5d6f[0]);
      }
      const _0x56cfaf = {
        positions: _0x3b8f55,
        width: _0x428182.width
      };
      const _0x49f06d = ThickWallGeometry.createGeometry(new ThickWallGeometry(_0x56cfaf));
      const _0x2925ea = {
        positions: _0x3a5d6f,
        width: _0x428182.width
      };
      const _0x223edf = ThickWallGeometry.createGeometry(new ThickWallGeometry(_0x2925ea));
      const _0x4b4b8c = {
        geometry: _0x49f06d.geometry
      };
      const _0x17e7e8 = new Cesium__namespace.GeometryInstance(_0x4b4b8c);
      const _0x10cb68 = {
        geometry: _0x223edf.geometry
      };
      const _0x5159e8 = new Cesium__namespace.GeometryInstance(_0x10cb68);
      _0x154cf2.push(_0x17e7e8);
      _0x154cf2.push(_0x5159e8);
      const _0xa7a0a2 = [];
      const _0xceaa33 = [];
      _0x223edf.leftPoints.forEach(_0x12d63e => {
        const _0x467908 = Cesium__namespace.Cartographic.fromCartesian(_0x12d63e);
        _0xa7a0a2.push(_0x467908.height);
      });
      _0x223edf.rightPoints.forEach(_0x5e6835 => {
        const _0x3be061 = Cesium__namespace.Cartographic.fromCartesian(_0x5e6835);
        _0xceaa33.push(_0x3be061.height);
      });
      const _0x52b777 = new Cesium__namespace.GeometryInstance({
        geometry: new Cesium__namespace.WallGeometry({
          positions: _0x49f06d.leftPoints,
          minimumHeights: _0xa7a0a2,
          vertexFormat: Cesium__namespace.MaterialAppearance.MaterialSupport.TEXTURED.vertexFormat
        })
      });
      const _0x135ceb = new Cesium__namespace.GeometryInstance({
        geometry: new Cesium__namespace.WallGeometry({
          positions: _0x49f06d.rightPoints,
          minimumHeights: _0xceaa33,
          vertexFormat: Cesium__namespace.MaterialAppearance.MaterialSupport.TEXTURED.vertexFormat
        })
      });
      _0x154cf2.push(_0x52b777);
      _0x154cf2.push(_0x135ceb);
      if (!_0x428182.closure) {
        const _0x3a2f91 = Cesium__namespace.Cartographic.fromCartesian(_0x223edf.leftPoints[0]).height;
        const _0x5da45d = new Cesium__namespace.GeometryInstance({
          geometry: new Cesium__namespace.WallGeometry({
            positions: [_0x49f06d.leftPoints[0], _0x49f06d.rightPoints[0]],
            minimumHeights: [_0x3a2f91, _0x3a2f91],
            vertexFormat: Cesium__namespace.MaterialAppearance.MaterialSupport.TEXTURED.vertexFormat
          })
        });
        const _0x49d7a3 = Cesium__namespace.Cartographic.fromCartesian(_0x223edf.leftPoints[_0x223edf.leftPoints.length - 1]).height;
        const _0x3e09f8 = new Cesium__namespace.GeometryInstance({
          geometry: new Cesium__namespace.WallGeometry({
            positions: [_0x49f06d.leftPoints[_0x49f06d.leftPoints.length - 1], _0x49f06d.rightPoints[_0x49f06d.rightPoints.length - 1]],
            minimumHeights: [_0x49d7a3, _0x49d7a3],
            vertexFormat: Cesium__namespace.MaterialAppearance.MaterialSupport.TEXTURED.vertexFormat
          })
        });
        _0x154cf2.push(_0x5da45d);
        _0x154cf2.push(_0x3e09f8);
      }
      return _0x154cf2;
    }
    _createAppearance(_0x112fe2, _0x14a7a7, _0x12348f) {
      const _0x3eb65f = {
        ..._0x112fe2
      };
      return new Cesium__namespace.MaterialAppearance(_0x3eb65f);
    }
    _conversionStyle(_0x3e0a36) {
      return WallStyleConver.toCesiumVal(_0x3e0a36);
    }
    _style2Json(_0x3cfe4f, _0x2f5791) {
      return WallStyleConver.toJSON(_0x3cfe4f, _0x2f5791);
    }
    _updateStyleByEdit(_0x12b4ea) {
      if (this._isCircle && Cesium__namespace.defined(_0x12b4ea.radius)) {
        this.radius = _0x12b4ea.radius;
      }
      if (Cesium__namespace.defined(_0x12b4ea.diffHeight)) {
        this.style.diffHeight = _0x12b4ea.diffHeight;
      }
    }
    _getDrawEntityClass(_0x30fd24, _0x1fbcab) {
      return create$5("wall", _0x30fd24);
    }
  }
  register$5("thickWall", ThickWall);
  var DynamicRiverFS = "in vec3 v_positionMC;\nin vec3 v_positionEC;\nin vec2 v_st;\n\nvoid main() {\n  czm_materialInput materialInput;\n\n  vec3 normalEC = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));\n    #ifdef FACE_FORWARD\n  normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n    #endif\n\n  materialInput.s = v_st.s;\n  materialInput.st = v_st;\n  materialInput.str = vec3(v_st, 0.0);\n\n    // Convert tangent space material normal to eye space MARS3D\n  materialInput.normalEC = normalEC;\n  materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);\n\n    // Convert view vector to world space\n  vec3 positionToEyeEC = -v_positionEC;\n  materialInput.positionToEyeEC = positionToEyeEC;\n\n  czm_material material = czm_getMaterial(materialInput);\n\n    #ifdef FLAT\n  out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n    #else\n  out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n    #endif\n}\n";
  var DynamicRiverVS = "in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec2 st;\nin float batchId;\n\nout vec3 v_positionMC;\nout vec3 v_positionEC;\nout vec2 v_st;\n\nvoid main() {\n  vec4 p = czm_computePosition();\n\n  v_positionMC = position3DHigh + position3DLow;           // position in model coordinates MARS3D\n  v_positionEC = (czm_modelViewRelativeToEye * p).xyz;     // position in eye coordinates\n  v_st = st;\n\n  gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n";
  var DynamicRiverMaterial = "uniform float globalAlpha;\nuniform float opacity;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n  vec2 st = materialInput.st;\n  if(move) {\n    float r = sqrt((st.x - 0.8) * (st.x - 0.8) + (st.y - 0.8) * (st.y - 0.8));\n    float r2 = sqrt((st.x - 0.2) * (st.x - 0.2) + (st.y - 0.2) * (st.y - 0.2));\n    float z = cos(moveVar.x * r + czm_frameNumber / 100.0 * moveVar.y) / moveVar.z;\n    float z2Mars3D = cos(moveVar.x * r2 + czm_frameNumber / 100.0 * moveVar.y) / moveVar.z;\n    st += sqrt(z * z + z2Mars3D * z2Mars3D);\n    st.s += direction * czm_frameNumber / 1000.0 * speed;\n    st.s = mod(st.s, 1.0);\n  }\n  if(axisY) {\n    st = vec2(st.t, st.s);\n  }\n  vec4 colorImage = texture(image, st);\n  material.alpha = opacity * globalAlpha;\n  material.diffuse = colorImage.rgb;\n  return material;\n}\n";
  const DEF_STYLE$k = {
    opacity: 0.5,
    width: 10,
    height: 0,
    speed: 10,
    axisY: false,
    move: true,
    direction: true,
    moveVar: new Cesium__namespace.Cartesian3(50, 1, 100)
  };
  class DynamicRiver extends BasePolyPrimitive {
    constructor(_0x2b0871 = {}) {
      _0x2b0871.style = {
        ...DEF_STYLE$k,
        ..._0x2b0871.style
      };
      super(_0x2b0871);
    }
    get czmObject() {
      return this._primitive;
    }
    get image() {
      return this.style.image;
    }
    set image(_0x20a04c) {
      this.style.image = _0x20a04c;
      this._material.uniforms.image = _0x20a04c;
    }
    get width() {
      return this.style.width;
    }
    set width(_0x235ffe) {
      _0x235ffe = Number(_0x235ffe) || 1;
      this.style.width = _0x235ffe;
      this.redraw(this.style);
    }
    get height() {
      return this.style.height;
    }
    set height(_0x3ba712) {
      this.style.height = _0x3ba712;
      this.redraw(this.style);
    }
    get opacity() {
      return this.style.opacity;
    }
    set opacity(_0x114eae) {
      this.style.opacity = Number(_0x114eae);
      this._material.uniforms.opacity = _0x114eae;
    }
    get direction() {
      return this.style.direction;
    }
    set direction(_0x27f4c2) {
      _0x27f4c2 = Boolean(_0x27f4c2);
      this.style.direction = _0x27f4c2;
      this._material.uniforms.direction = _0x27f4c2 ? -1 : 1;
    }
    get speed() {
      return this.style.speed;
    }
    set speed(_0x19ec7c) {
      _0x19ec7c = Number(_0x19ec7c) || 1;
      this.style.speed = _0x19ec7c;
      this._material.uniforms.speed = _0x19ec7c;
    }
    get move() {
      return this.style.move;
    }
    set move(_0x2bfab7) {
      _0x2bfab7 = Boolean(_0x2bfab7);
      this.style.move = _0x2bfab7;
      this._material.uniforms.move = _0x2bfab7;
    }
    get axisY() {
      return this.style.axisY;
    }
    set axisY(_0x3d0ba5) {
      _0x3d0ba5 = Boolean(_0x3d0ba5);
      this.style.axisY = _0x3d0ba5;
      this._material.uniforms.axisY = _0x3d0ba5;
    }
    get moveVar() {
      return this.style.moveVar;
    }
    set moveVar(_0x7e793d) {
      this.style.moveVar = _0x7e793d;
      this._material.uniforms.moveVar = _0x7e793d;
    }
    _addedHook(_0x359eb5) {
      if (!this.getRealShow() || !this.positions || this.positions.length === 0) {
        return;
      }
      this._sideRes = Lines2Plane(this.positions, this.width, this.height);
      if (!this._sideRes) {
        return;
      }
      this._primitive = this.createPrimitive();
      this.primitiveCollection.add(this._primitive);
      if (_0x359eb5.label) {
        this._addLabel(_0x359eb5.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _removedHook() {
      if (!this._noDestroy) {
        this.stopDraw();
        this.stopEditing();
      }
      if (this.dhEvent) {
        this._map.off(EventType.clockTick, this.dhEvent, this);
        delete this.dhEvent;
      }
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
        delete this._primitive;
      }
      if (this._material) {
        this._material.destroy();
        delete this._material;
      }
    }
    _updateStyleHook(_0x2eb53f, _0x5409b8) {
      let _0x3f3acc = false;
      for (const _0x293336 in _0x5409b8) {
        switch (_0x293336) {
          case "image":
          case "opacity":
          case "moveVar":
          case "direction":
          case "speed":
          case "axisY":
          case "globalAlpha":
            this._material.uniforms[_0x293336] = _0x5409b8[_0x293336];
            break;
          default:
            _0x3f3acc = true;
            break;
        }
      }
      if (_0x3f3acc) {
        this.redraw(_0x2eb53f);
      }
    }
    createPrimitive() {
      const _0x2a3ea8 = this._sideRes;
      const _0x235a6d = new Float64Array(_0x2a3ea8.vertexs);
      const _0xd31ed9 = new Cesium__namespace.GeometryAttributes();
      _0xd31ed9.position = new Cesium__namespace.GeometryAttribute({
        componentDatatype: Cesium__namespace.ComponentDatatype.DOUBLE,
        componentsPerAttribute: 3,
        values: _0x235a6d
      });
      _0xd31ed9.st = new Cesium__namespace.GeometryAttribute({
        componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
        componentsPerAttribute: 2,
        values: _0x2a3ea8.uvs
      });
      const _0x39aef5 = new Cesium__namespace.Geometry({
        attributes: _0xd31ed9,
        indices: _0x2a3ea8.indexs,
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        boundingSphere: Cesium__namespace.BoundingSphere.fromVertices(_0x235a6d)
      });
      const _0x1f055d = {
        id: this.id,
        geometry: _0x39aef5
      };
      const _0x11926d = new Cesium__namespace.GeometryInstance(_0x1f055d);
      const _0x1fedf6 = new Cesium__namespace.RenderState();
      _0x1fedf6.depthTest.enabled = true;
      this._material = createMaterial(DynamicRiver$1, {
        image: this.image,
        opacity: this.opacity,
        moveVar: this.moveVar,
        direction: this.direction ? -1 : 1,
        speed: this.speed,
        move: this.move,
        axisY: this.axisY,
        globalAlpha: 1
      });
      const _0x4d3729 = {
        material: this._material,
        renderState: _0x1fedf6,
        vertexShaderSource: DynamicRiverVS,
        fragmentShaderSource: DynamicRiverFS
      };
      const _0x118acc = new Cesium__namespace.Primitive({
        geometryInstances: _0x11926d,
        appearance: new Cesium__namespace.Appearance(_0x4d3729)
      });
      return _0x118acc;
    }
    setOffsetHeight(_0x35d55a, _0x35480c) {
      if (!_0x35d55a || !_0x35480c || !this._primitive) {
        return;
      }
      let _0x28617d = 0;
      const _0x82558c = 20;
      const _0x287f05 = _0x35d55a / (_0x35480c * _0x82558c);
      const _0x13204 = this._sideRes.self;
      const _0x46a365 = new Cesium__namespace.Cartesian3();
      for (let _0xc4b464 = 0, _0x34e334 = _0x13204.length; _0xc4b464 < _0x34e334; _0xc4b464++) {
        const _0x47ff95 = Cesium__namespace.Cartesian3.normalize(_0x13204[_0xc4b464], new Cesium__namespace.Cartesian3());
        Cesium__namespace.Cartesian3.add(_0x46a365, _0x47ff95, _0x46a365);
      }
      Cesium__namespace.Cartesian3.normalize(_0x46a365, _0x46a365);
      const _0x317aac = Cesium__namespace.clone(this._primitive.modelMatrix);
      this.dhEvent = function () {
        if (!this._primitive || !this._map) {
          return;
        }
        if (Math.abs(_0x28617d) <= Math.abs(_0x35d55a)) {
          const _0x1ccbf9 = Cesium__namespace.Cartesian3.multiplyByScalar(_0x46a365, _0x28617d, new Cesium__namespace.Cartesian3());
          this._primitive.modelMatrix = Cesium__namespace.Matrix4.multiplyByTranslation(_0x317aac, _0x1ccbf9, new Cesium__namespace.Matrix4());
        } else if (this.dhEvent) {
          this._map.off(EventType.clockTick, this.dhEvent, this);
          delete this.dhEvent;
        }
        _0x28617d += _0x287f05;
      };
      this._map.on(EventType.clockTick, this.dhEvent, this);
    }
    setOpacity(_0xaf7725) {
      this.style.globalAlpha = _0xaf7725;
      if (this._material) {
        this._material.uniforms.globalAlpha = _0xaf7725;
      }
    }
    _getDrawEntityClass(_0x373e77, _0x3709e8) {
      _0x373e77.style.width = 5;
      return create$5("polyline", _0x373e77);
    }
  }
  register$5("dynamicRiver", DynamicRiver);
  register$4(DynamicRiver$1, {
    fabric: {
      uniforms: {
        image: Cesium__namespace.Material.DefaultImageId,
        opacity: 1,
        moveVar: new Cesium__namespace.Cartesian3(50, 1, 100),
        direction: 1,
        speed: 1,
        move: true,
        axisY: false,
        globalAlpha: 1
      },
      source: DynamicRiverMaterial
    },
    translucent: true
  });
  function Lines2Plane(_0xcb72db, _0xb1e533, _0x391c6e) {
    if (!_0xcb72db || _0xcb72db.length <= 1 || !_0xb1e533 || _0xb1e533 === 0) {
      logError("请确认参数符合规则：数组长度大于1，宽高不能为0！", _0xcb72db);
      return;
    }
    const _0x15c1d4 = _0xcb72db.length;
    const _0x4e40a9 = [];
    const _0x35d795 = [];
    const _0x19e25a = _0xb1e533 / 2;
    for (let _0x3d0eaf = 0; _0x3d0eaf < _0x15c1d4; _0x3d0eaf++) {
      let _0xd61fb1;
      let _0x2bc6f0;
      let _0x2d9c17;
      let _0x1e33a2;
      let _0x29c510;
      if (_0x3d0eaf === 0) {
        _0xd61fb1 = _0xcb72db[_0x3d0eaf];
        _0x2bc6f0 = _0xcb72db[_0x3d0eaf];
        _0x2d9c17 = _0xcb72db[_0x3d0eaf + 1];
      } else if (_0x3d0eaf === _0x15c1d4 - 1) {
        _0xd61fb1 = _0xcb72db[_0x3d0eaf - 1];
        _0x2bc6f0 = _0xcb72db[_0x3d0eaf];
        _0x2d9c17 = _0xcb72db[_0x3d0eaf - 1];
      } else {
        _0xd61fb1 = _0xcb72db[_0x3d0eaf - 1];
        _0x2bc6f0 = _0xcb72db[_0x3d0eaf];
        _0x2d9c17 = _0xcb72db[_0x3d0eaf + 1];
      }
      if (_0x391c6e !== 0) {
        _0xd61fb1 = RaisePoint(_0xd61fb1, _0x391c6e);
        _0x2bc6f0 = RaisePoint(_0x2bc6f0, _0x391c6e);
        _0x2d9c17 = RaisePoint(_0x2d9c17, _0x391c6e);
      }
      if (_0xd61fb1 && _0x2bc6f0 && _0x2d9c17) {
        const _0x2ad5df = GetSide2(_0xd61fb1, _0x2bc6f0, _0x2d9c17, _0x19e25a);
        _0x1e33a2 = _0x2ad5df.left;
        _0x29c510 = _0x2ad5df.right;
        _0x4e40a9.push(_0x29c510);
        _0x35d795.push(_0x1e33a2);
      }
    }
    const _0x2a0de1 = _0x4e40a9;
    const _0x2d5168 = _0x35d795;
    const _0x1aab32 = [];
    const _0x28bae1 = [];
    const _0x4b8f47 = [];
    const _0xc17ba1 = [];
    const _0x400bd0 = [];
    for (let _0x4ce80b = 0; _0x4ce80b < _0x15c1d4; _0x4ce80b++) {
      const _0x506bb0 = Cesium__namespace.EncodedCartesian3.fromCartesian(_0x2d5168[_0x4ce80b]);
      _0x28bae1.push(_0x2d5168[_0x4ce80b].x);
      _0x28bae1.push(_0x2d5168[_0x4ce80b].y);
      _0x28bae1.push(_0x2d5168[_0x4ce80b].z);
      _0x4b8f47.push(_0x506bb0.high.x);
      _0x4b8f47.push(_0x506bb0.high.y);
      _0x4b8f47.push(_0x506bb0.high.z);
      _0xc17ba1.push(_0x506bb0.low.x);
      _0xc17ba1.push(_0x506bb0.low.y);
      _0xc17ba1.push(_0x506bb0.low.z);
      _0x1aab32.push(1, 1);
      if (_0x4ce80b < _0x15c1d4 - 1) {
        _0x400bd0.push(_0x4ce80b + _0x15c1d4 * 2);
        _0x400bd0.push(_0x4ce80b + 1);
        _0x400bd0.push(_0x4ce80b + 1 + _0x15c1d4);
        _0x400bd0.push(_0x4ce80b + _0x15c1d4 * 2);
        _0x400bd0.push(_0x4ce80b + 1 + _0x15c1d4);
        _0x400bd0.push(_0x15c1d4 + _0x4ce80b + _0x15c1d4 * 2);
      }
    }
    for (let _0x1c32f5 = 0; _0x1c32f5 < _0x15c1d4; _0x1c32f5++) {
      const _0x5d8b8e = Cesium__namespace.EncodedCartesian3.fromCartesian(_0x2a0de1[_0x1c32f5]);
      _0x28bae1.push(_0x2a0de1[_0x1c32f5].x);
      _0x28bae1.push(_0x2a0de1[_0x1c32f5].y);
      _0x28bae1.push(_0x2a0de1[_0x1c32f5].z);
      _0x4b8f47.push(_0x5d8b8e.high.x);
      _0x4b8f47.push(_0x5d8b8e.high.y);
      _0x4b8f47.push(_0x5d8b8e.high.z);
      _0xc17ba1.push(_0x5d8b8e.low.x);
      _0xc17ba1.push(_0x5d8b8e.low.y);
      _0xc17ba1.push(_0x5d8b8e.low.z);
      _0x1aab32.push(1, 0);
    }
    for (let _0x3c716c = 0; _0x3c716c < _0x15c1d4; _0x3c716c++) {
      const _0x1c98be = Cesium__namespace.EncodedCartesian3.fromCartesian(_0x2d5168[_0x3c716c]);
      _0x28bae1.push(_0x2d5168[_0x3c716c].x);
      _0x28bae1.push(_0x2d5168[_0x3c716c].y);
      _0x28bae1.push(_0x2d5168[_0x3c716c].z);
      _0x4b8f47.push(_0x1c98be.high.x);
      _0x4b8f47.push(_0x1c98be.high.y);
      _0x4b8f47.push(_0x1c98be.high.z);
      _0xc17ba1.push(_0x1c98be.low.x);
      _0xc17ba1.push(_0x1c98be.low.y);
      _0xc17ba1.push(_0x1c98be.low.z);
      _0x1aab32.push(0, 1);
    }
    for (let _0x4c5107 = 0; _0x4c5107 < _0x15c1d4; _0x4c5107++) {
      const _0x55fc0d = Cesium__namespace.EncodedCartesian3.fromCartesian(_0x2a0de1[_0x4c5107]);
      _0x28bae1.push(_0x2a0de1[_0x4c5107].x);
      _0x28bae1.push(_0x2a0de1[_0x4c5107].y);
      _0x28bae1.push(_0x2a0de1[_0x4c5107].z);
      _0x4b8f47.push(_0x55fc0d.high.x);
      _0x4b8f47.push(_0x55fc0d.high.y);
      _0x4b8f47.push(_0x55fc0d.high.z);
      _0xc17ba1.push(_0x55fc0d.low.x);
      _0xc17ba1.push(_0x55fc0d.low.y);
      _0xc17ba1.push(_0x55fc0d.low.z);
      _0x1aab32.push(0, 0);
    }
    return {
      left: _0x2a0de1,
      right: _0x2d5168,
      self: _0xcb72db,
      vertexs: new Float32Array(_0x28bae1),
      vertexsH: new Float32Array(_0x4b8f47),
      vertexsL: new Float32Array(_0xc17ba1),
      indexs: new Uint16Array(_0x400bd0),
      uvs: new Float32Array(_0x1aab32)
    };
  }
  function RaisePoint(_0x45b33f, _0x1bdfa1) {
    if (!(_0x45b33f instanceof Cesium__namespace.Cartesian3)) {
      logError("请确认点是Cartesian3类型！");
      return;
    }
    if (!_0x1bdfa1 || _0x1bdfa1 === 0) {
      logError("请确认高度是非零数值！");
      return;
    }
    const _0x101801 = Cesium__namespace.Cartesian3.normalize(_0x45b33f, new Cesium__namespace.Cartesian3());
    const _0x7d0c15 = new Cesium__namespace.Ray(_0x45b33f, _0x101801);
    return Cesium__namespace.Ray.getPoint(_0x7d0c15, _0x1bdfa1);
  }
  function GetSide2(_0xb5f7bb, _0x5e6eb7, _0x1d202a, _0x27e6b5) {
    let _0x17630f;
    let _0x2917a2;
    if (Cesium__namespace.Cartesian3.equals(_0xb5f7bb, _0x5e6eb7)) {
      const _0xa22c43 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x1d202a, _0x5e6eb7, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0xd89f2e = Cesium__namespace.Cartesian3.normalize(_0x5e6eb7, new Cesium__namespace.Cartesian3());
      const _0x1e514a = Cesium__namespace.Cartesian3.cross(_0xd89f2e, _0xa22c43, new Cesium__namespace.Cartesian3());
      const _0x1507df = Cesium__namespace.Cartesian3.cross(_0xa22c43, _0xd89f2e, new Cesium__namespace.Cartesian3());
      const _0x444888 = new Cesium__namespace.Ray(_0x5e6eb7, _0x1e514a);
      const _0x202064 = new Cesium__namespace.Ray(_0x5e6eb7, _0x1507df);
      _0x17630f = Cesium__namespace.Ray.getPoint(_0x444888, _0x27e6b5);
      _0x2917a2 = Cesium__namespace.Ray.getPoint(_0x202064, _0x27e6b5);
    } else if (Cesium__namespace.Cartesian3.equals(_0x1d202a, _0x5e6eb7)) {
      const _0x1c409f = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5e6eb7, _0xb5f7bb, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x1b4cd6 = Cesium__namespace.Cartesian3.normalize(_0x5e6eb7, new Cesium__namespace.Cartesian3());
      const _0x1ad56f = Cesium__namespace.Cartesian3.cross(_0x1b4cd6, _0x1c409f, new Cesium__namespace.Cartesian3());
      const _0x1887d5 = Cesium__namespace.Cartesian3.cross(_0x1c409f, _0x1b4cd6, new Cesium__namespace.Cartesian3());
      const _0xcba33b = new Cesium__namespace.Ray(_0x5e6eb7, _0x1ad56f);
      const _0x4ff534 = new Cesium__namespace.Ray(_0x5e6eb7, _0x1887d5);
      _0x17630f = Cesium__namespace.Ray.getPoint(_0xcba33b, _0x27e6b5);
      _0x2917a2 = Cesium__namespace.Ray.getPoint(_0x4ff534, _0x27e6b5);
    } else {
      const _0x7ed3a3 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5e6eb7, _0xb5f7bb, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x26b29b = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x1d202a, _0x5e6eb7, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x322a1f = Cesium__namespace.Cartesian3.add(_0x7ed3a3, _0x26b29b, new Cesium__namespace.Cartesian3());
      if (Cesium__namespace.Cartesian3.equals(_0x322a1f, new Cesium__namespace.Cartesian3())) {
        const _0x7f143c = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5e6eb7, _0xb5f7bb, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
        const _0x2bdb6a = Cesium__namespace.Cartesian3.normalize(_0x5e6eb7, new Cesium__namespace.Cartesian3());
        const _0x585a93 = Cesium__namespace.Cartesian3.cross(_0x2bdb6a, _0x7f143c, new Cesium__namespace.Cartesian3());
        const _0x3f394a = Cesium__namespace.Cartesian3.cross(_0x7f143c, _0x2bdb6a, new Cesium__namespace.Cartesian3());
        const _0x309dfb = new Cesium__namespace.Ray(_0x5e6eb7, _0x585a93);
        const _0x181313 = new Cesium__namespace.Ray(_0x5e6eb7, _0x3f394a);
        _0x17630f = Cesium__namespace.Ray.getPoint(_0x309dfb, _0x27e6b5);
        _0x2917a2 = Cesium__namespace.Ray.getPoint(_0x181313, _0x27e6b5);
      } else {
        const _0x55b2aa = Cesium__namespace.Cartesian3.normalize(_0x322a1f, new Cesium__namespace.Cartesian3());
        const _0x4ea070 = Cesium__namespace.Cartesian3.normalize(_0x5e6eb7, new Cesium__namespace.Cartesian3());
        const _0x471223 = Cesium__namespace.Cartesian3.cross(_0x4ea070, _0x55b2aa, new Cesium__namespace.Cartesian3());
        const _0x851fbc = Cesium__namespace.Cartesian3.cross(_0x55b2aa, _0x4ea070, new Cesium__namespace.Cartesian3());
        const _0x3dd2de = new Cesium__namespace.Ray(_0x5e6eb7, _0x471223);
        const _0x2f9458 = new Cesium__namespace.Ray(_0x5e6eb7, _0x851fbc);
        const _0x3ed36f = Cesium__namespace.Cartesian3.dot(_0x7ed3a3, _0x26b29b);
        const _0x59edb0 = Cesium__namespace.Cartesian3.magnitude(_0x7ed3a3);
        const _0x4a3121 = Cesium__namespace.Cartesian3.magnitude(_0x26b29b);
        const _0xd1c704 = _0x3ed36f / _0x59edb0 / _0x4a3121;
        const _0x1589fa = Cesium__namespace.Math.toDegrees(Math.acos(_0xd1c704));
        const _0x5b7816 = _0x1589fa / 2;
        const _0x7ec869 = Math.cos(Cesium__namespace.Math.toRadians(_0x5b7816));
        const _0xf6eb20 = _0x27e6b5 * 2 / _0x7ec869;
        _0x17630f = Cesium__namespace.Ray.getPoint(_0x3dd2de, _0xf6eb20 / 2);
        _0x2917a2 = Cesium__namespace.Ray.getPoint(_0x2f9458, _0xf6eb20 / 2);
      }
    }
    const _0x462795 = {
      left: _0x17630f,
      right: _0x2917a2
    };
    return _0x462795;
  }
  const DEF_STYLE$j = {
    opacity: 1,
    move: false,
    axisY: true
  };
  class Road extends DynamicRiver {
    constructor(_0x3c47cd = {}) {
      _0x3c47cd.style = {
        ...DEF_STYLE$j,
        ..._0x3c47cd.style
      };
      super(_0x3c47cd);
    }
  }
  register$5("road", Road);
  class Pit extends BasePolyPrimitive {
    constructor(_0x2c617c = {}) {
      super(_0x2c617c);
      this.style.diffHeight = this.style.diffHeight ?? 10;
      this.style.splitNum = this.style.splitNum ?? 50;
    }
    get czmObjectEx() {
      const _0x363f70 = [];
      if (this._bottomPrimitive) {
        _0x363f70.push(this._bottomPrimitive);
      }
      if (this._primitive_label) {
        _0x363f70.push(this._primitive_label);
      }
      return _0x363f70;
    }
    get center() {
      return this.centerOfMass;
    }
    get diffHeight() {
      return this.style.diffHeight;
    }
    set diffHeight(_0x325cc8) {
      this.style.diffHeight = _0x325cc8;
      const _0x3dfc53 = [];
      const _0x40658a = this._minHeight - _0x325cc8;
      const _0x137d0c = this.wellData.cartoList;
      const _0x2f94d1 = new Array(_0x137d0c.length);
      for (let _0x7aaf23 = 0, _0x34dc26 = _0x137d0c.length; _0x7aaf23 < _0x34dc26; _0x7aaf23++) {
        const _0x49410b = _0x137d0c[_0x7aaf23];
        _0x3dfc53.push(Cesium__namespace.Cartesian3.fromRadians(_0x49410b.longitude, _0x49410b.latitude, _0x40658a));
        _0x2f94d1[_0x7aaf23] = _0x40658a;
      }
      this.wellData.bottomPositions = _0x3dfc53;
      this.wellData.minimumHeights = _0x2f94d1;
      this._removePit();
      this._createPit(this.wellData);
    }
    _getWellData() {
      if (this.positions.length === 0) {
        return;
      }
      this._minHeight = getMinHeight(this.positions);
      const _0x3b5c78 = this._minHeight - this.diffHeight;
      const _0xebd17f = [];
      const _0x3b6f73 = [];
      const _0x9ee47f = interPolyline({
        scene: this._map.scene,
        positions: this._getClosurePositions(this.positions),
        splitNum: this.style.splitNum
      });
      const _0x449c1d = _0x9ee47f.length;
      const _0x50f4c1 = new Array(_0x449c1d);
      const _0x53fc4e = new Array(_0x449c1d);
      for (let _0x1265ad = 0; _0x1265ad < _0x449c1d; _0x1265ad++) {
        const _0x30b005 = Cesium__namespace.Cartographic.fromCartesian(_0x9ee47f[_0x1265ad]);
        _0x3b6f73.push(new Cesium__namespace.Cartographic(_0x30b005.longitude, _0x30b005.latitude));
        _0x50f4c1[_0x1265ad] = _0x3b5c78;
        _0x53fc4e[_0x1265ad] = 0;
        _0xebd17f.push(Cesium__namespace.Cartesian3.fromRadians(_0x30b005.longitude, _0x30b005.latitude, _0x3b5c78));
      }
      const _0x2ec403 = {
        cartoList: _0x3b6f73,
        bottomPositions: _0xebd17f,
        minimumHeights: _0x50f4c1,
        maximumHeights: _0x53fc4e
      };
      return _0x2ec403;
    }
    _addedHook(_0x155517) {
      if (!this.getRealShow() || !this.positions || this.positions.length === 0) {
        return;
      }
      const _0x301ad1 = this._getWellData();
      this.wellData = _0x301ad1;
      this._createPit(_0x301ad1);
      if (_0x155517.label) {
        this._addLabel(_0x155517.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _removedHook() {
      super._removedHook();
      this._removePit();
    }
    _removePit() {
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
        delete this._primitive;
      }
      if (this._bottomPrimitive) {
        this.primitiveCollection.remove(this._bottomPrimitive);
        delete this._bottomPrimitive;
      }
    }
    async _createPit(_0x540be1) {
      await this._map.readyPromise;
      if (this._map.scene._terrainProviderPromise) {
        await this._map.scene._terrainProviderPromise;
      }
      this._createBottomSurface(_0x540be1.bottomPositions);
      if (this._map.hasTerrain) {
        Cesium__namespace.sampleTerrainMostDetailed(this._map.scene.terrainProvider, _0x540be1.cartoList).then(_0x35f34e => {
          if (!this.isAdded) {
            return;
          }
          const _0x4fb1cf = [];
          for (let _0x420980 = 0, _0x47f03b = _0x35f34e.length; _0x420980 < _0x47f03b; _0x420980++) {
            const _0x49b418 = _0x35f34e[_0x420980];
            _0x4fb1cf.push(_0x49b418.height);
          }
          _0x540be1.maximumHeights = _0x4fb1cf;
          this._createWellWall(_0x540be1);
        });
      } else {
        this._createWellWall(_0x540be1);
      }
    }
    _createWellWall(_0x15e55d) {
      const _0x1c70ce = this.style.opacity ?? 1;
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
      }
      const _0x1bc2d7 = {
        positions: _0x15e55d.bottomPositions,
        maximumHeights: _0x15e55d.maximumHeights,
        minimumHeights: _0x15e55d.minimumHeights
      };
      this._primitive = new Cesium__namespace.Primitive({
        geometryInstances: new Cesium__namespace.GeometryInstance({
          id: this.id,
          geometry: new Cesium__namespace.WallGeometry(_0x1bc2d7)
        }),
        appearance: new Cesium__namespace.MaterialAppearance({
          material: Cesium__namespace.Material.fromType(Cesium__namespace.Material.ImageType, {
            image: this.style.image,
            color: Cesium__namespace.Color.WHITE.withAlpha(_0x1c70ce),
            repeat: this.style.repeat ?? new Cesium__namespace.Cartesian2(this.style.repeatX ?? 50, this.style.repeatY ?? 1)
          }),
          translucent: _0x1c70ce !== 1
        })
      });
      this.primitiveCollection.add(this._primitive);
      this.bindPickId(this._primitive);
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _createBottomSurface(_0xea975f) {
      if (!_0xea975f.length || !this.style.imageBottom) {
        return;
      }
      const _0xb3d83f = this.style.opacity ?? 1;
      if (this._bottomPrimitive) {
        this.primitiveCollection.remove(this._bottomPrimitive);
      }
      this._bottomPrimitive = new Cesium__namespace.Primitive({
        geometryInstances: new Cesium__namespace.GeometryInstance({
          id: this.id,
          geometry: Cesium__namespace.CoplanarPolygonGeometry.fromPositions({
            vertexFormat: Cesium__namespace.VertexFormat.ALL,
            positions: _0xea975f,
            stRotation: this.style.stRotationDegree ? Cesium__namespace.Math.toRadians(this.style.stRotationDegree) : this.style.stRotation,
            perPositionHeight: true
          })
        }),
        appearance: new Cesium__namespace.MaterialAppearance({
          material: Cesium__namespace.Material.fromType(Cesium__namespace.Material.ImageType, {
            image: this.style.imageBottom,
            color: Cesium__namespace.Color.WHITE.withAlpha(_0xb3d83f),
            repeat: this.style.repeatBottom ?? new Cesium__namespace.Cartesian2(1, 1)
          }),
          translucent: _0xb3d83f !== 1,
          faceForward: true,
          flat: true
        })
      });
      this.primitiveCollection.add(this._bottomPrimitive);
      this.bindPickId(this._bottomPrimitive);
    }
    _updateExOpacity(_0x57bae9) {
      if (this._bottomPrimitive) {
        this._updatePrimitiveOpacity(this._bottomPrimitive, _0x57bae9);
      }
    }
    _getDrawEntityClass(_0x2651f5, _0x2d5cbd) {
      _0x2651f5.style.image = _0x2651f5.style.imageBottom;
      delete _0x2651f5.style.diffHeight;
      return create$5("polygon", _0x2651f5);
    }
  }
  register$5("pit", Pit);
  const DEF_STYLE$i = {
    dimensions_x: 100,
    dimensions_y: 100
  };
  class DoubleSidedPlane extends BasePointPrimitive {
    constructor(_0x128c9c = {}) {
      _0x128c9c.style = {
        ...DEF_STYLE$i,
        ..._0x128c9c.style
      };
      super(_0x128c9c);
    }
    _addedHook(_0x55d28b) {
      if (!this.getRealShow()) {
        return;
      }
      const _0x596c49 = [0, -0.5, -0.5, 0, 0.5, -0.5, 0, 0.5, 0.5, 0, -0.5, 0.5, 0, 0.5, -0.5, 0, -0.5, -0.5, 0, -0.5, 0.5, 0, 0.5, 0.5];
      const _0x535450 = [0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1];
      const _0xfe6f93 = [0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7];
      const _0x41b967 = new Cesium__namespace.Geometry({
        attributes: {
          position: new Cesium__namespace.GeometryAttribute({
            componentDatatype: Cesium__namespace.ComponentDatatype.DOUBLE,
            componentsPerAttribute: 3,
            values: new Float64Array(_0x596c49)
          }),
          st: new Cesium__namespace.GeometryAttribute({
            componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
            componentsPerAttribute: 2,
            values: new Float32Array(_0x535450)
          })
        },
        indices: new Uint16Array(_0xfe6f93),
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        boundingSphere: Cesium__namespace.BoundingSphere.fromVertices(_0x596c49)
      });
      const _0x2cd87f = Cesium__namespace.RenderState.fromCache({
        depthTest: {
          enabled: true
        },
        depthMask: false,
        blending: Cesium__namespace.BlendingState.ALPHA_BLEND,
        cull: {
          enabled: true,
          face: Cesium__namespace.CullFace.BACK
        }
      });
      let _0xfaa192;
      if (_0x55d28b.image && !_0x55d28b.materialType) {
        _0xfaa192 = createMaterial("Image2", _0x55d28b.materialOptions || _0x55d28b);
      } else if (_0x55d28b.materialType) {
        _0xfaa192 = createMaterial(_0x55d28b.materialType, _0x55d28b.materialOptions || _0x55d28b);
      } else {
        _0xfaa192 = _0x55d28b.material;
      }
      const _0x27a854 = {
        geometry: _0x41b967
      };
      this._primitive = new Cesium__namespace.Primitive({
        geometryInstances: new Cesium__namespace.GeometryInstance(_0x27a854),
        appearance: new Cesium__namespace.MaterialAppearance({
          flat: true,
          renderState: _0x2cd87f,
          ...this.style,
          material: _0xfaa192
        }),
        modelMatrix: this.modelMatrix,
        show: this.show
      });
      this.primitiveCollection.add(this._primitive);
      if (_0x55d28b.label) {
        this._addLabel(_0x55d28b.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _getModelMatrix(_0x151847, _0x590190) {
      if (!_0x151847) {
        return Cesium__namespace.Matrix4.IDENTITY;
      }
      const _0x3c9fdd = Cesium__namespace.Math.toRadians(this.style.heading || 0);
      const _0x5aa42e = Cesium__namespace.Math.toRadians(this.style.pitch || 0);
      const _0x5360da = Cesium__namespace.Math.toRadians(this.style.roll || 0);
      this._heading_reality = _0x3c9fdd;
      this._pitch_reality = _0x5aa42e;
      this._roll_reality = _0x5360da;
      const _0x4ad9bd = Cesium__namespace.Transforms.headingPitchRollToFixedFrame(_0x151847, new Cesium__namespace.HeadingPitchRoll(_0x3c9fdd, _0x5aa42e, _0x5360da), this.ellipsoid, this.fixedFrameTransform);
      const _0x206046 = Cesium__namespace.Matrix4.fromScale(new Cesium__namespace.Cartesian3(1, this.style.dimensions_x, this.style.dimensions_y));
      return Cesium__namespace.Matrix4.multiply(_0x4ad9bd, _0x206046, new Cesium__namespace.Matrix4());
    }
    _getDrawEntityClass(_0x24201a, _0x1af19c) {
      return create$5("point", _0x24201a);
    }
  }
  register$5("doubleSidedPlane", DoubleSidedPlane, true);
  var ReflectionWaterFS = "uniform sampler2D reflexTexture; // 反射贴图\nuniform sampler2D normalTexture; // 法线贴图\nuniform float time;\n\nuniform mat4 fixedFrameToEastNorthUpTransform; // 水面的东北天矩阵的逆矩阵\n\n// 从顶点着色器传来的\nin vec4 v_worldPosition; // 当前像素的世界坐标\nin vec4 v_uv; // 原本的纹理坐标乘以贴图矩阵\nin float cameraDistance;//相机距离\n\n// 可配置的参数\nuniform float ripple; // 波纹大小（数值越大波纹越密集）\nuniform vec4 waterColor; // 水面颜色\nuniform float waterAlpha; // 水面透明度\nuniform float reflectivity; // 水面反射率\nuniform vec3 lightDirection; // 光照方向\nuniform float shiny; // 光照强度\nuniform float distortion; // 倒影的扭曲程度\nuniform float specularIntensity;\nuniform float globalAlpha;\n\nuniform vec4 farColor;\nuniform float farDistance;\n\n\nconst vec3 sunColor = vec3(1.0);\n\n// 获取噪声\n// vec4 czm_getWaterNoise(sampler2D normalMap, vec2 uv, float time, float angleInRadians)\nvec4 mars3d_getNoise(sampler2D normalMap, vec2 uv) {\n  vec2 uv0 = (uv / 103.0) + vec2(time / 17.0, time / 29.0);\n  vec2 uv1 = uv / 107.0 - vec2(time / -19.0, time / 31.0);\n  vec2 uv2 = uv / vec2(8907.0, 9803.0) + vec2(time / 101.0, time / 97.0);\n  vec2 uv3 = uv / vec2(1091.0, 1027.0) - vec2(time / 109.0, time / -113.0);\n  vec4 noise = texture(normalMap, uv0) +\n    texture(normalMap, uv1) +\n    texture(normalMap, uv2) +\n    texture(normalMap, uv3);\n  return noise * 0.5 - 1.0;\n}\n\nvoid mars3d_sunLight(const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor) {\n  vec3 sunDirection = normalize(lightDirection);\n  vec3 reflection = normalize(reflect(-sunDirection, surfaceNormal));  // 获得太阳对表面法线的反射向量\n  float direction = max(0.0, dot(eyeDirection, reflection));  // 当太阳反射方向和眼睛的方向一致时，direction 最大，为 1，当角度大于 90度时最小，最小为 0\n  specularColor += pow(direction, shiny) * sunColor * spec;\n  diffuseColor += max(dot(sunDirection, surfaceNormal), 0.0) * sunColor * diffuse;\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  if(cameraDistance > farDistance){\n    material.diffuse = farColor.rgb;\n    material.alpha = farColor.a * waterAlpha;\n    return material;\n  }\n\n    // 通过法线贴图计算新的表面法线\n  vec2 transformedSt = materialInput.st * 2.0 - 1.0;  // [0, 1] => [-1, 1]\n  vec4 noise = mars3d_getNoise(normalTexture, transformedSt * ripple);\n  vec3 surfaceNormal = normalize(noise.xzy);  // [0, +1]，Y up\n\n    // 漫反射光\n  vec3 diffuseLight = vec3(0.0);\n    // 高光\n  vec3 specularLight = vec3(0.0);\n\n    // 获取视线方向（世界坐标）\n  vec3 eye = (czm_inverseView * vec4(vec3(0.0), 1.0)).xyz;\n    // 获取视线方向（水面的本地坐标）\n  eye = (fixedFrameToEastNorthUpTransform * vec4(eye, 1.0)).xyz;\n    // 当前像素的本地坐标\n  vec3 world = (fixedFrameToEastNorthUpTransform * vec4(v_worldPosition.xyz, 1.0)).xyz;\n\n  vec3 worldToEye = eye - world;  // east, north, up\n  worldToEye = vec3(worldToEye.x, worldToEye.z, -worldToEye.y);  // Y up\n  vec3 eyeDirection = normalize(worldToEye);\n\n  float spec = 2.0;\n  float diffuse = 0.5;\n  mars3d_sunLight(surfaceNormal, eyeDirection, shiny, spec, diffuse, diffuseLight, specularLight);\n\n  float distance = length(worldToEye);\n  vec2 distortion = surfaceNormal.xz * (0.001 + 1.0 / distance) * distortion;\n  vec3 reflectionSample = vec3(texture(reflexTexture, (v_uv.xy / v_uv.w) * 0.5 + 0.5 + distortion));\n\n  float theta = max(dot(eyeDirection, surfaceNormal), 0.0);\n  float reflectivity = reflectivity;\n  float reflectance = mix(reflectivity, 1.0, pow(1.0 - theta, 5.0));\n\n    // surfaceNormal 是以反射平面为 X-Y 平面的，\n    // 所以 eyeDirection 也得是以反射平面为 X-Y 平面。\n  vec3 scatter = max(0.0, dot(surfaceNormal, eyeDirection)) * waterColor.rgb;\n  vec3 albedo = mix(sunColor * diffuseLight * 0.3 + scatter, vec3(0.1) + reflectionSample * 0.9 + reflectionSample * specularLight, reflectance);\n  material.diffuse = albedo.rgb;\n  material.alpha = waterAlpha* globalAlpha;\n  material.specular = specularIntensity;\n\n  return material;\n}\n";
  var ReflectionWaterVS = "in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec3 normal;\nin vec2 st;\nin float batchId;\n\nout vec3 v_positionEC;\nout vec3 v_normalEC;\nout vec2 v_st;\n\nuniform mat4 reflectorProjectionMatrix;\nuniform mat4 reflectorViewMatrix;\nuniform mat4 reflectMatrix;\nout vec4 v_worldPosition;  // 世界坐标\nout vec4 v_uv;             // 纹理坐标\nout float cameraDistance; // 传递相机距离\n\nvoid main() {\n  vec4 pMars3D = czm_computePosition();\n\n  v_positionEC = (czm_modelViewRelativeToEye * pMars3D).xyz;      // position in eye coordinates\n  v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n  v_st = st;\n\n  mat4 modelView = reflectorViewMatrix * reflectMatrix * czm_model;\n  modelView[3][0] = 0.0;\n  modelView[3][1] = 0.0;\n  modelView[3][2] = 0.0;\n  v_uv = reflectorProjectionMatrix * modelView * pMars3D;\n  vec4 positionMC = vec4(position3DHigh + position3DLow, 1.0);\n  v_worldPosition = czm_model * positionMC;\n\n  cameraDistance = distance(v_worldPosition.xyz, czm_viewerPositionWC);\n\n  gl_Position = czm_modelViewProjectionRelativeToEye * pMars3D;\n}\n";
  class ReflectionWater extends PolygonPrimitive {
    get height() {
      return this._height;
    }
    set height(_0x4d0e5c) {
      this._height = _0x4d0e5c;
      const _0x253ec2 = Cesium__namespace.Cartographic.fromCartesian(this._originalreflectorWorldPosition);
      const _0x369bfa = Cesium__namespace.Cartesian3.fromRadians(_0x253ec2.longitude, _0x253ec2.latitude, this._height);
      const _0x12ee5b = Cesium__namespace.Cartesian3.subtract(_0x369bfa, this._originalreflectorWorldPosition, new Cesium__namespace.Cartesian3());
      const _0x4e0b1a = Cesium__namespace.Matrix4.fromTranslation(_0x12ee5b);
      this._primitive.modelMatrix = _0x4e0b1a;
      this._reflectorWorldPosition = _0x369bfa;
      this._normal = Cesium__namespace.Ellipsoid.WGS84.geodeticSurfaceNormal(this._reflectorWorldPosition);
      this._waterPlane = Cesium__namespace.Plane.fromPointNormal(this._reflectorWorldPosition, this._normal);
      this._reflectMatrix = new Cesium__namespace.Matrix4(this._waterPlane.normal.x * -2 * this._waterPlane.normal.x + 1, this._waterPlane.normal.x * -2 * this._waterPlane.normal.y, this._waterPlane.normal.x * -2 * this._waterPlane.normal.z, this._waterPlane.normal.x * -2 * this._waterPlane.distance, this._waterPlane.normal.y * -2 * this._waterPlane.normal.x, this._waterPlane.normal.y * -2 * this._waterPlane.normal.y + 1, this._waterPlane.normal.y * -2 * this._waterPlane.normal.z, this._waterPlane.normal.y * -2 * this._waterPlane.distance, this._waterPlane.normal.z * -2 * this._waterPlane.normal.x, this._waterPlane.normal.z * -2 * this._waterPlane.normal.y, this._waterPlane.normal.z * -2 * this._waterPlane.normal.z + 1, this._waterPlane.normal.z * -2 * this._waterPlane.distance, 0, 0, 0, 1);
    }
    _updateStyleHook(_0x50d026, _0x4300a1) {
      if (Cesium__namespace.defined(_0x4300a1.color)) {
        this._material.uniforms.waterColor = getCesiumColor(_0x50d026.color);
      }
      if (Cesium__namespace.defined(_0x4300a1.opacity)) {
        this._material.uniforms.waterAlpha = _0x50d026.opacity;
      }
      if (Cesium__namespace.defined(_0x4300a1.reflectivity)) {
        this._material.uniforms.reflectivity = _0x50d026.reflectivity;
      }
      if (Cesium__namespace.defined(_0x4300a1.lightDirection)) {
        this._material.uniforms.lightDirection = _0x50d026.lightDirection;
      }
      if (Cesium__namespace.defined(_0x4300a1.shiny)) {
        this._material.uniforms.shiny = _0x50d026.shiny;
      }
      if (Cesium__namespace.defined(_0x4300a1.specularIntensity)) {
        this._material.uniforms.specularIntensity = _0x50d026.specularIntensity;
      }
      if (Cesium__namespace.defined(_0x4300a1.distortion)) {
        this._material.uniforms.distortion = _0x50d026.distortion;
      }
      if (Cesium__namespace.defined(_0x4300a1.farColor)) {
        this._material.uniforms.farColor = getCesiumColor(_0x50d026.farColor);
      }
      if (Cesium__namespace.defined(_0x4300a1.farDistance)) {
        this._material.uniforms.farDistance = _0x50d026.farDistance;
      }
      if (Cesium__namespace.defined(_0x4300a1.height)) {
        this.height = _0x4300a1.height;
      }
    }
    _addedHook(_0xb0f054) {
      if (!this.getRealShow() || !this.positions || this.positions.length === 0) {
        return;
      }
      this._bindFun();
      this._createPrimitive(_0xb0f054);
      this.bindUpdateEvent();
      if (_0xb0f054.label) {
        this._addLabel(_0xb0f054.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _removedHook() {
      if (!this._noDestroy) {
        this.stopDraw();
        this.stopEditing();
      }
      this.unbindUpdateEvent();
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
        delete this._primitive;
      }
      this._destroyResource();
      this._unbindFun();
    }
    _createPrimitive(_0x2e66be) {
      const _0xe9299c = this._conversionStyle(_0x2e66be);
      _0xe9299c.vertexFormat = Cesium__namespace.EllipsoidSurfaceAppearance.POSITION_NORMAL_AND_ST;
      let _0x21293b = 0;
      if (Cesium__namespace.defined(this.style.height)) {
        _0x21293b = this.style.height;
      } else {
        _0x21293b = getMaxHeight(this.positions);
      }
      this._height = _0x21293b;
      this._reflectorWorldPosition = this.center;
      this._originalreflectorWorldPosition = this._reflectorWorldPosition.clone();
      this._normal = Cesium__namespace.Ellipsoid.WGS84.geodeticSurfaceNormal(this._reflectorWorldPosition);
      this._waterPlane = Cesium__namespace.Plane.fromPointNormal(this._reflectorWorldPosition, this._normal);
      this._reflectMatrix = new Cesium__namespace.Matrix4(this._waterPlane.normal.x * -2 * this._waterPlane.normal.x + 1, this._waterPlane.normal.x * -2 * this._waterPlane.normal.y, this._waterPlane.normal.x * -2 * this._waterPlane.normal.z, this._waterPlane.normal.x * -2 * this._waterPlane.distance, this._waterPlane.normal.y * -2 * this._waterPlane.normal.x, this._waterPlane.normal.y * -2 * this._waterPlane.normal.y + 1, this._waterPlane.normal.y * -2 * this._waterPlane.normal.z, this._waterPlane.normal.y * -2 * this._waterPlane.distance, this._waterPlane.normal.z * -2 * this._waterPlane.normal.x, this._waterPlane.normal.z * -2 * this._waterPlane.normal.y, this._waterPlane.normal.z * -2 * this._waterPlane.normal.z + 1, this._waterPlane.normal.z * -2 * this._waterPlane.distance, 0, 0, 0, 1);
      this._reflectorViewMatrix = Cesium__namespace.Matrix4.IDENTITY.clone();
      this._reflectorProjectionMatrix = Cesium__namespace.Matrix4.IDENTITY.clone();
      const _0x2284f = this._map.scene.context;
      this._createFramebuffer(_0x2284f, _0x2284f.drawingBufferWidth, _0x2284f.drawingBufferHeight, this._map.scene.highDynamicRange);
      const _0x127814 = new Cesium__namespace.Texture({
        context: _0x2284f,
        source: {
          width: 1,
          height: 1,
          arrayBufferView: new Uint8Array([255, 0, 0, 255])
        },
        sampler: new Cesium__namespace.Sampler({
          wrapS: Cesium__namespace.TextureWrap.REPEAT,
          wrapT: Cesium__namespace.TextureWrap.REPEAT,
          minificationFilter: Cesium__namespace.TextureMinificationFilter.LINEAR,
          magnificationFilter: Cesium__namespace.TextureMinificationFilter.LINEAR
        })
      });
      _0x127814.type = "sampler2D";
      const _0x57aea5 = {
        context: _0x2284f,
        framebuffer: this._colorFramebuffer
      };
      const _0x420bd4 = Cesium__namespace.Texture.fromFramebuffer(_0x57aea5);
      _0x420bd4.type = "sampler2D";
      const _0x13ece0 = new Cesium__namespace.Material({
        fabric: {
          type: "ReflectionWater",
          uniforms: {
            waterColor: getCesiumColor(_0x2e66be.color, Cesium__namespace.Color.fromCssColorString("#001e0f")),
            farColor: getCesiumColor(_0x2e66be.farColor, Cesium__namespace.Color.fromCssColorString("#91B3FF")),
            farDistance: _0x2e66be.farDistance ?? 10000,
            waterAlpha: _0x2e66be.opacity ?? 0.9,
            globalAlpha: 1,
            ripple: _0x2e66be.ripple ?? 50,
            reflectivity: _0x2e66be.reflectivity ?? 0.5,
            lightDirection: _0x2e66be.lightDirection ?? new Cesium__namespace.Cartesian3(0, 0, 1),
            shiny: _0x2e66be.shiny ?? 100,
            distortion: _0x2e66be.distortion ?? 3.7,
            normalTexture: _0x127814,
            reflexTexture: _0x420bd4,
            time: 0,
            specularIntensity: _0x2e66be.specularIntensity ?? 0.3,
            fixedFrameToEastNorthUpTransform: Cesium__namespace.Matrix4.toArray(this._getFixedFrameToEastNorthUpTransformFromWorldMatrix())
          },
          source: ReflectionWaterFS
        },
        translucent: false,
        minificationFilter: Cesium__namespace.TextureMinificationFilter.LINEAR,
        magnificationFilter: Cesium__namespace.TextureMagnificationFilter.LINEAR
      });
      const _0x6b398c = {
        material: _0x13ece0,
        context: _0x2284f,
        uniformName: "normalTexture",
        image: _0x2e66be.normalMap ?? "https://data.mars3d.cn/img/textures/waterNormals.jpg"
      };
      addTextureUniform(_0x6b398c);
      this._material = _0x13ece0;
      const _0x22b73b = {
        material: _0x13ece0,
        vertexShaderSource: ReflectionWaterVS,
        translucent: true
      };
      const _0x4423f2 = new Cesium__namespace.MaterialAppearance(_0x22b73b);
      _0x4423f2.uniforms = {};
      _0x4423f2.uniforms.reflectMatrix = Cesium__namespace.Matrix4.toArray(this._reflectMatrix);
      _0x4423f2.uniforms.reflectorProjectionMatrix = Cesium__namespace.Matrix4.toArray(this._reflectorProjectionMatrix);
      _0x4423f2.uniforms.reflectorViewMatrix = Cesium__namespace.Matrix4.toArray(this._reflectorViewMatrix);
      const _0x5d738f = {
        geometryInstances: this._createGeometryInstance(_0xe9299c),
        appearance: _0x4423f2,
        asynchronous: false,
        show: this.show
      };
      this._primitive = this.primitiveCollection.add(new Cesium__namespace.Primitive(_0x5d738f));
    }
    update(_0x4988f2) {
      if (!this.getRealShow(_0x4988f2.time)) {
        return;
      }
      const _0x5f3d9f = this._map.scene;
      const _0x27152a = _0x5f3d9f._defaultView.camera;
      const _0x3bab7e = _0x5f3d9f.shadowMap;
      const _0x4b2a62 = _0x5f3d9f.globe.show;
      const _0x50a022 = _0x5f3d9f.globe.showSkirts;
      const _0x10bfbd = _0x5f3d9f.logarithmicDepthBuffer;
      if (!this._updateVirtualCamera(_0x5f3d9f._defaultView.camera)) {
        this._primitive.show = false;
        return;
      }
      this._primitive.show = false;
      _0x5f3d9f._defaultView.camera = this._virtualCamera;
      _0x5f3d9f.shadowMap = undefined;
      _0x5f3d9f.globe.show = false;
      _0x5f3d9f.globe.showSkirts = false;
      _0x5f3d9f.logarithmicDepthBuffer = false;
      const _0x4879c3 = _0x5f3d9f.context;
      const _0x18ded0 = _0x4879c3.drawingBufferWidth;
      const _0x1ab809 = _0x4879c3.drawingBufferHeight;
      const _0x24acf7 = _0x5f3d9f.highDynamicRange;
      this._createFramebuffer(_0x4879c3, _0x18ded0, _0x1ab809, _0x24acf7);
      render(_0x5f3d9f, this._colorFramebuffer);
      const _0x3d74b5 = this._primitive.appearance;
      const _0x1aa19c = {
        context: _0x4879c3,
        framebuffer: this._colorFramebuffer
      };
      const _0x21fa93 = Cesium__namespace.Texture.fromFramebuffer(_0x1aa19c);
      _0x21fa93.type = "sampler2D";
      this._material.uniforms.reflexTexture = _0x21fa93;
      this._material.uniforms.time = (this.style.animationSpeed ?? 1) * (performance.now() / 1000);
      this._material.uniforms.fixedFrameToEastNorthUpTransform = Cesium__namespace.Matrix4.toArray(this._getFixedFrameToEastNorthUpTransformFromWorldMatrix());
      _0x3d74b5.uniforms.reflectMatrix = Cesium__namespace.Matrix4.toArray(this._reflectMatrix);
      _0x3d74b5.uniforms.reflectorProjectionMatrix = Cesium__namespace.Matrix4.toArray(this._reflectorProjectionMatrix);
      _0x3d74b5.uniforms.reflectorViewMatrix = Cesium__namespace.Matrix4.toArray(this._reflectorViewMatrix);
      this._primitive.show = true;
      _0x5f3d9f._defaultView.camera = _0x27152a;
      _0x5f3d9f.shadowMap = _0x3bab7e;
      _0x5f3d9f.globe.show = _0x4b2a62;
      _0x5f3d9f.globe.showSkirts = _0x50a022;
      _0x5f3d9f.logarithmicDepthBuffer = _0x10bfbd;
    }
    _updateVirtualCamera(_0x55ba8a) {
      const _0x5d0692 = new Cesium__namespace.Cartesian3(0, 0, -1);
      let _0x329eaf = new Cesium__namespace.Cartesian3();
      this._virtualCamera = Cesium__namespace.Camera.clone(_0x55ba8a, this._virtualCamera);
      const _0x812eb9 = _0x55ba8a.positionWC.clone();
      let _0x369bbb = Cesium__namespace.Cartesian3.subtract(this._reflectorWorldPosition, _0x812eb9, new Cesium__namespace.Cartesian3());
      if (Cesium__namespace.Cartesian3.dot(_0x369bbb, this._normal) > 0) {
        return false;
      }
      _0x369bbb = getReflectVector(_0x369bbb, this._normal);
      Cesium__namespace.Cartesian3.negate(_0x369bbb, _0x369bbb);
      Cesium__namespace.Cartesian3.add(_0x369bbb, this._reflectorWorldPosition, _0x369bbb);
      this._virtualCamera.position = _0x369bbb.clone();
      Cesium__namespace.Cartesian3.add(_0x55ba8a.directionWC, _0x812eb9, _0x5d0692);
      Cesium__namespace.Cartesian3.subtract(this._reflectorWorldPosition, _0x5d0692, _0x329eaf);
      _0x329eaf = getReflectVector(_0x329eaf, this._normal);
      Cesium__namespace.Cartesian3.negate(_0x329eaf, _0x329eaf);
      Cesium__namespace.Cartesian3.add(_0x329eaf, this._reflectorWorldPosition, _0x329eaf);
      this._virtualCamera.direction = Cesium__namespace.Cartesian3.subtract(_0x329eaf, this._virtualCamera.position, new Cesium__namespace.Cartesian3());
      Cesium__namespace.Cartesian3.normalize(this._virtualCamera.direction, this._virtualCamera.direction);
      Cesium__namespace.Cartesian3.add(_0x55ba8a.upWC, _0x812eb9, _0x5d0692);
      Cesium__namespace.Cartesian3.subtract(this._reflectorWorldPosition, _0x5d0692, _0x329eaf);
      _0x329eaf = getReflectVector(_0x329eaf, this._normal);
      Cesium__namespace.Cartesian3.negate(_0x329eaf, _0x329eaf);
      Cesium__namespace.Cartesian3.add(_0x329eaf, this._reflectorWorldPosition, _0x329eaf);
      this._virtualCamera.up = Cesium__namespace.Cartesian3.subtract(_0x329eaf, this._virtualCamera.position, new Cesium__namespace.Cartesian3());
      Cesium__namespace.Cartesian3.normalize(this._virtualCamera.up, this._virtualCamera.up);
      this._reflectorProjectionMatrix = this._virtualCamera.frustum.projectionMatrix;
      this._reflectorViewMatrix = this._virtualCamera.viewMatrix;
      const _0x352104 = Cesium__namespace.Plane.fromPointNormal(this._reflectorWorldPosition, this._normal);
      Cesium__namespace.Plane.transform(_0x352104, this._virtualCamera.viewMatrix, _0x352104);
      const _0xc59b29 = new Cesium__namespace.Cartesian4(_0x352104.normal.x, _0x352104.normal.y, _0x352104.normal.z, _0x352104.distance);
      const _0x3a0998 = Cesium__namespace.Matrix4.clone(this._virtualCamera.frustum.projectionMatrix);
      const _0x1e218d = new Cesium__namespace.Cartesian4((Math.sign(_0xc59b29.x) + _0x3a0998[8]) / _0x3a0998[0], (Math.sign(_0xc59b29.y) + _0x3a0998[9]) / _0x3a0998[5], -1, (1 + _0x3a0998[10]) / _0x3a0998[14]);
      Cesium__namespace.Cartesian4.multiplyByScalar(_0xc59b29, 2 / Cesium__namespace.Cartesian4.dot(_0xc59b29, _0x1e218d), _0xc59b29);
      const _0x2a084e = 0;
      _0x3a0998[2] = _0xc59b29.x;
      _0x3a0998[6] = _0xc59b29.y;
      _0x3a0998[10] = _0xc59b29.z + 1 - _0x2a084e;
      _0x3a0998[14] = _0xc59b29.w;
      this._virtualCamera.frustum.customProjectionMatrix = Cesium__namespace.Matrix4.clone(_0x3a0998);
      return true;
    }
    _getFixedFrameToEastNorthUpTransformFromWorldMatrix() {
      const _0x2d3bc6 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this._reflectorWorldPosition);
      const _0x5cd2e2 = Cesium__namespace.Matrix4.inverse(_0x2d3bc6, new Cesium__namespace.Matrix4());
      return _0x5cd2e2;
    }
    _createFramebuffer(_0x490db9, _0x1eb212, _0x4504ca, _0x37584a) {
      const _0x42f5e2 = this._colorTexture;
      if (Cesium__namespace.defined(_0x42f5e2) && _0x42f5e2.width === _0x1eb212 && _0x42f5e2.height === _0x4504ca && this._hdr === _0x37584a) {
        return;
      }
      this._destroyResource();
      this._hdr = _0x37584a;
      let _0x3d4557;
      if (_0x37584a) {
        _0x3d4557 = _0x490db9.halfFloatingPointTexture ? Cesium__namespace.PixelDatatype.HALF_FLOAT : Cesium__namespace.PixelDatatype.FLOAT;
      } else {
        _0x3d4557 = Cesium__namespace.PixelDatatype.UNSIGNED_BYTE;
      }
      this._colorTexture = new Cesium__namespace.Texture({
        context: _0x490db9,
        width: _0x1eb212,
        height: _0x4504ca,
        pixelFormat: Cesium__namespace.PixelFormat.RGBA,
        pixelDatatype: _0x3d4557,
        sampler: new Cesium__namespace.Sampler({
          wrapS: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          wrapT: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          minificationFilter: Cesium__namespace.TextureMinificationFilter.LINEAR,
          magnificationFilter: Cesium__namespace.TextureMagnificationFilter.LINEAR
        })
      });
      this._depthStencilTexture = new Cesium__namespace.Texture({
        context: _0x490db9,
        width: _0x1eb212,
        height: _0x4504ca,
        pixelFormat: Cesium__namespace.PixelFormat.DEPTH_STENCIL,
        pixelDatatype: Cesium__namespace.PixelDatatype.UNSIGNED_INT_24_8
      });
      this._colorFramebuffer = new Cesium__namespace.Framebuffer({
        context: _0x490db9,
        colorTextures: [this._colorTexture],
        depthStencilTexture: this._depthStencilTexture,
        destroyAttachments: false
      });
    }
    _destroyResource() {
      if (this._colorTexture) {
        this._colorTexture.destroy();
      }
      this._colorTexture = undefined;
      if (this._depthStencilTexture) {
        this._depthStencilTexture.destroy();
      }
      this._depthStencilTexture = undefined;
      if (this._colorFramebuffer) {
        this._colorFramebuffer.destroy();
      }
      this._colorFramebuffer = undefined;
    }
    _bindFun() {
      this._UniformState_updateFrustum_old = Cesium__namespace.UniformState.prototype.updateFrustum;
      Cesium__namespace.UniformState.prototype.updateFrustum = function (_0x4d2865) {
        Cesium__namespace.Matrix4.clone(_0x4d2865.customProjectionMatrix ?? _0x4d2865.projectionMatrix, this._projection);
        this._inverseProjectionDirty = true;
        this._viewProjectionDirty = true;
        this._inverseViewProjectionDirty = true;
        this._modelViewProjectionDirty = true;
        this._modelViewProjectionRelativeToEyeDirty = true;
        if (Cesium__namespace.defined(_0x4d2865.infiniteProjectionMatrix)) {
          Cesium__namespace.Matrix4.clone(_0x4d2865.infiniteProjectionMatrix, this._infiniteProjection);
          this._modelViewInfiniteProjectionDirty = true;
        }
        this._currentFrustum.x = _0x4d2865.near;
        this._currentFrustum.y = _0x4d2865.far;
        this._farDepthFromNearPlusOne = _0x4d2865.far - _0x4d2865.near + 1;
        this._log2FarDepthFromNearPlusOne = Cesium__namespace.Math.log2(this._farDepthFromNearPlusOne);
        this._oneOverLog2FarDepthFromNearPlusOne = 1 / this._log2FarDepthFromNearPlusOne;
        if (Cesium__namespace.defined(_0x4d2865._offCenterFrustum)) {
          _0x4d2865 = _0x4d2865._offCenterFrustum;
        }
        this._frustumPlanes.x = _0x4d2865.top;
        this._frustumPlanes.y = _0x4d2865.bottom;
        this._frustumPlanes.z = _0x4d2865.left;
        this._frustumPlanes.w = _0x4d2865.right;
      };
      const _0x357788 = Cesium__namespace.PerspectiveFrustum.prototype.clone;
      Cesium__namespace.PerspectiveFrustum.prototype.clone = function (_0x25e957) {
        _0x25e957 = _0x357788.bind(this)(_0x25e957);
        _0x25e957.customProjectionMatrix = this.customProjectionMatrix;
        return _0x25e957;
      };
      this._PerspectiveFrustum_clone_old = _0x357788;
    }
    _unbindFun() {
      Cesium__namespace.UniformState.prototype.updateFrustum = this._UniformState_updateFrustum_old;
      Cesium__namespace.PerspectiveFrustum.prototype.clone = this._PerspectiveFrustum_clone_old;
    }
    _getDrawEntityClass(_0x9a0111, _0x5dc783) {
      _0x9a0111.style.materialType = "Water";
      return create$5("polygon", _0x9a0111);
    }
  }
  register$5("reflectionWater", ReflectionWater);
  const scratchBackgroundColor = new Cesium__namespace.Color();
  const renderTilesetPassState = new Cesium__namespace.Cesium3DTilePassState({
    pass: Cesium__namespace.Cesium3DTilePass.RENDER
  });
  function render(_0x32f620, _0x5503b6) {
    const _0x4c7f6b = _0x32f620._frameState;
    const _0x254a79 = _0x32f620.context;
    const _0x4603d0 = _0x254a79.uniformState;
    const _0x1c1031 = _0x32f620._defaultView;
    _0x32f620._view = _0x1c1031;
    _0x32f620.updateFrameState();
    _0x4c7f6b.passes.render = true;
    _0x4c7f6b.passes.postProcess = _0x32f620.postProcessStages.hasSelected;
    _0x4c7f6b.tilesetPassState = renderTilesetPassState;
    let _0x69647 = _0x32f620.backgroundColor ?? Cesium__namespace.Color.BLACK;
    if (_0x32f620._hdr) {
      _0x69647 = Cesium__namespace.Color.clone(_0x69647, scratchBackgroundColor);
      _0x69647.red = Math.pow(_0x69647.red, _0x32f620.gamma);
      _0x69647.green = Math.pow(_0x69647.green, _0x32f620.gamma);
      _0x69647.blue = Math.pow(_0x69647.blue, _0x32f620.gamma);
    }
    _0x4c7f6b.backgroundColor = _0x69647;
    _0x32f620.fog.update(_0x4c7f6b);
    _0x4603d0.update(_0x4c7f6b);
    const _0x2d0451 = _0x32f620.shadowMap;
    if (Cesium__namespace.defined(_0x2d0451) && _0x2d0451.enabled) {
      if (!Cesium__namespace.defined(_0x32f620.light) || _0x32f620.light instanceof Cesium__namespace.SunLight) {
        Cesium__namespace.Cartesian3.negate(_0x4603d0.sunDirectionWC, _0x32f620._shadowMapCamera.direction);
      } else {
        Cesium__namespace.Cartesian3.clone(_0x32f620.light.direction, _0x32f620._shadowMapCamera.direction);
      }
      _0x4c7f6b.shadowMaps.push(_0x2d0451);
    }
    _0x32f620._computeCommandList.length = 0;
    _0x32f620._overlayCommandList.length = 0;
    const _0x202b11 = _0x1c1031.viewport;
    _0x202b11.x = 0;
    _0x202b11.y = 0;
    _0x202b11.width = _0x254a79.drawingBufferWidth;
    _0x202b11.height = _0x254a79.drawingBufferHeight;
    const _0x19e40f = _0x1c1031.passState;
    _0x19e40f.framebuffer = _0x5503b6;
    _0x19e40f.blendingEnabled = undefined;
    _0x19e40f.scissorTest = undefined;
    _0x19e40f.viewport = Cesium__namespace.BoundingRectangle.clone(_0x202b11, _0x19e40f.viewport);
    if (Cesium__namespace.defined(_0x32f620.globe)) {
      _0x32f620.globe.beginFrame(_0x4c7f6b);
    }
    _0x32f620.updateEnvironment();
    _0x32f620.updateAndExecuteCommands(_0x19e40f, _0x69647);
    _0x32f620.resolveFramebuffers(_0x19e40f);
    if (Cesium__namespace.defined(_0x32f620.globe)) {
      _0x32f620.globe.endFrame(_0x4c7f6b);
      if (!_0x32f620.globe.tilesLoaded) {
        _0x32f620._renderRequested = true;
      }
    }
    _0x254a79.endFrame();
  }
  class EditPolygonGrid extends EditPoly {
    get hasClosure() {
      return this._graphic.hasClosure ?? true;
    }
    get clampToGround() {
      return false;
    }
    bindDraggers() {
      const _0x3fd0b8 = this.getGridPositions(this.positions);
      for (let _0xa0ce40 = 0, _0x5743c7 = _0x3fd0b8.length; _0xa0ce40 < _0x5743c7; _0xa0ce40++) {
        const _0x1675c9 = this.updatePositionsHeightByAttr(_0x3fd0b8[_0xa0ce40]);
        const _0x343ff6 = this.createDragger({
          position: _0x1675c9,
          onDrag: (_0x58c6d6, _0x106cf7) => {
            _0x106cf7 = this.updatePositionsHeightByAttr(_0x106cf7);
            _0x58c6d6.position = _0x106cf7;
            _0x3fd0b8[_0x58c6d6.index] = _0x106cf7;
            this.updateGridPositions(_0x106cf7, _0x58c6d6.index);
          }
        });
        _0x343ff6.index = _0xa0ce40;
        this.draggers.push(_0x343ff6);
      }
    }
  }
  const DEF_STYLE$h = {
    opacity: 1,
    globalAlpha: 1
  };
  class VideoPrimitive extends BasePolyPrimitive {
    constructor(_0x39ee48 = {}) {
      _0x39ee48.style = {
        ...DEF_STYLE$h,
        ..._0x39ee48.style
      };
      super(_0x39ee48);
      this.minPointNum = 4;
      this.maxPointNum = 4;
      this._grids = _0x39ee48.grids ?? 4;
      this._useROI = false;
      this._reverseROI = false;
      this._roiUV = [[0, 1], [1, 1], [1, 0], [0, 0]];
    }
    get czmObject() {
      return this._primitive;
    }
    get rois() {
      return this.options.rois;
    }
    set rois(_0x318f04) {
      this.options.rois = _0x318f04;
      if (_0x318f04?.length > 0) {
        let _0x5ea6fd = [];
        _0x318f04.forEach(_0x1a0df2 => {
          _0x5ea6fd = _0x5ea6fd.concat([_0x1a0df2[0], _0x1a0df2[1], 0, 0]);
        });
        this._roiUV = _0x5ea6fd;
        this._useROI = true;
      } else {
        this._roiUV = [[0, 1], [1, 1], [1, 0], [0, 0]];
        this._useROI = false;
      }
      this.update();
    }
    get play() {
      return this.options.play ?? true;
    }
    set play(_0x5cdaea) {
      this.options.play = _0x5cdaea = Boolean(_0x5cdaea);
      if (!this._videoContainer) {
        return;
      }
      try {
        if (_0x5cdaea) {
          if (this._videoSynchronizer) {
            this._videoSynchronizer.element = this._videoContainer;
          }
          this._videoContainer.play();
        } else {
          if (this._videoSynchronizer) {
            this._videoSynchronizer.element = undefined;
          }
          this._videoContainer.pause();
        }
      } catch (_0x490024) {}
    }
    _addedHook(_0x354da5) {
      const _0x391533 = this.positions;
      if (!this.getRealShow() || !_0x391533 || _0x391533.length === 0) {
        return;
      }
      this.updateVideoContainer();
      const {
        positions: _0x4f4478,
        uv: _0x20802a,
        indice: _0x16c959
      } = getGridPositions(_0x391533, this._grids);
      this._positions_grid = this.options.positions_grid ?? _0x4f4478;
      this._uv = _0x20802a;
      this._indice = _0x16c959;
      if (this.options.rois) {
        this.rois = this.options.rois;
      }
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
        delete this._primitive;
      }
      this._primitive = this._createVideoPrimitive();
      this.bindPickId(this._primitive);
      this.primitiveCollection.add(this._primitive);
      if (_0x354da5.label) {
        this._addLabel(_0x354da5.label);
      }
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _removedHook() {
      var _0x159d26;
      if (!this._noDestroy) {
        this.stopDraw();
        this.stopEditing();
      }
      this.stopEditingGrid();
      this._map.off(EventType.clockTick, this._onClockTickHandler, this);
      if (this._videoSynchronizer) {
        this._videoSynchronizer.destroy();
        delete this._videoSynchronizer;
      }
      if (this._hasRemoveElement && (_0x159d26 = this._videoContainer) !== null && _0x159d26 !== undefined && _0x159d26.parentNode) {
        this._videoContainer.parentNode.removeChild(this._videoContainer);
        delete this._hasRemoveElement;
        delete this._videoContainer;
      }
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
        delete this._primitive;
      }
    }
    redraw(_0x2df011) {
      if (this.isAdded && this.show) {
        this._addedHook(_0x2df011 || this.style);
      }
      return this;
    }
    update() {
      if (this._primitive) {
        this.primitiveCollection.remove(this._primitive);
      }
      this._primitive = this._createVideoPrimitive();
      this.primitiveCollection.add(this._primitive);
    }
    _createVideoPrimitive() {
      const _0x288dd3 = this._positions_grid.length;
      const _0x250ca1 = new Float64Array(_0x288dd3 * 3);
      for (let _0x517cbf = 0; _0x517cbf < _0x288dd3; ++_0x517cbf) {
        _0x250ca1[_0x517cbf * 3] = this._positions_grid[_0x517cbf].x;
        _0x250ca1[_0x517cbf * 3 + 1] = this._positions_grid[_0x517cbf].y;
        _0x250ca1[_0x517cbf * 3 + 2] = this._positions_grid[_0x517cbf].z;
      }
      const _0x5f54f0 = new Cesium__namespace.Geometry({
        attributes: {
          position: new Cesium__namespace.GeometryAttribute({
            componentDatatype: Cesium__namespace.ComponentDatatype.DOUBLE,
            componentsPerAttribute: 3,
            values: _0x250ca1
          }),
          st: new Cesium__namespace.GeometryAttribute({
            componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
            componentsPerAttribute: 2,
            values: new Float32Array(this._uv)
          })
        },
        indices: new Uint16Array(this._indice),
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        boundingSphere: Cesium__namespace.BoundingSphere.fromVertices(_0x250ca1)
      });
      const _0x2a0276 = new Cesium__namespace.GeometryInstance({
        id: this.id,
        geometry: _0x5f54f0,
        attributes: {
          show: new Cesium__namespace.ShowGeometryInstanceAttribute(this.show),
          distanceDisplayCondition: new Cesium__namespace.DistanceDisplayConditionGeometryInstanceAttribute(Number(this.style.distanceDisplayCondition_near ?? 0), Number(this.style.distanceDisplayCondition_far ?? Number.MAX_VALUE))
        }
      });
      const _0x3b42a2 = new Float32Array(this._roiUV);
      const _0x3168c8 = _0x3b42a2.length / 4;
      const _0x36bb5b = {
        width: _0x3168c8,
        height: 1,
        arrayBufferView: _0x3b42a2
      };
      const _0x30fbaf = new Cesium__namespace.Texture({
        context: this._map.scene.context,
        source: _0x36bb5b,
        pixelDatatype: Cesium__namespace.PixelDatatype.FLOAT
      });
      const _0x47e18f = new Cesium__namespace.Material({
        translucent: true,
        fabric: {
          uniforms: {
            image: Cesium__namespace.Material.DefaultImageId,
            opacity: this.style.opacity ?? 1,
            globalAlpha: this.style.globalAlpha ?? 1,
            hasROI: Boolean(this._useROI),
            reverseROI: this._reverseROI,
            roiTexture: _0x30fbaf,
            hasMask: Boolean(this.style.maskImage),
            maskImage: this.style.maskImage ?? Cesium__namespace.Material.DefaultImageId
          },
          source: "\n      const int WIDTH = " + _0x3168c8 + ";\n      uniform sampler2D image;\n      uniform float opacity;\n      uniform float globalAlpha;\n\n      uniform bool hasROI;\n      uniform bool reverseROI;\n      uniform sampler2D roiTexture;\n\n      uniform bool hasMask;\n      uniform sampler2D maskImage;\n\n      // 获取指定的由UV坐标定义的poi边界点\n      vec2 getROIuv(sampler2D roi, int index){\n        vec2 poiuv = texture(roi, vec2((float(index) + 0.5) / float(WIDTH), 0)).xy;\n        return poiuv;\n      }\n\n      // 判断UV坐标在不在范围内\n      bool isInside(vec2 uv, sampler2D roi){\n          bool ifInside = false;\n          float u = uv.x;\n          float v = uv.y;\n          vec2 sP = getROIuv(roi, 0);\n          for (int i = 0; i < 100000; i++){\n              if(i >= WIDTH) break;\n              int nextIndex = i + 1;\n              nextIndex = nextIndex == WIDTH ? 0 : nextIndex;\n              vec2 eP = getROIuv(roi, nextIndex);\n              if((sP.x == u && sP.y == v) || (eP.x == u && eP.y == v)){\n                  return true;\n              } else if((sP.y < v && eP.y >= v) || (sP.y >= v && eP.y < v)) {\n                  float x = sP.x + (v - sP.y) * (eP.x - sP.x) / (eP.y - sP.y);\n                  if(x == u){\n                    return true;\n                  } else if(x > u) {\n                    ifInside = !ifInside;\n                  }\n              }\n            sP = eP;\n          }\n          return ifInside;\n      }\n\n      czm_material getMaterial(czm_materialInput materialInput){\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 uv = materialInput.st;\n        vec4 imageColor = texture(image, uv);\n\n        if(hasMask) {\n          vec4 maskColor = texture(maskImage, uv);\n          imageColor *= maskColor;\n        }\n\n        material.diffuse = imageColor.rgb;\n        material.alpha = imageColor.a * opacity * globalAlpha;\n        return material;\n      }\n\n      czm_material czm_getMaterial(czm_materialInput materialInput) {\n        if(hasROI){\n          vec2 uv = materialInput.st;\n          bool inside = isInside(uv, roiTexture);\n          if(inside != reverseROI) {\n            return getMaterial(materialInput);\n          } else {\n            discard;\n          }\n        } else {\n          return getMaterial(materialInput);\n        }\n      }\n      "
        }
      });
      _0x47e18f.uniforms.image = this._videoContainer;
      const _0x553bc4 = {
        flat: true,
        ...this.style
      };
      _0x553bc4.material = _0x47e18f;
      const _0x12897f = {
        geometryInstances: _0x2a0276,
        asynchronous: false,
        appearance: new Cesium__namespace.MaterialAppearance(_0x553bc4)
      };
      const _0x16555b = new Cesium__namespace.Primitive(_0x12897f);
      this.bindPickId(_0x16555b);
      return _0x16555b;
    }
    updateVideoContainer() {
      var _0x3f8223;
      if (this._hasRemoveElement && (_0x3f8223 = this._videoContainer) !== null && _0x3f8223 !== undefined && _0x3f8223.parentNode) {
        this._videoContainer.parentNode.removeChild(this._videoContainer);
        delete this._hasRemoveElement;
        delete this._videoContainer;
      }
      if (this.style.url) {
        this._videoContainer = createVideo(this.style.url, this.style.fileType, "", document.body);
        this._videoContainer.style.display = "none";
        this._hasRemoveElement = true;
      } else if (this.style.container) {
        this._videoContainer = this.style.container;
      }
      if (this._videoContainer) {
        if (this.options.synchronizer) {
          this._videoSynchronizer = new Cesium__namespace.VideoSynchronizer({
            clock: this._map.clock,
            element: this._videoContainer
          });
        }
        this._map.on(EventType.clockTick, this._onClockTickHandler, this);
      }
    }
    _onClockTickHandler() {
      try {
        if (this.play && this._videoContainer.paused) {
          this._videoContainer.play();
        }
      } catch (_0x32e2e3) {}
    }
    _getDrawEntityClass(_0x1f2a25, _0xa2dfa9) {
      _0x1f2a25.minPointNum = 4;
      _0x1f2a25.maxPointNum = 4;
      _0x1f2a25.style.materialType = "Image";
      const _0xd15609 = {
        url: this._videoContainer
      };
      _0x1f2a25.style.materialOptions = _0xd15609;
      const _0x19485f = create$5("polygon", _0x1f2a25);
      return _0x19485f;
    }
    _startEditingHook(_0x5b67de) {
      if (this._hierarchy) {
        _0x5b67de._hierarchy = this._hierarchy;
      }
    }
    get isEditingGrid() {
      return this._enabledEditGrid;
    }
    startEditingGrid() {
      if (this._enabledEditGrid) {
        return this;
      }
      this._enabledEditGrid = true;
      if (!this._map) {
        throw new Error("编辑时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this.stopEditing();
      this._map.mouseEvent.noPickEntity = this._entity;
      this._map.mouseEvent.enabledMoveTarget = false;
      if (!this.editingGrid) {
        this.editingGrid = new EditPolygonGrid(this);
        this.editingGrid.getGridPositions = _0x2d692f => {
          return this._positions_grid;
        };
        this.editingGrid.updateGridPositions = (_0x19d2a6, _0x14e4f4) => {
          this._positions_grid[_0x14e4f4] = _0x19d2a6;
          this.update();
        };
      }
      if (this.editingGrid.activate) {
        this.editingGrid.activate();
      }
    }
    stopEditingGrid() {
      var _0x3a8123;
      if (!this._enabledEditGrid || !this.isAdded) {
        return this;
      }
      if ((_0x3a8123 = this.editingGrid) !== null && _0x3a8123 !== undefined && _0x3a8123.disable) {
        this.editingGrid.disable();
      }
      if (this._map) {
        this._map.closeSmallTooltip();
        this._map.mouseEvent.noPickEntity = null;
        this._map.mouseEvent.enabledMoveTarget = true;
      }
      this._enabledEditGrid = false;
    }
    _toJSON_Ex(_0xa0013) {
      _0xa0013.positions_grid = [];
      for (let _0x20282b = 0, _0x487e9b = this._positions_grid.length; _0x20282b < _0x487e9b; ++_0x20282b) {
        const _0x532aa7 = this._positions_grid[_0x20282b];
        const _0x485898 = {
          x: _0x532aa7.x,
          y: _0x532aa7.y,
          z: _0x532aa7.z
        };
        _0xa0013.positions_grid.push(_0x485898);
      }
    }
  }
  register$5("videoP", VideoPrimitive);
  function getGridPositions(_0x3fa23d, _0x34133c) {
    const _0x59eb42 = [];
    const _0x404f36 = [];
    const _0x2e0b05 = [];
    const _0x55b12d = _0x3fa23d[0];
    const _0x1057a0 = _0x3fa23d[1];
    const _0x21d77c = _0x3fa23d[2];
    const _0x447fc8 = _0x3fa23d[3];
    const _0xe43662 = Cesium__namespace.Cartesian3.distance(_0x55b12d, _0x447fc8);
    const _0x5a6d61 = Cesium__namespace.Cartesian3.distance(_0x1057a0, _0x21d77c);
    const _0x39ee70 = _0xe43662 / _0x34133c;
    const _0x439db6 = _0x5a6d61 / _0x34133c;
    const _0x3dc6e7 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x447fc8, _0x55b12d, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
    const _0x3451a8 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x21d77c, _0x1057a0, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
    const _0x4b9844 = 1 / _0x34133c;
    for (let _0x2463a2 = 0; _0x2463a2 <= _0x34133c; _0x2463a2++) {
      for (let _0x180e89 = 0; _0x180e89 <= _0x34133c; _0x180e89++) {
        const _0x51bb49 = Cesium__namespace.Cartesian3.add(Cesium__namespace.Cartesian3.multiplyByScalar(_0x3dc6e7, _0x2463a2 * _0x39ee70, new Cesium__namespace.Cartesian3()), _0x55b12d, new Cesium__namespace.Cartesian3());
        const _0x5c8283 = Cesium__namespace.Cartesian3.add(Cesium__namespace.Cartesian3.multiplyByScalar(_0x3451a8, _0x2463a2 * _0x439db6, new Cesium__namespace.Cartesian3()), _0x1057a0, new Cesium__namespace.Cartesian3());
        const _0xdea057 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5c8283, _0x51bb49, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
        const _0xd17d2f = Cesium__namespace.Cartesian3.distance(_0x5c8283, _0x51bb49);
        const _0x347ad1 = _0xd17d2f / _0x34133c;
        const _0x18d5a2 = Cesium__namespace.Cartesian3.add(Cesium__namespace.Cartesian3.multiplyByScalar(_0xdea057, _0x180e89 * _0x347ad1, new Cesium__namespace.Cartesian3()), _0x51bb49, new Cesium__namespace.Cartesian3());
        _0x59eb42.push(_0x180e89 * _0x4b9844);
        _0x59eb42.push(1 - _0x2463a2 * _0x4b9844);
        _0x404f36.push(_0x18d5a2);
      }
    }
    for (let _0x5e68e0 = 0; _0x5e68e0 < _0x34133c; _0x5e68e0++) {
      for (let _0x30cc3f = 0; _0x30cc3f < _0x34133c; _0x30cc3f++) {
        const _0x5ea303 = _0x5e68e0 * (_0x34133c + 1) + _0x30cc3f;
        const _0x3a0504 = (_0x5e68e0 + 1) * (_0x34133c + 1) + _0x30cc3f;
        _0x2e0b05.push(_0x5ea303);
        _0x2e0b05.push(_0x5ea303 + 1);
        _0x2e0b05.push(_0x3a0504 + 1);
        _0x2e0b05.push(_0x3a0504 + 1);
        _0x2e0b05.push(_0x3a0504);
        _0x2e0b05.push(_0x5ea303);
      }
    }
    const _0x348d4d = {
      uv: _0x59eb42,
      indice: _0x2e0b05,
      positions: _0x404f36
    };
    return _0x348d4d;
  }
  class BaseCombine extends BasePrimitive {
    get instances() {
      return this.options.instances || [];
    }
    set instances(_0x1c8acf) {
      this.options.instances = _0x1c8acf;
      this._rectangle = null;
      this.redraw();
    }
    get hasCluster() {
      return false;
    }
    _addedHook(_0x17b1e8) {
      if (!this.show) {
        return;
      }
      super._addedHook(_0x17b1e8);
      this._layer.on(EventType.show, this._layer_showHandler, this);
    }
    _removedHook() {
      this._layer.off(EventType.show, this._layer_showHandler, this);
      super._removedHook();
    }
    _removeLabel() {
      if (this._labelList) {
        for (let _0x516c03 = this._labelList.length - 1; _0x516c03 >= 0; _0x516c03--) {
          const _0x48666c = this._labelList[_0x516c03];
          this._layer.labelCollection.remove(_0x48666c);
        }
        delete this._labelList;
      }
    }
    _layer_showHandler() {
      this.redraw();
    }
    getPickedObject(_0x8c8e5a) {
      const _0x21b472 = _0x8c8e5a.split("#");
      if (_0x21b472.length !== 2) {
        return null;
      }
      const _0x217c9d = Number(_0x21b472[1]);
      return this.instances[_0x217c9d];
    }
    createPickId(_0x3017bc) {
      return this.id + "#" + _0x3017bc;
    }
    _createGeometryInstance(_0x52a495, _0x1dbfbe) {
      if (this.options.geometryInstances) {
        return this.options.geometryInstances;
      }
      const _0x2a9e6a = [];
      const _0x13c187 = this.instances;
      for (let _0x2de44e = 0; _0x2de44e < _0x13c187.length; _0x2de44e++) {
        const _0x171188 = _0x13c187[_0x2de44e];
        _0x171188.id = this.createPickId(_0x2de44e);
        _0x2a9e6a.push(_0x171188);
      }
      return _0x2a9e6a;
    }
    getRectangle(_0x3af00f) {
      if (!this._rectangle) {
        this.eachInstances((_0x32a736, _0x18482b) => {
          if (_0x32a736.position) {
            _0x32a736.position = LngLatPoint.parse(_0x32a736.position).toCartesian();
            this._unionRectangle([_0x32a736.position]);
          }
          if (_0x32a736.positions) {
            _0x32a736.positions = LngLatArray.toCartesians(_0x32a736.positions);
            this._unionRectangle(_0x32a736.positions);
          }
        });
      }
      if (_0x3af00f !== null && _0x3af00f !== undefined && _0x3af00f.isFormat) {
        return formatRectangle(this._rectangle);
      } else {
        return this._rectangle;
      }
    }
    _unionRectangle(_0x314153) {
      const _0x3810dd = Cesium__namespace.Rectangle.fromCartesianArray(_0x314153);
      if (!Cesium__namespace.defined(_0x3810dd)) {
        return;
      }
      if (Cesium__namespace.defined(this._rectangle)) {
        this._rectangle = Cesium__namespace.Rectangle.union(_0x3810dd, this._rectangle);
      } else {
        this._rectangle = _0x3810dd;
      }
    }
    eachInstances(_0x5e31f5, _0xf6691b) {
      for (let _0x28bd5f = 0; _0x28bd5f < this.instances.length; _0x28bd5f++) {
        const _0x546d23 = this.instances[_0x28bd5f] || {};
        _0x5e31f5.call(_0xf6691b || this, _0x546d23, _0x28bd5f);
      }
      return this;
    }
    toJSON() {
      const _0x132657 = {
        ...getAttrVal(this.options, {
          onlySimpleType: true
        }),
        type: this.type
      };
      if (this.options.style) {
        _0x132657.style = this._style2JsonBase(this.options.style, false);
      }
      if (this._availability) {
        _0x132657.availability = this.availability;
      }
      const _0x1542ad = [];
      for (let _0x5092f8 = 0; _0x5092f8 < this.instances.length; _0x5092f8++) {
        const _0x2688ac = this.instances[_0x5092f8];
        const _0x4137da = {
          attr: _0x2688ac.attr,
          style: this._style2JsonBase(_0x2688ac.style, false)
        };
        if (_0x2688ac.position) {
          _0x4137da.position = LngLatPoint.toArray(_0x2688ac.position);
        } else if (_0x2688ac.positions) {
          _0x4137da.positions = LngLatArray.toArray(_0x2688ac.positions);
        }
        _0x1542ad.push(_0x4137da);
      }
      _0x132657.instances = _0x1542ad;
      if (this._toJSON_Ex) {
        this._toJSON_Ex(_0x132657);
      }
      for (const _0x4770b6 in _0x132657) {
        const _0xfbc32f = _0x132657[_0x4770b6];
        if (!Cesium__namespace.defined(_0xfbc32f) || isObject(_0xfbc32f) && Object.keys(_0xfbc32f).length === 0) {
          delete _0x132657[_0x4770b6];
        }
      }
      return _0x132657;
    }
    toGeoJSON(_0xd6d13a) {
      const _0x127363 = [];
      for (let _0x171bfa = 0; _0x171bfa < this.instances.length; _0x171bfa++) {
        const _0x57a885 = this.instances[_0x171bfa];
        let _0x12a641;
        if (_0xd6d13a !== null && _0xd6d13a !== undefined && _0xd6d13a.standard) {
          _0x12a641 = this.attr;
        } else {
          _0x12a641 = {
            ..._0x57a885.attr,
            type: this.type,
            style: this._style2JsonBase(_0x57a885.style, true)
          };
          if (this._availability) {
            _0x12a641.availability = this.availability;
          }
        }
        const _0x513128 = {
          type: "Feature",
          properties: _0x12a641
        };
        const _0x594b46 = _0x513128;
        if (this._getGeoJsonGeometry) {
          _0x594b46.geometry = this._getGeoJsonGeometry(_0x57a885, _0xd6d13a);
        } else if (_0x57a885.position) {
          _0x594b46.geometry = {
            type: "Point",
            coordinates: LngLatPoint.toArray(_0x57a885.position, _0xd6d13a?.noAlt)
          };
        } else if (_0x57a885.positions) {
          _0x594b46.geometry = {
            type: "LineString",
            coordinates: LngLatArray.toArray(_0x57a885.positions, _0xd6d13a?.noAlt)
          };
        }
        _0x127363.push(_0x594b46);
      }
      return _0x127363;
    }
    flyTo(_0x377cac) {
      const _0x173e1a = this.getRectangle();
      if (this._map && _0x173e1a) {
        return this._map.flyToExtent(_0x173e1a, _0x377cac);
      } else {
        return Promise.resolve(false);
      }
    }
    setColorStyle(_0x34fdf7, _0xe80d15) {
      if (Cesium__namespace.defined(_0xe80d15)) {
        this._setColorStyleItem(_0xe80d15, _0x34fdf7);
      } else {
        this.eachInstances((_0x3464d9, _0x858def) => {
          this._setColorStyleItem(_0x858def, _0x34fdf7);
        });
      }
    }
    _setColorStyleItem(_0x141832, _0x37c2f3) {
      const _0xd17e29 = this.instances[_0x141832];
      if (_0xd17e29.style) {
        _0xd17e29.style = {
          ..._0xd17e29.style,
          ..._0x37c2f3
        };
      } else {
        _0xd17e29.style = _0x37c2f3;
      }
      const _0x2a630a = this.getGeometryInstanceAttributes(this.createPickId(_0x141832));
      if (_0x2a630a) {
        const _0x5bae15 = {
          ...this.style,
          ..._0xd17e29.style
        };
        const _0x402b18 = getColorByStyle(_0x5bae15);
        _0x2a630a.color = Cesium__namespace.ColorGeometryInstanceAttribute.toValue(_0x402b18);
      }
    }
  }
  BaseCombine.isCombine = true;
  BaseCombine.prototype.isCombine = true;
  class BasePolyCombine extends BaseCombine {
    get style() {
      if (this.options.instances?.length > 0 && this.options.instances[0].style) {
        const _0x5ec718 = {
          ...this.options.style,
          ...this.options.instances[0].style
        };
        return _0x5ec718;
      }
      return this.options?.style;
    }
    set style(_0x2680ff) {
      this.setStyle(_0x2680ff);
    }
    get label() {
      return this._labelList;
    }
    _createGeometryInstance(_0x9c580c, _0x314ae0) {
      var _0x169088;
      this._rectangle = null;
      this.translucent = false;
      const _0x5dde5b = this.instances;
      const _0x11ecce = [];
      const _0x1cffc4 = [];
      if (_0x9c580c.label || (_0x169088 = _0x5dde5b[0]) !== null && _0x169088 !== undefined && _0x169088.label) {
        this._removeLabel();
      }
      for (let _0x30313b = 0; _0x30313b < _0x5dde5b.length; _0x30313b++) {
        var _0x1d2959;
        const _0xa1dfd7 = _0x5dde5b[_0x30313b];
        const _0x4e440a = this.createPickId(_0x30313b);
        if (_0xa1dfd7 instanceof Cesium__namespace.GeometryInstance) {
          _0xa1dfd7.id = _0x4e440a;
          _0x11ecce.push(_0xa1dfd7);
        } else {
          const _0x31c04e = {
            ...this.options.style,
            ..._0xa1dfd7.style
          };
          const _0x18ddf2 = _0x31c04e;
          let _0x45e477;
          if (_0x9c580c._isColorMaterial) {
            _0x45e477 = this._conversionStyle(_0x18ddf2);
            let _0x3804bb = this._getColorByColorMaterial(_0x45e477);
            if (_0x314ae0 && _0x45e477.outlineColor) {
              _0x3804bb = _0x45e477.outlineColor;
            }
            _0x45e477.color = _0x3804bb;
            if (_0x3804bb.alpha !== 1) {
              this.translucent = true;
            }
          } else {
            _0x18ddf2.material = _0x9c580c.material;
            delete _0x18ddf2.materialType;
            delete _0x18ddf2.materialOptions;
            _0x45e477 = this._conversionStyle(_0x18ddf2);
          }
          _0x45e477.vertexFormat = _0x45e477.vertexFormat || _0x9c580c.vertexFormat;
          _0x45e477._isColorMaterial = _0x9c580c._isColorMaterial;
          const _0x3f41cb = this._createGeometryInstanceItem(_0x45e477, _0x314ae0, _0xa1dfd7);
          if (_0x3f41cb) {
            _0x3f41cb.id = _0x4e440a;
            _0x11ecce.push(_0x3f41cb);
          }
        }
        if (_0x9c580c.label || (_0x1d2959 = _0xa1dfd7.style) !== null && _0x1d2959 !== undefined && _0x1d2959.label) {
          const _0x4fa6f1 = {
            ...this.options.style?.label,
            ..._0xa1dfd7.style?.label
          };
          const _0x43ada2 = _0x4fa6f1;
          const _0x554f06 = this._addLabel(_0x43ada2, _0xa1dfd7);
          if (_0x554f06) {
            _0x554f06.id = _0x4e440a;
            _0x1cffc4.push(_0x554f06);
          }
        }
      }
      this._labelList = _0x1cffc4;
      return _0x11ecce;
    }
    _createGeometryInstanceItem(_0x106928, _0x24f00c, _0x89fdaa) {}
    _getPolylineOutlinePositions(_0x1b6401) {
      if (_0x1b6401.positions) {
        return [LngLatArray.toCartesians(_0x1b6401.positions)];
      } else {
        return null;
      }
    }
    _createPolylineOutline(_0x54fb9f) {
      const _0x4253dc = this.instances;
      const _0x1c7cda = [];
      let _0x18f3a1;
      for (let _0x107e69 = 0; _0x107e69 < _0x4253dc.length; _0x107e69++) {
        const _0x1723c4 = _0x4253dc[_0x107e69];
        let _0x4c8024;
        if (_0x1723c4.style && (Cesium__namespace.defined(_0x1723c4.style.outline) || Cesium__namespace.defined(_0x1723c4.style.outlineStyle) || Cesium__namespace.defined(_0x1723c4.style.outlineColor) || Cesium__namespace.defined(_0x1723c4.style.outlineOpacity) || Cesium__namespace.defined(_0x1723c4.style.outlineWidth))) {
          const _0x58d0ce = this._getOutlineStyle(_0x1723c4.style);
          if (!_0x58d0ce.show) {
            continue;
          }
          const _0x454a10 = {
            ..._0x54fb9f,
            ..._0x58d0ce
          };
          _0x4c8024 = _0x454a10;
        } else {
          _0x4c8024 = _0x54fb9f;
        }
        _0x18f3a1 = PolylineStyleConver.toCesiumVal(_0x4c8024);
        if (!_0x18f3a1.material || _0x18f3a1.material.type === "Color") {
          _0x18f3a1.color = this._getColorByColorMaterial(_0x18f3a1);
          _0x18f3a1.vertexFormat = Cesium__namespace.PolylineColorAppearance.VERTEX_FORMAT;
        }
        const _0x29720d = _0x4c8024.clampToGround ? Cesium__namespace.GroundPolylineGeometry : Cesium__namespace.PolylineGeometry;
        const _0x32b6e5 = this._getPolylineOutlinePositions(_0x1723c4);
        if (!_0x32b6e5) {
          return;
        }
        for (let _0x5bea09 = 0, _0x5b7f83 = _0x32b6e5.length; _0x5bea09 < _0x5b7f83; _0x5bea09++) {
          let _0x3594a5 = _0x32b6e5[_0x5bea09];
          if (Cesium__namespace.defined(_0x1723c4.style.height)) {
            _0x3594a5 = setPositionsHeight(_0x3594a5, _0x1723c4.style.height);
          }
          if (_0x3594a5.length > 0) {
            _0x3594a5 = this._getClosurePositions(_0x3594a5);
          }
          const _0x2e26f6 = {
            ..._0x18f3a1
          };
          _0x2e26f6.positions = _0x3594a5;
          const _0x506e64 = new Cesium__namespace.GeometryInstance({
            id: this.createPickId(_0x107e69),
            geometry: new _0x29720d(_0x2e26f6),
            attributes: this._createGeometryInstanceAttributes(_0x18f3a1)
          });
          _0x1c7cda.push(_0x506e64);
        }
      }
      const _0x127f79 = {
        ...this.options
      };
      _0x127f79.geometryInstances = _0x1c7cda;
      _0x127f79.show = this.show;
      const _0x2c54fe = _0x127f79;
      delete _0x2c54fe.style;
      delete _0x2c54fe.attr;
      if (this._isColorMaterial(_0x54fb9f, _0x18f3a1)) {
        const _0x2a35ea = {
          ..._0x18f3a1
        };
        _0x2c54fe.appearance = new Cesium__namespace.PolylineColorAppearance(_0x2a35ea);
      } else {
        const _0x176b3d = {
          ..._0x18f3a1
        };
        _0x2c54fe.appearance = new Cesium__namespace.PolylineMaterialAppearance(_0x176b3d);
      }
      let _0x544b20;
      if (_0x18f3a1.clampToGround) {
        _0x544b20 = this.primitiveCollection.add(new Cesium__namespace.GroundPolylinePrimitive(_0x2c54fe));
      } else {
        _0x544b20 = this.primitiveCollection.add(new Cesium__namespace.Primitive(_0x2c54fe));
      }
      this.bindPickId(_0x544b20);
      return _0x544b20;
    }
    _addLabel(_0xbaf764, _0x38b15e) {
      if (!_0x38b15e) {
        return;
      }
      if (!_0xbaf764 || !_0xbaf764.text || _0xbaf764.show === false) {
        return;
      }
      let _0x13a459 = this._getCenter(_0x38b15e);
      if (_0xbaf764.position) {
        if (isString(_0xbaf764.position)) {
          const _0x5a8a47 = template(_0xbaf764.position, _0x38b15e.attr, true);
          if (_0x5a8a47) {
            _0x13a459 = LngLatPoint.parse(_0x5a8a47).toCartesian();
          }
        }
      }
      if (!_0x13a459) {
        return;
      }
      if (Cesium__namespace.defined(_0xbaf764.height) || Cesium__namespace.defined(this.style.height)) {
        const _0x4f5872 = _0xbaf764.height ?? this.style.height;
        _0x13a459 = setPositionsHeight(_0x13a459, _0x4f5872);
      }
      if (Cesium__namespace.defined(this.style.diffHeight)) {
        _0x13a459 = addPositionsHeight(_0x13a459, this.style.diffHeight);
      }
      _0x13a459 = this._updatePositionsForHeight(_0x13a459, _0xbaf764);
      const _0x40b35a = LabelStyleConver.toCesiumVal(_0xbaf764, {}, _0x38b15e.attr);
      _0x40b35a.position = LngLatPoint.toCartesian(_0x13a459);
      _0x40b35a.show = this.show;
      const _0x1f1117 = this._layer.labelCollection.add(_0x40b35a);
      this.bindPickId(_0x1f1117);
      this._bindLabelAvailability(_0x1f1117);
      return _0x1f1117;
    }
    _highlight_mouseEventHandler(_0x39f9a3) {
      if (!this._map || this._map.isDrawing) {
        return;
      }
      this._map.closeHighlight();
      const _0x5081ed = _0x39f9a3.pickedObject;
      if (_0x5081ed) {
        this._last_pickedObject = _0x5081ed;
        this._map.openHighlight(this, this._highlightOptions, _0x39f9a3);
      }
    }
    openHighlight(_0x3499b0, _0x51b5cf = true, _0x259c97) {
      if (_0x51b5cf) {
        this._map.closeHighlight();
        this._map.last_highlighGraphic = this;
      }
      if (Cesium__namespace.defined(_0x259c97)) {
        if (isNumber(_0x259c97)) {
          this._last_pickedObject = {
            id: this.createPickId(_0x259c97),
            data: this.options.instances[_0x259c97] || {}
          };
        } else {
          this._last_pickedObject = _0x259c97;
        }
      }
      const _0x2a9628 = _0x3499b0 || this._highlightOptions;
      if (this._last_pickedObject && _0x2a9628) {
        const _0x536b1e = this._last_pickedObject.id;
        const _0x1510d0 = {
          ...this._last_pickedObject.data?.style,
          ..._0x2a9628
        };
        const _0x13fa36 = PolygonStyleConver.toCesiumVal(_0x1510d0);
        if (this._primitive_outline) {
          const _0xa4e85 = this.getGeometryInstanceAttributes(_0x536b1e, this._primitive_outline);
          if (_0xa4e85) {
            const _0x3814a2 = this._getOutlineStyle(_0x13fa36);
            const _0x20809b = PolylineStyleConver.toCesiumVal(_0x3814a2);
            _0xa4e85.color = Cesium__namespace.ColorGeometryInstanceAttribute.toValue(_0x20809b.color);
          }
        }
        const _0x3bb6c4 = this._getColorByColorMaterial(_0x13fa36, false);
        if (_0x3bb6c4) {
          const _0x33fa2e = this.getGeometryInstanceAttributes(_0x536b1e);
          if (_0x33fa2e) {
            _0x33fa2e.color = Cesium__namespace.ColorGeometryInstanceAttribute.toValue(_0x3bb6c4);
          }
          this.fire(EventType.highlightOpen, {}, true);
        }
      }
    }
    closeHighlight(_0x3ebb52) {
      if (Cesium__namespace.defined(_0x3ebb52)) {
        if (isNumber(_0x3ebb52)) {
          this._last_pickedObject = {
            id: this.createPickId(_0x3ebb52),
            data: this.options.instances[_0x3ebb52] || {}
          };
        } else {
          this._last_pickedObject = _0x3ebb52;
        }
      }
      if (this._last_pickedObject && this._primitive) {
        const _0xea583b = PolygonStyleConver.toCesiumVal(this._last_pickedObject.data?.style || {});
        const _0x3c8591 = this._last_pickedObject.id;
        if (this._primitive_outline) {
          const _0x19eab4 = this.getGeometryInstanceAttributes(_0x3c8591, this._primitive_outline);
          if (_0x19eab4) {
            const _0x24912f = this._getOutlineStyle(_0xea583b);
            const _0x4e09fb = PolylineStyleConver.toCesiumVal(_0x24912f);
            _0x19eab4.color = Cesium__namespace.ColorGeometryInstanceAttribute.toValue(_0x4e09fb.color);
          }
        }
        const _0x1d1f0c = this._getColorByColorMaterial(_0xea583b, false);
        if (_0x1d1f0c) {
          const _0x497102 = this.getGeometryInstanceAttributes(_0x3c8591);
          if (_0x497102) {
            _0x497102.color = Cesium__namespace.ColorGeometryInstanceAttribute.toValue(_0x1d1f0c);
            this.fire(EventType.highlightClose, {}, true);
          }
        }
        delete this._last_pickedObject;
      }
      if (this._map.isHighlighting(this)) {
        this._map._clearLastHighlight();
      }
    }
    setStyle(_0x50541d, _0x356a6f) {
      if (!_0x50541d) {
        return;
      }
      const _0x1f2d44 = this.options.instances || [];
      for (let _0x4f3816 = 0; _0x4f3816 < _0x1f2d44.length; _0x4f3816++) {
        const _0x4a0cb5 = _0x1f2d44[_0x4f3816];
        if (_0x4a0cb5.style) {
          if (_0x356a6f?.merge ?? true) {
            _0x4a0cb5.style = merge(_0x4a0cb5.style, _0x50541d);
          } else {
            _0x4a0cb5.style = _0x50541d;
          }
        }
      }
      return super.setStyle(_0x50541d);
    }
    openPopup(_0x103d26, _0x203837) {
      const _0x9b1656 = this.getPopupConfig();
      if (_0x9b1656 && this._map) {
        if (_0x203837) {
          _0x9b1656.event = _0x203837;
        }
        _0x9b1656.graphic = this;
        _0x9b1656.layer = this._layer;
        const _0x5104c4 = this.options.instances[_0x103d26] || {};
        this.attr = _0x5104c4.attr;
        const _0x445412 = this._getCenter(_0x5104c4);
        this._map.popup.open(_0x445412, _0x9b1656);
      }
      return this;
    }
    _getCenter(_0xf35bc4) {
      if (!_0xf35bc4._center) {
        if (_0xf35bc4.position) {
          _0xf35bc4._center = _0xf35bc4.position;
        } else if (_0xf35bc4.positions) {
          _0xf35bc4._center = centerOfMass(_0xf35bc4.positions);
        }
      }
      return _0xf35bc4._center;
    }
    setOffsetHeight(_0xe83012, _0x4c76b4) {
      if (!Cesium__namespace.defined(this.style.offsetAttribute)) {
        const _0x12184e = {
          offsetAttribute: Cesium__namespace.GeometryOffsetAttribute.ALL
        };
        this.setStyle(_0x12184e);
      }
      if (Cesium__namespace.defined(_0x4c76b4)) {
        this._setOffsetHeight(_0x4c76b4, _0xe83012);
      } else {
        this.eachInstances((_0x3dac4a, _0x34cf23) => {
          this._setOffsetHeight(_0x34cf23, _0xe83012);
        });
      }
    }
    _setOffsetHeight(_0x23738e, _0x259767) {
      const _0x59d137 = this.instances[_0x23738e];
      if (!Cesium__namespace.defined(_0x259767)) {
        _0x259767 = _0x59d137.style.offsetHeight;
      }
      const _0x428d15 = this.getGeometryInstanceAttributes(this.createPickId(_0x23738e));
      if (_0x428d15) {
        const _0x41b0d5 = this._getCenter(_0x59d137);
        if (!_0x41b0d5) {
          return;
        }
        const _0x259413 = this._getOffsetByHeight(_0x259767, _0x41b0d5);
        _0x428d15.offset = Cesium__namespace.OffsetGeometryInstanceAttribute.toValue(_0x259413, _0x428d15.offset);
      }
    }
    toCartesianPositions(_0x1af1df, _0x103f66) {
      if (!_0x1af1df) {
        return;
      }
      const _0x36937f = [];
      _0x1af1df.forEach((_0x2ad8b7, _0x1289b9) => {
        const _0x6f7bb0 = LngLatPoint.parse(_0x2ad8b7);
        if (!_0x6f7bb0 || !_0x6f7bb0.valid()) {
          return;
        }
        const _0x1dd05e = this.getSetHeight(_0x103f66, _0x1289b9);
        if (Cesium__namespace.defined(_0x1dd05e)) {
          _0x6f7bb0.alt = _0x1dd05e;
        }
        const _0x480839 = this.getAddHeight(_0x103f66, _0x1289b9);
        if (Cesium__namespace.defined(_0x480839)) {
          _0x6f7bb0.alt = _0x6f7bb0.alt + _0x480839;
        }
        _0x36937f.push(_0x6f7bb0.toCartesian());
      });
      return _0x36937f;
    }
  }
  class BasePointCombine extends BasePolyCombine {
    _getModelMatrix(_0x4be06a, _0x2d1853) {
      if (_0x4be06a.modelMatrix) {
        return _0x4be06a.modelMatrix;
      }
      const _0x2591e9 = LngLatPoint.toCartesian(_0x4be06a.position);
      const _0x5b11ce = Cesium__namespace.Transforms.headingPitchRollToFixedFrame(_0x2591e9, Cesium__namespace.HeadingPitchRoll.fromDegrees(_0x2d1853.heading || 0, _0x2d1853.pitch || 0, _0x2d1853.roll || 0), this.ellipsoid, this.fixedFrameTransform);
      return _0x5b11ce;
    }
    openPopup(_0x49dcf6, _0x3275e7) {
      const _0x162978 = this.getPopupConfig();
      if (_0x162978 && this._map) {
        if (_0x3275e7) {
          _0x162978.event = _0x3275e7;
        }
        _0x162978.graphic = this;
        _0x162978.layer = this._layer;
        const _0x4ce7ba = this.instances[_0x49dcf6] || {};
        this.attr = _0x4ce7ba.attr;
        this._map.popup.open(_0x4ce7ba.position, _0x162978);
      }
      return this;
    }
  }
  var FlatBillboardFS = "#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform sampler2D mars_image;\nuniform vec2 mars_distanceDisplayCondition;\nuniform vec3 mars_positionWC;\nin vec3 v_worldPos;\nin vec2 v_st;\nuniform float globalAlpha;\n\nvoid main() {\n  float dis = distance(mars_positionWC, v_worldPos);\n  if(dis < mars_distanceDisplayCondition.x || dis > mars_distanceDisplayCondition.y) {\n    discard;\n  } else {\n    vec4 colorMars3D = texture(mars_image, v_st);\n    colorMars3D.a *= globalAlpha;\n\n    // Fully transparent parts of the billboard are not pickable.\n    #if !defined(OPAQUE) && !defined(TRANSLUCENT)\n    if(colorMars3D.a < 0.005)   // matches 0/255 and 1/255\n    {\n      discard;\n    }\n    #else\n    // The billboard is rendered twice. The opaque pass discards translucent fragments\n    // and the translucent pass discards opaque fragments.\n    #ifdef OPAQUE\n    if(colorMars3D.a < 0.995)   // matches < 254/255\n    {\n      discard;\n    }\n    #else\n    if(colorMars3D.a >= 0.995)  // matches 254/255 and 255/255\n    {\n      discard;\n    }\n    #endif\n    #endif\n\n    out_FragColor = colorMars3D;\n\n  }\n}\n";
  var FlatBillboardVS = "in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec3 color;\nin vec2 st;\nin float batchId;\n\nuniform mat4 mars_orthographicMatrix;\nuniform mat4 mars_viewMatrix;\nuniform vec2 mars_resolution;\nuniform float mars_pointSize;\nout vec2 v_st;\nout vec3 v_worldPos;\n\nvec4 transform(mat4 m, mat4 v, vec3 coord) {\n  return m * v * vec4(coord, 1.0);\n}\nvec2 project(vec4 device) {\n  vec3 device_normal = device.xyz / device.w;\n  vec2 clip_pos = (device_normal * 0.5 + 0.5).xy;\n  return clip_pos * mars_resolution;\n}\nvec4 unproject(vec2 screen, float z, float w) {\n  vec2 clip_pos = screen / mars_resolution;\n  vec2 device_normal = clip_pos * 2.0 - 1.0;\n  return vec4(device_normal * w, z, w);\n}\n\nvoid main() {\n  v_st = st;\n  vec3 currPMars3D = position3DHigh.xyz + position3DLow.xyz;\n  v_worldPos = currPMars3D;\n  vec4 eyeCurrP = transform(mars_orthographicMatrix, mars_viewMatrix, currPMars3D);\n  vec2 winCurrP = project(eyeCurrP);\n  vec3 dirEye = czm_viewRotation * color;\n  dirEye = normalize(dirEye);\n\n  vec2 newWinCurrP = winCurrP + dirEye.xy * mars_pointSize;\n  gl_Position = unproject(newWinCurrP, eyeCurrP.z, eyeCurrP.w);\n  gl_PointSize = mars_pointSize;\n}\n";
  const DEF_STYLE$g = {
    angle: 0,
    width: 50
  };
  class FlatBillboard extends BaseCombine {
    constructor(_0x1326af = {}) {
      _0x1326af.style = {
        ...DEF_STYLE$g,
        ..._0x1326af.style
      };
      super(_0x1326af);
      this.distanceDisplayCondition = _0x1326af.distanceDisplayCondition ?? new Cesium__namespace.DistanceDisplayCondition(0, 5000000);
      this._globalAlpha = 1;
    }
    get billboardCollection() {
      return this._layer?.billboardCollection;
    }
    get distanceDisplayCondition() {
      return this._distanceDisplayCondition;
    }
    set distanceDisplayCondition(_0x500d19) {
      this._distanceDisplayCondition = _0x500d19;
      this._distanceDisplayConditionCartesian2 = new Cesium__namespace.Cartesian2(_0x500d19.near, _0x500d19.far);
    }
    _addedHook(_0x42737d) {
      if (!this.show) {
        return;
      }
      const _0x817697 = (this.options.scale3d ?? 1) * this._map.viewer.resolutionScale;
      if (this.options.instances.length > 0 && this.options.instances[0].style.width) {
        this._pointSize = _0x817697 * this.options.instances[0].style.width;
      } else {
        this._pointSize = _0x817697 * this.options.style.width;
      }
      this.textures = {};
      this.textureDef = new Cesium__namespace.Texture({
        context: this._map.scene.context,
        width: 500,
        height: 500
      });
      if (this.options.instances) {
        this.redraw();
      }
      this._map.on(EventType.morphComplete, this._onMorphComplete, this);
      this.primitiveCollection.add(this);
    }
    _removedHook() {
      this._map.off(EventType.morphComplete, this._onMorphComplete, this);
      this.clear();
      this.textureDef.destroy();
      delete this.textureDef;
      this._noDestroy = true;
      this.primitiveCollection.remove(this);
      this._noDestroy = false;
    }
    clear() {
      this._removeCollectionBy2D();
      this._removeCollectionBy3D();
    }
    redraw() {
      if (!this._map) {
        return;
      }
      this.clear();
      const _0x24bf3b = this.instances;
      if (_0x24bf3b) {
        for (let _0x340ac3 = 0, _0x5a844d = _0x24bf3b.length; _0x340ac3 < _0x5a844d; _0x340ac3++) {
          const _0x6709bc = _0x24bf3b[_0x340ac3];
          _0x6709bc.position = LngLatPoint.toCartesian(_0x6709bc.position);
        }
      }
      if (this._map.scene.mode === Cesium__namespace.SceneMode.SCENE3D) {
        this._initCollectionBy3D();
      } else {
        this._initCollectionBy2D();
      }
    }
    _onMorphComplete(_0x3f6c01) {
      this.redraw();
    }
    update(_0x4b6660) {
      if (!this.getRealShow(_0x4b6660.time)) {
        this._removeCollectionBy2D();
        return;
      }
      if (_0x4b6660.mode === Cesium__namespace.SceneMode.SCENE3D) {
        if (_0x4b6660.passes.render) {
          if (this._drawCommands) {
            _0x4b6660.commandList.push(...this._drawCommands);
          }
        } else if (this._pickCommands) {
          _0x4b6660.commandList.push(...this._pickCommands);
        }
      } else if (!this.billboardCollection) {
        this._initCollectionBy2D();
      }
    }
    _initCollectionBy2D() {
      const _0x59e349 = this.instances;
      if (!_0x59e349) {
        return;
      }
      this._billboard2DList = [];
      for (let _0x53b1bc = 0, _0x4bf345 = _0x59e349.length; _0x53b1bc < _0x4bf345; _0x53b1bc++) {
        const _0x4b0f22 = _0x59e349[_0x53b1bc];
        const _0x2b767b = {
          ...this.options.style,
          ..._0x4b0f22.style
        };
        const _0x501dd0 = _0x2b767b;
        const _0x60f378 = this.billboardCollection.add({
          id: this.createPickId(_0x53b1bc),
          position: _0x4b0f22.position,
          image: _0x501dd0.image,
          scale: 1,
          rotation: Cesium__namespace.Math.toRadians(_0x501dd0.angle || 0),
          width: _0x501dd0.width,
          height: _0x501dd0.height || _0x501dd0.width
        });
        this.bindPickId(_0x60f378);
        this._billboard2DList.push(_0x60f378);
      }
    }
    _removeCollectionBy2D() {
      if (!this.billboardCollection || !this._billboard2DList) {
        return;
      }
      for (let _0x5204c9 = this._billboard2DList.length - 1; _0x5204c9 >= 0; _0x5204c9--) {
        const _0x260a74 = this._billboard2DList[_0x5204c9];
        this.billboardCollection.remove(_0x260a74);
      }
      this._billboard2DList = [];
    }
    _initCollectionBy3D() {
      const _0x3579c9 = this.instances;
      if (!_0x3579c9) {
        return;
      }
      const _0xc0c8d5 = {};
      for (let _0x2d0583 = 0, _0x126514 = _0x3579c9.length; _0x2d0583 < _0x126514; _0x2d0583++) {
        const _0x59d0fd = _0x3579c9[_0x2d0583];
        _0x59d0fd.index = _0x2d0583;
        const _0x547e10 = _0x59d0fd.style?.image;
        if (!_0x547e10) {
          continue;
        }
        if (!_0xc0c8d5[_0x547e10]) {
          _0xc0c8d5[_0x547e10] = [];
        }
        _0xc0c8d5[_0x547e10].push(_0x59d0fd);
      }
      this._clearDrawCommand();
      const _0xb1e28a = [];
      for (const _0x1a028d in _0xc0c8d5) {
        const _0x3634bf = _0xc0c8d5[_0x1a028d];
        const _0x599a52 = _0x1a028d;
        this.prepareTexture(_0x599a52);
        for (const _0x241ef9 of _0x3634bf) {
          const _0x4b5a8d = this.createDrawCommand(_0x599a52, _0x241ef9);
          _0xb1e28a.push(_0x4b5a8d);
        }
      }
      this._drawCommands = _0xb1e28a;
    }
    _removeCollectionBy3D() {
      this._clearDrawCommand();
      for (const _0x48f903 in this.textures) {
        if (this.textures[_0x48f903]) {
          this.textures[_0x48f903].destroy();
        }
      }
      this.textures = {};
    }
    _clearDrawCommand() {
      if (this._drawCommands && this._drawCommands.length > 0) {
        this._drawCommands.forEach(function (_0x3b9ddb) {
          if (_0x3b9ddb.vertexArray) {
            _0x3b9ddb.vertexArray.destroy();
          }
          if (_0x3b9ddb.shaderProgram) {
            _0x3b9ddb.shaderProgram.destroy();
          }
        });
        delete this._drawCommands;
      }
      if (this._pickCommands && this._pickCommands.length > 0) {
        this._pickCommands.forEach(function (_0x55995e) {
          if (_0x55995e.vertexArray) {
            _0x55995e.vertexArray.destroy();
          }
          if (_0x55995e.shaderProgram) {
            _0x55995e.shaderProgram.destroy();
          }
        });
        delete this._pickCommands;
      }
    }
    prepareTexture(_0x2f6cba) {
      base64ToImage(_0x2f6cba).then(_0x41cbcf => {
        const _0x39bac9 = {
          context: this._map.scene.context,
          source: _0x41cbcf
        };
        const _0x3b279c = new Cesium__namespace.Texture(_0x39bac9);
        this.textures[_0x2f6cba] = _0x3b279c;
      });
    }
    prepareVAO(_0x18c951) {
      const _0x3059fd = [];
      const _0x4e63a1 = [];
      const _0x19dd62 = [];
      const _0x38fe64 = [];
      const _0x280211 = [];
      for (let _0x1e9c04 = 0, _0x311427 = _0x18c951.length; _0x1e9c04 < _0x311427; _0x1e9c04++) {
        const _0xbcf763 = _0x18c951[_0x1e9c04];
        const _0x44c6f1 = _0xbcf763.position;
        const _0x2e68ac = {
          ...this.options.style,
          ..._0xbcf763.style
        };
        const _0x2d83e4 = _0x2e68ac;
        _0x19dd62.push(_0x1e9c04 * 4 + 0);
        _0x19dd62.push(_0x1e9c04 * 4 + 2);
        _0x19dd62.push(_0x1e9c04 * 4 + 1);
        _0x19dd62.push(_0x1e9c04 * 4 + 0);
        _0x19dd62.push(_0x1e9c04 * 4 + 3);
        _0x19dd62.push(_0x1e9c04 * 4 + 2);
        const _0x3a8a18 = new Float32Array(6);
        _0x3a8a18[0] = _0x44c6f1.x;
        _0x3a8a18[1] = _0x44c6f1.x - _0x3a8a18[0];
        _0x3a8a18[2] = _0x44c6f1.y;
        _0x3a8a18[3] = _0x44c6f1.y - _0x3a8a18[2];
        _0x3a8a18[4] = _0x44c6f1.z;
        _0x3a8a18[5] = _0x44c6f1.z - _0x3a8a18[4];
        _0x3059fd.push(_0x3a8a18[0]);
        _0x3059fd.push(_0x3a8a18[2]);
        _0x3059fd.push(_0x3a8a18[4]);
        _0x4e63a1.push(_0x3a8a18[1]);
        _0x4e63a1.push(_0x3a8a18[3]);
        _0x4e63a1.push(_0x3a8a18[5]);
        _0x3059fd.push(_0x3a8a18[0]);
        _0x3059fd.push(_0x3a8a18[2]);
        _0x3059fd.push(_0x3a8a18[4]);
        _0x4e63a1.push(_0x3a8a18[1]);
        _0x4e63a1.push(_0x3a8a18[3]);
        _0x4e63a1.push(_0x3a8a18[5]);
        _0x3059fd.push(_0x3a8a18[0]);
        _0x3059fd.push(_0x3a8a18[2]);
        _0x3059fd.push(_0x3a8a18[4]);
        _0x4e63a1.push(_0x3a8a18[1]);
        _0x4e63a1.push(_0x3a8a18[3]);
        _0x4e63a1.push(_0x3a8a18[5]);
        _0x3059fd.push(_0x3a8a18[0]);
        _0x3059fd.push(_0x3a8a18[2]);
        _0x3059fd.push(_0x3a8a18[4]);
        _0x4e63a1.push(_0x3a8a18[1]);
        _0x4e63a1.push(_0x3a8a18[3]);
        _0x4e63a1.push(_0x3a8a18[5]);
        _0x38fe64.push(0, 0);
        _0x38fe64.push(0, 1);
        _0x38fe64.push(1, 1);
        _0x38fe64.push(1, 0);
        const _0x1f543b = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x44c6f1);
        const _0x5a989a = _0x2d83e4.angle || 0;
        const _0x308589 = Cesium__namespace.Matrix3.fromRotationZ(Cesium__namespace.Math.toRadians(_0x5a989a));
        const _0x4c3345 = Cesium__namespace.Matrix4.fromRotationTranslation(_0x308589);
        const _0x278778 = Cesium__namespace.Matrix4.multiply(_0x1f543b, _0x4c3345, new Cesium__namespace.Matrix4());
        const _0x4297ef = 1;
        const _0x415d4b = (_0x2d83e4.height || _0x2d83e4.width) / _0x2d83e4.width;
        const _0x2a965a = new Cesium__namespace.Cartesian3(-_0x4297ef, -_0x415d4b, 0);
        Cesium__namespace.Matrix4.multiplyByPointAsVector(_0x278778, _0x2a965a, _0x2a965a);
        Cesium__namespace.Cartesian3.normalize(_0x2a965a, _0x2a965a);
        _0x280211.push(_0x2a965a.x, _0x2a965a.y, _0x2a965a.z);
        const _0x440762 = new Cesium__namespace.Cartesian3(-_0x4297ef, _0x415d4b, 0);
        Cesium__namespace.Matrix4.multiplyByPointAsVector(_0x278778, _0x440762, _0x440762);
        Cesium__namespace.Cartesian3.normalize(_0x440762, _0x440762);
        _0x280211.push(_0x440762.x, _0x440762.y, _0x440762.z);
        const _0x29ccb1 = new Cesium__namespace.Cartesian3(_0x4297ef, _0x415d4b, 0);
        Cesium__namespace.Matrix4.multiplyByPointAsVector(_0x278778, _0x29ccb1, _0x29ccb1);
        Cesium__namespace.Cartesian3.normalize(_0x29ccb1, _0x29ccb1);
        _0x280211.push(_0x29ccb1.x, _0x29ccb1.y, _0x29ccb1.z);
        const _0x57a5e6 = new Cesium__namespace.Cartesian3(_0x4297ef, -_0x415d4b, 0);
        Cesium__namespace.Matrix4.multiplyByPointAsVector(_0x278778, _0x57a5e6, _0x57a5e6);
        Cesium__namespace.Cartesian3.normalize(_0x57a5e6, _0x57a5e6);
        _0x280211.push(_0x57a5e6.x, _0x57a5e6.y, _0x57a5e6.z);
      }
      return {
        index: new Uint16Array(_0x19dd62),
        vertex_H: {
          values: new Float32Array(_0x3059fd),
          componentDatatype: "DOUBLE",
          componentsPerAttribute: 3
        },
        vertex_L: {
          values: new Float32Array(_0x4e63a1),
          componentDatatype: "DOUBLE",
          componentsPerAttribute: 3
        },
        uv: {
          values: new Float32Array(_0x38fe64),
          componentDatatype: "FLOAT",
          componentsPerAttribute: 2
        },
        color: {
          values: new Float32Array(_0x280211),
          componentDatatype: "FLOAT",
          componentsPerAttribute: 3
        }
      };
    }
    createDrawCommand(_0x2638e3, _0x28879b) {
      const _0x8fa873 = this._map.scene.context;
      const _0x1b76c8 = this.options.translucent ?? false;
      const _0x4e7a98 = Cesium__namespace.RenderState.fromCache({
        depthTest: {
          enabled: true,
          func: _0x1b76c8 ? Cesium__namespace.WebGLConstants.LEQUAL : Cesium__namespace.WebGLConstants.LESS
        },
        depthMask: _0x1b76c8,
        blending: Cesium__namespace.BlendingState.ALPHA_BLEND
      });
      const _0x1aef9c = {
        position3DHigh: 0,
        position3DLow: 1,
        color: 2,
        st: 3
      };
      const _0x590bf4 = {
        context: _0x8fa873,
        vertexShaderSource: FlatBillboardVS,
        fragmentShaderSource: FlatBillboardFS,
        attributeLocations: _0x1aef9c
      };
      const _0x8caf50 = Cesium__namespace.ShaderProgram.fromCache(_0x590bf4);
      const _0x2266a6 = this.prepareVAO([_0x28879b]);
      const _0x251d67 = Cesium__namespace.Buffer.createIndexBuffer({
        context: _0x8fa873,
        typedArray: _0x2266a6.index,
        usage: Cesium__namespace.BufferUsage.STATIC_DRAW,
        indexDatatype: Cesium__namespace.IndexDatatype.UNSIGNED_SHORT
      });
      const _0x403769 = new Cesium__namespace.VertexArray({
        context: _0x8fa873,
        attributes: [{
          index: 0,
          vertexBuffer: Cesium__namespace.Buffer.createVertexBuffer({
            context: _0x8fa873,
            typedArray: _0x2266a6.vertex_H.values,
            usage: Cesium__namespace.BufferUsage.STATIC_DRAW
          }),
          componentsPerAttribute: 3
        }, {
          index: 1,
          vertexBuffer: Cesium__namespace.Buffer.createVertexBuffer({
            context: _0x8fa873,
            typedArray: _0x2266a6.vertex_L.values,
            usage: Cesium__namespace.BufferUsage.STATIC_DRAW
          }),
          componentsPerAttribute: 3
        }, {
          index: 2,
          vertexBuffer: Cesium__namespace.Buffer.createVertexBuffer({
            context: _0x8fa873,
            typedArray: _0x2266a6.color.values,
            usage: Cesium__namespace.BufferUsage.STATIC_DRAW
          }),
          componentsPerAttribute: 3
        }, {
          index: 3,
          vertexBuffer: Cesium__namespace.Buffer.createVertexBuffer({
            context: _0x8fa873,
            typedArray: _0x2266a6.uv.values,
            usage: Cesium__namespace.BufferUsage.STATIC_DRAW
          }),
          componentsPerAttribute: 2
        }],
        indexBuffer: _0x251d67
      });
      const _0xf5fd90 = this._map.scene.camera;
      const _0x3ceaa7 = _0x8fa873.drawingBufferWidth;
      const _0x3f63b1 = _0x8fa873.drawingBufferHeight;
      const _0x4f4376 = new Cesium__namespace.Cartesian2(_0x3ceaa7, _0x3f63b1);
      const _0x31eafe = Cesium__namespace.BoundingSphere.fromVertices(_0x2266a6.vertex_H.values);
      _0x31eafe.radius = 10000;
      const _0x88cb12 = {
        mars_orthographicMatrix: () => {
          if (_0xf5fd90.frustum._offCenterFrustum) {
            return _0xf5fd90.frustum._offCenterFrustum?._perspectiveMatrix;
          } else {
            return _0xf5fd90.frustum._orthographicMatrix;
          }
        },
        mars_viewMatrix: () => {
          return _0xf5fd90._viewMatrix;
        },
        mars_resolution: () => {
          return _0x4f4376;
        },
        mars_pointSize: () => {
          return this._pointSize;
        },
        mars_image: () => {
          return this.textures[_0x2638e3] || this.textureDef;
        },
        mars_distanceDisplayCondition: () => {
          return this._distanceDisplayConditionCartesian2;
        },
        mars_positionWC: () => {
          return _0xf5fd90.positionWC;
        },
        globalAlpha: () => {
          return this._globalAlpha;
        }
      };
      const _0x4d3879 = {
        owner: this,
        pickOnly: true
      };
      const _0x351300 = new Cesium__namespace.DrawCommand({
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        shaderProgram: _0x8caf50,
        vertexArray: _0x403769,
        modelMatrix: Cesium__namespace.Matrix4.IDENTITY,
        renderState: _0x4e7a98,
        boundingVolume: _0x31eafe,
        uniformMap: _0x88cb12,
        castShadows: false,
        receiveShadows: false,
        pass: _0x1b76c8 ? Cesium__namespace.Pass.TRANSLUCENT : Cesium__namespace.Pass.OPAQUE,
        pickOnly: true,
        pickCommand: new Cesium__namespace.DrawCommand(_0x4d3879)
      });
      this.bindPickId(_0x351300);
      _0x351300.pickId = _0x8fa873.createPickId({
        primitive: _0x351300,
        id: this.createPickId(_0x28879b.index)
      });
      const _0x4756aa = new Cesium__namespace.DrawCommand({
        owner: _0x351300,
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        pickOnly: true
      });
      _0x4756aa.vertexArray = _0x403769;
      _0x4756aa.renderState = _0x4e7a98;
      const _0x1f30ee = Cesium__namespace.ShaderProgram.fromCache({
        context: _0x8fa873,
        vertexShaderSource: FlatBillboardVS,
        fragmentShaderSource: Cesium__namespace.ShaderSource.createPickFragmentShaderSource(FlatBillboardFS, "uniform"),
        attributeLocations: _0x1aef9c
      });
      _0x4756aa.shaderProgram = _0x1f30ee;
      _0x4756aa.uniformMap = _0x351300.uniformMap;
      _0x4756aa.uniformMap.czm_pickColor = () => {
        return _0x351300.pickId.color;
      };
      _0x4756aa.pass = _0x1b76c8 ? Cesium__namespace.Pass.TRANSLUCENT : Cesium__namespace.Pass.OPAQUE;
      _0x4756aa.boundingVolume = _0x31eafe;
      _0x4756aa.modelMatrix = Cesium__namespace.Matrix4.IDENTITY;
      if (!this._pickCommands) {
        this._pickCommands = [];
      }
      this._pickCommands.push(_0x4756aa);
      return _0x351300;
    }
    setOpacity(_0xef3721) {
      this._globalAlpha = _0xef3721;
    }
  }
  register$5("flatBillboard", FlatBillboard, true);
  class PlaneCombine extends BasePointCombine {
    _conversionStyle(_0x41e58b) {
      return PlaneStyleConver.toCesiumVal(_0x41e58b);
    }
    _style2Json(_0x57eb0e, _0x3052df) {
      return PlaneStyleConver.toJSON(_0x57eb0e, _0x3052df);
    }
    _createGeometryInstanceItem(_0x2707d7, _0x132c37, _0x30683b) {
      const _0x258f1d = this._getModelMatrix(_0x30683b, _0x2707d7);
      const _0x280993 = _0x132c37 ? Cesium__namespace.PlaneOutlineGeometry : Cesium__namespace.PlaneGeometry;
      const _0x27fc89 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x280993(_0x2707d7),
        modelMatrix: _0x258f1d,
        attributes: this._createGeometryInstanceAttributes(_0x2707d7)
      });
      return _0x27fc89;
    }
    _getModelMatrix(_0x5540a0, _0x2ccca6) {
      if (_0x5540a0.modelMatrix) {
        return _0x5540a0.modelMatrix;
      }
      const _0x36f508 = super._getModelMatrix(_0x5540a0, _0x2ccca6);
      if (_0x2ccca6.plane_normal === Cesium__namespace.Cartesian3.UNIT_X) {
        const _0x42d234 = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromRotationX(Cesium__namespace.Math.toRadians(90)));
        Cesium__namespace.Matrix4.multiply(_0x36f508, _0x42d234, _0x36f508);
      } else if (_0x2ccca6.plane_normal === Cesium__namespace.Cartesian3.UNIT_Y) {
        const _0x5ce755 = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromRotationY(Cesium__namespace.Math.toRadians(90)));
        Cesium__namespace.Matrix4.multiply(_0x36f508, _0x5ce755, _0x36f508);
      }
      const _0x1030ba = Cesium__namespace.Matrix4.fromScale(new Cesium__namespace.Cartesian3(_0x2ccca6.dimensions?.x ?? 1, _0x2ccca6.dimensions?.y ?? 1, 1));
      Cesium__namespace.Matrix4.multiply(_0x36f508, _0x1030ba, _0x36f508);
      return _0x36f508;
    }
  }
  register$5("planeC", PlaneCombine, true);
  class BoxCombine extends BasePointCombine {
    _conversionStyle(_0x260ec4) {
      _0x260ec4.closed = _0x260ec4.closed ?? true;
      return BoxStyleConver.toCesiumVal(_0x260ec4);
    }
    _style2Json(_0x30c612, _0x12ace5) {
      return BoxStyleConver.toJSON(_0x30c612, _0x12ace5);
    }
    _createGeometryInstanceItem(_0x131a50, _0xb4a5c0, _0x257db0) {
      const _0x26ac17 = this._getModelMatrix(_0x257db0, _0x131a50);
      const _0x55340a = _0xb4a5c0 ? Cesium__namespace.BoxOutlineGeometry : Cesium__namespace.BoxGeometry;
      const _0x1e102a = new Cesium__namespace.GeometryInstance({
        geometry: _0x55340a.fromDimensions(_0x131a50),
        modelMatrix: _0x26ac17,
        attributes: this._createGeometryInstanceAttributes(_0x131a50)
      });
      return _0x1e102a;
    }
  }
  register$5("boxC", BoxCombine, true);
  class CircleCombine extends BasePointCombine {
    constructor(_0x120b7d = {}) {
      super(_0x120b7d);
      this._hasClampToGround = true;
    }
    _conversionStyle(_0x2d5481) {
      return CircleStyleConver.toCesiumVal(_0x2d5481);
    }
    _style2Json(_0xb21dea, _0x545356) {
      return CircleStyleConver.toJSON(_0xb21dea, _0x545356);
    }
    _createGeometryInstanceItem(_0x2f1e40, _0xb9c43c, _0x304e2f) {
      _0x304e2f.position = LngLatPoint.parse(_0x304e2f.position).toCartesian();
      _0x2f1e40.center = _0x304e2f.position;
      const _0x1cf0e1 = _0xb9c43c ? Cesium__namespace.CircleOutlineGeometry : Cesium__namespace.CircleGeometry;
      const _0x2ad177 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x1cf0e1(_0x2f1e40),
        attributes: this._createGeometryInstanceAttributes(_0x2f1e40)
      });
      return _0x2ad177;
    }
    _getPolylineOutlinePositions(_0x4673bf) {
      const _0x294981 = {
        position: _0x4673bf.position,
        radius: _0x4673bf.style.radius,
        granularity: _0x4673bf.style.granularity
      };
      const _0x53bd6e = getEllipseOuterPositions(_0x294981);
      return [_0x53bd6e];
    }
  }
  register$5("circleC", CircleCombine, true);
  class CylinderCombine extends BasePointCombine {
    _conversionStyle(_0xf65d68) {
      _0xf65d68.closed = _0xf65d68.closed ?? true;
      return CylinderStyleConver.toCesiumVal(_0xf65d68);
    }
    _style2Json(_0x5e5e68, _0x593358) {
      return CylinderStyleConver.toJSON(_0x5e5e68, _0x593358);
    }
    _createGeometryInstanceItem(_0x1456d1, _0x34ccc1, _0x366b13) {
      const _0x53b56f = this._getModelMatrix(_0x366b13, _0x1456d1);
      if (Cesium__namespace.defined(_0x1456d1.offsetAttribute) || Cesium__namespace.defined(_0x1456d1.offsetHeight)) {
        _0x1456d1.center = this._getCenter(_0x366b13);
      }
      const _0x1568cd = _0x34ccc1 ? Cesium__namespace.CylinderOutlineGeometry : Cesium__namespace.CylinderGeometry;
      const _0x5a8e69 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x1568cd(_0x1456d1),
        modelMatrix: _0x53b56f,
        attributes: this._createGeometryInstanceAttributes(_0x1456d1)
      });
      return _0x5a8e69;
    }
  }
  register$5("cylinderC", CylinderCombine, true);
  class FrustumCombine extends BasePointCombine {
    _conversionStyle(_0x4de19b) {
      _0x4de19b.closed = _0x4de19b.closed ?? true;
      return CylinderStyleConver.toCesiumVal(_0x4de19b);
    }
    _style2Json(_0x5527b1, _0x2374bc) {
      return CylinderStyleConver.toJSON(_0x5527b1, _0x2374bc);
    }
    _createGeometryInstanceItem(_0xd7fb6a, _0x5047d7, _0xb89884) {
      const _0x381932 = _0xb89884.position = LngLatPoint.parse(_0xb89884.position).toCartesian();
      let _0x2044ca;
      let _0x148794;
      if (_0xb89884.targetPositio) {
        const _0x276ea3 = LngLatPoint.parse(_0xb89884.targetPosition).toCartesian();
        _0x2044ca = Cesium__namespace.Cartesian3.distance(_0x381932, _0x276ea3);
        const _0x41e355 = getHeadingPitchRollForLine(_0x381932, _0x276ea3, true);
        _0x148794 = Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x381932, _0x41e355, this.ellipsoid, this.fixedFrameTransform);
      } else {
        _0x2044ca = _0xd7fb6a.length;
        const _0x1e119a = Cesium__namespace.HeadingPitchRoll.fromDegrees(_0xd7fb6a.heading || 0, _0xd7fb6a.pitch || 0, _0xd7fb6a.roll || 0);
        _0x148794 = Cesium__namespace.Transforms.headingPitchRollQuaternion(_0x381932, _0x1e119a, this.ellipsoid, this.fixedFrameTransform);
      }
      const _0x1b096b = new Cesium__namespace.PerspectiveFrustum({
        fov: Cesium__namespace.Math.toRadians(_0xd7fb6a.angle * 2 || 0.01),
        aspectRatio: _0xd7fb6a.angle / _0xd7fb6a.angle2,
        near: 0.01,
        far: _0x2044ca
      });
      const _0x4af5a1 = _0x5047d7 ? Cesium__namespace.FrustumOutlineGeometry : Cesium__namespace.FrustumGeometry;
      const _0x1eab50 = {
        ..._0xd7fb6a
      };
      _0x1eab50.origin = _0x381932;
      _0x1eab50.orientation = _0x148794;
      _0x1eab50.frustum = _0x1b096b;
      const _0x1c9993 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x4af5a1(_0x1eab50),
        attributes: this._createGeometryInstanceAttributes(_0xd7fb6a)
      });
      return _0x1c9993;
    }
  }
  register$5("frustumC", FrustumCombine, true);
  class EllipsoidCombine extends BasePointCombine {
    _conversionStyle(_0x26c7a5) {
      _0x26c7a5.closed = _0x26c7a5.closed ?? true;
      return EllipsoidStyleConver.toCesiumVal(_0x26c7a5);
    }
    _style2Json(_0x4a5d63, _0x145f0d) {
      return EllipsoidStyleConver.toJSON(_0x4a5d63, _0x145f0d);
    }
    _createGeometryInstanceItem(_0x537f2d, _0x5079c3, _0x1b7e34) {
      const _0x4017ed = this._getModelMatrix(_0x1b7e34, _0x537f2d);
      const _0x40d59e = _0x5079c3 ? Cesium__namespace.EllipsoidOutlineGeometry : Cesium__namespace.EllipsoidGeometry;
      const _0x2499a4 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x40d59e(_0x537f2d),
        modelMatrix: _0x4017ed,
        attributes: this._createGeometryInstanceAttributes(_0x537f2d)
      });
      return _0x2499a4;
    }
  }
  register$5("ellipsoidC", EllipsoidCombine, true);
  class PolylineCombine extends BasePolyCombine {
    constructor(_0x1f42cf = {}) {
      super(_0x1f42cf);
      this._hasClampToGround = true;
    }
    _conversionStyle(_0x584fe9) {
      return PolylineStyleConver.toCesiumVal(_0x584fe9);
    }
    _style2Json(_0x3c4f14, _0x521aec) {
      return PolylineStyleConver.toJSON(_0x3c4f14, _0x521aec);
    }
    _createGeometryInstanceItem(_0x25fe3f, _0x40c72d, _0x1e46fb) {
      if (_0x1e46fb.positions?.length < 2) {
        return;
      }
      if (_0x25fe3f._isColorMaterial) {
        _0x25fe3f.vertexFormat = Cesium__namespace.PolylineColorAppearance.VERTEX_FORMAT;
      }
      const _0x331536 = _0x1e46fb.positions = this.toCartesianPositions(_0x1e46fb.positions, _0x25fe3f);
      _0x25fe3f.positions = _0x331536;
      const _0x54e59c = _0x25fe3f.clampToGround ? Cesium__namespace.GroundPolylineGeometry : Cesium__namespace.PolylineGeometry;
      const _0x1d05cc = new Cesium__namespace.GeometryInstance({
        geometry: new _0x54e59c(_0x25fe3f),
        attributes: this._createGeometryInstanceAttributes(_0x25fe3f)
      });
      return _0x1d05cc;
    }
    _createAppearance(_0x55161c, _0x1b7769) {
      if (_0x55161c._isColorMaterial) {
        const _0x4e5bfc = {
          ..._0x55161c
        };
        return new Cesium__namespace.PolylineColorAppearance(_0x4e5bfc);
      } else {
        const _0x9568f2 = {
          ..._0x55161c
        };
        return new Cesium__namespace.PolylineMaterialAppearance(_0x9568f2);
      }
    }
  }
  register$5("polylineC", PolylineCombine);
  class PolylineVolumeCombine extends BasePolyCombine {
    _conversionStyle(_0x35d43c) {
      _0x35d43c.closed = _0x35d43c.closed ?? true;
      return PolylineVolumeStyleConver.toCesiumVal(_0x35d43c);
    }
    _style2Json(_0x586f1d, _0x1e7169) {
      return PolylineVolumeStyleConver.toJSON(_0x586f1d, _0x1e7169);
    }
    _createGeometryInstanceItem(_0xf98e3, _0x4f63c0, _0x3c7fa4) {
      const _0x26b137 = _0x3c7fa4.positions = this.toCartesianPositions(_0x3c7fa4.positions, _0xf98e3);
      const _0x113664 = _0x4f63c0 ? Cesium__namespace.PolylineVolumeOutlineGeometry : Cesium__namespace.PolylineVolumeGeometry;
      const _0x3cd92e = {
        ..._0xf98e3
      };
      _0x3cd92e.polylinePositions = _0x26b137;
      _0x3cd92e.shapePositions = _0xf98e3.shape;
      const _0x1eea59 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x113664(_0x3cd92e),
        attributes: this._createGeometryInstanceAttributes(_0xf98e3)
      });
      return _0x1eea59;
    }
  }
  register$5("polylineVolumeC", PolylineVolumeCombine);
  class CorridorCombine extends BasePolyCombine {
    constructor(_0x4c000a = {}) {
      super(_0x4c000a);
      this._hasClampToGround = true;
    }
    _conversionStyle(_0x573ad5) {
      return CorridorStyleConver.toCesiumVal(_0x573ad5);
    }
    _style2Json(_0x3e0f5a, _0x3aa93d) {
      return CorridorStyleConver.toJSON(_0x3e0f5a, _0x3aa93d);
    }
    _createGeometryInstanceItem(_0x285948, _0x1ea1bc, _0x444d54) {
      _0x444d54.positions = this.toCartesianPositions(_0x444d54.positions, _0x285948);
      _0x285948.positions = _0x444d54.positions;
      const _0x5c3ad2 = _0x1ea1bc ? Cesium__namespace.CorridorOutlineGeometry : Cesium__namespace.CorridorGeometry;
      const _0x506578 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x5c3ad2(_0x285948),
        attributes: this._createGeometryInstanceAttributes(_0x285948)
      });
      return _0x506578;
    }
  }
  register$5("corridorC", CorridorCombine);
  class WallCombine extends BasePolyCombine {
    _conversionStyle(_0x550cbf) {
      return WallStyleConver.toCesiumVal(_0x550cbf);
    }
    _style2Json(_0x13074a, _0x2e1e63) {
      return WallStyleConver.toJSON(_0x13074a, _0x2e1e63);
    }
    _createGeometryInstanceItem(_0x8d376, _0x3c5520, _0x27b3d6) {
      if (_0x27b3d6.positions?.length < 2) {
        return;
      }
      let _0x30519e = [];
      let _0x4311ef = [];
      let _0x180d6d = [];
      _0x27b3d6.positions.forEach((_0x330f36, _0x65c901) => {
        const _0x26640f = LngLatPoint.parse(_0x330f36);
        if (!_0x26640f || !_0x26640f.valid()) {
          return;
        }
        const _0x192d2a = this.getSetHeight(_0x8d376, _0x65c901);
        if (Cesium__namespace.defined(_0x192d2a)) {
          _0x26640f.alt = _0x192d2a;
        }
        const _0x102118 = this.getAddHeight(_0x8d376, _0x65c901);
        if (Cesium__namespace.defined(_0x102118)) {
          _0x26640f.alt = _0x26640f.alt + _0x102118;
        }
        const _0x424eb2 = _0x26640f.alt;
        _0x30519e.push(_0x26640f.toCartesian());
        _0x4311ef.push(_0x424eb2);
        _0x180d6d.push(_0x424eb2 + Number(_0x8d376.diffHeight ?? 100));
      });
      if (_0x30519e?.length < 2) {
        return;
      }
      if (_0x8d376.closure) {
        _0x30519e = _0x30519e.concat(_0x30519e[0]);
        _0x4311ef = _0x4311ef.concat(_0x4311ef[0]);
        _0x180d6d = _0x180d6d.concat(_0x180d6d[0]);
      }
      const _0x33ed11 = _0x3c5520 ? Cesium__namespace.WallOutlineGeometry : Cesium__namespace.WallGeometry;
      const _0x154563 = {
        ..._0x8d376
      };
      _0x154563.positions = _0x30519e;
      _0x154563.maximumHeights = _0x180d6d;
      _0x154563.minimumHeights = _0x4311ef;
      const _0x92935f = new Cesium__namespace.GeometryInstance({
        geometry: new _0x33ed11(_0x154563),
        attributes: this._createGeometryInstanceAttributes(_0x8d376)
      });
      return _0x92935f;
    }
  }
  register$5("wallC", WallCombine);
  class PolygonCombine extends BasePolyCombine {
    constructor(_0x16d473 = {}) {
      super(_0x16d473);
      this._hasClampToGround = true;
    }
    _conversionStyle(_0x56c774) {
      return PolygonStyleConver.toCesiumVal(_0x56c774);
    }
    _style2Json(_0x118be2, _0x44f8f5) {
      return PolygonStyleConver.toJSON(_0x118be2, _0x44f8f5);
    }
    _getPolygonHierarchy(_0x1a46c1, _0x4b92c6) {
      if (_0x1a46c1.length > 0 && Array.isArray(_0x1a46c1[0]) && _0x1a46c1[0].length > 0) {
        const _0x4b1142 = _0x1a46c1[0][0];
        if (Array.isArray(_0x4b1142) && isNumber(_0x4b1142[0])) {
          return getPolygonHierarchy(_0x1a46c1, _0x4b92c6.height || _0x4b92c6.setHeight || _0x4b92c6.addHeight);
        } else if (_0x4b1142 instanceof Cesium__namespace.Cartesian3 || _0x4b1142 instanceof LngLatPoint) {
          return getPolygonHierarchy2(_0x1a46c1);
        }
      }
      const _0x20c208 = this.toCartesianPositions(_0x1a46c1, _0x4b92c6);
      return new Cesium__namespace.PolygonHierarchy(_0x20c208);
    }
    _createGeometryInstanceItem(_0x30ae8f, _0x498aaa, _0x5932d1) {
      const _0x4ace72 = this._getPolygonHierarchy(_0x5932d1.positions, _0x30ae8f);
      _0x5932d1._hierarchy = _0x4ace72;
      _0x30ae8f.polygonHierarchy = _0x4ace72;
      if (Cesium__namespace.defined(_0x30ae8f.offsetAttribute) || Cesium__namespace.defined(_0x30ae8f.offsetHeight)) {
        _0x30ae8f.center = this._getCenter(_0x5932d1);
      }
      let _0x3e07e4;
      if (_0x498aaa) {
        _0x3e07e4 = Cesium__namespace.PolygonOutlineGeometry;
      } else if (_0x30ae8f.perPositionHeight && !Cesium__namespace.defined(_0x30ae8f.extrudedHeight) && !Cesium__namespace.defined(_0x30ae8f.offsetAttribute)) {
        _0x3e07e4 = Cesium__namespace.CoplanarPolygonGeometry;
      } else {
        _0x3e07e4 = Cesium__namespace.PolygonGeometry;
      }
      const _0x5999c7 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x3e07e4(_0x30ae8f),
        attributes: this._createGeometryInstanceAttributes(_0x30ae8f)
      });
      return _0x5999c7;
    }
    _getPolylineOutlinePositions(_0x33370e) {
      if (_0x33370e._hierarchy) {
        return getHierarchyVal(_0x33370e._hierarchy);
      } else if (_0x33370e.positions) {
        return getHierarchyVal(LngLatArray.toCartesians(_0x33370e.positions));
      }
    }
    _getGeoJsonGeometry(_0x257482, _0x12b75c) {
      return {
        type: "Polygon",
        coordinates: [LngLatArray.toArray(_0x257482.positions, _0x12b75c?.noAlt)]
      };
    }
  }
  register$5("polygonC", PolygonCombine);
  class WaterCombine extends PolygonCombine {
    constructor(_0x1f714a = {}) {
      super(_0x1f714a);
      this._hasClampToGround = true;
    }
    _addedHook(_0x47561b) {
      if (!this.show) {
        return;
      }
      const _0x70821e = this._conversionStyle(_0x47561b);
      _0x47561b.opacity = _0x47561b.opacity ?? 0.8;
      const _0x339e53 = {
        geometryInstances: this._createGeometryInstance(_0x70821e),
        appearance: new Cesium__namespace.EllipsoidSurfaceAppearance({
          aboveGround: false,
          material: new Cesium__namespace.Material({
            fabric: {
              type: "Water",
              uniforms: {
                specularMap: _0x70821e.specularMap ?? Cesium__namespace.Material.DefaultImageId,
                normalMap: _0x70821e.normalMap ?? Cesium__namespace.Material.DefaultImageId,
                frequency: _0x70821e.frequency ?? 8000,
                animationSpeed: _0x70821e.animationSpeed ?? 0.03,
                amplitude: _0x70821e.amplitude ?? 5,
                specularIntensity: _0x47561b.specularIntensity ?? 0.8,
                baseWaterColor: getCesiumColor(_0x47561b.baseWaterColor ?? "#123e59").withAlpha(_0x47561b.opacity),
                blendColor: getCesiumColor(_0x47561b.blendColor ?? "#123e59").withAlpha(_0x47561b.opacity)
              }
            }
          }),
          fragmentShaderSource: WaterFS,
          translucent: _0x47561b.opacity !== 1
        }),
        show: this.show
      };
      if (_0x47561b.clampToGround) {
        _0x339e53.classificationType = _0x47561b.classificationType ?? Cesium__namespace.ClassificationType.TERRAIN;
        this._primitive = this.primitiveCollection.add(new Cesium__namespace.GroundPrimitive(_0x339e53));
      } else {
        this._primitive = this.primitiveCollection.add(new Cesium__namespace.Primitive(_0x339e53));
      }
      if (this._primitive_outline) {
        this.primitiveCollection.remove(this._primitive_outline);
        delete this._primitive_outline;
      }
      if (_0x47561b.outline) {
        const _0x1116fd = this._getOutlineStyle(_0x47561b);
        this._primitive_outline = this._createPolylineOutline(_0x1116fd);
      }
    }
  }
  register$5("waterC", WaterCombine);
  class RectangleCombine extends BasePolyCombine {
    constructor(_0x306555 = {}) {
      super(_0x306555);
      this._hasClampToGround = true;
    }
    _conversionStyle(_0x18e36d) {
      return RectangleStyleConver.toCesiumVal(_0x18e36d);
    }
    _style2Json(_0x441f2c, _0x47210a) {
      return RectangleStyleConver.toJSON(_0x441f2c, _0x47210a);
    }
    _createGeometryInstanceItem(_0x4f69c2, _0x880d38, _0x273b3a) {
      const _0x14d88f = _0x273b3a.positions = this.toCartesianPositions(_0x273b3a.positions, _0x4f69c2);
      _0x4f69c2.rectangle = Cesium__namespace.Rectangle.fromCartesianArray(_0x14d88f);
      if (Cesium__namespace.defined(_0x4f69c2.rectangle)) {
        if (Cesium__namespace.defined(this._rectangle)) {
          this._rectangle = Cesium__namespace.Rectangle.union(_0x4f69c2.rectangle, this._rectangle);
        } else {
          this._rectangle = _0x4f69c2.rectangle;
        }
      }
      if (Cesium__namespace.defined(_0x4f69c2.offsetAttribute) || Cesium__namespace.defined(_0x4f69c2.offsetHeight)) {
        _0x4f69c2.center = this._getCenter(_0x273b3a);
      }
      const _0x4277e9 = _0x880d38 ? Cesium__namespace.RectangleOutlineGeometry : Cesium__namespace.RectangleGeometry;
      const _0x2419e2 = new Cesium__namespace.GeometryInstance({
        geometry: new _0x4277e9(_0x4f69c2),
        attributes: this._createGeometryInstanceAttributes(_0x4f69c2)
      });
      return _0x2419e2;
    }
    _getPolylineOutlinePositions(_0x2a782d) {
      let _0x235701;
      if (Cesium__namespace.defined(_0x2a782d.style.rotationDegree)) {
        _0x235701 = Cesium__namespace.Math.toRadians(_0x2a782d.style.rotationDegree);
      } else if (Cesium__namespace.defined(_0x2a782d.style.rotation)) {
        _0x235701 = _0x2a782d.style.rotation;
      }
      const _0x483ba9 = getRectangleOuterPositions({
        rectangle: Cesium__namespace.Rectangle.fromCartesianArray(_0x2a782d.positions),
        rotation: _0x235701,
        height: _0x2a782d.style.height
      });
      return [_0x483ba9];
    }
  }
  register$5("rectangleC", RectangleCombine);
  class EditDivGraphic extends EditBase {
    set position(_0x50aa08) {
      this._graphic._position_draw = _0x50aa08;
    }
    get position() {
      return this._graphic._position_draw;
    }
    get container() {
      return this._graphic._container;
    }
    activate() {
      if (this._enabled) {
        return this;
      }
      this._enabled = true;
      this.container.addEventListener("mousemove", this._onMouseMove.bind(this));
      this.container.addEventListener("mouseout", this._onMouseOut.bind(this));
      this.container.addEventListener("mousedown", this._onMarkerDragStart.bind(this));
      this.container.addEventListener("touchend", this._onMouseOut.bind(this));
      this.container.addEventListener("touchstart", this._onMarkerDragStart.bind(this));
      addClass(this.container, this._graphic.style.editClassName || "mars3d-divGraphic-edit");
      this._graphic._draw_tooltip = this._map.getLangText("_拖动对象后") + "<br/>" + this._map.getLangText("_修改位置");
      this._graphic.onDragEnd = (_0x258cf1, _0x32ee18, _0x488b7d) => {
        this._graphic.position = _0x32ee18;
        this._editPositionsHook();
        const _0x21234b = {
          mouseEvent: _0x488b7d,
          cartesian: _0x32ee18
        };
        this.fire(EventType.editMovePoint, _0x21234b);
      };
      if (this._graphic.options.hasEditContextMenu ?? true) {
        this._graphic._draw_tooltip += "<br/>" + this._map.getLangText("_更多功能请右击");
        const _0x312e6c = this._graphic._contextmenuConfig;
        const _0x5c4b7c = this.getDraggerContextMenu(this._graphic);
        if (_0x312e6c && !_0x312e6c._private && !this._graphic._contextmenuConfig_bak) {
          this._graphic._contextmenuConfig_bak = _0x312e6c;
          _0x5c4b7c.push(..._0x312e6c.content);
        }
        const _0x2502e1 = this.layer._contextmenuConfig;
        if (_0x2502e1 && this.layer !== this._graphic) {
          _0x5c4b7c.push(..._0x2502e1.content);
        }
        this._graphic.bindContextMenu(_0x5c4b7c);
        this._graphic._contextmenuConfig._private = true;
      }
      this.fire(EventType.editStart);
      return this;
    }
    disable() {
      if (!this._enabled) {
        return this;
      }
      this._enabled = false;
      this.stopMoveMatrix();
      delete this._graphic.onDragEnd;
      delete this._graphic._draw_tooltip;
      this._resetContextMenu(this._graphic);
      this.container.removeEventListener("mousemove", this._onMouseMove);
      this.container.removeEventListener("mouseout", this._onMouseOut);
      this.container.removeEventListener("mousedown", this._onMarkerDragStart);
      this.container.removeEventListener("touchend", this._onMouseOut.bind(this));
      this.container.removeEventListener("touchstart", this._onMarkerDragStart.bind(this));
      this.unbindEvent();
      removeClass(this.container, this._graphic.style.editClassName || "mars3d-divGraphic-edit");
      this.fire(EventType.editStop);
      return this;
    }
    unbindEvent() {
      if (this._mouseMoveHandle) {
        document.removeEventListener("mousemove", this._mouseMoveHandle, false);
        document.removeEventListener("touchmove", this._mouseMoveHandle, false);
      }
      if (this._mouseUpHandle) {
        document.removeEventListener("mouseup", this._mouseUpHandle, false);
        document.removeEventListener("touchend", this._mouseUpHandle, false);
      }
      this._map._setEditCursor(false);
    }
    _onMouseMove(_0x3bbcd1) {
      if (this._graphic._draw_tooltip) {
        const _0x3904b6 = this._graphic._getWindowPosition(_0x3bbcd1);
        this._map.openSmallTooltip(_0x3904b6, this._graphic._draw_tooltip);
      }
    }
    _onMouseOut(_0x30e901) {
      this._map.closeSmallTooltip();
    }
    _onMarkerDragStart(_0x562f4e) {
      if (!this._enabled || _0x562f4e.which === 2 || _0x562f4e.which === 3 || this._matrixMove) {
        return;
      }
      _0x562f4e.preventDefault();
      this._map._setEditCursor(true);
      const _0x1046f5 = {
        mouseEvent: _0x562f4e
      };
      this.fire(EventType.editMouseDown, _0x1046f5);
      this.unbindEvent();
      if (!this._mouseMoveHandle) {
        this._mouseMoveHandle = _0x574412 => {
          this._onMarkerDrag(_0x574412);
        };
        this._mouseUpHandle = _0x533337 => {
          this._onMarkerDragEnd(_0x533337);
        };
      }
      document.addEventListener("mousemove", this._mouseMoveHandle, false);
      document.addEventListener("mouseup", this._mouseUpHandle, false);
      document.addEventListener("touchmove", this._mouseMoveHandle, false);
      document.addEventListener("touchend", this._mouseUpHandle, false);
    }
    _onMarkerDrag(_0x2783e8) {
      if (!this._enabled) {
        return;
      }
      _0x2783e8.preventDefault();
      const _0x2c5fc9 = this._graphic._getWindowPosition(_0x2783e8);
      const _0x56930e = this._map.mouseEvent.getCurrentMousePosition(_0x2c5fc9);
      if (!_0x56930e) {
        return;
      }
      this._graphic.position = _0x56930e;
      this._map.openSmallTooltip(_0x2c5fc9, this._map.getLangText("_释放后完成修改"));
      this._graphic._updatePointerEvents(false);
      const _0x4cc03f = {
        mouseEvent: _0x2783e8,
        cartesian: _0x56930e,
        windowPosition: _0x2c5fc9
      };
      this.fire(EventType.editMouseMove, _0x4cc03f);
    }
    _onMarkerDragEnd(_0x2f57d1) {
      if (!this._enabled) {
        return;
      }
      _0x2f57d1.preventDefault();
      this.unbindEvent();
      this._map.closeSmallTooltip();
      this._graphic._updatePointerEvents(this._graphic.hasBindInteraction());
      const _0x3d646a = this._graphic._getWindowPosition(_0x2f57d1);
      this._editPositionsHook();
      this.fire(EventType.editMovePoint, {
        mouseEvent: _0x2f57d1,
        cartesian: this._graphic.position,
        windowPosition: _0x3d646a
      });
    }
    stopMoveMatrix() {
      super.stopMoveMatrix();
      this._graphic._updatePointerEvents(this._graphic.hasBindInteraction());
    }
    startMoveMatrix(_0x734c30, _0x346d82) {
      super.startMoveMatrix(_0x734c30, _0x346d82);
      this._graphic._updatePointerEvents(false);
    }
    _updateMatrixMovePosition(_0x42d26a) {
      if (!this._matrixMove || !_0x42d26a.position) {
        return;
      }
      this._matrixMove.position = _0x42d26a.position;
    }
  }
  const isFirefox = window.navigator.userAgent.toLowerCase().indexOf("firefox") >= 0;
  class DivGraphic extends BaseGraphic {
    constructor(_0x568f22 = {}) {
      super(_0x568f22);
      this._isPoint = true;
      this._depthTest = this.options.depthTest ?? this.style.depthTest ?? true;
      this._hasCache = this.options.hasCache ?? this.style.hasCache ?? true;
      this._hasZIndex = this.options.hasZIndex ?? this.style.hasZIndex ?? false;
      this.options.frameRate = this.options.frameRate ?? 1;
    }
    get position() {
      return this._position;
    }
    set position(_0x2e6d7c) {
      this.options.position = _0x2e6d7c;
      this._setPointPostionFoyType(_0x2e6d7c);
      this._calculateAsynSurfacePosition();
      if (this._getRectangle_cache) {
        delete this._getRectangle_cache;
      }
    }
    _setPointPostion(_0x2b7401) {
      var _0x1d15c4;
      this._point = LngLatPoint.parse(_0x2b7401);
      if (this._point && (this._point.lat !== 0 || this._point.lng !== 0)) {
        const _0xf9bb2c = this.getSetHeight();
        if (Cesium__namespace.defined(_0xf9bb2c)) {
          this._point.alt = _0xf9bb2c;
        }
        const _0x24199b = this.getAddHeight();
        if (Cesium__namespace.defined(_0x24199b)) {
          this._point.alt += _0x24199b;
        }
      }
      this._position = (_0x1d15c4 = this._point) === null || _0x1d15c4 === undefined ? undefined : _0x1d15c4.toCartesian();
      if (this._testPointEntity) {
        this._testPointEntity.position = this._position;
      }
      this._updateDivPosition();
      this.fire(EventType.updatePosition, {
        position: this._position
      });
    }
    get point() {
      return this._point;
    }
    get center() {
      return this._position;
    }
    get positionShow() {
      var _0x106ea2;
      if (this._position_show) {
        return this._position_show;
      }
      return getPositionValue(this.position, (_0x106ea2 = this._map) === null || _0x106ea2 === undefined ? undefined : _0x106ea2.clock.currentTime);
    }
    get testPoint() {
      return this._testPointEntity != null;
    }
    set testPoint(_0x525dd2) {
      if (this._testPointEntity) {
        this._layer.dataSource.entities.remove(this._testPointEntity);
        delete this._testPointEntity;
      }
      if (_0x525dd2) {
        this.options.testPoint = {
          name: "用于与DIV点进行对比测试位置的点",
          color: "#ff0000",
          pixelSize: 10,
          outlineColor: "#ffffff",
          outlineWidth: 2,
          distanceDisplayCondition: this.style.distanceDisplayCondition,
          scaleByDistance: this.style.scaleByDistance,
          clampToGround: this.style.clampToGround,
          heightReference: this.style.heightReference,
          ...this.options.testPoint
        };
        this._testPointEntity = this._layer.dataSource.entities.add({
          name: this.options.testPoint?.name,
          position: this.position,
          point: PointStyleConver.toCesiumVal(this.options.testPoint)
        });
      }
    }
    get pointerEvents() {
      return this.options.pointerEvents;
    }
    set pointerEvents(_0x7dcf33) {
      this.options.pointerEvents = _0x7dcf33;
      this._updatePointerEvents(_0x7dcf33);
    }
    get isEditing() {
      return this._isEditing;
    }
    get EditClass() {
      return EditDivGraphic;
    }
    get depthTest() {
      return this._depthTest;
    }
    set depthTest(_0x3396a7) {
      this._depthTest = _0x3396a7;
      delete this._camera_cache;
    }
    get clampToGround() {
      return this.style.clampToGround;
    }
    set clampToGround(_0x5c91e8) {
      this.style.clampToGround = _0x5c91e8;
      this._calculateAsynSurfacePosition();
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._layer.container;
    }
    get parentContainerId() {
      return this.parentContainer?.id;
    }
    get container() {
      return this._container;
    }
    get containerId() {
      return this._container.id;
    }
    get template() {
      if (Cesium__namespace.defined(this.style.template)) {
        return this.style.template;
      }
      if (this._getDefaultTemplate) {
        return this._getDefaultTemplate();
      }
      return false;
    }
    set template(_0x843e7) {
      this.style.template = _0x843e7;
    }
    get html() {
      return this._container.innerHTML;
    }
    set html(_0x31a0c2) {
      this.style.html = _0x31a0c2;
      if (this._container && _0x31a0c2) {
        this._setHtml(_0x31a0c2).then(_0x466ff3 => {
          if (!_0x466ff3) {
            return;
          }
          if (this.style.className) {
            this.addClass(this.style.className);
          }
          if (this._appendHtmlHook) {
            this._appendHtmlHook();
          }
          delete this._camera_cache;
          this.fire(EventType.load);
        });
      }
    }
    async _setHtml(_0x548f04) {
      if (typeof _0x548f04 === "function") {
        _0x548f04 = _0x548f04(this.eventTarget);
      }
      if (_0x548f04 instanceof Promise) {
        _0x548f04 = await _0x548f04;
        delete this._camera_cache;
      }
      let _0x5ae158 = await this.getAjaxAttr();
      if (_0x5ae158 instanceof Promise) {
        _0x5ae158 = await _0x5ae158;
        delete this._camera_cache;
      }
      if (this.isDestroy) {
        return false;
      }
      if (_0x548f04 instanceof Element || _0x548f04 instanceof HTMLDivElement) {
        empty(this._container);
        if (_0x548f04.style.display !== "block") {
          _0x548f04.style.display = "block";
        }
        this._container.appendChild(_0x548f04);
        return true;
      } else if (isObject(_0x548f04) && _0x548f04.type === "ajax") {
        let _0x4d9f15 = await sendAjax({
          url: template(_0x548f04.url, _0x5ae158)
        });
        if (_0x548f04.dataColumn) {
          const _0x2e5b86 = _0x548f04.dataColumn.split(".");
          _0x2e5b86.forEach(_0x446e45 => {
            _0x4d9f15 = _0x4d9f15[_0x446e45];
          });
        }
        _0x5ae158 = {
          ..._0x5ae158,
          ..._0x4d9f15
        };
        _0x548f04 = _0x548f04.template || "all";
      }
      const _0x388b9d = this.style.templateEmptyStr ?? true;
      if (_0x548f04 === "all" || Array.isArray(_0x548f04)) {
        var _0x2f8bda;
        var _0x270638;
        let _0x2d4b55 = ((_0x2f8bda = this.options) === null || _0x2f8bda === undefined || (_0x2f8bda = _0x2f8bda.target) === null || _0x2f8bda === undefined || (_0x2f8bda = _0x2f8bda._layer) === null || _0x2f8bda === undefined ? undefined : _0x2f8bda.name) ?? ((_0x270638 = this.options) === null || _0x270638 === undefined || (_0x270638 = _0x270638.target) === null || _0x270638 === undefined ? undefined : _0x270638.name);
        if (this.options.noTitle) {
          _0x2d4b55 = null;
        } else if (this.options.title) {
          _0x2d4b55 = this.options.title;
        } else if (this.options.titleField) {
          _0x2d4b55 = _0x5ae158[this.options.titleField];
        }
        _0x548f04 = getTemplateHtml({
          template: _0x548f04,
          attr: _0x5ae158,
          title: _0x2d4b55,
          showNull: this.options.showNull,
          templateEmptyStr: _0x388b9d
        });
      }
      if (isString(_0x548f04)) {
        const _0x25333c = this.template;
        if (_0x25333c) {
          if (this._updateTemplateContentHtml && this._updateTemplateContentHtml(template(_0x548f04, _0x5ae158, _0x388b9d))) {
            return true;
          }
          _0x548f04 = _0x25333c.replace("{content}", _0x548f04);
        }
        this._container.innerHTML = template(_0x548f04, _0x5ae158, _0x388b9d);
        return true;
      }
      return false;
    }
    get divWidth() {
      return this._container?.offsetWidth;
    }
    get divHeight() {
      return this._container?.offsetHeight;
    }
    get eventTarget() {
      return this;
    }
    _showHook(_0x22091f) {
      if (!this._container) {
        return;
      }
      if (_0x22091f) {
        delete this._camera_cache;
        this._container.style.display = "block";
      } else {
        this.hide();
      }
      if (this._testPointEntity) {
        this._testPointEntity.show = _0x22091f;
      }
    }
    _updateCzmObjectShow(_0xe629f5) {
      this._showHook(_0xe629f5);
    }
    _updatePointerEvents(_0x2b140e) {
      if (this._container) {
        if (_0x2b140e) {
          this._container.style["pointer-events"] = "all";
        } else {
          this._container.style["pointer-events"] = "none";
        }
      }
    }
    setOpacity(_0x10de97) {
      this.style.globalAlpha = _0x10de97;
      if (this._container) {
        this._container.style.opacity = _0x10de97;
      }
      if (this._testPointEntity) {
        const _0x5ba28e = {
          ...this.options.testPoint
        };
        _0x5ba28e.globalAlpha = _0x10de97;
        PointStyleConver.toCesiumVal(_0x5ba28e, this._testPointEntity.point, true);
      }
    }
    _onEventHook() {
      this._updatePointerEvents(this.hasBindInteraction());
    }
    _mountedHook() {
      DivGraphicStyleConver.toCesiumVal(this.style, this);
      this._container = create$4("div", "mars3d-divGraphic ", this.parentContainer);
      this._container.id = this.id;
      this._container.style.opacity = this.style.globalAlpha;
      if (this.style.html) {
        this.html = this.style.html;
      }
      if (this.options.testPoint) {
        this.testPoint = this.options.testPoint;
      }
      this._updatePointerEvents(this.hasBindInteraction());
    }
    _addedHook(_0x2ec4fe) {
      this.hide();
      this._container.addEventListener("click", this._container_onClickHandler.bind(this));
      this._container.addEventListener("mousedown", this._container_onMousedownHandler.bind(this));
      this._container.addEventListener("mousemove", this._container_onMouseMoveHandler.bind(this));
      this._container.addEventListener("mouseout", this._container_onMouseoutHandler.bind(this));
      this._calculateAsynSurfacePosition();
      this.bindUpdateEvent();
      if (this._hasCache) {
        setTimeout(() => {
          delete this._camera_cache;
        }, 10);
      }
      this._map.on(EventType.morphComplete, this._morphCompleteHandler, this);
    }
    _removedHook() {
      this.stopDraw();
      this.stopEditing();
      if (this._map) {
        this._map.off(EventType.morphComplete, this._morphCompleteHandler, this);
        this._map.off(EventType.terrainChange, this._onTerrainChangeHandler, this);
      }
      this.testPoint = false;
      if (this._container) {
        this._container.removeEventListener("click", this._container_onClickHandler);
        this._container.removeEventListener("mousedown", this._container_onMousedownHandler);
        this._container.removeEventListener("mousemove", this._container_onMouseMoveHandler);
        this._container.removeEventListener("mouseout", this._container_onMouseoutHandler);
        remove(this._container);
      }
    }
    redraw() {
      this.enabledEvent = false;
      const _0x5b836c = this._layer;
      this._onRemove();
      this._onAdd(_0x5b836c);
      this.enabledEvent = true;
    }
    _morphCompleteHandler(_0x2c2a6e) {
      setTimeout(() => {
        if (this.isAdded) {
          this.updateDivPosition();
        }
      }, 30);
    }
    _calculateAsynSurfacePosition() {
      delete this._camera_cache;
      this._hasAsynSurfacePosition = false;
      const _0x34d8e1 = this.position;
      if (_0x34d8e1 instanceof Cesium__namespace.Cartesian3 && (this.style.clampToGround || Cesium__namespace.defined(this.style.heightReference) && this.style.heightReference !== Cesium__namespace.HeightReference.NONE)) {
        getSurfaceHeight(this._map.scene, _0x34d8e1, this.options).then(_0x30d541 => {
          if (this.isDestroy) {
            return;
          }
          if (this.style.heightReference === Cesium__namespace.HeightReference.RELATIVE_TO_GROUND || this.style.heightReference === Cesium__namespace.HeightReference.RELATIVE_TO_TERRAIN || this.style.heightReference === Cesium__namespace.HeightReference.RELATIVE_TO_3D_TILE) {
            _0x30d541.point.alt += _0x30d541.height_original;
          }
          this._setPointPostion(_0x30d541.point);
          this._hasAsynSurfacePosition = true;
        });
        this._map.off(EventType.terrainChange, this._onTerrainChangeHandler, this);
        this._map.on(EventType.terrainChange, this._onTerrainChangeHandler, this);
      }
    }
    _onTerrainChangeHandler(_0x58b286) {
      if (this._map) {
        this._calculateAsynSurfacePosition();
      }
    }
    _updateStyleBaseHook(_0x289721) {
      DivGraphicStyleConver.toCesiumVal(this.style, this);
      if (Cesium__namespace.defined(_0x289721.setHeight) || Cesium__namespace.defined(_0x289721.addHeight)) {
        this._setPointPostion(this._point);
      }
      if (Cesium__namespace.defined(_0x289721.clampToGround)) {
        this._calculateAsynSurfacePosition();
      }
      delete this._camera_cache;
      this._updateDivPosition();
      return this;
    }
    updateDivPosition() {
      delete this._camera_cache;
      this._updateDivPosition();
      return this;
    }
    _updateAvailabilityHook(_0x2a3d77) {
      if (this._testPointEntity) {
        this._testPointEntity.availability = _0x2a3d77;
      }
    }
    update(_0x33294b) {
      if (!this.getRealShow(_0x33294b.time)) {
        this.hide();
        return;
      }
      if (this.style.timeRender && this.style.html) {
        this.html = this.style.html;
      }
      this._updateDivPosition();
      this.fire(EventType.postRender, {
        container: this.container
      }, false);
    }
    _updateDivPosition() {
      var _0x2e0645;
      if (!this.getRealShow() || !this._container) {
        return false;
      }
      const _0x5c904a = this._map.scene;
      const _0x3ac9ea = this._map.camera;
      const _0x37fae9 = getPositionValue(this.position, (_0x2e0645 = this._map) === null || _0x2e0645 === undefined ? undefined : _0x2e0645.clock.currentTime);
      if (!Cesium__namespace.defined(_0x37fae9)) {
        this.hide();
        return false;
      }
      if (this._hasCache) {
        const _0x193311 = _0x3ac9ea.positionCartographic;
        const _0xa69654 = {
          x: _0x37fae9.x,
          y: _0x37fae9.y,
          z: _0x37fae9.z,
          p1: this._map.container.clientWidth,
          p2: this._map.container.clientHeight,
          p3: _0x193311.longitude,
          p4: _0x193311.latitude,
          p5: _0x193311.height,
          p6: _0x3ac9ea.heading,
          p7: _0x3ac9ea.pitch,
          p8: _0x3ac9ea.roll
        };
        const _0x390dde = _0xa69654;
        if (this._camera_cache && _0x390dde.x === this._camera_cache.x && _0x390dde.y === this._camera_cache.y && _0x390dde.z === this._camera_cache.z && _0x390dde.p1 === this._camera_cache.p1 && _0x390dde.p2 === this._camera_cache.p2 && _0x390dde.p3 === this._camera_cache.p3 && _0x390dde.p4 === this._camera_cache.p4 && _0x390dde.p5 === this._camera_cache.p5 && _0x390dde.p6 === this._camera_cache.p6 && _0x390dde.p7 === this._camera_cache.p7 && _0x390dde.p8 === this._camera_cache.p8) {
          return true;
        }
        this._camera_cache = _0x390dde;
      }
      this._position_show = _0x37fae9;
      const _0x372da3 = toWindowCoordinates$1(_0x5c904a, _0x37fae9, this._timeinfo?.windowPosition);
      const _0x42e283 = this.distanceDisplayCondition;
      const _0x43d494 = this.scaleByDistance;
      let _0x1e282b = _0x3ac9ea.positionCartographic.height;
      if (this._hasZIndex || _0x42e283 || _0x43d494) {
        if (_0x5c904a.mode === Cesium__namespace.SceneMode.SCENE3D) {
          _0x1e282b = Cesium__namespace.Cartesian3.distance(_0x37fae9, _0x3ac9ea.positionWC);
        }
      }
      if (!_0x372da3 || _0x42e283 && (_0x42e283.near > _0x1e282b || _0x42e283.far < _0x1e282b)) {
        if (this._container.style.display === "block") {
          this.hide();
        }
        return false;
      }
      if (this.depthTest && _0x5c904a.mode === Cesium__namespace.SceneMode.SCENE3D) {
        const _0xb022e = this.isInView(_0x37fae9);
        if (!_0xb022e) {
          if (this._container.style.display === "block") {
            this.hide();
          }
          return false;
        }
      }
      if (this._container.style.display !== "block") {
        delete this._camera_cache;
        this._container.style.display = "block";
      }
      const _0x156616 = this._getDivOffset(_0x372da3);
      let {
        width: _0x4a2ba9,
        height: _0xbf8d9d,
        xOffset: _0x16bf79,
        yOffset: _0x31e733
      } = _0x156616;
      let _0x42a556 = this.style.scale ?? 1;
      if (_0x43d494) {
        if (_0x1e282b <= _0x43d494.near) {
          _0x42a556 = _0x43d494.nearValue;
        } else if (_0x1e282b > _0x43d494.near && _0x1e282b < _0x43d494.far) {
          _0x42a556 = _0x43d494.nearValue + (_0x43d494.farValue - _0x43d494.nearValue) * (_0x1e282b - _0x43d494.near) / (_0x43d494.far - _0x43d494.near);
        } else {
          _0x42a556 = _0x43d494.farValue;
        }
        _0x16bf79 *= _0x42a556;
      }
      let _0x33a92d = this.options.zIndex ?? "auto";
      if (this._hasZIndex) {
        _0x33a92d = Math.round(9999999 - _0x1e282b);
        if (_0x33a92d <= 0) {
          _0x33a92d = 9999999;
        }
      }
      const _0x17af1f = {
        position: _0x37fae9,
        windowPosition: _0x372da3,
        distance: _0x1e282b,
        zIndex: _0x33a92d,
        height: _0xbf8d9d,
        width: _0x4a2ba9,
        xOffset: _0x16bf79,
        yOffset: _0x31e733,
        x: _0x372da3.x + _0x16bf79,
        y: _0x372da3.y + _0x31e733,
        scale: _0x42a556
      };
      const _0x2766ee = _0x17af1f;
      this._timeinfo = _0x2766ee;
      if (this._updateDivPosition_Ex) {
        this._updateDivPosition_Ex(_0x2766ee);
      }
      merge(this._container.style, {
        transform: "translateX(" + formatNum$1(_0x2766ee.x, 1) + "px) translateY(" + formatNum$1(_0x2766ee.y, 1) + "px) scale(" + _0x2766ee.scale + ") ",
        "transform-origin": "left bottom",
        "z-index": _0x2766ee.zIndex
      });
      this.fire(EventType.change, _0x2766ee, true);
    }
    _getDivOffset(_0x282e28) {
      const _0x513a94 = this.divHeight;
      const _0x1c0cfc = this.divWidth;
      let _0x3dce2a = 0;
      let _0x10f98a = 0;
      switch (this.style.horizontalOrigin) {
        case "CENTER":
        case Cesium__namespace.HorizontalOrigin.CENTER:
          _0x3dce2a = -_0x1c0cfc / 2;
          break;
        case "RIGHT":
        case Cesium__namespace.HorizontalOrigin.RIGHT:
          _0x3dce2a = -_0x1c0cfc;
          break;
        case "LEFT":
        case Cesium__namespace.HorizontalOrigin.LEFT:
        default:
          _0x3dce2a = 0;
          break;
      }
      switch (this.style.verticalOrigin) {
        case "TOP":
        case Cesium__namespace.VerticalOrigin.TOP:
          _0x10f98a = 0;
          break;
        case "CENTER":
        case Cesium__namespace.VerticalOrigin.CENTER:
          _0x10f98a = -_0x513a94 / 2;
          break;
        case "BOTTOM":
        case Cesium__namespace.VerticalOrigin.BOTTOM:
        default:
          _0x10f98a = -_0x513a94;
          break;
      }
      if (this.style.anchor) {
        _0x3dce2a += this.style.anchor[0];
        _0x10f98a += this.style.anchor[1];
      } else {
        if (this.style.offsetX) {
          _0x3dce2a += this.style.offsetX;
        }
        if (this.style.offsetY) {
          _0x10f98a += this.style.offsetY;
        }
      }
      const _0xd89448 = {
        height: _0x513a94,
        width: _0x1c0cfc,
        xOffset: _0x3dce2a,
        yOffset: _0x10f98a
      };
      return _0xd89448;
    }
    getBoundingBox(_0xd1afe6, _0x3a37a1) {
      if (!Cesium__namespace.defined(_0x3a37a1)) {
        _0x3a37a1 = new Cesium__namespace.BoundingRectangle();
      }
      _0x3a37a1.x = _0xd1afe6.x + this._timeinfo?.xOffset ?? 0;
      _0x3a37a1.y = _0xd1afe6.y + this._timeinfo?.yOffset ?? 0;
      _0x3a37a1.width = this._timeinfo?.width ?? this.divWidth ?? 10;
      _0x3a37a1.height = this._timeinfo?.height ?? this.divHeight ?? 10;
      return _0x3a37a1;
    }
    hide() {
      this._container.style.display = "none";
      delete this._camera_cache;
    }
    _getGeoJsonGeometry(_0x57b39b) {
      return {
        type: "Point",
        coordinates: this.getCoord(_0x57b39b)
      };
    }
    get hasAjaxPostion() {
      return this._hasPointTypePostion("ajax");
    }
    get hasTimePostion() {
      return this._hasPointTypePostion("time") || this.property;
    }
    get timeRange() {
      return this._getPointTimeRange();
    }
    get timeRangeStr() {
      return this._getPointTimeRange(true);
    }
    clearTimePostion(_0x3fd7e7) {
      return this._clearPointTimePostion(_0x3fd7e7);
    }
    addTimePosition(_0x3865fd, _0x3291f3) {
      var _0x438cae;
      var _0x343dee;
      if (!this.property) {
        const _0x180641 = new Cesium__namespace.SampledPositionProperty(this.options.referenceFrame, this.options.numberOfDerivatives);
        _0x180641.forwardExtrapolationType = this.options.forwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        _0x180641.backwardExtrapolationType = this.options.backwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        this._orientation = this.options.orientation || new Cesium__namespace.VelocityOrientationProperty(_0x180641);
        this.property = _0x180641;
        this._setPointPostion(_0x180641);
        this._maxCacheCount = this.options.maxCacheCount ?? 1000;
      } else if (this.property !== this.position) {
        this._setPointPostion(this.property);
      }
      if (this._maxCacheCount > 0) {
        this.clearTimePostion(this._maxCacheCount);
      }
      const _0x478875 = ((_0x438cae = this._map) === null || _0x438cae === undefined || (_0x438cae = _0x438cae.clock) === null || _0x438cae === undefined ? undefined : _0x438cae.currentTime) || Cesium__namespace.JulianDate.now();
      if (!_0x3291f3) {
        _0x3291f3 = _0x478875;
      } else {
        _0x3291f3 = getJulianDate$1(_0x3291f3, _0x478875);
      }
      _0x3865fd = LngLatPoint.parse(_0x3865fd);
      const _0x1eabad = (_0x343dee = this.property) === null || _0x343dee === undefined || (_0x343dee = _0x343dee._property) === null || _0x343dee === undefined ? undefined : _0x343dee._times;
      if (this.options.autoMiddleTimePosition && _0x1eabad?.length > 0 && this._position) {
        const _0x8b9c2c = _0x1eabad[_0x1eabad.length - 1];
        if (Cesium__namespace.JulianDate.secondsDifference(_0x478875, _0x8b9c2c) > 0.3) {
          let _0x52e8f7 = this._position;
          if (this._lastDynamicPosition) {
            const _0x139ad7 = 0.01;
            _0x52e8f7 = getOnLinePointByLen(this._lastDynamicPosition, this._position, _0x139ad7, true);
          }
          _0x52e8f7 = setPositionsHeight(_0x52e8f7, _0x3865fd.alt || 0);
          this.property.addSample(_0x478875, _0x52e8f7);
        }
      }
      const _0x302336 = _0x3865fd.toCartesian();
      this.position.addSample(_0x3291f3, _0x302336);
      return this;
    }
    openHighlight(_0x5bcf82, _0x40b01f = true) {
      if (_0x40b01f) {
        this._map.closeHighlight();
        this._map.last_highlighGraphic = this;
      }
      this._highlight_state = true;
      const _0x94d140 = _0x5bcf82 || this._highlightOptions || this._layer?._highlightOptions;
      if (_0x94d140 && _0x94d140.className) {
        this.addClass(_0x94d140.className);
        this._highlightOptions = _0x94d140;
        this.fire(EventType.highlightOpen, {}, true);
      }
    }
    closeHighlight() {
      var _0x38fe74;
      if (!this.isAdded || !this._highlight_state) {
        return;
      }
      delete this._highlight_state;
      this._map._clearLastHighlight();
      if ((_0x38fe74 = this._highlightOptions) !== null && _0x38fe74 !== undefined && _0x38fe74.className) {
        this.removeClass(this._highlightOptions.className);
        this.fire(EventType.highlightClose, {}, true);
      }
    }
    _getWindowPosition(_0x3a1685) {
      if (_0x3a1685.touches) {
        const _0x1fed06 = _0x3a1685.touches[0];
        return new Cesium__namespace.Cartesian2(_0x1fed06?.clientX, _0x1fed06?.clientY);
      }
      if (isFirefox) {
        const _0x366466 = this._map.container.getBoundingClientRect();
        return new Cesium__namespace.Cartesian2(_0x3a1685.clientX - _0x366466.left, _0x3a1685.clientY - _0x366466.top);
      }
      return new Cesium__namespace.Cartesian2(_0x3a1685.layerX, _0x3a1685.layerY);
    }
    _getEventTarget(_0x4b500d) {
      if (_0x4b500d.stopPropagation) {
        _0x4b500d.stopPropagation();
      }
      const _0x25efe5 = this._getWindowPosition(_0x4b500d);
      const _0x27abff = {
        mouseEvent: _0x4b500d,
        cartesian: this.positionShow,
        windowPosition: _0x25efe5,
        sourceTarget: this,
        graphic: this,
        layer: this._layer
      };
      const _0x1d4986 = _0x27abff;
      if (this._layer && (this._layer._graphic_drawing || this._layer.isAutoEditing && this.hasEdit)) {
        _0x1d4986.cartesian = this._map.mouseEvent.getCurrentMousePosition(_0x25efe5);
      }
      return _0x1d4986;
    }
    _container_onClickHandler(_0x47c158) {
      if (this._isEditing) {
        return;
      }
      const _0x390f69 = this._getEventTarget(_0x47c158);
      _0x390f69.position = _0x390f69.windowPosition;
      this.fire(EventType.click, _0x390f69, true);
    }
    _container_onMousedownHandler(_0x44700c) {
      if (_0x44700c.button !== 2) {
        return;
      }
      const _0x4be79e = this._getEventTarget(_0x44700c);
      _0x4be79e.position = _0x4be79e.windowPosition;
      this.fire(EventType.rightClick, _0x4be79e, true);
    }
    _container_onMouseMoveHandler(_0x4f5586) {
      if (this._isEditing) {
        return;
      }
      this._map.mouseEvent.clearMoveTargetDelay();
      const _0x15e8af = this._getEventTarget(_0x4f5586);
      _0x15e8af.endPosition = _0x15e8af.windowPosition;
      this._map.fire(EventType.mouseMove, _0x15e8af);
      this._map.fire(EventType.mouseMoveTarget, _0x15e8af);
      if (!this._hasMouseOver) {
        this.fire(EventType.mouseOver, _0x15e8af, true);
      }
      this._hasMouseOver = true;
    }
    _container_onMouseoutHandler(_0x57b950) {
      if (this._isEditing) {
        return;
      }
      this._hasMouseOver = false;
      const _0x1ab87f = this._getEventTarget(_0x57b950);
      this.fire(EventType.mouseOut, _0x1ab87f, true);
    }
    autoSurfaceHeight(_0x48e501) {
      return getSurfaceHeight(this._map.scene, this.position, _0x48e501 ?? this.options).then(_0xed389 => {
        if (_0xed389.position) {
          this._setPointPostion(_0xed389.position);
        }
      });
    }
    _style2Json(_0xe0cd0d, _0x48d30a) {
      return DivGraphicStyleConver.toJSON(_0xe0cd0d, _0x48d30a, true);
    }
    getRectangle(_0x3cdecf) {
      const _0x48068b = this.positionShow;
      if (!_0x48068b) {
        return;
      }
      const _0x51789c = getRectangle([_0x48068b], _0x3cdecf?.isFormat);
      return _0x51789c;
    }
    addClass(_0x18e9a8, _0x880838) {
      var _0x1ad261;
      if (((_0x1ad261 = this._container) === null || _0x1ad261 === undefined || (_0x1ad261 = _0x1ad261.children) === null || _0x1ad261 === undefined ? undefined : _0x1ad261.length) > 0 && !_0x880838) {
        for (let _0x5460ff = 0, _0x477144 = this._container.children.length; _0x5460ff < _0x477144; _0x5460ff++) {
          const _0xc5c41a = this._container.children[_0x5460ff];
          addClass(_0xc5c41a, _0x18e9a8);
        }
      } else {
        addClass(this._container, _0x18e9a8);
      }
    }
    removeClass(_0x3fddb5, _0x486270) {
      var _0x23caed;
      if (((_0x23caed = this._container) === null || _0x23caed === undefined || (_0x23caed = _0x23caed.children) === null || _0x23caed === undefined ? undefined : _0x23caed.length) > 0 && !_0x486270) {
        for (let _0x591599 = 0, _0x2d8320 = this._container.children.length; _0x591599 < _0x2d8320; _0x591599++) {
          const _0xcc8b62 = this._container.children[_0x591599];
          removeClass(_0xcc8b62, _0x3fddb5);
        }
      } else {
        removeClass(this._container, _0x3fddb5);
      }
    }
    get isDrawing() {
      return this._isDrawing;
    }
    startDraw(_0x5d71b4) {
      if (this._isDrawing) {
        return this;
      }
      this._isDrawing = true;
      if (_0x5d71b4) {
        this.addTo(_0x5d71b4);
      }
      if (!this._map) {
        throw new Error("绘制时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._map._setEditCursor(true);
      this.enableControl(false);
      this._startDrawHook();
      this.fire(EventType.drawStart, {
        drawType: this.type,
        graphic: this
      }, true);
    }
    stopDraw() {
      var _0x319900;
      var _0x3f49d0;
      if (!this._isDrawing) {
        return this;
      }
      this._stopDrawHook();
      this._map._setEditCursor(false);
      this.enableControl(true);
      this._map.closeSmallTooltip();
      this._isDrawing = false;
      if (!this._position) {
        this.remove(true);
        return undefined;
      }
      this.fire(EventType.drawCreated, {
        drawType: this.type,
        graphic: this
      }, true);
      if ((_0x319900 = this.options) !== null && _0x319900 !== undefined && _0x319900.success) {
        this.options.success(this);
      }
      if ((_0x3f49d0 = this.options) !== null && _0x3f49d0 !== undefined && (_0x3f49d0 = _0x3f49d0._promise) !== null && _0x3f49d0 !== undefined && _0x3f49d0.resolve) {
        this.options._promise.resolve(this);
      }
    }
    _startDrawHook() {
      this._updatePointerEvents(false);
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler_point, this);
      this._map.on(EventType.click, this._onClickHandler_point, this);
    }
    _stopDrawHook() {
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler_point, this);
      this._map.off(EventType.click, this._onClickHandler_point, this);
      this._updatePointerEvents(this.hasBindInteraction());
    }
    _onMouseMoveHandler_point(_0x330fc7) {
      const _0x81a354 = _0x330fc7.cartesian;
      if (_0x81a354) {
        this._setPointPostion(_0x81a354);
      }
      this._map.openSmallTooltip(_0x330fc7.endPosition, this._draw_tooltip || this._map.getLangText("_单击完成绘制"));
      this.fire(EventType.drawMouseMove, {
        ..._0x330fc7,
        drawType: this.type,
        graphic: this
      }, true);
    }
    _onClickHandler_point(_0x4f315b) {
      const _0x3ef3d6 = _0x4f315b.cartesian;
      if (_0x3ef3d6) {
        this._setPointPostion(_0x3ef3d6);
      }
      this.stopDraw();
    }
    _setPositionsToCallback() {}
    _cancelPositionsCallback() {}
    endDraw() {
      if (!this._isDrawing) {
        return this;
      }
      if (this._positions_draw.length < this._minPointNum) {
        return;
      }
      this.updateAttrForDrawing(false);
      this.stopDraw();
    }
    updateAttrForDrawing(_0x36c2bd) {}
    enableControl(_0x35bce9) {
      var _0x3acb03;
      var _0x348c09;
      this._map.mouseEvent.enabledMoveTarget = _0x35bce9;
      if ((_0x3acb03 = this._map) !== null && _0x3acb03 !== undefined && _0x3acb03.popup) {
        this._map.popup.enabled = _0x35bce9;
      }
      if ((_0x348c09 = this._map) !== null && _0x348c09 !== undefined && _0x348c09.tooltip) {
        this._map.tooltip.enabled = _0x35bce9;
      }
    }
    startEditing() {
      if (this._isEditing) {
        return this;
      }
      this._isEditing = true;
      if (!this._map) {
        throw new Error("编辑时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._draw_tooltip = this._map.getLangText("_释放后完成修改");
      this.enableControl(false);
      if (!this.editing) {
        let _0x5a1220;
        if (this.hasTimePostion) {
          _0x5a1220 = EditTimePoint;
        } else {
          _0x5a1220 = this.EditClass;
        }
        this.editing = new _0x5a1220(this);
      }
      if (this.editing.activate) {
        this.editing.activate();
      }
    }
    stopEditing() {
      var _0x46604f;
      if (!this._isEditing) {
        return this;
      }
      if ((_0x46604f = this.editing) !== null && _0x46604f !== undefined && _0x46604f.disable) {
        this.editing.disable();
      }
      this.enableControl(true);
      this._map.closeSmallTooltip();
      this._isEditing = false;
    }
    _creteLineForTime() {
      this._line_forytime = create$5("polyline", {
        positions: new Cesium__namespace.CallbackProperty(_0xc5bee3 => {
          return this._positions_draw;
        }, false),
        style: {
          width: 2,
          materialType: "LineFlowColor",
          materialOptions: {
            color: "#00ffff",
            speed: 5,
            percent: 0.2,
            alpha: 0.3
          }
        },
        private: true
      });
      this._line_forytime.parent = this;
      this._layer.addGraphic(this._line_forytime);
      this._setPointPostion(new Cesium__namespace.CallbackProperty(_0x4b4b5f => {
        if (this._positions_draw.length > 0) {
          return this._positions_draw[0];
        }
      }, false));
      this._updatePointerEvents(false);
    }
    _removeLineForTime() {
      if (this._line_forytime) {
        this._layer.removeGraphic(this._line_forytime, true);
        delete this._line_forytime;
      }
      this._setPointPostion(this.property);
      this._updatePointerEvents(this.hasBindInteraction());
    }
    addDynamicPosition(_0x81bf17, _0x8bed21) {
      return this.addTimePosition(_0x81bf17, _0x8bed21);
    }
    get coordinate() {
      return this.getCoord();
    }
    getCoordinate(_0x4460f1) {
      const _0x2fb7b8 = {
        noAlt: _0x4460f1
      };
      return this.getCoord(_0x2fb7b8);
    }
  }
  register$5("div", DivGraphic, true);
  const _0x39a69f = {
    font_size: 15,
    font_family: "楷体",
    color: "#ccc",
    boderColor: "rgb(21, 209, 242)",
    horizontalOrigin: Cesium__namespace.HorizontalOrigin.CENTER,
    verticalOrigin: Cesium__namespace.VerticalOrigin.CENTER
  };
  const DEF_STYLE$f = _0x39a69f;
  class DivBoderLabel extends DivGraphic {
    constructor(_0x1f9783 = {}) {
      _0x1f9783.style = {
        ...DEF_STYLE$f,
        ..._0x1f9783.style
      };
      _0x1f9783.style.html = getHtmlByStyle$3(_0x1f9783.style, _0x1f9783.attr);
      super(_0x1f9783);
      const _0x155660 = _0x1f9783.style.font_size;
      const _0x41d7a4 = _0x1f9783.style.width || getStrLength(_0x1f9783.style.text) * _0x155660 * 0.6;
      const _0x1820ac = _0x1f9783.style.height || _0x155660 * 2;
      this._divWidth = _0x41d7a4;
      this._divHeight = _0x1820ac;
    }
    get divWidth() {
      return this._divWidth;
    }
    get divHeight() {
      return this._divHeight;
    }
    _updateStyleBaseHook(_0x2b2b6b) {
      if (_0x2b2b6b.html) {
        delete _0x2b2b6b.html;
      }
      if (Cesium__namespace.defined(_0x2b2b6b.color) || Cesium__namespace.defined(_0x2b2b6b.boderColor) || Cesium__namespace.defined(_0x2b2b6b.font_size) || Cesium__namespace.defined(_0x2b2b6b.font_family) || Cesium__namespace.defined(_0x2b2b6b.text)) {
        this.html = getHtmlByStyle$3(this.style, this.attr);
      }
      super._updateStyleBaseHook(_0x2b2b6b);
      return this;
    }
  }
  register$5("divBoderLabel", DivBoderLabel, true);
  function getHtmlByStyle$3(_0x4a74da, _0x3e62cb) {
    const _0x597a44 = _0x4a74da.color;
    const _0x50cc2c = _0x4a74da.boderColor;
    const _0x1e0dd4 = Cesium__namespace.Color.fromCssColorString(_0x50cc2c).withAlpha(0.5).toCssColorString();
    const _0xa661ed = _0x4a74da.font_size;
    const _0x9cbd86 = _0x4a74da.width || getStrLength(_0x4a74da.text) * _0xa661ed * 0.6;
    const _0x13535c = _0x4a74da.height || _0xa661ed * 2;
    return "\n  <div class=\"mars3d-divBoderLabel\" style=\"\n  --text-font-size: " + _0xa661ed + "px;\n  --boder-width: " + _0x9cbd86 + "px;\n  --clip-width-1: " + (_0x9cbd86 + _0xa661ed) + "px;\n  --clip-width-2: " + (_0x9cbd86 + _0xa661ed - 2) + "px;\n  --boder-height: " + _0x13535c + "px;\n  --clip-height-1: " + (_0x13535c + 10) + "px;\n  --clip-height-2: " + (_0x13535c + 8) + "px;\n  --text-color: " + _0x597a44 + ";\n  --border-color: " + _0x50cc2c + ";\n  --box-shadow-color: " + _0x1e0dd4 + ";\">\n     <div class=\"mars3d-divBoderLabel-boder\">\n       <span class=\"mars3d-divBoderLabel-text\" style=\"font-family:" + _0x4a74da.font_family + ";\">" + template(_0x4a74da.text, _0x3e62cb, _0x4a74da.templateEmptyStr ?? true) + "</span>\n     </div>\n  </div> ";
  }
  const _0x13aefc = {
    color: "#f33349",
    horizontalOrigin: Cesium__namespace.HorizontalOrigin.CENTER,
    verticalOrigin: Cesium__namespace.VerticalOrigin.CENTER
  };
  const DEF_STYLE$e = _0x13aefc;
  class DivLightPoint extends DivGraphic {
    constructor(_0x36df7c = {}) {
      _0x36df7c.style = {
        ...DEF_STYLE$e,
        ..._0x36df7c.style
      };
      _0x36df7c.style.html = getHtmlByStyle$2(_0x36df7c.style, _0x36df7c.attr);
      super(_0x36df7c);
    }
    _updateStyleBaseHook(_0x48228b) {
      if (_0x48228b.html) {
        delete _0x48228b.html;
      }
      if (Cesium__namespace.defined(_0x48228b.color) || Cesium__namespace.defined(_0x48228b.size) || Cesium__namespace.defined(_0x48228b.label)) {
        this.html = getHtmlByStyle$2(this.style, this.attr);
      }
      super._updateStyleBaseHook(_0x48228b);
      return this;
    }
  }
  register$5("divLightPoint", DivLightPoint, true);
  function getHtmlByStyle$2(_0x4bc414, _0xeb9bf3) {
    return "\n  <div class=\"mars3d-animation-point\" style=\"color:" + _0x4bc414.color + ";width: " + _0x4bc414.size + "px;height: " + _0x4bc414.size + "px;\">\n    " + (_0x4bc414.billboard ? "<img src=\"" + _0x4bc414.billboard.image + "\" style=\"position: absolute;" + getTemplateTranslate(_0x4bc414.billboard) + "\" ></div>" : "") + "\n    <p></p>\n    " + (_0x4bc414.label ? "<div class=\"mars3d-animation-point-lbl\" style=\"color:" + (_0x4bc414.label.color || _0x4bc414.color) + ";\">" + template(_0x4bc414.label.text, _0xeb9bf3, _0x4bc414.label.templateEmptyStr ?? true) + "</div>" : "") + "\n  </div>";
  }
  function getTemplateTranslate(_0x474f3f) {
    let _0x5b057c;
    let _0x5ab829;
    let _0x3bc99 = "";
    switch (_0x474f3f.horizontalOrigin) {
      case "CENTER":
      case Cesium__namespace.HorizontalOrigin.CENTER:
        _0x5b057c = "-50%";
        _0x3bc99 += "left:50%;";
        break;
      case "RIGHT":
      case Cesium__namespace.HorizontalOrigin.RIGHT:
        _0x5b057c = "-100%";
        break;
      case "LEFT":
      case Cesium__namespace.HorizontalOrigin.LEFT:
      default:
        _0x5b057c = "0";
        break;
    }
    switch (_0x474f3f.verticalOrigin) {
      case "TOP":
      case Cesium__namespace.VerticalOrigin.TOP:
        _0x5ab829 = "0";
        break;
      case "CENTER":
      case Cesium__namespace.VerticalOrigin.CENTER:
        _0x5ab829 = "-50%";
        break;
      case "BOTTOM":
      case Cesium__namespace.VerticalOrigin.BOTTOM:
      default:
        _0x5ab829 = "-100%";
        break;
    }
    if (_0x474f3f.offsetX) {
      _0x5b057c = _0x474f3f.offsetX + "px";
    }
    if (_0x474f3f.offsetY) {
      _0x5ab829 = _0x474f3f.offsetY + "px";
    }
    return "transform:translateX(" + _0x5b057c + ") translateY(" + _0x5ab829 + ");" + _0x3bc99;
  }
  const _0xbda95a = {
    color: "white",
    font_family: "楷体",
    font_size: 15,
    lineHeight: 100,
    circleSize: 10,
    horizontalOrigin: Cesium__namespace.HorizontalOrigin.CENTER,
    verticalOrigin: Cesium__namespace.VerticalOrigin.BOTTOM
  };
  const DEF_STYLE$d = _0xbda95a;
  class DivUpLabel extends DivGraphic {
    constructor(_0x420611 = {}) {
      _0x420611.style = {
        ...DEF_STYLE$d,
        ..._0x420611.style
      };
      _0x420611.style.html = getHtmlByStyle$1(_0x420611.style, _0x420611.attr);
      super(_0x420611);
    }
    _updateStyleBaseHook(_0x272fd4) {
      if (_0x272fd4.html) {
        delete _0x272fd4.html;
      }
      if (Cesium__namespace.defined(_0x272fd4.color) || Cesium__namespace.defined(_0x272fd4.circleSize) || Cesium__namespace.defined(_0x272fd4.font_size) || Cesium__namespace.defined(_0x272fd4.font_family) || Cesium__namespace.defined(_0x272fd4.lineHeight) || Cesium__namespace.defined(_0x272fd4.text)) {
        this.html = getHtmlByStyle$1(this.style, this.attr);
      }
      super._updateStyleBaseHook(_0x272fd4);
      return this;
    }
  }
  register$5("divUpLabel", DivUpLabel, true);
  function getHtmlByStyle$1(_0xf501c6, _0x1c15a3) {
    const _0x24cb16 = _0xf501c6.color;
    const _0x9fb4d7 = _0xf501c6.circleSize;
    return "\n  <div class=\"mars3d-divUpLabel\" style=\"color: " + _0x24cb16 + ";\">\n    <div class=\"mars3d-divUpLabel-text\" style=\"font-family:" + _0xf501c6.font_family + ";font-size: " + _0xf501c6.font_size + "px;\">" + template(_0xf501c6.text, _0x1c15a3, true) + "</div>\n    <div class=\"mars3d-divUpLabel-line\"  style=\"\n        height: " + _0xf501c6.lineHeight + "px;\n        background-color: " + _0x24cb16 + ";\"></div>\n    <div style=\"border-radius: 50%;\n        width: " + _0x9fb4d7 + "px;\n        height: " + _0x9fb4d7 + "px;\n        margin-left: calc(50% - " + _0x9fb4d7 / 2 + "px);\n        background-color: " + _0x24cb16 + ";\"></div>\n  </div> ";
  }
  const _0x1c1935 = {
    horizontalOrigin: Cesium__namespace.HorizontalOrigin.CENTER,
    verticalOrigin: Cesium__namespace.VerticalOrigin.BOTTOM
  };
  const DEF_STYLE$c = _0x1c1935;
  class Popup extends DivGraphic {
    constructor(_0x4842cf = {}) {
      _0x4842cf.eventParent = _0x4842cf.eventParent ?? false;
      _0x4842cf.hasEdit = _0x4842cf.hasEdit ?? false;
      _0x4842cf.hasCache = _0x4842cf.hasCache ?? true;
      _0x4842cf.animation = _0x4842cf.animation ?? true;
      _0x4842cf.zIndex = _0x4842cf.zIndex ?? 10000000;
      _0x4842cf.style = {
        ...DEF_STYLE$c,
        ...(_0x4842cf.style || {})
      };
      super(_0x4842cf);
      this._depthTest = this.options.depthTest ?? this.style.depthTest ?? false;
      this.once(EventType.load, () => {
        this._fireTarget_open();
        delete this._camera_cache;
      });
    }
    get target() {
      return this.options?.target;
    }
    _getTargetAjaxAttr() {
      var _0x198ffe;
      var _0x2f2dcb;
      if (((_0x198ffe = this.target) === null || _0x198ffe === undefined || (_0x198ffe = _0x198ffe.attr) === null || _0x198ffe === undefined ? undefined : _0x198ffe.type) === "ajax") {
        return this.target.attr;
      }
      if (((_0x2f2dcb = this.target) === null || _0x2f2dcb === undefined || (_0x2f2dcb = _0x2f2dcb._layer) === null || _0x2f2dcb === undefined || (_0x2f2dcb = _0x2f2dcb.attr) === null || _0x2f2dcb === undefined ? undefined : _0x2f2dcb.type) === "ajax") {
        return this.target._layer.attr;
      }
      return super._getTargetAjaxAttr();
    }
    get eventTarget() {
      var _0x328b82;
      var _0x1a0424;
      if ((_0x328b82 = this.options) !== null && _0x328b82 !== undefined && _0x328b82.event) {
        return this.options.event;
      }
      if ((_0x1a0424 = this.options) !== null && _0x1a0424 !== undefined && _0x1a0424.target) {
        return this.options.target;
      } else {
        return this;
      }
    }
    _getDefaultTemplate() {
      let _0x23b382;
      if (this.style.closeButton ?? true) {
        _0x23b382 = "<span  class=\"mars3d-popup-close-button mars3d-popup-color closeButton\" >×</span>";
      } else {
        _0x23b382 = "";
      }
      let _0x121080 = "";
      if (this.style.maxWidth) {
        _0x121080 += "max-width: " + this.style.maxWidth + "px;";
      }
      if (this.style.minWidth) {
        _0x121080 += "min-width: " + this.style.minWidth + "px;";
      }
      if (this.style.maxHeight) {
        _0x121080 += "max-height: " + this.style.maxHeight + "px;";
      }
      return "\n      <div class=\"mars3d-popup " + (!this.style.timeRender && this.options.animation ? "mars3d-popup-animation" : "") + "\">\n        " + _0x23b382 + "\n        <div class=\"mars3d-popup-content-wrapper mars3d-popup-background\">\n          <div id=\"popup-" + this.id + "\"  class=\"mars3d-popup-content mars3d-popup-color\" style=\"" + _0x121080 + "\">{content}</div>\n        </div>\n        <div class=\"mars3d-popup-tip-container\">\n          <div class=\"mars3d-popup-tip mars3d-popup-background\"></div>\n        </div>\n      </div>";
    }
    _updateTemplateContentHtml(_0x2ccd63) {
      const _0x22eea4 = this._container.querySelector("#popup-" + this.id);
      if (_0x22eea4) {
        _0x22eea4.innerHTML = _0x2ccd63;
        return true;
      }
      return false;
    }
    _appendHtmlHook() {
      const _0x350001 = this._container.querySelector(".closeButton");
      if (_0x350001) {
        _0x350001.addEventListener("click", _0x481cbc => {
          if (this.target && this.target.closeHighlight) {
            this.target.closeHighlight();
          }
          this.remove(true);
        });
      }
    }
    update(_0x11a1f3) {
      super.update(_0x11a1f3);
      this._fireTarget_render();
    }
    fireTarget(_0x1a93d0, _0x19d936 = {}, _0xe3c7da = true) {
      const _0x4d3ae7 = this.target || this._map;
      if (_0x4d3ae7) {
        if (this.options.event) {
          for (const _0x16c794 in this.options.event) {
            if (_0x16c794 === "options" || _0x16c794 === "content") {
              continue;
            }
            _0x19d936[_0x16c794] = this.options.event[_0x16c794];
          }
        }
        _0x19d936.sourceTarget = _0x4d3ae7;
        _0x19d936.attr = this.attr;
        _0x19d936.container = this.container;
        this._fireBindDataEx(_0x19d936);
        _0x4d3ae7.fire(_0x1a93d0, _0x19d936, _0xe3c7da);
      }
    }
    _fireBindDataEx(_0x1234cf) {
      _0x1234cf.popup = this;
    }
    _addedHook(_0x4cad23) {
      super._addedHook(_0x4cad23);
      this.once(EventType.change, _0x42bb60 => {
        if (this.options.autoCenter && this._map) {
          let _0x1d0fad = false;
          if (_0x42bb60.y < 0) {
            _0x1d0fad = true;
          }
          if (_0x42bb60.x < 0) {
            _0x1d0fad = true;
          }
          if (_0x42bb60.x > this._map.scene.canvas.clientWidth - _0x42bb60.width) {
            _0x1d0fad = true;
          }
          if (_0x1d0fad) {
            const _0x500d00 = _0x42bb60.width / 2 + _0x42bb60.x;
            const _0x1689cd = _0x42bb60.height / 2 + _0x42bb60.y;
            const _0x1dd34d = new Cesium__namespace.Cartesian2(_0x500d00, _0x1689cd);
            const _0x5245ed = getCurrentMouseTerrainPosition(this._map.scene, _0x1dd34d);
            this._map.flyToPoint(_0x5245ed);
          }
        }
      });
      if (this.target) {
        this.target.on(EventType.updatePosition, this._graphic_updatePosition, this);
      }
    }
    _removedHook() {
      if (this.target) {
        this.target.off(EventType.updatePosition, this._graphic_updatePosition, this);
      }
      this._fireTarget_close();
      super._removedHook();
    }
    _graphic_updatePosition(_0x147d22) {
      var _0x47cf75;
      if ((_0x47cf75 = _0x147d22.graphic) !== null && _0x47cf75 !== undefined && _0x47cf75._getPopupPosition) {
        const _0xb1e0a8 = _0x147d22.graphic._getPopupPosition();
        this._setPointPostion(_0xb1e0a8);
      }
    }
    _fireTarget_open() {
      this.fireTarget(EventType.popupOpen);
    }
    _fireTarget_close() {
      this.fireTarget(EventType.popupClose);
    }
    _fireTarget_render() {
      this.fireTarget(EventType.popupRender, {
        container: this.container
      });
    }
    _closeAllControl() {}
    _container_onClickHandler() {}
    _container_onMousedownHandler() {}
    _container_onMouseMoveHandler() {}
    _container_onMouseoutHandler() {}
    hasBindInteraction() {
      return this.options.pointerEvents ?? true;
    }
    _updateDivPosition_Ex(_0x1ca16e) {}
  }
  register$5("popup", Popup);
  class Tooltip extends Popup {
    _getDefaultTemplate() {
      return "<div id=\"tooltip-" + this.id + "\"  class=\"mars3d-tooltip\"}\">{content}</div>";
    }
    _appendHtmlHook() {
      super._appendHtmlHook();
      this._containerTooltip = this._container.querySelector("#tooltip-" + this.id);
    }
    _updateTemplateContentHtml(_0x4db85e) {
      if (this._containerTooltip) {
        this._containerTooltip.innerHTML = _0x4db85e;
        return true;
      }
      return false;
    }
    _fireBindDataEx(_0x36c493) {
      _0x36c493.tooltip = this;
    }
    _fireTarget_open() {
      this.fireTarget(EventType.tooltipOpen);
    }
    _fireTarget_close() {
      this.fireTarget(EventType.tooltipClose);
    }
    _fireTarget_render() {
      this.fireTarget(EventType.tooltipRender, {
        container: this.container
      });
    }
    _getDivOffset(_0x2c8714) {
      if (Cesium__namespace.defined(this.style.template)) {
        return super._getDivOffset(_0x2c8714);
      }
      const _0x2e1bef = this.divHeight;
      const _0x21b901 = this.divWidth;
      const _0x4b4c95 = 10;
      let _0x3633fa = this.style.offsetX ?? this.options.offsetX ?? 0;
      let _0x5257b7 = this.style.offsetY ?? this.options.offsetY ?? 0;
      let _0x561187 = this.style.direction;
      if (!Cesium__namespace.defined(_0x561187)) {
        if (_0x2c8714.y < _0x2e1bef + _0x4b4c95) {
          _0x561187 = "bottom";
        } else {
          _0x561187 = "top";
        }
        if (_0x2c8714.x < _0x21b901 + _0x4b4c95) {
          _0x561187 = "right";
        }
        if (_0x2c8714.x > this._map.scene.canvas.clientWidth - _0x21b901 - _0x4b4c95) {
          _0x561187 = "left";
        }
        if (this._direction_last) {
          removeClass(this._containerTooltip, "mars3d-tooltip-" + this._direction_last);
        }
        this._direction_last = _0x561187;
        addClass(this._containerTooltip, "mars3d-tooltip-" + _0x561187);
      }
      switch (_0x561187) {
        case "center":
          _0x3633fa += -_0x21b901 / 2;
          _0x5257b7 += -_0x2e1bef / 2;
          break;
        case "right":
          _0x3633fa += _0x4b4c95;
          _0x5257b7 += -_0x2e1bef / 2;
          break;
        case "left":
          _0x3633fa += -_0x21b901 - _0x4b4c95;
          _0x5257b7 += -_0x2e1bef / 2;
          break;
        case "bottom":
          _0x3633fa += -_0x21b901 / 2;
          _0x5257b7 += _0x4b4c95;
          break;
        case "top":
        default:
          _0x3633fa += -_0x21b901 / 2;
          _0x5257b7 += -_0x2e1bef - _0x4b4c95;
          break;
      }
      const _0x312f31 = {
        height: _0x2e1bef,
        width: _0x21b901,
        xOffset: _0x3633fa,
        yOffset: _0x5257b7
      };
      return _0x312f31;
    }
  }
  register$5("tooltip", Tooltip);
  const DEF_STYLE$b = {
    roll: 90,
    scale: 1
  };
  class DivPlane extends DivGraphic {
    constructor(_0x3cf04f = {}) {
      _0x3cf04f.style = {
        ...DEF_STYLE$b,
        ..._0x3cf04f.style
      };
      super(_0x3cf04f);
    }
    get orientation() {
      return this._orientation || this.options.orientation;
    }
    set orientation(_0x28174d) {
      this._orientation = _0x28174d;
    }
    get isDynamicProperty() {
      if (this.property || this.availability || this.distanceDisplayCondition) {
        return true;
      }
      if (this._hasPropertyPostion(this.position)) {
        return true;
      }
      return false;
    }
    _updateAvailabilityHook(_0x25c5ea) {
      super._updateAvailabilityHook(_0x25c5ea);
      if (!_0x25c5ea) {
        this.update(this._map.scene._frameState);
      }
    }
    _mountedHook() {
      initParentContainer(this._layer);
      super._mountedHook();
    }
    _addedHook(_0x4770c5) {
      super._addedHook(_0x4770c5);
      this._updateDivPosition();
    }
    _getDefaultTemplate() {
      return "<div id=\"divPlane-" + this.id + "\" style=\"position: absolute; transform:" + this._getTemplateTranslate() + "; \">{content}</div>";
    }
    _updateStyleBaseHook(_0x1227eb) {
      super._updateStyleBaseHook(_0x1227eb);
      if (Cesium__namespace.defined(_0x1227eb.horizontalOrigin) || Cesium__namespace.defined(_0x1227eb.verticalOrigin)) {
        const _0x131092 = this._container.querySelector("#divPlane-" + this.id);
        if (_0x131092) {
          _0x131092.style.transform = this._getTemplateTranslate();
        }
      }
    }
    _getTemplateTranslate() {
      let _0x41b13e;
      let _0x2133c5;
      switch (this.style.horizontalOrigin) {
        case "CENTER":
        case Cesium__namespace.HorizontalOrigin.CENTER:
          _0x41b13e = "-50%";
          break;
        case "RIGHT":
        case Cesium__namespace.HorizontalOrigin.RIGHT:
          _0x41b13e = "-100%";
          break;
        case "LEFT":
        case Cesium__namespace.HorizontalOrigin.LEFT:
        default:
          _0x41b13e = "0";
          break;
      }
      switch (this.style.verticalOrigin) {
        case "TOP":
        case Cesium__namespace.VerticalOrigin.TOP:
          _0x2133c5 = "0";
          break;
        case "CENTER":
        case Cesium__namespace.VerticalOrigin.CENTER:
          _0x2133c5 = "-50%";
          break;
        case "BOTTOM":
        case Cesium__namespace.VerticalOrigin.BOTTOM:
        default:
          _0x2133c5 = "-100%";
          break;
      }
      if (this.style.offsetX) {
        _0x41b13e = this.style.offsetX + "px";
      }
      if (this.style.offsetY) {
        _0x2133c5 = this.style.offsetY + "px";
      }
      return "translateX(" + _0x41b13e + ") translateY(" + _0x2133c5 + ")";
    }
    _updateDivPosition() {
      var _0x2febb6;
      if (!this.getRealShow() || !this._container) {
        return false;
      }
      const _0x3ff592 = this._map.scene;
      const _0xd9dd7c = this._map.camera;
      let _0xf94edc = getPositionValue(this.position, (_0x2febb6 = this._map) === null || _0x2febb6 === undefined ? undefined : _0x2febb6.clock.currentTime);
      if (!Cesium__namespace.defined(_0xf94edc)) {
        this.hide();
        return false;
      }
      if (!this._hasAsynSurfacePosition) {
        const _0xb19ddc = this.style.heightReference;
        if (this.style.clampToGround || Cesium__namespace.defined(_0xb19ddc) && _0xb19ddc !== Cesium__namespace.HeightReference.NONE) {
          _0xf94edc = getSurfacePosition(this._map.scene, _0xf94edc, this.style);
        }
      }
      this._position_show = _0xf94edc;
      const _0x4e961c = this.distanceDisplayCondition;
      let _0x6c4517 = _0xd9dd7c.positionCartographic.height;
      if (this._hasZIndex || _0x4e961c) {
        if (_0x3ff592.mode === Cesium__namespace.SceneMode.SCENE3D) {
          _0x6c4517 = Cesium__namespace.Cartesian3.distance(_0xf94edc, _0xd9dd7c.positionWC);
        }
      }
      if (_0x4e961c && (_0x4e961c.near > _0x6c4517 || _0x4e961c.far < _0x6c4517)) {
        if (this._container.style.display === "block") {
          this.hide();
        }
        return false;
      }
      if (this.depthTest && _0x3ff592.mode === Cesium__namespace.SceneMode.SCENE3D) {
        const _0x545dda = this.isInView(_0xf94edc);
        if (!_0x545dda) {
          if (this._container.style.display === "block") {
            this.hide();
          }
          return false;
        }
      }
      if (this._container.style.display !== "block") {
        this._container.style.display = "block";
      }
      const _0x56abf2 = this._getModelMatrix(_0xf94edc, this._orientation);
      this._container.style.transform = getObjectCSSMatrix(_0x56abf2);
      let _0x43f53c = this.options.zIndex ?? "auto";
      if (this._hasZIndex) {
        _0x43f53c = Math.round(9999999 - _0x6c4517);
        if (_0x43f53c <= 0) {
          _0x43f53c = 9999999;
        }
      }
      this._container.style.zIndex = _0x43f53c;
    }
    _getModelMatrix(_0x5a2ec2, _0x2b1b5a) {
      if (!_0x5a2ec2) {
        return Cesium__namespace.Matrix4.IDENTITY;
      }
      let _0x432412 = Cesium__namespace.Math.toRadians(this.style.heading || 0);
      let _0x3f2ab7 = Cesium__namespace.Math.toRadians(this.style.pitch || 0);
      let _0xe87d22 = Cesium__namespace.Math.toRadians(this.style.roll || 0);
      if (_0x2b1b5a) {
        if (_0x2b1b5a.getValue) {
          var _0xfc6e3b;
          _0x2b1b5a = _0x2b1b5a.getValue((_0xfc6e3b = this._map) === null || _0xfc6e3b === undefined || (_0xfc6e3b = _0xfc6e3b.clock) === null || _0xfc6e3b === undefined ? undefined : _0xfc6e3b.currentTime);
        }
        if (_0x2b1b5a) {
          const _0x25a4cc = getHeadingPitchRollByOrientation(_0x5a2ec2, _0x2b1b5a);
          if (this.style.mergeOrientation) {
            _0x432412 += _0x25a4cc.heading;
            _0xe87d22 += _0x25a4cc.roll;
            _0x3f2ab7 += _0x25a4cc.pitch;
          } else {
            if (!Cesium__namespace.defined(this.style.heading)) {
              _0x432412 = _0x25a4cc.heading;
            }
            if (!Cesium__namespace.defined(this.style.roll)) {
              _0xe87d22 = _0x25a4cc.roll;
            }
            if (!Cesium__namespace.defined(this.style.pitch)) {
              _0x3f2ab7 = _0x25a4cc.pitch;
            }
          }
        }
      }
      this._heading_reality = _0x432412;
      this._pitch_reality = _0x3f2ab7;
      this._roll_reality = _0xe87d22;
      const _0x306598 = Cesium__namespace.Transforms.headingPitchRollToFixedFrame(_0x5a2ec2, new Cesium__namespace.HeadingPitchRoll(_0x432412, _0x3f2ab7, _0xe87d22), Cesium__namespace.Ellipsoid.WGS84, this.options.fixedFrameTransform);
      const _0x1d0598 = this.style.scale;
      if (Cesium__namespace.defined(_0x1d0598) && _0x1d0598 !== 1) {
        Cesium__namespace.Matrix4.multiplyByScale(_0x306598, new Cesium__namespace.Cartesian3(_0x1d0598, _0x1d0598, _0x1d0598), _0x306598);
      }
      return _0x306598;
    }
    bindUpdateEvent() {}
    get parentContainer() {
      return this._layer._container_camera;
    }
  }
  register$5("divPlane", DivPlane, true);
  function initParentContainer(_0x46aa64) {
    if (_0x46aa64._initDivPlane) {
      return;
    }
    _0x46aa64._initDivPlane = true;
    const _0x57af89 = _0x46aa64._map.camera;
    const _0x2eb96a = _0x46aa64._map.container;
    const _0x49b58e = _0x46aa64.container;
    _0x49b58e.style.position = "absolute";
    _0x49b58e.style.top = "0";
    _0x49b58e.style.left = "0";
    _0x49b58e.style.width = "100%";
    _0x49b58e.style.height = "100%";
    _0x49b58e.style.pointerEvents = "none";
    _0x49b58e.style.overflow = "hidden";
    const _0xf4b9a4 = create$4("div", "mars3d-divlayer-camera", _0x49b58e);
    _0xf4b9a4.style.transformStyle = "preserve-3d";
    _0xf4b9a4.style.width = "100%";
    _0xf4b9a4.style.height = "100%";
    _0xf4b9a4.style.pointerEvents = "none";
    _0x46aa64._container_camera = _0xf4b9a4;
    let _0x4715e3;
    _0x46aa64.update = function (_0x4ba1d2) {
      const _0x374269 = _0x2eb96a.clientHeight / 2;
      const _0x49548d = _0x2eb96a.clientWidth / 2;
      const _0x39d493 = _0x57af89.frustum.projectionMatrix[5] * _0x374269 + "px";
      _0x49b58e.style.perspective = _0x39d493;
      const _0x36bc26 = getCameraCSSMatrix(_0x57af89.viewMatrix);
      const _0x47097a = "translateZ(" + _0x39d493 + ") " + _0x36bc26 + " translate(" + _0x49548d + "px," + _0x374269 + "px)";
      if (_0x4715e3 !== _0x47097a) {
        _0xf4b9a4.style.transform = _0x47097a;
        _0x4715e3 = _0x47097a;
      }
      this.eachGraphic(_0x3c4075 => {
        if (_0x3c4075.isDynamicProperty) {
          _0x3c4075.update(_0x4ba1d2);
        }
      });
    };
    _0x46aa64.bindUpdateEvent();
  }
  function getObjectCSSMatrix(_0xc94954) {
    return "matrix3d(" + formatNum(_0xc94954[0]) + "," + formatNum(_0xc94954[1]) + "," + formatNum(_0xc94954[2]) + "," + formatNum(_0xc94954[3]) + "," + formatNum(-_0xc94954[4]) + "," + formatNum(-_0xc94954[5]) + "," + formatNum(-_0xc94954[6]) + "," + formatNum(-_0xc94954[7]) + "," + formatNum(_0xc94954[8]) + "," + formatNum(_0xc94954[9]) + "," + formatNum(_0xc94954[10]) + "," + formatNum(_0xc94954[11]) + "," + formatNum(_0xc94954[12]) + "," + formatNum(_0xc94954[13]) + "," + formatNum(_0xc94954[14]) + "," + formatNum(_0xc94954[15]) + ")";
  }
  function getCameraCSSMatrix(_0x4f37c2) {
    return "matrix3d(" + formatNum(_0x4f37c2[0]) + "," + formatNum(-_0x4f37c2[1]) + "," + formatNum(_0x4f37c2[2]) + "," + formatNum(_0x4f37c2[3]) + "," + formatNum(_0x4f37c2[4]) + "," + formatNum(-_0x4f37c2[5]) + "," + formatNum(_0x4f37c2[6]) + "," + formatNum(_0x4f37c2[7]) + "," + formatNum(_0x4f37c2[8]) + "," + formatNum(-_0x4f37c2[9]) + "," + formatNum(_0x4f37c2[10]) + "," + formatNum(_0x4f37c2[11]) + "," + formatNum(_0x4f37c2[12]) + "," + formatNum(-_0x4f37c2[13]) + "," + formatNum(_0x4f37c2[14]) + "," + formatNum(_0x4f37c2[15]) + ")";
  }
  function formatNum(_0x42951e) {
    if (Math.abs(_0x42951e) < 1e-10) {
      return 0;
    } else {
      return _0x42951e;
    }
  }
  const _0x2dfb10 = {
    horizontalOrigin: Cesium__namespace.HorizontalOrigin.CENTER,
    verticalOrigin: Cesium__namespace.VerticalOrigin.CENTER
  };
  const DEF_STYLE$a = _0x2dfb10;
  class DivGif extends DivGraphic {
    constructor(_0x1bb242 = {}) {
      _0x1bb242.style = {
        ...DEF_STYLE$a,
        ..._0x1bb242.style
      };
      _0x1bb242.style.html = getHtmlByStyle(_0x1bb242.style);
      super(_0x1bb242);
    }
    _updateStyleBaseHook(_0x257e0a) {
      if (_0x257e0a.html) {
        delete _0x257e0a.html;
      }
      if (Cesium__namespace.defined(_0x257e0a.image) || Cesium__namespace.defined(_0x257e0a.width) || Cesium__namespace.defined(_0x257e0a.height)) {
        this.html = getHtmlByStyle(this.style);
      }
      super._updateStyleBaseHook(_0x257e0a);
      return this;
    }
  }
  register$5("divGif", DivGif, true);
  function getHtmlByStyle(_0x839526) {
    let _0x27304c = "";
    if (_0x839526.width) {
      if (isNumber(_0x839526.width)) {
        _0x27304c += "width:" + _0x839526.width + "px;";
      } else {
        _0x27304c += "width:" + _0x839526.width + ";";
      }
    }
    if (_0x839526.height) {
      if (isNumber(_0x839526.height)) {
        _0x27304c += "height:" + _0x839526.height + "px;";
      } else {
        _0x27304c += "height:" + _0x839526.height + ";";
      }
    }
    return "<img src=\"" + _0x839526.image + "\" style=\"" + _0x27304c + "\">";
  }
  const DEF_STYLE$9 = {
    startColor: Cesium__namespace.Color.LIGHTCYAN.withAlpha(0.3),
    endColor: Cesium__namespace.Color.WHITE.withAlpha(0),
    startScale: 2,
    endScale: 4,
    minimumParticleLife: 3,
    maximumParticleLife: 6,
    minimumSpeed: 1,
    maximumSpeed: 2,
    emissionRate: 100
  };
  class ParticleSystem extends BasePointPrimitive {
    constructor(_0x45c5fd = {}) {
      _0x45c5fd.style = {
        ...DEF_STYLE$9,
        emitter: new Cesium__namespace.CircleEmitter(1),
        ..._0x45c5fd.style
      };
      super(_0x45c5fd);
      this.emitterModelMatrix = new Cesium__namespace.Matrix4();
      this.translation = new Cesium__namespace.Cartesian3();
      this.rotation = new Cesium__namespace.Quaternion();
      this.hpr = new Cesium__namespace.HeadingPitchRoll();
      this.trs = new Cesium__namespace.TranslationRotationScale();
    }
    get czmObject() {
      return this._primitive;
    }
    get maxHeight() {
      return this.style.maxHeight;
    }
    set maxHeight(_0x548962) {
      this.style.maxHeight = _0x548962;
    }
    get gravity() {
      return this.style.gravity || 0;
    }
    set gravity(_0x6a918a) {
      this.style.gravity = _0x6a918a;
    }
    get transX() {
      return this.style.transX || 0;
    }
    set transX(_0x555ad1) {
      this.style.transX = _0x555ad1;
    }
    get transY() {
      return this.style.transY || 0;
    }
    set transY(_0x203bbb) {
      this.style.transY = _0x203bbb;
    }
    get transZ() {
      return this.style.transZ || 0;
    }
    set transZ(_0x316219) {
      this.style.transZ = _0x316219;
    }
    get particleSize() {
      return this.style.particleSize || 25;
    }
    set particleSize(_0x3c58da) {
      this.style.particleSize = _0x3c58da;
      if (this._primitive) {
        this._primitive.minimumImageSize.x = _0x3c58da;
        this._primitive.minimumImageSize.y = _0x3c58da;
        this._primitive.maximumImageSize.x = _0x3c58da;
        this._primitive.maximumImageSize.y = _0x3c58da;
      }
    }
    get hasOpacity() {
      return false;
    }
    _addedHook(_0x3001df) {
      if (!this.show) {
        return;
      }
      const _0xaa1431 = this.currentTime;
      const _0x5c72a9 = {
        imageSize: new Cesium__namespace.Cartesian2(this.particleSize, this.particleSize),
        modelMatrix: this._computeModelMatrix(_0xaa1431),
        emitterModelMatrix: this._computeEmitterModelMatrix(_0xaa1431),
        ...this.style,
        show: this.show
      };
      if (this.style.startColor) {
        _0x5c72a9.startColor = getCesiumColor(this.style.startColor);
      }
      if (this.style.endColor) {
        _0x5c72a9.endColor = getCesiumColor(this.style.endColor);
      }
      this._primitive = new Cesium__namespace.ParticleSystem(_0x5c72a9);
      this.primitiveCollection.add(this._primitive);
      if (this._hasPropertyPostion(this.options.position)) {
        this._orientation = this.options.orientation || new Cesium__namespace.VelocityOrientationProperty(this.options.position);
        this.property = this.options.position;
      }
      this._bindUpdateCallback();
      this._hasUpdate_modelMatrix = isFunction(this.options.modelMatrix) || this.property;
      this._hasUpdate_emitterModelMatrix = isFunction(this.options.emitterModelMatrix) || this.heading || this.pitch || this.roll || this.transX || this.transY || this.transZ;
      const _0x56e9da = this._primitive.update;
      const _0x26e49a = this;
      this._primitive.update = function (_0x3fe609) {
        _0x26e49a._update(_0x3fe609);
        if (this._previousTime) {
          const _0x20bb68 = Cesium__namespace.JulianDate.secondsDifference(_0x3fe609.time, this._previousTime);
          if (_0x20bb68 > 10) {
            this._previousTime = Cesium__namespace.JulianDate.clone(_0x3fe609.time, this._previousTime);
          }
        }
        if (!Cesium__namespace.defined(this._billboardCollection)) {
          this._billboardCollection = new Cesium__namespace.BillboardCollection();
        }
        if (this._billboardCollection && !this._billboardCollection.defaultStyle && (Cesium__namespace.defined(_0x26e49a.style.visibleDepth) || Cesium__namespace.defined(_0x26e49a.style.disableDepthTestDistance))) {
          const _0x227b9f = {
            disableDepthTestDistance: _0x26e49a.style.disableDepthTestDistance ?? (_0x26e49a.style.visibleDepth ? 0 : Number.POSITIVE_INFINITY)
          };
          this._billboardCollection.defaultStyle = _0x227b9f;
        }
        _0x56e9da.bind(this)(_0x3fe609);
      };
    }
    _removedHook() {
      if (!this._map) {
        return;
      }
      this.primitiveCollection.remove(this._primitive);
    }
    _update(_0x12679d) {
      if (!this.getRealShow(_0x12679d.time)) {
        return;
      }
      if (this.property) {
        this._position = getPositionValue(this.property, _0x12679d.time);
      }
      if (this._hasUpdate_modelMatrix) {
        this._primitive.modelMatrix = this._computeModelMatrix(_0x12679d.time);
      }
      if (this._hasUpdate_emitterModelMatrix) {
        this._primitive.emitterModelMatrix = this._computeEmitterModelMatrix(_0x12679d.time);
      }
      if (Cesium__namespace.defined(this.maxHeight) && _0x12679d.frameNumber % 10 === 0) {
        if (this._map.camera.positionCartographic.height < this.maxHeight) {
          if (this._primitive.show !== this.show) {
            this._primitive.show = this.show;
          }
        } else {
          this._primitive.show &&= false;
        }
      }
      if (this._primitive._isComplete) {
        this.fire("complete");
      }
    }
    _computeModelMatrix(_0xbfba1e) {
      if (this.options.modelMatrix) {
        if (isFunction(this.options.modelMatrix)) {
          return this.options.modelMatrix(_0xbfba1e);
        } else {
          return this.options.modelMatrix;
        }
      }
      if (this._position) {
        return this.fixedFrameTransform(this._position);
      }
      return new Cesium__namespace.Matrix4();
    }
    _computeEmitterModelMatrix(_0x28022e) {
      if (this.options.emitterModelMatrix) {
        if (isFunction(this.options.emitterModelMatrix)) {
          return this.options.emitterModelMatrix(_0x28022e);
        } else {
          return this.options.emitterModelMatrix;
        }
      }
      const _0x25d84b = this.heading;
      const _0x28a9e9 = this.pitch;
      const _0x4da373 = this.roll;
      this.hpr = Cesium__namespace.HeadingPitchRoll.fromDegrees(_0x25d84b, _0x28a9e9, _0x4da373, this.hpr);
      this.trs.translation = Cesium__namespace.Cartesian3.fromElements(this.transX, this.transY, this.transZ, this.translation);
      this.trs.rotation = Cesium__namespace.Quaternion.fromHeadingPitchRoll(this.hpr, this.rotation);
      Cesium__namespace.Matrix4.fromTranslationRotationScale(this.trs, this.emitterModelMatrix);
      return this.emitterModelMatrix;
    }
    _bindUpdateCallback() {
      if (this.options.updateCallback) {
        this._primitive.updateCallback = this.options.updateCallback;
        return;
      }
      if (this.gravity === 0) {
        this._primitive.updateCallback = undefined;
      } else if (!this._primitive.updateCallback) {
        const _0x1dd42a = this;
        const _0x414326 = new Cesium__namespace.Cartesian3();
        this._primitive.updateCallback = function (_0x8d3e22, _0x207f5d) {
          const _0x3771d1 = _0x8d3e22.position;
          Cesium__namespace.Cartesian3.normalize(_0x3771d1, _0x414326);
          Cesium__namespace.Cartesian3.multiplyByScalar(_0x414326, _0x1dd42a.gravity * _0x207f5d, _0x414326);
          _0x8d3e22.velocity = Cesium__namespace.Cartesian3.add(_0x8d3e22.velocity, _0x414326, _0x8d3e22.velocity);
        };
      }
    }
    _updateStyleHook(_0x4119d2, _0x23a8a8) {
      if (this._primitive) {
        if (_0x23a8a8.image) {
          this.redraw();
          return;
        }
        for (const _0x4af9f8 in _0x23a8a8) {
          this._primitive[_0x4af9f8] = _0x23a8a8[_0x4af9f8];
        }
        if (_0x23a8a8.particleSize) {
          this.particleSize = _0x23a8a8.particleSize;
        }
        if (_0x23a8a8.gravity) {
          this._bindUpdateCallback();
        }
      }
      this._hasUpdate_emitterModelMatrix = isFunction(this.options.emitterModelMatrix) || this.heading || this.pitch || this.roll || this.transX || this.transY || this.transZ;
    }
    _getDrawEntityClass(_0x4cc483, _0x18e6c4) {
      return this._getDrawPointEntityClass(_0x4cc483, _0x18e6c4);
    }
  }
  register$5("particleSystem", ParticleSystem, true);
  var ArcFrustumFS = "uniform vec4 color;\n\nvoid main() {\n  out_FragColor = color;\n}\n";
  var ArcFrustumVS = "in vec4 aPosition;\n\nvoid main() {\n  gl_Position = czm_modelViewProjection * vec4(aPosition.xyz, 1.0);\n}\n";
  const _0x8ecd28 = {
    color: Cesium__namespace.Color.WHITE
  };
  const DEF_STYLE$8 = _0x8ecd28;
  class ArcFrustum extends BasePointPrimitive {
    constructor(_0xd071dd = {}) {
      _0xd071dd.style = {
        ...DEF_STYLE$8,
        ..._0xd071dd.style
      };
      super(_0xd071dd);
      delete this._position;
      delete this._point;
      this._boundingSphere = new Cesium__namespace.BoundingSphere();
      this._color = getCesiumColor(this.style.color, Cesium__namespace.Color.WHITE);
    }
    get czmObject() {
      return this;
    }
    get color() {
      return this._color;
    }
    set color(_0x20b765) {
      this._color = _0x20b765;
    }
    get angle() {
      return this.style.angle;
    }
    set angle(_0x2c13cd) {
      this.style.angle = _0x2c13cd;
      this.destroyCommands();
    }
    get angle2() {
      return this.style.angle2 ?? this.style.angle;
    }
    set angle2(_0x56e305) {
      this.style.angle2 = _0x56e305;
      this.destroyCommands();
    }
    get modelMatrix() {
      if (this.options.modelMatrix) {
        return this.options.modelMatrix;
      }
      const _0x5513fd = this.position;
      const _0x561ecd = Cesium__namespace.HeadingPitchRoll.fromDegrees(this.heading, this.pitch, this.roll);
      const _0x3cb879 = new Cesium__namespace.Camera(this._map.scene);
      _0x3cb879.position = _0x5513fd;
      _0x3cb879.frustum.fov = Cesium__namespace.Math.toRadians(this.angle * 2);
      _0x3cb879.frustum.aspectRatio = this.angle / this.angle2;
      _0x3cb879.frustum.near = 0.01;
      _0x3cb879.frustum.far = this.style.distance;
      const _0x343abe = {
        heading: _0x561ecd.heading,
        pitch: _0x561ecd.pitch,
        roll: _0x561ecd.roll
      };
      const _0x254607 = {
        destination: _0x5513fd,
        orientation: _0x343abe
      };
      _0x3cb879.setView(_0x254607);
      return _0x3cb879.inverseViewMatrix;
    }
    set modelMatrix(_0x198841) {
      this.options.modelMatrix = _0x198841;
      this.destroyCommands();
    }
    updateModelMatrix() {
      this.destroyCommands();
    }
    _addedHook(_0x47540c) {
      if (!this.show) {
        return;
      }
      this.primitiveCollection.add(this);
    }
    _removedHook() {
      if (this.primitiveCollection.contains(this)) {
        this._noDestroy = true;
        this.primitiveCollection.remove(this);
        this._noDestroy = false;
      }
    }
    update(_0x351446) {
      if (!this.getRealShow(_0x351446.time)) {
        return;
      }
      if (!Cesium__namespace.defined(this._command)) {
        this._command = this.createCommand(_0x351446.context);
      }
      if (_0x351446.passes.render) {
        if (Cesium__namespace.defined(this._command)) {
          _0x351446.commandList.push(this._command);
        }
      }
    }
    destroyCommands() {
      if (Cesium__namespace.defined(this._command)) {
        if (this._command.shaderProgram) {
          this._command.shaderProgram.destroy();
        }
        if (this._command.vertexArray) {
          this._command.vertexArray.destroy();
        }
        delete this._command;
      }
    }
    createCommand(_0x51e4ae) {
      this.destroyCommands();
      const _0xbdad77 = this.createVertices();
      const _0x111159 = {
        aPosition: 0
      };
      const _0x3e49e4 = Cesium__namespace.Buffer.createVertexBuffer({
        context: _0x51e4ae,
        typedArray: _0xbdad77.vertices,
        usage: Cesium__namespace.BufferUsage.STATIC_DRAW
      });
      const _0x2adbcf = {
        index: _0x111159.aPosition,
        vertexBuffer: _0x3e49e4,
        componentsPerAttribute: 3,
        componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
        offsetInBytes: 0,
        strideInBytes: 12,
        normalize: false
      };
      const _0x481e9a = [_0x2adbcf];
      const _0x1975d6 = Cesium__namespace.Buffer.createIndexBuffer({
        context: _0x51e4ae,
        typedArray: _0xbdad77.indices,
        usage: Cesium__namespace.BufferUsage.STATIC_DRAW,
        indexDatatype: Cesium__namespace.IndexDatatype.UNSIGNED_SHORT
      });
      const _0x5c73c5 = {
        context: _0x51e4ae,
        attributes: _0x481e9a,
        indexBuffer: _0x1975d6
      };
      const _0x1207b0 = new Cesium__namespace.VertexArray(_0x5c73c5);
      const _0x154358 = this.modelMatrix;
      this._boundingSphere.radius = this.style.distance;
      if (this.position) {
        this._boundingSphere.position = this.position;
      } else {
        Cesium__namespace.Cartesian3.clone(Cesium__namespace.Cartesian3.ZERO, this._boundingSphere.center);
        Cesium__namespace.BoundingSphere.transform(this._boundingSphere, _0x154358, this._boundingSphere);
      }
      const _0x717936 = {
        context: _0x51e4ae,
        vertexShaderSource: ArcFrustumVS,
        fragmentShaderSource: ArcFrustumFS,
        attributeLocations: _0x111159
      };
      const _0x595897 = new Cesium__namespace.DrawCommand({
        primitiveType: Cesium__namespace.PrimitiveType.LINES,
        shaderProgram: Cesium__namespace.ShaderProgram.fromCache(_0x717936),
        vertexArray: _0x1207b0,
        modelMatrix: _0x154358,
        boundingVolume: this._boundingSphere,
        uniformMap: {
          color: () => {
            return this.color;
          }
        },
        pass: Cesium__namespace.Pass.OPAQUE,
        owner: this,
        cull: true,
        renderState: Cesium__namespace.RenderState.fromCache({
          cull: {
            enabled: true
          },
          depthTest: {
            enabled: true
          }
        })
      });
      this.bindPickId(_0x595897);
      return _0x595897;
    }
    createVertices() {
      const _0x4d2904 = this.style.distance;
      const _0x1ee8a6 = 20;
      const _0x5c5471 = (_0x1ee8a6 + 1) * (_0x1ee8a6 + 1) + 1;
      const _0x4bf2c9 = Cesium__namespace.ComponentDatatype.createTypedArray(Cesium__namespace.ComponentDatatype.FLOAT, _0x5c5471 * 3);
      let _0x922364 = 3;
      const _0x473d82 = Cesium__namespace.Math.toRadians(this.angle * 2);
      const _0x1c5739 = Cesium__namespace.Math.toRadians(this.angle2 * 2);
      const _0x26db70 = Math.tan(_0x1c5739 * 0.5);
      const _0x4af4ed = _0x4d2904 * _0x26db70;
      const _0x560143 = Math.PI - _0x473d82 * 0.5;
      let _0x5cb9ca = 0;
      let _0x43648d = 0;
      const _0x360644 = _0x473d82 / _0x1ee8a6;
      for (let _0x559b28 = 0; _0x559b28 < _0x1ee8a6 + 1; _0x559b28++) {
        _0x5cb9ca = _0x560143 + _0x559b28 * _0x360644;
        const _0x4ad03f = _0x4af4ed / (_0x4d2904 / Math.cos(_0x5cb9ca));
        const _0x585c79 = Math.atan(_0x4ad03f);
        const _0x512bd1 = -_0x585c79;
        const _0x4ec9cd = _0x585c79 * 2 / _0x1ee8a6;
        for (let _0x243275 = 0; _0x243275 < _0x1ee8a6 + 1; _0x243275++) {
          _0x43648d = _0x512bd1 + _0x243275 * _0x4ec9cd;
          _0x4bf2c9[_0x922364++] = _0x4d2904 * Math.cos(_0x43648d) * Math.sin(_0x5cb9ca);
          _0x4bf2c9[_0x922364++] = _0x4d2904 * Math.sin(_0x43648d);
          _0x4bf2c9[_0x922364++] = _0x4d2904 * Math.cos(_0x43648d) * Math.cos(_0x5cb9ca);
        }
      }
      const _0x295557 = (4 + _0x1ee8a6 * 5 + _0x1ee8a6 * 2 * 3) * 2;
      const _0x5a122e = Cesium__namespace.ComponentDatatype.createTypedArray(Cesium__namespace.ComponentDatatype.UNSIGNED_SHORT, _0x295557);
      let _0x48a971 = 0;
      _0x5a122e[_0x48a971++] = 0;
      _0x5a122e[_0x48a971++] = 1;
      _0x5a122e[_0x48a971++] = 0;
      _0x5a122e[_0x48a971++] = _0x1ee8a6 + 1;
      _0x5a122e[_0x48a971++] = 0;
      _0x5a122e[_0x48a971++] = _0x1ee8a6 * (_0x1ee8a6 + 1) + 1;
      _0x5a122e[_0x48a971++] = 0;
      _0x5a122e[_0x48a971++] = (_0x1ee8a6 + 1) * (_0x1ee8a6 + 1);
      for (let _0x2d9def = 0; _0x2d9def < 5; _0x2d9def++) {
        for (let _0x5e0cab = 0; _0x5e0cab < _0x1ee8a6; _0x5e0cab++) {
          _0x5a122e[_0x48a971++] = 1 + _0x5e0cab + (_0x1ee8a6 + 1) * 5 * _0x2d9def;
          _0x5a122e[_0x48a971++] = 1 + (_0x5e0cab + 1) + (_0x1ee8a6 + 1) * 5 * _0x2d9def;
        }
      }
      for (let _0x49c6a9 = 0; _0x49c6a9 < 5; _0x49c6a9++) {
        for (let _0x1628bc = 0; _0x1628bc < _0x1ee8a6; _0x1628bc++) {
          _0x5a122e[_0x48a971++] = 1 + (_0x1ee8a6 + 1) * _0x1628bc + _0x49c6a9 * 5;
          _0x5a122e[_0x48a971++] = 1 + (_0x1ee8a6 + 1) * (_0x1628bc + 1) + _0x49c6a9 * 5;
        }
      }
      const _0x21e94b = _0x1ee8a6 * _0x1ee8a6 * 3 * 2 + _0x1ee8a6 * 3 * 4;
      const _0x34767 = Cesium__namespace.ComponentDatatype.createTypedArray(Cesium__namespace.ComponentDatatype.SHORT, _0x21e94b);
      const _0x3604fd = 1;
      for (let _0x257a6c = 0; _0x257a6c < _0x1ee8a6; _0x257a6c++) {
        for (let _0x23c761 = 0; _0x23c761 < _0x1ee8a6; _0x23c761++) {
          _0x34767[_0x48a971++] = _0x3604fd + _0x257a6c + _0x23c761 * (_0x1ee8a6 + 1);
          _0x34767[_0x48a971++] = _0x3604fd + _0x257a6c + 1 + _0x23c761 * (_0x1ee8a6 + 1);
          _0x34767[_0x48a971++] = _0x3604fd + _0x257a6c + (_0x23c761 + 1) * (_0x1ee8a6 + 1);
          _0x34767[_0x48a971++] = _0x3604fd + _0x257a6c + 1 + _0x23c761 * (_0x1ee8a6 + 1);
          _0x34767[_0x48a971++] = _0x3604fd + _0x257a6c + 1 + (_0x23c761 + 1) * (_0x1ee8a6 + 1);
          _0x34767[_0x48a971++] = _0x3604fd + _0x257a6c + (_0x23c761 + 1) * (_0x1ee8a6 + 1);
        }
      }
      for (let _0x245895 = 0; _0x245895 < _0x1ee8a6; _0x245895++) {
        _0x34767[_0x48a971++] = _0x245895 + 1 + _0x3604fd;
        _0x34767[_0x48a971++] = _0x245895 + _0x3604fd;
        _0x34767[_0x48a971++] = 0;
        _0x34767[_0x48a971++] = 0;
        _0x34767[_0x48a971++] = _0x245895 + _0x1ee8a6 * (_0x1ee8a6 + 1) + _0x3604fd;
        _0x34767[_0x48a971++] = _0x245895 + 1 + _0x1ee8a6 * (_0x1ee8a6 + 1) + _0x3604fd;
      }
      for (let _0x2a9555 = 0; _0x2a9555 < _0x1ee8a6; _0x2a9555++) {
        _0x34767[_0x48a971++] = 0;
        _0x34767[_0x48a971++] = _0x2a9555 * (_0x1ee8a6 + 1) + _0x3604fd;
        _0x34767[_0x48a971++] = (_0x2a9555 + 1) * (_0x1ee8a6 + 1) + _0x3604fd;
        _0x34767[_0x48a971++] = _0x1ee8a6 + (_0x2a9555 + 1) * (_0x1ee8a6 + 1) + _0x3604fd;
        _0x34767[_0x48a971++] = _0x1ee8a6 + _0x2a9555 * (_0x1ee8a6 + 1) + _0x3604fd;
        _0x34767[_0x48a971++] = 0;
      }
      const _0x33c2e9 = {
        vertices: _0x4bf2c9,
        indices: _0x5a122e
      };
      return _0x33c2e9;
    }
  }
  register$5("arcFrustum", ArcFrustum, true);
  var TetrahedronFS = "in vec3 v_positionEC;\nin vec3 v_normalEC;\nin vec2 v_st;\nuniform vec4 color;\nuniform float globalAlpha;\n\nvoid main() {\n  vec3 positionToEyeEC = -v_positionEC;\n  vec3 normalECMars3D = normalize(v_normalEC);\n  #ifdef FACE_FORWARD\n  normalECMars3D = faceforward(normalECMars3D, vec3(0.0, 0.0, 1.0), -normalECMars3D);\n  #endif\n  czm_materialInput materialInput;\n  materialInput.normalEC = normalECMars3D;\n  materialInput.positionToEyeEC = positionToEyeEC;\n  materialInput.st = v_st;\n\n  vec2 st = materialInput.st;\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  material.alpha = (mix(0.1, 1.0, clamp((1.0 - st.t) * color.a, 0.0, 1.0)) + (1.0 - sign(st.t - czm_frameNumber * 0.001)) * 0.2 + 0.4) * globalAlpha;\n  material.diffuse = color.rgb;\n\n  #ifdef FLAT\n  out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n  #else\n  out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n  #endif\n}\n";
  var TetrahedronVS = "in vec3 position;\nin vec3 normal;\nin vec2 st;\nin float batchId;\nout vec3 v_positionEC;\nout vec3 v_normalEC;\nout vec2 v_st;\n\nvoid main() {\n  v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates\n  v_normalEC = czm_normal * normal;                               // normal in eye coordinates\n  v_st = st;\n  gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n";
  const DEF_STYLE$7 = {
    width: 20,
    height: 30,
    color: new Cesium__namespace.Color(0.8, 0.8, 0, 0.8),
    animation: true,
    moveHeight: 30,
    moveDuration: 2,
    rotationAngle: 1
  };
  class Tetrahedron extends BasePointPrimitive {
    constructor(_0x47ad66 = {}) {
      _0x47ad66.style = {
        ...DEF_STYLE$7,
        ..._0x47ad66.style
      };
      super(_0x47ad66);
      this._globalAlpha = 1;
    }
    get czmObject() {
      return this;
    }
    get color() {
      return this._color;
    }
    set color(_0x2ab052) {
      this._color = getCesiumColor(_0x2ab052);
    }
    get modelMatrix() {
      if (this.options.modelMatrix) {
        return this.options.modelMatrix;
      }
      if (!this.position) {
        return Cesium__namespace.Matrix4.IDENTITY;
      }
      const _0x36e875 = this.fixedFrameTransform(this.position);
      const _0xb14dca = Cesium__namespace.Matrix4.fromScale(new Cesium__namespace.Cartesian3(this.style.width, this.style.width, this.style.height));
      const _0x3d66ed = Cesium__namespace.Matrix4.multiply(_0x36e875, _0xb14dca, new Cesium__namespace.Matrix4());
      return _0x3d66ed;
    }
    _addedHook(_0x3e0a5b) {
      if (!this.show || !this.position) {
        return;
      }
      this._updateStyleHook(_0x3e0a5b, _0x3e0a5b);
      this.primitiveCollection.add(this);
    }
    _removedHook() {
      if (!this._noDestroy) {
        this.stopDraw();
        this.stopEditing();
      }
      if (this.primitiveCollection && this.primitiveCollection.contains(this)) {
        this._noDestroy = true;
        this.primitiveCollection.remove(this);
        this._noDestroy = false;
      }
      delete this._modelMatrix;
    }
    _updatePositionsHook() {
      this._modelMatrix = this.modelMatrix;
      this._clearDrawCommand();
    }
    _updateStyleHook(_0x39139a, _0x257a04) {
      if (_0x257a04.width || _0x257a04.height) {
        this._updatePositionsHook();
      }
      this.color = _0x39139a.color;
      this._rotationAngle = Cesium__namespace.Math.toRadians(_0x39139a.rotationAngle);
      this._moveMaxHeight = _0x39139a.moveHeight / this.style.height;
      if (this._moveMaxHeight !== 0) {
        this._moveDistanceStep = this._moveMaxHeight / (_0x39139a.moveDuration * 60);
        this._moveDistanceSum = 0;
      }
    }
    update(_0x5cc852) {
      if (!this.getRealShow(_0x5cc852.time)) {
        return;
      }
      if (this.style.animation) {
        if (this._moveMaxHeight !== 0) {
          this._moveDistanceSum += this._moveDistanceStep;
          if (this._moveDistanceSum >= this._moveMaxHeight || this._moveDistanceSum <= 0) {
            this._moveDistanceStep = -this._moveDistanceStep;
          }
          const _0x14d809 = new Cesium__namespace.Cartesian3(0, 0, this._moveDistanceStep);
          Cesium__namespace.Matrix4.multiplyByTranslation(this._modelMatrix, _0x14d809, this._modelMatrix);
        }
        if (this._rotationAngle !== 0) {
          const _0x57f1b1 = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromRotationZ(this._rotationAngle));
          Cesium__namespace.Matrix4.multiply(this._modelMatrix, _0x57f1b1, this._modelMatrix);
        }
      }
      if (!Cesium__namespace.defined(this._drawCommand)) {
        this._drawCommand = this.createDrawCommand(_0x5cc852.context);
      }
      if (_0x5cc852.passes.render) {
        if (Cesium__namespace.defined(this._drawCommand)) {
          _0x5cc852.commandList.push(this._drawCommand);
        }
      } else if (Cesium__namespace.defined(this._pickCommand)) {
        _0x5cc852.commandList.push(this._pickCommand);
      }
    }
    _clearDrawCommand() {
      if (Cesium__namespace.defined(this._drawCommand)) {
        if (this._drawCommand.vertexArray) {
          this._drawCommand.vertexArray.destroy();
        }
        if (this._drawCommand.shaderProgram) {
          this._drawCommand.shaderProgram.destroy();
        }
        delete this._drawCommand;
      }
      if (Cesium__namespace.defined(this._pickCommand)) {
        if (this._pickCommand.vertexArray) {
          this._pickCommand.vertexArray.destroy();
        }
        if (this._pickCommand.shaderProgram) {
          this._pickCommand.shaderProgram.destroy();
        }
        delete this._pickCommand;
      }
    }
    createDrawCommand(_0x2e43d2) {
      const _0x5ca9bd = this.style.translucent ?? false;
      const _0x3d901e = this.style.closed ?? true;
      const _0x2e927f = Cesium__namespace.Appearance.getDefaultRenderState(_0x5ca9bd, _0x3d901e, this.options.renderState);
      const _0x589411 = Cesium__namespace.RenderState.fromCache(_0x2e927f);
      const _0x4c014e = {
        position: 0,
        textureCoordinates: 1
      };
      const _0x1f9634 = {
        context: _0x2e43d2,
        vertexShaderSource: TetrahedronVS,
        fragmentShaderSource: TetrahedronFS,
        attributeLocations: _0x4c014e
      };
      const _0x5cfec8 = Cesium__namespace.ShaderProgram.fromCache(_0x1f9634);
      const _0x42f8f7 = this.createVertexArray(_0x2e43d2);
      const _0x335965 = new Cesium__namespace.BoundingSphere(this.position, Math.max(this.style.width, this.style.height));
      const _0x19901c = new Cesium__namespace.DrawCommand({
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        shaderProgram: _0x5cfec8,
        vertexArray: _0x42f8f7,
        modelMatrix: this._modelMatrix,
        renderState: _0x589411,
        boundingVolume: _0x335965,
        uniformMap: {
          color: () => {
            return this.color;
          },
          globalAlpha: () => {
            return this._globalAlpha;
          }
        },
        castShadows: false,
        receiveShadows: false,
        pass: Cesium__namespace.Pass.TRANSLUCENT,
        owner: this,
        pickOnly: true,
        pickCommand: new Cesium__namespace.DrawCommand({
          owner: this,
          pickOnly: true
        })
      });
      this.bindPickId(_0x19901c);
      _0x19901c.pickId = _0x2e43d2.createPickId({
        primitive: _0x19901c,
        id: this.id
      });
      const _0x1c6318 = new Cesium__namespace.DrawCommand({
        owner: _0x19901c,
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        pickOnly: true
      });
      _0x1c6318.vertexArray = _0x42f8f7;
      _0x1c6318.renderState = _0x589411;
      const _0x37316d = Cesium__namespace.ShaderProgram.fromCache({
        context: _0x2e43d2,
        vertexShaderSource: TetrahedronVS,
        fragmentShaderSource: Cesium__namespace.ShaderSource.createPickFragmentShaderSource(TetrahedronFS, "uniform"),
        attributeLocations: _0x4c014e
      });
      _0x1c6318.shaderProgram = _0x37316d;
      _0x1c6318.uniformMap = _0x19901c.uniformMap;
      _0x1c6318.uniformMap.czm_pickColor = () => {
        return _0x19901c.pickId.color;
      };
      _0x1c6318.pass = Cesium__namespace.Pass.TRANSLUCENT;
      _0x1c6318.boundingVolume = _0x335965;
      _0x1c6318.modelMatrix = this._modelMatrix;
      this._pickCommand = _0x1c6318;
      return _0x19901c;
    }
    createVertexArray(_0x5ab582) {
      const _0x3776f2 = {
        position: 0,
        textureCoordinates: 1
      };
      const _0x3f81e9 = this.cereatePositionsAndIndice();
      const _0x223cee = new Cesium__namespace.Geometry({
        attributes: {
          position: new Cesium__namespace.GeometryAttribute({
            componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
            componentsPerAttribute: 3,
            values: _0x3f81e9.positions
          }),
          textureCoordinates: new Cesium__namespace.GeometryAttribute({
            componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
            componentsPerAttribute: 2,
            values: _0x3f81e9.sts
          })
        },
        indices: _0x3f81e9.indices,
        primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
        boundingSphere: Cesium__namespace.BoundingSphere.fromVertices(_0x3f81e9.positions)
      });
      const _0x10715b = Cesium__namespace.GeometryPipeline.computeNormal(_0x223cee);
      const _0x5c35de = Cesium__namespace.VertexArray.fromGeometry({
        context: _0x5ab582,
        geometry: _0x10715b,
        attributeLocations: _0x3776f2,
        bufferUsage: Cesium__namespace.BufferUsage.STATIC_DRAW
      });
      return _0x5c35de;
    }
    cereatePositionsAndIndice() {
      const _0x4eed04 = new Float64Array(15);
      _0x4eed04[0] = 0;
      _0x4eed04[1] = 1;
      _0x4eed04[2] = 0;
      _0x4eed04[3] = -1;
      _0x4eed04[4] = 0;
      _0x4eed04[5] = 0;
      _0x4eed04[6] = 0;
      _0x4eed04[7] = -1;
      _0x4eed04[8] = 0;
      _0x4eed04[9] = 1;
      _0x4eed04[10] = 0;
      _0x4eed04[11] = 0;
      _0x4eed04[12] = 0;
      _0x4eed04[13] = 0;
      _0x4eed04[14] = -1;
      const _0x4e6e38 = new Uint16Array(18);
      _0x4e6e38[0] = 4;
      _0x4e6e38[1] = 2;
      _0x4e6e38[2] = 3;
      _0x4e6e38[3] = 4;
      _0x4e6e38[4] = 3;
      _0x4e6e38[5] = 0;
      _0x4e6e38[6] = 4;
      _0x4e6e38[7] = 0;
      _0x4e6e38[8] = 1;
      _0x4e6e38[9] = 4;
      _0x4e6e38[10] = 1;
      _0x4e6e38[11] = 2;
      _0x4e6e38[12] = 1;
      _0x4e6e38[13] = 2;
      _0x4e6e38[14] = 3;
      _0x4e6e38[15] = 1;
      _0x4e6e38[16] = 3;
      _0x4e6e38[17] = 0;
      const _0xed47dd = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1, 0.5, 0.5]);
      const _0x42a7d1 = {
        indices: _0x4e6e38,
        positions: _0x4eed04,
        sts: _0xed47dd
      };
      return _0x42a7d1;
    }
    setOpacity(_0x11f7bd) {
      this._globalAlpha = _0x11f7bd;
    }
    _getDrawEntityClass(_0x257348, _0x5b20a0) {
      return this._getDrawPointEntityClass(_0x257348, _0x5b20a0);
    }
    _clusterShowHook(_0x3a1c94) {}
  }
  register$5("tetrahedron", Tetrahedron, true);
  var ViewShedFS = "uniform bool mars3d_show;\nuniform float mars3d_xAngle;\nuniform float mars3d_yAngle;\nuniform float mars3d_distance;\nuniform float mars3d_opacity;\n\nuniform vec3 mars3d_visibleAreaColor;\nuniform vec3 mars3d_hiddenAreaColor;\n\nuniform sampler2D shadowMap_texture;\nuniform mat4 shadowMap_matrix;\nuniform vec4 shadowMap_lightPositionEC;\nuniform vec4 shadowMap_lightDirectionEC;\nuniform vec3 shadowMap_lightUp;\nuniform vec3 shadowMap_lightDir;\nuniform vec3 shadowMap_lightRight;\nuniform vec4 shadowMap_texelSizeDepthBias;\nuniform vec4 shadowMap_normalOffsetScale;\n\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nin vec2 v_textureCoordinates;\n\nvec4 toEye(in vec2 uv, in float depth) {\n  vec2 xy = vec2((uv.x * 2.0 - 1.0), (uv.y * 2.0 - 1.0));\n  vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);\n  posInCamera = posInCamera / posInCamera.w;\n  return posInCamera;\n}\n\nfloat getDepthMars3D(in vec4 depth) {\n  float z_window = czm_unpackDepth(depth);\n  z_window = czm_reverseLogDepth(z_window);\n  float n_range = czm_depthRange.near;\n  float f_range = czm_depthRange.far;\n  return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nfloat _czm_sampleShadowMap(sampler2D shadowMap, vec2 uv) {\n  return texture(shadowMap, uv).r;\n}\nfloat _czm_shadowDepthCompare(sampler2D shadowMap, vec2 uv, float depth) {\n  return step(depth, _czm_sampleShadowMap(shadowMap, uv));\n}\nfloat _czm_shadowVisibility(sampler2D shadowMap, czm_shadowParameters shadowParameters) {\n  float depthBias = shadowParameters.depthBias;\n  float depth = shadowParameters.depth;\n  float nDotL = shadowParameters.nDotL;\n  float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n  float darkness = shadowParameters.darkness;\n  vec2 uv = shadowParameters.texCoords;\n  depth -= depthBias;\n  vec2 texelStepSize = shadowParameters.texelStepSize;\n  float radius = 1.0;\n  float dx0 = -texelStepSize.x * radius;\n  float dy0 = -texelStepSize.y * radius;\n  float dx1 = texelStepSize.x * radius;\n  float dy1 = texelStepSize.y * radius;\n  float visibility = (_czm_shadowDepthCompare(shadowMap, uv, depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, 0.0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, 0.0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy1), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy1), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy1), depth)) * (1.0 / 9.0);\n  return visibility;\n}\n\nvec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point) {\n  vec3 v01 = point - planeOrigin;\n  float d = dot(planeNormal, v01);\n  return (point - planeNormal * d);\n}\nfloat ptm(vec3 pt) {\n  return sqrt(pt.x * pt.x + pt.y * pt.y + pt.z * pt.z);\n}\n\nvoid main() {\n  const float PI = 3.141592653589793;\n  vec4 color = texture(colorTexture, v_textureCoordinates);\n  vec4 currD = texture(depthTexture, v_textureCoordinates);\n  if(!mars3d_show || currD.r >= 1.0) {\n    out_FragColor = color;\n    return;\n  }\n  float depth = getDepthMars3D(currD);\n  vec4 positionEC = toEye(v_textureCoordinates, depth);\n  vec3 normalEC = vec3(1.0);\n  czm_shadowParameters shadowParameters;\n  shadowParameters.texelStepSize = shadowMap_texelSizeDepthBias.xy;\n  shadowParameters.depthBias = shadowMap_texelSizeDepthBias.z;\n  shadowParameters.normalShadingSmooth = shadowMap_texelSizeDepthBias.w;\n  shadowParameters.darkness = shadowMap_normalOffsetScale.w;\n  shadowParameters.depthBias *= max(depth * 0.01, 1.0);\n\n  vec3 directionEC = normalize(positionEC.xyz - shadowMap_lightPositionEC.xyz);\n  float nDotL = clamp(dot(normalEC, -directionEC), 0.0, 1.0);\n  vec4 shadowPosition = shadowMap_matrix * positionEC;\n  shadowPosition /= shadowPosition.w;\n  if(any(lessThan(shadowPosition.xyz, vec3(0.0))) || any(greaterThan(shadowPosition.xyz, vec3(1.0)))) {\n    out_FragColor = color;\n    return;\n  }\n\n  //坐标与视点位置距离，大于最大距离则舍弃阴影效果\n  vec4 lw = czm_inverseView * vec4(shadowMap_lightPositionEC.xyz, 1.0);\n  vec4 vw = czm_inverseView * vec4(positionEC.xyz, 1.0);\n  if(distance(lw.xyz, vw.xyz) > mars3d_distance) {\n    out_FragColor = color;\n    return;\n  }\n\n  //水平夹角限制\n  vec3 ptOnSP = pointProjectOnPlane(shadowMap_lightUp, lw.xyz, vw.xyz);\n  directionEC = ptOnSP - lw.xyz;\n  float directionECMO = ptm(directionEC.xyz);\n  float shadowMap_lightDirMO = ptm(shadowMap_lightDir.xyz);\n  float cosJJ = dot(directionEC, shadowMap_lightDir) / (directionECMO * shadowMap_lightDirMO);\n  float degJJ = abs(acos(cosJJ) * (180.0 / PI));\n  if(degJJ > mars3d_xAngle) {\n    out_FragColor = color;\n    return;\n  }\n\n  //垂直夹角限制\n  vec3 ptOnCZ = pointProjectOnPlane(shadowMap_lightRight, lw.xyz, vw.xyz);\n  vec3 dirOnCZ = ptOnCZ - lw.xyz;\n  float dirOnCZMO = ptm(dirOnCZ);\n  float cosJJCZ = dot(dirOnCZ, shadowMap_lightDir) / (dirOnCZMO * shadowMap_lightDirMO);\n  float degJJCZ = abs(acos(cosJJCZ) * (180.0 / PI));\n  if(degJJCZ > mars3d_yAngle) {\n    out_FragColor = color;\n    return;\n  }\n\n  shadowParameters.texCoords = shadowPosition.xy;\n  shadowParameters.depth = shadowPosition.z;\n  shadowParameters.nDotL = nDotL;\n  float visibility = _czm_shadowVisibility(shadowMap_texture, shadowParameters);\n\n  //可视域\n  if(visibility == 1.0) {\n    out_FragColor = mix(color, vec4(mars3d_visibleAreaColor, 1.0), mars3d_opacity);\n  } else {\n    out_FragColor = mix(color, vec4(mars3d_hiddenAreaColor, 1.0), mars3d_opacity);\n  }\n}\n";
  const DEF_STYLE$6 = {
    angle: 60,
    angle2: 45,
    distance: 1000,
    opacity: 0.6,
    addHeight: 0,
    showFrustum: false
  };
  class ViewShed extends BasePointPrimitive {
    constructor(_0x28def9 = {}, _0x163784 = true) {
      if (_0x163784) {
        _0x28def9.style = {
          ...DEF_STYLE$6,
          ..._0x28def9.style
        };
      }
      super(_0x28def9);
      this._visibleAreaColor = getCesiumColor(this.style.visibleAreaColor, new Cesium__namespace.Color(0, 1, 0));
      this._hiddenAreaColor = getCesiumColor(this.style.hiddenAreaColor, new Cesium__namespace.Color(1, 0, 0));
      this._hasTerrainShadows = this.options.terrain ?? true;
      this._maximumDistance = this.style.maximumDistance ?? 5000;
    }
    get czmObject() {
      return this._postProcessStage;
    }
    get angle() {
      return this.style.angle;
    }
    set angle(_0x32a30d) {
      this.style.angle = _0x32a30d;
      this._updateDraw();
    }
    get angle2() {
      return this.style.angle2 ?? this.style.angle;
    }
    set angle2(_0x6cb0da) {
      this.style.angle2 = _0x6cb0da;
      this._updateDraw();
    }
    get visibleAreaColor() {
      return this._visibleAreaColor;
    }
    set visibleAreaColor(_0x3bd816) {
      this._visibleAreaColor = getCesiumColor(_0x3bd816);
    }
    get hiddenAreaColor() {
      return this._hiddenAreaColor;
    }
    set hiddenAreaColor(_0x22332e) {
      this._hiddenAreaColor = getCesiumColor(_0x22332e);
    }
    get opacity() {
      return this.style.opacity;
    }
    set opacity(_0x2938e8) {
      this.style.opacity = _0x2938e8;
    }
    get showFrustum() {
      return this.style.showFrustum;
    }
    set showFrustum(_0xd652eb) {
      this.style.showFrustum = _0xd652eb;
      this._frustumPrimitive.show = _0xd652eb;
    }
    get distance() {
      return this.style.distance;
    }
    set distance(_0xecf9eb) {
      this.style.distance = _0xecf9eb;
      this._updateDraw();
    }
    get shadowMap() {
      return this._shadowMap;
    }
    get camera() {
      return this._shadowMap?._lightCamera;
    }
    get targetPosition() {
      return this.options.targetPosition;
    }
    set targetPosition(_0x105056) {
      this.options.targetPosition = _0x105056;
      if (!this._map) {
        return;
      }
      const _0x5c9a55 = this.positionShow;
      if (!_0x5c9a55) {
        return;
      }
      const _0x415c46 = LngLatPoint.toCartesian(_0x105056, this._map?.currentTime);
      this.distance = Cesium__namespace.Cartesian3.distance(_0x5c9a55, _0x415c46);
      const _0x1b0df3 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x415c46, _0x5c9a55, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x35748b = Cesium__namespace.Cartesian3.normalize(_0x5c9a55, new Cesium__namespace.Cartesian3());
      const _0x4169a6 = new Cesium__namespace.Camera(this._map.scene);
      _0x4169a6.position = _0x5c9a55;
      _0x4169a6.direction = _0x1b0df3;
      _0x4169a6.up = _0x35748b;
      this.style.heading = Cesium__namespace.Math.toDegrees(_0x4169a6.heading) - 90;
      this.style.pitch = Cesium__namespace.Math.toDegrees(_0x4169a6.pitch);
      this._updateDraw();
    }
    _showHook() {
      if (this.show) {
        this._updateDraw();
      } else {
        this._clearDraw();
      }
    }
    _updatePositionsHook() {
      var _0x5ac998;
      if ((_0x5ac998 = this._shadowMap) !== null && _0x5ac998 !== undefined && _0x5ac998._lightCamera) {
        const _0x3735af = this.position;
        this._shadowMap._lightCamera.position = _0x3735af;
        if (this._frustumPrimitive && _0x3735af) {
          this._createFrustumPrimitive(this._shadowMap._lightCamera);
        }
      }
    }
    _mountedHook() {
      if (this.options.targetPosition) {
        this.targetPosition = this.options.targetPosition;
      }
      this._defaultColorTexture = new Cesium__namespace.Texture({
        context: this._map.scene.context,
        source: {
          width: 1,
          height: 1,
          arrayBufferView: new Uint8Array([0, 0, 0, 0])
        },
        flipY: false
      });
    }
    _addedHook(_0x57b1f4) {
      if (this._hasTerrainShadows) {
        this._map.viewer.terrainShadows = Cesium__namespace.ShadowMode.ENABLED;
      }
      this._updateDraw();
      this.primitiveCollection.add(this);
    }
    _removedHook() {
      this.stopDraw();
      if (this._hasTerrainShadows) {
        this._map.terrainShadows = Cesium__namespace.ShadowMode.DISABLED;
      }
      this._clearDraw();
      if (this.primitiveCollection && this.primitiveCollection.contains(this)) {
        this._noDestroy = true;
        this.primitiveCollection.remove(this);
        this._noDestroy = false;
      }
    }
    bindUpdateEvent() {}
    unbindUpdateEvent() {}
    updateModelMatrix() {
      this._updateDraw();
    }
    _updateDraw() {
      this._clearDraw();
      if (!this.getRealShow()) {
        return;
      }
      const _0x87a902 = this.positionShow;
      if (!_0x87a902) {
        return;
      }
      const _0x3d6761 = new Cesium__namespace.HeadingPitchRoll(Cesium__namespace.Math.toRadians(this.heading + 90), Cesium__namespace.Math.toRadians(this.pitch), Cesium__namespace.Math.toRadians(this.roll));
      const _0x2754a7 = new Cesium__namespace.Camera(this._map.scene);
      _0x2754a7.position = _0x87a902;
      _0x2754a7.frustum.fov = Cesium__namespace.Math.toRadians(this.angle * 2);
      _0x2754a7.frustum.aspectRatio = this.angle / this.angle2;
      _0x2754a7.frustum.near = 0.01;
      _0x2754a7.frustum.far = this.distance;
      const _0x32860b = {
        heading: _0x3d6761.heading,
        pitch: _0x3d6761.pitch,
        roll: _0x3d6761.roll
      };
      const _0x191757 = {
        destination: _0x87a902,
        orientation: _0x32860b
      };
      _0x2754a7.setView(_0x191757);
      this._createFrustumPrimitive(_0x2754a7);
      this._shadowMap = new Cesium__namespace.ShadowMap({
        lightCamera: _0x2754a7,
        context: this._map.scene.context,
        maximumDistance: this._maximumDistance,
        isSpotLight: true,
        cascadesEnabled: false,
        enabled: false,
        depthBiasStep: this.options.depthBiasStep ?? 1
      });
      this._createPostProcessStage();
    }
    _clearDraw() {
      if (!this._map) {
        return;
      }
      if (this._postProcessStage) {
        this._map.scene.postProcessStages.remove(this._postProcessStage);
        delete this._postProcessStage;
      }
      if (this._shadowMap) {
        this._shadowMap.destroy();
        delete this._shadowMap;
      }
      if (this._frustumPrimitive) {
        this._layer.removeGraphic(this._frustumPrimitive, true);
        delete this._frustumPrimitive;
      }
    }
    update(_0x19c7f8) {
      if (!this.getRealShow(_0x19c7f8.time) || !this.position) {
        if (this._postProcessStage) {
          this._postProcessStage.enabled = false;
        }
        if (this._frustumPrimitive) {
          this._frustumPrimitive.show = false;
        }
        return;
      }
      if (this._postProcessStage && this._postProcessStage.enabled === false) {
        this._postProcessStage.enabled = true;
      }
      if (this._frustumPrimitive && this._frustumPrimitive.show === false) {
        this._frustumPrimitive.show = this.showFrustum && this.show;
      }
      const _0x176f30 = this.style.distanceDisplayCondition;
      if (_0x176f30 && this._postProcessStage) {
        let _0xae4317;
        if (this._map.mode === Cesium__namespace.SceneMode.SCENE3D) {
          _0xae4317 = Cesium__namespace.Cartesian3.distance(this.position, this._map.camera.positionWC);
        } else {
          _0xae4317 = this._map.camera.positionCartographic.height;
        }
        const _0x4e2fdf = this.style.distanceDisplayCondition_near ?? _0x176f30.near;
        const _0x325982 = this.style.distanceDisplayCondition_far ?? _0x176f30.far;
        if (_0x4e2fdf > _0xae4317 || _0x325982 < _0xae4317) {
          this._postProcessStage.enabled = false;
          if (this._frustumPrimitive) {
            this._frustumPrimitive.show = false;
          }
          return;
        }
      }
      if (this.property) {
        this._updatePositionsHook();
      }
      if (this._shadowMap) {
        _0x19c7f8.shadowMaps.push(this._shadowMap);
      }
    }
    _createFrustumPrimitive(_0x1de2fc) {
      const _0x450754 = {
        angle: this.angle,
        angle2: this.angle2,
        distance: this.distance + 1
      };
      const _0x2d9a55 = {
        modelMatrix: _0x1de2fc.inverseViewMatrix,
        style: _0x450754,
        show: this.showFrustum && this.show,
        private: true
      };
      const _0xbc9287 = _0x2d9a55;
      if (this._frustumPrimitive) {
        this._frustumPrimitive.setOptions(_0xbc9287);
      } else {
        this._frustumPrimitive = new ArcFrustum(_0xbc9287);
        this._layer.addGraphic(this._frustumPrimitive);
      }
    }
    _createPostProcessStage() {
      if (this._postProcessStage) {
        this._map.scene.postProcessStages.remove(this._postProcessStage);
        delete this._postProcessStage;
      }
      const _0x39dd44 = new Cesium__namespace.Cartesian2();
      const _0x3849f7 = new Cesium__namespace.Cartesian4();
      const _0xf7dd6b = new Cesium__namespace.Cartesian4();
      const _0x58724a = this._shadowMap._primitiveBias;
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        fragmentShader: ViewShedFS,
        uniforms: {
          mars3d_show: () => {
            return this.show && this._layer?.show;
          },
          mars3d_opacity: () => {
            return this.opacity;
          },
          mars3d_visibleAreaColor: () => {
            return this.visibleAreaColor;
          },
          mars3d_hiddenAreaColor: () => {
            return this.hiddenAreaColor;
          },
          mars3d_distance: () => {
            return this.distance;
          },
          mars3d_xAngle: () => {
            return this.angle;
          },
          mars3d_yAngle: () => {
            return this.angle2;
          },
          shadowMap_texture: () => {
            return this._shadowMap._shadowMapTexture || this._defaultColorTexture;
          },
          shadowMap_matrix: () => {
            return this._shadowMap._shadowMapMatrix;
          },
          shadowMap_lightPositionEC: () => {
            return this._shadowMap._lightPositionEC;
          },
          shadowMap_lightDirectionEC: () => {
            return this._shadowMap._lightDirectionEC;
          },
          shadowMap_lightUp: () => {
            return this._shadowMap._lightCamera.up;
          },
          shadowMap_lightDir: () => {
            return this._shadowMap._lightCamera.direction;
          },
          shadowMap_lightRight: () => {
            return this._shadowMap._lightCamera.right;
          },
          shadowMap_texelSizeDepthBias: () => {
            _0x39dd44.x = 1 / this._shadowMap._textureSize.x;
            _0x39dd44.y = 1 / this._shadowMap._textureSize.y;
            return Cesium__namespace.Cartesian4.fromElements(_0x39dd44.x, _0x39dd44.y, _0x58724a.depthBias, _0x58724a.normalShadingSmooth, _0x3849f7);
          },
          shadowMap_normalOffsetScale: () => {
            return Cesium__namespace.Cartesian4.fromElements(_0x58724a.normalOffsetScale, this._shadowMap._distance, this._shadowMap.maximumDistance, this._shadowMap._darkness, _0xf7dd6b);
          }
        }
      });
      this._map.scene.postProcessStages.add(this._postProcessStage);
    }
    _style2JsonBase(_0x6a659a, _0x42a1fc) {
      _0x6a659a.heading = formatNum$1(this.heading, 1);
      _0x6a659a.pitch = formatNum$1(this.pitch, 1);
      _0x6a659a.distance = formatNum$1(this.distance, 2);
      return getAttrVal(_0x6a659a, {
        onlySimpleType: true
      });
    }
    setView() {
      if (!this._map) {
        return;
      }
      const _0x1a33d5 = this.camera;
      if (!_0x1a33d5) {
        return;
      }
      this._map.camera.position = Cesium__namespace.clone(this.position);
      this._map.camera.direction = Cesium__namespace.clone(_0x1a33d5.direction);
      this._map.camera.right = Cesium__namespace.clone(_0x1a33d5.right);
      this._map.camera.up = Cesium__namespace.clone(_0x1a33d5.up);
    }
    setOpacity(_0x47abdc) {
      this.style.opacity = _0x47abdc;
    }
    startDraw(_0x1c338e) {
      if (this._isDrawing) {
        return this;
      }
      this._isDrawing = true;
      if (_0x1c338e) {
        this.addTo(_0x1c338e);
      }
      if (!this._map) {
        throw new Error("绘制时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._map._setEditCursor(true);
      this.enableControl(false);
      this._startDrawHook();
      this.fire(EventType.drawStart, {
        drawType: this.type,
        graphic: this
      }, true);
    }
    stopDraw() {
      var _0x444a87;
      var _0x1b0cf0;
      if (!this._isDrawing) {
        return this;
      }
      this._stopDrawHook();
      this._map._setEditCursor(false);
      this.enableControl(true);
      this._map.closeSmallTooltip();
      this._isDrawing = false;
      if (!this.position || !this.distance) {
        this.remove(true);
        return;
      }
      this.fire(EventType.drawCreated, {
        drawType: this.type,
        graphic: this
      }, true);
      if ((_0x444a87 = this.options) !== null && _0x444a87 !== undefined && _0x444a87.success) {
        this.options.success(this);
      }
      if ((_0x1b0cf0 = this.options) !== null && _0x1b0cf0 !== undefined && (_0x1b0cf0 = _0x1b0cf0._promise) !== null && _0x1b0cf0 !== undefined && _0x1b0cf0.resolve) {
        this.options._promise.resolve(this);
      }
    }
    _startDrawHook() {
      this._map.on(EventType.click, this._onClickHandler, this);
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
    }
    _stopDrawHook() {
      this._map.off(EventType.click, this._onClickHandler, this);
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
    }
    _onClickHandler(_0x4372b3) {
      let _0x179d72 = _0x4372b3.cartesian;
      if (!_0x179d72) {
        return;
      }
      _0x4372b3 = {
        ..._0x4372b3,
        drawType: this.type,
        graphic: this
      };
      this.fire(EventType.drawAddPoint, _0x4372b3, true);
      if (!this.position) {
        const _0x5d60b7 = addPositionsHeight(_0x179d72, this.style.addHeight);
        this._setPointPostion(_0x5d60b7);
        return;
      }
      const _0x4a35dd = Cesium__namespace.Cartesian3.distance(this.position, _0x179d72);
      if (_0x4a35dd > this._maximumDistance) {
        _0x179d72 = getOnLinePointByLen(this.position, _0x179d72, this._maximumDistance);
      }
      this.targetPosition = _0x179d72;
      this.stopDraw();
      this.fire(EventType.drawCreated, _0x4372b3);
    }
    _onMouseMoveHandler(_0x2915f1) {
      let _0x2dc3f4 = _0x2915f1.cartesian;
      if (!_0x2dc3f4) {
        return;
      }
      const _0x162aab = this.position;
      if (_0x162aab) {
        const _0xc2770 = Cesium__namespace.Cartesian3.distance(_0x162aab, _0x2dc3f4);
        if (_0xc2770 > this._maximumDistance) {
          _0x2dc3f4 = getOnLinePointByLen(_0x162aab, _0x2dc3f4, this._maximumDistance);
        }
        this.targetPosition = _0x2dc3f4;
        this.fire(EventType.drawMouseMove, {
          ..._0x2915f1,
          drawType: this.type,
          graphic: this
        }, true);
        this._map.openSmallTooltip(_0x2915f1.endPosition, this._map.getLangText("_单击完成绘制"));
      } else {
        this._map.openSmallTooltip(_0x2915f1.endPosition, this._map.getLangText("_单击开始绘制"));
      }
    }
  }
  register$5("viewShed", ViewShed, true);
  var ViewVideoFS = "uniform bool mars3d_show;\nuniform float mars3d_opacity;\n\nuniform sampler2D mars3d_videoTexture;\nuniform sampler2D mars3d_maskTexture;\nuniform vec4 mars3d_hiddenAreaColor;\n\nuniform sampler2D shadowMap_texture;\nuniform mat4 shadowMap_matrix;\nuniform vec4 shadowMap_lightPositionEC;\nuniform vec4 shadowMap_texelSizeDepthBias;\nuniform vec4 shadowMap_normalOffsetScale;\nuniform bool mars3d_flipx;\nuniform bool mars3d_flipy;\n\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nin vec2 v_textureCoordinates;\n\nvec4 toEye(in vec2 uv, in float depth) {\n  vec2 xy = vec2((uv.x * 2.0 - 1.0), (uv.y * 2.0 - 1.0));\n  vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);\n  posInCamera = posInCamera / posInCamera.w;\n  return posInCamera;\n}\n\nfloat getDepthMars3D(in vec4 depth) {\n  float z_window = czm_unpackDepth(depth);\n  z_window = czm_reverseLogDepth(z_window);\n  float n_range = czm_depthRange.near;\n  float f_range = czm_depthRange.far;\n  return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nfloat _czm_sampleShadowMap(sampler2D shadowMap, vec2 uv) {\n  return texture(shadowMap, uv).r;\n}\nfloat _czm_shadowDepthCompare(sampler2D shadowMap, vec2 uv, float depth) {\n  return step(depth, _czm_sampleShadowMap(shadowMap, uv));\n}\nfloat _czm_shadowVisibility(sampler2D shadowMap, czm_shadowParameters shadowParameters) {\n  float depthBias = shadowParameters.depthBias;\n  float depth = shadowParameters.depth;\n  float nDotL = shadowParameters.nDotL;\n  float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n  float darkness = shadowParameters.darkness;\n  vec2 uv = shadowParameters.texCoords;\n  depth -= depthBias;\n  vec2 texelStepSize = shadowParameters.texelStepSize;\n  float radius = 1.0;\n  float dx0 = -texelStepSize.x * radius;\n  float dy0 = -texelStepSize.y * radius;\n  float dx1 = texelStepSize.x * radius;\n  float dy1 = texelStepSize.y * radius;\n  float visibility = (_czm_shadowDepthCompare(shadowMap, uv, depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, 0.0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, 0.0), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy1), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy1), depth) +\n    _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy1), depth)) * (1.0 / 9.0);\n  return visibility;\n}\n\nvec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point) {\n  vec3 v01 = point - planeOrigin;\n  float d = dot(planeNormal, v01);\n  return (point - planeNormal * d);\n}\nfloat ptm(vec3 pt) {\n  return sqrt(pt.x * pt.x + pt.y * pt.y + pt.z * pt.z);\n}\n\nvoid main() {\n  const float PI = 3.141592653589793;\n  vec4 color = texture(colorTexture, v_textureCoordinates);\n  vec4 currD = texture(depthTexture, v_textureCoordinates);\n  if(!mars3d_show || currD.r >= 1.0) {\n    out_FragColor = color;\n    return;\n  }\n  float depth = getDepthMars3D(currD);\n  vec4 positionEC = toEye(v_textureCoordinates, depth);\n  vec3 normalEC = vec3(1.0);\n  czm_shadowParameters shadowParameters;\n  shadowParameters.texelStepSize = shadowMap_texelSizeDepthBias.xy;\n  shadowParameters.depthBias = shadowMap_texelSizeDepthBias.z;\n  shadowParameters.normalShadingSmooth = shadowMap_texelSizeDepthBias.w;\n  shadowParameters.darkness = shadowMap_normalOffsetScale.w;\n  shadowParameters.depthBias *= max(depth * 0.01, 1.0);\n\n  vec3 directionEC = normalize(positionEC.xyz - shadowMap_lightPositionEC.xyz);\n  float nDotL = clamp(dot(normalEC, -directionEC), 0.0, 1.0);\n  vec4 shadowPosition = shadowMap_matrix * positionEC;\n  shadowPosition /= shadowPosition.w;\n  if(any(lessThan(shadowPosition.xyz, vec3(0.0))) || any(greaterThan(shadowPosition.xyz, vec3(1.0)))) {\n    out_FragColor = color;\n    return;\n  }\n\n  shadowParameters.texCoords = shadowPosition.xy;\n  shadowParameters.depth = shadowPosition.z;\n  shadowParameters.nDotL = nDotL;\n  float visibility = _czm_shadowVisibility(shadowMap_texture, shadowParameters);\n\n  //视频投射\n  if(visibility == 1.0) {\n    if(mars3d_flipx){\n      shadowPosition.x = shadowPosition.x + (0.5 - shadowPosition.x) * 2.0;\n    }\n    if(mars3d_flipy){\n      shadowPosition.y = shadowPosition.y + (0.5 - shadowPosition.y) * 2.0;\n    }\n\n    vec4 videoColor = texture(mars3d_videoTexture, shadowPosition.xy);\n    vec4 maskColor = texture(mars3d_maskTexture, shadowPosition.xy);\n    videoColor *= maskColor;\n    out_FragColor = mix(color, vec4(videoColor.xyz, 1.0), mars3d_opacity * videoColor.a);\n  } else {\n    if(abs(shadowPosition.z - 0.0) < 0.01) {\n      return;\n    }\n    out_FragColor = vec4(mix(color.rgb, mars3d_hiddenAreaColor.rgb, mars3d_hiddenAreaColor.a), mars3d_hiddenAreaColor.a);\n  }\n}\n";
  const DEF_STYLE$5 = {
    angle: 60,
    angle2: 45,
    distance: 1000,
    opacity: 1,
    showFrustum: false,
    hiddenAreaColor: new Cesium__namespace.Color(0, 0, 0, 0.5),
    flipx: false,
    flipy: false
  };
  class Video3D extends ViewShed {
    constructor(_0x4ab78c = {}) {
      _0x4ab78c.style = {
        ...DEF_STYLE$5,
        ..._0x4ab78c.style
      };
      _0x4ab78c.terrain = false;
      super(_0x4ab78c, false);
    }
    get container() {
      return this._videoContainer;
    }
    get distance() {
      return this.style.distance;
    }
    set distance(_0x5b6da7) {
      this.style.distance = _0x5b6da7;
      this._updateDraw();
    }
    get flipx() {
      return this.style.flipx;
    }
    set flipx(_0x5ad468) {
      this.style.flipx = _0x5ad468;
    }
    get play() {
      return this.options.play ?? true;
    }
    set play(_0x3b45bd) {
      this.options.play = _0x3b45bd = Boolean(_0x3b45bd);
      if (!this._videoContainer) {
        return;
      }
      try {
        if (_0x3b45bd) {
          if (this._videoSynchronizer) {
            this._videoSynchronizer.element = this._videoContainer;
          }
          this._videoContainer.play();
        } else {
          if (this._videoSynchronizer) {
            this._videoSynchronizer.element = undefined;
          }
          this._videoContainer.pause();
        }
      } catch (_0x42f167) {}
    }
    _mountedHook() {
      super._mountedHook();
      const _0x2439d3 = this.style.maskImage;
      if (_0x2439d3) {
        const _0x59499a = new Image();
        _0x59499a.crossOrigin = "anonymous";
        _0x59499a.onload = _0xa38769 => {
          this._maskTexture = new Cesium__namespace.Texture({
            context: this._map.scene.context,
            source: _0x59499a
          });
        };
        _0x59499a.onerror = _0x462189 => {
          logError("图片加载失败：" + _0x2439d3, _0x462189);
        };
        _0x59499a.src = _0x2439d3;
      } else {
        this._maskTexture = new Cesium__namespace.Texture({
          context: this._map.scene.context,
          source: {
            width: 1,
            height: 1,
            arrayBufferView: new Uint8Array([255, 255, 255, 255])
          },
          flipY: false
        });
      }
      if (this.style.url) {
        this._videoContainer = createVideo(this.style.url, this.style.fileType, "", document.body);
        this._videoContainer.style.display = "none";
        if (!this.play) {
          this._videoContainer.removeAttribute("autoplay");
        }
        this._hasRemoveElement = true;
      } else if (this.style.container) {
        this._videoContainer = this.style.container;
      }
      if (this._videoContainer) {
        if (this.options.synchronizer) {
          this._videoSynchronizer = new Cesium__namespace.VideoSynchronizer({
            clock: this._map.clock,
            element: this._videoContainer
          });
        }
        this._map.on(EventType.clockTick, this._onClockTickHandler, this);
      }
    }
    _removedHook() {
      var _0x2da289;
      this._map.off(EventType.clockTick, this._onClockTickHandler, this);
      if (this._videoSynchronizer) {
        this._videoSynchronizer.destroy();
        delete this._videoSynchronizer;
      }
      if (this._hasRemoveElement && (_0x2da289 = this._videoContainer) !== null && _0x2da289 !== undefined && _0x2da289.parentNode) {
        this._videoContainer.parentNode.removeChild(this._videoContainer);
        delete this._hasRemoveElement;
        delete this._videoContainer;
      }
      super._removedHook();
    }
    _onClockTickHandler() {
      try {
        if (this.play && this._videoContainer.paused) {
          this._videoContainer.play();
        }
      } catch (_0x3655bb) {}
      if (!this._videoContainer || !this._map) {
        return;
      }
      if (this._videoTexture) {
        this._videoTexture.destroy();
      }
      this._videoTexture = new Cesium__namespace.Texture({
        context: this._map.scene.context,
        source: this._videoContainer,
        pixelFormat: Cesium__namespace.PixelFormat.RGBA,
        pixelDatatype: Cesium__namespace.PixelDatatype.UNSIGNED_BYTE
      });
    }
    _clearDraw() {
      if (this._frustumPrimitive) {
        this.primitiveCollection.remove(this._frustumPrimitive);
        delete this._frustumPrimitive;
      }
      super._clearDraw();
    }
    _createFrustumPrimitive(_0x3a828f) {
      const _0x492cfd = _0x3a828f.directionWC;
      const _0x2d8ce7 = _0x3a828f.upWC;
      let _0x2a5675 = _0x3a828f.rightWC;
      _0x2a5675 = Cesium__namespace.Cartesian3.negate(_0x2a5675, new Cesium__namespace.Cartesian3());
      const _0x1322eb = new Cesium__namespace.Matrix3();
      Cesium__namespace.Matrix3.setColumn(_0x1322eb, 0, _0x2a5675, _0x1322eb);
      Cesium__namespace.Matrix3.setColumn(_0x1322eb, 1, _0x2d8ce7, _0x1322eb);
      Cesium__namespace.Matrix3.setColumn(_0x1322eb, 2, _0x492cfd, _0x1322eb);
      const _0xd5e0b = Cesium__namespace.Quaternion.fromRotationMatrix(_0x1322eb, new Cesium__namespace.Quaternion());
      if (this._frustumPrimitive) {
        this.primitiveCollection.remove(this._frustumPrimitive);
      }
      const _0x1d314e = {
        origin: _0x3a828f.position,
        orientation: _0xd5e0b,
        frustum: _0x3a828f.frustum,
        _drawNearPlane: true
      };
      this._frustumPrimitive = new Cesium__namespace.Primitive({
        geometryInstances: new Cesium__namespace.GeometryInstance({
          id: this.id,
          geometry: new Cesium__namespace.FrustumOutlineGeometry(_0x1d314e),
          attributes: {
            color: Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(Cesium__namespace.Color.AZURE)
          }
        }),
        appearance: new Cesium__namespace.PerInstanceColorAppearance({
          translucent: false,
          flat: true
        }),
        asynchronous: false,
        show: this.showFrustum && this.show
      });
      this.primitiveCollection.add(this._frustumPrimitive);
      this.bindPickId(this._frustumPrimitive);
    }
    _createPostProcessStage() {
      if (this._postProcessStage) {
        this._map.scene.postProcessStages.remove(this._postProcessStage);
        delete this._postProcessStage;
      }
      const _0x461e8a = new Cesium__namespace.Cartesian2();
      const _0x625a95 = new Cesium__namespace.Cartesian4();
      const _0x598ff9 = new Cesium__namespace.Cartesian4();
      const _0x475fcb = this._shadowMap._primitiveBias;
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        fragmentShader: ViewVideoFS,
        uniforms: {
          mars3d_show: () => {
            return this.show && this._layer?.show;
          },
          mars3d_videoTexture: () => {
            if (!this._videoTexture || this._videoTexture.isDestroyed()) {
              return this._defaultColorTexture;
            }
            return this._videoTexture;
          },
          mars3d_maskTexture: () => {
            return this._maskTexture;
          },
          mars3d_opacity: () => {
            return this.opacity;
          },
          mars3d_hiddenAreaColor: () => {
            return this.hiddenAreaColor;
          },
          shadowMap_texture: () => {
            if (!this._shadowMap || !this._shadowMap._shadowMapTexture || this._shadowMap._shadowMapTexture.isDestroyed()) {
              return this._defaultColorTexture;
            }
            return this._shadowMap._shadowMapTexture;
          },
          shadowMap_matrix: () => {
            return this._shadowMap._shadowMapMatrix;
          },
          shadowMap_lightPositionEC: () => {
            return this._shadowMap._lightPositionEC;
          },
          shadowMap_texelSizeDepthBias: () => {
            _0x461e8a.x = 1 / this._shadowMap._textureSize.x;
            _0x461e8a.y = 1 / this._shadowMap._textureSize.y;
            return Cesium__namespace.Cartesian4.fromElements(_0x461e8a.x, _0x461e8a.y, _0x475fcb.depthBias, _0x475fcb.normalShadingSmooth, _0x625a95);
          },
          shadowMap_normalOffsetScale: () => {
            return Cesium__namespace.Cartesian4.fromElements(_0x475fcb.normalOffsetScale, this._shadowMap._distance, this._shadowMap.maximumDistance, this._shadowMap._darkness, _0x598ff9);
          },
          mars3d_flipx: () => {
            return this.style.flipx;
          },
          mars3d_flipy: () => {
            return this.style.flipy;
          }
        }
      });
      this._map.scene.postProcessStages.add(this._postProcessStage);
    }
  }
  register$5("video3D", Video3D, true);
  let globeLastRoam;
  class Route extends BasePointPrimitive {
    constructor(_0x27f3dd = {}) {
      super(_0x27f3dd);
      this.options.frameRate = this.options.frameRate ?? 1;
      this._maxCacheCount = this.options.maxCacheCount ?? 1000;
      this._clampToTilesetFrame = -1;
      this._frameRateHeight = this.options.frameRateHeight ?? 30;
      this._convertStyle(this.options.style);
      this._child = {};
      this._position_result = new Cesium__namespace.Cartesian3();
      this._readyPromise = Cesium__namespace.defer();
    }
    get hasTimePostion() {
      return true;
    }
    get label() {
      return this._child.label;
    }
    set label(_0x5b217d) {
      this.options.label = _0x5b217d;
      this._initChildGraphic("label", LabelPrimitive);
    }
    get billboard() {
      return this._child.billboard;
    }
    set billboard(_0x147f20) {
      this.options.billboard = _0x147f20;
      this._initChildGraphic("billboard", BillboardPrimitive);
    }
    get point() {
      return this._child.point;
    }
    set point(_0xd8e9d8) {
      this.options.point = _0xd8e9d8;
      this._initChildGraphic("point", PointPrimitive);
    }
    get model() {
      var _0x455ab6;
      if ((_0x455ab6 = this.options.model) === null || _0x455ab6 === undefined || !_0x455ab6.url) {
        return;
      }
      return this._child.model;
    }
    set model(_0x1e838a) {
      this.options.model = _0x1e838a;
      this._initChildGraphic("model", ModelPrimitive);
    }
    get readyPromise() {
      return this._readyPromise.promise;
    }
    get circle() {
      return this._child.circle;
    }
    set circle(_0x3e4418) {
      this.options.circle = _0x3e4418;
      this._initChildGraphic("circle", CircleEntity);
    }
    get coneTrack() {
      return this._child.coneTrack;
    }
    set coneTrack(_0x2adc24) {
      this.options.coneTrack = _0x2adc24;
      this._initChildGraphic("coneTrack", ConeTrack);
    }
    get path() {
      return this._child.path;
    }
    set path(_0x4875b9) {
      this.options.path = _0x4875b9;
      this._initChildGraphic("path", PathEntity);
    }
    get polyline() {
      return this._child.polyline;
    }
    set polyline(_0x31d978) {
      this.options.polyline = _0x31d978;
      this._initChildGraphic("polyline", PolylineEntity);
    }
    get wall() {
      return this._child.wall;
    }
    set wall(_0x3ff953) {
      this.options.wall = _0x3ff953;
      this._initChildGraphic("wall", WallEntity);
    }
    get modelMatrix() {
      if (this._modelMatrix) {
        return this._modelMatrix;
      } else {
        return this._getModelMatrix(this._position, this._orientation_show);
      }
    }
    get groundPosition() {
      return getRayEarthPosition(this._position, new Cesium__namespace.HeadingPitchRoll(this._heading_reality, this._pitch_reality, this._roll_reality), true);
    }
    get alt() {
      if (this._clampToTilesetHeight) {
        return this._clampToTilesetHeight;
      }
      if (this._position) {
        const _0x443081 = Cesium__namespace.Cartographic.fromCartesian(this._position);
        return _0x443081.height;
      }
      return 0;
    }
    get clampToGround() {
      var _0x8fc94e;
      var _0xeb1990;
      var _0x446397;
      var _0x44ab7a;
      if ((_0x8fc94e = this.options.model) !== null && _0x8fc94e !== undefined && _0x8fc94e.clampToGround) {
        return true;
      }
      if ((_0xeb1990 = this.options.point) !== null && _0xeb1990 !== undefined && _0xeb1990.clampToGround) {
        return true;
      }
      if ((_0x446397 = this.options.billboard) !== null && _0x446397 !== undefined && _0x446397.clampToGround) {
        return true;
      }
      if ((_0x44ab7a = this.options.label) !== null && _0x44ab7a !== undefined && _0x44ab7a.clampToGround) {
        return true;
      }
      return false;
    }
    get startTime() {
      var _0x4f6e28;
      const _0x511c33 = (_0x4f6e28 = this.property) === null || _0x4f6e28 === undefined || (_0x4f6e28 = _0x4f6e28._property) === null || _0x4f6e28 === undefined ? undefined : _0x4f6e28._times;
      if (_0x511c33?.length > 0) {
        return _0x511c33[0];
      } else {
        return null;
      }
    }
    get stopTime() {
      var _0x4fe62a;
      const _0x15861e = (_0x4fe62a = this.property) === null || _0x4fe62a === undefined || (_0x4fe62a = _0x4fe62a._property) === null || _0x4fe62a === undefined ? undefined : _0x4fe62a._times;
      if (_0x15861e?.length > 0) {
        return _0x15861e[_0x15861e.length - 1];
      } else {
        return null;
      }
    }
    get currIndex() {
      return this._flyok_index;
    }
    get multiplier() {
      var _0xf91e2c;
      if ((_0xf91e2c = this._map) === null || _0xf91e2c === undefined) {
        return undefined;
      } else {
        return _0xf91e2c.clock.multiplier;
      }
    }
    set multiplier(_0x5f0355) {
      if (this._map) {
        this._map.clock.multiplier = _0x5f0355;
      }
    }
    get isPause() {
      var _0x573b57;
      return (_0x573b57 = this._map) === null || _0x573b57 === undefined || !_0x573b57.clock.shouldAnimate;
    }
    set isPause(_0x556ab8) {
      if (this._map) {
        if (_0x556ab8) {
          this.pause();
        } else {
          this.proceed();
        }
      }
    }
    get objectsToExclude() {
      if (this.options.objectsToExclude) {
        return this.options.objectsToExclude;
      }
      if (this._objectsToExcludee) {
        return this._objectsToExclude;
      }
      const _0xc8b628 = [];
      this.eachChildGraphic(_0x27df93 => {
        if (_0x27df93.czmObject) {
          _0xc8b628.push(_0x27df93.czmObject);
        }
      });
      if (_0xc8b628.length > 0) {
        return _0xc8b628;
      }
      return undefined;
    }
    set objectsToExclude(_0x5dd140) {
      this._objectsToExclude = _0x5dd140;
    }
    get style() {
      if (!this._style_clache) {
        this._style_clache = {};
      }
      this._splitOptionsToStyle(this._style_clache, "model");
      this._splitOptionsToStyle(this._style_clache, "label");
      this._splitOptionsToStyle(this._style_clache, "billboard");
      this._splitOptionsToStyle(this._style_clache, "point");
      this._splitOptionsToStyle(this._style_clache, "circle");
      this._splitOptionsToStyle(this._style_clache, "cone");
      this._splitOptionsToStyle(this._style_clache, "coneTrack");
      this._splitOptionsToStyle(this._style_clache, "polyline");
      this._splitOptionsToStyle(this._style_clache, "wall");
      this._splitOptionsToStyle(this._style_clache, "path");
      return this._style_clache;
    }
    set style(_0x184d23) {
      this.setStyle(_0x184d23);
    }
    setStyle(_0x28303c, _0x1742ff) {
      if (!_0x28303c) {
        return;
      }
      _0x28303c = {
        ..._0x28303c
      };
      this._convertStyle(_0x28303c, _0x1742ff);
      this._setOptionsHook(this.options, _0x28303c);
      return this;
    }
    _style2JsonBase(_0x13b544, _0x1541b3) {
      if (this.options.convertStyle) {
        return super._style2JsonBase(_0x13b544, _0x1541b3);
      } else {
        return {};
      }
    }
    openHighlight(_0x3d3ba2, _0x588c8e = true) {
      if (_0x588c8e) {
        this._map.closeHighlight();
        this._map.last_highlighGraphic = this;
      }
      this._highlight_state = true;
      const _0x4d6a6e = _0x3d3ba2 || this._highlightOptions || this._layer?._highlightOptions;
      if (_0x4d6a6e) {
        const _0x297ba0 = [];
        for (const _0xc59527 in _0x4d6a6e) {
          const _0x2b2c69 = _0x4d6a6e[_0xc59527];
          switch (_0xc59527) {
            case "type":
              break;
            case "label":
              this._initChildGraphic("label", LabelPrimitive, _0x2b2c69);
              break;
            case "billboard":
              this._initChildGraphic("billboard", BillboardPrimitive, _0x2b2c69);
              break;
            case "point":
              this._initChildGraphic("point", PointPrimitive, _0x2b2c69);
              break;
            case "model":
              this._initChildGraphic("model", ModelPrimitive, _0x2b2c69);
              break;
            case "circle":
              this._initChildGraphic("circle", CircleEntity, _0x2b2c69);
              break;
            case "coneTrack":
              this._initChildGraphic("coneTrack", ConeTrack, _0x2b2c69);
              break;
            case "path":
              this._initChildGraphic("path", PathEntity, _0x2b2c69);
              break;
            case "polyline":
              this._initChildGraphic("polyline", PolylineEntity, _0x2b2c69);
              break;
            case "wall":
              this._initChildGraphic("wall", WallEntity);
              break;
          }
        }
        if (_0x297ba0.length > 0) {
          logWarn("openHighlight：原有options中不存在以下属性，关闭高亮时将无法恢复", _0x297ba0);
        }
        this._last_highlightOptions = _0x4d6a6e;
        this.fire(EventType.highlightOpen, {}, true);
      }
    }
    closeHighlight() {
      if (!this.isAdded || !this._highlight_state) {
        return;
      }
      delete this._highlight_state;
      this._setOptionsHook(this.options, this._last_highlightOptions);
      delete this._last_highlightOptions;
      this._map._clearLastHighlight();
      this.fire(EventType.highlightClose, {}, true);
    }
    _initSampledPositionProperty() {}
    _forPositionProperty(_0x29f92e) {
      return true;
    }
    _setPosToProperties() {
      if (this.options.position) {
        this.position = this.options.position;
      } else if (this.options.positions) {
        this.position = {
          type: "time",
          list: this.options.positions,
          speed: this.options.speed,
          timeField: this.options.timeField,
          pauseTime: this.options.pauseTime,
          startTime: this.options.startTime
        };
      } else {
        this.position = {
          type: "time"
        };
      }
    }
    _mountedHook() {
      if (!this.property) {
        this.property = new Cesium__namespace.SampledPositionProperty(this.options.referenceFrame, this.options.numberOfDerivatives);
        this.property.forwardExtrapolationType = this.options.forwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        this.property.backwardExtrapolationType = this.options.backwardExtrapolationType ?? Cesium__namespace.ExtrapolationType.HOLD;
        this._orientation = this.options.orientation || new Cesium__namespace.VelocityOrientationProperty(this.property);
      }
      this._initChildGraphic("label", LabelPrimitive);
      this._initChildGraphic("billboard", BillboardPrimitive);
      this._initChildGraphic("point", PointPrimitive);
      this._initChildGraphic("model", ModelPrimitive);
      this._initChildGraphic("circle", CircleEntity);
      this._initChildGraphic("coneTrack", ConeTrack);
      this._initChildGraphic("path", PathEntity);
      this._initChildGraphic("polyline", PolylineEntity);
      this._initChildGraphic("wall", WallEntity);
    }
    _addedHook(_0x351b30) {
      var _0x2eab3b;
      if (!this.show) {
        this._has_addedHook = true;
        return;
      }
      this._addChildGraphic();
      if ((_0x2eab3b = this.model) !== null && _0x2eab3b !== undefined && _0x2eab3b.readyPromise) {
        this.model.readyPromise.then(() => {
          this._readyPromise.resolve(this);
        });
      }
      this.bindUpdateEvent();
    }
    _removedHook(_0x2a7bca) {
      this._removeChildGraphic();
      super._removedHook(_0x2a7bca);
    }
    _showHook(_0x4ee298) {
      if (_0x4ee298) {
        if (this._has_addedHook) {
          this._addedHook(this.style);
          delete this._has_addedHook;
        }
        this.eachChildGraphic(_0x205dfe => {
          _0x205dfe.show = _0x205dfe._lastShow ?? true;
          delete _0x205dfe._lastShow;
        });
      } else {
        this.eachChildGraphic(_0xdf63c7 => {
          _0xdf63c7._lastShow = _0xdf63c7.show;
          _0xdf63c7.show = false;
        });
      }
    }
    _setOptionsHook(_0xea632e, _0x50228c) {
      this._convertStyle(_0x50228c.style);
      for (const _0x118be9 in _0x50228c) {
        switch (_0x118be9) {
          case "label":
            this._initChildGraphic("label", LabelPrimitive);
            break;
          case "billboard":
            this._initChildGraphic("billboard", BillboardPrimitive);
            break;
          case "point":
            this._initChildGraphic("point", PointPrimitive);
            break;
          case "model":
            this._initChildGraphic("model", ModelPrimitive);
            break;
          case "circle":
            this._initChildGraphic("circle", CircleEntity);
            break;
          case "coneTrack":
            this._initChildGraphic("coneTrack", ConeTrack);
            break;
          case "path":
            this._initChildGraphic("path", PathEntity);
            break;
          case "polyline":
            this._initChildGraphic("polyline", PolylineEntity);
            break;
          case "wall":
            this._initChildGraphic("wall", WallEntity);
            break;
        }
      }
      if (this.isEditing) {
        this._updatePosition();
      }
    }
    _splitOptionsToStyle(_0x31fd51, _0x197ff3) {
      if (!this.options.convertStyle) {
        return;
      }
      const _0x474bd7 = this.options[_0x197ff3];
      if (_0x474bd7) {
        delete _0x31fd51[_0x197ff3];
        for (const _0x3e69f9 in _0x474bd7) {
          _0x31fd51[_0x197ff3 + "_" + _0x3e69f9] = _0x474bd7[_0x3e69f9];
        }
        _0x31fd51[_0x197ff3 + "_show"] = _0x474bd7.show ?? true;
      }
    }
    _convertStyle(_0x2906c3, _0x4591ea) {
      if (!this.options.convertStyle || !_0x2906c3 || Object.keys(_0x2906c3).length === 0) {
        return;
      }
      this._mergeStyleToOptions(_0x2906c3, "model");
      this._mergeStyleToOptions(_0x2906c3, "label");
      this._mergeStyleToOptions(_0x2906c3, "billboard");
      this._mergeStyleToOptions(_0x2906c3, "point");
      this._mergeStyleToOptions(_0x2906c3, "circle");
      this._mergeStyleToOptions(_0x2906c3, "cone");
      this._mergeStyleToOptions(_0x2906c3, "coneTrack");
      this._mergeStyleToOptions(_0x2906c3, "polyline");
      this._mergeStyleToOptions(_0x2906c3, "wall");
      this._mergeStyleToOptions(_0x2906c3, "path");
      this._mergeStyleToOptions(_0x2906c3, "camera");
      for (const _0x371dae in _0x2906c3) {
        const _0x29f053 = _0x2906c3[_0x371dae];
        switch (_0x371dae) {
          default:
            {
              if (isObject(_0x29f053) && (_0x4591ea?.merge ?? true)) {
                this.options[_0x371dae] = merge(this.options[_0x371dae], _0x29f053);
              } else {
                this.options[_0x371dae] = _0x29f053;
              }
              break;
            }
        }
      }
    }
    _mergeStyleToOptions(_0x38c1d0, _0x45ae7e) {
      const _0x48fc13 = _0x45ae7e + "_";
      for (const _0x2e1ee7 in _0x38c1d0) {
        const _0x14c7a4 = _0x38c1d0[_0x2e1ee7];
        if (_0x2e1ee7.startsWith(_0x48fc13)) {
          if (!_0x38c1d0[_0x45ae7e]) {
            _0x38c1d0[_0x45ae7e] = {};
          }
          _0x38c1d0[_0x45ae7e][_0x2e1ee7.substring(_0x48fc13.length)] = _0x14c7a4;
          delete _0x38c1d0[_0x2e1ee7];
        }
      }
    }
    _initChildGraphic(_0x136e8d, _0x9091b1, _0x32ce70) {
      let _0x1447b9 = this.options[_0x136e8d];
      let _0x4a0f38 = this._child[_0x136e8d];
      if (_0x32ce70) {
        _0x1447b9 = merge(clone(_0x1447b9), _0x32ce70);
      }
      if (!_0x1447b9 || _0x1447b9.show === false) {
        if (_0x4a0f38) {
          _0x4a0f38.remove(true);
          delete this._child[_0x136e8d];
        }
        return;
      }
      if (_0x4a0f38) {
        _0x4a0f38.setStyle(_0x1447b9);
        _0x4a0f38.show = _0x1447b9.show ?? true;
      } else {
        _0x4a0f38 = new _0x9091b1({
          id: this.id + "-" + _0x136e8d,
          style: clone(_0x1447b9, ["show"]),
          attr: this.attr,
          private: true,
          eventParent: this,
          show: _0x1447b9.show ?? true
        });
        _0x4a0f38.removeEventParent(this._layer);
        _0x4a0f38.addEventParent(this);
        _0x4a0f38.parent = this;
        if (this.isAdded) {
          this._layer.addGraphic(_0x4a0f38);
        }
        if (_0x4a0f38.czmObject) {
          this.bindPickId(_0x4a0f38.czmObject);
        }
        if (_0x4a0f38.czmObjectEx) {
          _0x4a0f38.czmObjectEx.forEach(_0x5a5d0a => {
            this.bindPickId(_0x5a5d0a);
          });
        }
        this._child[_0x136e8d] = _0x4a0f38;
        switch (_0x136e8d) {
          case "billboard":
            {
              if (_0x1447b9.alignedAxis === true) {
                this._child.billboard.style.alignedAxis = new Cesium__namespace.VelocityVectorProperty(this.property, true);
              }
              break;
            }
          case "circle":
            {
              this._child.circle.position = new Cesium__namespace.CallbackProperty(_0x46e49c => {
                return this._position;
              }, false);
              break;
            }
          case "coneTrack":
            {
              this._child.coneTrack.position = new Cesium__namespace.CallbackProperty(_0x5af295 => {
                return this._position;
              }, false);
              break;
            }
          case "path":
            {
              this._child.path.position = this.property;
              break;
            }
          case "polyline":
            {
              this._polyline_positions = [];
              this._child.polyline.positions = new Cesium__namespace.CallbackProperty(_0x182275 => {
                return this._polyline_positions;
              }, false);
              break;
            }
          case "wall":
            {
              this._wall_positions = [];
              this._child.wall.positions = new Cesium__namespace.CallbackProperty(_0x108df7 => {
                return this._wall_positions;
              }, false);
              this._wall_minimumHeights = [];
              this._child.wall.style.minimumHeights = new Cesium__namespace.CallbackProperty(_0x44b020 => {
                return this._wall_minimumHeights;
              }, false);
              this._wall_maximumHeights = [];
              this._child.wall.style.maximumHeights = new Cesium__namespace.CallbackProperty(_0x305d3d => {
                return this._wall_maximumHeights;
              }, false);
              this._child.wall._heights_cache = {};
              break;
            }
        }
      }
    }
    _addChildGraphic() {
      this.eachChildGraphic(_0x16ee23 => {
        this._layer.addGraphic(_0x16ee23);
        if (_0x16ee23.czmObject) {
          this.bindPickId(_0x16ee23.czmObject);
        }
        if (_0x16ee23.czmObjectEx) {
          _0x16ee23.czmObjectEx.forEach(_0x424bd4 => {
            this.bindPickId(_0x424bd4);
          });
        }
      });
    }
    _removeChildGraphic() {
      this.eachChildGraphic(_0x1bd290 => {
        this._layer.removeGraphic(_0x1bd290);
      });
    }
    eachChildGraphic(_0x170440, _0x177b88) {
      if (!this._child) {
        return;
      }
      Object.keys(this._child).forEach((_0x22ea7c, _0x285c84) => {
        if (this._child[_0x22ea7c].isDestroy) {
          return;
        }
        if (_0x170440) {
          _0x170440.call(_0x177b88 || this, this._child[_0x22ea7c], _0x285c84);
        }
      });
      return this;
    }
    _updateAvailabilityHook(_0x1288ee) {
      var _0x53ea4b;
      if ((_0x53ea4b = this._child) !== null && _0x53ea4b !== undefined && _0x53ea4b.path) {
        if (!this._child.path._availability_original) {
          this._child.path._availability_original = this._child.path.availability;
        }
        if (_0x1288ee) {
          this._child.path.availability = _0x1288ee;
        } else {
          this._child.path.availability = this._child.path._availability_original;
        }
      }
    }
    _convertToReferenceFrame(_0x1fb12d, _0x5cbad6) {
      Cesium__namespace.PositionProperty.convertToReferenceFrame(_0x5cbad6, _0x1fb12d, this.property.referenceFrame, Cesium__namespace.ReferenceFrame.FIXED, _0x1fb12d);
      return this._position;
    }
    update(_0x5d853e) {
      if (!this.getRealShow(_0x5d853e.time)) {
        this._position = undefined;
        this._updatePosition();
        return;
      }
      this._position = this.getPropertyValue(_0x5d853e.time, this._position_result);
      if (!this._position) {
        if (this._last_hasNull) {
          this._updatePosition();
        } else {
          this._updatePosition();
          this._updateForEvent();
          this._last_hasNull = true;
        }
        return;
      }
      this._last_hasNull = false;
      if (this.property.referenceFrame === Cesium__namespace.ReferenceFrame.INERTIAL) {
        this._position_inertial = this._position.clone();
        this._position = this._convertToReferenceFrame(this._position, _0x5d853e.time);
      }
      if (this.options.clampToTileset) {
        this._clampToTilesetFrame++;
        this._clampToTilesetFrame = this._clampToTilesetFrame % this._frameRateHeight;
        const _0x1f87ae = Cesium__namespace.Cartographic.fromCartesian(this._position);
        const _0x5f6b57 = {
          x: _0x1f87ae.latitude,
          y: _0x1f87ae.longitude,
          z: this._map.level,
          m: this._map.scene.primitives.length
        };
        const _0x23ed3b = _0x5f6b57;
        const _0x450ea8 = !this._clampToTilesetHeight || this._clampToTilesetFrame === 0 && (!this._last_cache || _0x23ed3b.x !== this._last_cache.x || _0x23ed3b.y !== this._last_cache.y || _0x23ed3b.z !== this._last_cache.z || _0x23ed3b.m !== this._last_cache.m) && this.isInView(this._position, {
          inWindow: true
        });
        if (_0x450ea8) {
          let _0x1c422d = getHeight(this._map.scene, this._position);
          if (_0x1c422d) {
            if (Cesium__namespace.defined(this.options.minHeight) && _0x1c422d < this.options.minHeight) {
              _0x1c422d = this.options.minHeight;
            }
            if (Cesium__namespace.defined(this.options.maxHeight) && _0x1c422d > this.options.maxHeight) {
              _0x1c422d = this.options.maxHeight;
            }
            this._clampToTilesetHeight = _0x1c422d;
          }
          this._last_cache = _0x23ed3b;
        }
        if (this._clampToTilesetHeight) {
          this._position = Cesium__namespace.Cartesian3.fromRadians(_0x1f87ae.longitude, _0x1f87ae.latitude, this._clampToTilesetHeight);
        }
      }
      this._orientation_show = this._orientation.getValue(_0x5d853e.time);
      this._updatePosition();
      this._updateCamera();
      this._updateForEvent();
    }
    _clearShowPositions() {
      var _0x2b2753;
      this._polyline_positions = [];
      this._wall_positions = [];
      this._wall_minimumHeights = [];
      this._wall_maximumHeights = [];
      if ((_0x2b2753 = this._child) !== null && _0x2b2753 !== undefined && _0x2b2753.path) {
        this._child.path.availability = new Cesium__namespace.TimeIntervalCollection([new Cesium__namespace.TimeInterval({
          start: this.startTime,
          stop: this.startTime
        })]);
      }
    }
    _updatePosition() {
      var _0x1b0100;
      var _0x4555e5;
      var _0xcd4917;
      var _0x118947;
      var _0x210563;
      var _0x3a68bc;
      var _0x585181;
      if ((_0x1b0100 = this._child.label) !== null && _0x1b0100 !== undefined && _0x1b0100.show) {
        this._child.label.position = this._position;
      }
      if ((_0x4555e5 = this._child.billboard) !== null && _0x4555e5 !== undefined && _0x4555e5.show) {
        this._child.billboard.position = this._position;
      }
      if ((_0xcd4917 = this._child.point) !== null && _0xcd4917 !== undefined && _0xcd4917.show) {
        this._child.point.position = this._position;
      }
      if ((_0x118947 = this._child.model) !== null && _0x118947 !== undefined && _0x118947.show) {
        var _0x569f25;
        this._modelMatrix = this._child.model._getModelMatrix(this._position, this._orientation_show);
        this._heading_reality = this._child.model._heading_reality;
        this._pitch_reality = this._child.model._pitch_reality;
        this._roll_reality = this._child.model._roll_reality;
        this._child.model._position = this._position;
        this._child.model._modelMatrix = this._modelMatrix;
        if ((_0x569f25 = this._child.model) !== null && _0x569f25 !== undefined && _0x569f25._primitive) {
          this._child.model._primitive.modelMatrix = this._modelMatrix;
        }
      } else {
        this._modelMatrix = this._getModelMatrix(this._position, this._orientation_show);
      }
      let _0xa0470e = false;
      if ((_0x210563 = this._child.polyline) !== null && _0x210563 !== undefined && _0x210563.show && ((_0x3a68bc = this.options.polyline) === null || _0x3a68bc === undefined || !_0x3a68bc.showAll)) {
        if (this._flyok_index >= 0 && this._position) {
          this._polyline_positions = this._getPositionsShow();
          _0xa0470e = true;
        } else {
          this._polyline_positions = [];
        }
      }
      if ((_0x585181 = this._child.wall) !== null && _0x585181 !== undefined && _0x585181.show) {
        if (this._flyok_index >= 0 && this._position) {
          if (!_0xa0470e) {
            this._polyline_positions = this._getPositionsShow();
          }
          const _0x3cf9f9 = [];
          const _0x2e9256 = [];
          const _0x2cfece = this._polyline_positions;
          for (let _0x30bf97 = 0; _0x30bf97 < _0x2cfece.length; _0x30bf97++) {
            const _0x5d2703 = _0x2cfece[_0x30bf97];
            const _0x255c70 = Cesium__namespace.Cartographic.fromCartesian(_0x5d2703);
            _0x2e9256.push(_0x255c70.height);
            if (this.options.wall.surface) {
              _0x2cfece[_0x30bf97].hbgd = _0x2cfece[_0x30bf97].hbgd ?? getHeight(this._map?.scene, _0x255c70, {
                max: _0x255c70.height
              });
              _0x3cf9f9.push(_0x2cfece[_0x30bf97].hbgd);
            } else {
              _0x3cf9f9.push(0);
            }
          }
          this._wall_positions = _0x2cfece;
          this._wall_minimumHeights = _0x3cf9f9;
          this._wall_maximumHeights = _0x2e9256;
        } else {
          this._wall_positions = [];
          this._wall_minimumHeights = [];
          this._wall_maximumHeights = [];
        }
      }
    }
    _getPositionsShow() {
      var _0x4a6196;
      var _0x43ac7f;
      let _0x10bf4b = [];
      if (this.isEditing) {
        return _0x10bf4b;
      }
      const _0x103f41 = (_0x4a6196 = this.property) === null || _0x4a6196 === undefined || (_0x4a6196 = _0x4a6196._property) === null || _0x4a6196 === undefined ? undefined : _0x4a6196._values;
      for (let _0x3279cb = 0; _0x3279cb <= this._flyok_index; _0x3279cb++) {
        const _0x4e2dac = new Cesium__namespace.Cartesian3(_0x103f41[_0x3279cb * 3], _0x103f41[_0x3279cb * 3 + 1], _0x103f41[_0x3279cb * 3 + 2]);
        if (_0x3279cb > 0) {
          const _0x7909d0 = Cesium__namespace.Cartesian3.distance(_0x10bf4b[_0x10bf4b.length - 1], _0x4e2dac);
          if (_0x7909d0 < 0.01) {
            continue;
          }
        }
        _0x10bf4b.push(_0x4e2dac);
      }
      if (this._position) {
        if (_0x10bf4b.length > 0 && Cesium__namespace.Cartesian3.distance(_0x10bf4b[_0x10bf4b.length - 1], this._position) > 0.01) {
          _0x10bf4b.push(this._position);
        }
      }
      if ((_0x43ac7f = this.options) !== null && _0x43ac7f !== undefined && (_0x43ac7f = _0x43ac7f.polyline) !== null && _0x43ac7f !== undefined && _0x43ac7f.maxDistance && _0x10bf4b.length > 0) {
        _0x10bf4b = sliceByMaxDistance(_0x10bf4b, this.options.polyline.maxDistance);
        if (this._maxCacheCount > 0) {
          this._maxCacheCount = Math.max(this._maxCacheCount, _0x10bf4b.length * 2);
        }
      }
      return _0x10bf4b;
    }
    _updateCamera() {
      if (!this.options.camera) {
        return;
      }
      switch (this.options.camera.type) {
        case "gs":
          {
            const _0x35fa8d = this.trackedEntity;
            if (this._map.clock.shouldAnimate && this._map.trackedEntity !== _0x35fa8d) {
              this._map.trackedEntity = _0x35fa8d;
              _0x35fa8d._needFlyToPoint = true;
            }
            if (_0x35fa8d._needFlyToPoint && !this._map.cesiumWidget._needTrackedEntityUpdate) {
              _0x35fa8d._needFlyToPoint = false;
              this.flyToPoint(this.options.camera);
            }
            break;
          }
        case "dy":
          {
            const _0x2be346 = this.trackedEntity;
            if (this._map.trackedEntity !== _0x2be346) {
              this._map.trackedEntity = _0x2be346;
            }
            let _0xe93c52 = this.options.camera.followedX || 0;
            const _0xf93695 = this.options.camera.followedZ || 0;
            if (_0xe93c52 === 0 && _0xf93695 === 0) {
              _0xe93c52 = 0.1;
            }
            let _0x2326b0;
            if (this.options.camera.offsetX) {
              _0x2326b0 = _0x2326b0 || {};
              _0x2326b0.x = this.options.camera.offsetX;
            }
            if (this.options.camera.offsetY) {
              _0x2326b0 = _0x2326b0 || {};
              _0x2326b0.y = this.options.camera.offsetY;
            }
            if (this.options.camera.offsetZ) {
              _0x2326b0 = _0x2326b0 || {};
              _0x2326b0.z = this.options.camera.offsetZ;
            }
            this._map.scene.camera.lookAtTransform(this.computeModelMatrix(_0x2326b0), new Cesium__namespace.Cartesian3(-_0xe93c52, 0, _0xf93695));
            break;
          }
        case "sd":
          {
            const _0x12edf4 = this.trackedEntity;
            if (this._map.trackedEntity !== _0x12edf4) {
              this._map.trackedEntity = _0x12edf4;
            }
            const _0x4e775c = new Cesium__namespace.HeadingPitchRange(this._map.camera.heading, Cesium__namespace.Math.toRadians(-90), this.options.camera.followedZ);
            this._map.camera.lookAt(this._position, _0x4e775c);
            break;
          }
        default:
          {
            if (this._trackedEntity && this._map.trackedEntity === this._trackedEntity) {
              this._map.trackedEntity = undefined;
            }
            break;
          }
      }
    }
    computeModelMatrix(_0xd97ab6) {
      if (!this._matrix4) {
        this._matrix4 = new Cesium__namespace.Matrix4();
        this._matrix3Scratch = new Cesium__namespace.Matrix3();
      }
      let _0x3f86a8 = this._position;
      if (!Cesium__namespace.defined(_0x3f86a8) || !this._orientation_show) {
        return undefined;
      }
      if (_0xd97ab6) {
        const _0x43914e = new Cesium__namespace.HeadingPitchRoll(this._heading, this._pitch, this._roll);
        _0x3f86a8 = getPositionByHprAndOffset(_0x3f86a8, new Cesium__namespace.Cartesian3(_0xd97ab6.x || 0, _0xd97ab6.y || 0, _0xd97ab6.z || 0), _0x43914e);
      }
      this._matrix4 = Cesium__namespace.Matrix4.fromRotationTranslation(Cesium__namespace.Matrix3.fromQuaternion(this._orientation_show, this._matrix3Scratch), _0x3f86a8, this._matrix4);
      return this._matrix4;
    }
    _updateForEvent() {
      const _0x305c65 = this._flyok_index;
      if (!Cesium__namespace.defined(_0x305c65)) {
        return;
      }
      if (this._position && !this._position.equals(this._last_firePosition)) {
        this.fire(EventType.change, {
          index: _0x305c65,
          counts: this._counts,
          position: this._position,
          orientation: this._orientation_show
        }, true);
        this._last_firePosition = this._position ? this._position.clone() : undefined;
      }
      if (_0x305c65 !== this._last_fireIndex) {
        if (Cesium__namespace.defined(this._last_fireIndex) && this._last_fireIndex + 1 !== _0x305c65) {
          while (++this._last_fireIndex < _0x305c65) {
            this.fire(EventType.endItem, {
              counts: this._counts,
              index: this._last_fireIndex
            });
          }
        }
        this.fire(EventType.endItem, {
          counts: this._counts,
          index: _0x305c65
        });
        if (_0x305c65 === this._counts - 1) {
          this.fire(EventType.end);
        }
        this._last_fireIndex = _0x305c65;
      }
    }
    getPropertyValue(_0x4c72ed, _0x5c250b) {
      const _0x536224 = this.property?._property;
      const _0x40c595 = _0x536224?._times;
      const _0x197e74 = _0x40c595?.length;
      if (!_0x40c595 || _0x197e74 === 0) {
        return undefined;
      }
      this._counts = _0x197e74;
      let _0x253981;
      const _0x5d95ae = Cesium__namespace.Cartesian3;
      const _0x3e958d = _0x536224._values;
      this._flyok_index = Cesium__namespace.binarySearch(_0x40c595, _0x4c72ed, Cesium__namespace.JulianDate.compare);
      if (this._flyok_index < 0) {
        this._flyok_index = ~this._flyok_index;
        if (this._flyok_index === 0) {
          const _0xaaf032 = _0x40c595[this._flyok_index];
          _0x253981 = _0x536224._backwardExtrapolationDuration;
          if (_0x536224._backwardExtrapolationType === Cesium__namespace.ExtrapolationType.NONE || _0x253981 !== 0 && Cesium__namespace.JulianDate.secondsDifference(_0xaaf032, _0x4c72ed) > _0x253981) {
            return undefined;
          }
          if (_0x536224._backwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
            return _0x5d95ae.unpack(_0x3e958d, 0, _0x5c250b);
          }
        }
        if (this._flyok_index >= _0x197e74) {
          this._flyok_index = _0x197e74 - 1;
          const _0x3fece0 = _0x40c595[this._flyok_index];
          _0x253981 = _0x536224._forwardExtrapolationDuration;
          if (_0x536224._forwardExtrapolationType === Cesium__namespace.ExtrapolationType.NONE || _0x253981 !== 0 && Cesium__namespace.JulianDate.secondsDifference(_0x4c72ed, _0x3fece0) > _0x253981) {
            return undefined;
          }
          if (_0x536224._forwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
            this._flyok_index = _0x197e74 - 1;
            return _0x5d95ae.unpack(_0x3e958d, this._flyok_index * _0x5d95ae.packedLength, _0x5c250b);
          }
        }
        const _0x4dff39 = _0x536224._xTable;
        const _0x5ea008 = _0x536224._yTable;
        const _0x10dc44 = _0x536224._interpolationAlgorithm;
        const _0x13770a = _0x536224._packedInterpolationLength;
        const _0x2a1808 = _0x536224._inputOrder;
        if (_0x536224._updateTableLength) {
          _0x536224._updateTableLength = false;
          const _0x5ddaa7 = Math.min(_0x10dc44.getRequiredDataPoints(_0x536224._interpolationDegree, _0x2a1808), _0x197e74);
          if (_0x5ddaa7 !== _0x536224._numberOfPoints) {
            _0x536224._numberOfPoints = _0x5ddaa7;
            _0x4dff39.length = _0x5ddaa7;
            _0x5ea008.length = _0x5ddaa7 * _0x13770a;
          }
        }
        const _0x554eb1 = _0x536224._numberOfPoints - 1;
        if (_0x554eb1 < 1) {
          this._flyok_index = 0;
          return undefined;
        }
        let _0x203e0b = 0;
        let _0x2097a7 = _0x197e74 - 1;
        const _0x1a5f99 = _0x2097a7 - _0x203e0b + 1;
        if (_0x1a5f99 >= _0x554eb1 + 1) {
          let _0x1ece62 = this._flyok_index - (_0x554eb1 / 2 | 0) - 1;
          if (_0x1ece62 < _0x203e0b) {
            _0x1ece62 = _0x203e0b;
          }
          let _0x36ce8a = _0x1ece62 + _0x554eb1;
          if (_0x36ce8a > _0x2097a7) {
            _0x36ce8a = _0x2097a7;
            _0x1ece62 = _0x36ce8a - _0x554eb1;
            if (_0x1ece62 < _0x203e0b) {
              _0x1ece62 = _0x203e0b;
            }
          }
          _0x203e0b = _0x1ece62;
          _0x2097a7 = _0x36ce8a;
        }
        const _0x32dfd5 = _0x2097a7 - _0x203e0b + 1;
        for (let _0x188025 = 0; _0x188025 < _0x32dfd5; ++_0x188025) {
          _0x4dff39[_0x188025] = Cesium__namespace.JulianDate.secondsDifference(_0x40c595[_0x203e0b + _0x188025], _0x40c595[_0x2097a7]);
        }
        if (!Cesium__namespace.defined(_0x5d95ae.convertPackedArrayForInterpolation)) {
          let _0x3152ac = 0;
          const _0x2154f2 = _0x536224._packedLength;
          let _0x3b86ff = _0x203e0b * _0x2154f2;
          const _0x106f31 = (_0x2097a7 + 1) * _0x2154f2;
          while (_0x3b86ff < _0x106f31) {
            _0x5ea008[_0x3152ac] = _0x3e958d[_0x3b86ff];
            _0x3b86ff++;
            _0x3152ac++;
          }
        } else {
          _0x5d95ae.convertPackedArrayForInterpolation(_0x3e958d, _0x203e0b, _0x2097a7, _0x5ea008);
        }
        const _0x594097 = Cesium__namespace.JulianDate.secondsDifference(_0x4c72ed, _0x40c595[_0x2097a7]);
        let _0x1d546b;
        if (_0x2a1808 === 0 || !Cesium__namespace.defined(_0x10dc44.interpolate)) {
          _0x1d546b = _0x10dc44.interpolateOrderZero(_0x594097, _0x4dff39, _0x5ea008, _0x13770a, _0x536224._interpolationResult);
        } else {
          const _0x39d727 = Math.floor(_0x13770a / (_0x2a1808 + 1));
          _0x1d546b = _0x10dc44.interpolate(_0x594097, _0x4dff39, _0x5ea008, _0x39d727, _0x2a1808, _0x2a1808, _0x536224._interpolationResult);
        }
        this._flyok_index = _0x203e0b;
        for (let _0x49ae4d = _0x203e0b; _0x49ae4d <= _0x2097a7; _0x49ae4d++) {
          const _0x2c671c = Cesium__namespace.JulianDate.compare(_0x4c72ed, _0x40c595[_0x49ae4d]);
          if (_0x2c671c <= 0) {
            this._flyok_index = _0x49ae4d - 1;
            break;
          }
        }
        if (!Cesium__namespace.defined(_0x5d95ae.unpackInterpolationResult)) {
          return _0x5d95ae.unpack(_0x1d546b, 0, _0x5c250b);
        }
        return _0x5d95ae.unpackInterpolationResult(_0x1d546b, _0x3e958d, _0x203e0b, _0x2097a7, _0x5c250b);
      }
      return _0x5d95ae.unpack(_0x3e958d, this._flyok_index * _0x536224._packedLength, _0x5c250b);
    }
    getRectangle(_0x307e7e) {
      var _0x301c10;
      var _0x9b0673;
      const _0x34f031 = (_0x301c10 = this.property) === null || _0x301c10 === undefined || (_0x301c10 = _0x301c10._property) === null || _0x301c10 === undefined ? undefined : _0x301c10._times;
      const _0x6d6d3b = (_0x9b0673 = this.property) === null || _0x9b0673 === undefined || (_0x9b0673 = _0x9b0673._property) === null || _0x9b0673 === undefined ? undefined : _0x9b0673._values;
      if (!_0x34f031 || _0x34f031.length === 0) {
        return;
      }
      const _0x285168 = [];
      for (let _0x448343 = 0, _0x2b3cd1 = _0x34f031.length; _0x448343 < _0x2b3cd1; _0x448343++) {
        _0x285168.push(new Cesium__namespace.Cartesian3(_0x6d6d3b[_0x448343 * 3], _0x6d6d3b[_0x448343 * 3 + 1], _0x6d6d3b[_0x448343 * 3 + 2]));
      }
      const _0x362979 = getRectangle(_0x285168, _0x307e7e?.isFormat);
      return _0x362979;
    }
    getCoord(_0x427898) {
      if (_0x427898?.expType === false) {
        return null;
      } else {
        return this._getPointTimePositionJson(_0x427898);
      }
    }
    flyToPoint(_0x5871d3 = {}) {
      if (!this._map) {
        return;
      }
      const _0x24795a = this._position;
      if (!_0x24795a) {
        return;
      }
      let _0x253d17;
      if (Cesium__namespace.defined(_0x5871d3.heading)) {
        _0x253d17 = _0x5871d3.heading + Cesium__namespace.Math.toDegrees(this.hpr?.heading || 0);
      }
      const _0x56552a = {
        ..._0x5871d3
      };
      _0x56552a.heading = _0x253d17;
      this._map.flyToPoint(_0x24795a, _0x56552a);
    }
    static clearLastCamera() {
      var _0x3454a7;
      if ((_0x3454a7 = globeLastRoam) !== null && _0x3454a7 !== undefined && (_0x3454a7 = _0x3454a7.options) !== null && _0x3454a7 !== undefined && (_0x3454a7 = _0x3454a7.camera) !== null && _0x3454a7 !== undefined && _0x3454a7.type) {
        globeLastRoam.options.camera.type = "";
      }
      globeLastRoam = null;
    }
    setCameraOptions(_0xfc887e) {
      Route.clearLastCamera();
      if (this.options.camera) {
        this.options.camera = merge(this.options.camera, _0xfc887e);
      } else if (_0xfc887e) {
        this.options.camera = _0xfc887e;
      } else {
        this.options.camera = {
          type: ""
        };
      }
      if (this.options.camera?.type !== "") {
        globeLastRoam = this;
      }
      if (_0xfc887e && _0xfc887e.type === "gs" && _0xfc887e.radius) {
        const _0xbd065c = {
          ..._0xfc887e
        };
        _0xbd065c.duration = 0;
        this.flyToPoint(_0xbd065c);
      }
    }
    autoSurfaceHeight() {
      logWarn("Route 类不支持autoSurfaceHeight方法 ！");
    }
    pause() {
      if (this._map) {
        this._map.clock.shouldAnimate = false;
        if (this._trackedEntity && this._map.trackedEntity === this._trackedEntity) {
          this._map.trackedEntity = undefined;
        }
      }
    }
    proceed() {
      if (this._map) {
        this._map.clock.shouldAnimate = true;
      }
    }
    _getPopupPosition() {
      if (this.options.clampToTileset || this.clampToGround) {
        if (!this._popupPosition) {
          this._popupPosition = new Cesium__namespace.CallbackProperty(_0x1ac935 => {
            return this._position;
          }, false);
        }
        return this._popupPosition;
      }
      return this.property;
    }
    fire(_0xe61eb5, _0x207591 = {}, _0x381ed9) {
      _0x207591.graphic = this;
      return super.fire(_0xe61eb5, _0x207591, _0x381ed9);
    }
    destroy(_0x418327) {
      this.eachChildGraphic(_0x5e1253 => {
        _0x5e1253.destroy(_0x418327);
      });
      super.destroy(_0x418327);
    }
    _getDrawEntityClass(_0x26de12, _0x40a063) {
      if (!_0x26de12.position) {
        _0x26de12.position = {
          type: "time"
        };
      }
      const _0x11694c = {
        color: Cesium__namespace.Color.TRANSPARENT,
        pixelSize: 2
      };
      _0x26de12.style = _0x11694c;
      return create$5("point", _0x26de12);
    }
  }
  register$5("route", Route, true);
  class FixedRoute extends Route {
    constructor(_0x511cf2 = {}) {
      super(_0x511cf2);
      this.options.showStop = this.options.showStop ?? true;
      this.options.updateClock = this.options.updateClock ?? true;
    }
    get timePoints() {
      return this.property?._points;
    }
    get isStart() {
      return this._isStart;
    }
    get info() {
      return this._timeinfo;
    }
    _addedHook(_0x104e38) {
      var _0x4203d6;
      if (!this.show) {
        this._has_addedHook = true;
        return;
      }
      this._addChildGraphic();
      if ((_0x4203d6 = this.model) !== null && _0x4203d6 !== undefined && _0x4203d6.readyPromise) {
        this.model.readyPromise.then(() => {
          this._readyPromise.resolve(this);
        });
      }
      this.unbindUpdateEvent();
      this._updatePositionForStop();
    }
    _setOptionsHook(_0x2677f4, _0x2f05f9) {
      super._setOptionsHook(_0x2677f4, _0x2f05f9);
      if (!this._isStart) {
        this._updatePositionForStop();
      }
    }
    start() {
      var _0xc0d617;
      this.stopDraw();
      this.stopEditing();
      if (!this._map || this._isStart) {
        return;
      }
      if (!Cesium__namespace.defined(this.timePoints) || this.timePoints.length === 0) {
        logError("没有坐标数据，漫游路线启动失败", this.timePoints);
        return;
      }
      this._isStart = true;
      this.position = this.options.position;
      this._updatePolylinePosition(LngLatArray.toCartesians(this.timePoints));
      if ((_0xc0d617 = this.model) !== null && _0xc0d617 !== undefined && _0xc0d617.show && this.options.updateClock) {
        this._map.clock.shouldAnimate = false;
        this._map.clock.currentTime = this.startTime.clone();
        this.model.readyPromise.then(() => {
          this._start();
        });
      } else {
        this._start();
      }
    }
    _start() {
      var _0x2800e4;
      if (this.options.updateClock) {
        this._map.clock.shouldAnimate = true;
        this._map.clock.currentTime = this.startTime.clone();
        if (!this.options.clockLoop && this.options.clockRange) {
          this._bak_clockRange = this._map.clock.clockRange;
          this._bak_startTime = this._map.clock.startTime;
          this._bak_stopTime = this._map.clock.stopTime;
          this._map.clock.clockRange = this.options.clockRange ?? Cesium__namespace.ClockRange.LOOP_STOP;
          this._map.clock.startTime = this.startTime.clone();
          this._map.clock.stopTime = this.stopTime.clone();
          if (this._map.control.timeline) {
            this._map.control.timeline.refresh();
          }
        }
      }
      if ((_0x2800e4 = this._child.path) !== null && _0x2800e4 !== undefined && _0x2800e4.entity) {
        let _0xc90632 = this.stopTime;
        if (this.property?.forwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
          _0xc90632 = Cesium__namespace.JulianDate.addDays(_0xc90632, 365, new Cesium__namespace.JulianDate());
        }
        this._child.path.availability = new Cesium__namespace.TimeIntervalCollection([new Cesium__namespace.TimeInterval({
          start: this.startTime,
          stop: _0xc90632
        })]);
      }
      delete this._isFireEndEvent;
      this.fire(EventType.start);
      this.bindUpdateEvent();
    }
    stop() {
      if (!this._isStart || !this._map) {
        return;
      }
      this._map.trackedEntity = undefined;
      this.unbindUpdateEvent();
      this._updatePositionForStop();
      this._isStart = false;
      this._fireEndEevnt();
      this.fire(EventType.updatePosition, {
        position: this._position
      });
    }
    _fireEndEevnt() {
      if (this._isFireEndEvent) {
        return;
      }
      clearTimeout(this._timeDebounce);
      this._timeDebounce = setTimeout(() => {
        if (!this.isAdded) {
          return;
        }
        this.fire(EventType.end);
        this._isFireEndEvent = true;
      }, 200);
    }
    _updatePositionForStop() {
      this._flyok_index = 0;
      this._clearShowPositions();
      if (this.options.showStop) {
        const _0x5ad985 = this._editing_entity?._positions_draw ?? LngLatArray.toCartesians(this.timePoints);
        if (_0x5ad985 && _0x5ad985.length > 0) {
          this._position = _0x5ad985[0];
          this._orientation_show = this._orientation.getValue(this.startTime);
          this._updatePolylinePosition(_0x5ad985);
        }
      } else {
        this._position = undefined;
        this._orientation_show = undefined;
        this._updatePolylinePosition([]);
      }
      this._updatePosition();
      this._updateForEvent(false);
    }
    _updatePolylinePosition(_0x178980) {
      if (this._child.polyline && !this._child.polyline.isDestroy) {
        var _0x27d6ab;
        if ((_0x27d6ab = this.options) !== null && _0x27d6ab !== undefined && (_0x27d6ab = _0x27d6ab.polyline) !== null && _0x27d6ab !== undefined && _0x27d6ab.showAll) {
          this._polyline_positions = _0x178980;
        } else {
          this._polyline_positions = [];
          this._child.polyline.positions = new Cesium__namespace.CallbackProperty(_0x1fc006 => {
            return this._polyline_positions;
          }, false);
        }
      }
    }
    _updateForEvent(_0x361e29 = true) {
      const _0x19ea20 = this.timePoints;
      if (!_0x19ea20 || _0x19ea20.length === 0) {
        return;
      }
      let _0x432fd2 = this._flyok_index;
      const _0x3ede1d = _0x19ea20[_0x19ea20.length - 1];
      const _0x5f00ff = _0x19ea20[_0x432fd2];
      if (!_0x5f00ff) {
        return;
      }
      let _0x49bb5a = this._counts ?? _0x19ea20.length;
      if (this._pauseTimeCounts > 0) {
        _0x432fd2 = _0x5f00ff._index;
        _0x49bb5a -= this._pauseTimeCounts;
      }
      const _0x588ecf = LngLatPoint.fromCartesian(this._position);
      let _0x1812a5 = _0x5f00ff._distance + (this._position ? Cesium__namespace.Cartesian3.distance(this._position, _0x5f00ff._position) : 0);
      if (_0x1812a5 > _0x3ede1d._distance) {
        _0x1812a5 = _0x3ede1d._distance;
      }
      let _0x18b6c2 = 0;
      if (_0x1812a5 > 0) {
        _0x18b6c2 = Cesium__namespace.JulianDate.secondsDifference(this.currentTime, this.startTime);
        if (_0x18b6c2 > _0x3ede1d._second) {
          _0x18b6c2 = _0x3ede1d._second;
        }
      }
      this._timeinfo = {
        index: _0x432fd2,
        counts: _0x49bb5a,
        point: _0x588ecf,
        position: this._position,
        orientation: this._orientation_show,
        second: _0x18b6c2,
        second_all: _0x3ede1d._second,
        distance: _0x1812a5,
        distance_all: _0x3ede1d._distance,
        speed: _0x5f00ff._speed
      };
      if (Cesium__namespace.defined(_0x5f00ff._index_original)) {
        this._timeinfo.index_original = _0x5f00ff._index_original;
      }
      if (!_0x361e29) {
        return;
      }
      if (this._position && !this._position.equals(this._last_firePosition)) {
        this.fire(EventType.change, this._timeinfo, true);
        this._last_firePosition = this._position ? this._position.clone() : undefined;
      }
      if (_0x432fd2 !== this._last_fireIndex) {
        if (Cesium__namespace.defined(this._last_fireIndex) && this._last_fireIndex + 1 !== _0x432fd2) {
          while (++this._last_fireIndex < _0x432fd2) {
            this.fire(EventType.endItem, {
              counts: _0x49bb5a,
              index: this._last_fireIndex,
              point: _0x19ea20[this._last_fireIndex]
            });
          }
        }
        const _0x11d90f = {
          counts: _0x49bb5a,
          index: _0x432fd2,
          point: _0x5f00ff
        };
        this.fire(EventType.endItem, _0x11d90f);
        if (_0x432fd2 >= this._counts - 1) {
          this._fireEndEevnt();
        }
        this._last_fireIndex = _0x432fd2;
      }
      if (_0x18b6c2 >= _0x3ede1d._second && this.options) {
        if (this.options.clockLoop && !this.options.clockRange) {
          this.unbindUpdateEvent();
          if (this.options.startTime) {
            delete this.options.startTime;
          } else if (this.options.timeField) {
            const _0x5bc52b = _0x19ea20[0][this.options.timeField];
            if (_0x5bc52b) {
              const _0x563b9e = Cesium__namespace.JulianDate.fromDate(new Date(_0x5bc52b));
              const _0x160577 = Cesium__namespace.JulianDate.secondsDifference(this.currentTime, _0x563b9e);
              for (let _0x1c81de = 0; _0x1c81de < _0x19ea20.length; _0x1c81de++) {
                const _0x42e1fd = Cesium__namespace.JulianDate.fromDate(new Date(_0x19ea20[_0x1c81de][this.options.timeField]));
                _0x19ea20[_0x1c81de][this.options.timeField] = Cesium__namespace.JulianDate.toDate(Cesium__namespace.JulianDate.addSeconds(_0x42e1fd, _0x160577, new Cesium__namespace.JulianDate()));
              }
            }
          }
          this.position = this.options.position;
          if (this._child.path) {
            let _0x3f4ae7 = this.stopTime;
            if (this.property?.forwardExtrapolationType === Cesium__namespace.ExtrapolationType.HOLD) {
              _0x3f4ae7 = Cesium__namespace.JulianDate.addDays(_0x3f4ae7, 365, new Cesium__namespace.JulianDate());
            }
            this._child.path.availability = new Cesium__namespace.TimeIntervalCollection([new Cesium__namespace.TimeInterval({
              start: this.startTime,
              stop: _0x3f4ae7
            })]);
          }
          this.bindUpdateEvent();
          return;
        }
        if (this.options.autoStop) {
          this.stop();
        }
      }
    }
    autoSurfaceHeight(_0x4242aa = {}) {
      const _0x115e0e = this.timePoints;
      let _0x239b24 = 0;
      const _0x3152dc = [];
      const _0x575c2d = [];
      const _0x3653d5 = [];
      const _0x34003c = [];
      const _0x304465 = [];
      return new Promise((_0x3d29ad, _0x4c7281) => {
        const _0x422aec = [];
        _0x115e0e.forEach(_0x73b82e => {
          _0x422aec.push(_0x73b82e._position);
        });
        computeStepSurfaceLine({
          objectsToExclude: this._layer.objectsToExclude,
          ..._0x4242aa,
          scene: this._map.scene,
          positions: _0x422aec,
          endItem: (_0x6e7aa6, _0x4096dd, _0x39b7dc) => {
            if (!this._map) {
              return;
            }
            if (_0x4096dd) {
              _0x304465.push(_0x115e0e[_0x39b7dc]);
            } else {
              for (let _0x24703a = 0; _0x24703a < _0x6e7aa6.length; _0x24703a++) {
                const _0x59e1e2 = LngLatPoint.fromCartesian(_0x6e7aa6[_0x24703a]);
                _0x59e1e2._speed = _0x115e0e[_0x39b7dc + 1]._speed;
                _0x59e1e2._index_original = _0x39b7dc;
                _0x304465.push(_0x59e1e2);
              }
            }
            const _0x126555 = _0x115e0e[_0x39b7dc]?.alt || 0;
            const _0x3d603d = _0x115e0e[_0x39b7dc + 1]?.alt || 0;
            const _0x145417 = (_0x3d603d - _0x126555) / _0x6e7aa6.length;
            for (let _0x3fdde6 = 0; _0x3fdde6 < _0x6e7aa6.length; _0x3fdde6++) {
              if (_0x3fdde6 !== 0) {
                _0x239b24 += Cesium__namespace.Cartesian3.distance(_0x6e7aa6[_0x3fdde6], _0x6e7aa6[_0x3fdde6 - 1]);
              }
              _0x3152dc.push(Number(_0x239b24.toFixed(1)));
              const _0x4c616a = LngLatPoint.fromCartesian(_0x6e7aa6[_0x3fdde6]);
              _0x34003c.push(_0x4c616a);
              const _0x3824cb = _0x4096dd ? 0 : _0x4c616a.alt;
              _0x575c2d.push(_0x3824cb);
              const _0x478325 = Number((_0x126555 + _0x145417 * _0x3fdde6).toFixed(1));
              _0x3653d5.push(_0x478325);
            }
          },
          end: () => {
            if (!this._map) {
              return;
            }
            const _0x44b210 = {
              arrLength: _0x3152dc,
              arrFxgd: _0x3653d5,
              arrHbgd: _0x575c2d,
              arrPoint: _0x34003c
            };
            this._terrainHeight = _0x44b210;
            this._setPointTimePosition(_0x304465);
            this._updatePositionForStop();
            setTimeout(() => {
              _0x3d29ad(_0x304465);
            }, 50);
          }
        });
      });
    }
    getTerrainHeight(_0x53e0ec = {}) {
      const _0x45430e = this.timePoints;
      return new Promise((_0x24977a, _0x5b3dde) => {
        if (this._terrainHeight) {
          _0x24977a(this._terrainHeight);
          return;
        }
        this._getTerrainHeight_ing = true;
        let _0x3ddd6a = 0;
        const _0x4c231d = [];
        const _0x44495a = [];
        const _0x197e35 = [];
        const _0x415a68 = [];
        computeStepSurfaceLine({
          objectsToExclude: this._layer.objectsToExclude,
          ..._0x53e0ec,
          exact: true,
          scene: this._map.scene,
          positions: _0x45430e,
          endItem: (_0xb52a05, _0x206ee8, _0x7d9d6f) => {
            const _0x56d08d = _0x45430e[_0x7d9d6f].alt;
            const _0x48d6e9 = _0x45430e[_0x7d9d6f + 1].alt;
            const _0x30c169 = (_0x48d6e9 - _0x56d08d) / _0xb52a05.length;
            for (let _0x558e7d = 0; _0x558e7d < _0xb52a05.length; _0x558e7d++) {
              if (_0x558e7d !== 0) {
                _0x3ddd6a += Cesium__namespace.Cartesian3.distance(_0xb52a05[_0x558e7d], _0xb52a05[_0x558e7d - 1]);
              }
              _0x4c231d.push(Number(_0x3ddd6a.toFixed(1)));
              const _0xf93c9a = LngLatPoint.fromCartesian(_0xb52a05[_0x558e7d]);
              _0x415a68.push(_0xf93c9a);
              const _0x439460 = _0x206ee8 ? 0 : _0xf93c9a.alt;
              _0x44495a.push(_0x439460);
              const _0x1ecee2 = Number((_0x56d08d + _0x30c169 * _0x558e7d).toFixed(1));
              _0x197e35.push(_0x1ecee2);
            }
          },
          end: () => {
            this._getTerrainHeight_ing = false;
            const _0x1e4169 = {
              arrLength: _0x4c231d,
              arrFxgd: _0x197e35,
              arrHbgd: _0x44495a,
              arrPoint: _0x415a68
            };
            this._terrainHeight = _0x1e4169;
            _0x24977a(this._terrainHeight);
          }
        });
      });
    }
    _getPopupPosition() {
      if (this.isStart && !this.options.clampToTileset) {
        return this.property;
      }
      if (!this._popupPosition) {
        this._popupPosition = new Cesium__namespace.CallbackProperty(_0x513d17 => {
          return this._position;
        }, false);
      }
      return this._popupPosition;
    }
    _startEditingHook(_0x2ba870) {
      this.stop();
    }
    _setEditEntityPositions(_0x55a642) {
      if (_0x55a642 instanceof Cesium__namespace.Cartesian3) {
        var _0x21fe3c;
        this._position = _0x55a642;
        this._updatePosition();
        this._polyline_positions = [];
        if ((_0x21fe3c = this.options) !== null && _0x21fe3c !== undefined && (_0x21fe3c = _0x21fe3c.polyline) !== null && _0x21fe3c !== undefined && _0x21fe3c.showAll && this._child.polyline) {
          this._polyline_positions = this._editing_entity._positions_draw;
          this._child.polyline.positions = this._polyline_positions;
        }
      } else {
        super._setEditEntityPositions(_0x55a642);
        this._updatePositionForStop();
      }
    }
  }
  register$5("fixedRoute", FixedRoute, true);
  var MultipleLightShader = "uniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\n\nconst int LightNum = Mars3D_LightNumValue;\nuniform vec4 lightPositionEC[LightNum];\nuniform float intensity[LightNum];\nuniform vec3 lightColor[LightNum];\nuniform vec3 direction[LightNum];\nuniform float outerConeCos[LightNum];\nuniform float innerConeCos[LightNum];\nuniform mat4 shadowMapMatrix[LightNum];\nuniform vec4 shadowMapTexelSizeDepthBiasAndNormalShadingSmooth[LightNum];\nuniform vec2 shadowMapDarknessType[LightNum];\n\nMars3D_LightShadowMapsShader in vec2 v_textureCoordinates;\n\nconst float M_PI = 3.141592653589793;\n\nvec3 getEyeCoordinate3FromWindowCoordinateMars3D(vec2 fragCoord, float logDepthOrDepth) {\nvec4 eyeCoordinate = czm_windowToEyeCoordinates(fragCoord, logDepthOrDepth);\nreturn eyeCoordinate.xyz / eyeCoordinate.w;\n}\n\nvec3 vectorFromOffsetMars3D(vec4 eyeCoordinate, vec2 positiveOffset) {\nvec2 glFragCoordXY = v_textureCoordinates.xy * czm_viewport.zw;\nfloat upOrRightLogDepth = czm_unpackDepth(texture(depthTexture, (glFragCoordXY + positiveOffset) / czm_viewport.zw));\nfloat downOrLeftLogDepth = czm_unpackDepth(texture(depthTexture, (glFragCoordXY - positiveOffset) / czm_viewport.zw));\n\nbvec2 upOrRightInBounds = lessThan(glFragCoordXY + positiveOffset, czm_viewport.zw);\nfloat useUpOrRight = float(upOrRightLogDepth > 0.0 && upOrRightInBounds.x && upOrRightInBounds.y);\nfloat useDownOrLeft = float(useUpOrRight == 0.0);\nvec3 upOrRightECMars3D = getEyeCoordinate3FromWindowCoordinateMars3D(glFragCoordXY + positiveOffset, upOrRightLogDepth);\nvec3 downOrLeftEC = getEyeCoordinate3FromWindowCoordinateMars3D(glFragCoordXY - positiveOffset, downOrLeftLogDepth);\nreturn (upOrRightECMars3D - (eyeCoordinate.xyz / eyeCoordinate.w)) * useUpOrRight + ((eyeCoordinate.xyz / eyeCoordinate.w) - downOrLeftEC) * useDownOrLeft;\n}\n\nfloat getRangeAttenuationMars3D(float range, float d) {\nif(range <= 0.0) {\nreturn 1.0 / pow(d, 2.0);\n}\nreturn max(min(1.0 - pow(d / range, 4.0), 1.0), 0.0) / pow(d, 2.0);\n}\n\nfloat getSpotAttenuationMars3D(vec3 pointToLight, vec3 direction, float outerConeCos, float innerConeCos) {\nfloat actualCos = dot(normalize(direction), normalize(- pointToLight));\nif(actualCos > outerConeCos) {\nif(actualCos < innerConeCos) {\nreturn smoothstep(outerConeCos, innerConeCos, actualCos);\n}\nreturn 1.0;\n}\nreturn 0.0;\n}\n\nvec3 getLightIntensityMars3D(vec3 color, float intensity, float type, float range, vec3 pointToLight, vec3 direction, float outerConeCos, float innerConeCos) {\n  float rangeAttenuation = 1.0;\n  float spotAttenuation = 1.0;\n  rangeAttenuation = getRangeAttenuationMars3D(range, length(pointToLight));\n  if(type == 2.0) {\n    spotAttenuation = getSpotAttenuationMars3D(pointToLight, direction, outerConeCos, innerConeCos);\n  }\n  return rangeAttenuation * spotAttenuation * intensity * color;\n}\n\nfloat czm_private_shadowVisibility(float visibility, float nDotL, float normalShadingSmooth, float darkness) {\n  float strength = clamp(nDotL / normalShadingSmooth, 0.0, 1.0);\n  visibility *= strength;\n  visibility = max(visibility, darkness);\n  return visibility;\n}\n\nstruct mars3d_shadowParameters {\nvec3 texCoordsCube;\nvec2 texCoords;\nfloat depthBias;\nfloat depth;\nfloat nDotL;\nvec2 texelStepSize;\nfloat normalShadingSmooth;\nfloat darkness;\n};\n\nfloat shadowVisibilityCubeMars3D(samplerCube shadowMap, mars3d_shadowParameters shadowParameters) {\nfloat depthBias = shadowParameters.depthBias;\nfloat depth = shadowParameters.depth;\nfloat nDotL = shadowParameters.nDotL;\nfloat normalShadingSmooth = shadowParameters.normalShadingSmooth;\nfloat darkness = shadowParameters.darkness;\nvec3 uvw = shadowParameters.texCoordsCube;\n\ndepth -= depthBias;\nreturn czm_shadowDepthCompare(shadowMap, uvw, depth);\n}\nfloat shadowVisibility2D(sampler2D shadowMap, mars3d_shadowParameters shadowParameters) {\nfloat depthBias = shadowParameters.depthBias;\nfloat depth = shadowParameters.depth;\nfloat nDotL = shadowParameters.nDotL;\nfloat normalShadingSmooth = shadowParameters.normalShadingSmooth;\nfloat darkness = shadowParameters.darkness;\nvec2 uv = shadowParameters.texCoords;\n\ndepth -= depthBias;\nreturn czm_shadowDepthCompare(shadowMap, uv, depth);\n}\n\nvec3 getPointLightTotalColorMars3D(vec3 normalEC, vec3 positionEC, int i, samplerCube lightShadowMapCube) {\nvec4 lightPEC = lightPositionEC[i];\nvec2 shadowMapDT = shadowMapDarknessType[i];\nvec3 pointToLightEC = positionEC - lightPEC.xyz;\nfloat pointToLightECLength = length(pointToLightEC);\nvec3 l = normalize(pointToLightEC);\nfloat NdotL = clamp(dot(- normalEC, l), 0.0, 1.0);\n\nfloat visibility = 0.0;\nfloat radius = lightPEC.w;\nfloat type = shadowMapDT.y;\n\nif(pointToLightECLength <= radius) {\nvec4 shadowMapTSDBANSS = shadowMapTexelSizeDepthBiasAndNormalShadingSmooth[i];\n\nmars3d_shadowParameters shadowParameters;\nshadowParameters.texelStepSize = shadowMapTSDBANSS.xy;\nshadowParameters.depthBias = shadowMapTSDBANSS.z;\nshadowParameters.normalShadingSmooth = shadowMapTSDBANSS.w;\nshadowParameters.darkness = shadowMapDT.x;\nshadowParameters.depth = pointToLightECLength / radius;\nshadowParameters.nDotL = NdotL;\nshadowParameters.texCoordsCube = czm_inverseViewRotation * l;\nvisibility = shadowVisibilityCubeMars3D(lightShadowMapCube, shadowParameters);\n}\n\nif(visibility == 1.0) {\n  vec3 colorIntensity = getLightIntensityMars3D(lightColor[i], intensity[i], type, lightPEC.w, pointToLightEC, direction[i], outerConeCos[i], innerConeCos[i]);\n  return NdotL * colorIntensity;\n}\nreturn vec3(0.0);\n}\n\nvec3 getSpotLightTotalColorMars3D(vec3 normalEC, vec3 positionEC, int i, sampler2D lightShadowMap2D) {\nvec4 lightPEC = lightPositionEC[i];\nvec2 shadowMapDT = shadowMapDarknessType[i];\nvec3 pointToLightEC = positionEC - lightPEC.xyz;\nvec3 l = normalize(pointToLightEC);\nfloat NdotL = clamp(dot(- normalEC, l), 0.0, 1.0);\n\nfloat visibility = 0.0;\nfloat type = shadowMapDT.y;\n\nvec4 shadowPosition = shadowMapMatrix[i] * vec4(positionEC, 1.0);\nshadowPosition /= shadowPosition.w;\nif(! (any(lessThan(shadowPosition.xyz, vec3(0.0))) || any(greaterThan(shadowPosition.xyz, vec3(1.0))))) {\nvec4 shadowMapTSDBANSS = shadowMapTexelSizeDepthBiasAndNormalShadingSmooth[i];\nmars3d_shadowParameters shadowParameters;\nshadowParameters.texelStepSize = shadowMapTSDBANSS.xy;\nshadowParameters.depthBias = shadowMapTSDBANSS.z;\nshadowParameters.normalShadingSmooth = shadowMapTSDBANSS.w;\nshadowParameters.darkness = shadowMapDT.x;\nshadowParameters.texCoords = shadowPosition.xy;\nshadowParameters.depth = shadowPosition.z;\nshadowParameters.nDotL = NdotL;\nvisibility = shadowVisibility2D(lightShadowMap2D, shadowParameters);\n}\n\nif(visibility == 1.0) {\nvec3 colorIntensity = getLightIntensityMars3D(lightColor[i], intensity[i], type, lightPEC.w, pointToLightEC, direction[i], outerConeCos[i], innerConeCos[i]);\nreturn NdotL * colorIntensity;\n}\nreturn vec3(0.0);\n}\n\nvoid main() {\nvec4 color = texture(colorTexture, v_textureCoordinates);\nfloat logDepthOrDepth = czm_unpackDepth(texture(depthTexture, v_textureCoordinates));\nif(logDepthOrDepth >= 1.0) {\nout_FragColor = color;\nreturn;\n}\n\nvec4 eyeCoordinate = czm_windowToEyeCoordinates(v_textureCoordinates.xy * czm_viewport.zw, logDepthOrDepth);\nvec3 downUp = vectorFromOffsetMars3D(eyeCoordinate, vec2(0.0, 1.0));\nvec3 leftRight = vectorFromOffsetMars3D(eyeCoordinate, vec2(1.0, 0.0));\nvec3 normalEC = normalize(cross(leftRight, downUp));\nvec3 positionEC = eyeCoordinate.xyz / eyeCoordinate.w;\n\nvec3 totalColor = vec3(0.0);\n\nMars3D_ShadowVisibilityShader out_FragColor = vec4(color.xyz + totalColor, 1.0);\n}\n";
  var MultipleLightNoShadowShader = "uniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\n\nconst int LightNum = Mars3D_LightNumValue;\nuniform vec4 lightPositionEC[LightNum];\nuniform float intensity[LightNum];\nuniform vec3 lightColor[LightNum];\nuniform vec3 direction[LightNum];\nuniform float outerConeCos[LightNum];\nuniform float innerConeCos[LightNum];\nuniform vec2 shadowMapDarknessType[LightNum];\n\nin vec2 v_textureCoordinates;\n\nconst float M_PI = 3.141592653589793;\n\nvec3 getEyeCoordinate3FromWindowCoordinateMars3D(vec2 fragCoord, float logDepthOrDepth) {\n  vec4 eyeCoordinate = czm_windowToEyeCoordinates(fragCoord, logDepthOrDepth);\n  return eyeCoordinate.xyz / eyeCoordinate.w;\n}\n\nvec3 vectorFromOffsetMars3D(vec4 eyeCoordinate, vec2 positiveOffset) {\n  vec2 glFragCoordXY = v_textureCoordinates.xy * czm_viewport.zw;\n  float upOrRightLogDepth = czm_unpackDepth(texture(depthTexture, (glFragCoordXY + positiveOffset) / czm_viewport.zw));\n  float downOrLeftLogDepth = czm_unpackDepth(texture(depthTexture, (glFragCoordXY - positiveOffset) / czm_viewport.zw));\n\n  bvec2 upOrRightInBounds = lessThan(glFragCoordXY + positiveOffset, czm_viewport.zw);\n  float useUpOrRight = float(upOrRightLogDepth > 0.0 && upOrRightInBounds.x && upOrRightInBounds.y);\n  float useDownOrLeft = float(useUpOrRight == 0.0);\n  vec3 upOrRightECMars3D = getEyeCoordinate3FromWindowCoordinateMars3D(glFragCoordXY + positiveOffset, upOrRightLogDepth);\n  vec3 downOrLeftEC = getEyeCoordinate3FromWindowCoordinateMars3D(glFragCoordXY - positiveOffset, downOrLeftLogDepth);\n  return (upOrRightECMars3D - (eyeCoordinate.xyz / eyeCoordinate.w)) * useUpOrRight + ((eyeCoordinate.xyz / eyeCoordinate.w) - downOrLeftEC) * useDownOrLeft;\n}\n\nfloat getRangeAttenuationMars3D(float range, float d) {\n  if(range <= 0.0) {\n    return 1.0 / pow(d, 2.0);\n  }\n  return max(min(1.0 - pow(d / range, 4.0), 1.0), 0.0) / pow(d, 2.0);\n}\n\nfloat getSpotAttenuationMars3D(vec3 pointToLight, vec3 direction, float outerConeCos, float innerConeCos) {\n  float actualCos = dot(normalize(direction), normalize(-pointToLight));\n  if(actualCos > outerConeCos) {\n    if(actualCos < innerConeCos) {\n      return smoothstep(outerConeCos, innerConeCos, actualCos);\n    }\n    return 1.0;\n  }\n  return 0.0;\n}\n\nvec3 getLightIntensityMars3D(vec3 color, float intensity, float type, float range, vec3 pointToLight, vec3 direction, float outerConeCos, float innerConeCos) {\n  float rangeAttenuation = 1.0;\n  float spotAttenuation = 1.0;\n  rangeAttenuation = getRangeAttenuationMars3D(range, length(pointToLight));\n  if(type == 2.0) {\n    spotAttenuation = getSpotAttenuationMars3D(pointToLight, direction, outerConeCos, innerConeCos);\n  }\n  return rangeAttenuation * spotAttenuation * intensity * color;\n}\n\nvoid main() {\n  vec4 color = texture(colorTexture, v_textureCoordinates);\n  float logDepthOrDepth = czm_unpackDepth(texture(depthTexture, v_textureCoordinates));\n  if(logDepthOrDepth >= 1.0) {\n    out_FragColor = color;\n    return;\n  }\n\n  vec4 eyeCoordinate = czm_windowToEyeCoordinates(v_textureCoordinates.xy * czm_viewport.zw, logDepthOrDepth);\n  vec3 downUp = vectorFromOffsetMars3D(eyeCoordinate, vec2(0.0, 1.0));\n  vec3 leftRight = vectorFromOffsetMars3D(eyeCoordinate, vec2(1.0, 0.0));\n  vec3 normalEC = normalize(cross(leftRight, downUp));\n  vec3 positionEC = eyeCoordinate.xyz / eyeCoordinate.w;\n\n  vec3 totalColor = vec3(0.0);\n\n  for(int i = 0; i < 10000; i++) {\n    if(i >= LightNum)\n      break;\n    vec4 lightPEC = lightPositionEC[i];\n    vec2 shadowMapDT = shadowMapDarknessType[i];\n\n    vec3 pointToLightEC = positionEC - lightPEC.xyz;\n    float pointToLightECLength = length(pointToLightEC);\n    vec3 l = normalize(pointToLightEC);\n    float NdotL = clamp(dot(-normalEC, l), 0.0, 1.0);\n\n    float type = shadowMapDT.y;\n    vec3 colorIntensity = getLightIntensityMars3D(lightColor[i], intensity[i], type, lightPEC.w, pointToLightEC, direction[i], outerConeCos[i], innerConeCos[i]);\n    totalColor += NdotL * colorIntensity;\n  }\n\n  out_FragColor = vec4(color.xyz + totalColor, 1.0);\n}\n";
  const _0x1f4e2e = {
    color: Cesium__namespace.Color.WHITE,
    intensity: 10,
    radius: 1000
  };
  const DEF_STYLE$4 = _0x1f4e2e;
  class PointLight extends BasePointPrimitive {
    constructor(_0x1e1ac9 = {}, _0x3ee68e = true) {
      if (_0x3ee68e) {
        _0x1e1ac9.style = {
          ...DEF_STYLE$4,
          ...(_0x1e1ac9.style || {})
        };
      }
      super(_0x1e1ac9);
      this._light_type = 1;
      this._color = getCesiumColor(this.style.color, Cesium__namespace.Color.WHITE);
    }
    get czmObject() {
      return this._camera;
    }
    get hasOpacity() {
      return false;
    }
    get lights() {
      return this._layer?.lights;
    }
    get intensity() {
      return this.style.intensity;
    }
    set intensity(_0x5d411f) {
      this.style.intensity = _0x5d411f;
    }
    get color() {
      return this._color;
    }
    set color(_0x34c714) {
      this._color = getCesiumColor(_0x34c714, Cesium__namespace.Color.WHITE);
    }
    get shadowMap() {
      return this._shadowMap;
    }
    get camera() {
      return this._camera;
    }
    _updatePositionsHook() {
      let _0x32247b = this._position;
      if (this._camera && _0x32247b) {
        const _0x26b876 = this.getAddHeight();
        if (Cesium__namespace.defined(_0x26b876)) {
          _0x32247b = addPositionsHeight(_0x32247b, _0x26b876);
        }
        this._camera.position = _0x32247b;
        this._camera.up = Cesium__namespace.Cartesian3.normalize(_0x32247b, new Cesium__namespace.Cartesian3());
      }
    }
    _addedHook(_0x4ff345) {
      this._shadowMap = this._createShadowMap();
      if (this._position) {
        this._updatePositionsHook();
      }
      this.primitiveCollection.add(this);
      this.lights.set(this.id, this);
      this.lights._showHook = () => {
        this._updateDraw();
      };
      this._updateDraw();
    }
    _createShadowMap() {
      if (this._shadowMap) {
        this._shadowMap.destroy();
        delete this._shadowMap;
      }
      this._camera = new Cesium__namespace.Camera(this._map.scene);
      const _0x39723b = {
        lightCamera: this._camera,
        enable: false,
        darkness: 1,
        isPointLight: true,
        isSpotLight: false,
        cascadesEnabled: false,
        context: this._map.scene.context,
        pointLightRadius: this.style.radius,
        fromLightSource: false,
        depthBiasStep: this.options.depthBiasStep ?? 1
      };
      return new Cesium__namespace.ShadowMap(_0x39723b);
    }
    _removedHook() {
      if (this._shadowMap) {
        this._shadowMap.destroy();
        delete this._shadowMap;
      }
      if (this.primitiveCollection && this.primitiveCollection.contains(this)) {
        this._noDestroy = true;
        this.primitiveCollection.remove(this);
        this._noDestroy = false;
      }
      this.lights.remove(this.id);
      this._updateDraw();
    }
    update(_0x369552) {
      const _0x587c68 = this.getAvailabilityShow(_0x369552.time);
      if ((this._lastShow ?? true) !== _0x587c68) {
        this._availability_show = _0x587c68;
        this._lastShow = _0x587c68;
        this._updateDraw();
        this.fire(EventType.availabilityChange, {
          new: _0x587c68,
          old: this._lastShow
        });
        return;
      }
      if (this._shadowMap) {
        _0x369552.shadowMaps.push(this._shadowMap);
      }
    }
    _updateStyleHook(_0x24690b, _0x20d9f5) {
      if (Cesium__namespace.defined(_0x20d9f5.color)) {
        this._color = getCesiumColor(_0x20d9f5.color, Cesium__namespace.Color.WHITE);
      }
      if (Cesium__namespace.defined(_0x20d9f5.addHeight) || Cesium__namespace.defined(_0x20d9f5.heading) || Cesium__namespace.defined(_0x20d9f5.pitch) || Cesium__namespace.defined(_0x20d9f5.roll)) {
        this._updatePositionsHook();
      }
      if (Cesium__namespace.defined(_0x20d9f5.radius) && this._shadowMap) {
        this._shadowMap = this._createShadowMap();
        if (this._position) {
          this._updatePositionsHook();
        }
      }
    }
    _clearDraw() {
      if (this._map) {
        clearAllLights(this._map, this.lights);
      }
    }
    _updateDraw() {
      if (!this._map || !this._position) {
        return;
      }
      const _0x338612 = this.lights;
      clearAllLights(this._map, _0x338612);
      if (_0x338612.show && _0x338612.length > 0) {
        drawAllLights(this._map, _0x338612);
      }
    }
    _getDrawEntityClass(_0x4a5b34, _0x474031) {
      return this._getDrawPointEntityClass(_0x4a5b34, _0x474031);
    }
  }
  register$5("pointLight", PointLight, true);
  function drawAllLights(_0x196f6a, _0x5d9010) {
    const _0x3ec04d = [];
    const _0x2fc68c = _0x5d9010.splitArr(14);
    for (let _0x4d81f5 = 0, _0x106b34 = _0x2fc68c.length; _0x4d81f5 < _0x106b34; _0x4d81f5++) {
      const _0x497611 = getPostProcessStage$1(_0x2fc68c[_0x4d81f5], _0x196f6a.hasShadow);
      if (_0x497611) {
        _0x196f6a.scene.postProcessStages.add(_0x497611);
        _0x3ec04d.push(_0x497611);
      }
    }
    if (_0x3ec04d.length > 0) {
      _0x5d9010._postProcessStages = _0x3ec04d;
    }
  }
  function clearAllLights(_0x230efb, _0x57d257) {
    const _0x22855c = _0x57d257._postProcessStages;
    if (_0x22855c) {
      for (let _0x3c667c = 0, _0x334591 = _0x22855c.length; _0x3c667c < _0x334591; _0x3c667c++) {
        _0x22855c[_0x3c667c].enabled = false;
        _0x230efb.scene.postProcessStages.remove(_0x22855c[_0x3c667c]);
      }
      delete _0x57d257._postProcessStages;
    }
  }
  function getPostProcessStage$1(_0x5884b6, _0x275b8a = true) {
    let _0xd6a94e;
    let _0xe42e44;
    let _0xbf2006;
    let _0x4eaff2;
    let _0x3cc494;
    let _0x39bb62;
    let _0x5d3a05;
    let _0x3c16ce;
    let _0x5517e9;
    let _0x7e339d;
    let _0x56fec3;
    let _0x192f6d;
    function _0x5348f1() {
      _0xbf2006 = [];
      _0x4eaff2 = [];
      _0x3cc494 = [];
      _0x39bb62 = [];
      _0x5d3a05 = [];
      _0x3c16ce = [];
      _0x5517e9 = [];
      _0x7e339d = [];
      _0x56fec3 = [];
      _0x192f6d = [];
      _0x5884b6.forEach(function (_0x1b6b2b) {
        const _0x1119e5 = _0x1b6b2b.shadowMap;
        if (!_0x1119e5 || !_0x1b6b2b.position || _0x1b6b2b._availability_show === false) {
          return;
        }
        _0x192f6d.push(_0x1b6b2b);
        _0x4eaff2.push(_0x1b6b2b.intensity);
        _0x3cc494.push(_0x1b6b2b.color);
        _0xbf2006.push(_0x1119e5._lightPositionEC);
        _0x39bb62.push(_0x1119e5._shadowMapMatrix);
        const _0x1ee0f8 = _0x1119e5._isPointLight ? _0x1119e5._pointBias : _0x1119e5._primitiveBias;
        _0x5d3a05.push(Cesium__namespace.Cartesian4.fromElements(1 / _0x1119e5._textureSize.x, 1 / _0x1119e5._textureSize.y, _0x1ee0f8.depthBias, _0x1ee0f8.normalShadingSmooth));
        _0x3c16ce.push(new Cesium__namespace.Cartesian2(_0x1119e5._darkness, _0x1b6b2b._light_type));
        if (_0x1b6b2b._light_type === 2) {
          _0x5517e9.push(_0x1119e5._lightDirectionEC);
          _0x7e339d.push(Math.cos(Cesium__namespace.Math.toRadians(_0x1b6b2b.outerCone)));
          _0x56fec3.push(Math.cos(Cesium__namespace.Math.toRadians(_0x1b6b2b.innerCone)));
        } else {
          _0x5517e9.push(Cesium__namespace.Cartesian3.ZERO);
          _0x7e339d.push(0);
          _0x56fec3.push(0);
        }
      });
    }
    _0x5348f1();
    if (_0x192f6d.length === 0) {
      return;
    }
    if (_0x275b8a) {
      _0xd6a94e = {
        lightPositionEC: () => {
          _0x5348f1();
          return _0xbf2006;
        },
        intensity: () => {
          return _0x4eaff2;
        },
        lightColor: () => {
          return _0x3cc494;
        },
        shadowMapMatrix: () => {
          return _0x39bb62;
        },
        shadowMapTexelSizeDepthBiasAndNormalShadingSmooth: () => {
          return _0x5d3a05;
        },
        shadowMapDarknessType: () => {
          return _0x3c16ce;
        },
        direction: () => {
          return _0x5517e9;
        },
        outerConeCos: () => {
          return _0x7e339d;
        },
        innerConeCos: () => {
          return _0x56fec3;
        }
      };
      const {
        uniformShader: _0x54ae71,
        shadowVisibilityShader: _0x28eeed
      } = getLightShadowMaps(_0x192f6d, _0xd6a94e);
      _0xe42e44 = MultipleLightShader.replace("Mars3D_LightNumValue", _0x192f6d.length);
      _0xe42e44 = _0xe42e44.replace("Mars3D_LightShadowMapsShader", _0x54ae71);
      _0xe42e44 = _0xe42e44.replace("Mars3D_ShadowVisibilityShader", _0x28eeed);
    } else {
      _0xd6a94e = {
        lightPositionEC: () => {
          _0x5348f1();
          return _0xbf2006;
        },
        intensity: () => {
          return _0x4eaff2;
        },
        lightColor: () => {
          return _0x3cc494;
        },
        shadowMapDarknessType: () => {
          return _0x3c16ce;
        },
        direction: () => {
          return _0x5517e9;
        },
        outerConeCos: () => {
          return _0x7e339d;
        },
        innerConeCos: () => {
          return _0x56fec3;
        }
      };
      _0xe42e44 = MultipleLightNoShadowShader.replace("Mars3D_LightNumValue", _0x192f6d.length);
    }
    const _0x4fd423 = new Cesium__namespace.PostProcessStage({
      sampleMode: Cesium__namespace.PostProcessStageSampleMode.NEAREST,
      fragmentShader: _0xe42e44,
      uniforms: _0xd6a94e
    });
    return _0x4fd423;
  }
  function getLightShadowMaps(_0x4b0676, _0x424274) {
    let _0x29e382 = "";
    let _0x2e3c5a = "";
    _0x4b0676.forEach((_0x36b1cd, _0x4331c2) => {
      switch (_0x36b1cd._light_type) {
        case 1:
          _0x29e382 += "uniform samplerCube lightShadowMapCube" + _0x4331c2 + ";\n";
          _0x2e3c5a += "totalColor += getPointLightTotalColorMars3D(normalEC, positionEC, " + _0x4331c2 + ", lightShadowMapCube" + _0x4331c2 + ");\n";
          _0x424274["lightShadowMapCube" + _0x4331c2] = () => {
            return _0x36b1cd.shadowMap._shadowMapTexture;
          };
          break;
        case 2:
          _0x29e382 += "uniform sampler2D lightShadowMap2D" + _0x4331c2 + ";\n";
          _0x2e3c5a += "totalColor += getSpotLightTotalColorMars3D(normalEC, positionEC, " + _0x4331c2 + ", lightShadowMap2D" + _0x4331c2 + ");\n";
          _0x424274["lightShadowMap2D" + _0x4331c2] = () => {
            return _0x36b1cd.shadowMap._shadowMapTexture;
          };
          break;
      }
    });
    const _0x226b5c = {
      uniformShader: _0x29e382,
      shadowVisibilityShader: _0x2e3c5a
    };
    return _0x226b5c;
  }
  const _0x8be67c = {
    color: Cesium__namespace.Color.WHITE,
    intensity: 10,
    radius: 1000,
    innerCone: 10,
    outerCone: 45
  };
  const DEF_STYLE$3 = _0x8be67c;
  class SpotLight extends PointLight {
    constructor(_0x3596ca = {}, _0x190fea = true) {
      if (_0x190fea) {
        _0x3596ca.style = {
          ...DEF_STYLE$3,
          ...(_0x3596ca.style || {})
        };
      }
      super(_0x3596ca);
      this._light_type = 2;
    }
    get outerCone() {
      return this.style.outerCone;
    }
    set outerCone(_0x49ae80) {
      this.style.outerCone = _0x49ae80;
      this._camera.frustum.fov = Cesium__namespace.Math.toRadians(this.style.outerCone * 2);
      this._camera.frustum.far = this.range;
    }
    get innerCone() {
      return this.style.innerCone;
    }
    set innerCone(_0x575a83) {
      this.style.innerCone = _0x575a83;
    }
    _updatePositionsHook() {
      let _0x2f3acb = this._position;
      if (this._camera && _0x2f3acb) {
        const _0x1ed67b = this.getAddHeight();
        if (Cesium__namespace.defined(_0x1ed67b)) {
          _0x2f3acb = addPositionsHeight(_0x2f3acb, _0x1ed67b);
        }
        this._camera.position = _0x2f3acb;
        const _0x18eaea = Cesium__namespace.HeadingPitchRoll.fromDegrees(this.heading + 90, this.pitch, this.roll);
        const _0x412f09 = {
          heading: _0x18eaea.heading,
          pitch: _0x18eaea.pitch,
          roll: _0x18eaea.roll
        };
        const _0x4b067b = {
          destination: _0x2f3acb,
          orientation: _0x412f09
        };
        this._camera.setView(_0x4b067b);
      }
    }
    _createShadowMap() {
      this._camera = new Cesium__namespace.Camera(this._map.scene);
      this._camera.frustum.aspectRatio = 1;
      this._camera.frustum.fov = Cesium__namespace.Math.toRadians(this.style.outerCone * 2);
      this._camera.frustum.near = 0.1;
      this._camera.frustum.far = this.style.radius;
      const _0x1c0bb7 = {
        lightCamera: this._camera,
        enable: false,
        darkness: 1,
        isPointLight: false,
        isSpotLight: true,
        cascadesEnabled: false,
        context: this._map.scene.context,
        pointLightRadius: this.style.radius,
        fromLightSource: false,
        depthBiasStep: this.options.depthBiasStep ?? 1
      };
      return new Cesium__namespace.ShadowMap(_0x1c0bb7);
    }
  }
  register$5("spotLight", SpotLight, true);
  var VolumeCloudFS = "precision highp float;\nprecision highp sampler3D;\n\nuniform sampler3D map;\nuniform float threshold;\nuniform float detail;\nuniform float xCut;\nuniform float yCut;\nuniform float zCut;\nuniform vec4 colors[Mars3D_TotalColors];\nuniform float colorsKey[Mars3D_TotalColors];\n\nin vec3 vOrigin;\nin vec3 vDirection;\n\nvec2 hitBoxMars3D(vec3 orig, vec3 dir) {\n  const vec3 box_min = vec3(-0.5);\n  const vec3 box_max = vec3(0.5);\n  vec3 inv_dir = 1.0 / dir;\n  vec3 tmin_tmp = (box_min - orig) * inv_dir;\n  vec3 tmax_tmp = (box_max - orig) * inv_dir;\n  vec3 tmin = min(tmin_tmp, tmax_tmp);\n  vec3 tmax = max(tmin_tmp, tmax_tmp);\n  float t0 = max(tmin.x, max(tmin.y, tmin.z));\n  float t1 = min(tmax.x, min(tmax.y, tmax.z));\n  return vec2(t0, t1);\n}\n\nfloat sampleMars3D(vec3 p) {\n  return texture(map, p).a;\n}\n\n// 获取颜色的方法\nvec4 getColorMars3D(float value) {\n\n  float originalValue = value * 255.0;\n\n  vec4 color1 = vec4(0.0);\n  vec4 color2 = vec4(0.0);\n  float key1 = 0.0;\n  float key2 = 0.0;\n\n  // 计算当前值在哪一个区间\n  for(int i = 0; i < Mars3D_TotalColors; i++) {\n   // 获取到最小的大于当前值的位置\n    if(originalValue < colorsKey[i]) {\n      // 如果是第一位，则无法插值\n      if(i == 0) {\n        break;\n      }\n\n      key1 = colorsKey[i - 1];\n      key2 = colorsKey[i];\n      color1 = colors[i - 1];\n      color2 = colors[i];\n      break;\n    }\n  }\n\n  // 确定两个颜色区间之间的混合程度\n  float mixValue = (originalValue - key1) / (key2 - key1);\n\n  // 计算当前颜色\n  vec4 finalColor = mix(color1, color2, mixValue);\n\n  return finalColor;\n}\n\nvec4 alphaBlendingMars3D(vec4 color1, vec4 color2) {\n  float a1 = color1.a;\n  float a2 = color2.a;\n  float a = 1.0 - (1.0 - a1) * (1.0 - a2);\n\n  float R = (a1 * color1.r + (1.0 - a1) * a2 * color2.r) / a;\n  float G = (a1 * color1.g + (1.0 - a1) * a2 * color2.g) / a;\n  float B = (a1 * color1.b + (1.0 - a1) * a2 * color2.b) / a;\n\n  return vec4(R, G, B, a);\n}\n\nvoid main() {\n  // 初始化色带\n  vec4 color = vec4(0.0);\n  vec3 rayDir = normalize(vDirection);\n  vec2 bounds = hitBoxMars3D(vOrigin, rayDir);\n\n  if(bounds.x > bounds.y)\n    discard;\n\n  bounds.x = max(bounds.x, 0.0);\n  vec3 p = vOrigin + bounds.x * rayDir;\n  vec3 inc = 1.0 / abs(rayDir);\n  float delta = min(inc.x, min(inc.y, inc.z));\n  delta /= detail;\n\n  for(float t = bounds.x; t < bounds.y; t += delta) {\n    if(p.x > xCut && p.y > yCut && p.z < zCut) {\n      float value = sampleMars3D(p + 0.5);\n      if(value < threshold) {\n        if(color.a >= 1.0) {\n          break;\n        }\n        color = alphaBlendingMars3D(color, getColorMars3D(value));\n      }\n    }\n\n    p += rayDir * delta;\n  }\n  out_FragColor = color;\n}\n";
  var VolumeCloudVS = "in vec3 position;\nin vec2 st;\n\nout vec3 vOrigin;\nout vec3 vDirection;\n\nvoid main() {\n  vOrigin = czm_encodedCameraPositionMCHigh + czm_encodedCameraPositionMCLow;\n  vDirection = position - vOrigin;\n  gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n";
  class VolumeCloud extends BasePrimitive {
    constructor(_0x4e9fb7 = {}) {
      super(_0x4e9fb7);
      this.threshold = this.options.threshold ?? 65 / 255;
      this.detail = this.options.detail ?? 1000;
      this.xCut = this.options.xCut ?? -0.5;
      this.yCut = this.options.yCut ?? -0.5;
      this.zCut = this.options.zCut ?? 0.5;
    }
    get czmObject() {
      return this._shadowMap;
    }
    updateData(_0x242cc5) {
      if (this.texture3D) {
        this.texture3D.destroy();
        delete this.texture3D;
      }
      for (let _0xb95306 = 0, _0xe51c6a = _0x242cc5.values.length; _0xb95306 < _0xe51c6a; _0xb95306++) {
        _0x242cc5.values[_0xb95306] = Math.abs(_0x242cc5.values[_0xb95306]);
      }
      this.texture3D = new Texture3({
        context: this._map.scene.context,
        source: {
          width: _0x242cc5.rows,
          height: _0x242cc5.cols,
          depth: _0x242cc5.heights,
          arrayBufferView: new Uint8Array(_0x242cc5.values)
        },
        pixelFormat: Cesium__namespace.PixelFormat.ALPHA,
        pixelDatatype: Cesium__namespace.PixelDatatype.UNSIGNED_BYTE
      });
    }
    _mountedHook() {
      const _0x27ded4 = this.options.data;
      this.texture3D = new Texture3({
        context: this._map.scene.context,
        source: {
          width: _0x27ded4.rows,
          height: _0x27ded4.cols,
          depth: _0x27ded4.heights,
          arrayBufferView: new Uint8Array(_0x27ded4.values)
        },
        pixelFormat: Cesium__namespace.PixelFormat.ALPHA,
        pixelDatatype: Cesium__namespace.PixelDatatype.UNSIGNED_BYTE
      });
      const _0x4ea007 = this.options.colors || ["rgb(0,0,0,0)", "rgb(170,36,250)", "rgba(212,142,254,0.13)", "rgba(238,2,48,0.12)", "rgba(254,100,92,0.11)", "rgba(254,172,172,0.1)", "rgba(140,140,0,0.09)", "rgba(200,200,2,0.08)", "rgba(252,244,100,0.07)", "rgba(16,146,26,0.06)", "rgba(0,234,0,0.05)", "rgba(166,252,168,0.04)", "rgba(30,38,208,0.03)", "rgba(122,114,238,0.02)", "rgba(192,192,254,0.01)"];
      const _0x2a9465 = [];
      _0x4ea007.forEach(_0x3407db => {
        _0x2a9465.push(getCesiumColor(_0x3407db));
      });
      this.colors = _0x2a9465;
      this.steps = this.options.steps;
      if (!this.steps || this.steps.length === 0) {
        let _0x142831 = Number.MAX_VALUE;
        let _0x34acbd = Number.MIN_VALUE;
        _0x27ded4.values.forEach(_0x28ed89 => {
          _0x142831 = Math.min(_0x28ed89, _0x142831);
          _0x34acbd = Math.max(_0x28ed89, _0x34acbd);
        });
        const _0x3f77e1 = _0x4ea007.length - 1;
        const _0x2c941d = (_0x34acbd - _0x142831) / _0x3f77e1;
        this.steps = [];
        for (let _0x46d8f5 = 0; _0x46d8f5 < _0x3f77e1; _0x46d8f5++) {
          this.steps.push(_0x142831 + _0x46d8f5 * _0x2c941d);
        }
        this.steps[0] = 0;
      }
      const _0x5deb9d = Cesium__namespace.Cartographic.fromDegrees(_0x27ded4.xmin, _0x27ded4.ymin, _0x27ded4.zmin);
      const _0x6c4bfd = Cesium__namespace.Cartographic.fromDegrees(_0x27ded4.xmax, _0x27ded4.ymax, _0x27ded4.zmax);
      const _0x522f58 = Cesium__namespace.Rectangle.fromRadians(_0x5deb9d.longitude, _0x5deb9d.latitude, _0x6c4bfd.longitude, _0x6c4bfd.latitude);
      this._rectangle = _0x522f58;
      const _0x3433ca = Cesium__namespace.Rectangle.center(_0x522f58);
      const _0x17c323 = Cesium__namespace.Cartographic.toCartesian(Cesium__namespace.Rectangle.northeast(_0x522f58));
      const _0x5a7e6c = Cesium__namespace.Cartographic.toCartesian(Cesium__namespace.Rectangle.northwest(_0x522f58));
      const _0x1050dd = Cesium__namespace.Cartographic.toCartesian(Cesium__namespace.Rectangle.southeast(_0x522f58));
      const _0x59ac2a = Cesium__namespace.Cartesian3.distance(_0x17c323, _0x5a7e6c);
      const _0x207449 = Cesium__namespace.Cartesian3.distance(_0x17c323, _0x1050dd);
      const _0x52a51f = (_0x6c4bfd.height + _0x5deb9d.height) / 2;
      const _0x305235 = Cesium__namespace.Cartesian3.fromRadians(_0x3433ca.longitude, _0x3433ca.latitude, _0x52a51f);
      let _0x5cab34 = _0x59ac2a > _0x207449 ? _0x59ac2a : _0x207449;
      _0x5cab34 = _0x5cab34 > _0x52a51f ? _0x5cab34 : _0x52a51f;
      const _0x58905f = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x305235);
      const _0x4ec567 = Cesium__namespace.Matrix4.fromScale(new Cesium__namespace.Cartesian3(_0x59ac2a, _0x207449, _0x52a51f * 2));
      this.boundingSphere = new Cesium__namespace.BoundingSphere(_0x305235, _0x5cab34);
      this._modelMatrix = Cesium__namespace.Matrix4.multiply(_0x58905f, _0x4ec567, _0x58905f);
    }
    _addedHook(_0x1c74c6) {
      this.primitiveCollection.add(this);
    }
    _removedHook() {
      if (this.primitiveCollection.contains(this)) {
        this._noDestroy = true;
        this.primitiveCollection.remove(this);
        this._noDestroy = false;
      }
      if (this.texture3D) {
        this.texture3D.destroy();
        delete this.texture3D;
      }
      this._clearDrawCommand();
    }
    update(_0x5cbb78) {
      if (!this.getRealShow(_0x5cbb78.time)) {
        return;
      }
      if (!this._drawCommands) {
        this.createDrawCommand(_0x5cbb78.context);
      }
      _0x5cbb78.commandList.push(this._drawCommands);
    }
    createDrawCommand(_0x19b491) {
      this._clearDrawCommand();
      const _0x5a6b13 = Cesium__namespace.BoxGeometry.createGeometry(Cesium__namespace.BoxGeometry.fromDimensions({
        vertexFormat: Cesium__namespace.VertexFormat.POSITION_AND_ST,
        dimensions: new Cesium__namespace.Cartesian3(1, 1, 1)
      }));
      const _0x553dbf = Cesium__namespace.RenderState.fromCache({
        depthTest: {
          enabled: true
        },
        cull: {
          enabled: false
        }
      });
      const _0x4c3ef7 = Cesium__namespace.GeometryPipeline.createAttributeLocations(_0x5a6b13);
      const _0x3040f2 = {
        context: _0x19b491,
        geometry: _0x5a6b13,
        attributes: _0x4c3ef7
      };
      const _0x286960 = Cesium__namespace.VertexArray.fromGeometry(_0x3040f2);
      const _0x19d5b3 = Cesium__namespace.ShaderProgram.fromCache({
        boundingSphere: _0x5a6b13.boundingSphere,
        context: _0x19b491,
        vertexShaderSource: VolumeCloudVS,
        fragmentShaderSource: VolumeCloudFS.replaceAll("Mars3D_TotalColors", this.colors.length),
        attributeLocations: _0x4c3ef7
      });
      this._drawCommands = new Cesium__namespace.DrawCommand({
        boundingVolume: this.boundingSphere,
        modelMatrix: this._modelMatrix,
        pass: Cesium__namespace.Pass.TRANSLUCENT,
        shaderProgram: _0x19d5b3,
        renderState: _0x553dbf,
        vertexArray: _0x286960,
        uniformMap: {
          map: () => {
            return this.texture3D;
          },
          threshold: () => {
            return this.threshold;
          },
          detail: () => {
            return this.detail;
          },
          xCut: () => {
            return this.xCut;
          },
          yCut: () => {
            return this.yCut;
          },
          zCut: () => {
            return this.zCut;
          },
          colors: () => {
            return this.colors;
          },
          colorsKey: () => {
            return this.steps;
          }
        }
      });
    }
    _clearDrawCommand() {
      if (this._drawCommands) {
        if (this._drawCommands.vertexArray) {
          this._drawCommands.vertexArray.destroy();
        }
        if (this._drawCommands.shaderProgram) {
          this._drawCommands.shaderProgram.destroy();
        }
        delete this._drawCommands;
      }
    }
  }
  register$5("volumeCloud", VolumeCloud, true);
  var MultipleVisibilityShader = "\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\n\nuniform float mars3d_opacity;\nuniform vec3 mars3d_visibleAreaColor;\nuniform vec3 mars3d_hiddenAreaColor;\n\n\nconst int LightNum = LightNumVlaue;\nuniform vec4 lightPositionEC[LightNum];\nuniform mat4 shadowMapMatrix[LightNum];\nuniform vec4 shadowMapTexelSizeDepthBiasAndNormalShadingSmooth[LightNum];\nuniform vec2 shadowMapDarknessType[LightNum];\nuniform float mars3d_distance[LightNum];\n\n\nLightShadowMapsShader\n\nin vec2 v_textureCoordinates;\n\nvec3 getEyeCoordinate3FromWindowCoordinate(vec2 fragCoord, float logDepthOrDepth) {\n  vec4 eyeCoordinate = czm_windowToEyeCoordinates(fragCoord, logDepthOrDepth);\n  return eyeCoordinate.xyz / eyeCoordinate.w;\n}\n\nvec3 vectorFromOffset(vec4 eyeCoordinate, vec2 positiveOffset) {\n  vec2 glFragCoordXY = v_textureCoordinates.xy * czm_viewport.zw;\n  float upOrRightLogDepth = czm_unpackDepth(texture(depthTexture, (glFragCoordXY + positiveOffset) / czm_viewport.zw));\n  float downOrLeftLogDepth = czm_unpackDepth(texture(depthTexture, (glFragCoordXY - positiveOffset) / czm_viewport.zw));\n\n  bvec2 upOrRightInBounds = lessThan(glFragCoordXY + positiveOffset, czm_viewport.zw);\n  float useUpOrRight = float(upOrRightLogDepth > 0.0 && upOrRightInBounds.x && upOrRightInBounds.y);\n  float useDownOrLeft = float(useUpOrRight == 0.0);\n  vec3 upOrRightEC = getEyeCoordinate3FromWindowCoordinate(glFragCoordXY + positiveOffset, upOrRightLogDepth);\n  vec3 downOrLeftEC = getEyeCoordinate3FromWindowCoordinate(glFragCoordXY - positiveOffset, downOrLeftLogDepth);\n  return (upOrRightEC - (eyeCoordinate.xyz / eyeCoordinate.w)) * useUpOrRight + ((eyeCoordinate.xyz / eyeCoordinate.w) - downOrLeftEC) * useDownOrLeft;\n}\n\nstruct mars3d_shadowParameters\n{\n    vec3 texCoordsCube;\n    vec2 texCoords;\n    float depthBias;\n    float depth;\n    float nDotL;\n    vec2 texelStepSize;\n    float normalShadingSmooth;\n    float darkness;\n};\n\nfloat shadowVisibilityCube(samplerCube shadowMap, mars3d_shadowParameters shadowParameters){\n    float depthBias = shadowParameters.depthBias;\n    float depth = shadowParameters.depth;\n    float nDotL = shadowParameters.nDotL;\n    float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n    float darkness = shadowParameters.darkness;\n    vec3 uvw = shadowParameters.texCoordsCube;\n\n    depth -= depthBias;\n    return czm_shadowDepthCompare(shadowMap, uvw, depth);\n}\nfloat shadowVisibility2D(sampler2D shadowMap, mars3d_shadowParameters shadowParameters)\n{\n    float depthBias = shadowParameters.depthBias;\n    float depth = shadowParameters.depth;\n    float nDotL = shadowParameters.nDotL;\n    float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n    float darkness = shadowParameters.darkness;\n    vec2 uv = shadowParameters.texCoords;\n\n    depth -= depthBias;\n    return czm_shadowDepthCompare(shadowMap, uv, depth);\n}\n\nint getPointVisibility(vec3 normalEC, vec3 positionEC, int i, samplerCube lightShadowMapCube){\n  vec4 lightPEC = lightPositionEC[i];\n  vec2 shadowMapDT = shadowMapDarknessType[i];\n  vec3 pointToLightEC = positionEC - lightPEC.xyz;\n  float pointToLightECLength = length(pointToLightEC);\n  vec3 l = normalize(pointToLightEC);\n  float NdotL = clamp(dot(-normalEC, l), 0.0, 1.0);\n\n  float visibility = 0.0;\n  float radius = lightPEC.w;\n  float type = shadowMapDT.y;\n\n  if(pointToLightECLength <= radius){\n    vec4 shadowMapTSDBANSS = shadowMapTexelSizeDepthBiasAndNormalShadingSmooth[i];\n\n    mars3d_shadowParameters shadowParameters;\n    shadowParameters.texelStepSize = shadowMapTSDBANSS.xy;\n    shadowParameters.depthBias = shadowMapTSDBANSS.z;\n    shadowParameters.normalShadingSmooth = shadowMapTSDBANSS.w;\n    shadowParameters.darkness = shadowMapDT.x;\n    shadowParameters.depth = pointToLightECLength / radius;\n    shadowParameters.nDotL = NdotL;\n    shadowParameters.texCoordsCube = czm_inverseViewRotation * l;\n    visibility = shadowVisibilityCube(lightShadowMapCube, shadowParameters);\n    if(visibility == 1.0){\n      return 0;\n    } else {\n      return 1;\n    }\n  } else {\n    return 2;\n  }\n}\n\nint getFrustumVisibility(vec3 normalEC, vec3 positionEC, int i, sampler2D lightShadowMap2D){\n  vec4 lightPEC = lightPositionEC[i];\n  vec2 shadowMapDT = shadowMapDarknessType[i];\n  vec3 pointToLightEC = positionEC - lightPEC.xyz;\n  vec3 l = normalize(pointToLightEC);\n  float NdotL = clamp(dot(-normalEC, l), 0.0, 1.0);\n\n  float visibility = 0.0;\n  float type = shadowMapDT.y;\n\n  vec4 shadowPosition = shadowMapMatrix[i] * vec4(positionEC, 1.0);\n  shadowPosition /= shadowPosition.w;\n  if (any(lessThan(shadowPosition.xyz, vec3(0.0))) || any(greaterThan(shadowPosition.xyz, vec3(1.0)))) {\n    return 2;\n  }\n\n  //坐标与视点位置距离，大于最大距离则舍弃阴影效果\n  vec4 lw = czm_inverseView * vec4(lightPEC.xyz, 1.0);\n  vec4 vw = czm_inverseView * vec4(positionEC.xyz, 1.0);\n  float one_distance = mars3d_distance[i];\n  if(distance(lw.xyz, vw.xyz) > one_distance) {\n    return 2;\n  }\n\n\n  vec4 shadowMapTSDBANSS = shadowMapTexelSizeDepthBiasAndNormalShadingSmooth[i];\n  mars3d_shadowParameters shadowParameters;\n  shadowParameters.texelStepSize = shadowMapTSDBANSS.xy;\n  shadowParameters.depthBias = shadowMapTSDBANSS.z;\n  shadowParameters.normalShadingSmooth = shadowMapTSDBANSS.w;\n  shadowParameters.darkness = shadowMapDT.x;\n  shadowParameters.texCoords = shadowPosition.xy;\n  shadowParameters.depth = shadowPosition.z;\n  shadowParameters.nDotL = NdotL;\n\n  visibility = shadowVisibility2D(lightShadowMap2D, shadowParameters);\n  if(visibility == 1.0){\n    return 0;\n  } else {\n    return 1;\n  }\n\n}\n\n\nvoid main() {\n  vec4 color = texture(colorTexture, v_textureCoordinates);\n  float logDepthOrDepth = czm_unpackDepth(texture(depthTexture, v_textureCoordinates));\n  if(logDepthOrDepth >= 1.0){\n    out_FragColor = color;\n    return;\n  }\n\n  vec4 eyeCoordinate = czm_windowToEyeCoordinates(v_textureCoordinates.xy * czm_viewport.zw, logDepthOrDepth);\n  vec3 downUp = vectorFromOffset(eyeCoordinate, vec2(0.0, 1.0));\n  vec3 leftRight = vectorFromOffset(eyeCoordinate, vec2(1.0, 0.0));\n  vec3 normalEC = normalize(cross(leftRight, downUp));\n  vec3 positionEC = eyeCoordinate.xyz / eyeCoordinate.w;\n\n  int visibility = 0;\n  int inside = 0;\n\n  ShadowVisibilityShader\n\n  if(visibility > 0){\n    out_FragColor = mix(color, vec4(mars3d_visibleAreaColor, 1.0), mars3d_opacity);\n  } else if(inside > 0) {\n    out_FragColor = mix(color, vec4(mars3d_hiddenAreaColor, 1.0), mars3d_opacity);\n  }else{\n    out_FragColor = color;\n  }\n}\n";
  const DEF_STYLE$2 = {
    radius: 1,
    opacity: 0.6,
    showFrustum: false
  };
  class PointVisibility extends BasePointPrimitive {
    constructor(_0x207701 = {}, _0x3f1112 = true) {
      if (_0x3f1112) {
        _0x207701.style = {
          ...DEF_STYLE$2,
          ...(_0x207701.style || {})
        };
      }
      super(_0x207701);
      this._visibility_type = 1;
      this._hasTerrainShadows = this.options.terrain ?? true;
      this._maximumDistance = this.style.maximumDistance ?? 5000;
      this.visibleAreaColor = this.style.visibleAreaColor ?? new Cesium__namespace.Color(0, 1, 0);
      this.hiddenAreaColor = this.style.hiddenAreaColor ?? new Cesium__namespace.Color(1, 0, 0);
    }
    get czmObject() {
      return this._camera;
    }
    get hasOpacity() {
      return false;
    }
    get visibilitys() {
      return this._layer?.visibilitys;
    }
    get opacity() {
      return this.style?.opacity;
    }
    set opacity(_0xba2584) {
      this.style.opacity = _0xba2584;
    }
    get visibleAreaColor() {
      return this._visibleAreaColor;
    }
    set visibleAreaColor(_0x1dc127) {
      this._visibleAreaColor = getCesiumColor(_0x1dc127);
    }
    get hiddenAreaColor() {
      return this._hiddenAreaColor;
    }
    set hiddenAreaColor(_0x282d54) {
      this._hiddenAreaColor = getCesiumColor(_0x282d54);
    }
    get shadowMap() {
      return this._shadowMap;
    }
    get camera() {
      return this._camera;
    }
    _updatePositionsHook() {
      let _0x48af17 = this._position;
      if (this._camera && _0x48af17) {
        const _0x2ce8b5 = this.getAddHeight();
        if (Cesium__namespace.defined(_0x2ce8b5)) {
          _0x48af17 = addPositionsHeight(_0x48af17, _0x2ce8b5);
        }
        this._camera.position = _0x48af17;
        this._camera.up = Cesium__namespace.Cartesian3.normalize(_0x48af17, new Cesium__namespace.Cartesian3());
      }
    }
    _addedHook(_0x3e906f) {
      if (this._hasTerrainShadows) {
        this._map.viewer.terrainShadows = Cesium__namespace.ShadowMode.ENABLED;
      }
      this._shadowMap = this._createShadowMap();
      if (this._position) {
        this._updatePositionsHook();
      }
      this.primitiveCollection.add(this);
      this.visibilitys.set(this.id, this);
      this.visibilitys._showHook = () => {
        this._updateDraw();
      };
      this._updateDraw();
      this._updateOutlineFrustum();
    }
    _createShadowMap() {
      if (this._shadowMap) {
        this._shadowMap.destroy();
        delete this._shadowMap;
      }
      this._camera = new Cesium__namespace.Camera(this._map.scene);
      const _0x1f794f = {
        lightCamera: this._camera,
        enable: false,
        darkness: 1,
        isPointLight: true,
        isSpotLight: false,
        cascadesEnabled: false,
        context: this._map.scene.context,
        pointLightRadius: this.style.radius,
        fromLightSource: false,
        depthBiasStep: this.options.depthBiasStep ?? 10
      };
      return new Cesium__namespace.ShadowMap(_0x1f794f);
    }
    _removedHook() {
      if (this._hasTerrainShadows) {
        this._map.terrainShadows = Cesium__namespace.ShadowMode.DISABLED;
      }
      if (this._shadowMap) {
        this._shadowMap.destroy();
        delete this._shadowMap;
      }
      if (this._outlineFrustumGraphic) {
        this._layer.removeGraphic(this._outlineFrustumGraphic, true);
        delete this._outlineFrustumGraphic;
      }
      if (this._outlineFrustum) {
        this._layer.primitiveCollection.remove(this._outlineFrustum);
        delete this._outlineFrustum;
      }
      if (this.primitiveCollection && this.primitiveCollection.contains(this)) {
        this._noDestroy = true;
        this.primitiveCollection.remove(this);
        this._noDestroy = false;
      }
      this.visibilitys.remove(this.id);
      this._updateDraw();
    }
    update(_0x662ee6) {
      if (this.availability && !this.getAvailabilityShow(_0x662ee6.time)) {
        return;
      }
      if (this._shadowMap) {
        _0x662ee6.shadowMaps.push(this._shadowMap);
      }
    }
    _updateStyleHook(_0x5cbce3, _0x5d53d5) {
      if (Cesium__namespace.defined(_0x5d53d5.showFrustum)) {
        this._updateOutlineFrustum();
      }
      if (Cesium__namespace.defined(_0x5d53d5.angle) || Cesium__namespace.defined(_0x5d53d5.angle2)) {
        this._updateDraw();
      }
      if (Cesium__namespace.defined(_0x5d53d5.hiddenAreaColor)) {
        this.hiddenAreaColor = _0x5d53d5.hiddenAreaColor;
      }
      if (Cesium__namespace.defined(_0x5d53d5.visibleAreaColor)) {
        this.visibleAreaColor = _0x5d53d5.visibleAreaColor;
      }
      if (Cesium__namespace.defined(_0x5d53d5.addHeight) || Cesium__namespace.defined(_0x5d53d5.heading) || Cesium__namespace.defined(_0x5d53d5.pitch) || Cesium__namespace.defined(_0x5d53d5.roll)) {
        this._updatePositionsHook();
      }
      if (Cesium__namespace.defined(_0x5d53d5.radius) && this._shadowMap) {
        this._shadowMap = this._createShadowMap();
        if (this._position) {
          this._updatePositionsHook();
        }
        this._updateOutlineFrustum();
      }
    }
    _clearDraw() {
      if (!this._map) {
        return;
      }
      clearAllVisibility(this._map, this.visibilitys);
    }
    _updateDraw() {
      if (!this._map) {
        return;
      }
      const _0x2b00d4 = this.visibilitys;
      clearAllVisibility(this._map, _0x2b00d4);
      if (_0x2b00d4.show && _0x2b00d4.length > 0) {
        drawAllVisibility(this._map, _0x2b00d4);
      }
    }
    _updateOutlineFrustum() {
      if (this._outlineFrustum) {
        this._layer.primitiveCollection.remove(this._outlineFrustum);
        delete this._outlineFrustum;
      }
      if (!this.position || !this.style.showFrustum) {
        return;
      }
      const _0x5a1c6c = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this.position);
      const _0x520192 = {
        radius: this.style.radius
      };
      const _0x45aaae = new Cesium__namespace.GeometryInstance({
        geometry: new Cesium__namespace.SphereOutlineGeometry(_0x520192),
        modelMatrix: _0x5a1c6c,
        attributes: {
          color: Cesium__namespace.ColorGeometryInstanceAttribute.fromColor(Cesium__namespace.Color.WHITE)
        }
      });
      this._outlineFrustum = this._layer.primitiveCollection.add(new Cesium__namespace.Primitive({
        geometryInstances: _0x45aaae,
        asynchronous: false,
        appearance: new Cesium__namespace.PerInstanceColorAppearance({
          flat: true,
          renderState: {
            lineWidth: 1
          }
        })
      }));
    }
    startDraw(_0x4c4af1) {
      if (this._isDrawing) {
        return this;
      }
      this._isDrawing = true;
      if (_0x4c4af1) {
        this.addTo(_0x4c4af1);
      }
      if (!this._map) {
        throw new Error("绘制时_map不能为空,请将对象添加到图层，并且图层已添加到Map");
      }
      this._map._setEditCursor(true);
      this.enableControl(false);
      this._startDrawHook();
      this.fire(EventType.drawStart, {
        drawType: this.type,
        graphic: this
      }, true);
    }
    stopDraw() {
      var _0x3f7ada;
      var _0x1b9017;
      if (!this._isDrawing) {
        return this;
      }
      this._stopDrawHook();
      this._map._setEditCursor(false);
      this.enableControl(true);
      this._map.closeSmallTooltip();
      this._isDrawing = false;
      if (!this.position || !this.style.radius) {
        this.remove(true);
        return;
      }
      this.fire(EventType.drawCreated, {
        drawType: this.type,
        graphic: this
      }, true);
      if ((_0x3f7ada = this.options) !== null && _0x3f7ada !== undefined && _0x3f7ada.success) {
        this.options.success(this);
      }
      if ((_0x1b9017 = this.options) !== null && _0x1b9017 !== undefined && (_0x1b9017 = _0x1b9017._promise) !== null && _0x1b9017 !== undefined && _0x1b9017.resolve) {
        this.options._promise.resolve(this);
      }
    }
    _startDrawHook() {
      this._map.on(EventType.click, this._onClickHandler, this);
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
    }
    _stopDrawHook() {
      this._map.off(EventType.click, this._onClickHandler, this);
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
    }
    _onClickHandler(_0x5aa43f) {
      const _0x5cff89 = _0x5aa43f.cartesian;
      if (!_0x5cff89) {
        return;
      }
      _0x5aa43f = {
        ..._0x5aa43f,
        drawType: this.type,
        graphic: this
      };
      this.fire(EventType.drawAddPoint, _0x5aa43f, true);
      if (!this.position) {
        this._setPointPostion(_0x5cff89);
        return;
      }
      this._updateMouseDraw(_0x5cff89);
      this.stopDraw();
      this.fire(EventType.drawCreated, _0x5aa43f);
    }
    _onMouseMoveHandler(_0x1700c1) {
      const _0x10abbf = _0x1700c1.cartesian;
      if (!_0x10abbf) {
        return;
      }
      const _0xc45242 = this.position;
      if (_0xc45242) {
        this._updateMouseDraw(_0x10abbf);
        this.fire(EventType.drawMouseMove, {
          ..._0x1700c1,
          drawType: this.type,
          graphic: this
        }, true);
        this._map.openSmallTooltip(_0x1700c1.endPosition, this._map.getLangText("_单击完成绘制"));
      } else {
        this._map.openSmallTooltip(_0x1700c1.endPosition, this._map.getLangText("_单击开始绘制"));
      }
    }
    _updateMouseDraw(_0x4581e4) {
      this.style.radius = Cesium__namespace.Cartesian3.distance(this.position, _0x4581e4);
      this._shadowMap = this._createShadowMap();
      if (this._position) {
        this._updatePositionsHook();
      }
    }
  }
  register$5("pointVisibility", PointVisibility, true);
  function drawAllVisibility(_0x4e6ad5, _0x2f38b7) {
    const _0x20894c = [];
    const _0x4dd517 = _0x2f38b7.splitArr(14);
    for (let _0x135bac = 0, _0x2cf53f = _0x4dd517.length; _0x135bac < _0x2cf53f; _0x135bac++) {
      const _0x2f74b2 = getPostProcessStage(_0x4dd517[_0x135bac]);
      if (_0x2f74b2) {
        _0x4e6ad5.scene.postProcessStages.add(_0x2f74b2);
        _0x20894c.push(_0x2f74b2);
      }
    }
    if (_0x20894c.length > 0) {
      _0x2f38b7._postProcessStages = _0x20894c;
    }
  }
  function clearAllVisibility(_0x4fa122, _0x440b40) {
    const _0x563a5c = _0x440b40._postProcessStages;
    if (_0x563a5c) {
      for (let _0x41f97e = 0, _0xfe69e6 = _0x563a5c.length; _0x41f97e < _0xfe69e6; _0x41f97e++) {
        _0x4fa122.scene.postProcessStages.remove(_0x563a5c[_0x41f97e]);
      }
      delete _0x440b40._postProcessStages;
    }
  }
  function getPostProcessStage(_0x1cd51e) {
    if (_0x1cd51e.length === 0) {
      return;
    }
    let _0x217254;
    let _0x22a14a;
    let _0xe0bf28;
    let _0x3d01eb;
    let _0x1694a6;
    let _0x4c0dec;
    function _0x29b773() {
      _0x217254 = [];
      _0x22a14a = [];
      _0xe0bf28 = [];
      _0x3d01eb = [];
      _0x1694a6 = [];
      _0x4c0dec = [];
      _0x1cd51e.forEach(function (_0x5369d6) {
        const _0x10a539 = _0x5369d6.shadowMap;
        if (!_0x10a539 || _0x5369d6.show === false) {
          return;
        }
        _0x4c0dec.push(_0x5369d6);
        _0x217254.push(_0x10a539._lightPositionEC);
        _0x22a14a.push(_0x10a539._shadowMapMatrix);
        const _0x2b7e4a = _0x10a539._isPointVisibility ? _0x10a539._pointBias : _0x10a539._primitiveBias;
        _0xe0bf28.push(Cesium__namespace.Cartesian4.fromElements(1 / _0x10a539._textureSize.x, 1 / _0x10a539._textureSize.y, _0x2b7e4a.depthBias, _0x2b7e4a.normalShadingSmooth));
        _0x3d01eb.push(new Cesium__namespace.Cartesian2(_0x10a539._darkness, _0x5369d6._visibility_type));
        _0x1694a6.push(_0x5369d6.style.radius);
      });
    }
    _0x29b773();
    if (_0x4c0dec.length === 0) {
      return;
    }
    const _0x55a5e0 = _0x4c0dec[0];
    const _0x45b4e1 = {
      lightPositionEC: () => {
        _0x29b773();
        return _0x217254;
      },
      shadowMapMatrix: () => {
        return _0x22a14a;
      },
      shadowMapTexelSizeDepthBiasAndNormalShadingSmooth: () => {
        return _0xe0bf28;
      },
      shadowMapDarknessType: () => {
        return _0x3d01eb;
      },
      mars3d_distance: () => {
        return _0x1694a6;
      },
      mars3d_opacity: () => {
        return _0x55a5e0.opacity;
      },
      mars3d_visibleAreaColor: () => {
        return _0x55a5e0.visibleAreaColor;
      },
      mars3d_hiddenAreaColor: () => {
        return _0x55a5e0.hiddenAreaColor;
      }
    };
    const {
      uniformShader: _0x138a5e,
      shadowVisibilityShader: _0x5afd8b
    } = getVisibilityShadowMaps(_0x4c0dec, _0x45b4e1);
    let _0x5b4153 = MultipleVisibilityShader.replace("LightNumVlaue", _0x4c0dec.length);
    _0x5b4153 = _0x5b4153.replace("LightShadowMapsShader", _0x138a5e);
    _0x5b4153 = _0x5b4153.replace("ShadowVisibilityShader", _0x5afd8b);
    const _0x56f306 = new Cesium__namespace.PostProcessStage({
      sampleMode: Cesium__namespace.PostProcessStageSampleMode.NEAREST,
      fragmentShader: _0x5b4153,
      uniforms: _0x45b4e1
    });
    return _0x56f306;
  }
  function getVisibilityShadowMaps(_0x23b611, _0x1559c3) {
    let _0x344fec = "";
    let _0x570f16 = "";
    _0x23b611.forEach((_0x1b95e3, _0x574418) => {
      switch (_0x1b95e3._visibility_type) {
        case 1:
          _0x344fec += "uniform samplerCube lightShadowMapCube" + _0x574418 + ";\n";
          _0x570f16 += "\n        int pointLightVisibility" + _0x574418 + " = getPointVisibility(normalEC, positionEC, " + _0x574418 + ", lightShadowMapCube" + _0x574418 + ");\n        if(pointLightVisibility" + _0x574418 + " == 1) {\n          inside += 1;\n        } else if (pointLightVisibility" + _0x574418 + " == 0) {\n          visibility += 1;\n        }\n        ";
          _0x1559c3["lightShadowMapCube" + _0x574418] = () => {
            return _0x1b95e3.shadowMap._shadowMapTexture;
          };
          break;
        case 2:
          _0x344fec += "uniform sampler2D lightShadowMap2D" + _0x574418 + ";\n";
          _0x570f16 += "\n        int frustumVisibility" + _0x574418 + " = getFrustumVisibility(normalEC, positionEC, " + _0x574418 + ", lightShadowMap2D" + _0x574418 + ");\n        if(frustumVisibility" + _0x574418 + " == 1) {\n          inside += 1;\n        } else if (frustumVisibility" + _0x574418 + " == 0) {\n          visibility += 1;\n        }\n        ";
          _0x1559c3["lightShadowMap2D" + _0x574418] = () => {
            return _0x1b95e3.shadowMap._shadowMapTexture;
          };
          break;
      }
    });
    const _0x43181a = {
      uniformShader: _0x344fec,
      shadowVisibilityShader: _0x570f16
    };
    return _0x43181a;
  }
  const DEF_STYLE$1 = {
    angle: 60,
    angle2: 45,
    radius: 1,
    opacity: 0.6,
    showFrustum: false
  };
  class ConeVisibility extends PointVisibility {
    constructor(_0x3f3009 = {}, _0x11e4a3 = true) {
      if (_0x11e4a3) {
        _0x3f3009.style = {
          ...DEF_STYLE$1,
          ...(_0x3f3009.style || {})
        };
      }
      super(_0x3f3009);
      this._visibility_type = 2;
    }
    get angle() {
      return this.style.angle;
    }
    set angle(_0x4dc3ad) {
      this.style.angle = _0x4dc3ad;
      this._updateDraw();
    }
    get angle2() {
      return this.style.angle2 ?? this.style.angle;
    }
    set angle2(_0x12f52b) {
      this.style.angle2 = _0x12f52b;
      this._updateDraw();
    }
    get targetPosition() {
      return this.options.targetPosition;
    }
    set targetPosition(_0x3d3c0c) {
      this.options.targetPosition = _0x3d3c0c;
      if (!this._map) {
        return;
      }
      const _0x2abe87 = this.position;
      if (!_0x2abe87) {
        return;
      }
      const _0x36dcac = LngLatPoint.toCartesian(_0x3d3c0c, this._map?.currentTime);
      this.style.radius = Cesium__namespace.Cartesian3.distance(_0x2abe87, _0x36dcac);
      const _0x424435 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x36dcac, _0x2abe87, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x1499d5 = Cesium__namespace.Cartesian3.normalize(_0x2abe87, new Cesium__namespace.Cartesian3());
      const _0x5a5631 = new Cesium__namespace.Camera(this._map.scene);
      _0x5a5631.position = _0x2abe87;
      _0x5a5631.direction = _0x424435;
      _0x5a5631.up = _0x1499d5;
      this.style.heading = Cesium__namespace.Math.toDegrees(_0x5a5631.heading) - 90;
      this.style.pitch = Cesium__namespace.Math.toDegrees(_0x5a5631.pitch);
      this._shadowMap = this._createShadowMap();
      if (this._position) {
        this._updatePositionsHook();
      }
      this._updateDraw();
    }
    _mountedHook() {
      if (this.options.targetPosition) {
        this.targetPosition = this.options.targetPosition;
      }
      super._mountedHook();
    }
    _updatePositionsHook() {
      let _0x6a84c5 = this._position;
      if (this._camera && _0x6a84c5) {
        const _0x57e44c = this.getAddHeight();
        if (Cesium__namespace.defined(_0x57e44c)) {
          _0x6a84c5 = addPositionsHeight(_0x6a84c5, _0x57e44c);
        }
        this._camera.position = _0x6a84c5;
        this._camera.frustum.fov = Cesium__namespace.Math.toRadians(this.angle * 2);
        this._camera.frustum.aspectRatio = this.angle / this.angle2;
        this._camera.frustum.far = this.style.radius;
        const _0x18eda1 = Cesium__namespace.HeadingPitchRoll.fromDegrees(this.heading + 90, this.pitch, this.roll);
        const _0x3ae6e5 = {
          heading: _0x18eda1.heading,
          pitch: _0x18eda1.pitch,
          roll: _0x18eda1.roll
        };
        const _0x34873e = {
          destination: _0x6a84c5,
          orientation: _0x3ae6e5
        };
        this._camera.setView(_0x34873e);
      }
    }
    _createShadowMap() {
      this._camera = new Cesium__namespace.Camera(this._map.scene);
      this._camera.frustum.aspectRatio = this.angle / this.angle2;
      this._camera.frustum.fov = Cesium__namespace.Math.toRadians(this.angle * 2);
      this._camera.frustum.near = 0.01;
      this._camera.frustum.far = this.style.radius;
      const _0x45c76d = {
        lightCamera: this._camera,
        enable: false,
        darkness: 1,
        isPointLight: false,
        isSpotLight: true,
        cascadesEnabled: false,
        context: this._map.scene.context,
        pointLightRadius: this.style.radius,
        fromLightSource: false,
        depthBiasStep: this.options.depthBiasStep ?? 10
      };
      return new Cesium__namespace.ShadowMap(_0x45c76d);
    }
    _updateOutlineFrustum() {
      if (this._outlineFrustumGraphic) {
        this._layer.removeGraphic(this._outlineFrustumGraphic, true);
        delete this._outlineFrustumGraphic;
      }
      if (!this.position || !this.style.showFrustum) {
        return;
      }
      this._outlineFrustumGraphic = new ArcFrustum({
        modelMatrix: this._camera.inverseViewMatrix,
        style: {
          angle: this.angle,
          angle2: this.angle2,
          distance: this.style.radius + 1
        },
        show: this.style.showFrustum && this.show,
        private: true
      });
      this._layer.addGraphic(this._outlineFrustumGraphic);
    }
    _updateMouseDraw(_0x9d27d8) {
      const _0x48799d = Cesium__namespace.Cartesian3.distance(this.position, _0x9d27d8);
      if (_0x48799d > this._maximumDistance) {
        _0x9d27d8 = getOnLinePointByLen(this.position, _0x9d27d8, this._maximumDistance);
      }
      this.targetPosition = _0x9d27d8;
      this._shadowMap = this._createShadowMap();
      if (this._position) {
        this._updatePositionsHook();
      }
    }
  }
  register$5("coneVisibility", ConeVisibility, true);
  class SkylineBody extends PolygonPrimitive {
    get position() {
      if (this._position) {
        return this._position;
      }
      if (this.property) {
        var _0x46d4ec;
        return this.property.getValue((_0x46d4ec = this._map) === null || _0x46d4ec === undefined || (_0x46d4ec = _0x46d4ec.clock) === null || _0x46d4ec === undefined ? undefined : _0x46d4ec.currentTime);
      }
    }
    set position(_0x598daf) {
      var _0x4cda99;
      this._point = LngLatPoint.parse(_0x598daf);
      this._position = (_0x4cda99 = this._point) === null || _0x4cda99 === undefined ? undefined : _0x4cda99.toCartesian();
      if (this._getRectangle_cache) {
        delete this._getRectangle_cache;
      }
      this.fire(EventType.updatePosition, {
        position: this._position
      });
    }
    _addedHook(_0x43a9cb) {
      this.style.extrudedHeight = this.style.extrudedHeight ?? 0;
      this._positions = this._getPositions();
      return super._addedHook(_0x43a9cb);
    }
    _getPositions() {
      const _0x5df98e = this.options.splitNum ?? 512;
      const _0x2c91e4 = {
        scene: this._map.scene,
        splitNum: _0x5df98e
      };
      const _0x369b56 = getRayIntersectingPositions$2(_0x2c91e4);
      const _0x199083 = this.position ?? this._map.scene.camera.position;
      const _0x5b8d68 = [_0x199083];
      for (let _0x2e2282 = _0x5df98e - 1; _0x2e2282 >= 0; _0x2e2282--) {
        for (let _0x5b7186 = _0x5df98e - 1; _0x5b7186 >= 0; _0x5b7186--) {
          const _0x559164 = _0x369b56[_0x2e2282][_0x5b7186];
          if (_0x559164) {
            _0x5b8d68.push(_0x559164);
            break;
          }
        }
      }
      _0x5b8d68.push(_0x199083);
      return _0x5b8d68;
    }
  }
  register$5("skylineBody", SkylineBody);
  var ViewDomeMaterial = "uniform samplerCube u_shadowMapCube;\nuniform vec4 u_shadowMapTSDBANSS;\nuniform float u_shadowMapDarkness;\nuniform vec4 u_lightPositionEC;\n\nstruct mars3d_shadowParameters {\n  vec3 texCoordsCube;\n  float depthBias;\n  float depth;\n  float nDotL;\n  vec2 texelStepSize;\n  float normalShadingSmooth;\n  float darkness;\n};\n\nfloat shadowVisibilityCube(samplerCube shadowMap, mars3d_shadowParameters shadowParameters) {\n  float depthBias = shadowParameters.depthBias;\n  float depth = shadowParameters.depth;\n  float nDotL = shadowParameters.nDotL;\n  float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n  float darkness = shadowParameters.darkness;\n  vec3 uvw = shadowParameters.texCoordsCube;\n\n  depth -= depthBias;\n  return czm_shadowDepthCompare(shadowMap, uvw, depth);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n  czm_material material = czm_getDefaultMaterial(materialInput);\n\n  vec3 positionEC = materialInput.positionToEyeEC;\n  vec3 pointToLightEC = positionEC - u_lightPositionEC.xyz;\n  float pointToLightECLength = length(pointToLightEC);\n  vec3 l = normalize(pointToLightEC);\n\n  mars3d_shadowParameters shadowParameters;\n  shadowParameters.texelStepSize = u_shadowMapTSDBANSS.xy;\n  shadowParameters.depthBias = u_shadowMapTSDBANSS.z;\n  shadowParameters.normalShadingSmooth = u_shadowMapTSDBANSS.w;\n  shadowParameters.darkness = u_shadowMapDarkness;\n  shadowParameters.depth = pointToLightECLength / u_radius;\n  shadowParameters.texCoordsCube = czm_inverseViewRotation * l;\n  float visibility = shadowVisibilityCube(u_shadowMapCube, shadowParameters);\n\n  if(visibility == 1.0) {\n    material.diffuse = u_visibleColor.rgb;\n    material.alpha = u_visibleColor.a;\n  } else {\n    material.diffuse = u_hiddenColor.rgb;\n    material.alpha = u_hiddenColor.a;\n  }\n  return material;\n}\n";
  var ViewDomeVS = "in vec3 position3DHigh;\nin vec3 position3DLow;\nin float batchId;\n\nout vec3 v_positionEC;\n\nvoid main() {\n  vec4 p = czm_computePosition();\n  v_positionEC = (czm_modelViewRelativeToEye * p).xyz;\n  gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n";
  var ViewDomeFS = "in vec3 v_positionEC;\nuniform float globalAlpha;\n\nvoid main() {\n  czm_materialInput materialInput;\n  materialInput.positionToEyeEC = v_positionEC;\n  czm_material material = czm_getMaterial(materialInput);\n  out_FragColor = vec4(material.diffuse + material.emission, material.alpha * globalAlpha);\n}\n";
  const DEF_STYLE = {
    radius: 20,
    visibleColor: "rgba(0,183,239, 0.5)",
    hiddenColor: "rgba(227,108,9, 0.5)"
  };
  class ViewDome extends BasePointPrimitive {
    constructor(_0xe5100f = {}) {
      _0xe5100f.style = {
        ...DEF_STYLE,
        ..._0xe5100f.style
      };
      super(_0xe5100f);
      this._globalAlpha = 1;
    }
    get radius() {
      return this._shadowMap._pointLightRadius;
    }
    set radius(_0xc3a99f) {
      this._shadowMap._pointLightRadius = _0xc3a99f;
      this._appearance.material.uniforms.u_radius = _0xc3a99f;
      this._createPrimitive();
    }
    get visibleColor() {
      return this._appearance.material.uniforms.u_visibleColor;
    }
    set visibleColor(_0x1da6d5) {
      this._appearance.material.uniforms.u_visibleColor = getCesiumColor(_0x1da6d5);
    }
    get hiddenColor() {
      return this._appearance.material.uniforms.u_hiddenColor;
    }
    set hiddenColor(_0x5a330b) {
      this._appearance.material.uniforms.u_hiddenColor = getCesiumColor(_0x5a330b);
    }
    _updatePositionsHook() {
      const _0x15522d = this.position;
      this._camera.position = LngLatPoint.toCartesian(_0x15522d);
      this._camera.up = Cesium__namespace.Cartesian3.normalize(_0x15522d, new Cesium__namespace.Cartesian3());
      this._createPrimitive();
    }
    _addedHook(_0x7170ca) {
      if (!this.show || !this.position) {
        return;
      }
      const _0x29529a = this._map.scene;
      const _0x88e83d = this.position;
      this._camera = new Cesium__namespace.Camera(_0x29529a);
      this._camera.position = _0x88e83d;
      this._camera.up = Cesium__namespace.Cartesian3.normalize(_0x88e83d, new Cesium__namespace.Cartesian3());
      this._shadowMap = new Cesium__namespace.ShadowMap({
        lightCamera: this._camera,
        enable: false,
        darkness: 1,
        isPointLight: true,
        isSpotLight: false,
        cascadesEnabled: false,
        context: _0x29529a.context,
        pointLightRadius: this.style.radius,
        fromLightSource: false,
        depthBiasStep: this.options.depthBiasStep ?? 1
      });
      const _0x1a4a12 = new Cesium__namespace.Material({
        fabric: {
          type: "ViewDomeMaterial",
          uniforms: {
            u_visibleColor: getCesiumColor(this.style.visibleColor),
            u_hiddenColor: getCesiumColor(this.style.hiddenColor),
            u_radius: this.style.radius
          },
          source: ViewDomeMaterial
        }
      });
      _0x1a4a12._uniforms.u_shadowMapCube = () => {
        if (this._shadowMap._shadowMapTexture) {
          return this._shadowMap._shadowMapTexture;
        }
        return _0x29529a.context.defaultTexture;
      };
      _0x1a4a12._uniforms.u_shadowMapTSDBANSS = () => {
        return Cesium__namespace.Cartesian4.fromElements(1 / this._shadowMap._textureSize.x, 1 / this._shadowMap._textureSize.y, this._shadowMap._pointBias.depthBias, this._shadowMap._pointBias.normalShadingSmooth);
      };
      _0x1a4a12._uniforms.u_shadowMapDarkness = () => {
        return this._shadowMap._darkness;
      };
      _0x1a4a12._uniforms.u_lightPositionEC = () => {
        return this._shadowMap._lightPositionEC;
      };
      _0x1a4a12._uniforms.globalAlpha = () => {
        return this._globalAlpha;
      };
      const _0x41c947 = {
        flat: true,
        material: _0x1a4a12,
        vertexShaderSource: ViewDomeVS,
        fragmentShaderSource: ViewDomeFS
      };
      this._appearance = new Cesium__namespace.MaterialAppearance(_0x41c947);
      this._createPrimitive();
      this.primitiveCollection.add(this);
      if (this._availability) {
        this._updateAvailabilityHook(this._availability);
      }
    }
    _createPrimitive() {
      this._primitive = new Cesium__namespace.Primitive({
        geometryInstances: new Cesium__namespace.GeometryInstance({
          geometry: new Cesium__namespace.SphereGeometry({
            vertexFormat: Cesium__namespace.PerInstanceColorAppearance.VERTEX_FORMAT,
            radius: this.style.radius
          }),
          modelMatrix: Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this.position)
        }),
        appearance: this._appearance,
        asynchronous: false
      });
    }
    _removedHook() {
      if (this.primitiveCollection && this.primitiveCollection.contains(this)) {
        this._noDestroy = true;
        this.primitiveCollection.remove(this);
        this._noDestroy = false;
      }
      delete this._modelMatrix;
    }
    update(_0x2484f9) {
      if (!this.getRealShow(_0x2484f9.time)) {
        return;
      }
      _0x2484f9.shadowMaps.push(this._shadowMap);
      this._primitive.update(_0x2484f9);
    }
    setOpacity(_0x1aaaf5) {
      this._globalAlpha = _0x1aaaf5;
    }
    _getDrawEntityClass(_0x52ea1c, _0x55a19a) {
      return this._getDrawPointEntityClass(_0x52ea1c, _0x55a19a);
    }
  }
  register$5("viewDome", ViewDome, true);
  const _0x208832 = {
    __proto__: null,
    BaseGraphic: BaseGraphic,
    GroupGraphic: GroupGraphic,
    BaseEntity: BaseEntity,
    BasePointEntity: BasePointEntity,
    BasePolyEntity: BasePolyEntity,
    BasePrimitive: BasePrimitive,
    BasePointPrimitive: BasePointPrimitive,
    BasePolyPrimitive: BasePolyPrimitive,
    PointEntity: PointEntity,
    BillboardEntity: BillboardEntity,
    FontBillboardEntity: FontBillboardEntity,
    DivBillboardEntity: DivBillboardEntity,
    LabelEntity: LabelEntity,
    CanvasLabelEntity: CanvasLabelEntity,
    ModelEntity: ModelEntity,
    BoxEntity: BoxEntity,
    PlaneEntity: PlaneEntity,
    CircleEntity: CircleEntity,
    CylinderEntity: CylinderEntity,
    ConeTrack: ConeTrack,
    EllipsoidEntity: EllipsoidEntity,
    PolylineEntity: PolylineEntity,
    CurveEntity: CurveEntity,
    BrushLineEntity: BrushLineEntity,
    PolylineVolumeEntity: PolylineVolumeEntity,
    PathEntity: PathEntity,
    CorridorEntity: CorridorEntity,
    WallEntity: WallEntity,
    RectangleEntity: RectangleEntity,
    PolygonEntity: PolygonEntity,
    EllipseEntity: EllipseEntity,
    RectangularSensor: RectangularSensor,
    Video2D: Video2D,
    PitEntity: PitEntity,
    AttackArrow: AttackArrow,
    AttackArrowPW: AttackArrowPW,
    AttackArrowYW: AttackArrowYW,
    CloseVurve: CloseVurve,
    DoubleArrow: DoubleArrow,
    FineArrow: FineArrow,
    FineArrowYW: FineArrowYW,
    GatheringPlace: GatheringPlace,
    IsosTriangle: IsosTriangle,
    Lune: Lune,
    Regular: Regular,
    Sector: Sector,
    StraightArrow: StraightArrow,
    ParallelogramEntity: ParallelogramEntity,
    PointMeasure: PointMeasure,
    DistanceMeasure: DistanceMeasure,
    DistanceSurfaceMeasure: DistanceSurfaceMeasure,
    SectionMeasure: SectionMeasure,
    AngleMeasure: AngleMeasure,
    HeightMeasure: HeightMeasure,
    HeightTriangleMeasure: HeightTriangleMeasure,
    AreaMeasure: AreaMeasure,
    AreaSurfaceMeasure: AreaSurfaceMeasure,
    VolumeMeasure: VolumeMeasure,
    VolumeDepthMeasure: VolumeDepthMeasure,
    PointPrimitive: PointPrimitive,
    BillboardPrimitive: BillboardPrimitive,
    DivBillboardPrimitive: DivBillboardPrimitive,
    BillboardIndicator: BillboardIndicator,
    CloudPrimitive: CloudPrimitive,
    LabelPrimitive: LabelPrimitive,
    ModelPrimitive: ModelPrimitive,
    CirclePrimitive: CirclePrimitive,
    PlanePrimitive: PlanePrimitive,
    BoxPrimitive: BoxPrimitive,
    CylinderPrimitive: CylinderPrimitive,
    ConeTrackPrimitive: ConeTrackPrimitive,
    EllipsoidPrimitive: EllipsoidPrimitive,
    PolylinePrimitive: PolylinePrimitive,
    WallPrimitive: WallPrimitive,
    CorridorPrimitive: CorridorPrimitive,
    PolylineVolumePrimitive: PolylineVolumePrimitive,
    RectanglePrimitive: RectanglePrimitive,
    PolygonPrimitive: PolygonPrimitive,
    FrustumPrimitive: FrustumPrimitive,
    ParallelogramPrimitive: ParallelogramPrimitive,
    LightCone: LightCone,
    Water: Water,
    Mask: Mask,
    DiffuseWall: DiffuseWall,
    ScrollWall: ScrollWall,
    ThickWall: ThickWall,
    DynamicRiver: DynamicRiver,
    Road: Road,
    Pit: Pit,
    DoubleSidedPlane: DoubleSidedPlane,
    ReflectionWater: ReflectionWater,
    VideoPrimitive: VideoPrimitive,
    BaseCombine: BaseCombine,
    BasePointCombine: BasePointCombine,
    BasePolyCombine: BasePolyCombine,
    FlatBillboard: FlatBillboard,
    PlaneCombine: PlaneCombine,
    BoxCombine: BoxCombine,
    CircleCombine: CircleCombine,
    CylinderCombine: CylinderCombine,
    FrustumCombine: FrustumCombine,
    EllipsoidCombine: EllipsoidCombine,
    PolylineCombine: PolylineCombine,
    PolylineVolumeCombine: PolylineVolumeCombine,
    CorridorCombine: CorridorCombine,
    WallCombine: WallCombine,
    PolygonCombine: PolygonCombine,
    WaterCombine: WaterCombine,
    RectangleCombine: RectangleCombine,
    DivGraphic: DivGraphic,
    DivBoderLabel: DivBoderLabel,
    DivLightPoint: DivLightPoint,
    DivUpLabel: DivUpLabel,
    Popup: Popup,
    Tooltip: Tooltip,
    DivPlane: DivPlane,
    DivGif: DivGif,
    ParticleSystem: ParticleSystem,
    ArcFrustum: ArcFrustum,
    Tetrahedron: Tetrahedron,
    ViewShed: ViewShed,
    Video3D: Video3D,
    Route: Route,
    FixedRoute: FixedRoute,
    PointLight: PointLight,
    SpotLight: SpotLight,
    VolumeCloud: VolumeCloud,
    PointVisibility: PointVisibility,
    ConeVisibility: ConeVisibility,
    SkylineBody: SkylineBody,
    ViewDome: ViewDome
  };
  var index$7 = _0x208832;
  class EditTileset extends EditBase {
    get position() {
      return this._graphic.position;
    }
    set position(_0x21b3ea) {
      this._graphic.position = _0x21b3ea;
    }
    get layer() {
      return this._graphic;
    }
    get style() {
      return this._graphic.options;
    }
    bindDraggers() {
      this.createDragger({
        dragger: this._graphic,
        onDrag: (_0x155e32, _0x493fd3) => {
          this._graphic.position = _0x493fd3;
        }
      });
    }
    finish() {
      delete this._graphic._draw_tooltip;
      delete this._graphic._isDragger;
      delete this._graphic._noMousePick;
      delete this._graphic._pointType;
      delete this._graphic.onDrag;
    }
    _onLeftDownHandler(_0x4818d9) {
      var _0x2a71c3;
      const _0x153121 = this._map.mouseEvent.getPickTarget(_0x4818d9.position, _0x4818d9);
      if (_0x153121.layer === this.layer) {
        const _0x1403b1 = _0x153121?.layer;
        if (!_0x1403b1._isDragger) {
          return;
        }
        _0x1403b1._closeAllControl();
        this._draggerIng = _0x1403b1;
      } else if ((_0x2a71c3 = _0x4818d9.graphic) !== null && _0x2a71c3 !== undefined && _0x2a71c3._isDragger) {
        return;
      } else {
        return;
      }
      if (this._map.scene.screenSpaceCameraController.enableInputs) {
        this._map.scene.screenSpaceCameraController.enableInputs = false;
        this._hasChangeEnableInputs = true;
      }
      this._map._setEditCursor(true);
      const _0x14caf6 = {
        ..._0x4818d9,
        ..._0x153121
      };
      this.fire(EventType.editMouseDown, _0x14caf6);
    }
    _onMouseMoveDraggerHandler(_0x37d50c) {
      this._map.openSmallTooltip(_0x37d50c.endPosition, this._map.getLangText("_释放后完成修改"));
      const _0xf1b901 = getCurrentMouseTerrainPosition(this._map.scene, _0x37d50c.endPosition);
      if (_0xf1b901) {
        if (this._draggerIng.onDrag) {
          this._draggerIng.onDrag(this._draggerIng, _0xf1b901);
        }
      }
      const _0x3a23c3 = {
        ..._0x37d50c
      };
      _0x3a23c3.cartesian = _0xf1b901;
      _0x3a23c3.windowPosition = _0x37d50c.endPosition;
      this.fire(EventType.editMouseMove, _0x3a23c3);
    }
    _onMouseMoveMapHandler(_0x4f169d) {
      var _0x28b48e;
      const _0x536b4a = this._map.mouseEvent.getPickTarget(_0x4f169d.endPosition, _0x4f169d);
      if (_0x536b4a.layer === this.layer) {
        const _0x490ccd = _0x536b4a?.layer;
        if (!_0x490ccd._isDragger) {
          return;
        }
        if (this._map.contextmenu.show && this._map.contextmenu.target === _0x490ccd) {
          return;
        }
        const _0x58aac5 = _0x490ccd._draw_tooltip;
        if (!_0x58aac5) {
          return;
        }
        this._map.openSmallTooltip(_0x4f169d.endPosition, _0x58aac5);
      } else if ((_0x28b48e = _0x4f169d.graphic) !== null && _0x28b48e !== undefined && _0x28b48e._isDragger) {
        this._map.closeSmallTooltip();
      } else {
        this._map.closeSmallTooltip();
      }
    }
    getDraggerContextMenu(_0x51364d) {
      const _0x368489 = super.getDraggerContextMenu(_0x51364d);
      if (this.options.hasEditRotate ?? true) {
        _0x368489.push({
          text: this._map.getLangText("_按轴旋转"),
          icon: Icon.BloomEffectYes,
          show: _0x3c08a3 => {
            return !this._matrixRotate || this._matrixRotate._dragger_index !== _0x51364d.index;
          },
          callback: _0x33ad66 => {
            var _0x556470;
            const _0x16cee5 = (_0x556470 = _0x33ad66.graphic) !== null && _0x556470 !== undefined && _0x556470.position ? _0x33ad66.graphic : _0x33ad66.layer;
            this.startRotateMatrix(_0x16cee5, _0x33ad66);
          }
        });
        _0x368489.push({
          text: this._map.getLangText("_停止按轴旋转"),
          icon: Icon.BloomEffectNo,
          show: _0x2a4211 => {
            return this._matrixRotate && this._matrixRotate._dragger_index === _0x51364d.index;
          },
          callback: _0x5649d5 => {
            this.stopRotateMatrix();
          }
        });
      }
      return _0x368489;
    }
    startRotateMatrix(_0x5bc338, _0x3c853b) {
      if (!_0x5bc338) {
        _0x5bc338 = this.layer;
      }
      this.stopMoveMatrix();
      this.stopRotateMatrix();
      this._matrixRotate = new MatrixRotate({
        map: this._map,
        position: _0x5bc338.position,
        roll: _0x5bc338.rotation_x,
        pitch: _0x5bc338.rotation_y,
        heading: _0x5bc338.rotation_z
      });
      this._map.addThing(this._matrixRotate);
      this._matrixRotate.on(EventType.change, _0x41aa6a => {
        _0x5bc338.rotation = {
          x: formatNum$1(_0x41aa6a.roll, 2),
          y: formatNum$1(_0x41aa6a.pitch, 2),
          z: formatNum$1(_0x41aa6a.heading, 2)
        };
      });
      _0x5bc338.off(EventType.updatePosition, this._updateMatrixMovePosition, this);
      _0x5bc338.off(EventType.updatePosition, this._updateMatrixRotatePosition, this);
      _0x5bc338.on(EventType.updatePosition, this._updateMatrixRotatePosition, this);
    }
  }
  const _0x4188e0 = {
    __proto__: null,
    EditBase: EditBase,
    EditBox: EditBox,
    EditCircle: EditCircle,
    EditCorridor: EditCorridor,
    EditCylinder: EditCylinder,
    EditEllipsoid: EditEllipsoid,
    EditModel: EditModel,
    EditPlane: EditPlane,
    EditPoint: EditPoint,
    EditPoly: EditPoly,
    EditPolygon: EditPolygon,
    EditPolygonGrid: EditPolygonGrid,
    EditPolylineVolume: EditPolylineVolume,
    EditRectangle: EditRectangle,
    EditTileset: EditTileset,
    EditVideo2D: EditVideo2D,
    EditWall: EditWall,
    EditDivGraphic: EditDivGraphic
  };
  var index$6 = _0x4188e0;
  class XyzImageryProvider extends Cesium__namespace.UrlTemplateImageryProvider {
    constructor(_0x622e98 = {}) {
      _0x622e98.customTags = _0x622e98.customTags || {};
      _0x622e98.customTags.host = function (_0x14034b, _0x5b39cd, _0x1d9000, _0x38d776) {
        return location.host;
      };
      _0x622e98.customTags.hostname = function (_0x54d4a3, _0x186d58, _0x4f511a, _0x386c05) {
        return location.hostname;
      };
      _0x622e98.customTags.z4490 = function (_0x458d52, _0x52bce0, _0x680f71, _0x4209fd) {
        return _0x4209fd + 1;
      };
      if (!_0x622e98.crs || _0x622e98.crs === CRS.EPSG3857) {
        _0x622e98.customTags.scale = function (_0x51c3ce, _0x5d286d, _0x222314, _0xf3dc87) {
          return scales_EPSG3857[_0xf3dc87];
        };
        _0x622e98.customTags.origin = function (_0x35bfed, _0xd6f137, _0x1fd82f, _0x1082ce) {
          return "{\"x\":-20037508.342789248,\"y\":20037508.342789095}";
        };
      } else {
        _0x622e98.customTags.scale = function (_0x1cd42d, _0x7f05b5, _0x348e65, _0x241437) {
          return scales_EPSG4326[_0x241437];
        };
        _0x622e98.customTags.origin = function (_0x28fdfb, _0x1cccde, _0xde34b7, _0x2ce17e) {
          return "{\"x\":-180,\"y\":90}";
        };
      }
      super(_0x622e98);
      this.options = _0x622e98;
    }
  }
  const scales_EPSG4326 = [3.38032714321e-9, 6.76065428641e-9, 1.352130857282e-8, 2.704261714564e-8, 5.408523429128e-8, 1.0817046858257e-7, 2.1634093716514e-7, 4.3268187433028e-7, 8.6536374866056e-7, 0.00000173072749732112, 0.00000346145499464224, 0.00000692290998928448, 0.000013845819978568952, 0.000027691639957137904, 0.00005538327991427581, 0.00011076655982855162, 0.00022153311965710323, 0.00044306623931420646, 0.0008861324786284129, 0.0017722649572568258, 0.0035445299145136517, 0.007089059829027303];
  const scales_EPSG3857 = [1.6901635716e-9, 3.38032714321e-9, 6.76065428641e-9, 1.352130857282e-8, 2.704261714564e-8, 5.408523429128e-8, 1.0817046858257e-7, 2.1634093716514e-7, 4.3268187433028e-7, 8.6536374866056e-7, 0.00000173072749732112, 0.00000346145499464224, 0.00000692290998928448, 0.000013845819978568952, 0.000027691639957137904, 0.00005538327991427581, 0.00011076655982855162, 0.00022153311965710323, 0.00044306623931420646, 0.0008861324786284129, 0.0017722649572568258, 0.0035445299145136517, 0.007089059829027303];
  class TdtImageryProvider extends Cesium__namespace.WebMapTileServiceImageryProvider {
    constructor(_0x56af70 = {}) {
      let _0x35dba4 = _0x56af70.url || "https://t{s}.tianditu.gov.cn";
      let _0x3317b1;
      let _0x247d06 = 18;
      switch (_0x56af70.layer) {
        case "vec_d":
          _0x3317b1 = "vec";
          break;
        case "vec_z":
          _0x3317b1 = "cva";
          break;
        case "vec_e":
          _0x3317b1 = "eva";
          break;
        case "img_d":
          _0x3317b1 = "img";
          break;
        case "img_z":
          _0x3317b1 = "cia";
          break;
        case "img_e":
          _0x3317b1 = "eia";
          break;
        case "ter_d":
          _0x3317b1 = "ter";
          _0x247d06 = 14;
          break;
        case "ter_z":
          _0x3317b1 = "cta";
          _0x247d06 = 14;
          break;
        case "xzqh":
        case "ibo":
          _0x3317b1 = "ibo";
          _0x247d06 = 10;
          break;
        case "glc2000":
        case "glc2010":
        case "glc2020":
          _0x35dba4 = _0x56af70.url || "https://lcdata.tianditu.gov.cn";
          _0x3317b1 = _0x56af70.layer;
          break;
        default:
          _0x3317b1 = "vec";
          break;
      }
      if (_0x56af70.key == null || _0x56af70.key.length === 0) {
        _0x56af70.key = tiandituArr;
      }
      const _0x5d6909 = getArrayRandomOne(_0x56af70.key);
      let _0x546b3f;
      if (!_0x56af70.crs || _0x56af70.crs === CRS.EPSG3857) {
        _0x546b3f = _0x35dba4 + "/" + _0x3317b1 + "_w/wmts?service=WMTS&version=1.0.0&request=GetTile&tilematrix={TileMatrix}&layer=" + _0x3317b1 + "&style={style}&tilerow={TileRow}&tilecol={TileCol}&tilematrixset={TileMatrixSet}&format=tiles&tk=" + _0x5d6909;
        if (_0x56af70.proxy || _0x56af70.headers || _0x56af70.queryParameters) {
          _0x546b3f = getUrlResource({
            url: _0x546b3f.replace("{s}", "0"),
            proxy: _0x56af70.proxy,
            headers: _0x56af70.headers,
            queryParameters: _0x56af70.queryParameters
          });
        }
        _0x56af70 = {
          subdomains: ["0", "1", "2", "3", "4", "5", "6", "7"],
          maximumLevel: _0x56af70.maximumLevel ?? _0x247d06,
          tilingScheme: new Cesium__namespace.WebMercatorTilingScheme(),
          style: "default",
          format: "tiles",
          tileMatrixSetID: "w",
          tileMatrixLabels: [...Array(20).keys()].map(_0x286a3a => _0x286a3a.toString()),
          ..._0x56af70,
          url: _0x546b3f,
          layer: _0x3317b1
        };
      } else {
        _0x546b3f = _0x35dba4 + "/" + _0x3317b1 + "_c/wmts?service=WMTS&version=1.0.0&request=GetTile&tilematrix={TileMatrix}&layer=" + _0x3317b1 + "&style={style}&tilerow={TileRow}&tilecol={TileCol}&tilematrixset={TileMatrixSet}&format=tiles&tk=" + _0x5d6909;
        _0x247d06 = 17;
        if (_0x56af70.proxy || _0x56af70.headers || _0x56af70.queryParameters) {
          _0x546b3f = getUrlResource({
            url: _0x546b3f.replace("{s}", "0"),
            proxy: _0x56af70.proxy,
            headers: _0x56af70.headers,
            queryParameters: _0x56af70.queryParameters
          });
        }
        _0x56af70 = {
          subdomains: ["0", "1", "2", "3", "4", "5", "6", "7"],
          maximumLevel: _0x56af70.maximumLevel ?? _0x247d06,
          tilingScheme: new Cesium__namespace.GeographicTilingScheme(),
          style: "default",
          format: "tiles",
          tileMatrixSetID: "c",
          tileMatrixLabels: [...Array(20).keys()].map(_0x2fdbd4 => (_0x2fdbd4 + 1).toString()),
          ..._0x56af70,
          url: _0x546b3f,
          layer: _0x3317b1
        };
      }
      super(_0x56af70);
      this.options = _0x56af70;
    }
  }
  class GaodeImageryProvider extends XyzImageryProvider {
    constructor(_0x3a3d0b = {}) {
      let _0x5a025a;
      switch (_0x3a3d0b.layer) {
        case "vec":
          _0x5a025a = "https://" + (_0x3a3d0b.bigfont ? "wprd" : "webrd") + "0{s}.is.autonavi.com/appmaptile?lang=zh_cn&style=8&x={x}&y={y}&z={z}";
          break;
        case "img_d":
          _0x5a025a = "https://webst0{s}.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&style=6";
          break;
        case "img_z":
          _0x5a025a = "https://webst0{s}.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&style=8";
          break;
        case "time":
          {
            const _0x44b701 = new Date().getTime();
            _0x5a025a = "https://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&x={x}&y={y}&z={z}&&t=" + _0x44b701;
            break;
          }
        default:
          _0x5a025a = _0x3a3d0b.url;
          break;
      }
      if (_0x3a3d0b.proxy || _0x3a3d0b.headers || _0x3a3d0b.queryParameters) {
        _0x5a025a = getUrlResource({
          url: _0x5a025a.replace("{s}", "1"),
          proxy: _0x3a3d0b.proxy,
          headers: _0x3a3d0b.headers,
          queryParameters: _0x3a3d0b.queryParameters
        });
      }
      const _0x2ea6c4 = {
        subdomains: ["1", "2", "3", "4"],
        maximumLevel: 18,
        ..._0x3a3d0b
      };
      _0x2ea6c4.url = _0x5a025a;
      super(_0x2ea6c4);
    }
  }
  const EARTH_RADIUS = 6370996.81;
  const MC_BAND = [12890594.86, 8362377.87, 5591021, 3481989.83, 1678043.12, 0];
  const LL_BAND = [75, 60, 45, 30, 15, 0];
  const MC2LL = [[1.410526172116255e-8, 0.00000898305509648872, -1.9939833816331, 200.9824383106796, -187.2403703815547, 91.6087516669843, -23.38765649603339, 2.57121317296198, -0.03801003308653, 17337981.2], [-7.435856389565537e-9, 0.000008983055097726239, -0.78625201886289, 96.32687599759846, -1.85204757529826, -59.36935905485877, 47.40033549296737, -16.50741931063887, 2.28786674699375, 10260144.86], [-3.030883460898826e-8, 0.00000898305509983578, 0.30071316287616, 59.74293618442277, 7.357984074871, -25.38371002664745, 13.45380521110908, -3.29883767235584, 0.32710905363475, 6856817.37], [-1.981981304930552e-8, 0.000008983055099779535, 0.03278182852591, 40.31678527705744, 0.65659298677277, -4.44255534477492, 0.85341911805263, 0.12923347998204, -0.04625736007561, 4482777.06], [3.09191371068437e-9, 0.000008983055096812155, 0.00006995724062, 23.10934304144901, -0.00023663490511, -0.6321817810242, -0.00663494467273, 0.03430082397953, -0.00466043876332, 2555164.4], [2.890871144776878e-9, 0.000008983055095805407, -3.068298e-8, 7.47137025468032, -0.00000353937994, -0.02145144861037, -0.00001234426596, 0.00010322952773, -0.00000323890364, 826088.5]];
  const LL2MC = [[-0.0015702102444, 111320.7020616939, 1704480524535203, -10338987376042340, 26112667856603880, -35149669176653700, 26595700718403920, -10725012454188240, 1800819912950474, 82.5], [0.0008277824516172526, 111320.7020463578, 647795574.6671607, -4082003173.641316, 10774905663.51142, -15171875531.51559, 12053065338.62167, -5124939663.577472, 913311935.9512032, 67.5], [0.00337398766765, 111320.7020202162, 4481351.045890365, -23393751.19931662, 79682215.47186455, -115964993.2797253, 97236711.15602145, -43661946.33752821, 8477230.501135234, 52.5], [0.00220636496208, 111320.7020209128, 51751.86112841131, 3796837.749470245, 992013.7397791013, -1221952.21711287, 1340652.697009075, -620943.6990984312, 144416.9293806241, 37.5], [-0.0003441963504368392, 111320.7020576856, 278.2353980772752, 2485758.690035394, 6070.750963243378, 54821.18345352118, 9540.606633304236, -2710.55326746645, 1405.483844121726, 22.5], [-0.0003218135878613132, 111320.7020701615, 0.00369383431289, 823725.6402795718, 0.46104986909093, 2351.343141331292, 1.58060784298199, 8.77738589078284, 0.37238884252424, 7.45]];
  class BaiduMercatorProjection {
    constructor() {
      this.isWgs84 = false;
    }
    getDistanceByMC(_0x4da65e, _0x43d4a0) {
      if (!_0x4da65e || !_0x43d4a0) {
        return 0;
      }
      _0x4da65e = this.convertMC2LL(_0x4da65e);
      if (!_0x4da65e) {
        return 0;
      }
      const _0x5ccbea = this.toRadians(_0x4da65e.lng);
      const _0x4b0e0b = this.toRadians(_0x4da65e.lat);
      _0x43d4a0 = this.convertMC2LL(_0x43d4a0);
      if (!_0x43d4a0) {
        return 0;
      }
      const _0x54b838 = this.toRadians(_0x43d4a0.lng);
      const _0x2e6ee8 = this.toRadians(_0x43d4a0.lat);
      return this.getDistance(_0x5ccbea, _0x54b838, _0x4b0e0b, _0x2e6ee8);
    }
    getDistanceByLL(_0x4baf15, _0x187bc0) {
      if (!_0x4baf15 || !_0x187bc0) {
        return 0;
      }
      _0x4baf15.lng = this.getLoop(_0x4baf15.lng, -180, 180);
      _0x4baf15.lat = this.getRange(_0x4baf15.lat, -74, 74);
      _0x187bc0.lng = this.getLoop(_0x187bc0.lng, -180, 180);
      _0x187bc0.lat = this.getRange(_0x187bc0.lat, -74, 74);
      const _0x281625 = this.toRadians(_0x4baf15.lng);
      const _0x2e42d8 = this.toRadians(_0x4baf15.lat);
      const _0x465336 = this.toRadians(_0x187bc0.lng);
      const _0x530a4f = this.toRadians(_0x187bc0.lat);
      return this.getDistance(_0x281625, _0x465336, _0x2e42d8, _0x530a4f);
    }
    convertMC2LL(_0x58bee6) {
      if (!_0x58bee6) {
        return {
          lng: 0,
          lat: 0
        };
      }
      let _0x1dc7fc = {};
      if (this.isWgs84) {
        _0x1dc7fc.lng = _0x58bee6.lng / 20037508.34 * 180;
        const _0x2d0003 = _0x58bee6.lat / 20037508.34 * 180;
        _0x1dc7fc.lat = 180 / Math.PI * (Math.atan(Math.exp(_0x2d0003 * Math.PI / 180)) * 2 - Math.PI / 2);
        return {
          lng: _0x1dc7fc.lng.toFixed(LngLatPoint.FormatLength),
          lat: _0x1dc7fc.lat.toFixed(LngLatPoint.FormatLength)
        };
      }
      const _0x1298c0 = {
        lng: Math.abs(_0x58bee6.lng),
        lat: Math.abs(_0x58bee6.lat)
      };
      let _0x558e83;
      for (let _0x2d9aea = 0; _0x2d9aea < MC_BAND.length; _0x2d9aea++) {
        if (_0x1298c0.lat >= MC_BAND[_0x2d9aea]) {
          _0x558e83 = MC2LL[_0x2d9aea];
          break;
        }
      }
      _0x1dc7fc = this.convertor(_0x58bee6, _0x558e83);
      return {
        lng: _0x1dc7fc.lng.toFixed(LngLatPoint.FormatLength),
        lat: _0x1dc7fc.lat.toFixed(LngLatPoint.FormatLength)
      };
    }
    convertLL2MC(_0x53760f) {
      if (!_0x53760f) {
        return {
          lng: 0,
          lat: 0
        };
      }
      if (_0x53760f.lng > 180 || _0x53760f.lng < -180 || _0x53760f.lat > 90 || _0x53760f.lat < -90) {
        return _0x53760f;
      }
      if (this.isWgs84) {
        const _0x1c7d0e = {};
        const _0x3e42dd = 6378137;
        _0x1c7d0e.lng = _0x53760f.lng * Math.PI / 180 * _0x3e42dd;
        const _0x120e34 = _0x53760f.lat * Math.PI / 180;
        _0x1c7d0e.lat = _0x3e42dd / 2 * Math.log((1 + Math.sin(_0x120e34)) / (1 - Math.sin(_0x120e34)));
        return {
          lng: parseFloat(_0x1c7d0e.lng.toFixed(2)),
          lat: parseFloat(_0x1c7d0e.lat.toFixed(2))
        };
      }
      _0x53760f.lng = this.getLoop(_0x53760f.lng, -180, 180);
      _0x53760f.lat = this.getRange(_0x53760f.lat, -74, 74);
      const _0x5ba838 = {
        lng: _0x53760f.lng,
        lat: _0x53760f.lat
      };
      const _0xc86815 = _0x5ba838;
      let _0x34869b;
      for (let _0x3e8c07 = 0; _0x3e8c07 < LL_BAND.length; _0x3e8c07++) {
        if (_0xc86815.lat >= LL_BAND[_0x3e8c07]) {
          _0x34869b = LL2MC[_0x3e8c07];
          break;
        }
      }
      if (!_0x34869b) {
        for (let _0x3bbfaa = 0; _0x3bbfaa < LL_BAND.length; _0x3bbfaa++) {
          if (_0xc86815.lat <= -LL_BAND[_0x3bbfaa]) {
            _0x34869b = LL2MC[_0x3bbfaa];
            break;
          }
        }
      }
      const _0x13d1ec = this.convertor(_0x53760f, _0x34869b);
      return {
        lng: parseFloat(_0x13d1ec.lng.toFixed(2)),
        lat: parseFloat(_0x13d1ec.lat.toFixed(2))
      };
    }
    convertor(_0x104b26, _0xd6f6d3) {
      if (!_0x104b26 || !_0xd6f6d3) {
        return {
          lng: 0,
          lat: 0
        };
      }
      let _0x57436c = _0xd6f6d3[0] + _0xd6f6d3[1] * Math.abs(_0x104b26.lng);
      const _0x3d8c48 = Math.abs(_0x104b26.lat) / _0xd6f6d3[9];
      let _0x5896bf = _0xd6f6d3[2] + _0xd6f6d3[3] * _0x3d8c48 + _0xd6f6d3[4] * _0x3d8c48 * _0x3d8c48 + _0xd6f6d3[5] * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 + _0xd6f6d3[6] * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 + _0xd6f6d3[7] * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 + _0xd6f6d3[8] * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 * _0x3d8c48 * _0x3d8c48;
      _0x57436c *= _0x104b26.lng < 0 ? -1 : 1;
      _0x5896bf *= _0x104b26.lat < 0 ? -1 : 1;
      const _0x18bc1e = {
        lng: _0x57436c,
        lat: _0x5896bf
      };
      return _0x18bc1e;
    }
    getDistance(_0x33fa45, _0x401a63, _0x517478, _0x15a88a) {
      return EARTH_RADIUS * Math.acos(Math.sin(_0x517478) * Math.sin(_0x15a88a) + Math.cos(_0x517478) * Math.cos(_0x15a88a) * Math.cos(_0x401a63 - _0x33fa45));
    }
    toRadians(_0xd3424c) {
      return Math.PI * _0xd3424c / 180;
    }
    toDegrees(_0x1a06c4) {
      return _0x1a06c4 * 180 / Math.PI;
    }
    getRange(_0x9d6ab3, _0x31b503, _0x33449c) {
      if (_0x31b503 != null) {
        _0x9d6ab3 = Math.max(_0x9d6ab3, _0x31b503);
      }
      if (_0x33449c != null) {
        _0x9d6ab3 = Math.min(_0x9d6ab3, _0x33449c);
      }
      return _0x9d6ab3;
    }
    getLoop(_0x485a49, _0x1dcc2e, _0x5caf4f) {
      while (_0x485a49 > _0x5caf4f) {
        _0x485a49 -= _0x5caf4f - _0x1dcc2e;
      }
      while (_0x485a49 < _0x1dcc2e) {
        _0x485a49 += _0x5caf4f - _0x1dcc2e;
      }
      return _0x485a49;
    }
    lngLatToMercator(_0x2ddad3) {
      return this.convertLL2MC(_0x2ddad3);
    }
    lngLatToPoint(_0x2aef7e) {
      const _0x578350 = this.convertLL2MC(_0x2aef7e);
      const _0x408fcb = {
        x: _0x578350.lng,
        y: _0x578350.lat
      };
      return _0x408fcb;
    }
    mercatorToLngLat(_0x2850a5) {
      return this.convertMC2LL(_0x2850a5);
    }
    pointToLngLat(_0x19a2ff) {
      const _0x511a5a = {
        lng: _0x19a2ff.x,
        lat: _0x19a2ff.y
      };
      const _0x39395a = _0x511a5a;
      return this.convertMC2LL(_0x39395a);
    }
    pointToPixel(_0x1ba338, _0x1487e1, _0x102218, _0x93655d) {
      if (!_0x1ba338) {
        return {
          x: 0,
          y: 0
        };
      }
      _0x1ba338 = this.lngLatToMercator(_0x1ba338);
      const _0x41bba7 = this.getZoomUnits(_0x1487e1);
      const _0x40b158 = Math.round((_0x1ba338.lng - _0x102218.lng) / _0x41bba7 + _0x93655d.width / 2);
      const _0x245e45 = Math.round((_0x102218.lat - _0x1ba338.lat) / _0x41bba7 + _0x93655d.height / 2);
      const _0x133025 = {
        x: _0x40b158,
        y: _0x245e45
      };
      return _0x133025;
    }
    pixelToPoint(_0x4f4143, _0x273708, _0x2fe398, _0x5e92d9) {
      if (!_0x4f4143) {
        return {
          lng: 0,
          lat: 0
        };
      }
      const _0x45eafe = this.getZoomUnits(_0x273708);
      const _0x6a19f = _0x2fe398.lng + _0x45eafe * (_0x4f4143.x - _0x5e92d9.width / 2);
      const _0x5243e9 = _0x2fe398.lat - _0x45eafe * (_0x4f4143.y - _0x5e92d9.height / 2);
      const _0x236f91 = {
        lng: _0x6a19f,
        lat: _0x5243e9
      };
      const _0x591b35 = _0x236f91;
      return this.mercatorToLngLat(_0x591b35);
    }
    getZoomUnits(_0x239273) {
      return Math.pow(2, 18 - _0x239273);
    }
  }
  class BaiduMercatorTilingScheme extends Cesium__namespace.WebMercatorTilingScheme {
    constructor(_0x3e2570) {
      super(_0x3e2570);
      const _0x3bc128 = _0x3e2570.mapChinaCRS || ChinaCRS.WGS84;
      const _0x47092e = _0x3e2570.chinaCRS || ChinaCRS.BAIDU;
      const _0x2fbef3 = getTransFun(_0x3bc128, _0x47092e);
      const _0x21378f = getTransFun(_0x47092e, _0x3bc128);
      const _0x5ba9aa = new BaiduMercatorProjection();
      this._projection.project = function (_0x47d864, _0x11ce49) {
        _0x11ce49 = [Cesium__namespace.Math.toDegrees(_0x47d864.longitude), Cesium__namespace.Math.toDegrees(_0x47d864.latitude)];
        if (_0x2fbef3) {
          _0x11ce49 = _0x2fbef3(_0x11ce49);
        }
        _0x11ce49[0] = Math.min(_0x11ce49[0], 180);
        _0x11ce49[0] = Math.max(_0x11ce49[0], -180);
        _0x11ce49[1] = Math.min(_0x11ce49[1], 85.05112877980659);
        _0x11ce49[1] = Math.max(_0x11ce49[1], -85.05112877980659);
        _0x11ce49 = _0x5ba9aa.lngLatToPoint({
          lng: _0x11ce49[0],
          lat: _0x11ce49[1]
        });
        return new Cesium__namespace.Cartesian2(_0x11ce49.x, _0x11ce49.y);
      };
      this._projection.unproject = function (_0x562968, _0x3d76ad) {
        const _0x5c446d = {
          lng: _0x562968.x,
          lat: _0x562968.y
        };
        _0x3d76ad = _0x5ba9aa.mercatorToLngLat(_0x5c446d);
        _0x3d76ad = [_0x3d76ad.lng, _0x3d76ad.lat];
        if (_0x21378f) {
          _0x3d76ad = _0x21378f(_0x3d76ad);
        }
        return new Cesium__namespace.Cartographic(Cesium__namespace.Math.toRadians(_0x3d76ad[0]), Cesium__namespace.Math.toRadians(_0x3d76ad[1]));
      };
      this.resolutions = _0x3e2570.resolutions || [];
    }
    tileXYToNativeRectangle(_0x52e8be, _0x4c72da, _0x3f9cd3, _0x2a3367) {
      const _0x568cc7 = this.resolutions[_0x3f9cd3];
      const _0x171964 = _0x52e8be * _0x568cc7;
      const _0x51e12e = (_0x52e8be + 1) * _0x568cc7;
      const _0x1c2334 = ((_0x4c72da = -_0x4c72da) + 1) * _0x568cc7;
      const _0x5d5ace = _0x4c72da * _0x568cc7;
      if (!Cesium__namespace.defined(_0x2a3367)) {
        return new Cesium__namespace.Rectangle(_0x171964, _0x5d5ace, _0x51e12e, _0x1c2334);
      }
      _0x2a3367.west = _0x171964;
      _0x2a3367.south = _0x5d5ace;
      _0x2a3367.east = _0x51e12e;
      _0x2a3367.north = _0x1c2334;
      return _0x2a3367;
    }
    positionToTileXY(_0x18815d, _0x5a5def, _0x3959d3) {
      const _0x11f0b5 = this._rectangle;
      if (!Cesium__namespace.Rectangle.contains(_0x11f0b5, _0x18815d)) {
        return undefined;
      }
      const _0x5c8d4b = this._projection;
      const _0x53b763 = _0x5c8d4b.project(_0x18815d);
      if (!Cesium__namespace.defined(_0x53b763)) {
        return undefined;
      }
      const _0xd95b12 = this.resolutions[_0x5a5def];
      const _0x45e176 = Math.floor(_0x53b763.x / _0xd95b12);
      const _0x22f667 = -Math.floor(_0x53b763.y / _0xd95b12);
      if (!Cesium__namespace.defined(_0x3959d3)) {
        return new Cesium__namespace.Cartesian2(_0x45e176, _0x22f667);
      }
      _0x3959d3.x = _0x45e176;
      _0x3959d3.y = _0x22f667;
      return _0x3959d3;
    }
  }
  class BaiduImageryProvider {
    constructor(_0x2aaff2 = {}) {
      let _0x5e7a56 = _0x2aaff2.url;
      if (!_0x2aaff2.url) {
        const _0x26b7b9 = _0x2aaff2.layer ?? "img_d";
        switch (_0x26b7b9) {
          case "vec":
            _0x5e7a56 = "https://maponline{s}.bdimg.com/tile/?qt=vtile&x={x}&y={y}&z={z}&styles=" + (_0x2aaff2.bigfont ? "ph" : "pl") + "&scaler=2&udt=&from=jsapi2_0";
            break;
          case "img_d":
            _0x5e7a56 = "https://maponline{s}.bdimg.com/starpic/{s}?u={mars3d_u}";
            _0x2aaff2.customTags = _0x2aaff2.customTags || {};
            _0x2aaff2.customTags.mars3d_u = (_0x5b6134, _0x412276, _0x417d91, _0x6d27f8) => {
              return "x=" + _0x412276 + ";y=" + -_0x417d91 + ";z=" + _0x6d27f8 + ";v=009;type=sate";
            };
            _0x2aaff2.queryParameters = {
              ..._0x2aaff2.queryParameters,
              qt: "satepc",
              app: "webearth2",
              udt: "20210830",
              fm: "46",
              v: "009"
            };
            break;
          case "img_z":
            _0x5e7a56 = "http://online{s}.map.bdimg.com/tile/?qt=vtile&x={x}&y={y}&z={z}&styles=" + (_0x2aaff2.bigfont ? "sh" : "sl") + "&v=020";
            break;
          case "custom":
            _0x2aaff2.style = _0x2aaff2.style || "midnight";
            _0x5e7a56 = "http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid=" + _0x2aaff2.style;
            break;
          case "time":
            _0x5e7a56 = "http://its.map.baidu.com:8002/traffic/TrafficTileService?x={x}&y={y}&level={z}&time=" + new Date().getTime() + "&label=" + (_0x2aaff2.label || "web2D") + "&v=017";
            break;
          case "streetview":
            _0x5e7a56 = "https://gss{s}.bdstatic.com/5LUZemja_QUU8t7mm9GUKT-xh_/tile/?udt=20150114&qt=vtile&styles=pl&x={x}&y={y}&z={z}";
            break;
        }
      }
      this.options = _0x2aaff2;
      const _0x49776f = {
        ..._0x2aaff2
      };
      _0x49776f.url = _0x5e7a56;
      this._resource = getUrlResource(_0x49776f);
      this._tags = Cesium__namespace.combine(tags, this.options.customTags);
      this._subdomains = _0x2aaff2.subdomains ?? ["0", "1", "2", "3"];
      this._tileWidth = 256;
      this._tileHeight = 256;
      this._maximumLevel = _0x2aaff2.maximumLevel ?? 18;
      const _0x532b1c = [];
      for (let _0x3b9cfc = 0; _0x3b9cfc < 19; _0x3b9cfc++) {
        _0x532b1c[_0x3b9cfc] = Math.pow(2, 18 - _0x3b9cfc) * 256;
      }
      this._tilingScheme = new BaiduMercatorTilingScheme({
        resolutions: _0x532b1c,
        rectangleSouthwestInMeters: new Cesium__namespace.Cartesian2(-20037726.37, -12474104.17),
        rectangleNortheastInMeters: new Cesium__namespace.Cartesian2(20037726.37, 12474104.17),
        mapChinaCRS: _0x2aaff2.mapChinaCRS,
        chinaCRS: _0x2aaff2.chinaCRS
      });
      this._rectangle = this._tilingScheme.rectangle;
      this._readyPromise = Cesium__namespace.defer();
      this._errorEvent = new Cesium__namespace.Event();
      this._ready = true;
      this._readyPromise.resolve(true);
    }
    get url() {
      return this._resource?.url;
    }
    get tileWidth() {
      return this._tileWidth;
    }
    get tileHeight() {
      return this._tileHeight;
    }
    get maximumLevel() {
      return this._maximumLevel;
    }
    get minimumLevel() {
      return 0;
    }
    get tilingScheme() {
      return this._tilingScheme;
    }
    get rectangle() {
      return this._rectangle;
    }
    get ready() {
      return this._ready;
    }
    get readyPromise() {
      return this._readyPromise.promise;
    }
    get errorEvent() {
      return this._errorEvent;
    }
    get credit() {
      return this._credit;
    }
    get hasAlphaChannel() {
      return true;
    }
    getTileCredits(_0x40c22a, _0x574096, _0x37bf7d) {
      return undefined;
    }
    requestImage(_0x3de0ca, _0x128214, _0x380913, _0x47e652) {
      const _0x413777 = this._resource;
      const _0x56a340 = _0x413777.getUrlComponent(true);
      const _0x4b8226 = this._tags;
      const _0x13fac0 = {};
      const _0xce7948 = _0x56a340.match(templateRegex);
      if (Cesium__namespace.defined(_0xce7948)) {
        _0xce7948.forEach(_0x4014ae => {
          const _0x588adc = _0x4014ae.substring(1, _0x4014ae.length - 1);
          if (Cesium__namespace.defined(_0x4b8226[_0x588adc])) {
            _0x13fac0[_0x588adc] = _0x4b8226[_0x588adc](this, _0x3de0ca, _0x128214, _0x380913);
          }
        });
      }
      const _0x2c8c3d = {
        request: _0x47e652,
        templateValues: _0x13fac0
      };
      return _0x413777.getDerivedResource(_0x2c8c3d).fetchImage({
        preferImageBitmap: true,
        flipY: true
      });
    }
  }
  const templateRegex = /{[^}]+}/g;
  const _0x176aea = {
    x: xTag,
    y: yTag,
    reverseY: reverseYTag,
    z: zTag,
    s: sTag
  };
  const tags = _0x176aea;
  function xTag(_0x1dee8f, _0x363e16, _0x1fcc13, _0x27372f) {
    return _0x363e16;
  }
  function yTag(_0x201c22, _0x157852, _0x2f946e, _0x15507e) {
    return -_0x2f946e;
  }
  function reverseYTag(_0x5ef395, _0x11cbc3, _0x41eff5, _0x2114d9) {
    const _0x5bdb1a = _0x5ef395.tilingScheme.getNumberOfYTilesAtLevel(_0x2114d9) - _0x41eff5 - 1;
    return _0x5bdb1a;
  }
  function zTag(_0x299e2b, _0x1daccb, _0x426fd8, _0x28fce5) {
    return _0x28fce5;
  }
  function sTag(_0x111ccc, _0x2ff32c, _0x5d27b6, _0x3ceb83) {
    const _0x24d78c = (_0x2ff32c + _0x5d27b6 + _0x3ceb83) % _0x111ccc._subdomains.length;
    return _0x111ccc._subdomains[_0x24d78c];
  }
  class TencentImageryProvider extends XyzImageryProvider {
    constructor(_0x24f21c = {}) {
      switch (_0x24f21c.layer) {
        case "vec":
          _0x24f21c.url = "https://rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=1&scene=0";
          break;
        case "img_d":
          _0x24f21c.url = "https://p{s}.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=400";
          const _0x5bc2fc = {
            sx: (_0x399889, _0x43cf29, _0x419644, _0x5d5a38) => {
              return _0x43cf29 >> 4;
            },
            sy: (_0x2529ce, _0x45b43f, _0x4e32ba, _0x5c25f4) => {
              return (1 << _0x5c25f4) - _0x4e32ba >> 4;
            }
          };
          _0x24f21c.customTags = _0x5bc2fc;
          break;
        case "img_z":
          _0x24f21c.url = "https://rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=2&scene=0";
          break;
        case "custom":
          _0x24f21c.style = _0x24f21c.style || "4";
          _0x24f21c.url = "https://rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=" + _0x24f21c.style + "&scene=0";
          break;
      }
      _0x24f21c.subdomains = _0x24f21c.subdomains ?? ["0", "1", "2"];
      super(_0x24f21c);
    }
  }
  class GoogleImageryProvider extends XyzImageryProvider {
    constructor(_0x44cd3f = {}) {
      let _0x2118d3;
      switch (_0x44cd3f.layer) {
        case "img_d":
          _0x2118d3 = "https://gac-geo.googlecnapps.club/maps/vt?lyrs=s&gl=CN&x={x}&y={y}&z={z}";
          break;
        case "img_z":
          _0x2118d3 = "https://gac-geo.googlecnapps.club/maps/vt?lyrs=h&gl=CN&x={x}&y={y}&z={z}";
          break;
        case "vec":
          _0x2118d3 = "https://gac-geo.googlecnapps.club/maps/vt?lyrs=m&x={x}&y={y}&z={z}";
          break;
        case "ter":
          _0x2118d3 = "https://gac-geo.googlecnapps.club/maps/vt?lyrs=t@131,r&gl=CN&x={x}&y={y}&z={z}";
          break;
        default:
          _0x2118d3 = _0x44cd3f.url;
          break;
      }
      if (_0x44cd3f.proxy || _0x44cd3f.headers || _0x44cd3f.queryParameters) {
        _0x2118d3 = getUrlResource({
          url: _0x2118d3.replace("{s}", "1"),
          proxy: _0x44cd3f.proxy,
          headers: _0x44cd3f.headers,
          queryParameters: _0x44cd3f.queryParameters
        });
      }
      const _0x323569 = {
        subdomains: ["1", "2", "3"],
        maximumLevel: 20,
        ..._0x44cd3f
      };
      _0x323569.url = _0x2118d3;
      super(_0x323569);
    }
  }
  class OsmImageryProvider extends XyzImageryProvider {
    constructor(_0x1f6b34 = {}) {
      let _0xc13a1e = "https://tile.openstreetmap.org/{z}/{x}/{y}.png";
      if (_0x1f6b34.proxy || _0x1f6b34.headers || _0x1f6b34.queryParameters) {
        _0xc13a1e = getUrlResource({
          url: _0xc13a1e,
          proxy: _0x1f6b34.proxy,
          headers: _0x1f6b34.headers,
          queryParameters: _0x1f6b34.queryParameters
        });
      }
      const _0x591433 = {
        maximumLevel: 18,
        ..._0x1f6b34
      };
      _0x591433.url = _0xc13a1e;
      super(_0x591433);
    }
  }
  class EmptyImageryProvider extends Cesium__namespace.TileCoordinatesImageryProvider {
    constructor(_0x1b0ce4 = {}) {
      super(_0x1b0ce4);
      this.options = _0x1b0ce4;
      this._minimumLevel = _0x1b0ce4.minimumLevel ?? 0;
      this._maximumLevel = _0x1b0ce4.maximumLevel;
      this._tilingScheme = _0x1b0ce4.tilingScheme ?? new Cesium__namespace.GeographicTilingScheme({
        ellipsoid: _0x1b0ce4.ellipsoid
      });
      if (_0x1b0ce4.rectangle) {
        this._rectangle = Cesium__namespace.Rectangle.intersection(_0x1b0ce4.rectangle, this._tilingScheme.rectangle);
      } else {
        this._rectangle = this._tilingScheme.rectangle;
      }
      this.options = _0x1b0ce4;
      const _0xf67c91 = document.createElement("canvas");
      _0xf67c91.width = 256;
      _0xf67c91.height = 256;
      this._canvas = _0xf67c91;
    }
    requestImage(_0x1904b0, _0x326e9e, _0x4067d2) {
      return new Promise((_0x4c33fa, _0x32a1b1) => {
        const _0x274bc7 = this._canvas;
        const _0x11b4da = _0x274bc7.getContext("2d", {
          willReadFrequently: true
        });
        _0x11b4da.clearRect(0, 0, _0x274bc7.width, _0x274bc7.height);
        if (_0x4067d2 < this._minimumLevel || Cesium__namespace.defined(this._maximumLevel) && _0x4067d2 > this._maximumLevel) {
          return _0x4c33fa(_0x274bc7);
        }
        if (this.options.debuggerTileInfo) {
          _0x11b4da.strokeStyle = "#ffff00";
          _0x11b4da.lineWidth = 2;
          _0x11b4da.strokeRect(1, 1, 255, 255);
          const _0x19264d = "L" + _0x4067d2 + "X" + _0x1904b0 + "Y" + _0x326e9e;
          _0x11b4da.font = "bold 25px Arial";
          _0x11b4da.textAlign = "center";
          _0x11b4da.fillStyle = "black";
          _0x11b4da.fillText(_0x19264d, 127, 127);
          _0x11b4da.fillStyle = "#ffff00";
          _0x11b4da.fillText(_0x19264d, 124, 124);
          _0x11b4da.restore();
        }
        _0x4c33fa(_0x274bc7);
      });
    }
  }
  const _0x4bd3f9 = {
    __proto__: null,
    XyzImageryProvider: XyzImageryProvider,
    TdtImageryProvider: TdtImageryProvider,
    GaodeImageryProvider: GaodeImageryProvider,
    BaiduImageryProvider: BaiduImageryProvider,
    TencentImageryProvider: TencentImageryProvider,
    GoogleImageryProvider: GoogleImageryProvider,
    OsmImageryProvider: OsmImageryProvider,
    EmptyImageryProvider: EmptyImageryProvider
  };
  var index$5 = _0x4bd3f9;
  class GroupLayer extends BaseGraphicLayer {
    constructor(_0x20af88 = {}) {
      super(_0x20af88);
      this._arrLayer = [];
    }
    get layer() {
      var _0x41cb90;
      if (this._arrLayer?.length > 0) {
        return this._arrLayer;
      }
      if ((_0x41cb90 = this._map) === null || _0x41cb90 === undefined) {
        return undefined;
      } else {
        return _0x41cb90.getLayersByAttr(this.id, "pid");
      }
    }
    get arrLayer() {
      return this._arrLayer;
    }
    get hasEmptyGroup() {
      return this.length === 0;
    }
    get hasChildLayer() {
      return this.length > 0;
    }
    get length() {
      var _0x589c92;
      if (((_0x589c92 = this.options) === null || _0x589c92 === undefined || (_0x589c92 = _0x589c92.layers) === null || _0x589c92 === undefined ? undefined : _0x589c92.length) > 0) {
        return this.options.layers.length;
      } else {
        return this._arrLayer?.length || 0;
      }
    }
    get hasOpacity() {
      if (Cesium__namespace.defined(this.options.hasOpacity)) {
        return this.options.hasOpacity;
      }
      if (this._arrLayer.length === 0) {
        return false;
      }
      return this._arrLayer[0].hasOpacity;
    }
    get hasZIndex() {
      if (this._arrLayer.length === 0) {
        return false;
      }
      return this._arrLayer[0].hasZIndex;
    }
    get zIndex() {
      return this.options.zIndex;
    }
    set zIndex(_0x35f317) {
      this.options.zIndex = _0x35f317;
      for (let _0x1311cd = this._arrLayer.length - 1; _0x1311cd >= 0; _0x1311cd--) {
        const _0x16d93c = this._arrLayer[_0x1311cd];
        if (_0x16d93c.hasZIndex && !_0x16d93c.zIndex) {
          _0x16d93c.zIndex = _0x35f317;
        }
      }
    }
    _showHook(_0x31b915) {
      this.eachLayer(_0x3a0154 => {
        _0x3a0154.show = _0x31b915;
      }, this);
    }
    _mountedHook() {
      super._mountedHook();
      const _0x3435ea = this.options.layers;
      if (_0x3435ea && _0x3435ea.length > 0) {
        for (let _0x9041c0 = 0; _0x9041c0 < _0x3435ea.length; _0x9041c0++) {
          const _0x1cb490 = _0x3435ea[_0x9041c0];
          if (_0x1cb490 instanceof BaseLayer) {
            _0x1cb490.eventParent = this;
            this.addLayer(_0x1cb490);
          } else {
            _0x1cb490.eventParent = this;
            _0x1cb490.private = this.isPrivate;
            const _0x5077cc = create$3(_0x1cb490);
            if (_0x5077cc) {
              this.addLayer(_0x5077cc);
            }
          }
        }
      }
    }
    _addedHook() {
      const _0x2e203f = [];
      this.eachLayer(_0x4a6fb7 => {
        _0x4a6fb7.eventParent = this;
        this._map.addLayer(_0x4a6fb7);
        _0x2e203f.push(_0x4a6fb7.readyPromise);
      }, this);
      Promise.all(_0x2e203f).then(_0xa29387 => {
        if (this._readyPromise) {
          this._readyPromise.resolve(this);
        }
      });
    }
    _removedHook() {
      this.removeMapChilds();
    }
    addChildsToMap() {
      this.eachLayer(_0x2cc007 => {
        this._map.addLayer(_0x2cc007);
      }, this);
    }
    removeMapChilds() {
      this.eachLayer(_0x4712b7 => {
        this._map.removeLayer(_0x4712b7);
      }, this);
    }
    addLayer(_0x31d5b7) {
      if (_0x31d5b7.parent) {
        _0x31d5b7.removeEventParent(_0x31d5b7.parent);
        _0x31d5b7.parent = null;
      }
      _0x31d5b7.pid = this.id;
      _0x31d5b7.parent = this;
      _0x31d5b7.options.eventParent = this;
      this._arrLayer.push(_0x31d5b7);
      if (this.isAdded && !_0x31d5b7.isAdded) {
        this._map.addLayer(_0x31d5b7);
      } else {
        _0x31d5b7.removeEventParent(this._map);
        _0x31d5b7.addEventParent(this);
      }
      return this;
    }
    removeLayer(_0x5d6d73) {
      _0x5d6d73.parent = null;
      _0x5d6d73.removeEventParent(this);
      removeArrayItem(this._arrLayer, _0x5d6d73);
      if (this._map && _0x5d6d73.isAdded) {
        this._map.removeLayer(_0x5d6d73);
      }
      return this;
    }
    removeAllLayer() {
      for (let _0x1fd965 = this._arrLayer.length - 1; _0x1fd965 >= 0; _0x1fd965--) {
        const _0x5252db = this._arrLayer[_0x1fd965];
        this.removeLayer(_0x5252db);
      }
      this._arrLayer = [];
    }
    eachLayer(_0x1e70f3, _0x511ffb) {
      if (!this._arrLayer) {
        return;
      }
      this._arrLayer.forEach(_0x24c456 => {
        _0x1e70f3.call(_0x511ffb, _0x24c456);
      });
      return this;
    }
    getLayers() {
      return this._arrLayer;
    }
    getInMapChilds() {
      const _0x42d756 = this._arrLayer || [];
      this._map.eachLayer(_0x1331ba => {
        if (_0x1331ba.pid !== this.id) {
          return;
        }
        if (this._arrLayer.indexOf(_0x1331ba) !== -1) {
          return;
        }
        _0x42d756.push(_0x1331ba);
      }, this);
      return _0x42d756;
    }
    getLayerById(_0x30fb98) {
      const _0x360b57 = this._arrLayer;
      if (!this._arrLayer || this._arrLayer.length === 0) {
        return;
      }
      for (let _0x2731f4 = 0, _0x553b3a = _0x360b57.length; _0x2731f4 < _0x553b3a; _0x2731f4++) {
        const _0x470993 = _0x360b57[_0x2731f4];
        if (_0x470993.id === _0x30fb98) {
          return _0x470993;
        }
      }
      return undefined;
    }
    getLayer(_0x1d491f) {
      if (!this._arrLayer || this._arrLayer.length === 0) {
        return undefined;
      }
      for (let _0x4ae17c = 0; _0x4ae17c < this._arrLayer.length; _0x4ae17c++) {
        const _0x38dae7 = this._arrLayer[_0x4ae17c];
        if (_0x38dae7.name === _0x1d491f || _0x38dae7.id === _0x1d491f) {
          return _0x38dae7;
        }
      }
      return undefined;
    }
    hasLayer(_0x33f0a6, _0x2e2659) {
      for (let _0x4a9de9 = 0; _0x4a9de9 < this._arrLayer.length; _0x4a9de9++) {
        const _0x849fac = this._arrLayer[_0x4a9de9];
        if (_0x2e2659 && _0x849fac === _0x2e2659) {
          continue;
        }
        if (_0x849fac.name === _0x33f0a6 || _0x849fac.id === _0x33f0a6) {
          return true;
        }
      }
      return false;
    }
    _toJsonEx(_0x58cbd4) {
      const _0x3c347e = [];
      this.eachLayer(_0xba58c2 => {
        const _0x2aecea = _0xba58c2.toJSON();
        delete _0x2aecea.zIndex;
        delete _0x2aecea.private;
        _0x3c347e.push(_0x2aecea);
      }, this);
      if (_0x3c347e.length > 0) {
        _0x58cbd4.layers = _0x3c347e;
      }
    }
    getRectangle(_0x2fd037) {
      let _0x4e446a;
      const _0x2e5a5a = this.getInMapChilds();
      _0x2e5a5a.forEach(_0x44b4f8 => {
        if (!_0x44b4f8.getRectangle) {
          return;
        }
        const _0x520380 = _0x44b4f8.getRectangle();
        if (!Cesium__namespace.defined(_0x520380)) {
          return;
        }
        if (_0x4e446a) {
          _0x4e446a = Cesium__namespace.Rectangle.union(_0x520380, _0x4e446a);
        } else {
          _0x4e446a = _0x520380;
        }
      }, this);
      if (_0x2fd037) {
        return formatRectangle(_0x4e446a);
      } else {
        return _0x4e446a;
      }
    }
    setOpacity(_0x2a3efa) {
      this.eachLayer(_0x29afb7 => {
        _0x29afb7.opacity = _0x2a3efa;
      }, this);
    }
    toTop() {
      this.eachLayer(_0x231baf => {
        _0x231baf.toTop();
      }, this);
    }
    toBottom() {
      const _0x5c4815 = this._arrLayer;
      if (_0x5c4815) {
        for (let _0x3709d4 = _0x5c4815.length - 1; _0x3709d4 >= 0; _0x3709d4--) {
          const _0x2145b5 = _0x5c4815[_0x3709d4];
          if (_0x2145b5.toBottom) {
            _0x2145b5.toBottom();
          }
        }
      }
    }
    reload() {
      const _0x3be843 = this._arrLayer;
      if (_0x3be843) {
        for (let _0x420222 = _0x3be843.length - 1; _0x420222 >= 0; _0x420222--) {
          const _0x32263e = _0x3be843[_0x420222];
          if (_0x32263e.reload) {
            _0x32263e.reload();
          } else {
            this.removeLayer(_0x32263e);
            this.addLayer(_0x32263e);
          }
        }
      }
    }
    destroy(_0xfbab1) {
      this.eachLayer(_0x42b6a8 => {
        if (_0x42b6a8 !== null && _0x42b6a8 !== undefined && _0x42b6a8.destroy) {
          _0x42b6a8.destroy(_0xfbab1);
        }
      }, this);
      super.destroy(_0xfbab1);
    }
  }
  register$3("group", GroupLayer);
  class BaseTileLayer extends BaseLayer {
    constructor(_0x23f572 = {}) {
      super(_0x23f572);
      this._setRectangleByOptions(_0x23f572);
      this.isTile = true;
    }
    get layer() {
      return this._imageryLayer;
    }
    get imageryLayers() {
      if (this._clampToTileset) {
        return this._map.imageryLayersForClamp;
      } else {
        return this._map.imageryLayers;
      }
    }
    get imageryProvider() {
      return this._imageryLayer?.imageryProvider;
    }
    get crs() {
      return this.options.crs || CRS.EPSG3857;
    }
    get alpha() {
      return this.opacity;
    }
    set alpha(_0xbdde29) {
      this.opacity = _0xbdde29;
    }
    get brightness() {
      return this.options.brightness || this._imageryLayer?.brightness;
    }
    set brightness(_0x783bbc) {
      this.options.brightness = _0x783bbc;
      if (this._imageryLayer == null) {
        return;
      }
      this._imageryLayer.brightness = _0x783bbc;
    }
    get contrast() {
      return this.options.contrast || this._imageryLayer?.contrast;
    }
    set contrast(_0x441ce9) {
      this.options.contrast = _0x441ce9;
      if (this._imageryLayer == null) {
        return;
      }
      this._imageryLayer.contrast = _0x441ce9;
    }
    get hue() {
      return this.options.hue || this._imageryLayer?.hue;
    }
    set hue(_0x577a9d) {
      this.options.hue = _0x577a9d;
      if (this._imageryLayer == null) {
        return;
      }
      this._imageryLayer.hue = _0x577a9d;
    }
    get saturation() {
      return this.options.saturation || this._imageryLayer?.saturation;
    }
    set saturation(_0x5b788d) {
      this.options.saturation = _0x5b788d;
      if (this._imageryLayer == null) {
        return;
      }
      this._imageryLayer.saturation = _0x5b788d;
    }
    get gamma() {
      return this.options.gamma || this._imageryLayer?.gamma;
    }
    set gamma(_0x591fe6) {
      this.options.gamma = _0x591fe6;
      if (this._imageryLayer == null) {
        return;
      }
      this._imageryLayer.gamma = _0x591fe6;
    }
    get splitDirection() {
      return this.options.splitDirection;
    }
    set splitDirection(_0x150d19) {
      this.options.splitDirection = _0x150d19;
      if (this._imageryLayer) {
        this._imageryLayer.splitDirection = _0x150d19;
      }
    }
    get hasZIndex() {
      return true;
    }
    get zIndex() {
      return this.options.zIndex;
    }
    set zIndex(_0x545e1b) {
      this.options.zIndex = _0x545e1b;
      if (this._imageryLayer == null || _0x545e1b == null) {
        return;
      }
      this.imageryLayers.raiseToTop(this._imageryLayer);
      const _0x23dbb9 = this.imageryLayers._layers;
      for (let _0x4d0f7f = _0x23dbb9.length - 1; _0x4d0f7f >= 0; _0x4d0f7f--) {
        const _0x3a74c9 = _0x23dbb9[_0x4d0f7f];
        if (_0x3a74c9 === this._imageryLayer) {
          continue;
        }
        const _0x2f130b = _0x3a74c9._mars3d_config;
        if (Cesium__namespace.defined(_0x2f130b?.zIndex) && _0x545e1b < _0x2f130b.zIndex) {
          this.imageryLayers.lower(this._imageryLayer);
        }
      }
    }
    get subdomainItem() {
      let _0x950279 = this.options.subdomains;
      if (!_0x950279 || _0x950279.length === 0) {
        return;
      }
      if (isString(_0x950279)) {
        _0x950279 = _0x950279.split("");
      }
      if (!Array.isArray(_0x950279) || _0x950279.length === 0) {
        return;
      }
      return getArrayRandomOne(_0x950279);
    }
    get rectangle() {
      var _0x119ada;
      if (this._rectangle) {
        return this._rectangle;
      } else if ((_0x119ada = this._imageryLayer) !== null && _0x119ada !== undefined && (_0x119ada = _0x119ada.imageryProvider) !== null && _0x119ada !== undefined && _0x119ada.rectangle) {
        return this._imageryLayer.imageryProvider.rectangle;
      } else {
        return null;
      }
    }
    set rectangle(_0x41a93e) {
      if (_0x41a93e) {
        if (_0x41a93e instanceof Cesium__namespace.Rectangle) {
          var _0x305862;
          this._rectangle = _0x41a93e;
          this.options.rectangle = formatRectangle(this._rectangle);
          if ((_0x305862 = this._imageryLayer) !== null && _0x305862 !== undefined && (_0x305862 = _0x305862.imageryProvider) !== null && _0x305862 !== undefined && _0x305862.rectangle) {
            this._imageryLayer.imageryProvider._rectangle = this._rectangle;
          }
        }
      } else {
        this._rectangle = undefined;
        delete this.options.rectangle;
        this.reload();
      }
    }
    _setRectangleByOptions(_0x5d4c69) {
      if (Cesium__namespace.defined(_0x5d4c69.rectangle)) {
        if (Cesium__namespace.defined(_0x5d4c69.rectangle.xmin) && Cesium__namespace.defined(_0x5d4c69.rectangle.xmax) && Cesium__namespace.defined(_0x5d4c69.rectangle.ymin) && Cesium__namespace.defined(_0x5d4c69.rectangle.ymax)) {
          this._rectangle = Cesium__namespace.Rectangle.fromDegrees(_0x5d4c69.rectangle.xmin, _0x5d4c69.rectangle.ymin, _0x5d4c69.rectangle.xmax, _0x5d4c69.rectangle.ymax);
        } else if (_0x5d4c69.rectangle instanceof Cesium__namespace.Rectangle) {
          this._rectangle = _0x5d4c69.rectangle;
        } else {
          delete _0x5d4c69.rectangle;
        }
      } else if (Cesium__namespace.defined(_0x5d4c69.bbox) && _0x5d4c69.bbox.length && _0x5d4c69.bbox.length === 4) {
        this._rectangle = Cesium__namespace.Rectangle.fromDegrees(_0x5d4c69.bbox[0], _0x5d4c69.bbox[1], _0x5d4c69.bbox[2], _0x5d4c69.bbox[3]);
      } else {
        this._rectangle = undefined;
      }
    }
    _setOptionsHook(_0x59b430, _0x38dd33) {
      this._setRectangleByOptions(_0x59b430);
      this.reload();
    }
    async _createImageryProvider(_0x1ed2ff) {
      return new Cesium__namespace.UrlTemplateImageryProvider(_0x1ed2ff);
    }
    _addedHook() {
      var _0xd4226a;
      if (this.options.highlight) {
        this.options.enablePickFeatures = true;
      }
      const _0x508b6e = this._createImageryProvider({
        templateValues: this._map?.templateValues,
        ...this.options,
        rectangle: this.rectangle,
        mapChinaCRS: this._map.chinaCRS
      });
      if (!Cesium__namespace.defined(_0x508b6e)) {
        return;
      }
      const _0x1ef369 = this.options;
      const _0x119440 = {
        show: this.show,
        alpha: this.opacity,
        ..._0x1ef369,
        rectangle: this.rectangle,
        marsOptions: {
          onAddTile: _0x3bfdc7 => {
            const _0x520332 = this._getTileEventParams(_0x3bfdc7);
            this.fire(EventType.addTile, _0x520332);
          },
          onAddTileSuccess: _0x3c65cd => {
            const _0xb39381 = this._getTileEventParams(_0x3c65cd);
            this.fire(EventType.addTileSuccess, _0xb39381);
          },
          onAddTileError: _0x4244ae => {
            const _0x3c3ae8 = this._getTileEventParams(_0x4244ae);
            this.fire(EventType.addTileError, _0x3c3ae8);
          },
          onRemoveTile: _0x39e8bf => {
            const _0x3adee8 = this._getTileEventParams(_0x39e8bf);
            this.fire(EventType.removeTile, _0x3adee8);
          }
        }
      };
      this._imageryLayer = Cesium__namespace.ImageryLayer.fromProviderAsync(_0x508b6e, _0x119440);
      this._imageryLayer._mars3d_layerId = this.id;
      this._imageryLayer._mars3d_config = this.options;
      if (this.options.clampToTileset && this._map.imageryLayersForClamp && _0x119440.crs !== CRS.EPSG3857) {
        this._clampToTileset = true;
      }
      this.imageryLayers.add(this._imageryLayer);
      if (Cesium__namespace.defined(this.options.zIndex)) {
        this.zIndex = this.options.zIndex;
      }
      if (this.options.highlight) {
        this.options.enablePickFeatures = true;
        this.bindHighlight(this.options.highlight);
      } else if ((_0xd4226a = this.options.symbol) !== null && _0xd4226a !== undefined && (_0xd4226a = _0xd4226a.styleOptions) !== null && _0xd4226a !== undefined && _0xd4226a.highlight) {
        this.bindHighlight(this.options.symbol.styleOptions.highlight);
      }
      _0x508b6e.then(() => {
        if (this.isDestroy || !this._map) {
          return;
        }
        this._readyPromise.resolve(this);
        this.fire(EventType.load, {}, true);
      });
    }
    _getTileEventParams(_0x1f70cc) {
      return {
        x: _0x1f70cc.x,
        y: _0x1f70cc.y,
        level: _0x1f70cc.level,
        extent: formatRectangle(_0x1f70cc.rectangle)
      };
    }
    _removedHook() {
      this.unbindHighlight();
      if (this._imageryLayer) {
        var _0x27101e;
        this._imageryLayer._isBaseLayer = false;
        if ((_0x27101e = this._imageryLayer.imageryProvider) !== null && _0x27101e !== undefined && _0x27101e.destroy) {
          this._imageryLayer.imageryProvider.destroy();
        }
        this.imageryLayers.remove(this._imageryLayer, true);
        delete this._imageryLayer;
      }
    }
    reload() {
      this.readyPromise.then(() => {
        const _0xe28f8e = this.options.flyTo ?? false;
        if (this._imageryLayer) {
          this._removedHook();
        }
        if (this.isAdded) {
          this.options.flyTo = false;
          this.once(EventType.load, () => {
            this.options.flyTo = _0xe28f8e;
          });
          this._addedHook();
        }
      });
    }
    setOpacity(_0x2f9fec) {
      if (this._imageryLayer) {
        this._imageryLayer.alpha = _0x2f9fec;
      }
    }
    toTop() {
      if (this._map && this._imageryLayer) {
        return this.imageryLayers.raiseToTop(this._imageryLayer);
      }
    }
    toBottom() {
      if (this._map && this._imageryLayer) {
        return this.imageryLayers.lowerToBottom(this._imageryLayer);
      }
    }
    async _flyToEx(_0x249ea0) {
      const _0xa5592e = this.rectangle;
      if (Cesium__namespace.defined(_0xa5592e) && _0xa5592e.equals && !_0xa5592e.equals(Cesium__namespace.Rectangle.MAX_VALUE) && _0xa5592e.west > 0 && _0xa5592e.south > 0 && _0xa5592e.east > 0 && _0xa5592e.north > 0) {
        const _0x39f915 = {
          ..._0x249ea0
        };
        _0x39f915.destination = _0xa5592e;
        return this._map.camera.flyTo(_0x39f915);
      }
    }
    bindHighlight(_0x11ec74) {
      this.unbindHighlight();
      this._highlightOptions = _0x11ec74;
      this.on(EventType.click, this._highlight_mouseEventHandler, this);
    }
    unbindHighlight() {
      if (this._highlightOptions) {
        this.off(EventType.click, this._highlight_mouseEventHandler, this);
        if (this._map.isHighlighting(this)) {
          this._map.closeHighlight();
        }
        this._highlightOptions = null;
      }
    }
    _highlight_mouseEventHandler(_0x539528) {
      if (!this._map || this._map.isDrawing) {
        return;
      }
      this._map.closeHighlight();
      const _0x3218ba = _0x539528.graphics;
      if (_0x3218ba) {
        this._last_graphicsOptions = _0x3218ba;
        this._map.openHighlight(this, this._highlightOptions, _0x539528);
      }
    }
    _highlight_mouseOutHandler(_0x3186a5) {
      this._map.closeHighlight();
    }
    openHighlight(_0x595659, _0x16c63b = true) {
      if (_0x16c63b) {
        this._map.closeHighlight();
        this._map.last_highlighGraphic = this;
      }
      const _0x4837f6 = _0x595659 || this._highlightOptions;
      if (this._last_graphicsOptions && _0x4837f6) {
        if (!this._graphicLayer) {
          this._graphicLayer = new GraphicLayer({
            name: "高亮对象图层",
            zIndex: 9999,
            private: true
          });
          this._map.addLayer(this._graphicLayer);
        }
        this._graphicLayer.addGraphic(this._last_graphicsOptions);
        if (_0x4837f6.flyTo) {
          this._graphicLayer.flyTo();
        }
        this.fire(EventType.highlightOpen, {}, true);
      }
    }
    closeHighlight() {
      if (!this._graphicLayer || !this._map.isHighlighting(this)) {
        return;
      }
      this._graphicLayer.clear();
      this._map._clearLastHighlight();
      this.fire(EventType.highlightClose, {}, true);
    }
  }
  class TerrainLayer extends BaseLayer {
    _showHook(_0x3be381) {
      if (_0x3be381) {
        this._addedHook();
      } else {
        this._removedHook();
      }
    }
    _mountedHook() {
      this._terrainProviderPromise = createTerrainProvider(this._getTerrainOptions());
    }
    _getTerrainOptions() {
      if (this.options.terrain) {
        const _0x27c1da = {
          templateValues: this._map?.templateValues,
          ...this.options.terrain
        };
        return _0x27c1da;
      } else {
        const _0x14af60 = {
          templateValues: this._map?.templateValues,
          ...this.options
        };
        _0x14af60.type = this.options.terrainType ?? "xyz";
        return _0x14af60;
      }
    }
    _addedHook() {
      if (this.show) {
        this._updateTerrainProvider();
      }
    }
    _removedHook() {
      this._map.terrainProvider = getNoTerrainProvider();
    }
    _setOptionsHook(_0x518b9e, _0x50dddb) {
      this._terrainProviderPromise = createTerrainProvider(this._getTerrainOptions());
      this._updateTerrainProvider();
    }
    _updateTerrainProvider() {
      this._terrainProviderPromise.then(_0x1033b4 => {
        this._readyPromise.resolve(this);
        this.fire(EventType.load, {
          terrain: this._map.terrainProvider
        });
      });
      this._map.terrainProvider = this._terrainProviderPromise;
    }
  }
  register$3("terrain", TerrainLayer);
  class ArcGisCacheLayer extends BaseTileLayer {
    async _createImageryProvider(_0x3d517f) {
      return await createImageryProvider$i(_0x3d517f);
    }
  }
  async function createImageryProvider$i(_0x4970ec) {
    _0x4970ec.url = _0x4970ec.url.replace("{x}", "C{arc_x}").replace("{y}", "R{arc_y}").replace("{z}", "L{arc_z}");
    const _0x388328 = _0x4970ec.upperCase;
    _0x4970ec.customTags = _0x4970ec.customTags || {};
    _0x4970ec.customTags.arc_x = function (_0x3bd410, _0xb5d9d2, _0x503c8b, _0x5478c0) {
      if (_0x388328) {
        return padLeft0(_0xb5d9d2.toString(16), 8).toUpperCase();
      } else {
        return padLeft0(_0xb5d9d2.toString(16), 8);
      }
    };
    _0x4970ec.customTags.arc_y = function (_0x4d32ec, _0x3449b3, _0x3219a2, _0x256ced) {
      if (_0x388328) {
        return padLeft0(_0x3219a2.toString(16), 8).toUpperCase();
      } else {
        return padLeft0(_0x3219a2.toString(16), 8);
      }
    };
    _0x4970ec.customTags.arc_z = function (_0x153d71, _0x25acca, _0x1553b9, _0xe1892d) {
      if (_0x388328) {
        return padLeft0(_0xe1892d.toString(), 2).toUpperCase();
      } else {
        return padLeft0(_0xe1892d.toString(), 2);
      }
    };
    _0x4970ec.customTags.arc_z4490 = function (_0x8a5b03, _0x9752a5, _0x24e4ea, _0x2d28a7) {
      if (_0x388328) {
        return padLeft0((_0x2d28a7 + 1).toString(), 2).toUpperCase();
      } else {
        return padLeft0((_0x2d28a7 + 1).toString(), 2);
      }
    };
    _0x4970ec = converOptions(_0x4970ec);
    return new XyzImageryProvider(_0x4970ec);
  }
  ArcGisCacheLayer.createImageryProvider = createImageryProvider$i;
  const layerType$j = "arcgis_cache";
  register$3(layerType$j, ArcGisCacheLayer);
  registerImageryProvider(layerType$j, createImageryProvider$i);
  class ArcGisTileLayer extends BaseTileLayer {
    async _createImageryProvider(_0x40e606) {
      return await createImageryProvider$h(_0x40e606);
    }
  }
  async function createImageryProvider$h(_0x2ba6b5) {
    _0x2ba6b5 = converOptions(_0x2ba6b5);
    if (isString(_0x2ba6b5.url)) {
      _0x2ba6b5.url = _0x2ba6b5.url + "/tile/{z}/{y}/{x}";
      if (Cesium__namespace.defined(_0x2ba6b5.token)) {
        _0x2ba6b5.url += "?token=" + _0x2ba6b5.token;
      }
    } else if (_0x2ba6b5.url instanceof Cesium__namespace.Resource) {
      _0x2ba6b5.url.url = _0x2ba6b5.url.url + "/tile/{z}/{y}/{x}";
      if (Cesium__namespace.defined(_0x2ba6b5.token)) {
        _0x2ba6b5.url.url += "?token=" + _0x2ba6b5.token;
      }
    }
    return new XyzImageryProvider(_0x2ba6b5);
  }
  ArcGisTileLayer.createImageryProvider = createImageryProvider$h;
  const layerType$i = "arcgis_tile";
  register$3(layerType$i, ArcGisTileLayer);
  registerImageryProvider(layerType$i, createImageryProvider$h);
  class ArcGisImageryProvider {
    constructor(_0x226641 = {}) {
      this.options = _0x226641;
      const _0x2e936c = Cesium__namespace.Resource.createIfNeeded(_0x226641.url);
      _0x2e936c.appendForwardSlash();
      if (Cesium__namespace.defined(_0x226641.token)) {
        const _0x46feb0 = {
          token: _0x226641.token
        };
        _0x2e936c.setQueryParameters(_0x46feb0);
      }
      this._resource = _0x2e936c;
      this._tileDiscardPolicy = _0x226641.tileDiscardPolicy;
      this._tileWidth = _0x226641.tileWidth ?? 256;
      this._tileHeight = _0x226641.tileHeight ?? 256;
      this._maximumLevel = _0x226641.maximumLevel;
      this._maxTileLevel = _0x226641.maxTileLevel;
      this._crs = _0x226641.crs;
      this.enablePickFeatures = _0x226641.enablePickFeatures ?? true;
      this._useTiles = _0x226641.usePreCachedTilesIfAvailable ?? true;
      this._initTilingSchemeByCrs(_0x226641.crs || CRS.EPSG4326);
      this._errorEvent = new Cesium__namespace.Event();
      this._ready = false;
      this._readyPromise = Cesium__namespace.defer();
      this._requestMetadata();
    }
    get url() {
      return this._resource._url;
    }
    get token() {
      return this._resource.queryParameters.token;
    }
    get proxy() {
      return this._resource.proxy;
    }
    get tileWidth() {
      return this._tileWidth;
    }
    get tileHeight() {
      return this._tileHeight;
    }
    get maximumLevel() {
      return this._maximumLevel;
    }
    get minimumLevel() {
      return 0;
    }
    get tilingScheme() {
      return this._tilingScheme;
    }
    get rectangle() {
      return this._rectangle;
    }
    get tileDiscardPolicy() {
      return this._tileDiscardPolicy;
    }
    get errorEvent() {
      return this._errorEvent;
    }
    get ready() {
      return this._ready;
    }
    get readyPromise() {
      return this._readyPromise.promise;
    }
    get credit() {
      return this._credit;
    }
    get usingPrecachedTiles() {
      return this._useTiles;
    }
    get hasAlphaChannel() {
      return true;
    }
    get layers() {
      return this.options.layers;
    }
    get layerDefs() {
      return this.options.layerDefs;
    }
    _initTilingSchemeByCrs(_0xa86e9a) {
      if (_0xa86e9a === CRS.EPSG3857) {
        this._tilingScheme = this.options.tilingScheme || new Cesium__namespace.WebMercatorTilingScheme({
          ellipsoid: this.options.ellipsoid
        });
        this._rectangle = this.options.rectangle ?? this._tilingScheme.rectangle;
        return true;
      } else if (_0xa86e9a === CRS.EPSG4326 || _0xa86e9a === CRS.EPSG4490) {
        this._tilingScheme = this.options.tilingScheme || new Cesium__namespace.GeographicTilingScheme({
          ellipsoid: this.options.ellipsoid
        });
        this._rectangle = this.options.rectangle ?? this._tilingScheme.rectangle;
        return true;
      } else {
        return false;
      }
    }
    _requestMetadata() {
      const _0x5d3f3d = this._resource.getDerivedResource({
        queryParameters: {
          f: "json"
        }
      });
      _0x5d3f3d.fetchJsonp().then(_0x2617b3 => {
        this._metadataSuccess(_0x2617b3);
      }).catch(_0x32336f => {
        this._metadataFailure(_0x32336f);
      });
    }
    _metadataSuccess(_0xc5db4d) {
      this.capabilities = _0xc5db4d;
      if (!Cesium__namespace.defined(_0xc5db4d.tileInfo) || this.options.usePreCachedTilesIfAvailable === false) {
        this._useTiles = false;
        if (!this.options.crs) {
          this._crs = getCRSByWkid(_0xc5db4d.spatialReference?.wkid);
          this._initTilingSchemeByCrs(this._crs);
        }
      } else {
        this._useTiles = true;
        const _0x5f31d8 = _0xc5db4d.tileInfo;
        this._tileWidth = _0x5f31d8.rows;
        this._tileHeight = _0x5f31d8.cols;
        if (!this._maximumLevel) {
          this._maximumLevel = _0x5f31d8.lods.length - 1;
        }
        if (!this.options.crs) {
          this._crs = getCRSByWkid(_0x5f31d8.spatialReference?.wkid);
          this._useTiles = this._initTilingSchemeByCrs(this._crs);
        }
        if (this._useTiles && !Cesium__namespace.defined(this._tileDiscardPolicy)) {
          this._tileDiscardPolicy = new Cesium__namespace.DiscardMissingTileImagePolicy({
            missingImageUrl: this._buildImageResource(0, 0, this._maximumLevel).url,
            pixelsToCheck: [new Cesium__namespace.Cartesian2(0, 0), new Cesium__namespace.Cartesian2(200, 20), new Cesium__namespace.Cartesian2(20, 200), new Cesium__namespace.Cartesian2(80, 110), new Cesium__namespace.Cartesian2(160, 130)],
            disableCheckIfAllPixelsAreTransparent: true
          });
        }
      }
      const _0x2506be = _0xc5db4d.fullExtent || _0xc5db4d.extent;
      if (!this.options.rectangle && _0x2506be) {
        var _0x55a663;
        let _0xe29b78 = this._crs;
        if (_0x2506be !== null && _0x2506be !== undefined && (_0x55a663 = _0x2506be.spatialReference) !== null && _0x55a663 !== undefined && _0x55a663.wkid) {
          _0xe29b78 = getCRSByWkid(_0x2506be.spatialReference.wkid);
        }
        this._setExtent(_0x2506be.xmin, _0x2506be.ymin, _0x2506be.xmax, _0x2506be.ymax, _0xe29b78);
      }
      this._ready = true;
      this._readyPromise.resolve(true);
      if (Cesium__namespace.TileProviderError.reportSuccess) {
        Cesium__namespace.TileProviderError.reportSuccess(this._metadataError);
      } else if (Cesium__namespace.TileProviderError.handleSuccess) {
        Cesium__namespace.TileProviderError.handleSuccess(this._metadataError);
      }
    }
    _setExtent(_0xd8a854, _0x11dc37, _0x391196, _0x49159c, _0x4b97c9) {
      if (_0x4b97c9 && _0x4b97c9 !== CRS.EPSG4326 && _0x4b97c9 !== CRS.EPSG4490) {
        const _0x3d02a6 = proj4Trans([_0xd8a854, _0x11dc37], _0x4b97c9);
        const _0xd7e111 = proj4Trans([_0x391196, _0x49159c], _0x4b97c9);
        _0xd8a854 = _0x3d02a6[0];
        _0x11dc37 = _0x3d02a6[1];
        _0x391196 = _0xd7e111[0];
        _0x49159c = _0xd7e111[1];
      }
      if (isNaN(_0xd8a854) || isNaN(_0x391196) || isNaN(_0x11dc37) || isNaN(_0x49159c) || _0xd8a854 < -179 || _0x391196 > 179 || _0x11dc37 < -85 || _0x49159c > 85) {
        return;
      }
      const _0x3f898c = {
        xmin: _0xd8a854,
        ymin: _0x11dc37,
        xmax: _0x391196,
        ymax: _0x49159c
      };
      this.options.extent = _0x3f898c;
      this._rectangle = Cesium__namespace.Rectangle.fromDegrees(_0xd8a854, _0x11dc37, _0x391196, _0x49159c);
      logInfo(this.options.name + "图层设置了范围:", this, this.options.extent);
    }
    _metadataFailure(_0x35e350) {
      var _0x2fd4a1;
      const _0x1f3310 = "An error occurred while accessing " + this._resource.url + ".";
      if (Cesium__namespace.TileProviderError.reportError) {
        this._metadataError = Cesium__namespace.TileProviderError.reportError(this._metadataError, this, this._errorEvent, _0x1f3310, undefined, undefined, undefined, this._requestMetadata);
      } else if (Cesium__namespace.TileProviderError.handleError) {
        this._metadataError = Cesium__namespace.TileProviderError.handleError(this._metadataError, this, this._errorEvent, _0x1f3310, undefined, undefined, undefined, this._requestMetadata);
      }
      if ((_0x2fd4a1 = this._readyPromise) !== null && _0x2fd4a1 !== undefined && _0x2fd4a1.reject) {
        this._readyPromise.reject(new Cesium__namespace.RuntimeError(_0x1f3310));
      }
    }
    getTileCredits(_0x2bddf4, _0x5336c7, _0x56ffd8) {
      return undefined;
    }
    requestImage(_0x590782, _0x2ef5d1, _0x4acb23, _0x45e001) {
      return Cesium__namespace.ImageryProvider.loadImage(this, this._buildImageResource(_0x590782, _0x2ef5d1, _0x4acb23, _0x45e001));
    }
    _buildImageResource(_0x527f89, _0x35427c, _0x2815bd, _0x2f2dcf) {
      let _0x8cb43c = this._useTiles;
      if (_0x8cb43c && Cesium__namespace.defined(this._maxTileLevel)) {
        _0x8cb43c = _0x2815bd < this._maxTileLevel;
      }
      if (_0x8cb43c) {
        if (this._crs === CRS.EPSG4490) {
          _0x2815bd = _0x2815bd + 1;
        }
        const _0x4832ce = {
          url: "tile/" + _0x2815bd + "/" + _0x35427c + "/" + _0x527f89,
          request: _0x2f2dcf
        };
        return this._resource.getDerivedResource(_0x4832ce);
      } else {
        const _0xf9d076 = this._tilingScheme.tileXYToNativeRectangle(_0x527f89, _0x35427c, _0x2815bd);
        const _0x52a1d5 = _0xf9d076.west + "," + _0xf9d076.south + "," + _0xf9d076.east + "," + _0xf9d076.north;
        const _0xbcbb9b = {
          bbox: _0x52a1d5,
          size: this._tileWidth + "," + this._tileHeight,
          format: "png32",
          transparent: true,
          f: "image"
        };
        const _0x56ece7 = _0xbcbb9b;
        if (this._tilingScheme.projection instanceof Cesium__namespace.GeographicProjection) {
          _0x56ece7.bboxSR = this._wkid || 4326;
          _0x56ece7.imageSR = this._wkid || 4326;
        } else {
          _0x56ece7.bboxSR = this._wkid || 3857;
          _0x56ece7.imageSR = this._wkid || 3857;
        }
        if (this.layers) {
          _0x56ece7.layers = "show:" + this.layers;
        }
        if (this.layerDefs) {
          _0x56ece7.layerDefs = this.layerDefs;
        }
        const _0x74e202 = {
          url: "export",
          request: _0x2f2dcf,
          queryParameters: _0x56ece7
        };
        return this._resource.getDerivedResource(_0x74e202);
      }
    }
    pickFeatures(_0x125a32, _0x5e4d7a, _0x479a2c, _0x404ba4, _0x1ef177) {
      if (!this.enablePickFeatures) {
        return undefined;
      }
      const _0x11538a = this._tilingScheme.tileXYToNativeRectangle(_0x125a32, _0x5e4d7a, _0x479a2c);
      let _0x39f463;
      let _0x3a71fe;
      let _0x5b5b3a;
      if (this._tilingScheme.projection instanceof Cesium__namespace.GeographicProjection) {
        _0x39f463 = Cesium__namespace.Math.toDegrees(_0x404ba4);
        _0x3a71fe = Cesium__namespace.Math.toDegrees(_0x1ef177);
        _0x5b5b3a = "4326";
      } else {
        const _0x2fa9d2 = this._tilingScheme.projection.project(new Cesium__namespace.Cartographic(_0x404ba4, _0x1ef177, 0));
        _0x39f463 = _0x2fa9d2.x;
        _0x3a71fe = _0x2fa9d2.y;
        _0x5b5b3a = "3857";
      }
      let _0x3fc382 = "visible";
      if (Cesium__namespace.defined(this.layers)) {
        _0x3fc382 += ":" + this.layers;
      }
      const _0x2a9179 = {
        f: "json",
        tolerance: 2,
        geometryType: "esriGeometryPoint",
        geometry: _0x39f463 + "," + _0x3a71fe,
        mapExtent: _0x11538a.west + "," + _0x11538a.south + "," + _0x11538a.east + "," + _0x11538a.north,
        imageDisplay: this._tileWidth + "," + this._tileHeight + ",96",
        sr: _0x5b5b3a,
        layers: _0x3fc382
      };
      const _0x5150df = _0x2a9179;
      if (Cesium__namespace.defined(this.layerDefs)) {
        _0x5150df.layerDefs = this.layerDefs;
      }
      const _0xd8801f = {
        url: "identify",
        queryParameters: _0x5150df
      };
      const _0x4900b2 = this._resource.getDerivedResource(_0xd8801f);
      return _0x4900b2.fetchJson().then(function (_0x18d3fa) {
        const _0x4544ed = [];
        const _0x1d2d9b = _0x18d3fa.results;
        if (!Cesium__namespace.defined(_0x1d2d9b)) {
          return _0x4544ed;
        }
        const _0x3d10a5 = "EPSG:" + _0x5b5b3a;
        for (let _0x2e8805 = 0; _0x2e8805 < _0x1d2d9b.length; ++_0x2e8805) {
          const _0x157ef3 = _0x1d2d9b[_0x2e8805];
          const _0x444ee4 = new Cesium__namespace.ImageryLayerFeatureInfo();
          _0x444ee4.data = _0x157ef3;
          _0x444ee4.crs = _0x3d10a5;
          _0x444ee4.name = _0x157ef3.value;
          _0x444ee4.properties = _0x157ef3.attributes;
          _0x444ee4.configureDescriptionFromProperties(_0x157ef3.attributes);
          _0x4544ed.push(_0x444ee4);
        }
        return _0x4544ed;
      });
    }
  }
  function getCRSByWkid(_0x110b16) {
    switch (_0x110b16) {
      case 4326:
      case 4283:
        return CRS.EPSG4326;
      case 4490:
        return CRS.EPSG4490;
      case 102100:
      case 900913:
      case 3857:
        return CRS.EPSG3857;
      default:
        if (isNumber(_0x110b16)) {
          return "EPSG:" + _0x110b16;
        } else {
          return undefined;
        }
    }
  }
  class ArcGisLayer extends BaseTileLayer {
    get crs() {
      return this.imageryProvider?._crs || this.options.crs || CRS.EPSG4326;
    }
    get capabilities() {
      return this.imageryProvider?.capabilities;
    }
    async _createImageryProvider(_0x180e77) {
      return await createImageryProvider$g(_0x180e77);
    }
    hasPopup() {
      if (this._popupConfig) {
        return true;
      }
      return false;
    }
    bindPopup(_0x51f731, _0x441695) {
      this._popupConfig = {
        content: _0x51f731,
        options: _0x441695,
        layer: this
      };
      this._bindControl();
      return this;
    }
    unbindPopup() {
      this.closePopup();
      this._popupConfig = null;
      return this;
    }
    closePopup() {
      var _0x1fc244;
      if ((_0x1fc244 = this._map) !== null && _0x1fc244 !== undefined && _0x1fc244.popup && this.hasPopup()) {
        this._map.popup.close(null, this);
      }
      return this;
    }
  }
  async function createImageryProvider$g(_0x31eec1) {
    if (Cesium__namespace.defined(_0x31eec1.layer) && !Cesium__namespace.defined(_0x31eec1.url)) {
      switch (_0x31eec1.layer) {
        case "vec":
          _0x31eec1.url = "https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer";
          break;
        case "img_d":
          _0x31eec1.url = "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer";
          break;
      }
    }
    _0x31eec1 = converOptions(_0x31eec1);
    if (_0x31eec1.czm) {
      return await Cesium__namespace.ArcGisMapServerImageryProvider.fromUrl(_0x31eec1.url, _0x31eec1);
    } else {
      const _0x3cf237 = new ArcGisImageryProvider(_0x31eec1);
      await _0x3cf237.readyPromise;
      return _0x3cf237;
    }
  }
  ArcGisLayer.createImageryProvider = createImageryProvider$g;
  const layerType$h = "arcgis";
  register$3(layerType$h, ArcGisLayer);
  registerImageryProvider(layerType$h, createImageryProvider$g);
  class BaiduLayer extends BaseTileLayer {
    async _createImageryProvider(_0x1433ee) {
      return await createImageryProvider$f(_0x1433ee);
    }
  }
  async function createImageryProvider$f(_0x27444a) {
    _0x27444a = converOptions(_0x27444a);
    return new BaiduImageryProvider(_0x27444a);
  }
  BaiduLayer.createImageryProvider = createImageryProvider$f;
  const layerType$g = "baidu";
  register$3(layerType$g, BaiduLayer);
  registerImageryProvider(layerType$g, createImageryProvider$f);
  class BingLayer extends BaseTileLayer {
    async _createImageryProvider(_0x279ebe) {
      return await createImageryProvider$e(_0x279ebe);
    }
  }
  async function createImageryProvider$e(_0x750573) {
    const _0xf9a950 = _0x750573.url ?? "https://dev.virtualearth.net";
    _0x750573.culture = _0x750573.culture ?? "zh-Hans";
    _0x750573.key = _0x750573.key ?? bing;
    _0x750573.layer = _0x750573.layer ?? Cesium__namespace.BingMapsStyle.Aerial;
    _0x750573 = converOptions(_0x750573);
    const _0x11bfe1 = {
      mapStyle: _0x750573.layer,
      ..._0x750573
    };
    return await Cesium__namespace.BingMapsImageryProvider.fromUrl(_0xf9a950, _0x11bfe1);
  }
  BingLayer.createImageryProvider = createImageryProvider$e;
  const layerType$f = "bing";
  register$3(layerType$f, BingLayer);
  registerImageryProvider(layerType$f, createImageryProvider$e);
  class GaodeLayer extends BaseTileLayer {
    async _createImageryProvider(_0xaf41e) {
      return await createImageryProvider$d(_0xaf41e);
    }
  }
  async function createImageryProvider$d(_0x260208) {
    _0x260208.chinaCRS = _0x260208.chinaCRS || ChinaCRS.GCJ02;
    _0x260208 = converOptions(_0x260208);
    return new GaodeImageryProvider(_0x260208);
  }
  GaodeLayer.createImageryProvider = createImageryProvider$d;
  const layerType$e = "gaode";
  register$3(layerType$e, GaodeLayer);
  registerImageryProvider(layerType$e, createImageryProvider$d);
  class GeeLayer extends BaseTileLayer {
    async _createImageryProvider(_0x260a8b) {
      return await createImageryProvider$c(_0x260a8b);
    }
  }
  async function createImageryProvider$c(_0x4e8a92) {
    _0x4e8a92 = converOptions(_0x4e8a92);
    const _0x3b96a0 = await Cesium__namespace.GoogleEarthEnterpriseMetadata.fromUrl(_0x4e8a92.url);
    return new Cesium__namespace.GoogleEarthEnterpriseImageryProvider.fromMetadata(_0x3b96a0, _0x4e8a92);
  }
  GeeLayer.createImageryProvider = createImageryProvider$c;
  const layerType$d = "gee";
  register$3(layerType$d, GeeLayer);
  registerImageryProvider(layerType$d, createImageryProvider$c);
  class GoogleLayer extends BaseTileLayer {
    async _createImageryProvider(_0x5727f6) {
      return await createImageryProvider$b(_0x5727f6);
    }
  }
  async function createImageryProvider$b(_0x2d92c6) {
    _0x2d92c6.chinaCRS = _0x2d92c6.chinaCRS || ChinaCRS.GCJ02;
    _0x2d92c6 = converOptions(_0x2d92c6);
    return new GoogleImageryProvider(_0x2d92c6);
  }
  GoogleLayer.createImageryProvider = createImageryProvider$b;
  const layerType$c = "google";
  register$3(layerType$c, GoogleLayer);
  registerImageryProvider(layerType$c, createImageryProvider$b);
  class ImageLayer extends BaseTileLayer {
    get url() {
      return this.options.url;
    }
    set url(_0xf1b1b7) {
      this.options.url = _0xf1b1b7;
      this.reload();
    }
    get image() {
      return this.imageryProvider?._image;
    }
    async _createImageryProvider(_0x2efa3f) {
      return await createImageryProvider$a(_0x2efa3f);
    }
  }
  async function createImageryProvider$a(_0xd5bdba) {
    if (!_0xd5bdba.url) {
      return null;
    }
    _0xd5bdba = converOptions(_0xd5bdba);
    const _0x2938e0 = new Cesium__namespace.SingleTileImageryProvider(_0xd5bdba);
    if (_0xd5bdba.crs === CRS.EPSG3857) {
      let _0x342825;
      let _0x545178;
      if (_0xd5bdba.rectangle) {
        const _0x1dc866 = LngLatPoint.fromCartographic(new Cesium__namespace.Cartographic(_0xd5bdba.rectangle.west, _0xd5bdba.rectangle.south)).toMercator();
        const _0x7f319f = LngLatPoint.fromCartographic(new Cesium__namespace.Cartographic(_0xd5bdba.rectangle.east, _0xd5bdba.rectangle.north)).toMercator();
        _0x342825 = new Cesium__namespace.Cartesian2(_0x1dc866[0], _0x1dc866[1]);
        _0x545178 = new Cesium__namespace.Cartesian2(_0x7f319f[0], _0x7f319f[1]);
      }
      const _0x3c0a63 = {
        numberOfLevelZeroTilesX: _0xd5bdba.numberOfLevelZeroTilesX || 1,
        numberOfLevelZeroTilesY: _0xd5bdba.numberOfLevelZeroTilesY || 1,
        rectangleSouthwestInMeters: _0x342825,
        rectangleNortheastInMeters: _0x545178
      };
      _0x2938e0._tilingScheme = new Cesium__namespace.WebMercatorTilingScheme(_0x3c0a63);
    }
    await _0x2938e0.requestImage();
    return _0x2938e0;
  }
  ImageLayer.createImageryProvider = createImageryProvider$a;
  const layerType$b = "image";
  register$3(layerType$b, ImageLayer);
  registerImageryProvider(layerType$b, createImageryProvider$a);
  class MapboxLayer extends BaseTileLayer {
    async _createImageryProvider(_0x5347e1) {
      return await createImageryProvider$9(_0x5347e1);
    }
  }
  async function createImageryProvider$9(_0x4e8b05) {
    _0x4e8b05.url = _0x4e8b05.url ?? "https://api.mapbox.com/styles/v1";
    _0x4e8b05.username = _0x4e8b05.username ?? "marsgis";
    _0x4e8b05.accessToken = _0x4e8b05.token ?? _0x4e8b05.accessToken ?? mapbox;
    _0x4e8b05.scaleFactor = _0x4e8b05.scaleFactor ? true : undefined;
    _0x4e8b05 = converOptions(_0x4e8b05);
    const _0x4653fd = new Cesium__namespace.MapboxStyleImageryProvider(_0x4e8b05);
    Promise.resolve(_0x4e8b05).then(function (_0x1609be) {
      if (_0x4e8b05.tilingScheme) {
        _0x4653fd._imageryProvider._tilingScheme = _0x4e8b05.tilingScheme;
      }
    });
    return _0x4653fd;
  }
  MapboxLayer.createImageryProvider = createImageryProvider$9;
  const layerType$a = "mapbox";
  register$3(layerType$a, MapboxLayer);
  registerImageryProvider(layerType$a, createImageryProvider$9);
  class OsmLayer extends BaseTileLayer {
    async _createImageryProvider(_0x277b77) {
      return await createImageryProvider$8(_0x277b77);
    }
  }
  async function createImageryProvider$8(_0x46f9b0) {
    _0x46f9b0 = converOptions(_0x46f9b0);
    return new OsmImageryProvider(_0x46f9b0);
  }
  OsmLayer.createImageryProvider = createImageryProvider$8;
  const layerType$9 = "osm";
  register$3(layerType$9, OsmLayer);
  registerImageryProvider(layerType$9, createImageryProvider$8);
  class TdtLayer extends BaseTileLayer {
    async _createImageryProvider(_0x229745) {
      return await createImageryProvider$7(_0x229745);
    }
  }
  async function createImageryProvider$7(_0x366c67) {
    _0x366c67.chinaCRS = _0x366c67.chinaCRS || ChinaCRS.WGS84;
    _0x366c67 = converOptions(_0x366c67);
    return new TdtImageryProvider(_0x366c67);
  }
  TdtLayer.createImageryProvider = createImageryProvider$7;
  const layerType$8 = "tdt";
  register$3(layerType$8, TdtLayer);
  registerImageryProvider(layerType$8, createImageryProvider$7);
  class TencentLayer extends BaseTileLayer {
    async _createImageryProvider(_0x30f816) {
      return await createImageryProvider$6(_0x30f816);
    }
  }
  async function createImageryProvider$6(_0x49cffb) {
    _0x49cffb.chinaCRS = _0x49cffb.chinaCRS || ChinaCRS.GCJ02;
    _0x49cffb = converOptions(_0x49cffb);
    return new TencentImageryProvider(_0x49cffb);
  }
  TencentLayer.createImageryProvider = createImageryProvider$6;
  const layerType$7 = "tencent";
  register$3(layerType$7, TencentLayer);
  registerImageryProvider(layerType$7, createImageryProvider$6);
  class TmsLayer extends BaseTileLayer {
    async _createImageryProvider(_0x4d1448) {
      return await createImageryProvider$5(_0x4d1448);
    }
  }
  async function createImageryProvider$5(_0x3f6609) {
    _0x3f6609 = converOptions(_0x3f6609);
    if (!_0x3f6609.url) {
      _0x3f6609.url = Cesium__namespace.buildModuleUrl("Assets/Textures/NaturalEarthII");
    }
    return await Cesium__namespace.TileMapServiceImageryProvider.fromUrl(_0x3f6609.url, _0x3f6609);
  }
  TmsLayer.createImageryProvider = createImageryProvider$5;
  const layerType$6 = "tms";
  register$3(layerType$6, TmsLayer);
  registerImageryProvider(layerType$6, createImageryProvider$5);
  class WmsLayer extends BaseTileLayer {
    _addedHook() {
      if (this.options.getCapabilities ?? true) {
        this.getMetadata().then(() => {
          if (this.isAdded) {
            super._addedHook();
          }
        });
      } else {
        super._addedHook();
      }
    }
    async _createImageryProvider(_0x5857d9) {
      return await createImageryProvider$4(_0x5857d9);
    }
    getMetadata() {
      return new Promise((_0x6112b5, _0x190808) => {
        if (this.capabilities) {
          _0x6112b5(this.capabilities);
          return;
        }
        const _0x4d7dd3 = {
          version: "1.3.0",
          ...this.options.parameters
        };
        _0x4d7dd3.service = "WMS";
        _0x4d7dd3.request = "GetCapabilities";
        const _0x4a7fdb = _0x4d7dd3;
        Cesium__namespace.Resource.fetchXML({
          ...this.options,
          url: this.getUrl(),
          templateValues: {
            ...this._map?.templateValues,
            s: this.subdomainItem
          },
          queryParameters: _0x4a7fdb,
          proxy: this._proxy
        }).then(_0x42e65c => {
          if (this.isDestroy) {
            return;
          }
          if (_0x42e65c) {
            this.capabilities = _0x42e65c;
            try {
              this._initByMetaData(_0x42e65c);
            } catch (_0x48de31) {
              logInfo("WMS 解析GetCapabilities有误", _0x48de31);
            }
          }
          _0x6112b5(_0x42e65c);
          const _0x6c43ab = {
            capabilities: _0x42e65c
          };
          this.fire(EventType.loadConfig, _0x6c43ab);
        }).catch(_0xab69d7 => {
          logInfo("WMS getMetadata请求出错", _0xab69d7);
          _0x6112b5(_0xab69d7);
        });
      });
    }
    _initByMetaData(_0x1986ad) {
      let _0x45ad38 = this.options.layers;
      if (_0x45ad38.indexOf(":") !== -1) {
        _0x45ad38 = _0x45ad38.split(":")[1];
      }
      const _0x1fd858 = this._readChildNode(_0x1986ad, "Layer");
      if (!_0x1fd858) {
        return;
      }
      const _0x16846d = this._readNode(_0x1fd858, "Layer");
      if (!_0x16846d) {
        return;
      }
      for (let _0x269730 = 0, _0x37e5c1 = _0x16846d.length; _0x269730 < _0x37e5c1; _0x269730++) {
        const _0x4640a7 = _0x16846d[_0x269730];
        const _0x1e0874 = this._readChildNodeVal(_0x4640a7, "Name");
        const _0x189d19 = this._readChildNodeVal(_0x4640a7, "Title");
        if (_0x1e0874 === _0x45ad38 || _0x189d19 === _0x45ad38) {
          const _0x4c79d4 = this._readChildNodeVal(_0x4640a7, "CRS");
          if (!this.options.crs && _0x4c79d4) {
            this.options.crs = _0x4c79d4;
          }
          const _0x5f3c27 = this._readChildNode(_0x4640a7, "BoundingBox");
          if (!this.options.rectangle && _0x5f3c27) {
            const _0xb3b31 = Number(_0x5f3c27.getAttribute("minx"));
            const _0x1efc37 = Number(_0x5f3c27.getAttribute("maxx"));
            const _0x42803c = Number(_0x5f3c27.getAttribute("miny"));
            const _0x4eb457 = Number(_0x5f3c27.getAttribute("maxy"));
            this._setExtent(_0xb3b31, _0x42803c, _0x1efc37, _0x4eb457);
          }
          break;
        }
      }
    }
    _readNode(_0x2e5d66, _0x241505) {
      if (!_0x2e5d66) {
        return null;
      }
      let _0x1ff487 = _0x2e5d66.getElementsByTagName(_0x241505);
      if (!_0x1ff487 || _0x1ff487.length === 0) {
        _0x1ff487 = _0x2e5d66.getElementsByTagName("wms:" + _0x241505);
      }
      return _0x1ff487;
    }
    _readChildNode(_0x4fffc4, _0x14d294) {
      if (!_0x4fffc4) {
        return null;
      }
      const _0x5da9ce = this._readNode(_0x4fffc4, _0x14d294);
      if (_0x5da9ce.length > 0) {
        return _0x5da9ce[0];
      } else {
        return null;
      }
    }
    _readChildNodeVal(_0x270a2e, _0x2afd48) {
      var _0x563ccf;
      var _0x138103;
      if (!_0x270a2e) {
        return null;
      }
      let _0x268cf2 = this._readChildNode(_0x270a2e, _0x2afd48);
      if (!_0x268cf2) {
        _0x268cf2 = this._readChildNode(_0x270a2e, "wms:" + _0x2afd48);
      }
      if ((_0x563ccf = _0x268cf2) !== null && _0x563ccf !== undefined && _0x563ccf.innerHTML) {
        return _0x268cf2.innerHTML;
      } else if ((_0x138103 = _0x268cf2) !== null && _0x138103 !== undefined && _0x138103.getInnerHTML) {
        return _0x268cf2.getInnerHTML();
      } else {
        return null;
      }
    }
    hasPopup() {
      if (this._popupConfig) {
        return true;
      }
      return false;
    }
    bindPopup(_0x454317, _0x5b6240) {
      this._popupConfig = {
        content: _0x454317,
        options: _0x5b6240,
        layer: this
      };
      this._bindControl();
      return this;
    }
    unbindPopup() {
      this.closePopup();
      this._popupConfig = null;
      return this;
    }
    closePopup() {
      var _0x372b4b;
      if ((_0x372b4b = this._map) !== null && _0x372b4b !== undefined && _0x372b4b.popup && this.hasPopup()) {
        this._map.popup.close(null, this);
      }
      return this;
    }
  }
  async function createImageryProvider$4(_0x5a09bc) {
    _0x5a09bc = converOptions(_0x5a09bc);
    return new Cesium__namespace.WebMapServiceImageryProvider(_0x5a09bc);
  }
  WmsLayer.createImageryProvider = createImageryProvider$4;
  const layerType$5 = "wms";
  register$3(layerType$5, WmsLayer);
  registerImageryProvider(layerType$5, createImageryProvider$4);
  class WmtsLayer extends BaseTileLayer {
    _addedHook() {
      if (this.options.tileMatrixSet && !this.options.tileMatrixSetID) {
        this.options.tileMatrixSetID = this.options.tileMatrixSet;
      }
      if (this.options.getCapabilities ?? true) {
        this.getMetadata().then(() => {
          if (this.isAdded) {
            super._addedHook();
          }
        });
      } else {
        super._addedHook();
      }
    }
    async _createImageryProvider(_0x63d3e6) {
      _0x63d3e6.style = _0x63d3e6.style || "";
      const _0x10bf88 = await createImageryProvider$3(_0x63d3e6);
      if (_0x63d3e6.pickFeatures) {
        _0x10bf88.pickFeatures = _0x63d3e6.pickFeatures;
      } else if (_0x63d3e6.pickFeaturesUrl) {
        _0x10bf88.pickFeatures = (_0x590bc7, _0x331aa3, _0x163437, _0x31d3ec, _0xc2a8d) => {
          return this.pickFeatures(_0x590bc7, _0x331aa3, _0x163437, _0x31d3ec, _0xc2a8d);
        };
      }
      return _0x10bf88;
    }
    pickFeatures(_0x2ac887, _0xd279f9, _0x16c9a9, _0x23ebd8, _0x6de7f2) {
      if (!this.options.enablePickFeatures) {
        return undefined;
      }
      const _0xe6e205 = this.imageryProvider;
      const _0x1a14ef = new Cesium__namespace.Cartesian3();
      const _0x3507a5 = _0xe6e205.tilingScheme.projection;
      if (_0x3507a5 instanceof Cesium__namespace.GeographicProjection) {
        _0x1a14ef.x = Cesium__namespace.Math.toDegrees(_0x23ebd8);
        _0x1a14ef.y = Cesium__namespace.Math.toDegrees(_0x6de7f2);
      } else {
        const _0x33fd50 = new Cesium__namespace.Cartographic();
        _0x33fd50.longitude = _0x23ebd8;
        _0x33fd50.latitude = _0x6de7f2;
        _0x3507a5.project(_0x33fd50, _0x1a14ef);
      }
      const _0x4fa96b = new Cesium__namespace.Cartesian2();
      const _0x13dfaa = _0xe6e205.tilingScheme.tileXYToNativeRectangle(_0x2ac887, _0xd279f9, _0x16c9a9, new Cesium__namespace.Rectangle());
      _0x4fa96b.x = _0xe6e205.tileWidth * (_0x1a14ef.x - _0x13dfaa.west) / _0x13dfaa.width | 0;
      _0x4fa96b.y = _0xe6e205.tileHeight * (_0x13dfaa.north - _0x1a14ef.y) / _0x13dfaa.height | 0;
      const _0x3eb020 = {
        info_format: "application/json",
        version: "1.1.1",
        service: "WMS",
        request: "GetFeatureInfo",
        layers: this.options.layer,
        query_layers: this.options.layer,
        srs: this.options.crs ?? (_0x3507a5 instanceof Cesium__namespace.WebMercatorProjection ? "EPSG:3857" : "EPSG:4326"),
        ...(this.options.getFeatureInfoParameters || {})
      };
      _0x3eb020.bbox = _0x13dfaa.west + "," + _0x13dfaa.south + "," + _0x13dfaa.east + "," + _0x13dfaa.north;
      _0x3eb020.width = _0xe6e205.tileWidth;
      _0x3eb020.height = _0xe6e205.tileHeight;
      _0x3eb020.x = _0x4fa96b.x;
      _0x3eb020.y = _0x4fa96b.y;
      const _0x15a5fa = _0x3eb020;
      if (this.options.getFeatureInfoFormat === "xml") {
        const _0x4eb048 = new Cesium__namespace.GetFeatureInfoFormat("xml", "text/xml");
        const _0x43a02a = {
          ...this.options
        };
        _0x43a02a.url = this.options.pickFeaturesUrl;
        _0x43a02a.queryParameters = _0x15a5fa;
        _0x43a02a.proxy = this._proxy;
        return Cesium__namespace.Resource.fetchXML(_0x43a02a).then(_0x5952ef => {
          if (this.isDestroy) {
            return;
          }
          const _0x38bf2a = _0x4eb048.callback(_0x5952ef);
          for (let _0xd3e751 = 0; _0xd3e751 < _0x38bf2a.length; _0xd3e751++) {
            const _0x285ab5 = _0x38bf2a[_0xd3e751];
            const _0x4dcd7b = this._readChildNode(_0x285ab5.data, "FeatureInfoResponse");
            if (!_0x4dcd7b) {
              continue;
            }
            const _0x552b4e = this._readChildNode(_0x4dcd7b, "fields");
            if (!_0x552b4e) {
              continue;
            }
            const _0x9fd1c5 = {};
            const _0x5f23c5 = _0x552b4e.getAttributeNames();
            _0x5f23c5.forEach(_0xb83051 => {
              _0x9fd1c5[_0xb83051] = _0x552b4e.getAttribute(_0xb83051);
            });
            _0x285ab5.properties = _0x9fd1c5;
          }
          return _0x38bf2a;
        });
      } else {
        const _0x43930f = {
          ...this.options
        };
        _0x43930f.url = this.options.pickFeaturesUrl;
        _0x43930f.queryParameters = _0x15a5fa;
        _0x43930f.proxy = this._proxy;
        return Cesium__namespace.Resource.fetchJson(_0x43930f).then(_0xb6031c => {
          if (this.isDestroy) {
            return;
          }
          const _0x4c47fc = [];
          const _0x5ead2d = _0xb6031c.features;
          for (let _0x4210da = 0; _0x4210da < _0x5ead2d.length; ++_0x4210da) {
            const _0x1c99e0 = _0x5ead2d[_0x4210da];
            const _0x3adb5b = new Cesium__namespace.ImageryLayerFeatureInfo();
            _0x3adb5b.data = _0x1c99e0;
            _0x3adb5b.properties = _0x1c99e0.properties;
            _0x3adb5b.configureNameFromProperties(_0x1c99e0.properties);
            _0x3adb5b.configureDescriptionFromProperties(_0x1c99e0.properties);
            if (Cesium__namespace.defined(_0x1c99e0.geometry) && _0x1c99e0.geometry.type === "Point") {
              const _0x24759a = _0x1c99e0.geometry.coordinates[0];
              const _0x31cd49 = _0x1c99e0.geometry.coordinates[1];
              _0x3adb5b.position = Cesium__namespace.Cartographic.fromDegrees(_0x24759a, _0x31cd49);
            }
            _0x4c47fc.push(_0x3adb5b);
          }
          return _0x4c47fc;
        });
      }
    }
    getMetadata() {
      return new Promise((_0x7bf911, _0x33ac48) => {
        if (this.capabilities) {
          _0x7bf911(this.capabilities);
          return;
        }
        const _0x14301a = {
          version: "1.0.0",
          ...this.options.parameters
        };
        _0x14301a.service = "WMTS";
        _0x14301a.request = "GetCapabilities";
        const _0x1efcca = _0x14301a;
        Cesium__namespace.Resource.fetchXML({
          ...this.options,
          url: this.getUrl(),
          templateValues: {
            ...this._map?.templateValues,
            s: this.subdomainItem
          },
          queryParameters: _0x1efcca,
          proxy: this._proxy
        }).then(_0x139758 => {
          if (this.isDestroy) {
            return;
          }
          if (_0x139758) {
            this.capabilities = _0x139758;
            try {
              this._initByMetaData(_0x139758);
            } catch (_0x2096c0) {
              logInfo("解析GetCapabilities出错", _0x2096c0);
            }
          }
          _0x7bf911(_0x139758);
          const _0x3f0cd6 = {
            capabilities: _0x139758
          };
          this.fire(EventType.loadConfig, _0x3f0cd6);
        }).catch(_0x156ed6 => {
          logInfo("WMTS GetCapabilities请求出错", _0x156ed6);
          _0x7bf911(_0x156ed6);
        });
      });
    }
    _initByMetaData(_0x429b56) {
      const _0x324c4f = this._readChildNode(_0x429b56, "Contents");
      if (!_0x324c4f) {
        return;
      }
      const _0x35f168 = this._readNode(_0x324c4f, "Layer");
      if (!_0x35f168) {
        return;
      }
      let _0x4376c3;
      for (let _0xea7ad4 = 0, _0x3b618a = _0x35f168.length; _0xea7ad4 < _0x3b618a; _0xea7ad4++) {
        const _0x418c1d = _0x35f168[_0xea7ad4];
        const _0x14ec20 = this._readChildNodeVal(_0x418c1d, "ows:Identifier");
        if (_0x14ec20 === this.options.layer) {
          _0x4376c3 = _0x418c1d;
          break;
        }
      }
      if (!_0x4376c3) {
        let _0x1a3489 = this.options.layer;
        if (_0x1a3489.indexOf(":") !== -1) {
          _0x1a3489 = _0x1a3489.substr(_0x1a3489.indexOf(":") + 1);
        }
        for (let _0x6544d7 = 0, _0x5db19f = _0x35f168.length; _0x6544d7 < _0x5db19f; _0x6544d7++) {
          const _0x1e37ca = _0x35f168[_0x6544d7];
          const _0x3ee41d = this._readChildNodeVal(_0x1e37ca, "ows:Identifier");
          if (_0x3ee41d === _0x1a3489) {
            _0x4376c3 = _0x1e37ca;
            break;
          }
        }
      }
      if (_0x4376c3) {
        const _0x75b541 = this._readChildNode(_0x4376c3, "ows:WGS84BoundingBox");
        if (!this.options.rectangle && _0x75b541) {
          let _0x21a336 = this._readChildNodeVal(_0x75b541, "ows:LowerCorner");
          let _0x40c829 = this._readChildNodeVal(_0x75b541, "ows:UpperCorner");
          if (_0x21a336 && _0x40c829) {
            _0x21a336 = _0x21a336.split(" ");
            _0x40c829 = _0x40c829.split(" ");
            const _0x244cf0 = Number(_0x21a336[0]);
            const _0xdd233d = Number(_0x40c829[0]);
            const _0x268221 = Number(_0x21a336[1]);
            const _0xec57f0 = Number(_0x40c829[1]);
            this._setExtent(_0x244cf0, _0x268221, _0xdd233d, _0xec57f0);
          }
        }
        if (!Cesium__namespace.defined(this.options.style)) {
          this.options.style = this._readChildNodeVal(this._readChildNode(_0x4376c3, "Style"), "ows:Identifier") || "default";
        }
        const _0x184068 = _0x4376c3.getElementsByTagName("TileMatrixSetLink");
        for (let _0x34858e = 0, _0x17d8a7 = _0x184068.length; _0x34858e < _0x17d8a7; _0x34858e++) {
          const _0x4a63ae = _0x184068[_0x34858e];
          const _0x22257a = this._readChildNodeVal(_0x4a63ae, "TileMatrixSet");
          if (!Cesium__namespace.defined(this.options.tileMatrixSetID) && _0x22257a) {
            this.options.tileMatrixSetID = _0x22257a;
          }
          if (!this.options.crs && (_0x22257a === "EPSG:4326" || _0x22257a === "EPSG:4490")) {
            this.options.crs = _0x22257a;
          }
          if (_0x22257a === this.options.tileMatrixSetID) {
            if (!this.options.tileMatrixLabels) {
              const _0x4cae05 = this._readChildNode(_0x4a63ae, "TileMatrixSetLimits");
              if (_0x4cae05) {
                const _0x3ed61e = _0x4cae05.getElementsByTagName("TileMatrixLimits");
                const _0x3944f2 = [];
                for (let _0x53dc34 = 0, _0xebe598 = _0x3ed61e.length; _0x53dc34 < _0xebe598; _0x53dc34++) {
                  const _0x245055 = this._readChildNodeVal(_0x3ed61e[_0x53dc34], "TileMatrix");
                  _0x3944f2.push(_0x245055);
                }
                this.options.tileMatrixLabels = _0x3944f2;
              } else if (!this.options.tileMatrixBefore) {
                this.options.tileMatrixBefore = _0x22257a + ":";
              }
            }
            break;
          }
        }
      }
    }
    _readNode(_0x1990f3, _0x62a66b) {
      if (!_0x1990f3) {
        return null;
      }
      let _0x151970 = _0x1990f3.getElementsByTagName(_0x62a66b);
      if (!_0x151970 || _0x151970.length === 0) {
        _0x151970 = _0x1990f3.getElementsByTagName("wmts:" + _0x62a66b);
      }
      return _0x151970;
    }
    _readChildNode(_0x365373, _0x328355) {
      if (!_0x365373) {
        return null;
      }
      const _0x1548c1 = this._readNode(_0x365373, _0x328355);
      if (_0x1548c1.length > 0) {
        return _0x1548c1[0];
      } else {
        return null;
      }
    }
    _readChildNodeVal(_0x57501f, _0x2c7055) {
      var _0x525dbe;
      var _0x19ab74;
      if (!_0x57501f) {
        return null;
      }
      let _0x2abdfa = this._readChildNode(_0x57501f, _0x2c7055);
      if (!_0x2abdfa) {
        _0x2abdfa = this._readChildNode(_0x57501f, "wmts:" + _0x2c7055);
      }
      if ((_0x525dbe = _0x2abdfa) !== null && _0x525dbe !== undefined && _0x525dbe.innerHTML) {
        return _0x2abdfa.innerHTML;
      } else if ((_0x19ab74 = _0x2abdfa) !== null && _0x19ab74 !== undefined && _0x19ab74.getInnerHTML) {
        return _0x2abdfa.getInnerHTML();
      } else {
        return null;
      }
    }
  }
  async function createImageryProvider$3(_0x41cd9b) {
    _0x41cd9b = converOptions(_0x41cd9b);
    if (_0x41cd9b.tileMatrixBefore && !_0x41cd9b.tileMatrixLabels) {
      _0x41cd9b.tileMatrixLabels = [...Array(21).keys()].map(_0x693f26 => _0x41cd9b.tileMatrixBefore + _0x693f26);
    }
    if (_0x41cd9b.crs === CRS.EPSG4490 && !_0x41cd9b.tileMatrixLabels) {
      _0x41cd9b.tileMatrixLabels = [...Array(21).keys()].map(_0xf332a8 => (_0x41cd9b.tileMatrixBefore || "") + (_0xf332a8 + 1).toString());
    }
    return new Cesium__namespace.WebMapTileServiceImageryProvider(_0x41cd9b);
  }
  WmtsLayer.createImageryProvider = createImageryProvider$3;
  const layerType$4 = "wmts";
  register$3(layerType$4, WmtsLayer);
  registerImageryProvider(layerType$4, createImageryProvider$3);
  class XyzLayer extends BaseTileLayer {
    async _createImageryProvider(_0x3eaf9b) {
      return await createImageryProvider$2(_0x3eaf9b);
    }
  }
  async function createImageryProvider$2(_0x3d6700) {
    _0x3d6700 = converOptions(_0x3d6700);
    if (Cesium__namespace.defined(_0x3d6700.assetId)) {
      return await Cesium__namespace.IonImageryProvider.fromAssetId(_0x3d6700.assetId, {
        accessToken: _0x3d6700.ionToken ?? _0x3d6700.accessToken,
        server: _0x3d6700.ionServer
      });
    }
    if (_0x3d6700.chinaCRS === ChinaCRS.BAIDU) {
      return new BaiduImageryProvider(_0x3d6700);
    } else {
      return new XyzImageryProvider(_0x3d6700);
    }
  }
  XyzLayer.createImageryProvider = createImageryProvider$2;
  const layerType$3 = "xyz";
  register$3(layerType$3, XyzLayer);
  registerImageryProvider(layerType$3, createImageryProvider$2);
  class GridLayer extends BaseTileLayer {
    async _createImageryProvider(_0x249d07) {
      return await createImageryProvider$1(_0x249d07);
    }
  }
  async function createImageryProvider$1(_0xe7153c) {
    _0xe7153c.cells = _0xe7153c.cells ?? 2;
    _0xe7153c.color = Cesium__namespace.Color.fromCssColorString(_0xe7153c.color ?? "rgba(255,255,255,1)");
    _0xe7153c.glowWidth = _0xe7153c.glowWidth ?? 3;
    if (_0xe7153c.glowColor) {
      _0xe7153c.glowColor = Cesium__namespace.Color.fromCssColorString(_0xe7153c.glowColor);
    } else {
      _0xe7153c.glowColor = _0xe7153c.color.withAlpha(0.3);
    }
    _0xe7153c.backgroundColor = Cesium__namespace.Color.fromCssColorString(_0xe7153c.backgroundColor ?? "rgba(0,0,0,0)");
    _0xe7153c = converOptions(_0xe7153c);
    return new Cesium__namespace.GridImageryProvider(_0xe7153c);
  }
  GridLayer.createImageryProvider = createImageryProvider$1;
  const layerType$2 = "grid";
  register$3(layerType$2, GridLayer);
  registerImageryProvider(layerType$2, createImageryProvider$1);
  class TileInfoLayer extends BaseTileLayer {
    async _createImageryProvider(_0x3cc3bf) {
      return await createImageryProvider(_0x3cc3bf);
    }
  }
  async function createImageryProvider(_0x54021c) {
    _0x54021c.color = Cesium__namespace.Color.fromCssColorString(_0x54021c.color || "rgba(255,0,0,1)");
    _0x54021c = converOptions(_0x54021c);
    return new Cesium__namespace.TileCoordinatesImageryProvider(_0x54021c);
  }
  TileInfoLayer.createImageryProvider = createImageryProvider;
  const layerType$1 = "tileinfo";
  register$3(layerType$1, TileInfoLayer);
  registerImageryProvider(layerType$1, createImageryProvider);
  class EmptyTileLayer extends BaseTileLayer {
    constructor(_0x254edb = {}) {
      super(_0x254edb);
      this._minimumLevel = _0x254edb.minimumLevel ?? 0;
      this._maximumLevel = _0x254edb.maximumLevel;
    }
    async _createImageryProvider(_0x1b4f7e) {
      _0x1b4f7e = converOptions(_0x1b4f7e);
      _0x1b4f7e.minimumTerrainLevel = this._minimumLevel;
      _0x1b4f7e.maximumTerrainLevel = this._maximumLevel;
      return new EmptyImageryProvider(_0x1b4f7e);
    }
    _setOptionsHook(_0xe57161, _0x30fa9c) {
      this._minimumLevel = this.options.minimumLevel ?? 0;
      this._maximumLevel = this.options.maximumLevel;
      this.options.minimumTerrainLevel = this._minimumLevel;
      this.options.maximumTerrainLevel = this._maximumLevel;
      super._setOptionsHook(_0xe57161, _0x30fa9c);
    }
    isInRange(_0x53ae8b) {
      if (_0x53ae8b < this._minimumLevel || Cesium__namespace.defined(this._maximumLevel) && _0x53ae8b >= this._maximumLevel) {
        return false;
      } else {
        return true;
      }
    }
    isAllOutRange(_0x4904ea) {
      const _0x394a56 = this._map.level;
      return _0x394a56 < this._minimumLevel || Cesium__namespace.defined(this._maximumLevel) && _0x4904ea >= this._maximumLevel;
    }
  }
  const layerType = "empty";
  register$3(layerType, EmptyTileLayer);
  function config2Entity(_0x13a61f, _0x291782, _0xbcf7e) {
    for (let _0x256940 = _0x13a61f.length - 1; _0x256940 >= 0; _0x256940--) {
      const _0x59e20b = _0x13a61f[_0x256940];
      const _0x212831 = _0x291782.symbol;
      if (_0x212831) {
        if (typeof _0x212831 === "function") {
          _0x212831(_0x59e20b, _0x59e20b._attr);
        } else {
          setConfigSymbol(_0x59e20b, _0x291782, _0xbcf7e);
        }
      }
    }
    return _0x13a61f;
  }
  function getStyleBySymbolConfig(_0x1275d3, _0x405901, _0x290507) {
    let _0x38ff2e = _0x1275d3.styleOptions;
    if (_0x1275d3.styleField && _0x405901) {
      const _0xf187ee = _0x405901[_0x1275d3.styleField];
      const _0x136c91 = _0x1275d3.styleFieldOptions[_0xf187ee];
      if (_0x136c91 != null) {
        _0x38ff2e = clone(_0x38ff2e);
        _0x38ff2e = {
          ..._0x38ff2e,
          ..._0x136c91
        };
      }
    }
    if (typeof _0x1275d3.callback === "function") {
      _0x38ff2e = clone(_0x38ff2e);
      const _0x1fd2b0 = _0x1275d3.callback(_0x405901, _0x290507, _0x38ff2e);
      if (_0x1fd2b0) {
        _0x38ff2e = {
          ..._0x38ff2e,
          ..._0x1fd2b0
        };
      }
    }
    _0x38ff2e = _0x38ff2e || {};
    return _0x38ff2e;
  }
  function setConfigSymbol(_0x3c0537, _0x573e34, _0x45867b) {
    const _0xd88b9 = _0x3c0537._attr;
    const _0x2d2daa = _0x3c0537.entityCollection;
    const _0x4ba81f = getStyleBySymbolConfig(_0x573e34.symbol, _0xd88b9, _0x3c0537);
    function _0x272134(_0x59430c, _0x3ba3e7, _0x440591) {
      if (_0x3ba3e7.text === "") {
        return null;
      }
      if (Cesium__namespace.defined(_0x3ba3e7.height)) {
        _0x59430c = setPositionsHeight(_0x59430c, _0x3ba3e7.height);
      }
      const _0x78e7d9 = {
        position: _0x59430c,
        label: _0x3ba3e7,
        _attr: _0x440591
      };
      const _0x3d4438 = _0x2d2daa.add(_0x78e7d9);
      return _0x3d4438;
    }
    _0x45867b = _0x45867b || _0x272134;
    _0x3c0537.styleOpt = _0x4ba81f;
    if (_0x3c0537.polyline) {
      PolylineStyleConver.toCesiumVal(_0x4ba81f, _0x3c0537.polyline, true);
      if (_0x4ba81f.corridor) {
        const _0x2d4942 = {
          color: _0x4ba81f.color,
          opacity: _0x4ba81f.opacity,
          ..._0x4ba81f.corridor
        };
        const _0x5464c1 = _0x2d4942;
        if (isString(_0x4ba81f.corridor.width)) {
          _0x5464c1.width = template(_0x4ba81f.corridor.width, _0xd88b9);
        }
        if (_0x3c0537._corridorEx) {
          CorridorStyleConver.toCesiumVal(_0x5464c1, _0x3c0537._corridorEx.corridor, true);
        } else {
          const _0x3f6970 = CorridorStyleConver.toCesiumVal(_0x5464c1, {}, true);
          const _0x54ef0f = getCesiumValue(_0x3c0537.polyline.positions);
          _0x3c0537._positions = _0x54ef0f;
          _0x3f6970.positions = _0x54ef0f;
          const _0x406786 = {
            corridor: _0x3f6970,
            _attr: _0xd88b9
          };
          const _0x55a505 = _0x2d2daa.add(_0x406786);
          _0x55a505._mars3d_layerId = _0x573e34.id;
          _0x55a505.styleOpt = _0x4ba81f;
          _0x3c0537._corridorEx = _0x55a505;
        }
      }
      if (_0x4ba81f.label && _0x4ba81f.label.text) {
        if (_0x3c0537._labelEx) {
          LabelStyleConver.toCesiumVal(_0x4ba81f.label, _0x3c0537._labelEx.label, _0xd88b9);
        } else {
          const _0x21ff7f = getCesiumValue(_0x3c0537.polyline.positions);
          let _0x7d157b = _0x21ff7f[Math.floor(_0x21ff7f.length / 2)];
          if (_0x4ba81f.label.position) {
            if (_0x4ba81f.label.position === "center") {
              _0x7d157b = centerOfMass(_0x21ff7f, _0x4ba81f.label.height);
            } else if (isNumber(_0x4ba81f.label.position)) {
              _0x7d157b = _0x21ff7f[_0x4ba81f.label.position];
            }
          }
          const _0x74386a = LabelStyleConver.toCesiumVal(_0x4ba81f.label, {}, _0xd88b9);
          _0x74386a.heightReference = _0x74386a.heightReference ?? Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
          const _0x6a5478 = _0x45867b(_0x7d157b, _0x74386a, _0xd88b9);
          if (_0x6a5478) {
            _0x6a5478._mars3d_layerId = _0x573e34.id;
            _0x6a5478.styleOpt = _0x4ba81f;
          }
          _0x3c0537._labelEx = _0x6a5478;
        }
      }
    }
    if (_0x3c0537.polygon) {
      PolygonStyleConver.toCesiumVal(_0x4ba81f, _0x3c0537.polygon, true);
      if (_0x4ba81f.outline && (_0x4ba81f.outlineWidth > 1 || _0x4ba81f.outlineStyle?.width > 1)) {
        _0x3c0537.polygon.outline = false;
        const _0x3bc9b9 = {
          ..._0x4ba81f,
          outline: false,
          color: _0x4ba81f.outlineColor,
          width: _0x4ba81f.outlineWidth,
          opacity: _0x4ba81f.outlineOpacity,
          ..._0x4ba81f.outlineStyle
        };
        const _0x23f925 = _0x3bc9b9;
        if (_0x3c0537._outlineEx) {
          for (let _0x2492b9 = 0, _0x5b1d37 = _0x3c0537._outlineEx.length; _0x2492b9 < _0x5b1d37; _0x2492b9++) {
            PolylineStyleConver.toCesiumVal(_0x23f925, _0x3c0537._outlineEx[_0x2492b9].polyline, true);
          }
        } else {
          const _0x3584f4 = getAllPositions(_0x3c0537);
          _0x3c0537._positions = _0x3584f4[0];
          _0x3c0537._outlineEx = [];
          for (let _0x2f589c = 0, _0x13b0c9 = _0x3584f4.length; _0x2f589c < _0x13b0c9; _0x2f589c++) {
            const _0x1f54ea = PolylineStyleConver.toCesiumVal(_0x23f925, {}, true);
            _0x1f54ea.positions = _0x3584f4[_0x2f589c];
            const _0x543331 = {
              polyline: _0x1f54ea,
              _attr: _0xd88b9
            };
            const _0xdfad18 = _0x2d2daa.add(_0x543331);
            _0xdfad18._mars3d_layerId = _0x573e34.id;
            _0xdfad18.styleOpt = _0x23f925;
            _0x3c0537._outlineEx.push(_0xdfad18);
          }
        }
      }
      if (_0x4ba81f.label && _0x4ba81f.label.text) {
        if (_0x3c0537._labelEx) {
          LabelStyleConver.toCesiumVal(_0x4ba81f.label, _0x3c0537._labelEx.label, _0xd88b9);
        } else {
          const _0x40d9c5 = centerOfMass(getPositions(_0x3c0537), _0x4ba81f.label.height);
          const _0x2385c0 = LabelStyleConver.toCesiumVal(_0x4ba81f.label, {}, _0xd88b9);
          _0x2385c0.heightReference = _0x2385c0.heightReference ?? Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
          const _0x423fb2 = _0x45867b(_0x40d9c5, _0x2385c0, _0xd88b9);
          if (_0x423fb2) {
            _0x423fb2._mars3d_layerId = _0x573e34.id;
            _0x423fb2.styleOpt = _0x4ba81f;
          }
          _0x3c0537._labelEx = _0x423fb2;
        }
      }
    }
    if (_0x3c0537.label) {
      _0x4ba81f.label = _0x4ba81f.label || _0x4ba81f || {};
      if (!Cesium__namespace.defined(_0x4ba81f.label.clampToGround) && !Cesium__namespace.defined(_0x4ba81f.label.heightReference)) {
        _0x4ba81f.label.heightReference = _0x4ba81f.label.heightReference ?? Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
      }
      LabelStyleConver.toCesiumVal(_0x4ba81f.label, _0x3c0537.label, _0xd88b9);
    } else if (_0x4ba81f.label && typeof _0x4ba81f.label === "function") {
      _0x4ba81f.label(_0x3c0537, _0xd88b9, function (_0x437b80, _0x306ab9) {
        const _0x54b066 = LabelStyleConver.toCesiumVal(_0x306ab9, {}, _0xd88b9);
        _0x54b066.heightReference;
        _0x54b066.heightReference = Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
        const _0x27f9e7 = _0x45867b(_0x437b80, _0x54b066, _0xd88b9);
        if (_0x27f9e7) {
          _0x27f9e7._mars3d_layerId = _0x573e34.id;
          _0x27f9e7.styleOpt = _0x4ba81f;
        }
      });
    }
    if (_0x3c0537.billboard) {
      if (!Cesium__namespace.defined(_0x4ba81f.clampToGround) && !Cesium__namespace.defined(_0x4ba81f.heightReference)) {
        _0x4ba81f.heightReference = _0x4ba81f.heightReference ?? Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
      }
      _0x4ba81f.image = template(_0x4ba81f.image, _0xd88b9);
      BillboardStyleConver.toCesiumVal(_0x4ba81f, _0x3c0537.billboard, true);
      if (_0x4ba81f.model) {
        if (_0x3c0537._modelEx) {
          ModelStyleConver.toCesiumVal(_0x4ba81f.model, _0x3c0537._modelEx.model, true);
        } else {
          const _0x5b82fc = ModelStyleConver.toCesiumVal(_0x4ba81f.model, true);
          _0x5b82fc.heightReference;
          _0x5b82fc.heightReference = Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
          const _0x5097d7 = {
            position: _0x3c0537.position,
            model: _0x5b82fc,
            _attr: _0xd88b9
          };
          const _0x5203eb = _0x2d2daa.add(_0x5097d7);
          _0x5203eb._mars3d_layerId = _0x573e34.id;
          _0x5203eb.styleOpt = _0x4ba81f.model;
          _0x3c0537._modelEx = _0x5203eb;
        }
      }
      if (_0x4ba81f.point) {
        if (_0x3c0537._pointEx) {
          PointStyleConver.toCesiumVal(_0x4ba81f.point, _0x3c0537._pointEx.point, true);
        } else {
          const _0x58e9e7 = PointStyleConver.toCesiumVal(_0x4ba81f.point, {}, true);
          _0x58e9e7.heightReference = _0x58e9e7.heightReference ?? Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
          const _0x3cf58a = {
            position: _0x3c0537.position,
            point: _0x58e9e7,
            _attr: _0xd88b9
          };
          const _0x3b124b = _0x2d2daa.add(_0x3cf58a);
          _0x3b124b._mars3d_layerId = _0x573e34.id;
          _0x3b124b.styleOpt = _0x4ba81f.point;
          _0x3c0537._pointEx = _0x3b124b;
        }
      }
      if (_0x4ba81f.label && _0x4ba81f.label.text && !_0x3c0537.label) {
        if (_0x3c0537._labelEx) {
          LabelStyleConver.toCesiumVal(_0x4ba81f.label, _0x3c0537._labelEx.label, _0xd88b9);
        } else {
          const _0x4a95ac = _0x3c0537.position;
          const _0x396bb7 = LabelStyleConver.toCesiumVal(_0x4ba81f.label, {}, _0xd88b9);
          _0x396bb7.heightReference = _0x396bb7.heightReference ?? Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
          const _0x18441d = _0x45867b(_0x4a95ac, _0x396bb7, _0xd88b9);
          if (_0x18441d) {
            _0x18441d._mars3d_layerId = _0x573e34.id;
            _0x18441d.styleOpt = _0x4ba81f;
          }
          _0x3c0537._labelEx = _0x18441d;
        }
      }
    }
  }
  function setStyleToEntity(_0x43ca4a, _0x41dcc0) {
    if (!_0x41dcc0) {
      return;
    }
    if (_0x43ca4a.billboard) {
      BillboardStyleConver.toCesiumVal(_0x41dcc0, _0x43ca4a.billboard, true);
    }
    if (_0x43ca4a.polyline) {
      PolylineStyleConver.toCesiumVal(_0x41dcc0, _0x43ca4a.polyline, true);
    }
    if (_0x43ca4a.polygon) {
      PolygonStyleConver.toCesiumVal(_0x41dcc0, _0x43ca4a.polygon, true);
    }
    if (_0x43ca4a.corridor && _0x41dcc0.corridor) {
      CorridorStyleConver.toCesiumVal(_0x41dcc0.corridor, _0x43ca4a.corridor, true);
    }
    if (_0x43ca4a.model && _0x41dcc0.model) {
      ModelStyleConver.toCesiumVal(_0x41dcc0.model, _0x43ca4a.model, true);
    }
    if (_0x43ca4a.point && _0x41dcc0.point) {
      PointStyleConver.toCesiumVal(_0x41dcc0.point, _0x43ca4a.point, true);
    }
    if (_0x43ca4a.label && _0x41dcc0.label) {
      LabelStyleConver.toCesiumVal(_0x41dcc0.label, _0x43ca4a.label, _0x43ca4a._attr);
    }
  }
  class CzmGeoJsonLayer extends BaseGraphicLayer {
    constructor(_0x40f69c = {}) {
      super(_0x40f69c);
      this._setOptionsHook(_0x40f69c, _0x40f69c);
    }
    get layer() {
      return this._dataSource;
    }
    get entities() {
      if (this._dataSource) {
        return this._dataSource.entities;
      } else {
        return null;
      }
    }
    get labelCollection() {
      if (!this._labelCollection) {
        this._labelCollection = new Cesium__namespace.LabelCollection({
          scene: this._map.scene
        });
        if (this._state === State.ADDED) {
          this._map.scene.primitives.add(this._labelCollection);
        }
      }
      return this._labelCollection;
    }
    get hasZIndex() {
      return true;
    }
    get zIndex() {
      return this.options.zIndex;
    }
    set zIndex(_0x17f24d) {
      this.options.zIndex = _0x17f24d;
      if (this._dataSource == null || _0x17f24d == null) {
        return;
      }
      if (!this._map.dataSources.contains(this._dataSource)) {
        return;
      }
      this._dataSource.zIndex = _0x17f24d;
      this._map.dataSources.raiseToTop(this._dataSource);
      const _0x4df7bd = this._map.dataSources;
      for (let _0x4cccc1 = _0x4df7bd.length - 1; _0x4cccc1 >= 0; _0x4cccc1--) {
        const _0x5853da = _0x4df7bd.get(_0x4cccc1);
        if (_0x5853da === this._dataSource) {
          continue;
        }
        if (Cesium__namespace.defined(_0x5853da.zIndex) && _0x17f24d < _0x5853da.zIndex) {
          this._map.dataSources.lower(this._dataSource);
        }
      }
    }
    get clampToGround() {
      if (this.options.clampToGround) {
        return true;
      }
      if (this.options.symbol && this.options.symbol.styleOptions && this.options.symbol.styleOptions.clampToGround) {
        return true;
      }
      return false;
    }
    _setOptionsHook(_0x3c28b7, _0x174f95) {
      var _0x107c45;
      super._setOptionsHook(_0x3c28b7, _0x174f95);
      if (Cesium__namespace.defined(_0x174f95.symbol)) {
        this.updateStyle(_0x174f95.symbol);
      }
      if ((_0x107c45 = this.options.symbol) !== null && _0x107c45 !== undefined && _0x107c45.styleOptions) {
        const _0x1b76da = this.options.symbol.styleOptions;
        if (Cesium__namespace.defined(_0x1b76da.clampToGround)) {
          this.options.clampToGround = _0x1b76da.clampToGround;
        }
        if (Cesium__namespace.defined(_0x1b76da.color)) {
          const _0x2108ef = Cesium__namespace.Color.fromCssColorString(_0x1b76da.color ?? "#FFFF00").withAlpha(Number(_0x1b76da.opacity ?? 0.5));
          this.options.fill = _0x2108ef;
        }
        if (Cesium__namespace.defined(_0x1b76da.outlineColor)) {
          const _0x899680 = Cesium__namespace.Color.fromCssColorString(_0x1b76da.outlineColor ?? _0x1b76da.color ?? "#FFFFFF").withAlpha(_0x1b76da.outlineOpacity ?? (_0x1b76da.opacity, 1));
          this.options.stroke = _0x899680;
        }
        if (Cesium__namespace.defined(_0x1b76da.outlineWidth)) {
          this.options.strokeWidth = _0x1b76da.outlineWidth;
        }
      }
    }
    _showHook(_0x7689e7) {
      super._showHook(_0x7689e7);
      if (this._labelCollection) {
        this._labelCollection.show = _0x7689e7;
      }
    }
    _mountedHook() {
      super._mountedHook();
      this.load();
    }
    _addedHook() {
      super._addedHook();
      if (this._dataSource) {
        this._map.dataSources.add(this._dataSource);
      }
      if (this._labelCollection) {
        this._map.scene.primitives.add(this._labelCollection);
      }
    }
    _removedHook() {
      super._removedHook();
      if (this._labelCollection) {
        this._map.scene.primitives.remove(this._labelCollection);
        this._labelCollection = null;
      }
      if (this._dataSource) {
        this._map.dataSources.remove(this._dataSource);
      }
    }
    load(_0x3ab54a) {
      if (_0x3ab54a) {
        if (_0x3ab54a.clear ?? true) {
          delete this.options.url;
          delete this.options.data;
        }
        this.clear();
        this.options = {
          ...this.options,
          ..._0x3ab54a
        };
      }
      if (this.options.data) {
        this._load_data(this.options.data);
      } else if (this.options.url) {
        fetchJson$2({
          ...this.options,
          url: this.getUrl(),
          proxy: this._proxy
        }).then(_0x46ed03 => {
          if (!this._map || !this.isAdded) {
            return;
          }
          this._load_data(_0x46ed03);
        }).catch(_0x5ece3a => {
          var _0x352106;
          logError("fetchJson出错了", _0x5ece3a);
          if ((_0x352106 = this._readyPromise) !== null && _0x352106 !== undefined && _0x352106.reject) {
            this._readyPromise.reject(_0x5ece3a);
          }
        });
      } else if (_0x3ab54a) {
        logWarn("CzmGeoJsonLayer：没有传入 url 或 data 参数,请确认是否有误。");
      }
      return this;
    }
    _load_data(_0x258eec) {
      if (this.options.format) {
        _0x258eec = this.options.format(_0x258eec);
      }
      const _0x7c6441 = Cesium__namespace.GeoJsonDataSource.load(_0x258eec, this.options);
      _0x7c6441.then(_0x401e23 => {
        this.showResult(_0x401e23);
      });
    }
    showResult(_0x1b467a) {
      if (this._dataSource) {
        this._map.dataSources.remove(this._dataSource);
        delete this._dataSource;
      }
      if (!_0x1b467a || this._state === State.REMOVED) {
        return;
      }
      _0x1b467a.show = this.show;
      this._map.dataSources.add(_0x1b467a);
      this._dataSource = _0x1b467a;
      if (this.options.zIndex) {
        this.zIndex = this.options.zIndex;
      }
      const _0x1f6657 = _0x1b467a.entities.values;
      const _0x3702d0 = this.bindEntities(_0x1f6657);
      if (this.opacity !== 1) {
        this.setOpacity(this.opacity);
      }
      this._showHook(this.show);
      this._readyPromise.resolve(this);
      const _0x84e320 = {
        dataSource: _0x1b467a,
        entities: _0x1f6657,
        list: _0x3702d0
      };
      this.fire(EventType.load, _0x84e320);
    }
    bindEntities(_0x490335) {
      const _0x513fa7 = [];
      for (let _0x1b283a = 0, _0x8e8914 = _0x490335.length; _0x1b283a < _0x8e8914; _0x1b283a++) {
        const _0x3cb3b3 = _0x490335[_0x1b283a];
        _0x3cb3b3._mars3d_layerId = this.id;
        const _0x2dbc89 = this.getEntityAttr(_0x3cb3b3);
        _0x3cb3b3._attr = _0x2dbc89 || {};
        const _0x5e57e9 = {
          czmObject: _0x3cb3b3,
          attr: _0x2dbc89
        };
        this.fire(EventType.addGraphic, _0x5e57e9);
        const _0x2bf8e0 = {
          ..._0x2dbc89
        };
        _0x2bf8e0._entity = _0x3cb3b3;
        _0x513fa7.push(_0x2bf8e0);
      }
      this.options.id = this.id;
      config2Entity(_0x490335, this.options, (_0x173b9c, _0x15e923, _0x17909e) => {
        return this.lblAddFun(_0x173b9c, _0x15e923, _0x17909e);
      });
      return _0x513fa7;
    }
    getEntityById(_0x56c71b) {
      const _0x48c540 = this._dataSource.entities.values;
      for (let _0x306908 = 0, _0x4e8ee6 = _0x48c540.length; _0x306908 < _0x4e8ee6; _0x306908++) {
        const _0x394484 = _0x48c540[_0x306908];
        if (_0x394484.id === _0x56c71b || _0x394484._attr?.id === _0x56c71b) {
          return _0x394484;
        }
      }
    }
    updateStyle(_0x49086b) {
      if (!this._dataSource) {
        return;
      }
      if (_0x49086b) {
        this.options.symbol = {
          ...this.options.symbol,
          ..._0x49086b
        };
      }
      const _0x473d52 = this._dataSource.entities.values;
      this.options.id = this.id;
      config2Entity(_0x473d52, this.options, (_0x257148, _0x2af458, _0x4a87fd) => {
        return this.lblAddFun(_0x257148, _0x2af458, _0x4a87fd);
      });
      return this;
    }
    lblAddFun(_0xc35048, _0xbc06a7, _0x446f5d) {
      if (_0xbc06a7.text === "") {
        return null;
      }
      if (Cesium__namespace.defined(_0xbc06a7.height)) {
        _0xc35048 = setPositionsHeight(_0xc35048, _0xbc06a7.height);
      }
      if (!this.labelCollection) {
        this.labelCollection = new Cesium__namespace.LabelCollection({
          scene: this.viewer.scene
        });
        this.viewer.scene.primitives.add(this.labelCollection);
      }
      _0xbc06a7.position = getPositionValue(_0xc35048);
      const _0x202c72 = this.labelCollection.add(_0xbc06a7);
      _0x202c72.properties = _0x446f5d;
      _0x202c72._mars3d_layerId = this.id;
      return _0x202c72;
    }
    setOpacity(_0x14e4d5) {
      this.options.opacity = _0x14e4d5;
      if (!this._dataSource) {
        return;
      }
      const _0xa83f97 = this._dataSource.entities.values;
      for (let _0x2e27d7 = 0, _0x273f8b = _0xa83f97.length; _0x2e27d7 < _0x273f8b; _0x2e27d7++) {
        const _0x46428f = _0xa83f97[_0x2e27d7];
        if (_0x46428f.polygon && _0x46428f.polygon.material && _0x46428f.polygon.material.color) {
          this._updatEntityAlpha(_0x46428f.polygon.material.color, _0x14e4d5);
          if (_0x46428f.polygon.outlineColor) {
            this._updatEntityAlpha(_0x46428f.polygon.outlineColor, _0x14e4d5);
          }
        }
        if (_0x46428f.polyline && _0x46428f.polyline.material && _0x46428f.polyline.material.color) {
          this._updatEntityAlpha(_0x46428f.polyline.material.color, _0x14e4d5);
        }
        if (_0x46428f.billboard) {
          _0x46428f.billboard.color = Cesium__namespace.Color.WHITE.withAlpha(_0x14e4d5);
        }
        if (_0x46428f.model) {
          _0x46428f.model.color = Cesium__namespace.Color.WHITE.withAlpha(_0x14e4d5);
        }
        if (_0x46428f.label) {
          let _0x38d486 = _0x14e4d5;
          if (_0x46428f.styleOpt && _0x46428f.styleOpt.label && _0x46428f.styleOpt.label.opacity) {
            _0x38d486 = _0x46428f.styleOpt.label.opacity;
          }
          if (_0x46428f.label.fillColor) {
            this._updatEntityAlpha(_0x46428f.label.fillColor, _0x38d486);
          }
          if (_0x46428f.label.outlineColor) {
            this._updatEntityAlpha(_0x46428f.label.outlineColor, _0x38d486);
          }
          if (_0x46428f.label.backgroundColor) {
            this._updatEntityAlpha(_0x46428f.label.backgroundColor, _0x38d486);
          }
        }
      }
    }
    _updatEntityAlpha(_0x43d2bb, _0x29dd3f) {
      if (!_0x43d2bb) {
        return;
      }
      let _0x3e4f3d = getCesiumValue(_0x43d2bb, Cesium__namespace.Color, this._map.clock.currentTime);
      if (!_0x3e4f3d || !_0x3e4f3d.withAlpha) {
        return _0x43d2bb;
      }
      _0x3e4f3d = _0x3e4f3d.withAlpha(_0x29dd3f);
      _0x43d2bb.setValue(_0x3e4f3d);
    }
    getEntityAttr(_0x37d13d) {
      return getAttrVal(_0x37d13d.properties);
    }
    clear() {
      if (this._labelCollection) {
        this._labelCollection.removeAll();
      }
      if (this._dataSource) {
        this._dataSource.entities.removeAll();
      }
      this._closeAllControl();
      return this;
    }
    process(_0x221d7a, _0x26aefd) {
      return this.readyPromise.then(_0x22a62c => {
        const _0x42f4e8 = this._dataSource.process(_0x221d7a, _0x26aefd);
        return _0x42f4e8.then(_0x34c351 => {
          const _0x38bcd0 = _0x34c351.entities.values;
          const _0x47158e = this.bindEntities(_0x38bcd0);
          const _0x4a58be = {
            entities: _0x38bcd0,
            list: _0x47158e
          };
          return _0x4a58be;
        });
      });
    }
    getRectangle(_0x2c2504) {
      if (!this._dataSource && !this._rectangle) {
        return;
      }
      if (!this._rectangle) {
        const _0xe7c7f4 = [];
        const _0x2db776 = this._dataSource.entities.values;
        for (let _0x4d47e6 = 0, _0x5dd889 = _0x2db776.length; _0x4d47e6 < _0x5dd889; _0x4d47e6++) {
          var _0x5c78f5;
          var _0x5cb8ff;
          const _0x3069c2 = _0x2db776[_0x4d47e6];
          if (_0x3069c2.position) {
            var _0x39c462;
            const _0x5a1027 = getPositionValue(_0x3069c2.position, this._map.clock.currentTime);
            if (_0x5a1027) {
              _0xe7c7f4.push(_0x5a1027);
            } else if ((_0x39c462 = _0x3069c2.position) !== null && _0x39c462 !== undefined && (_0x39c462 = _0x39c462._property) !== null && _0x39c462 !== undefined && _0x39c462._values) {
              const _0x22ce03 = Cesium__namespace.Cartesian3.unpackArray(_0x3069c2.position._property._values);
              _0xe7c7f4.push(..._0x22ce03);
            }
          } else if (_0x3069c2._positions) {
            _0xe7c7f4.push(_0x3069c2._positions);
          } else if ((_0x5c78f5 = _0x3069c2.polyline) !== null && _0x5c78f5 !== undefined && _0x5c78f5.positions) {
            const _0x44538e = getCesiumValue(_0x3069c2.polyline.positions, Array, this._map.clock.currentTime);
            if (_0x44538e) {
              _0xe7c7f4.push(..._0x44538e);
            }
          } else if ((_0x5cb8ff = _0x3069c2.polygon) !== null && _0x5cb8ff !== undefined && _0x5cb8ff.hierarchy) {
            let _0x3ba969 = getCesiumValue(_0x3069c2.polygon.hierarchy, Cesium__namespace.PolygonHierarchy, this._map.clock.currentTime);
            if (_0x3ba969 && _0x3ba969 instanceof Cesium__namespace.PolygonHierarchy) {
              _0x3ba969 = _0x3ba969.positions;
            }
            if (_0x3ba969) {
              _0xe7c7f4.push(..._0x3ba969);
            }
          }
        }
        if (_0xe7c7f4.length > 0) {
          this._rectangle = getRectangle(_0xe7c7f4);
        }
      }
      if (_0x2c2504 !== null && _0x2c2504 !== undefined && _0x2c2504.isFormat && this._rectangle) {
        return formatRectangle(this._rectangle);
      } else {
        return this._rectangle;
      }
    }
    async _flyToEx(_0x37e346) {
      const _0x3d36e2 = this._extent || this.getRectangle && this.getRectangle();
      if (_0x3d36e2) {
        return this._map.flyToExtent(_0x3d36e2, _0x37e346);
      } else if (this._dataSource) {
        this._map.flyTo(this._dataSource);
      }
    }
    _highlight_mouseEventHandler(_0x45dff1) {
      this._map.closeHighlight();
      const _0x1f4ff9 = _0x45dff1.czmObject;
      if (_0x1f4ff9) {
        const _0x9e9b0f = {
          czmObject: _0x1f4ff9,
          event: _0x45dff1
        };
        this._last_picked = _0x9e9b0f;
        this._map.openHighlight(this, this._highlightOptions, _0x45dff1);
      }
    }
    openHighlight(_0x4b0b96, _0x105dcd = true, _0x34c4b7) {
      var _0x3e5476;
      if (_0x105dcd && this._map) {
        this._map.closeHighlight();
        this._map.last_highlighGraphic = this;
      }
      this._last_picked = this._last_picked || {
        event: {
          layer: this
        }
      };
      if (_0x34c4b7 && !this._last_picked.czmObject) {
        this._last_picked.czmObject = _0x34c4b7.id;
      }
      const _0x468cd0 = _0x4b0b96 || this._highlightOptions;
      if (_0x468cd0 && (_0x3e5476 = this._last_picked) !== null && _0x3e5476 !== undefined && _0x3e5476.czmObject) {
        const _0x18bcb9 = this._last_picked.czmObject;
        setStyleToEntity(_0x18bcb9, _0x468cd0);
        this.fire(EventType.highlightOpen, this._last_picked?.event, true);
      }
    }
    closeHighlight() {
      if (!this._last_picked) {
        return;
      }
      const _0x3ad799 = this._last_picked?.czmObject;
      if (_0x3ad799) {
        setStyleToEntity(_0x3ad799, _0x3ad799.styleOpt);
      }
      this._map._clearLastHighlight();
      this.fire(EventType.highlightClose, this._last_picked?.event, true);
      delete this._last_picked;
    }
  }
  register$3("czmGeojson", CzmGeoJsonLayer);
  class KmlLayer extends CzmGeoJsonLayer {
    load(_0xa8717d = {}) {
      this.options = {
        ...this.options,
        ..._0xa8717d
      };
      let _0x18372e;
      if (this.options.data) {
        _0x18372e = Cesium__namespace.KmlDataSource.load(this.options.data, {
          camera: this._map.scene.camera,
          canvas: this._map.scene.canvas,
          clampToGround: this.options.clampToGround
        });
        logError("KmlLayer：请必须传入 url 或 data 参数");
      } else if (this.options.url) {
        const _0xdc69ff = this.getUrlResource();
        const _0x340cdd = {
          camera: this._map.scene.camera,
          canvas: this._map.scene.canvas,
          clampToGround: this.options.clampToGround
        };
        _0x18372e = Cesium__namespace.KmlDataSource.load(_0xdc69ff, _0x340cdd);
      }
      _0x18372e.then(_0x25ea24 => {
        this.showResult(_0x25ea24);
      });
    }
    getEntityAttr(_0x2ed8fe) {
      const _0x3baf09 = {
        name: _0x2ed8fe.name,
        description: _0x2ed8fe.description
      };
      let _0x193da7 = _0x3baf09;
      const _0x4369c3 = _0x2ed8fe._kml.extendedData;
      for (const _0x2bb3b2 in _0x4369c3) {
        _0x193da7[_0x2bb3b2] = _0x4369c3[_0x2bb3b2].value;
      }
      _0x193da7 = getAttrVal(_0x193da7);
      _0x193da7.description &&= _0x193da7.description.replace(/<div[^>]+>/g, "");
      return _0x193da7;
    }
  }
  register$3("kml", KmlLayer);
  class CzmlLayer extends CzmGeoJsonLayer {
    _showHook(_0x461b2d) {
      super._showHook(_0x461b2d);
      if (this.options.updateClock ?? true) {
        if (_0x461b2d) {
          this.setCzmlTime();
        } else {
          this.setNowTime();
        }
      }
    }
    setCzmlTime() {
      var _0x3f8398;
      if ((_0x3f8398 = this._dataSource) !== null && _0x3f8398 !== undefined && _0x3f8398.clock) {
        this._map.clock.clockRange = this._dataSource.clock.clockRange;
        this._map.clock.multiplier = this._dataSource.clock.multiplier;
        this._map.clock.startTime = this._dataSource.clock.startTime;
        this._map.clock.stopTime = this._dataSource.clock.stopTime;
        this._map.clock.currentTime = this._dataSource.clock.startTime;
        if (this._map.control.timeline) {
          this._map.control.timeline.refresh();
        }
      }
    }
    setNowTime() {
      this._map.clock.clockRange = Cesium__namespace.ClockRange.UNBOUNDED;
      this._map.clock.multiplier = 1;
      const _0x33ac77 = Cesium__namespace.JulianDate.fromDate(new Date());
      this._map.clock.startTime = _0x33ac77.clone();
      this._map.clock.stopTime = Cesium__namespace.JulianDate.addDays(_0x33ac77, 1, new Cesium__namespace.JulianDate());
      this._map.clock.currentTime = _0x33ac77.clone();
      if (this._map.control.timeline) {
        this._map.control.timeline.refresh();
      }
    }
    _removedHook() {
      super._removedHook();
      if (this.options.updateClock ?? true) {
        this.setNowTime();
      }
    }
    load(_0x3988b5 = {}) {
      this.options = {
        ...this.options,
        ..._0x3988b5
      };
      let _0xec55ce;
      if (this.options.data) {
        _0xec55ce = Cesium__namespace.CzmlDataSource.load(this.options.data, this.options);
      } else if (this.options.url) {
        const _0x1f9354 = this.getUrlResource();
        _0xec55ce = Cesium__namespace.CzmlDataSource.load(_0x1f9354, this.options);
      } else {
        logError("CzmlLayer：请必须传入 url 或 data 参数");
      }
      _0xec55ce.then(_0xb509c8 => {
        this.showResult(_0xb509c8);
      });
    }
    getEntityAttr(_0x3d014e) {
      if (_0x3d014e.properties) {
        return getAttrVal(_0x3d014e.properties);
      }
      if (_0x3d014e.description) {
        return {
          description: getCesiumValue(_0x3d014e.description)
        };
      }
    }
  }
  register$3("czml", CzmlLayer);
  class GeoJsonLayer extends GraphicLayer {
    _showHook(_0x4dae7d) {
      super._showHook(_0x4dae7d);
      if (_0x4dae7d && this._hasLoad) {
        this._hasLoad = false;
        this.load();
      }
    }
    _addedHook() {
      super._addedHook();
      if (this.show) {
        this.load();
      } else {
        this._hasLoad = true;
      }
    }
    _removedHook() {
      super._removedHook();
      this.clear();
    }
    load(_0x338628) {
      if (_0x338628) {
        if (_0x338628.clear ?? true) {
          delete this.options.url;
          delete this.options.data;
        }
        this.clear();
        this.options = {
          ...this.options,
          ..._0x338628
        };
      }
      if (this.options.data) {
        this._load_data(this.options.data);
      } else if (this.options.url) {
        sendAjax({
          ...this.options,
          url: this.getUrl(),
          proxy: this._proxy
        }).then(_0xc17252 => {
          this._load_data(_0xc17252);
        }).catch(_0x499e3a => {
          var _0x386912;
          logError("fetchJson出错了", _0x499e3a);
          if ((_0x386912 = this._readyPromise) !== null && _0x386912 !== undefined && _0x386912.reject) {
            this._readyPromise.reject(_0x499e3a);
          }
        });
      } else if (_0x338628) {
        logWarn("GeoJsonLayer：没有传入 url 或 data 参数,请确认是否有误。");
      }
    }
    _load_data(_0x13e5b1) {
      if (!this._map || this.isDestroy) {
        return;
      }
      if (this.options.format) {
        _0x13e5b1 = this.options.format(_0x13e5b1);
      }
      _0x13e5b1 = this._formatForMask(_0x13e5b1);
      const _0x3f9921 = this.loadGeoJSON(_0x13e5b1, {
        clear: true,
        enabledEvent: false,
        toPrimitive: this.options?.toPrimitive
      });
      if (_0x3f9921 && _0x3f9921.length > 0) {
        const _0x3d99bf = {};
        const _0x1c7cb9 = [];
        _0x3f9921.forEach(_0x41235f => {
          if (!_0x41235f) {
            return;
          }
          if (!_0x3d99bf[_0x41235f.type] && _0x41235f.type !== "group") {
            _0x3d99bf[_0x41235f.type] = true;
          }
          const _0x267823 = {
            ..._0x41235f.attr
          };
          _0x267823.graphicId = _0x41235f.id;
          _0x1c7cb9.push(_0x267823);
        });
        const _0x513ed2 = Object.keys(_0x3d99bf);
        if (_0x513ed2.length === 1) {
          var _0x129555;
          var _0x402f5f;
          this.options.symbol = this.options.symbol || {};
          if ((_0x129555 = this.options.symbol) === null || _0x129555 === undefined || !_0x129555.type) {
            this.options.symbol.type = _0x513ed2[0];
          }
          if (((_0x402f5f = this.options.symbol) === null || _0x402f5f === undefined || !_0x402f5f.styleOptions) && !this.options.symbol.merge) {
            this.options.symbol.styleOptions = clone(_0x3f9921[0].style);
          }
        } else {
          this.options.symbol = this.options.symbol || {};
          if (!Cesium__namespace.defined(this.options.symbol.merge)) {
            this.options.symbol.merge = true;
          }
        }
        const _0x1a117c = {
          geojson: _0x13e5b1,
          list: _0x1c7cb9,
          graphics: _0x3f9921,
          types: _0x513ed2
        };
        this.fire(EventType.load, _0x1a117c);
      } else if (_0x3f9921 !== null && _0x3f9921 !== undefined && _0x3f9921.graphics) {
        const {
          graphics: _0x393fab,
          layer: _0x240030
        } = _0x3f9921;
        const _0x1976e5 = [];
        _0x393fab.forEach(_0x1a53d4 => {
          const _0x53c1bd = {
            ..._0x1a53d4.attr
          };
          _0x53c1bd.graphicId = _0x1a53d4.id;
          _0x1976e5.push(_0x53c1bd);
        });
        const _0x101ce3 = {
          geojson: _0x13e5b1,
          list: _0x1976e5,
          graphics: _0x393fab,
          otherLayer: _0x240030
        };
        this.fire(EventType.load, _0x101ce3);
      }
      this._readyPromise.resolve(this);
    }
    _formatForMask(_0x229217) {
      const _0x2052a2 = this.options.mask;
      if (!_0x2052a2) {
        return _0x229217;
      }
      if (!_0x229217.features || _0x229217.features.length === 0) {
        return _0x229217;
      }
      _0x229217 = clone(_0x229217);
      _0x229217.features.splice(1, _0x229217.features.length - 1);
      this._extent = getExtentByGeoJSON(_0x229217);
      this.zIndex = this.options.zIndex ?? 9999;
      const _0x8d8ffd = _0x229217.features[0];
      _0x8d8ffd.properties = _0x8d8ffd.properties || {};
      _0x8d8ffd.properties.type = "mask";
      if (_0x8d8ffd.geometry.type === "Polygon") ;else if (_0x8d8ffd.geometry.type === "MultiPolygon") {
        const _0x25cb0e = [];
        for (let _0x327db6 = 0, _0x2c3318 = _0x8d8ffd.geometry.coordinates.length; _0x327db6 < _0x2c3318; _0x327db6++) {
          const _0x5075ab = _0x8d8ffd.geometry.coordinates[_0x327db6];
          if (_0x5075ab.length > 0) {
            _0x25cb0e.push(_0x5075ab[0]);
          }
        }
        const _0x1ee34e = {
          type: "Polygon",
          coordinates: [_0x25cb0e]
        };
        _0x8d8ffd.geometry = _0x1ee34e;
      } else if (_0x8d8ffd.geometry.type === "GeometryCollection") {
        const _0x445dd8 = [];
        for (let _0x4341ea = 0, _0x425d07 = _0x8d8ffd.geometry.geometries.length; _0x4341ea < _0x425d07; _0x4341ea++) {
          const _0x1515a = _0x8d8ffd.geometry.geometries[_0x4341ea].coordinates;
          if (_0x1515a.length > 0) {
            _0x445dd8.push(_0x1515a[0]);
          }
        }
        const _0x272bf3 = {
          type: "Polygon",
          coordinates: [_0x445dd8]
        };
        _0x8d8ffd.geometry = _0x272bf3;
      }
      return _0x229217;
    }
    _toJsonEx(_0x7c82fc) {}
    _setOptionsHook(_0x56d9b5, _0x19e728) {
      var _0x4bda09;
      super._setOptionsHook(_0x56d9b5, _0x19e728);
      if (!this._map) {
        return;
      }
      if (_0x19e728.symbol && ((_0x4bda09 = _0x19e728.symbol) === null || _0x4bda09 === undefined || !_0x4bda09.type)) {
        this.eachGraphic(_0x1dd4e3 => {
          if (_0x1dd4e3.parent) {
            return;
          }
          const _0x4d931f = getSymbolStyle(_0x56d9b5.symbol, _0x1dd4e3.attr);
          delete _0x4d931f.highlight;
          _0x1dd4e3.style = _0x4d931f;
        });
      } else {
        this.clear();
        this.load();
      }
    }
  }
  register$3("geojson", GeoJsonLayer);
  class ModelLayer extends GraphicLayer {
    get scaleplate() {
      return this._layerImg;
    }
    _mountedHook() {
      super._mountedHook();
      if (this.options.style) {
        this._graphicModel = this.addGraphic({
          ...this.options,
          type: this.graphicType ?? "modelP"
        });
      }
    }
    _showHook(_0x4d9b43) {
      super._showHook(_0x4d9b43);
      if (this._layerImg) {
        this._layerImg.show = _0x4d9b43;
      }
    }
    _addedHook() {
      super._addedHook();
      if (this.options.scaleplate) {
        this._layerImg = new ImageLayer({
          name: this.name + " 比例尺",
          rectangle: this._getScaleplateRectangle(),
          zIndex: 999,
          ...this.options.scaleplate,
          private: true
        });
        this._map.addLayer(this._layerImg);
      }
    }
    _removedHook() {
      this.clear();
      if (this._layerImg) {
        this._map.removeLayer(this._layerImg);
        delete this._layerImg;
      }
    }
    _setOptionsHook(_0x394ac2, _0x4eb6b3) {
      super._setOptionsHook(_0x394ac2, _0x4eb6b3);
      if ((_0x4eb6b3.position || _0x4eb6b3.style || _0x4eb6b3.attr) && this._graphicModel) {
        this._graphicModel.setOptions(_0x4eb6b3);
      }
      if (_0x4eb6b3.scaleplate && this._layerImg) {
        if (_0x4eb6b3.scaleplate.width || _0x4eb6b3.scaleplate.height) {
          _0x4eb6b3.rectangle = this._getScaleplateRectangle();
        }
        this._layerImg.setOptions(_0x4eb6b3.scaleplate);
      }
    }
    _getScaleplateRectangle() {
      let _0x53dff9 = this.options.scaleplate.width ?? 100;
      let _0x9d40b7 = this.options.scaleplate.height ?? _0x53dff9 ?? 100;
      if (this.options.scaleplate.scale) {
        _0x53dff9 *= this.options.scaleplate.scale;
        _0x9d40b7 *= this.options.scaleplate.scale;
      }
      const _0x83f58 = {
        center: this.options.position,
        width: _0x53dff9,
        height: _0x9d40b7
      };
      return getRectangle(getRectPositionsByCenter(_0x83f58), {
        isFormat: true
      });
    }
    _toJsonEx(_0x3278fc) {}
  }
  register$3("model", ModelLayer);
  class BusineDataLayer extends GraphicLayer {
    _showHook(_0x52970a) {
      super._showHook(_0x52970a);
      if (_0x52970a && this._hasLoad) {
        this._hasLoad = false;
        this.load();
      }
    }
    _addedHook() {
      super._addedHook();
      if (this.show) {
        this.load();
      } else {
        this._hasLoad = true;
      }
    }
    _removedHook() {
      super._removedHook();
      this.clear();
    }
    load(_0x1a81bc) {
      if (_0x1a81bc) {
        if (_0x1a81bc.clear ?? true) {
          delete this.options.url;
          delete this.options.data;
        }
        this.clear();
        this.options = {
          ...this.options,
          ..._0x1a81bc
        };
      }
      if (this.options.data) {
        this._load_data(this.options.data);
      } else if (this.options.url) {
        fetchJson$2({
          ...this.options,
          url: this.getUrl(),
          proxy: this._proxy
        }).then(_0x42af6a => {
          if (!this._map || !this.isAdded) {
            return;
          }
          this._load_data(_0x42af6a);
        }).catch(_0x1f0b07 => {
          var _0x58217a;
          logError("fetchJson出错了", _0x1f0b07);
          if ((_0x58217a = this._readyPromise) !== null && _0x58217a !== undefined && _0x58217a.reject) {
            this._readyPromise.reject(_0x1f0b07);
          }
        });
      } else if (_0x1a81bc) {
        logWarn("GeoJsonLayer：没有传入 url 或 data 参数,请确认是否有误。");
      }
    }
    _load_data(_0x9b5780) {
      if (this.options.dataColumn) {
        const _0x42383e = this.options.dataColumn.split(".");
        _0x42383e.forEach(_0x3c861c => {
          _0x9b5780 = _0x9b5780[_0x3c861c];
        });
      }
      if (this.options.formatData) {
        _0x9b5780 = this.options.formatData(_0x9b5780);
      }
      const _0xad6dac = this.options.symbol;
      const _0x8387c2 = _0xad6dac?.type;
      const _0xe28814 = _0x8387c2 === "heat";
      const _0x4ecca4 = [];
      for (let _0x5a376a = 0, _0x2402d4 = _0x9b5780.length; _0x5a376a < _0x2402d4; _0x5a376a++) {
        const _0x47da36 = _0x9b5780[_0x5a376a];
        if (this.options.filter) {
          try {
            if (isFunction(this.options.filter) && this.options.filter(_0x47da36) === false) {
              continue;
            }
            if (isString(this.options.filter) && runJsForAttr(_0x47da36, this.options.filter) === false) {
              continue;
            }
          } catch (_0x3a53c5) {
            logError("filter筛选出错，视为false已过滤", this.options.filter, _0x3a53c5);
            continue;
          }
        }
        let _0x102aa8 = {};
        if (_0x47da36.style) {
          const _0x1d7f04 = {
            ..._0x47da36.style
          };
          _0x102aa8 = _0x1d7f04;
        }
        let _0x6432e = _0x47da36.type && hasType(_0x47da36.type) ? _0x47da36.type : "point";
        if (_0xad6dac && !_0xe28814) {
          if (isFunction(_0xad6dac)) {
            _0x102aa8 = _0xad6dac(_0x47da36, _0x102aa8) || _0x102aa8;
            if (_0x102aa8.type) {
              _0x6432e = _0x102aa8.type;
            }
          } else {
            _0x6432e = _0xad6dac.type || _0x6432e;
            const _0xca30cf = getSymbolStyle(_0xad6dac, _0x47da36 || {});
            if (_0xad6dac.merge) {
              _0x102aa8 = {
                ..._0xca30cf,
                ..._0x102aa8
              };
            } else {
              _0x102aa8 = _0xca30cf;
            }
          }
          if (!hasType(_0x6432e)) {
            logError("不存在graphicType无法解析数据对Graphic", _0x47da36);
            continue;
          }
        }
        const _0x37cd5d = {
          type: _0x6432e,
          style: _0x102aa8,
          attr: _0x47da36
        };
        const _0x21a431 = _0x37cd5d;
        if (isPointType(_0x6432e)) {
          if (this.options.formatPosition) {
            _0x21a431.position = this.options.formatPosition(_0x47da36, _0x21a431);
          } else if (_0x47da36.position) {
            _0x21a431.position = _0x47da36.position;
          } else if (this.options.latColumn || this.options.lngColumn) {
            const _0x5aa2c2 = _0x47da36[this.options.latColumn || "lat"];
            const _0x57b86b = _0x47da36[this.options.lngColumn || "lng"];
            const _0xfb61f7 = _0x47da36[this.options.altColumn || "alt"] || 0;
            _0x21a431.position = [_0x57b86b, _0x5aa2c2, _0xfb61f7];
          } else if (_0x47da36.lat && _0x47da36.lng) {
            _0x21a431.position = [_0x47da36.lng, _0x47da36.lat, _0x47da36.alt || 0];
          }
          if (!_0x21a431.position) {
            logError("无法解析数据position坐标位置", _0x47da36);
            continue;
          }
        } else {
          if (_0x47da36.positions) {
            _0x21a431.positions = _0x47da36.positions;
          } else if (this.options.formatPosition) {
            _0x21a431.positions = this.options.formatPosition(_0x47da36, _0x21a431);
          }
          if (!_0x21a431.positions) {
            logError("无法解析数据positions坐标位置", _0x47da36);
            continue;
          }
        }
        _0x4ecca4.push(_0x21a431);
      }
      if (_0xe28814) {
        const _0x42d7a7 = this._addOtherLayerByExSymbolType(_0x8387c2, _0x4ecca4);
        const _0x39e412 = {
          jsonData: _0x9b5780,
          list: _0x4ecca4,
          otherLayer: _0x42d7a7
        };
        this.fire(EventType.load, _0x39e412);
      } else {
        const _0x5bcbc2 = this._addGraphicByArrOptions(_0x4ecca4, {
          enabledEvent: false
        });
        const _0xc101bc = [];
        _0x5bcbc2.forEach(_0x48776c => {
          const _0x1490be = {
            ..._0x48776c.attr
          };
          _0x1490be.graphic = _0x48776c;
          _0xc101bc.push(_0x1490be);
        });
        const _0x2968f8 = {
          jsonData: _0x9b5780,
          list: _0xc101bc,
          graphics: _0x5bcbc2
        };
        this.fire(EventType.load, _0x2968f8);
      }
      this._readyPromise.resolve(this);
    }
    _toJsonEx(_0x2bc76a) {}
    _setOptionsHook(_0x368631, _0x4a04b9) {
      var _0x54c3a7;
      super._setOptionsHook(_0x368631, _0x4a04b9);
      if (!this._map) {
        return;
      }
      if (_0x4a04b9.symbol && ((_0x54c3a7 = _0x4a04b9.symbol) === null || _0x54c3a7 === undefined || !_0x54c3a7.type)) {
        this.eachGraphic(_0x122977 => {
          const _0x41b0c3 = getSymbolStyle(_0x368631.symbol, _0x122977.attr);
          _0x122977.style = _0x41b0c3;
        });
      } else {
        this.clear();
        this.load();
      }
    }
  }
  register$3("busineData", BusineDataLayer);
  var JzwStyleFS = "void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {\n  vec4 position = czm_inverseModelView * vec4(fsInput.attributes.positionEC,1); // 位置\n\n  // 注意shader中写浮点数是，一定要带小数点，否则会报错，比如0需要写成0.0，1要写成1.0\n  float _baseHeight = u_mars3d_jzw_baseHeight; // 物体的基础高度，需要修改成一个合适的建筑基础高度\n  float _heightRange = u_mars3d_jzw_heightRange; // 高亮的范围(_baseHeight ~ _baseHeight + _heightRange)\n  float _glowRange = u_mars3d_jzw_glowRange; // 光环的移动范围(高度)\n\n  // 建筑基础色\n  //vec4 diffuse = vec4(0.2,  0.5, 1.0, 1.0); // 固定颜色\n  vec4 diffuse = vec4(material.diffuse, material.alpha); // 颜色\n\n  float modelHeight = position.z;\n  if(u_mars3d_jzw_upAxis == 1) {\n    modelHeight = position.y;\n  } else if(u_mars3d_jzw_upAxis == 0){\n    modelHeight = position.x;\n  }\n\n  float mars_height = modelHeight - _baseHeight;\n  diffuse *= vec4(vec3(mars_height / _heightRange), 1.0);  // 渐变\n\n  // 动态光环\n  float time = fract(czm_frameNumber / 360.0);\n  time = abs(time - 0.5) * 2.0;\n  float diff = step(0.005, abs( clamp(mars_height / _glowRange, 0.0, 1.0) - time));\n\n  material.diffuse = vec3(diffuse.rgb + diffuse.rgb * (1.0 - diff)) ;\n}\n";
  class TilesetEditBase extends BaseThing {
    constructor(_0x56dbb8 = {}) {
      super(_0x56dbb8);
      if (!isMars3DCesium) {
        logError("该功能需要引入mars3d修改版Cesium库(mars3d-cesium库)才支持!", this);
      }
      this._rangeNumber = 0;
      this._maxRangeLength = 0;
      this._areaList = [];
      this._precise = _0x56dbb8.precise ?? true;
    }
    get area() {
      return this._areaList;
    }
    set area(_0x1ca794) {
      this.clear();
      _0x1ca794.forEach(_0x36dd1c => {
        this.addArea(_0x36dd1c.positions, _0x36dd1c);
      });
    }
    get list() {
      return this._areaList;
    }
    get tileset() {
      return this._layer?.tileset;
    }
    get layer() {
      return this._layer;
    }
    set layer(_0x385479) {
      this._layer = _0x385479;
      _0x385479.readyPromise.then(_0x3f2227 => {
        if (_0x385479.isDestroy) {
          return;
        }
        const _0x54d8d6 = _0x385479.boundingSphere?.center;
        if (!_0x54d8d6) {
          return;
        }
        this._matrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x54d8d6);
        this._inverseMatrix = Cesium__namespace.Matrix4.inverse(this._matrix, new Cesium__namespace.Matrix4());
        this._center = Cesium__namespace.Cartographic.fromCartesian(_0x54d8d6);
        if (this._precise) {
          this._initPrarmsByLayer(_0x385479);
        } else {
          this._initPrarmsByLayer_Mask(_0x385479);
        }
        this._initTileset(_0x385479.tileset);
        if (this.options.area) {
          this.area = this.options.area;
        }
      });
    }
    get editHeight() {
      var _0x2c0e87;
      const _0x495051 = this.layer;
      if (_0x495051 !== null && _0x495051 !== undefined && (_0x2c0e87 = _0x495051.options) !== null && _0x2c0e87 !== undefined && _0x2c0e87.editHeight) {
        return _0x495051.options.editHeight;
      }
      if (this.options.editHeight) {
        return this.options.editHeight;
      }
      return 0;
    }
    get length() {
      if (this._areaList) {
        return this._areaList?.length;
      } else {
        return 0;
      }
    }
    _addedHook() {
      if (this.options.layer) {
        this.layer = this.options.layer;
      }
    }
    _removedHook() {
      this.clear();
      if (this.cacheMarsOptions) {
        this.cacheMarsOptions();
        delete this.cacheMarsOptions;
      }
    }
    clear() {
      this._areaList = [];
      this._rangeNumber = 0;
      this._maxRangeLength = 0;
      if (Cesium__namespace.defined(this._texture)) {
        this._texture.destroy();
        this._texture = undefined;
      }
    }
    _setOptionsHook(_0x337533, _0x298dd9) {
      for (const _0x223e61 in _0x298dd9) {
        this[_0x223e61] = _0x298dd9[_0x223e61];
      }
    }
    addArea(_0x2ec219, _0x4bf59f = {}) {
      if (!_0x2ec219 || _0x2ec219.length < 3) {
        return;
      }
      if (_0x4bf59f.simplify) {
        _0x2ec219 = simplifyPositions(_0x2ec219, _0x4bf59f.simplify);
      }
      _0x2ec219 = LngLatArray.toCartesians(_0x2ec219);
      this._maxRangeLength = Math.max(this._maxRangeLength, _0x2ec219.length);
      let _0x58e049;
      if (this._inverseMatrix) {
        _0x58e049 = [];
        for (let _0x436257 = 0; _0x436257 < _0x2ec219.length; _0x436257++) {
          _0x58e049.push(Cesium__namespace.Matrix4.multiplyByPoint(this._inverseMatrix, _0x2ec219[_0x436257], new Cesium__namespace.Cartesian3()));
        }
      }
      const _0x5411d9 = {
        id: _0x4bf59f.id ?? getGlobalId(),
        show: true,
        height: _0x4bf59f.height || 0,
        positions: _0x2ec219,
        positions_model: _0x58e049
      };
      this._areaList.push(_0x5411d9);
      this._hasUpdate = true;
      const _0x3058aa = {
        area: _0x5411d9
      };
      this.fire(EventType.addItem, _0x3058aa);
      return _0x5411d9;
    }
    getAreaById(_0x14f950) {
      for (let _0x3d1a06 = 0; _0x3d1a06 < this._areaList.length; _0x3d1a06++) {
        const _0xb8e48d = this._areaList[_0x3d1a06];
        if (_0xb8e48d.id === _0x14f950) {
          return _0xb8e48d;
        }
      }
      return null;
    }
    hideArea(_0x5bbb81) {
      const _0x2fcf9a = this.getAreaById(_0x5bbb81);
      if (_0x2fcf9a) {
        _0x2fcf9a.show = false;
        this._hasUpdate = true;
      }
    }
    showArea(_0x4f35c4) {
      const _0x176135 = this.getAreaById(_0x4f35c4);
      if (_0x176135) {
        _0x176135.show = true;
        this._hasUpdate = true;
      }
    }
    removeArea(_0x3fae11) {
      if (!isObject(_0x3fae11)) {
        _0x3fae11 = this.getAreaById(_0x3fae11);
      }
      if (!_0x3fae11) {
        return;
      }
      removeArrayItem(this._areaList, _0x3fae11);
      this._hasUpdate = true;
      const _0x3fee82 = {
        area: _0x3fae11
      };
      this.fire(EventType.removeItem, _0x3fee82);
    }
    _initTileset(_0x470327) {
      var _0x20779b;
      const _0x4cd0fd = _0x470327.update;
      const _0x240bbc = this;
      _0x470327.update = function (_0x1111f5) {
        if (_0x240bbc._hasUpdate) {
          _0x240bbc._update(_0x1111f5);
        }
        _0x4cd0fd.bind(this)(_0x1111f5);
      };
      let _0x2d1de2;
      if (this._precise) {
        _0x2d1de2 = this._getCustomShader();
      } else {
        _0x2d1de2 = this._getCustomShader_Mask();
      }
      if (_0x2d1de2 && (_0x20779b = Cesium__namespace.Mars3DEx) !== null && _0x20779b !== undefined && _0x20779b.getCacheOrAdd) {
        const _0x5b6ce1 = Cesium__namespace.Mars3DEx.getCacheOrAdd(this.layer._marsOptions.customShaders);
        _0x5b6ce1[this._customShadersKey] = _0x2d1de2;
        this.cacheMarsOptions = function () {
          _0x470327.update = _0x4cd0fd;
          delete _0x5b6ce1[_0x240bbc._customShadersKey];
        };
      }
    }
    _update(_0x36951d) {
      if (Cesium__namespace.defined(this._texture)) {
        this._texture.destroy();
        this._texture = undefined;
      }
      this._maxRangeLength = 0;
      this._rangeNumber = this._areaList.length;
      if (this._rangeNumber === 0) {
        return;
      }
      if (this._precise) {
        this._texture = this._createTexture();
      } else {
        this._texture = this._createTexture_Mask();
      }
      this._hasUpdate = false;
    }
    _toJsonEx(_0x97f51) {
      _0x97f51.area = [];
      this._areaList.forEach(_0x531634 => {
        _0x97f51.area.push({
          ..._0x531634,
          positions: LngLatArray.toArray(_0x531634.positions)
        });
      });
    }
    _initPrarmsByLayer(_0x50a0bc) {}
    _createTexture() {
      let _0x459503 = 0;
      this._rangeNumber = 0;
      this._areaList.forEach(_0x3cc345 => {
        if (!_0x3cc345.show) {
          return;
        }
        this._rangeNumber++;
        if (_0x459503 < _0x3cc345.positions.length) {
          _0x459503 = _0x3cc345.positions.length;
        }
      });
      this._maxRangeLength = _0x459503;
      if (this._rangeNumber === 0) {
        return;
      }
      const _0x5917dc = [];
      this._areaList.forEach((_0x53bcbd, _0x51e539) => {
        if (!_0x53bcbd.show) {
          return;
        }
        const _0x1cd676 = _0x53bcbd.positions;
        const _0x4ff1a3 = _0x1cd676.length;
        const _0x13a70a = Cesium__namespace.Cartesian3.fromRadians(this._center.longitude, this._center.latitude, this._center.height + _0x53bcbd.height + this.editHeight);
        const _0x4d6956 = Cesium__namespace.Matrix4.multiplyByPoint(this._inverseMatrix, _0x13a70a, _0x13a70a);
        _0x5917dc.push(_0x4ff1a3);
        _0x5917dc.push(_0x4d6956.z);
        _0x5917dc.push(0);
        _0x5917dc.push(0);
        _0x1cd676.forEach(_0x1e13a9 => {
          const _0x2d4fb6 = _0x1e13a9;
          const _0x4d1d34 = Cesium__namespace.Cartesian3.normalize(_0x2d4fb6, new Cesium__namespace.Cartesian3());
          _0x5917dc.push(_0x4d1d34.x);
          _0x5917dc.push(_0x4d1d34.y);
          _0x5917dc.push(_0x4d1d34.z);
          _0x5917dc.push(_0x2d4fb6.x / _0x4d1d34.x);
        });
        if (_0x4ff1a3 < _0x459503) {
          for (let _0x5b1580 = 0; _0x5b1580 < _0x459503 - _0x4ff1a3; _0x5b1580++) {
            _0x5917dc.push(0);
            _0x5917dc.push(0);
            _0x5917dc.push(0);
            _0x5917dc.push(0);
          }
        }
      });
      return new Cesium__namespace.Texture({
        context: this._map.scene._context,
        pixelFormat: Cesium__namespace.PixelFormat.RGBA,
        pixelDatatype: Cesium__namespace.PixelDatatype.FLOAT,
        sampler: new Cesium__namespace.Sampler({
          wrapS: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          wrapT: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          minificationFilter: Cesium__namespace.TextureMinificationFilter.NEAREST,
          magnificationFilter: Cesium__namespace.TextureMagnificationFilter.NEAREST
        }),
        flipY: false,
        source: {
          width: _0x459503 + 1,
          height: this._rangeNumber,
          arrayBufferView: new Float32Array(_0x5917dc)
        }
      });
    }
    _getCustomShader() {
      return null;
    }
    _initPrarmsByLayer_Mask(_0x29a2e4) {
      this._mask_radius = Math.round(_0x29a2e4.boundingSphere?.radius ?? 2048);
      this._mask_size = caculateCanvasSize(this._mask_radius * 2, this.options.maxCanvasSize);
      this._mask_canvas = document.createElement("canvas");
      this._mask_canvas.style.backgroundColor = "#000000";
      this._mask_canvas.width = this._mask_size.width;
      this._mask_canvas.height = this._mask_size.height;
      this._mask_canvas.style.width = this._mask_size.width + "px";
      this._mask_canvas.style.height = this._mask_size.height + "px";
    }
    _createTexture_Mask() {
      const _0x1866b9 = this._mask_canvas.getContext("2d");
      _0x1866b9.clearRect(0, 0, this._mask_size.width, this._mask_size.height);
      let _0x5d1767 = 0;
      this._areaList.forEach(_0x2bae7d => {
        if (!_0x2bae7d.show) {
          return;
        }
        _0x5d1767++;
        let _0x4b8da7 = _0x2bae7d.positions_model;
        if (!_0x4b8da7) {
          _0x4b8da7 = [];
          for (let _0x5ae9a1 = 0; _0x5ae9a1 < _0x4b8da7.length; _0x5ae9a1++) {
            _0x4b8da7.push(Cesium__namespace.Matrix4.multiplyByPoint(this._inverseMatrix, _0x4b8da7[_0x5ae9a1], new Cesium__namespace.Cartesian3()));
          }
          _0x2bae7d.positions_model = _0x4b8da7;
        }
        _0x1866b9.beginPath();
        const _0x10343b = _0x4b8da7[0];
        const _0x37ed40 = localPointToCanvasPoint(_0x10343b, this._mask_size);
        _0x1866b9.moveTo(_0x37ed40.x, _0x37ed40.y);
        for (let _0x5f1b46 = 1; _0x5f1b46 < _0x4b8da7.length; _0x5f1b46++) {
          const _0x7d4845 = localPointToCanvasPoint(_0x4b8da7[_0x5f1b46], this._mask_size);
          _0x1866b9.lineTo(_0x7d4845.x, _0x7d4845.y);
        }
        _0x1866b9.closePath();
        _0x1866b9.fillStyle = "#ff0000";
        _0x1866b9.fill();
      });
      if (_0x5d1767 === 0) {
        return;
      }
      const _0x3d6695 = new Cesium__namespace.Texture({
        context: this._map.scene._context,
        pixelFormat: Cesium__namespace.PixelFormat.RGBA,
        pixelDatatype: Cesium__namespace.PixelDatatype.FLOAT,
        sampler: new Cesium__namespace.Sampler({
          wrapS: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          wrapT: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          minificationFilter: Cesium__namespace.TextureMinificationFilter.NEAREST,
          magnificationFilter: Cesium__namespace.TextureMagnificationFilter.NEAREST
        }),
        flipY: true,
        source: this._mask_canvas
      });
      _0x3d6695.type = "sampler2D";
      return _0x3d6695;
    }
    _getCustomShader_Mask() {
      return null;
    }
  }
  function caculateCanvasSize(_0x5da4ae, _0x42685a = 4096) {
    let _0xdf7554 = 1;
    const _0xdc7356 = 512;
    if (_0x5da4ae > _0x42685a) {
      _0xdf7554 = _0x5da4ae / _0x42685a;
    } else if (_0x5da4ae < _0xdc7356) {
      _0xdf7554 = _0x5da4ae / _0xdc7356;
    }
    const _0x3c34c3 = {
      factor: _0xdf7554,
      width: _0x5da4ae / _0xdf7554,
      height: _0x5da4ae / _0xdf7554
    };
    return _0x3c34c3;
  }
  function localPointToCanvasPoint(_0x49fbd7, _0x4451a6) {
    const _0x241e98 = {
      x: undefined,
      y: undefined
    };
    const _0x635ed = _0x241e98;
    _0x635ed.x = Math.round(_0x49fbd7.x / _0x4451a6.factor) + _0x4451a6.width / 2;
    _0x635ed.y = _0x4451a6.height - (Math.round(_0x49fbd7.y / _0x4451a6.factor) + _0x4451a6.height / 2);
    return _0x635ed;
  }
  var TilesetClipFS = "uniform bool u_mars3d_clip_enabled;\nuniform bool u_mars3d_clip_outSide;\nuniform sampler2D u_mars3d_clip_texture;\nuniform mat4 u_mars3d_clip_inverseMatrix;\nuniform float u_mars3d_clip_rangeNumber;\nuniform float u_mars3d_clip_maxRangeLength;\n\nuniform float u_mars3d_clip_brightness;\n\nvec4 restorePoint_mars3d_clip(vec4 point) {\n  vec3 outpoint = point.xyz * point.w;\n  return u_mars3d_clip_inverseMatrix * vec4(outpoint, 1.0);\n}\n\nvec4 getRegions_mars3d_clip(int x, int y) {\n  float u = (float(x) + 0.5) / (u_mars3d_clip_maxRangeLength + 1.0);\n  float v = (float(y) + 0.5) / u_mars3d_clip_rangeNumber;\n  vec4 point = texture(u_mars3d_clip_texture, vec2(u, v));\n  return point;\n}\n\nbool inRectangle_mars3d_clip(vec4 textPoint) {\n  int rangeNumber = int(u_mars3d_clip_rangeNumber);\n  int step = 1;\n  for(int h = 0; h < rangeNumber; h += step) {\n    int currentLength = int(getRegions_mars3d_clip(0, h).x);\n    int counter = 0;\n\n    for(int w = 0; w < currentLength; w += step) {\n      int nextIndex = w + step;\n      nextIndex = nextIndex >= currentLength ? 0 : nextIndex;\n\n      vec4 p1 = restorePoint_mars3d_clip(getRegions_mars3d_clip(w + step, h));\n      vec4 p2 = restorePoint_mars3d_clip(getRegions_mars3d_clip(nextIndex + step, h));\n\n      float p1x = p1.x;\n      float p1y = p1.y;\n      float p2x = p2.x;\n      float p2y = p2.y;\n      float textPointx = textPoint.x;\n      float textPointy = textPoint.y;\n\n      if(p1x != p2x && textPointx > min(p1x, p2x) && textPointx <= max(p1x, p2x) && textPointy <= max(p1y, p2y)) {\n        float xinters = ((textPointx - p1x) * (p2y - p1y)) / (p2x - p1x) + p1y;\n        if(p1y == p2y || textPointy <= xinters) {\n          counter += 1;\n        }\n      }\n    }\n    if((mod(float(counter), 2.0) != 0.0)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvoid fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {\n  if(u_mars3d_clip_enabled) {\n    vec3 positionMC = fsInput.attributes.positionMC;\n    vec4 testPosition = u_mars3d_clip_inverseMatrix * czm_model * vec4(positionMC, 1.0);\n    if(u_mars3d_clip_outSide) {\n      if(!inRectangle_mars3d_clip(testPosition)) {\n        discard;\n      }\n\n    } else {\n      if(inRectangle_mars3d_clip(testPosition)) {\n        discard;\n      }\n    }\n  }\n\n  if(u_mars3d_clip_brightness != 1.0) {\n    material.diffuse = mix(vec3(0.0), material.diffuse, u_mars3d_clip_brightness);\n  }\n}\n";
  var TilesetClipMaskFS = "uniform bool u_mars3d_clip_enabled;\nuniform bool u_mars3d_clip_outSide;\nuniform sampler2D u_mars3d_clip_texture;\nuniform mat4 u_mars3d_clip_inverseMatrix;\nuniform float u_mars3d_clip_radius;\n\nuniform float u_mars3d_clip_brightness;\n\nvoid fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {\n  if(u_mars3d_clip_enabled) {\n    vec3 positionWC = fsInput.attributes.positionWC;\n    vec4 position = u_mars3d_clip_inverseMatrix * vec4(positionWC, 1.0);\n    vec4 color = texture(u_mars3d_clip_texture, (position.xy + u_mars3d_clip_radius) / u_mars3d_clip_radius / 2.0);\n\n    if(u_mars3d_clip_outSide) {\n      if(color.r <= 0.0) {\n        discard;\n      }\n    } else {\n      if(color.r > 0.0) {\n        discard;\n      }\n    }\n\n    if(u_mars3d_clip_brightness != 1.0) {\n      material.diffuse = mix(vec3(0.0), material.diffuse, u_mars3d_clip_brightness);\n    }\n  }\n}\n";
  class TilesetClip extends TilesetEditBase {
    constructor(_0x5801c6 = {}) {
      _0x5801c6.czm = _0x5801c6.czm ?? _0x5801c6.precise ?? true;
      super(_0x5801c6);
      this._customShadersKey = "clip";
    }
    get clipOutSide() {
      return this.options?.clipOutSide;
    }
    set clipOutSide(_0x5ee770) {
      this.options.clipOutSide = _0x5ee770;
    }
    get brightness() {
      return this.options.brightness ?? 1;
    }
    set brightness(_0x1fc356) {
      this.options.brightness = _0x1fc356;
    }
    _getCustomShader() {
      if (this.options.czm) {
        this._initTilesetClippingPolygons();
        return;
      }
      const _0x19d388 = {
        fragmentShaderText: TilesetClipFS
      };
      const _0x76c88 = new Cesium__namespace.CustomShader(_0x19d388);
      const _0x329011 = this._map.scene._context.defaultTexture;
      _0x76c88.uniformMap.u_mars3d_clip_texture = () => {
        if (Cesium__namespace.defined(this._texture)) {
          return this._texture;
        } else {
          return _0x329011;
        }
      };
      _0x76c88.uniformMap.u_mars3d_clip_inverseMatrix = () => {
        return this._inverseMatrix;
      };
      _0x76c88.uniformMap.u_mars3d_clip_rangeNumber = () => {
        return this._rangeNumber;
      };
      _0x76c88.uniformMap.u_mars3d_clip_maxRangeLength = () => {
        return this._maxRangeLength;
      };
      _0x76c88.uniformMap.u_mars3d_clip_outSide = () => {
        return Boolean(this.clipOutSide);
      };
      _0x76c88.uniformMap.u_mars3d_clip_enabled = () => {
        return this.isAdded && this.enabled && Cesium__namespace.defined(this._texture);
      };
      _0x76c88.uniformMap.u_mars3d_clip_brightness = () => {
        return this.brightness;
      };
      return _0x76c88;
    }
    _getCustomShader_Mask() {
      if (this.options.czm) {
        this._initTilesetClippingPolygons();
        return;
      }
      const _0x157422 = {
        fragmentShaderText: TilesetClipMaskFS
      };
      const _0x5d6439 = new Cesium__namespace.CustomShader(_0x157422);
      const _0x29b642 = this._map.scene._context.defaultTexture;
      _0x5d6439.uniformMap.u_mars3d_clip_texture = () => {
        if (Cesium__namespace.defined(this._texture)) {
          return this._texture;
        } else {
          return _0x29b642;
        }
      };
      _0x5d6439.uniformMap.u_mars3d_clip_inverseMatrix = () => {
        return this._inverseMatrix;
      };
      _0x5d6439.uniformMap.u_mars3d_clip_radius = () => {
        return this._mask_radius;
      };
      _0x5d6439.uniformMap.u_mars3d_clip_outSide = () => {
        return Boolean(this.clipOutSide);
      };
      _0x5d6439.uniformMap.u_mars3d_clip_enabled = () => {
        return this.isAdded && this.enabled && Cesium__namespace.defined(this._texture);
      };
      _0x5d6439.uniformMap.u_mars3d_clip_brightness = () => {
        return this.brightness;
      };
      return _0x5d6439;
    }
    _initTilesetClippingPolygons() {
      this.tileset.clippingPolygons = new Cesium__namespace.ClippingPolygonCollection({
        polygons: [],
        inverse: this.clipOutSide,
        enabled: this.enabled
      });
    }
    _update(_0x2b05f9) {
      if (!this.options.czm) {
        super._update(_0x2b05f9);
        return;
      }
      this.tileset.clippingPolygons.removeAll();
      this._areaList.forEach((_0x1e9cd3, _0x54fb85) => {
        if (!_0x1e9cd3.show) {
          return;
        }
        const _0x29d5ce = {
          positions: _0x1e9cd3.positions
        };
        this.tileset.clippingPolygons.add(new Cesium__namespace.ClippingPolygon(_0x29d5ce));
      });
      this._hasUpdate = false;
    }
    clear() {
      var _0x4fa720;
      super.clear();
      if (this.options.czm && (_0x4fa720 = this.tileset) !== null && _0x4fa720 !== undefined && _0x4fa720.clippingPolygons) {
        this.tileset.clippingPolygons.removeAll();
      }
    }
    _enabledHook(_0x115268) {
      var _0x4babfe;
      if (this.options.czm && (_0x4babfe = this.tileset) !== null && _0x4babfe !== undefined && _0x4babfe.clippingPolygons) {
        this.tileset.clippingPolygons.enabled = _0x115268;
      }
    }
  }
  var TilesetFlatVS = "uniform bool u_mars3d_flat_enabled;\nuniform sampler2D u_mars3d_flat_texture;\nuniform mat4 u_mars3d_flat_matrix;\nuniform mat4 u_mars3d_flat_inverseMatrix;\nuniform float u_mars3d_flat_rangeNumber;\nuniform float u_mars3d_flat_maxRangeLength;\n\nvec4 restorePoint_mars3d_flat(vec4 point) {\n  vec3 outpoint = point.xyz * point.w;\n  return u_mars3d_flat_inverseMatrix * vec4(outpoint, 1.0);\n}\n\nvec4 getRegions_mars3d_flat(float x, float y) {\n  float u = (x + 0.5) / (u_mars3d_flat_maxRangeLength + 1.0);\n  float v = (y + 0.5) / u_mars3d_flat_rangeNumber;\n  vec4 point = texture(u_mars3d_flat_texture, vec2(u, v));\n  return point;\n}\n\nfloat inRectangle_mars3d_flat(vec4 textPoint) {\n  for(float h = 0.0; h < u_mars3d_flat_rangeNumber; h += 1.0) {\n    float currentLength = getRegions_mars3d_flat(0.0, h).x;\n    float counter = 0.0;\n    for(float w = 0.0; w < currentLength; w += 1.0) {\n      float nextIndex = w + 1.0;\n      nextIndex = nextIndex >= currentLength ? 0.0 : nextIndex;\n      vec4 p1 = restorePoint_mars3d_flat(getRegions_mars3d_flat(w + 1.0, h));\n      vec4 p2 = restorePoint_mars3d_flat(getRegions_mars3d_flat(nextIndex + 1.0, h));\n\n      float p1x = p1.x;\n      float p1y = p1.y;\n      float p2x = p2.x;\n      float p2y = p2.y;\n      float textPointx = textPoint.x;\n      float textPointy = textPoint.y;\n\n      if(p1x != p2x && textPointx > min(p1x, p2x) && textPointx <= max(p1x, p2x) && textPointy <= max(p1y, p2y)) {\n        float xinters = ((textPointx - p1x) * (p2y - p1y)) / (p2x - p1x) + p1y;\n        if(p1y == p2y || textPointy <= xinters) {\n          counter += 1.0;\n        }\n      }\n    }\n    if((mod(counter, 2.0) != 0.0)) {\n      return h;\n    }\n  }\n  return 99999.0;\n}\n\nvoid vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {\n  if(u_mars3d_flat_enabled) {\n    vec3 positionMC = vsInput.attributes.positionMC;\n\n    vec4 testPosition = u_mars3d_flat_inverseMatrix * czm_model * vec4(positionMC, 1.0);\n    float rectangleIndex = inRectangle_mars3d_flat(testPosition);\n    if(rectangleIndex != 99999.0) {\n      float modelDatumHeight = getRegions_mars3d_flat(0.0, rectangleIndex).y;\n      testPosition.z = modelDatumHeight + testPosition.z * 0.0005;\n      vsOutput.positionMC = (czm_inverseModel * u_mars3d_flat_matrix * testPosition).xyz;\n    }\n\n  }\n}\n";
  var TilesetFlatMaskVS = "uniform bool u_mars3d_flat_enabled;\nuniform sampler2D u_mars3d_flat_texture; // 范围\nuniform float u_mars3d_flat_radius; // 范围的长度\nuniform mat4 u_mars3d_flat_matrix; // 东北天\nuniform mat4 u_mars3d_flat_inverseMatrix; // 东北天的逆\nuniform float u_mars3d_flat_localZ; // 基准高度（东北天坐标系下的高度）\n\nvoid vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {\n  if(u_mars3d_flat_enabled) {\n    vec4 position = u_mars3d_flat_inverseMatrix * czm_model * vec4(vsInput.attributes.positionMC, 1.0);\n    vec4 color = texture(u_mars3d_flat_texture, (position.xy + u_mars3d_flat_radius) / u_mars3d_flat_radius / 2.0);\n    if(color.r > 0.0) {\n      position.z = u_mars3d_flat_localZ;\n      vsOutput.positionMC = (czm_inverseModel * u_mars3d_flat_matrix * position).xyz;\n    }\n  }\n}\n";
  class TilesetFlat extends TilesetEditBase {
    constructor(_0x338e68 = {}) {
      super(_0x338e68);
      this._customShadersKey = "flat";
    }
    _getCustomShader() {
      const _0x3f4b95 = {
        vertexShaderText: TilesetFlatVS
      };
      const _0x5de5e6 = new Cesium__namespace.CustomShader(_0x3f4b95);
      const _0x4224bc = this._map.scene._context.defaultTexture;
      _0x5de5e6.uniformMap.u_mars3d_flat_texture = () => {
        if (Cesium__namespace.defined(this._texture)) {
          return this._texture;
        } else {
          return _0x4224bc;
        }
      };
      _0x5de5e6.uniformMap.u_mars3d_flat_matrix = () => {
        return this._matrix;
      };
      _0x5de5e6.uniformMap.u_mars3d_flat_inverseMatrix = () => {
        return this._inverseMatrix;
      };
      _0x5de5e6.uniformMap.u_mars3d_flat_rangeNumber = () => {
        return this._rangeNumber;
      };
      _0x5de5e6.uniformMap.u_mars3d_flat_maxRangeLength = () => {
        return this._maxRangeLength;
      };
      _0x5de5e6.uniformMap.u_mars3d_flat_enabled = () => {
        return this.isAdded && this.enabled && Cesium__namespace.defined(this._texture);
      };
      return _0x5de5e6;
    }
    _getCustomShader_Mask() {
      const _0x20a42e = {
        vertexShaderText: TilesetFlatMaskVS
      };
      const _0x4d5997 = new Cesium__namespace.CustomShader(_0x20a42e);
      const _0x2ea3a3 = this._map.scene._context.defaultTexture;
      _0x4d5997.uniformMap.u_mars3d_flat_texture = () => {
        if (Cesium__namespace.defined(this._texture)) {
          return this._texture;
        } else {
          return _0x2ea3a3;
        }
      };
      _0x4d5997.uniformMap.u_mars3d_flat_matrix = () => {
        return this._matrix;
      };
      _0x4d5997.uniformMap.u_mars3d_flat_inverseMatrix = () => {
        return this._inverseMatrix;
      };
      _0x4d5997.uniformMap.u_mars3d_flat_radius = () => {
        return this._mask_radius;
      };
      _0x4d5997.uniformMap.u_mars3d_flat_localZ = () => {
        return this._mask_localZ;
      };
      _0x4d5997.uniformMap.u_mars3d_flat_enabled = () => {
        return this.isAdded && this.enabled && Cesium__namespace.defined(this._texture);
      };
      return _0x4d5997;
    }
    addArea(_0x4b4fb7, _0x406631 = {}) {
      if (!this._precise) {
        this._updateHeight_Mask(_0x406631.height || 0);
      }
      return super.addArea(_0x4b4fb7, _0x406631);
    }
    updateHeight(_0x778d97, _0x2576f7) {
      if (this._precise) {
        if (Cesium__namespace.defined(_0x2576f7)) {
          const _0x1383d2 = this.getAreaById(_0x2576f7);
          if (_0x1383d2) {
            _0x1383d2.height = _0x778d97;
            this._hasUpdate = true;
          }
        } else {
          for (let _0x22c8b5 = 0; _0x22c8b5 < this._areaList.length; _0x22c8b5++) {
            const _0x3c4a09 = this._areaList[_0x22c8b5];
            _0x3c4a09.height = _0x778d97;
          }
          this._hasUpdate = true;
        }
      } else {
        this._updateHeight_Mask(_0x778d97);
      }
    }
    _updateHeight_Mask(_0x24fd26) {
      const _0xa832e4 = Cesium__namespace.Cartesian3.fromRadians(this._center.longitude, this._center.latitude, this._center.height + _0x24fd26 + this.editHeight);
      const _0x323041 = Cesium__namespace.Matrix4.multiplyByPoint(this._inverseMatrix, _0xa832e4, _0xa832e4);
      this._mask_localZ = _0x323041.z;
    }
  }
  var TilesetFloodFS = "uniform sampler2D u_mars3d_flood_texture;\nuniform mat4 u_mars3d_flood_inverseMatrix;\nuniform float u_mars3d_flood_rangeNumber;\nuniform float u_mars3d_flood_maxRangeLength;\n\nuniform bool u_mars3d_flood_enabled;\nuniform vec4 u_mars3d_flood_color;\nuniform bool u_mars3d_flood_floodAll;\nuniform float u_mars3d_flood_currentheight;\nuniform float u_mars3d_flood_min_height;\nuniform bool u_mars3d_flood_limitMin;\n\nuniform float u_mars3d_flood_brightness;\n\nvec4 restorePoint_mars3d_flood(vec4 point) {\n  vec3 outpoint = point.xyz * point.w;\n  return u_mars3d_flood_inverseMatrix * vec4(outpoint, 1.0);\n}\n\nvec4 getRegions_mars3d_flood(float x, float y) {\n  float u = (x + 0.5) / (u_mars3d_flood_maxRangeLength + 1.0);\n  float v = (y + 0.5) / u_mars3d_flood_rangeNumber;\n  vec4 point = texture(u_mars3d_flood_texture, vec2(u, v));\n  return point;\n}\n\nbool inRectangle_mars3d_flood(vec4 textPoint) {\n  for(float h = 0.0; h < u_mars3d_flood_rangeNumber; h += 1.0) {\n    float currentLength = getRegions_mars3d_flood(0.0, h).x;\n    float counter = 0.0;\n    for(float w = 0.0; w < currentLength; w += 1.0) {\n      float nextIndex = w + 1.0;\n      nextIndex = nextIndex >= currentLength ? 0.0 : nextIndex;\n      vec4 p1 = restorePoint_mars3d_flood(getRegions_mars3d_flood(w + 1.0, h));\n      vec4 p2 = restorePoint_mars3d_flood(getRegions_mars3d_flood(nextIndex + 1.0, h));\n\n      float p1x = p1.x;\n      float p1y = p1.y;\n      float p2x = p2.x;\n      float p2y = p2.y;\n      float textPointx = textPoint.x;\n      float textPointy = textPoint.y;\n\n      if(p1x != p2x && textPointx > min(p1x, p2x) && textPointx <= max(p1x, p2x) && textPointy <= max(p1y, p2y)) {\n        float xinters = ((textPointx - p1x) * (p2y - p1y)) / (p2x - p1x) + p1y;\n        if(p1y == p2y || textPointy <= xinters) {\n          counter += 1.0;\n        }\n      }\n    }\n    if((mod(counter, 2.0) != 0.0)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvoid fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {\n  vec3 positionMC = fsInput.attributes.positionMC;\n  vec4 testPosition = u_mars3d_flood_inverseMatrix * czm_model * vec4(positionMC, 1.0);\n  if(u_mars3d_flood_enabled && (u_mars3d_flood_floodAll || inRectangle_mars3d_flood(testPosition))) {\n    float height = testPosition.z;\n\n    if(height <= u_mars3d_flood_currentheight && (!u_mars3d_flood_limitMin || u_mars3d_flood_min_height <= height)) {\n      material.diffuse = mix(material.diffuse, u_mars3d_flood_color.rgb, u_mars3d_flood_color.a);\n    }\n  }\n\n  if(u_mars3d_flood_brightness != 1.0) {\n    material.diffuse = mix(vec3(0.0), material.diffuse, u_mars3d_flood_brightness);\n  }\n}\n";
  var TilesetFloodMaskFS = "uniform sampler2D u_mars3d_flood_texture;\nuniform mat4 u_mars3d_flood_inverseMatrix;\nuniform float u_mars3d_flood_radius;\n\nuniform bool u_mars3d_flood_enabled;\nuniform vec4 u_mars3d_flood_color;\nuniform bool u_mars3d_flood_floodAll;\nuniform float u_mars3d_flood_currentheight;\nuniform float u_mars3d_flood_min_height;\nuniform bool u_mars3d_flood_limitMin;\n\nuniform float u_mars3d_flood_brightness;\n\nvoid fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {\n  vec3 positionMC = fsInput.attributes.positionMC;\n  vec4 position = u_mars3d_flood_inverseMatrix * czm_model * vec4(positionMC, 1.0);\n\n  if(u_mars3d_flood_enabled) {\n    vec4 color = texture(u_mars3d_flood_texture, (position.xy + u_mars3d_flood_radius) / u_mars3d_flood_radius / 2.0);\n    if(u_mars3d_flood_floodAll || color.r > 0.0) {\n      float height = position.z;\n      if(height <= u_mars3d_flood_currentheight && (!u_mars3d_flood_limitMin || u_mars3d_flood_min_height <= height)) {\n        material.diffuse = mix(material.diffuse, u_mars3d_flood_color.rgb, u_mars3d_flood_color.a);\n      }\n    }\n  }\n\n  if(u_mars3d_flood_brightness != 1.0) {\n    material.diffuse = mix(vec3(0.0), material.diffuse, u_mars3d_flood_brightness);\n  }\n}\n";
  class TilesetFlood extends TilesetEditBase {
    constructor(_0x39381f = {}) {
      super(_0x39381f);
      this._customShadersKey = "flood";
      this.options.speed = this.options.speed ?? 5;
      this.color = this.options.color || new Cesium__namespace.Color(0.15, 0.7, 0.95, 0.5);
    }
    get speed() {
      return this.options.speed;
    }
    set speed(_0x2e1127) {
      this.options.speed = _0x2e1127;
    }
    get limitMin() {
      return this.options.limitMin ?? false;
    }
    set limitMin(_0x1a8da3) {
      this.options.limitMin = _0x1a8da3;
    }
    get floodAll() {
      return this.options.floodAll ?? false;
    }
    set floodAll(_0x523306) {
      this.options.floodAll = _0x523306;
    }
    get height() {
      return this.options.height;
    }
    set height(_0x5e3c01) {
      this.options.height = _0x5e3c01;
      this._currentHeight = _0x5e3c01 + this.editHeight;
    }
    get color() {
      return this._color;
    }
    set color(_0x5277a7) {
      this._color = getCesiumColor(_0x5277a7, new Cesium__namespace.Color(0.15, 0.7, 0.95, 0.5));
    }
    get brightness() {
      return this.options.brightness ?? 1;
    }
    set brightness(_0x348b38) {
      this.options.brightness = _0x348b38;
    }
    start() {
      this.stop();
      if (Cesium__namespace.defined(this.options.minHeight)) {
        this._minHeight = this.options.minHeight + this.editHeight;
        this.height = this.options.minHeight;
      } else {
        this._minHeight = -9999;
        this.height = 0;
      }
      this.isStart = true;
      this.fire(EventType.start);
      this._map.on(EventType.clockTick, this._onClockTickHandler, this);
    }
    _onClockTickHandler(_0x3f7e9a) {
      this.height += this.speed / 50;
      if (this.height > this.options.maxHeight) {
        this.height = this.options.maxHeight;
        this.stop();
        return;
      }
      if (this.height < this.options.minHeight) {
        this.height = this.options.minHeight;
        this.stop();
        return;
      }
      this.fire(EventType.change, {
        height: this.height
      });
    }
    stop() {
      if (!this.isStart) {
        return;
      }
      this._map.off(EventType.clockTick, this._onClockTickHandler, this);
      this.isStart = false;
      this.fire(EventType.end);
    }
    restart() {
      this.start();
    }
    clear() {
      this.stop();
      super.clear();
      delete this._minHeight;
      delete this._currentHeight;
    }
    _getCustomShader() {
      const _0x2d83d9 = {
        fragmentShaderText: TilesetFloodFS
      };
      const _0x34fd93 = new Cesium__namespace.CustomShader(_0x2d83d9);
      const _0x1f6e5e = this._map.scene._context.defaultTexture;
      _0x34fd93.uniformMap.u_mars3d_flood_texture = () => {
        if (Cesium__namespace.defined(this._texture)) {
          return this._texture;
        } else {
          return _0x1f6e5e;
        }
      };
      _0x34fd93.uniformMap.u_mars3d_flood_inverseMatrix = () => {
        return this._inverseMatrix;
      };
      _0x34fd93.uniformMap.u_mars3d_flood_rangeNumber = () => {
        return this._rangeNumber;
      };
      _0x34fd93.uniformMap.u_mars3d_flood_maxRangeLength = () => {
        return this._maxRangeLength;
      };
      _0x34fd93.uniformMap.u_mars3d_flood_floodAll = () => {
        return this.floodAll;
      };
      _0x34fd93.uniformMap.u_mars3d_flood_color = () => {
        return this.color;
      };
      _0x34fd93.uniformMap.u_mars3d_flood_currentheight = () => {
        return this._currentHeight;
      };
      _0x34fd93.uniformMap.u_mars3d_flood_min_height = () => {
        return this._minHeight;
      };
      _0x34fd93.uniformMap.u_mars3d_flood_limitMin = () => {
        return this.limitMin;
      };
      _0x34fd93.uniformMap.u_mars3d_flood_enabled = () => {
        return this.isAdded && this.enabled && Cesium__namespace.defined(this._currentHeight);
      };
      _0x34fd93.uniformMap.u_mars3d_flood_brightness = () => {
        return this.brightness;
      };
      this.uniformMap = _0x34fd93.uniformMap;
      return _0x34fd93;
    }
    _getCustomShader_Mask() {
      const _0x34f38e = {
        fragmentShaderText: TilesetFloodMaskFS
      };
      const _0xbdc9f3 = new Cesium__namespace.CustomShader(_0x34f38e);
      const _0x3cc769 = this._map.scene._context.defaultTexture;
      _0xbdc9f3.uniformMap.u_mars3d_flood_texture = () => {
        if (Cesium__namespace.defined(this._texture)) {
          return this._texture;
        } else {
          return _0x3cc769;
        }
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_inverseMatrix = () => {
        return this._inverseMatrix;
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_radius = () => {
        return this._mask_radius;
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_floodAll = () => {
        return this.floodAll;
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_color = () => {
        return this.color;
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_currentheight = () => {
        return this._currentHeight;
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_min_height = () => {
        return this._minHeight;
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_limitMin = () => {
        return this._limitMin;
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_enabled = () => {
        return this.isAdded && this.enabled && Cesium__namespace.defined(this._currentHeight);
      };
      _0xbdc9f3.uniformMap.u_mars3d_flood_brightness = () => {
        return this.brightness;
      };
      this.uniformMap = _0xbdc9f3.uniformMap;
      return _0xbdc9f3;
    }
  }
  class TilesetPlanClip extends BaseThing {
    get clipTarget() {
      return this._tileset;
    }
    set clipTarget(_0x124cf3) {
      this._tileset = _0x124cf3;
      this._inverseMatrix = null;
      if (Cesium__namespace.defined(this.options.positions)) {
        this.positions = this.options.positions;
      }
      if (Cesium__namespace.defined(this.options.clipType)) {
        this.clipType = this.options.clipType;
      }
      if (Cesium__namespace.defined(this.options.distance)) {
        this.distance = this.options.distance;
      }
    }
    get layer() {
      return this._layer;
    }
    set layer(_0x245910) {
      this._layer = _0x245910;
      if (_0x245910.loadOk) {
        this.clipTarget = _0x245910.tileset;
      } else {
        _0x245910.on(EventType.load, _0x3e3d77 => {
          this.clipTarget = _0x245910.tileset;
        });
      }
    }
    get planes() {
      return this.clippingPlanes;
    }
    get polygons() {
      return this.clippingPolygons;
    }
    get inverseMatrix() {
      if (!this._inverseMatrix) {
        let _0x202010;
        const _0x1cb544 = this._tileset.root.transform;
        if (_0x1cb544 && _0x1cb544.equals(Cesium__namespace.Matrix4.IDENTITY) || !_0x1cb544) {
          _0x202010 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this._tileset.boundingSphere.center);
        } else {
          _0x202010 = Cesium__namespace.Matrix4.fromArray(this._tileset.root.transform);
        }
        this._inverseMatrix = Cesium__namespace.Matrix4.inverseTransformation(_0x202010, new Cesium__namespace.Matrix4());
      }
      return this._inverseMatrix;
    }
    get center() {
      if (this._layer) {
        return this._layer.position;
      }
      return this._tileset.boundingSphere.center;
    }
    get distance() {
      return this._distance;
    }
    set distance(_0x398d3d) {
      this._distance = _0x398d3d;
      if (this.clippingPlanes && this.clippingPlanes.length > 0) {
        const _0x1eb491 = this.clippingPlanes.get(this.clippingPlanes.length - 1);
        _0x1eb491.distance = _0x398d3d;
      }
    }
    get angle1() {
      return this._normal_angle1 || 0;
    }
    set angle1(_0x549bf4) {
      this._normal_angle1 = _0x549bf4;
      if (this.clippingPlanes && this.clippingPlanes.length > 0) {
        const _0x5ebe23 = this.clippingPlanes.get(this.clippingPlanes.length - 1);
        this._updateNormal(_0x5ebe23, _0x549bf4, this.angle2);
      }
    }
    get angle2() {
      return this._normal_angle2 || 0;
    }
    set angle2(_0x3aebdb) {
      this._normal_angle2 = _0x3aebdb;
      if (this.clippingPlanes && this.clippingPlanes.length > 0) {
        const _0x2a5ad2 = this.clippingPlanes.get(this.clippingPlanes.length - 1);
        this._updateNormal(_0x2a5ad2, this.angle1, _0x3aebdb);
      }
    }
    get normalZ() {
      return this._normalZ || 0;
    }
    set normalZ(_0x506209) {
      this._normalZ = _0x506209;
      if (this.clippingPlanes && this.clippingPlanes.length > 0) {
        const _0x5b13f9 = this.clippingPlanes.get(this.clippingPlanes.length - 1);
        _0x5b13f9.normal.z = _0x506209;
      }
    }
    get clipType() {
      return this._clipType;
    }
    set clipType(_0x1ddbc2) {
      this._clipType = _0x1ddbc2;
      let _0x207c05;
      switch (_0x1ddbc2) {
        case ClipType.Z:
          _0x207c05 = [new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(0, 0, 1), 1)];
          break;
        case ClipType.ZR:
          _0x207c05 = [new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(0, 0, -1), 1)];
          break;
        case ClipType.X:
          _0x207c05 = [new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(1, 0, 0), 1)];
          break;
        case ClipType.XR:
          _0x207c05 = [new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(-1, 0, 0), 1)];
          break;
        case ClipType.Y:
          _0x207c05 = [new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(0, 1, 0), 1)];
          break;
        case ClipType.YR:
          _0x207c05 = [new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(0, -1, 0), 1)];
          break;
      }
      this.setPlanes(_0x207c05);
    }
    get positions() {
      return this._positions;
    }
    set positions(_0x1f7488) {
      this._positions = LngLatArray.toCartesians(_0x1f7488);
      this._setPositions(this._positions);
    }
    get clipOutSide() {
      return this.options.clipOutSide;
    }
    set clipOutSide(_0x4a57d6) {
      this.options.clipOutSide = _0x4a57d6;
      if (this._map && this._positions) {
        this._setPositions(this._positions);
      }
    }
    _mountedHook() {
      if (this.options.showPlane) {
        this._graphicLayer = new GraphicLayer({
          ...this.options,
          private: true
        });
        if (this.options.editPlane) {
          this._graphicLayer.bindContextMenu([{
            text: this._map.getLangText("_删除"),
            icon: Icon.Delete,
            callback: _0x33f8c1 => {
              const _0x51f605 = _0x33f8c1.graphic;
              if (!_0x51f605) {
                return;
              }
              this._graphicLayer.removeGraphic(_0x51f605);
              this.fire(EventType.remove, _0x33f8c1);
            }
          }]);
        }
      }
      if (this.options.layer) {
        this.layer = this.options.layer;
      } else if (this.options.tileset) {
        this.clipTarget = this.options.tileset;
      }
    }
    _map_click(_0x207893) {
      if (this._last_planeGraphics) {
        this._last_planeGraphics.hasEdit = false;
        this._last_planeGraphics.material.color = this._last_planeGraphics.material.color_bak;
        delete this._last_planeGraphics;
      }
      this._graphicLayer_leftUp(_0x207893);
    }
    _graphicLayer_click(_0x3c17ca) {
      var _0x29199f;
      const _0x36d4b8 = (_0x29199f = _0x3c17ca.graphic) === null || _0x29199f === undefined || (_0x29199f = _0x29199f.entity) === null || _0x29199f === undefined ? undefined : _0x29199f.plane;
      if (Cesium__namespace.defined(_0x36d4b8)) {
        this._map_click();
        _0x36d4b8.hasEdit = !_0x36d4b8.hasEdit;
        _0x36d4b8.material.color_bak = _0x36d4b8.material.color;
        _0x36d4b8.material.color = _0x3c17ca.graphic.style.editColor;
        if (_0x36d4b8.hasEdit) {
          this._last_planeGraphics = _0x36d4b8;
        }
        _0x3c17ca.stopPropagation();
      }
    }
    _graphicLayer_leftDown(_0x165849) {
      var _0x19517d;
      const _0x2af8fa = (_0x19517d = _0x165849.graphic) === null || _0x19517d === undefined || (_0x19517d = _0x19517d.entity) === null || _0x19517d === undefined ? undefined : _0x19517d.plane;
      if (Cesium__namespace.defined(_0x2af8fa) && _0x2af8fa.hasEdit) {
        this._selectedPlane = _0x2af8fa.plane.getValue();
        if (this._map.scene.screenSpaceCameraController.enableInputs) {
          this._map.scene.screenSpaceCameraController.enableInputs = false;
          this._hasChangeEnableInputs = true;
        }
      }
    }
    _graphicLayer_leftUp(_0x4a39ba) {
      if (Cesium__namespace.defined(this._selectedPlane)) {
        delete this._selectedPlane;
        if (this._hasChangeEnableInputs) {
          this._map.scene.screenSpaceCameraController.enableInputs = true;
          delete this._hasChangeEnableInputs;
        }
      }
    }
    _map_mouseMove(_0x5c71cf) {
      if (Cesium__namespace.defined(this._selectedPlane)) {
        const _0x55d334 = _0x5c71cf.startPosition.x - _0x5c71cf.endPosition.x;
        const _0x189b82 = _0x5c71cf.startPosition.y - _0x5c71cf.endPosition.y;
        const _0x2443cb = (_0x55d334 + _0x189b82) / 2;
        this._selectedPlane.distance = (this._selectedPlane.distance || 0) + _0x2443cb;
        this._map.openSmallTooltip(_0x5c71cf.endPosition, this._map.getLangText("_释放后完成修改"));
      } else {
        this._map.closeSmallTooltip();
      }
    }
    _setOptionsHook(_0x3bb639, _0xe20977) {
      if (Cesium__namespace.defined(_0xe20977.positions)) {
        this.positions = _0xe20977.positions;
      }
      if (Cesium__namespace.defined(_0xe20977.clipType)) {
        this.clipType = _0xe20977.clipType;
      }
      if (Cesium__namespace.defined(_0xe20977.distance)) {
        this.distance = _0xe20977.distance;
      }
    }
    _addedHook() {
      if (this._graphicLayer) {
        this._map.addLayer(this._graphicLayer);
        if (this.options.editPlane) {
          this._map.on(EventType.click, this._map_click, this);
          this._graphicLayer.on(EventType.click, this._graphicLayer_click, this);
          this._graphicLayer.on(EventType.leftDown, this._graphicLayer_leftDown, this);
          this._graphicLayer.on(EventType.leftUp, this._graphicLayer_leftUp, this);
          this._map.on(EventType.mouseMove, this._map_mouseMove, this);
        }
      }
      if (this.clipTarget) {
        if (Cesium__namespace.defined(this.options.positions)) {
          this.positions = this.options.positions;
        }
        if (Cesium__namespace.defined(this.options.clipType)) {
          this.clipType = this.options.clipType;
        }
        if (Cesium__namespace.defined(this.options.distance)) {
          this.distance = this.options.distance;
        }
      }
    }
    _removedHook() {
      this.clear();
      if (this._graphicLayer) {
        if (this.options.editPlane) {
          this._map.off(EventType.click, this._map_click, this);
          this._graphicLayer.off(EventType.click, this._graphicLayer_click, this);
          this._graphicLayer.off(EventType.leftDown, this._graphicLayer_leftDown, this);
          this._graphicLayer.off(EventType.leftUp, this._graphicLayer_leftUp, this);
          this._map.off(EventType.mouseMove, this._map_mouseMove, this);
        }
        this._map.removeLayer(this._graphicLayer);
      }
    }
    _setPositions(_0x318c7b) {
      if (_0x318c7b.length < 2) {
        return;
      }
      if (_0x318c7b.length === 2) {
        const _0x396415 = this._createPlaneByLine(_0x318c7b[0], _0x318c7b[1]);
        if (_0x396415) {
          this.setPlanes([_0x396415]);
        }
      } else {
        const _0x1f90a5 = {
          positions: _0x318c7b
        };
        const _0x2e6877 = new Cesium__namespace.ClippingPolygonCollection({
          polygons: [new Cesium__namespace.ClippingPolygon(_0x1f90a5)],
          inverse: this.clipOutSide,
          enabled: true
        });
        this.clippingPolygons = _0x2e6877;
        if (this.clipTarget) {
          this.clipTarget.clippingPolygons = _0x2e6877;
        }
      }
    }
    _createPlaneByLine(_0x3f3402, _0x2be3f5) {
      if (Cesium__namespace.Cartesian3.distance(_0x3f3402, _0x2be3f5) < 0.1) {
        return null;
      }
      const _0x153fe1 = this.inverseMatrix;
      const _0x186ecd = Cesium__namespace.Matrix4.multiplyByPoint(_0x153fe1, _0x3f3402, new Cesium__namespace.Cartesian3());
      const _0x20b67e = Cesium__namespace.Matrix4.multiplyByPoint(_0x153fe1, _0x2be3f5, new Cesium__namespace.Cartesian3());
      const _0x564fc8 = new Cesium__namespace.Cartesian3(0, 0, 10);
      const _0x176e73 = Cesium__namespace.Cartesian3.subtract(_0x20b67e, _0x186ecd, new Cesium__namespace.Cartesian3());
      let _0x2978b4 = Cesium__namespace.Cartesian3.cross(_0x176e73, _0x564fc8, new Cesium__namespace.Cartesian3());
      _0x2978b4 = Cesium__namespace.Cartesian3.normalize(_0x2978b4, _0x2978b4);
      const _0x1a41be = Cesium__namespace.Plane.fromPointNormal(_0x186ecd, _0x2978b4);
      return Cesium__namespace.ClippingPlane.fromPlane(_0x1a41be);
    }
    setPlanes(_0x37b9d4) {
      if (!_0x37b9d4) {
        return;
      }
      const _0x33ebe7 = new Cesium__namespace.ClippingPlaneCollection({
        planes: _0x37b9d4,
        edgeWidth: this.options.edgeWidth ?? 0,
        edgeColor: this.options.edgeColor ?? Cesium__namespace.Color.WHITE,
        unionClippingRegions: this.clipOutSide ?? false
      });
      this.clippingPlanes = _0x33ebe7;
      if (this.clipTarget) {
        this.clipTarget.clippingPlanes = _0x33ebe7;
      }
      if (this.options.showPlane) {
        this._graphicLayer.clear();
        const _0x2b1ae4 = this._tileset.boundingSphere.radius;
        for (let _0x546120 = 0; _0x546120 < _0x33ebe7.length; ++_0x546120) {
          const _0x5e0ddd = _0x33ebe7.get(_0x546120);
          const _0x1239dc = new PlaneEntity({
            position: this.center,
            style: {
              heading: 360 - (this._layer?.rotation_z ?? 0),
              dimensions: new Cesium__namespace.Cartesian2(_0x2b1ae4, _0x2b1ae4),
              color: Cesium__namespace.Color.WHITE.withAlpha(0.2),
              editColor: Cesium__namespace.Color.WHITE.withAlpha(0.5),
              outline: true,
              outlineColor: Cesium__namespace.Color.WHITE,
              ...this.options.planeStyle,
              plane: new Cesium__namespace.CallbackProperty(createPlaneUpdateFunction(_0x5e0ddd), false)
            }
          });
          this._graphicLayer.addGraphic(_0x1239dc);
        }
      }
    }
    clear() {
      if (this._graphicLayer) {
        this._graphicLayer.clear();
      }
      delete this._normalZ;
      delete this._normal_angle1;
      delete this._normal_angle2;
      delete this._positions;
      this.options.clipOutSide = false;
      if (this.clippingPlanes) {
        delete this.clippingPlanes;
      }
      if (this.clippingPolygons) {
        delete this.clippingPolygons;
      }
      if (this.clipTarget) {
        if (this.clipTarget.clippingPlanes) {
          if (this.clipTarget.clippingPlanes.enabled) {
            this.clipTarget.clippingPlanes.enabled = false;
            this.clipTarget.clippingPlanes.removeAll();
          }
          this.clipTarget.clippingPlanes = undefined;
        }
        if (this.clipTarget.clippingPolygons) {
          if (this.clipTarget.clippingPolygons.enabled) {
            this.clipTarget.clippingPolygons.enabled = false;
            this.clipTarget.clippingPolygons.removeAll();
          }
          this.clipTarget.clippingPolygons = undefined;
        }
      }
    }
    updateAllDistance(_0x3b4002) {
      if (this.clippingPlanes == null) {
        return;
      }
      for (let _0x2c73c6 = 0; _0x2c73c6 < this.clippingPlanes.length; _0x2c73c6++) {
        const _0x114c06 = this.clippingPlanes.get(_0x2c73c6);
        _0x114c06.distance = _0x3b4002;
      }
    }
    updateAllNormal(_0x290b5d, _0x14994d) {
      if (this.clippingPlanes == null) {
        return;
      }
      for (let _0x52e7a7 = 0; _0x52e7a7 < this.clippingPlanes.length; _0x52e7a7++) {
        const _0x3adcbd = this.clippingPlanes.get(_0x52e7a7);
        this._updateNormal(_0x3adcbd, _0x290b5d, _0x14994d);
      }
    }
    _updateNormal(_0x47f00f, _0x3a38d3, _0x4c14ef) {
      const _0x428406 = Cesium__namespace.Math.toRadians(_0x3a38d3);
      const _0x373999 = Cesium__namespace.Math.toRadians(_0x4c14ef);
      const _0x1666e6 = Math.sin(_0x428406) * Math.cos(_0x373999);
      const _0x469d54 = Math.sin(_0x428406) * Math.sin(_0x373999);
      const _0x54eab1 = Math.cos(_0x428406);
      _0x47f00f.normal.x = _0x1666e6;
      _0x47f00f.normal.y = _0x469d54;
      _0x47f00f.normal.z = _0x54eab1;
    }
    _toJsonEx(_0x55ddd1) {
      if (this._positions) {
        _0x55ddd1.positions = LngLatArray.toArray(this.positions);
      }
    }
  }
  function createPlaneUpdateFunction(_0x3a13d6) {
    return function () {
      return _0x3a13d6;
    };
  }
  class TilesetLayer extends BaseGraphicLayer {
    constructor(_0x456513 = {}) {
      super(_0x456513);
      this.orginRotation = {
        x: 0,
        y: 0,
        z: 0
      };
      this._type = "tileset";
      this._orginCenterPoint = new LngLatPoint();
      this._marsOptions = {};
    }
    get layer() {
      return this._tileset;
    }
    get tileset() {
      return this._tileset;
    }
    get modelMatrix() {
      if (!this.loadOk) {
        return Cesium__namespace.Matrix4.ZERO;
      }
      if (!this._tilesetMatrix) {
        if (this.transform) {
          this._tilesetMatrix = this._tileset.root.transform;
        } else {
          this._tilesetMatrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this._tileset.boundingSphere.center);
        }
      }
      return this._tilesetMatrix;
    }
    get inverseMatrix() {
      if (!this.loadOk) {
        return Cesium__namespace.Matrix4.ZERO;
      }
      if (!this._inverseMatrix) {
        this._inverseMatrix = Cesium__namespace.Matrix4.inverse(this.modelMatrix, new Cesium__namespace.Matrix4());
      }
      return this._inverseMatrix;
    }
    get highlight() {
      return this.options.highlight;
    }
    set highlight(_0x1e6d36) {
      this.options.highlight = _0x1e6d36;
      if (_0x1e6d36) {
        this.bindHighlight(this.options.highlight);
      } else {
        this.unbindHighlight();
      }
    }
    get marsJzwStyle() {
      return this.options.marsJzwStyle;
    }
    set marsJzwStyle(_0x22b76d) {
      this.options.marsJzwStyle = _0x22b76d;
      if (_0x22b76d) {
        this.reload();
      } else {
        this._conventMarsOptions();
      }
    }
    get style() {
      return this.options.style;
    }
    set style(_0x362081) {
      this.options.style = _0x362081;
      if (this._tileset) {
        if (_0x362081 instanceof Cesium__namespace.Cesium3DTileStyle) {
          this._tileset.style = _0x362081;
        } else if (typeof _0x362081 === "function") {
          this._tileset.style = new Cesium__namespace.Cesium3DTileStyle({
            color: {
              evaluateColor: function (_0x3014b1, _0xd6133e) {
                const _0x365195 = _0x362081(_0x3014b1);
                if (_0x365195) {
                  return Cesium__namespace.Color.clone(Cesium__namespace.Color.fromCssColorString(_0x365195), _0xd6133e);
                } else {
                  return _0xd6133e;
                }
              }
            }
          });
        } else {
          this._tileset.style = new Cesium__namespace.Cesium3DTileStyle(_0x362081);
        }
      }
    }
    get customShader() {
      return this.options.customShader;
    }
    set customShader(_0x252a5e) {
      this.options.customShader = _0x252a5e;
      if (this._tileset) {
        this._tileset.customShader = _0x252a5e;
      }
    }
    get splitDirection() {
      return this.options.splitDirection;
    }
    set splitDirection(_0x33ca23) {
      this.options.splitDirection = _0x33ca23;
      if (this._tileset) {
        this._tileset.splitDirection = _0x33ca23;
      }
    }
    get orginCenterPoint() {
      return this._orginCenterPoint;
    }
    get orginCenterPosition() {
      return this._orginCenterPosition;
    }
    get position() {
      return this._center.toCartesian();
    }
    set position(_0x4b5c18) {
      this.center = _0x4b5c18;
    }
    get center() {
      return this._center;
    }
    set center(_0xf5a9aa) {
      this._center = LngLatPoint.parse(_0xf5a9aa);
      this.updateMatrix();
    }
    get height() {
      return this.alt;
    }
    set height(_0x207830) {
      this.alt = _0x207830;
    }
    get alt() {
      if (this.center) {
        return this.center.alt;
      }
    }
    set alt(_0x14fef7) {
      if (!this._tileset) {
        return;
      }
      this.center.alt = _0x14fef7;
      this.updateMatrix();
    }
    get boundingSphere() {
      return this._tileset?.boundingSphere;
    }
    get modelUpAxis() {
      if (Cesium__namespace.defined(this.options.modelUpAxis)) {
        return this.options.modelUpAxis;
      }
      if (Cesium__namespace.defined(this._tileset?._modelUpAxis)) {
        return this._tileset?._modelUpAxis;
      }
      return undefined;
    }
    get rotation() {
      if (this.options.rotation) {
        return this.options.rotation;
      }
      return this.orginRotation;
    }
    set rotation(_0xb653c8) {
      this.options.rotation = _0xb653c8;
      this.updateMatrix();
    }
    get rotation_x() {
      if (this.options.rotation && Cesium__namespace.defined(this.options.rotation.x)) {
        return this.options.rotation.x;
      }
      return this.orginRotation.x;
    }
    set rotation_x(_0x5c93d8) {
      this.options.rotation = this.options.rotation || {};
      this.options.rotation.x = _0x5c93d8;
      this.updateMatrix();
    }
    get rotation_y() {
      if (this.options.rotation && Cesium__namespace.defined(this.options.rotation.y)) {
        return this.options.rotation.y;
      }
      return this.orginRotation.y;
    }
    set rotation_y(_0x3afda3) {
      this.options.rotation = this.options.rotation || {};
      this.options.rotation.y = _0x3afda3;
      this.updateMatrix();
    }
    get rotation_z() {
      if (this.options.rotation && Cesium__namespace.defined(this.options.rotation.z)) {
        return this.options.rotation.z;
      }
      return this.orginRotation.z;
    }
    set rotation_z(_0x39f77a) {
      this.options.rotation = this.options.rotation || {};
      this.options.rotation.z = _0x39f77a;
      this.updateMatrix();
    }
    get axis() {
      return this.options.axis || "";
    }
    set axis(_0x532299) {
      this.options.axis = _0x532299;
      this.updateMatrix();
    }
    get scale() {
      return this.options.scale || 1;
    }
    set scale(_0x48632b) {
      this.options.scale = _0x48632b;
      this.updateMatrix();
    }
    get scaleX() {
      return this.options.scaleX || 1;
    }
    set scaleX(_0x2c6868) {
      this.options.scaleX = _0x2c6868;
      this.updateMatrix();
    }
    get scaleY() {
      return this.options.scaleY || 1;
    }
    set scaleY(_0x2ee93d) {
      this.options.scaleY = _0x2ee93d;
      this.updateMatrix();
    }
    get scaleZ() {
      return this.options.scaleZ || 1;
    }
    set scaleZ(_0x326341) {
      this.options.scaleZ = _0x326341;
      this.updateMatrix();
    }
    get allowDrillPick() {
      const _0x5e512a = this.options.allowDrillPick;
      if (isString(_0x5e512a)) {
        if (_0x5e512a === "alpha") {
          return function (_0x407769) {
            var _0x3266f2;
            const _0x2db726 = _0x407769 === null || _0x407769 === undefined || (_0x3266f2 = _0x407769.pickedObject) === null || _0x3266f2 === undefined || (_0x3266f2 = _0x3266f2.color) === null || _0x3266f2 === undefined ? undefined : _0x3266f2.alpha;
            if (Cesium__namespace.defined(_0x2db726) && _0x2db726 !== 1) {
              return true;
            }
            return false;
          };
        } else if (_0x5e512a === "true") {
          return true;
        } else if (_0x5e512a === "false") {
          return false;
        }
      }
      return _0x5e512a;
    }
    set allowDrillPick(_0x4791c8) {
      this.options.allowDrillPick = _0x4791c8;
    }
    get planClip() {
      if (this._map && !this._tilesetPlanClip) {
        this._initTilesetPlanClip();
      }
      return this._tilesetPlanClip;
    }
    _initTilesetPlanClip() {
      if (this._tilesetPlanClip) {
        this._tilesetPlanClip.destroy();
      }
      this._tilesetPlanClip = new TilesetPlanClip({
        ...this.options.planClip,
        layer: this
      });
      this._map.addThing(this._tilesetPlanClip);
    }
    get colorCorrection() {
      if (this._map && !this._tilesetColorCorrection) {
        if (this.loadOk) {
          this.options.colorCorrection = this.options.colorCorrection || {};
          this.reload();
        } else {
          this._initTilesetColorCorrection();
        }
      }
      return this._tilesetColorCorrection;
    }
    _initTilesetColorCorrection() {
      if (this._tilesetColorCorrection) {
        this._tilesetColorCorrection.destroy();
      }
      this._tilesetColorCorrection = new TilesetColorCorrection({
        ...this.options.colorCorrection,
        layer: this
      });
      this._map.addThing(this._tilesetColorCorrection);
    }
    get hasEdit() {
      if (!this.transform) {
        return false;
      }
      return this.options.hasEdit ?? true;
    }
    set hasEdit(_0x35bb20) {
      this.options.hasEdit = _0x35bb20;
    }
    get isAutoEditing() {
      return this.options.isAutoEditing;
    }
    set isAutoEditing(_0x1c3c8f) {
      this.options.isAutoEditing = _0x1c3c8f;
      if (!this._map) {
        return;
      }
      if (_0x1c3c8f) {
        this.startEditing();
      } else {
        this.stopEditing();
      }
    }
    get clip() {
      if (this._map && !this._tilesetClip) {
        if (this.loadOk) {
          this.options.clip = this.options.clip || {};
          this.options.clip.enabled = true;
          this.reload();
        } else {
          this._initTilesetClip();
        }
      }
      return this._tilesetClip;
    }
    _initTilesetClip() {
      if (this._tilesetClip) {
        this._tilesetClip.destroy();
      }
      this._tilesetClip = new TilesetClip({
        ...this.options.clip,
        layer: this
      });
      this._map.addThing(this._tilesetClip);
    }
    get flat() {
      if (this._map && !this._tilesetFlat) {
        if (this.loadOk) {
          this.options.flat = this.options.flat || {};
          this.options.flat.enabled = true;
          this.reload();
        } else {
          this._initTilesetFlat();
        }
      }
      return this._tilesetFlat;
    }
    _initTilesetFlat() {
      if (this._tilesetFlat) {
        this._tilesetFlat.destroy();
      }
      this._tilesetFlat = new TilesetFlat({
        ...this.options.flat,
        layer: this
      });
      this._map.addThing(this._tilesetFlat);
    }
    get flood() {
      if (this._map && !this._tilesetFlood) {
        if (this.loadOk) {
          this.options.flood = this.options.flood || {};
          this.options.flood.enabled = true;
          this.reload();
        } else {
          this._initTilesetFlood();
        }
      }
      return this._tilesetFlood;
    }
    _initTilesetFlood() {
      if (this._tilesetFlood) {
        this._tilesetFlood.destroy();
      }
      this._tilesetFlood = new TilesetFlood({
        ...this.options.flood,
        layer: this
      });
      this._map.addThing(this._tilesetFlood);
    }
    get isEditing() {
      return this._isEditing;
    }
    async _createCesium3DTileset() {
      if (this.options.tileset) {
        return this.options.tileset;
      }
      const _0x187bb6 = {
        cacheBytes: 1073741824,
        maximumCacheOverflowBytes: 2147483648,
        ...this.options
      };
      _0x187bb6.marsOptions = this._marsOptions;
      const _0x5d527e = _0x187bb6;
      if (Cesium__namespace.defined(this.options.maxMemory)) {
        if (!Cesium__namespace.defined(this.options.cacheBytes)) {
          _0x5d527e.cacheBytes = this.options.maxMemory * 1024 * 1024;
        }
        if (!Cesium__namespace.defined(this.options.maximumCacheOverflowBytes)) {
          _0x5d527e.maximumCacheOverflowBytes = _0x5d527e.cacheBytes * 1.5;
        }
      }
      if (this.options.assetId) {
        if (this.options.ionToken || this.options.ionServer) {
          const _0x5fcd15 = await Cesium__namespace.IonResource.fromAssetId(this.options.assetId, {
            accessToken: this.options.ionToken ?? this.options.accessToken,
            server: this.options.ionServer
          });
          return await Cesium__namespace.Cesium3DTileset.fromUrl(_0x5fcd15, _0x5d527e);
        }
        return await Cesium__namespace.Cesium3DTileset.fromIonAssetId(this.options.assetId, _0x5d527e);
      } else {
        const _0x3bb43b = this.getUrlResource();
        return await Cesium__namespace.Cesium3DTileset.fromUrl(_0x3bb43b, _0x5d527e);
      }
    }
    _addedHook() {
      var _0x1f090f;
      var _0x389c97;
      var _0x52f174;
      var _0x47e77c;
      var _0x230320;
      var _0x3dd4a3;
      var _0x3d1c3c;
      var _0x4231a0;
      this.loadOk = false;
      super._addedHook();
      this._conventMarsOptions();
      if (((_0x1f090f = this.options.flat) === null || _0x1f090f === undefined || (_0x1f090f = _0x1f090f.area) === null || _0x1f090f === undefined ? undefined : _0x1f090f.length) > 0 || (_0x389c97 = this.options.flat) !== null && _0x389c97 !== undefined && _0x389c97.enabled) {
        this._initTilesetFlat();
      }
      if (((_0x52f174 = this.options.flood) === null || _0x52f174 === undefined || (_0x52f174 = _0x52f174.area) === null || _0x52f174 === undefined ? undefined : _0x52f174.length) > 0 || (_0x47e77c = this.options.flood) !== null && _0x47e77c !== undefined && _0x47e77c.enabled) {
        this._initTilesetFlood();
      }
      if (((_0x230320 = this.options.clip) === null || _0x230320 === undefined || (_0x230320 = _0x230320.area) === null || _0x230320 === undefined ? undefined : _0x230320.length) > 0 || (_0x3dd4a3 = this.options.clip) !== null && _0x3dd4a3 !== undefined && _0x3dd4a3.enabled) {
        this._initTilesetClip();
      }
      if (((_0x3d1c3c = this.options.planClip) === null || _0x3d1c3c === undefined || (_0x3d1c3c = _0x3d1c3c.positions) === null || _0x3d1c3c === undefined ? undefined : _0x3d1c3c.length) > 0 || (_0x4231a0 = this.options.planClip) !== null && _0x4231a0 !== undefined && _0x4231a0.enabled) {
        this._initTilesetPlanClip();
      }
      if (this.options.colorCorrection) {
        this._initTilesetColorCorrection();
      }
      this._createCesium3DTileset().then(_0x52fe57 => {
        if (this.isDestroy || !this._map) {
          return;
        }
        const _0x4f91ce = {
          tileset: _0x52fe57
        };
        this.fire(EventType.loadBefore, _0x4f91ce);
        this._initModel(_0x52fe57);
        this.loadOk = true;
        this._readyPromise.resolve(this);
        const _0x47968b = {
          tileset: _0x52fe57
        };
        this.fire(EventType.load, _0x47968b);
      }).catch(_0x5e0f4b => {
        this._readyPromise.reject(_0x5e0f4b);
        this.fire(EventType.load);
      });
    }
    _removedHook() {
      if (this._tileset) {
        this._tileset.show = false;
      }
      if (this._tilesetClip) {
        this._map.removeThing(this._tilesetClip, true);
        delete this._tilesetClip;
      }
      if (this._tilesetFlat) {
        this._map.removeThing(this._tilesetFlat, true);
        delete this._tilesetFlat;
      }
      if (this._tilesetFlood) {
        this._map.removeThing(this._tilesetFlood, true);
        delete this._tilesetFlood;
      }
      if (this._tilesetPlanClip) {
        this._map.removeThing(this._tilesetPlanClip, true);
        delete this._tilesetPlanClip;
      }
      if (this._tilesetColorCorrection) {
        this._map.removeThing(this._tilesetColorCorrection, true);
        delete this._tilesetColorCorrection;
      }
      super._removedHook();
      if (Cesium__namespace.defined(this.options.distanceDisplayCondition_far)) {
        this._map.off(EventType.cameraChanged, this.updateVisibleDistance, this);
      }
      if (this._tileset) {
        this._map.scene.primitives.remove(this._tileset);
        delete this._tileset;
      }
    }
    reload() {
      this.readyPromise.then(() => {
        this._readyPromise = Cesium__namespace.defer();
        const _0x1abb22 = this.options.flyTo ?? false;
        this._removedHook();
        if (this.isAdded) {
          this.options.flyTo = false;
          this.once(EventType.load, () => {
            this.options.flyTo = _0x1abb22;
          });
          this._addedHook();
        }
      });
    }
    _mergePostion(_0x179a76) {
      if (_0x179a76) {
        if (Array.isArray(_0x179a76) || isString(_0x179a76)) {
          _0x179a76 = LngLatPoint.parse(_0x179a76);
        }
        if (!this._center) {
          this._center = new LngLatPoint();
        }
        if (Cesium__namespace.defined(_0x179a76.lat)) {
          this.center.lat = _0x179a76.lat;
        }
        if (Cesium__namespace.defined(_0x179a76.lng)) {
          this.center.lng = _0x179a76.lng;
        }
        if (Cesium__namespace.defined(_0x179a76.alt_offset)) {
          this.center.alt = this._orginCenterPoint.alt + _0x179a76.alt_offset;
        }
        if (Cesium__namespace.defined(_0x179a76.alt)) {
          this.center.alt = _0x179a76.alt;
        }
      }
    }
    _setOptionsHook(_0x2ffac3, _0x14e638) {
      if (!this._tileset) {
        return;
      }
      let _0x3c8e99;
      let _0xde68e;
      for (const _0x58539f in _0x14e638) {
        const _0x1a7f60 = _0x2ffac3[_0x58539f];
        switch (_0x58539f) {
          case "url":
            {
              if (this._tileset?._url !== _0x14e638.url) {
                _0x3c8e99 = true;
              }
              break;
            }
          case "classificationType":
          case "chinaCRS":
            {
              _0x3c8e99 = true;
              break;
            }
          case "flat":
          case "flood":
          case "clip":
          case "planClip":
          case "colorCorrection":
            {
              if (this[_0x58539f]) {
                this[_0x58539f].setOptions(_0x1a7f60);
              }
              break;
            }
          case "position":
          case "rotation":
          case "scale":
          case "scaleX":
          case "scaleY":
          case "scaleZ":
          case "axis":
            _0xde68e = true;
            break;
          case "highlight":
          case "opacity":
          case "style":
          case "marsJzwStyle":
          case "customShader":
            this[_0x58539f] = _0x1a7f60;
            break;
          default:
            {
              try {
                this.tileset[_0x58539f] = _0x1a7f60;
              } catch (_0x1ab2d9) {
                _0x3c8e99 = true;
              }
              break;
            }
        }
        if (_0x3c8e99) {
          this.reload();
          return;
        }
      }
      if (_0xde68e) {
        this._mergePostion(this.options.position);
        this.updateMatrix();
      }
    }
    _initModel(_0x297534) {
      this._tileset = _0x297534;
      this._tileset.name = this.name;
      this._tileset.show = this.show;
      this._tileset._mars3d_layerId = this.id;
      if (!this.options.tileset) {
        this._map.scene.primitives.add(this._tileset);
      }
      this._tileset.initialTilesLoaded.addEventListener(_0x39c99f => {
        this.fire(EventType.initialTilesLoaded, _0x39c99f);
      });
      this._tileset.allTilesLoaded.addEventListener(_0x292cb8 => {
        this.fire(EventType.allTilesLoaded, _0x292cb8);
      });
      this._orginCenterPosition = Cesium__namespace.clone(this._tileset.boundingSphere.center);
      const _0x2e1e22 = this._tileset.root?.transform;
      this.transform = this.options.transform ?? Boolean(_0x2e1e22 && !_0x2e1e22.equals(Cesium__namespace.Matrix4.IDENTITY));
      if (this.transform) {
        this.orginMatrix = Cesium__namespace.Matrix4.inverse(Cesium__namespace.Matrix4.fromArray(this._tileset._root.transform), new Cesium__namespace.Matrix4());
        const _0x33447f = Cesium__namespace.Matrix4.fromArray(this._tileset._root.transform);
        const _0x57c18f = Cesium__namespace.Matrix4.getTranslation(_0x33447f, new Cesium__namespace.Cartesian3());
        if (Cesium__namespace.defined(_0x57c18f) && Cesium__namespace.Cartographic.fromCartesian(_0x57c18f)) {
          this._orginCenterPosition = _0x57c18f;
          const _0x180712 = Cesium__namespace.Matrix4.getMatrix3(_0x33447f, new Cesium__namespace.Matrix3());
          const _0x1f8f98 = Cesium__namespace.Matrix4.getMatrix3(Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x57c18f), new Cesium__namespace.Matrix3());
          const _0x4c713c = Cesium__namespace.Matrix3.getColumn(_0x1f8f98, 0, new Cesium__namespace.Cartesian3());
          const _0x8976e1 = Cesium__namespace.Matrix3.getColumn(_0x1f8f98, 1, new Cesium__namespace.Cartesian3());
          const _0x3a9b46 = Cesium__namespace.Matrix3.getColumn(_0x1f8f98, 2, new Cesium__namespace.Cartesian3());
          let _0x14bfbc = Cesium__namespace.Matrix3.getColumn(_0x180712, 0, new Cesium__namespace.Cartesian3());
          _0x14bfbc = Cesium__namespace.Cartesian3.cross(_0x14bfbc, _0x3a9b46, _0x14bfbc);
          _0x14bfbc = Cesium__namespace.Cartesian3.cross(_0x3a9b46, _0x14bfbc, _0x14bfbc);
          _0x14bfbc = Cesium__namespace.Cartesian3.normalize(_0x14bfbc, _0x14bfbc);
          let _0x20662b = Cesium__namespace.Cartesian3.angleBetween(_0x4c713c, _0x14bfbc);
          const _0x121584 = Cesium__namespace.Cartesian3.angleBetween(_0x8976e1, _0x14bfbc);
          if (_0x121584 > Math.PI * 0.5) {
            _0x20662b = Math.PI * 2 - _0x20662b;
          }
          this.orginRotation = {
            x: 0,
            y: 0,
            z: Number(Cesium__namespace.Math.toDegrees(_0x20662b).toFixed(1))
          };
        } else {
          this.transform = false;
        }
      }
      this._orginCenterPoint = LngLatPoint.fromCartesian(this._orginCenterPosition);
      logInfo((this.name || "TilesetLayer") + " 模型中心位置:" + this._orginCenterPoint.toString());
      if (Cesium__namespace.defined(this.options.style)) {
        this.style = this.options.style;
      }
      this.setOpacity(this.opacity);
      this._center = this._orginCenterPoint.clone();
      this._mergePostion(this.options.position);
      if (this.options.chinaCRS) {
        const _0x1372f4 = this.transformCenter(this.center);
        this._mergePostion(_0x1372f4);
      }
      if (this._hasUpdateMater()) {
        this.updateMatrix();
      }
      if (Cesium__namespace.defined(this.options.distanceDisplayCondition_far)) {
        this.bindVisibleDistance();
      }
      if (this.options.clampToGround) {
        this.clampToGround();
      }
      if (this.options.isAutoEditing) {
        this.isAutoEditing = this.options.isAutoEditing;
      }
    }
    getHeight(_0x487ec3) {
      const _0x1d2681 = LngLatPoint.toCartographic(_0x487ec3);
      return this._tileset.getHeight(_0x1d2681, this._map.scene) ?? _0x1d2681.height;
    }
    clampToGround(_0x599b56 = 1) {
      if (this._map && this._map.hasTerrain) {
        getSurfaceTerrainHeight(this._map.scene, this._orginCenterPosition).then(_0x5b5796 => {
          if (Cesium__namespace.defined(_0x5b5796.height)) {
            this.alt = _0x5b5796.height - this._orginCenterPoint.alt + _0x599b56;
          }
        });
      } else {
        this.alt = -this._orginCenterPoint.alt + _0x599b56;
      }
    }
    _hasUpdateMater() {
      if (!this.center.equals(this._orginCenterPoint)) {
        return true;
      }
      if (this.options.rotation) {
        return true;
      }
      if (Cesium__namespace.defined(this.options.scale) && this.options.scale !== 1) {
        return true;
      }
      if (Cesium__namespace.defined(this.options.scaleX) || Cesium__namespace.defined(this.options.scaleY) || Cesium__namespace.defined(this.options.scaleZ)) {
        return true;
      }
      if (Cesium__namespace.defined(this.options.axis)) {
        return true;
      }
      return false;
    }
    updateMatrix() {
      if (!this._tileset) {
        return undefined;
      }
      if (this.options.updateMatrix) {
        const _0x5127d0 = this.options.updateMatrix(this.position, this);
        this._tileset.modelMatrix = _0x5127d0;
        return _0x5127d0;
      }
      if (!this.transform) {
        return this.updateMatrix2();
      }
      let _0x374c43 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this.position);
      if (this.options.rotation) {
        const _0x2378ae = Cesium__namespace.Matrix3.fromRotationX(Cesium__namespace.Math.toRadians(this.rotation_x));
        const _0x229b34 = Cesium__namespace.Matrix3.fromRotationY(Cesium__namespace.Math.toRadians(this.rotation_y));
        const _0x574b5e = Cesium__namespace.Matrix3.fromRotationZ(Cesium__namespace.Math.toRadians(360 - this.rotation_z));
        const _0x271afa = Cesium__namespace.Matrix4.fromRotationTranslation(_0x2378ae);
        const _0x41537b = Cesium__namespace.Matrix4.fromRotationTranslation(_0x229b34);
        const _0x428676 = Cesium__namespace.Matrix4.fromRotationTranslation(_0x574b5e);
        Cesium__namespace.Matrix4.multiply(_0x374c43, _0x271afa, _0x374c43);
        Cesium__namespace.Matrix4.multiply(_0x374c43, _0x41537b, _0x374c43);
        Cesium__namespace.Matrix4.multiply(_0x374c43, _0x428676, _0x374c43);
      }
      if (Cesium__namespace.defined(this.options.scaleX) || Cesium__namespace.defined(this.options.scaleY) || Cesium__namespace.defined(this.options.scaleZ)) {
        Cesium__namespace.Matrix4.multiplyByScale(_0x374c43, new Cesium__namespace.Cartesian3(this.options.scaleX ?? 1, this.options.scaleY ?? 1, this.options.scaleZ ?? 1), _0x374c43);
      } else if (Cesium__namespace.defined(this.options.scale) && this.options.scale !== 1) {
        Cesium__namespace.Matrix4.multiplyByUniformScale(_0x374c43, this.options.scale, _0x374c43);
      }
      if (Cesium__namespace.defined(this.options.axis)) {
        let _0x302d82;
        if (isString(this.options.axis)) {
          switch (this.options.axis.toUpperCase()) {
            case "Y_UP_TO_Z_UP":
              _0x302d82 = Cesium__namespace.Axis.Y_UP_TO_Z_UP;
              break;
            case "Z_UP_TO_Y_UP":
              _0x302d82 = Cesium__namespace.Axis.Z_UP_TO_Y_UP;
              break;
            case "X_UP_TO_Z_UP":
              _0x302d82 = Cesium__namespace.Axis.X_UP_TO_Z_UP;
              break;
            case "Z_UP_TO_X_UP":
              _0x302d82 = Cesium__namespace.Axis.Z_UP_TO_X_UP;
              break;
            case "X_UP_TO_Y_UP":
              _0x302d82 = Cesium__namespace.Axis.X_UP_TO_Y_UP;
              break;
            case "Y_UP_TO_X_UP":
              _0x302d82 = Cesium__namespace.Axis.Y_UP_TO_X_UP;
              break;
          }
        } else if (this.options.axis instanceof Cesium__namespace.Axis) {
          _0x302d82 = this.options.axis;
        }
        if (_0x302d82) {
          _0x374c43 = Cesium__namespace.Matrix4.multiplyTransformation(_0x374c43, _0x302d82, _0x374c43);
        }
      }
      this._tileset._root.transform = _0x374c43;
      this.fire(EventType.updatePosition, {
        position: this.position
      });
      return _0x374c43;
    }
    updateMatrix2() {
      if (!this._tileset || !this._tileset._root) {
        return;
      }
      const _0x40bae5 = this._orginCenterPosition;
      const _0x59d4e6 = this.position;
      const _0x3cf217 = Cesium__namespace.Cartesian3.subtract(_0x59d4e6, _0x40bae5, new Cesium__namespace.Cartesian3());
      const _0x2c3622 = Cesium__namespace.Matrix4.fromTranslation(_0x3cf217);
      this._tileset.modelMatrix = _0x2c3622;
      this.fire(EventType.updatePosition, {
        position: this.position
      });
      return _0x2c3622;
    }
    getPositionByOrginMatrix(_0xcacd27) {
      if (this.orginMatrix) {
        const _0x4c9531 = Cesium__namespace.Matrix4.multiply(this._tileset._root.transform, this.orginMatrix, new Cesium__namespace.Matrix4());
        return Cesium__namespace.Matrix4.multiplyByPoint(_0x4c9531, _0xcacd27, new Cesium__namespace.Cartesian3());
      }
      return _0xcacd27;
    }
    setOpacity(_0x436cf2) {
      if (this.options.onSetOpacity) {
        this.options.onSetOpacity(_0x436cf2);
      } else if (this._tileset) {
        var _0x1eefb7;
        this.options.opacity = _0x436cf2;
        if (this.opacity !== 1) {
          const _0x5b5081 = {
            color: "color() *vec4(1,1,1," + _0x436cf2 + ")"
          };
          this._tileset.style = new Cesium__namespace.Cesium3DTileStyle(_0x5b5081);
          this._tileset.style._mars3d_opacity = true;
        } else if ((_0x1eefb7 = this._tileset) !== null && _0x1eefb7 !== undefined && (_0x1eefb7 = _0x1eefb7.style) !== null && _0x1eefb7 !== undefined && _0x1eefb7._mars3d_opacity) {
          this._tileset.style = undefined;
        }
      }
    }
    async _flyToEx(_0x58f41d) {
      var _0x39c555;
      if ((_0x39c555 = this._tileset) !== null && _0x39c555 !== undefined && _0x39c555._root) {
        return this._map.flyToPoint(this._tileset.boundingSphere.center, {
          radius: this._tileset.boundingSphere.radius * 2,
          maxPitch: -45,
          ..._0x58f41d
        });
      }
    }
    toJSON(_0x4c2f11) {
      const _0x170e90 = super.toJSON();
      if (_0x4c2f11 !== null && _0x4c2f11 !== undefined && _0x4c2f11.full && this.loadOk) {
        _0x170e90.transform = this.transform;
        _0x170e90.position = this.center.toObject();
        _0x170e90.rotation = this.rotation;
      }
      return _0x170e90;
    }
    _toJsonEx(_0x506d71) {
      if (!this._tileset || !this.loadOk) {
        return;
      }
      _0x506d71.position = this.center.toObject();
      if (this._tilesetPlanClip) {
        _0x506d71.planClip = this._tilesetPlanClip.toJSON();
      }
      if (this._tilesetClip) {
        _0x506d71.clip = this._tilesetClip.toJSON();
      }
      if (this._tilesetFlat) {
        _0x506d71.flat = this._tilesetFlat.toJSON();
      }
      if (this._tilesetFlood) {
        _0x506d71.flood = this._tilesetFlood.toJSON();
      }
      if (this._tilesetColorCorrection) {
        _0x506d71.colorCorrection = this._tilesetColorCorrection.toJSON();
      }
      if (this.center.lat === this.orginCenterPoint.lat) {
        delete _0x506d71.position.lat;
      }
      if (this.center.lng === this.orginCenterPoint.lng) {
        delete _0x506d71.position.lng;
      }
      if (this.center.alt === this.orginCenterPoint.alt) {
        delete _0x506d71.position.alt;
      }
      if (Object.keys(_0x506d71.position).length === 0) {
        delete _0x506d71.position;
      }
      if (_0x506d71.maximumScreenSpaceError === 16) {
        delete _0x506d71.maximumScreenSpaceError;
      }
      if (_0x506d71.scale === 1) {
        delete _0x506d71.scale;
      }
      if (_0x506d71.axis === "" || !_0x506d71.axis) {
        delete _0x506d71.axis;
      }
      if (!_0x506d71.proxy) {
        delete _0x506d71.proxy;
      }
      if (_0x506d71.rotation) {
        if (_0x506d71.rotation.x === 0 || _0x506d71.rotation.x === 360) {
          delete _0x506d71.rotation.x;
        }
        if (_0x506d71.rotation.y === 0 || _0x506d71.rotation.y === 360) {
          delete _0x506d71.rotation.y;
        }
        if (_0x506d71.rotation.z === 0 || _0x506d71.rotation.z === 360) {
          delete _0x506d71.rotation.z;
        }
        if (Object.keys(_0x506d71.rotation).length === 0) {
          delete _0x506d71.rotation;
        }
      }
    }
    transformCenter(_0x203de9) {
      if (!_0x203de9) {
        return false;
      }
      const _0xbb0a46 = this._map.chinaCRS;
      const _0xbc65b9 = this.options.chinaCRS;
      const _0x32491b = getTransFun(_0xbc65b9, _0xbb0a46);
      if (!_0x32491b) {
        return false;
      }
      const _0x4e0c8d = _0x32491b([_0x203de9.lng, _0x203de9.lat]);
      const _0x3b4668 = {
        lng: _0x4e0c8d[0],
        lat: _0x4e0c8d[1],
        alt: _0x203de9.alt
      };
      return _0x3b4668;
    }
    bindVisibleDistance() {
      this._map.on(EventType.cameraChanged, this.updateVisibleDistance, this);
    }
    updateVisibleDistance() {
      if (!this._show || !this._tileset || !this.loadOk) {
        return;
      }
      if (this._map.scene.mode !== Cesium__namespace.SceneMode.SCENE3D) {
        return;
      }
      const _0x3349fd = Cesium__namespace.Cartesian3.distance(this.position, this._map.camera.positionWC);
      this._tileset.show = _0x3349fd < this.options.distanceDisplayCondition_far;
    }
    _highlight_mouseEventHandler(_0x4b8c63) {
      this._map.closeHighlight();
      const _0x302bfe = _0x4b8c63.pickedObject;
      if (_0x302bfe || this._highlightOptions.all) {
        if (isFunction(this._highlightOptions.filter)) {
          if (this._highlightOptions.filter(_0x4b8c63) === false) {
            return;
          }
        }
        const _0x18452a = this.allowDrillPick;
        if (isFunction(_0x18452a)) {
          if (_0x18452a(_0x4b8c63) === true) {
            return;
          }
        }
        const _0x46dc09 = {
          feature: _0x302bfe,
          event: _0x4b8c63
        };
        this._last_picked = _0x46dc09;
        this._map.openHighlight(this, this._highlightOptions, _0x4b8c63);
      }
    }
    openHighlight(_0x88a681, _0xad63a7 = true, _0x42e71b) {
      if (_0xad63a7 && this._map) {
        this._map.closeHighlight();
        this._map.last_highlighGraphic = this;
      }
      this._last_picked = this._last_picked || {
        event: {
          layer: this
        }
      };
      if (_0x42e71b) {
        this._last_picked.feature = _0x42e71b;
      }
      const _0x3f5eb9 = _0x88a681 || this._highlightOptions;
      if (_0x3f5eb9) {
        var _0x3b79e6;
        if ((_0x3b79e6 = this._last_picked) !== null && _0x3b79e6 !== undefined && _0x3b79e6.feature && !_0x3f5eb9.all && !_0x3f5eb9.uniqueKey) {
          var _0x539b84;
          const _0x111d06 = this._last_picked.feature;
          if (_0x111d06 !== null && _0x111d06 !== undefined && _0x111d06.color && _0x3f5eb9.color) {
            this._last_picked.originalColor = _0x111d06.color.clone();
            if (isFunction(_0x3f5eb9.color)) {
              _0x111d06.color = getCesiumColor(_0x3f5eb9.color(this._last_picked?.event));
            } else {
              _0x111d06.color = getColorByStyle(_0x3f5eb9);
            }
          }
          if (_0x111d06 !== null && _0x111d06 !== undefined && (_0x539b84 = _0x111d06.content) !== null && _0x539b84 !== undefined && _0x539b84._model && _0x3f5eb9.model) {
            this._last_picked.originalStyle = ModelStyleConver.toJSON(_0x111d06.content._model);
            ModelStyleConver.toCesiumVal(_0x3f5eb9.model, _0x111d06.content._model, false);
          }
        } else {
          const _0x5940d8 = Cesium__namespace.Color.fromCssColorString(_0x3f5eb9.color).toCssColorString();
          if (_0x3f5eb9.uniqueKey) {
            const _0x35d84b = this._last_picked.feature.getProperty(_0x3f5eb9.uniqueKey);
            const _0x328c0c = {
              conditions: [["${" + _0x3f5eb9.uniqueKey + "} ==='" + _0x35d84b + "'", _0x5940d8]]
            };
            const _0x12b56b = {
              color: _0x328c0c
            };
            this._tileset.style = new Cesium__namespace.Cesium3DTileStyle(_0x12b56b);
          } else {
            const _0x4ba261 = {
              conditions: [["true", _0x5940d8]]
            };
            const _0x50f910 = {
              color: _0x4ba261
            };
            this._tileset.style = new Cesium__namespace.Cesium3DTileStyle(_0x50f910);
          }
          this._highlightAll = true;
        }
        this.fire(EventType.highlightOpen, this._last_picked?.event, true);
      }
    }
    closeHighlight() {
      var _0x295e1b;
      if (!this._last_picked) {
        return;
      }
      if (this._highlightAll) {
        this._highlightAll = false;
        this._tileset.style = this.style;
      } else if ((_0x295e1b = this._last_picked) !== null && _0x295e1b !== undefined && _0x295e1b.feature) {
        var _0x31b729;
        const _0x35596f = this._last_picked.feature;
        if (this._last_picked.originalColor) {
          _0x35596f.color = this._last_picked.originalColor;
        }
        if (_0x35596f !== null && _0x35596f !== undefined && (_0x31b729 = _0x35596f.content) !== null && _0x31b729 !== undefined && _0x31b729._model && this._last_picked.originalStyle) {
          ModelStyleConver.toCesiumVal(this._last_picked.originalStyle, _0x35596f.content._model, false);
        }
      }
      this._map._clearLastHighlight();
      this.fire(EventType.highlightClose, this._last_picked?.event, true);
      delete this._last_picked;
    }
    hasPopup() {
      if (this._popupConfig) {
        return true;
      }
      return false;
    }
    bindPopup(_0x4006c3, _0x4a7f92) {
      this._popupConfig = {
        content: _0x4006c3,
        options: _0x4a7f92,
        layer: this
      };
      this._bindControl();
      return this;
    }
    unbindPopup() {
      this.closePopup();
      this._popupConfig = null;
      return this;
    }
    closePopup() {
      var _0x47f95f;
      if ((_0x47f95f = this._map) !== null && _0x47f95f !== undefined && _0x47f95f.popup && this.hasPopup()) {
        this._map.popup.close(null, this);
      }
      return this;
    }
    _conventMarsOptions() {
      if (!isMars3DCesium) {
        return;
      }
      if (Cesium__namespace.defined(this.options.opaquePass)) {
        this._marsOptions.opaquePass = this.options.opaquePass;
      }
      if (Cesium__namespace.defined(this.options.renderState)) {
        this._marsOptions.updateDrawCommand = _0xe35975 => {
          merge(_0xe35975.renderState, this.options.renderState);
        };
      }
      this._marsOptions.customShaders = this._map.index + "_" + this.id;
      const _0x2db4a1 = Cesium__namespace.Mars3DEx.getCacheOrAdd(this._marsOptions.customShaders);
      if (this.marsJzwStyle) {
        _0x2db4a1.marsJzwStyle = new Cesium__namespace.CustomShader({
          lightingModel: Cesium__namespace.LightingModel.UNLIT,
          uniforms: {
            u_mars3d_jzw_upAxis: {
              type: Cesium__namespace.UniformType.INT,
              value: this.options.editUpAxis ?? Cesium__namespace.Axis.Z
            },
            u_mars3d_jzw_baseHeight: {
              type: Cesium__namespace.UniformType.FLOAT,
              value: this.marsJzwStyle.baseHeight ?? 0
            },
            u_mars3d_jzw_heightRange: {
              type: Cesium__namespace.UniformType.FLOAT,
              value: this.marsJzwStyle.heightRange ?? 280
            },
            u_mars3d_jzw_glowRange: {
              type: Cesium__namespace.UniformType.FLOAT,
              value: this.marsJzwStyle.glowRange ?? 300
            }
          },
          fragmentShaderText: isString(this.marsJzwStyle) ? this.marsJzwStyle : JzwStyleFS
        });
      } else {
        delete _0x2db4a1.marsJzwStyle;
      }
    }
    startEditing() {
      if (this._isEditing || !this.hasEdit) {
        return this;
      }
      this._isEditing = true;
      if (!this._map) {
        throw new Error("编辑时_map不能为空,请将对象添加到Map");
      }
      this._map.mouseEvent.noPickEntity = this._entity;
      this._map.mouseEvent.enabledMoveTarget = false;
      if (!this.editing) {
        this.editing = new EditTileset(this);
      }
      if (this.editing.activate) {
        this.editing.activate();
      }
    }
    stopEditing() {
      var _0x16a29c;
      if (!this._isEditing) {
        return this;
      }
      if ((_0x16a29c = this.editing) !== null && _0x16a29c !== undefined && _0x16a29c.disable) {
        this.editing.disable();
      }
      if (this._map) {
        this._map.closeSmallTooltip();
        this._map.mouseEvent.noPickEntity = null;
        this._map.mouseEvent.enabledMoveTarget = true;
      }
      this._isEditing = false;
    }
  }
  register$3("3dtiles", TilesetLayer);
  register$3("tileset", TilesetLayer);
  class OsmBuildingsLayer extends TilesetLayer {
    async _createCesium3DTileset() {
      const _0xd9fbd1 = await Cesium__namespace.createOsmBuildingsAsync(this.options);
      return _0xd9fbd1;
    }
  }
  register$3("osmBuildings", OsmBuildingsLayer);
  class I3SLayer extends BaseGraphicLayer {
    constructor(_0x49b91e = {}) {
      super(_0x49b91e);
      this._marsOptions = {};
    }
    get layer() {
      return this._i3sProvider;
    }
    get marsJzwStyle() {
      return this.options.marsJzwStyle;
    }
    set marsJzwStyle(_0x434ecf) {
      this.options.marsJzwStyle = _0x434ecf;
      this._conventMarsOptions();
    }
    get modelUpAxis() {
      const _0x3469f4 = this._i3sProvider._layers;
      for (let _0x3ce6ce = 0; _0x3ce6ce < _0x3469f4.length; _0x3ce6ce++) {
        const _0x3c2216 = _0x3469f4[_0x3ce6ce]._tileset;
        if (Cesium__namespace.defined(_0x3c2216)) {
          return _0x3c2216?._modelUpAxis;
        }
      }
      return undefined;
    }
    eachTilesetLayer(_0x3e9452, _0x508b4e) {
      if (!this._i3sProvider) {
        return;
      }
      const _0x41d46a = this._i3sProvider._layers;
      for (let _0x2b3898 = 0; _0x2b3898 < _0x41d46a.length; _0x2b3898++) {
        const _0x33f7e7 = _0x41d46a[_0x2b3898]._layer;
        if (Cesium__namespace.defined(_0x33f7e7)) {
          _0x3e9452.call(_0x508b4e, _0x33f7e7);
        }
      }
      return this;
    }
    async _createI3SDataProvider() {
      let _0x5282cb;
      if (this.options.geoidTiledTerrainProvider) {
        if (this.options.geoidTiledTerrainProvider instanceof Cesium__namespace.ArcGISTiledElevationTerrainProvider) {
          _0x5282cb = this.options.geoidTiledTerrainProvider;
        } else {
          _0x5282cb = await Cesium__namespace.ArcGISTiledElevationTerrainProvider.fromUrl(this.options.geoidTiledTerrainProvider.url, this.options.geoidTiledTerrainProvider);
        }
      }
      this._marsOptions._mars3d_layerId = this.id;
      const _0x4cea5c = {
        ...this.options
      };
      _0x4cea5c.geoidTiledTerrainProvider = _0x5282cb;
      _0x4cea5c.cesium3dTilesetOptions = {
        ...this.options
      };
      _0x4cea5c.cesium3dTilesetOptions.marsOptions = this._marsOptions;
      const _0x5ed7cb = _0x4cea5c;
      delete _0x5ed7cb.url;
      const _0x3bacbb = this.getUrlResource();
      const _0x37ac4c = await Cesium__namespace.I3SDataProvider.fromUrl(_0x3bacbb, _0x5ed7cb);
      return _0x37ac4c;
    }
    _addedHook() {
      this.loadOk = false;
      super._addedHook();
      this._conventMarsOptions();
      this._createI3SDataProvider().then(_0x2105db => {
        if (this.isDestroy) {
          return;
        }
        const _0x524cf8 = {
          provider: _0x2105db
        };
        this.fire(EventType.loadBefore, _0x524cf8);
        this._initModel(_0x2105db);
        this.loadOk = true;
        this._readyPromise.resolve(this);
        const _0x1e77d5 = {
          provider: _0x2105db,
          layers: _0x2105db._layers
        };
        this.fire(EventType.load, _0x1e77d5);
      });
    }
    _removedHook() {
      super._removedHook();
      if (this._i3sProvider) {
        const _0x39c6ae = this._i3sProvider._layers;
        for (let _0x5652e4 = 0; _0x5652e4 < _0x39c6ae.length; _0x5652e4++) {
          const _0x5c3521 = _0x39c6ae[_0x5652e4]._layer;
          _0x5c3521._onRemove();
          delete _0x39c6ae[_0x5652e4]._layer;
        }
        this._map.scene.primitives.remove(this._i3sProvider);
        delete this._i3sProvider;
      }
    }
    reload() {
      this._removedHook();
      this._addedHook();
    }
    _initModel(_0x33d792) {
      this._i3sProvider = _0x33d792;
      this._i3sProvider._mars3d_layerId = this.id;
      this._i3sProvider.show = this.show;
      this._map.scene.primitives.add(this._i3sProvider);
      const _0x34a615 = this._i3sProvider._layers;
      for (let _0x5bc64f = 0; _0x5bc64f < _0x34a615.length; _0x5bc64f++) {
        const _0x29f2b7 = _0x34a615[_0x5bc64f]._tileset;
        const _0x43a2e3 = {
          ...this.options
        };
        _0x43a2e3.tileset = _0x29f2b7;
        _0x43a2e3.eventParent = this;
        _0x43a2e3.private = true;
        const _0xc02763 = new TilesetLayer(_0x43a2e3);
        _0xc02763._onAdd(this._map);
        _0x34a615[_0x5bc64f]._layer = _0xc02763;
      }
      this._extent = this._i3sProvider.extent;
      this._orginCenterPoint = LngLatPoint.fromCartographic(Cesium__namespace.Rectangle.center(this._extent));
      this._orginCenterPosition = this._orginCenterPoint.toCartesian();
      this._center = this._orginCenterPoint.clone();
    }
    async _flyToEx(_0x75746a) {
      if (this._center) {
        const _0x90689e = {
          maxPitch: -45,
          ..._0x75746a
        };
        return this._map.flyToPoint(this._center, _0x90689e);
      }
    }
    _conventMarsOptions() {
      var _0xbce1de;
      if ((_0xbce1de = Cesium__namespace.Mars3DEx) === null || _0xbce1de === undefined || !_0xbce1de.getCacheOrAdd) {
        return;
      }
      this._marsOptions.customShaders = this._map.index + "_" + this.id;
      const _0x387173 = Cesium__namespace.Mars3DEx.getCacheOrAdd(this._marsOptions.customShaders);
      if (this.marsJzwStyle) {
        _0x387173.marsJzwStyle = new Cesium__namespace.CustomShader({
          lightingModel: Cesium__namespace.LightingModel.UNLIT,
          uniforms: {
            u_mars3d_jzw_upAxis: {
              type: Cesium__namespace.UniformType.INT,
              value: this.options.editUpAxis ?? Cesium__namespace.Axis.Z
            }
          },
          fragmentShaderText: isString(this.marsJzwStyle) ? this.marsJzwStyle : JzwStyleFS
        });
      } else {
        delete _0x387173.marsJzwStyle;
      }
    }
  }
  register$3("i3s", I3SLayer);
  class GraticuleProvider {
    constructor(_0x607c5 = {}) {
      this.options = _0x607c5;
      this._tilingScheme = _0x607c5.tilingScheme || new Cesium__namespace.GeographicTilingScheme();
      this._tileWidth = _0x607c5.tileWidth || 256;
      this._tileHeight = _0x607c5.tileHeight || 256;
      this._sexagesimal = _0x607c5.sexagesimal || false;
      this.steps = _0x607c5.steps || [0.05, 0.1, 0.2, 0.5, 1, 2, 5, 10];
      this._map = _0x607c5.map;
      this._scene = this._map.scene;
      this._ellipsoid = this._scene.globe.ellipsoid;
      this._labels = new Cesium__namespace.LabelCollection();
      this._scene.primitives.add(this._labels);
      this._polylines = new Cesium__namespace.PolylineCollection();
      this._scene.primitives.add(this._polylines);
      const _0x3dc944 = document.createElement("canvas");
      _0x3dc944.width = 256;
      _0x3dc944.height = 256;
      this._canvas = _0x3dc944;
      const _0x5f2d15 = this;
      this._scene.camera.moveEnd.addEventListener(function () {
        if (!_0x5f2d15._show) {
          return;
        }
        _0x5f2d15._polylines.removeAll();
        _0x5f2d15._labels.removeAll();
        _0x5f2d15._currentExtent = null;
        _0x5f2d15._drawGrid();
      });
      this._scene.imageryLayers.addImageryProvider(this, 0);
      this._ready = true;
    }
    get url() {
      return undefined;
    }
    get proxy() {
      return undefined;
    }
    get tileWidth() {
      return this._tileWidth;
    }
    get tileHeight() {
      return this._tileHeight;
    }
    get maximumLevel() {
      return 18;
    }
    get minimumLevel() {
      return 0;
    }
    get tilingScheme() {
      return this._tilingScheme;
    }
    get rectangle() {
      return this._tilingScheme.rectangle;
    }
    get tileDiscardPolicy() {
      return undefined;
    }
    get errorEvent() {
      return this._errorEvent;
    }
    get ready() {
      return this._ready;
    }
    get credit() {
      return this._credit;
    }
    get hasAlphaChannel() {
      return true;
    }
    get steps() {
      return this._stepsLng;
    }
    set steps(_0x21a0fc) {
      this._stepsLng = [];
      _0x21a0fc.forEach(_0x3a20e0 => {
        this._stepsLng.push(Cesium__namespace.Math.toRadians(_0x3a20e0));
      });
      if (this._scene) {
        this._polylines.removeAll();
        this._labels.removeAll();
        this._currentExtent = null;
        this._drawGrid();
      }
    }
    makeLabel(_0x527924, _0xed0708, _0x3840bd, _0x39512a) {
      const _0x15c49f = LabelStyleConver.toCesiumVal({
        style: Cesium__namespace.LabelStyle.FILL_AND_OUTLINE,
        fillColor: Cesium__namespace.Color.AZURE,
        outlineColor: Cesium__namespace.Color.BLACK,
        outlineWidth: 2,
        pixelOffset: _0x39512a ? new Cesium__namespace.Cartesian2(5, 15) : new Cesium__namespace.Cartesian2(5, -30),
        eyeOffset: Cesium__namespace.Cartesian3.ZERO,
        horizontalOrigin: Cesium__namespace.HorizontalOrigin.LEFT,
        verticalOrigin: Cesium__namespace.VerticalOrigin.BOTTOM,
        scale: 1,
        ...this.options.labelStyle
      });
      _0x15c49f.position = this._ellipsoid.cartographicToCartesian(new Cesium__namespace.Cartographic(_0x527924, _0xed0708, 10));
      _0x15c49f.text = _0x3840bd;
      this._labels.add(_0x15c49f);
    }
    _drawGrid() {
      const _0x2d3ea8 = this._getExtentView();
      if (this._currentExtent && this._currentExtent.equals(_0x2d3ea8)) {
        return;
      }
      this._currentExtent = _0x2d3ea8;
      this._polylines.removeAll();
      this._labels.removeAll();
      let _0x1db98a = this.steps[0];
      const _0x28b90d = _0x2d3ea8.width / 10;
      for (let _0x49186b = 0, _0x3a608c = this.steps.length; _0x49186b < _0x3a608c && _0x1db98a < _0x28b90d; _0x49186b++) {
        _0x1db98a = this.steps[_0x49186b];
      }
      const _0x155d21 = _0x1db98a;
      let _0x5386f7 = (_0x2d3ea8.west < 0 ? Math.ceil(_0x2d3ea8.west / _0x1db98a) : Math.floor(_0x2d3ea8.west / _0x1db98a)) * _0x1db98a;
      let _0x4a2694 = (_0x2d3ea8.south < 0 ? Math.ceil(_0x2d3ea8.south / _0x155d21) : Math.floor(_0x2d3ea8.south / _0x155d21)) * _0x155d21;
      let _0x4f3604 = (_0x2d3ea8.east < 0 ? Math.ceil(_0x2d3ea8.east / _0x155d21) : Math.floor(_0x2d3ea8.east / _0x155d21)) * _0x155d21;
      let _0x9c1705 = (_0x2d3ea8.north < 0 ? Math.ceil(_0x2d3ea8.north / _0x1db98a) : Math.floor(_0x2d3ea8.north / _0x1db98a)) * _0x1db98a;
      _0x5386f7 = Math.max(_0x5386f7 - _0x1db98a * 2, -Math.PI);
      _0x4f3604 = Math.min(_0x4f3604 + _0x1db98a * 2, Math.PI);
      _0x4a2694 = Math.max(_0x4a2694 - _0x155d21 * 2, -Math.PI / 2);
      _0x9c1705 = Math.min(_0x9c1705 + _0x1db98a * 2, Math.PI / 2);
      if (_0x5386f7 > _0x4f3604) {
        _0x4f3604 += Math.PI * 2;
      }
      let _0x41ae50;
      let _0x58daf4;
      const _0x37ddf4 = Cesium__namespace.Math.toRadians(1);
      const _0x272d1a = PolylineStyleConver.toCesiumVal(this.options.lineStyle || {}, {
        width: 1
      });
      const _0x576b57 = _0x1db98a * 0.01;
      const _0x1c090c = _0x4a2694 + Math.floor((_0x9c1705 - _0x4a2694) / _0x155d21 / 2) * _0x155d21;
      for (_0x58daf4 = _0x5386f7; _0x58daf4 < _0x4f3604; _0x58daf4 += _0x1db98a) {
        const _0x2ce512 = [];
        for (_0x41ae50 = _0x4a2694; _0x41ae50 < _0x9c1705; _0x41ae50 += _0x37ddf4) {
          _0x2ce512.push(this._getCartesian3(_0x58daf4, _0x41ae50, _0x272d1a.height));
        }
        _0x2ce512.push(this._getCartesian3(_0x58daf4, _0x9c1705, _0x272d1a.height));
        const _0x649e58 = {
          ..._0x272d1a
        };
        _0x649e58.positions = _0x2ce512;
        this._polylines.add(_0x649e58);
        let _0x434c3d = Cesium__namespace.Math.toDegrees(_0x58daf4);
        if (_0x434c3d > 180) {
          _0x434c3d = _0x434c3d - 360;
        }
        if (_0x434c3d !== -180) {
          this.makeLabel(_0x58daf4 + _0x576b57, _0x1c090c, this._sexagesimal ? this._decToSex(_0x434c3d) : _0x434c3d.toFixed(gridPrecision(_0x1db98a)), false);
        }
      }
      const _0x366040 = _0x5386f7 + Math.floor((_0x4f3604 - _0x5386f7) / _0x1db98a / 2) * _0x1db98a;
      for (_0x41ae50 = _0x4a2694; _0x41ae50 < _0x9c1705; _0x41ae50 += _0x155d21) {
        const _0x402475 = [];
        for (_0x58daf4 = _0x5386f7; _0x58daf4 < _0x4f3604; _0x58daf4 += _0x37ddf4) {
          _0x402475.push(this._getCartesian3(_0x58daf4, _0x41ae50, _0x272d1a.height));
        }
        _0x402475.push(this._getCartesian3(_0x4f3604, _0x41ae50, _0x272d1a.height));
        const _0x16c468 = {
          ..._0x272d1a
        };
        _0x16c468.positions = _0x402475;
        this._polylines.add(_0x16c468);
        const _0x3e003a = Cesium__namespace.Math.toDegrees(_0x41ae50);
        this.makeLabel(_0x366040, _0x41ae50, this._sexagesimal ? this._decToSex(_0x3e003a) : _0x3e003a.toFixed(gridPrecision(_0x155d21)), true);
      }
    }
    requestImage(_0x1964fb, _0x33092e, _0x566741) {
      return new Promise((_0x4b6666, _0x5daba5) => {
        if (this._show) {
          this._drawGrid();
        }
        _0x4b6666(this._canvas);
      });
    }
    _getCartesian3(_0x58b323, _0x4686c5, _0x2a65fd = 10) {
      if (_0x2a65fd === "auto") {
        const _0x3f0fb7 = new Cesium__namespace.Cartographic(_0x58b323, _0x4686c5, 0);
        _0x2a65fd = this._scene.globe.getHeight(_0x3f0fb7);
        if (_0x2a65fd < 0) {
          _0x2a65fd = 0;
        }
      }
      return Cesium__namespace.Cartesian3.fromRadians(_0x58b323, _0x4686c5, _0x2a65fd);
    }
    setVisible(_0x4f8736) {
      this._show = _0x4f8736;
      if (!_0x4f8736) {
        this._polylines.removeAll();
        this._labels.removeAll();
      } else {
        this._currentExtent = null;
        this._drawGrid();
      }
    }
    isVisible() {
      return this._show;
    }
    _decToSex(_0x3dfc32) {
      let _0x494471 = Math.floor(_0x3dfc32);
      let _0xd1eee2 = ((Math.abs(_0x3dfc32) - _0x494471) * 60).toFixed(2);
      if (_0xd1eee2 === "60.00") {
        _0x494471 += 1;
        _0xd1eee2 = "0.00";
      }
      return [_0x494471, ":", _0xd1eee2].join("");
    }
    _getExtentView() {
      const _0x15addc = this._scene.camera;
      if (_0x15addc.positionCartographic.height > 10000000) {
        return Cesium__namespace.Rectangle.MAX_VALUE;
      }
      const _0x3f0eaf = this._map.getExtent();
      return Cesium__namespace.Rectangle.fromDegrees(_0x3f0eaf.xmin, _0x3f0eaf.ymin, _0x3f0eaf.xmax, _0x3f0eaf.ymax);
    }
  }
  function gridPrecision(_0x57ad1d) {
    if (_0x57ad1d < 0.01) {
      return 2;
    }
    if (_0x57ad1d < 0.1) {
      return 1;
    }
    if (_0x57ad1d < 1) {
      return 0;
    }
    return 0;
  }
  class GraticuleLayer extends BaseLayer {
    get layer() {
      return this._graticuleProvider;
    }
    get steps() {
      return this._graticuleProvider?.steps;
    }
    set steps(_0x3a31c5) {
      this._graticuleProvider.steps = _0x3a31c5;
    }
    _showHook(_0x1a3086) {
      if (this._graticuleProvider) {
        this._graticuleProvider.setVisible(_0x1a3086);
      }
    }
    _setOptionsHook(_0x159828, _0x5c3dc3) {
      if (_0x5c3dc3.steps) {
        this._graticuleProvider.steps = _0x5c3dc3.steps;
      }
    }
    _mountedHook() {
      this._graticuleProvider = new GraticuleProvider({
        map: this._map,
        ...this.options
      });
    }
    _addedHook() {
      this._graticuleProvider.setVisible(this.show);
    }
    _removedHook() {
      this._graticuleProvider.setVisible(false);
    }
  }
  register$3("graticule", GraticuleLayer);
  class LodGraphicLayer extends GraphicLayer {
    constructor(_0x511f59 = {}) {
      super(_0x511f59);
      if (!isMars3DCesium) {
        logError("该功能需要引入mars3d修改版Cesium库(mars3d-cesium库)才支持!", this);
      }
      this.options.IdField = this.options.IdField || "id";
      if (this.options.debuggerTileInfo) {
        this.bindPopup(function (_0x590d14) {
          var _0x41ba89;
          const _0x14cd11 = (_0x590d14 === null || _0x590d14 === undefined || (_0x41ba89 = _0x590d14.graphic) === null || _0x41ba89 === undefined ? undefined : _0x41ba89.gridList) || [];
          return _0x14cd11.join("<br/>");
        });
      }
      this._cacheGrid = {};
      this._cacheGraphic = {};
      this._maxCacheCount = this.options.maxCacheCount ?? 1000;
      this._cache_data = {};
      this._cache_ndata_keys = {};
    }
    get isLoading() {
      for (const _0xe7acf9 in this._cacheGrid) {
        const _0x4e5abf = this._cacheGrid[_0xe7acf9];
        if (!_0x4e5abf || !_0x4e5abf.grid) {
          continue;
        }
        if (_0x4e5abf.isLoading) {
          return true;
        }
      }
      return false;
    }
    _showHook(_0x1a77d0) {
      super._showHook(_0x1a77d0);
      if (this._tileLayer) {
        this._tileLayer.show = _0x1a77d0;
      }
    }
    _mountedHook() {
      super._mountedHook();
      const _0x4c0df2 = {
        ...this.options
      };
      _0x4c0df2.private = true;
      const _0x592515 = _0x4c0df2;
      delete _0x592515.id;
      delete _0x592515.name;
      delete _0x592515.url;
      delete _0x592515.type;
      this._tileLayer = new EmptyTileLayer(_0x592515);
    }
    _addedHook() {
      super._addedHook();
      this._tileLayer.on(EventType.addTile, this._tileLayer_addTileHandler, this);
      this._tileLayer.on(EventType.removeTile, this._tileLayer_removeTileHandler, this);
      this._readyPromise.resolve(this);
      this.fire(EventType.load, {}, true);
      const _0x43b33e = () => {
        var _0x4f4e14;
        if (this.isAdded && ((_0x4f4e14 = this._tileLayer) === null || _0x4f4e14 === undefined || !_0x4f4e14.isAdded)) {
          this._map.addLayer(this._tileLayer);
        }
      };
      this._map.readyPromise.then(_0x43b33e);
    }
    _removedHook() {
      super._removedHook();
      this._tileLayer.off(EventType.addTile, this._tileLayer_addTileHandler, this);
      this._tileLayer.off(EventType.removeTile, this._tileLayer_removeTileHandler, this);
      this._map.removeLayer(this._tileLayer);
      this.clear();
    }
    getGridKey(_0x2f8dbf) {
      return _0x2f8dbf.level + "_x" + _0x2f8dbf.x + "_y" + _0x2f8dbf.y;
    }
    checkHasBreak(_0x20206a) {
      if (!this.show || !this._cacheGrid[_0x20206a]) {
        return true;
      }
      return false;
    }
    _tileLayer_addTileHandler(_0x436eb0) {
      if (!this._tileLayer.isInRange(_0x436eb0.level)) {
        return;
      }
      const _0x395229 = this.getGridKey(_0x436eb0);
      _0x436eb0.key = _0x395229;
      if (this._cache_ndata_keys[_0x395229]) {
        return;
      }
      const _0x295bfd = {
        grid: _0x436eb0,
        isLoading: true
      };
      this._cacheGrid[_0x395229] = _0x295bfd;
      if (this._maxCacheCount > 0 && this._cache_data[_0x395229]) {
        this._showData(this._cache_data[_0x395229]);
      } else {
        this.queryGridData(_0x436eb0).then(_0x6dce66 => {
          if (this.show) {
            this._showData(_0x6dce66);
          }
        });
      }
    }
    _getItemDataId(_0xffdfe0) {
      if (_0xffdfe0.id) {
        return _0xffdfe0.id;
      }
      if (_0xffdfe0.type === "Feature") {
        _0xffdfe0 = _0xffdfe0.properties;
      }
      if (_0xffdfe0[this.options.IdField]) {
        return _0xffdfe0[this.options.IdField];
      }
      return null;
    }
    _showData(_0x1ac335) {
      const _0x5bec70 = _0x1ac335.list || [];
      const _0x44551d = _0x1ac335.key;
      if (_0x5bec70.length === 0) {
        this._cache_ndata_keys[_0x44551d] = true;
      } else if (this._maxCacheCount > 0) {
        this._cache_data[_0x44551d] = _0x1ac335;
        if (Object.keys(this._cache_data).length > this._maxCacheCount) {
          this._cache_data = {};
        }
      }
      if (this.checkHasBreak[_0x44551d]) {
        return;
      }
      const _0x153144 = [];
      const _0x2c8edc = [];
      for (let _0x398533 = 0, _0x172ea9 = _0x5bec70.length; _0x398533 < _0x172ea9; _0x398533++) {
        const _0x3629af = _0x5bec70[_0x398533];
        const _0x262498 = this._getItemDataId(_0x3629af);
        if (!_0x262498) {
          logWarn("LodGraphicLayer: 数据的ID识别失败", _0x3629af);
        }
        const _0x2758ca = this._cacheGraphic[_0x262498];
        if (_0x2758ca) {
          _0x2758ca.gridList.push(_0x44551d);
          this.updateGraphic(_0x2758ca, _0x3629af);
        } else {
          const _0x472dd8 = this.createGraphic(_0x1ac335, _0x3629af);
          if (!_0x472dd8 || _0x472dd8.isDestroy) {
            continue;
          }
          _0x472dd8.gridList = [_0x44551d];
          this._cacheGraphic[_0x262498] = _0x472dd8;
          _0x2c8edc.push(_0x472dd8);
        }
        _0x153144.push(_0x262498);
      }
      this._cacheGrid[_0x44551d] = this._cacheGrid[_0x44551d] || {};
      this._cacheGrid[_0x44551d].ids = _0x153144;
      this._cacheGrid[_0x44551d].isLoading = false;
      if (_0x153144.length > 0) {
        const _0x1500dd = {
          ids: _0x153144,
          graphics: _0x2c8edc
        };
        this.fire(EventType.update, _0x1500dd);
      }
    }
    _tileLayer_removeTileHandler(_0xe44a28) {
      if (this._tileLayer.isAllOutRange(_0xe44a28.level)) {
        this.clear();
        return;
      }
      const _0x30b314 = this.getGridKey(_0xe44a28);
      const _0x514ec5 = this._cacheGrid[_0x30b314];
      if (_0x514ec5) {
        var _0x239851;
        if ((_0x239851 = _0x514ec5.grid) !== null && _0x239851 !== undefined && _0x239851._resource) {
          _0x514ec5.grid._resource.cancelRequest();
          delete _0x514ec5.grid._resource;
        }
        if (_0x514ec5.ids) {
          for (let _0x3a6088 = 0; _0x3a6088 < _0x514ec5.ids.length; _0x3a6088++) {
            const _0x344367 = _0x514ec5.ids[_0x3a6088];
            const _0x599865 = this._cacheGraphic[_0x344367];
            if (!_0x599865 || _0x599865.isDestroy) {
              continue;
            }
            removeArrayItem(_0x599865.gridList, _0x30b314);
            if (_0x599865.gridList.length === 0) {
              this.removeGraphic(_0x599865);
              delete this._cacheGraphic[_0x344367];
            }
          }
        }
        delete this._cacheGrid[_0x30b314];
      }
    }
    queryGridData(_0x1c1fea) {
      if (this.options.queryGridData) {
        return this.options.queryGridData(_0x1c1fea);
      }
    }
    createGraphic(_0x5911dd, _0x2cde93) {
      if (this.options.createGraphic) {
        return this.options.createGraphic(_0x5911dd, _0x2cde93);
      }
      return null;
    }
    updateGraphic(_0x326002, _0x3b60a9) {
      if (this.options.updateGraphic) {
        this.options.updateGraphic(_0x326002, _0x3b60a9);
      }
    }
    clear(_0x599e1e) {
      super.clear(_0x599e1e);
      this._cacheGraphic = {};
      for (const _0x311458 in this._cacheGrid) {
        var _0x556c93;
        const _0x174f61 = this._cacheGrid[_0x311458];
        if ((_0x556c93 = _0x174f61.grid) !== null && _0x556c93 !== undefined && _0x556c93._resource) {
          _0x174f61.grid._resource.cancelRequest();
        }
      }
      this._cacheGrid = {};
      this._cache_data = {};
      this._cache_ndata_keys = {};
    }
    reload() {
      this.clear(true);
      if (this._tileLayer) {
        this._tileLayer.reload();
      }
    }
    _setOptionsHook(_0xc2d32a, _0x5b775b) {
      super._setOptionsHook(_0xc2d32a, _0x5b775b);
      this.clear(true);
      if (this._tileLayer) {
        const _0x417fa1 = {
          ..._0x5b775b
        };
        _0x417fa1.private = true;
        const _0xa0e2bf = _0x417fa1;
        delete _0xa0e2bf.id;
        delete _0xa0e2bf.name;
        delete _0xa0e2bf.url;
        delete _0xa0e2bf.type;
        this._tileLayer.setOptions(_0xa0e2bf);
      }
    }
    _toJsonEx(_0x3ce92a) {}
  }
  register$3("lodGraphic", LodGraphicLayer);
  class BaseQueryPOI {
    constructor(_0x3b632b = {}) {
      this.options = _0x3b632b;
      this._key_index = 0;
      if (_0x3b632b.key) {
        this._keys = Array.isArray(_0x3b632b.key) ? _0x3b632b.key : [_0x3b632b.key];
      }
      this._isWgs84 = this.options.chinaCRS !== ChinaCRS.GCJ02;
    }
    get keys() {
      return this._keys;
    }
    set keys(_0x37177f) {
      this._keys = _0x37177f;
    }
    get key() {
      const _0x4678e1 = this._key_index++ % this._keys.length;
      return this._keys[_0x4678e1];
    }
    _formatPOIData(_0x42fe67) {
      const _0x1d9e33 = [];
      for (let _0x568de7 = 0; _0x568de7 < _0x42fe67.length; _0x568de7++) {
        const _0x1654fe = this._formatPOIDataItem(_0x42fe67[_0x568de7]);
        _0x1d9e33.push(_0x1654fe);
      }
      return _0x1d9e33;
    }
    _formatPOIDataItem(_0x420b3b) {
      return _0x420b3b;
    }
    _getKeywords(_0x2b7c4e) {
      if (isString(_0x2b7c4e)) {
        return _0x2b7c4e.replace(/ /gm, "|").replace(/,/gm, "|");
      } else if (Array.isArray(_0x2b7c4e)) {
        return _0x2b7c4e.join("|");
      }
      return _0x2b7c4e;
    }
    _filterPOIData_circle(_0x88a3c9, _0x41f550, _0x397751) {
      if (!_0x88a3c9 || !_0x41f550 || !_0x397751) {
        return _0x88a3c9;
      }
      const _0x52fa87 = _0x41f550.toCartesian();
      const _0x23507f = [];
      for (let _0x1b3fef = 0; _0x1b3fef < _0x88a3c9.length; _0x1b3fef++) {
        const _0x382ca0 = _0x88a3c9[_0x1b3fef];
        const _0x5fd10 = Cesium__namespace.Cartesian3.fromDegrees(_0x382ca0.lng, _0x382ca0.lat, _0x41f550.alt);
        const _0x48e872 = Cesium__namespace.Cartesian3.distance(_0x5fd10, _0x52fa87);
        if (_0x48e872 < _0x397751) {
          _0x23507f.push(_0x382ca0);
        }
      }
      return _0x23507f;
    }
    _filterPOIData_polygon(_0x63aed6, _0x50263b) {
      if (!_0x63aed6 || !_0x50263b) {
        return;
      }
      const _0x52137e = [];
      for (let _0x3bd84e = 0; _0x3bd84e < _0x63aed6.length; _0x3bd84e++) {
        const _0xfaade5 = _0x63aed6[_0x3bd84e];
        const _0x41ef62 = [_0xfaade5.lng, _0xfaade5.lat];
        if (isInPoly(_0x41ef62, _0x50263b)) {
          _0x52137e.push(_0xfaade5);
        }
      }
      return _0x52137e;
    }
  }
  class GaodePOI extends BaseQueryPOI {
    constructor(_0x425c70 = {}) {
      super(_0x425c70);
      if (!this._keys) {
        this._keys = gaodeArr;
      }
    }
    _formatPOIDataItem(_0x3836a0) {
      let _0x236370 = [];
      if (_0x3836a0.location?.length > 0) {
        _0x236370 = _0x3836a0.location.split(",");
        if (this._isWgs84) {
          _0x236370 = gcj2wgs(_0x236370);
        }
      }
      return {
        id: _0x3836a0.id,
        name: _0x3836a0.name,
        lng: Number(_0x236370[0]),
        lat: Number(_0x236370[1]),
        type: _0x3836a0.type,
        xzqh: _0x3836a0.pname + _0x3836a0.cityname + _0x3836a0.adname,
        address: _0x3836a0.address,
        tel: _0x3836a0.tel || "",
        info: _0x3836a0
      };
    }
    async _getAddress(_0x203e80) {
      const _0x521b8d = {
        key: this.key,
        output: "json"
      };
      const _0x517055 = _0x521b8d;
      let _0xd1e6b4 = [_0x203e80.location.lng, _0x203e80.location.lat];
      if (this._isWgs84) {
        _0xd1e6b4 = wgs2gcj(_0xd1e6b4);
      }
      _0x517055.location = _0xd1e6b4[0] + "," + _0xd1e6b4[1];
      const _0x30103c = {
        url: "https://restapi.amap.com/v3/geocode/regeo",
        ...this.options
      };
      _0x30103c.queryParameters = _0x517055;
      const _0x536549 = await fetchJson$2(_0x30103c);
      if (_0x536549.infocode !== "10000") {
        logInfo("未查询到相关结果！", _0x536549);
        return;
      }
      const _0x570329 = _0x536549.regeocode;
      const _0x33fe54 = {
        address: _0x570329.formatted_address,
        city: _0x570329.addressComponent?.adcode,
        component: _0x570329.addressComponent
      };
      const _0x42bb5a = _0x33fe54;
      return _0x42bb5a;
    }
    async _autoTip(_0x5b5373) {
      const _0x2ee545 = {
        key: this.key,
        output: "json"
      };
      const _0x23d34f = _0x2ee545;
      if (Cesium__namespace.defined(_0x5b5373.city)) {
        _0x23d34f.city = _0x5b5373.city;
        _0x23d34f.citylimit = true;
      }
      if (Cesium__namespace.defined(_0x5b5373.citylimit)) {
        _0x23d34f.citylimit = _0x5b5373.citylimit;
      }
      if (_0x5b5373.text) {
        _0x23d34f.keywords = this._getKeywords(_0x5b5373.text);
      }
      if (_0x5b5373.location) {
        let _0x226769 = [_0x5b5373.location.lng, _0x5b5373.location.lat];
        if (this._isWgs84) {
          _0x226769 = wgs2gcj(_0x226769);
        }
        _0x23d34f.location = _0x226769[0] + "," + _0x226769[1];
      }
      const _0x22a2b8 = {
        url: "https://restapi.amap.com/v3/assistant/inputtips",
        queryParameters: _0x23d34f,
        ...this.options
      };
      const _0xe65dbe = await fetchJson$2(_0x22a2b8);
      if (!_0xe65dbe.tips) {
        logInfo("未查询到相关结果！", _0xe65dbe);
        return;
      }
      const _0x2b8176 = this._formatPOIData(_0xe65dbe.tips);
      const _0x137e37 = {
        allcount: _0xe65dbe.count,
        count: _0x2b8176.length,
        list: _0x2b8176
      };
      const _0x47ba2a = _0x137e37;
      return _0x47ba2a;
    }
    async _detail(_0x1cf890) {
      const _0x356cca = {
        key: this.key,
        id: _0x1cf890.id,
        output: "json"
      };
      const _0x29035e = _0x356cca;
      const _0x3170aa = {
        url: "https://restapi.amap.com/v3/place/detail",
        queryParameters: _0x29035e,
        ...this.options
      };
      const _0x4f498c = await fetchJson$2(_0x3170aa);
      if (_0x4f498c.infocode !== "10000") {
        const _0x34b248 = "POI 请求失败(" + _0x4f498c.infocode + ")：" + _0x4f498c.info;
        if (_0x1cf890.error) {
          _0x1cf890.error(_0x34b248);
        }
        return;
      }
      if (!_0x4f498c.pois || _0x4f498c.pois.length === 0) {
        if (_0x1cf890.error) {
          _0x1cf890.error("未查询到相关结果！", _0x4f498c);
        }
        return;
      }
      const _0x2261a9 = _0x4f498c.pois[0];
      return _0x2261a9;
    }
    async _queryText(_0x49aef7) {
      const _0x4c1d8d = {
        key: this.key,
        output: "json",
        page: (_0x49aef7.page || 0) + 1,
        offset: _0x49aef7.count || 20,
        types: _0x49aef7.types || ""
      };
      const _0x34bdba = _0x4c1d8d;
      if (Cesium__namespace.defined(_0x49aef7.city)) {
        _0x34bdba.city = _0x49aef7.city;
        _0x34bdba.citylimit = true;
      }
      if (Cesium__namespace.defined(_0x49aef7.citylimit)) {
        _0x34bdba.citylimit = _0x49aef7.citylimit;
      }
      if (_0x49aef7.text) {
        _0x34bdba.keywords = this._getKeywords(_0x49aef7.text);
      } else if (!_0x34bdba.types) {
        _0x34bdba.types = "120000|130000|190000";
      }
      const _0x31ecc1 = {
        url: "https://restapi.amap.com/v3/place/text",
        queryParameters: _0x34bdba,
        ...this.options
      };
      const _0x3000da = await fetchJson$2(_0x31ecc1);
      if (_0x3000da.infocode !== "10000") {
        const _0x1fc632 = "POI 请求失败(" + _0x3000da.infocode + ")：" + _0x3000da.info;
        if (_0x49aef7.error) {
          _0x49aef7.error(_0x1fc632);
        }
        return;
      }
      if (!_0x3000da.pois) {
        if (_0x49aef7.error) {
          _0x49aef7.error("未查询到相关结果！", _0x3000da);
        }
        return;
      }
      const _0x1e0ce8 = this._formatPOIData(_0x3000da.pois);
      const _0x465646 = {
        allcount: _0x3000da.count,
        count: _0x1e0ce8.length,
        list: _0x1e0ce8
      };
      const _0x84342b = _0x465646;
      return _0x84342b;
    }
    async _queryCircle(_0x206a95) {
      const _0x44a728 = {
        output: "json",
        key: this.key,
        radius: _0x206a95.radius || 3000,
        page: (_0x206a95.page || 0) + 1,
        offset: _0x206a95.count || 20,
        types: _0x206a95.types || ""
      };
      const _0x1bbd39 = _0x44a728;
      let _0xd4829c = [_0x206a95.location.lng, _0x206a95.location.lat];
      if (this._isWgs84) {
        _0xd4829c = wgs2gcj(_0xd4829c);
      }
      _0x1bbd39.location = _0xd4829c[0] + "," + _0xd4829c[1];
      if (_0x206a95.text) {
        _0x1bbd39.keywords = this._getKeywords(_0x206a95.text);
      } else if (!_0x1bbd39.types) {
        _0x1bbd39.types = "120000|130000|190000";
      }
      const _0x496d4b = {
        url: "https://restapi.amap.com/v3/place/around",
        queryParameters: _0x1bbd39,
        ...this.options
      };
      const _0x9d6a3e = await fetchJson$2(_0x496d4b);
      if (_0x9d6a3e.infocode !== "10000") {
        if (_0x206a95.error) {
          const _0x6c1f14 = "POI 请求失败(" + _0x9d6a3e.infocode + ")：" + _0x9d6a3e.info;
          _0x206a95.error(_0x6c1f14);
        }
        return;
      }
      if (!_0x9d6a3e.pois) {
        if (_0x206a95.error) {
          _0x206a95.error("未查询到相关结果！", _0x9d6a3e);
        }
        return;
      }
      const _0x28d57a = this._formatPOIData(_0x9d6a3e.pois);
      let _0xf0741a;
      if (_0x206a95.limit) {
        _0xf0741a = this._filterPOIData_circle(_0x28d57a, _0x206a95.location, _0x1bbd39.radius);
      } else {
        _0xf0741a = _0x28d57a;
      }
      const _0x43e122 = {
        allcount: _0x9d6a3e.count,
        count: _0xf0741a.length,
        list: _0xf0741a
      };
      const _0x26a5fa = _0x43e122;
      return _0x26a5fa;
    }
    async _queryPolygon(_0x4840b1) {
      const _0x528918 = {
        key: this.key,
        output: "json",
        page: (_0x4840b1.page || 0) + 1,
        offset: _0x4840b1.count || 20,
        types: _0x4840b1.types || ""
      };
      const _0x6126cd = _0x528918;
      const _0x579557 = _0x4840b1.polygon;
      let _0x53d7dd = [];
      if (_0x579557.length === 2) {
        let _0x2da415 = _0x579557[0];
        let _0x12c1fb = _0x579557[1];
        if (this._isWgs84) {
          _0x2da415 = wgs2gcj(_0x2da415);
          _0x12c1fb = wgs2gcj(_0x12c1fb);
        }
        _0x6126cd.polygon = _0x2da415[0] + "," + _0x2da415[1] + "|" + _0x12c1fb[0] + "," + _0x12c1fb[1];
        _0x53d7dd = [_0x579557[0], [_0x579557[0][0], _0x579557[1][1]], _0x579557[1], [_0x579557[1][0], _0x579557[0][1]]];
      } else {
        _0x53d7dd = _0x579557;
        let _0x42412d = "";
        const _0x55f34a = _0x579557.concat([_0x579557[0]]);
        for (let _0x50f3ed = 0; _0x50f3ed < _0x55f34a.length; _0x50f3ed++) {
          let _0x5c51a3 = _0x55f34a[_0x50f3ed];
          if (this._isWgs84) {
            _0x5c51a3 = wgs2gcj(_0x5c51a3);
          }
          if (_0x50f3ed === _0x55f34a.length - 1) {
            _0x42412d += _0x5c51a3[0] + "," + _0x5c51a3[1];
          } else {
            _0x42412d += _0x5c51a3[0] + "," + _0x5c51a3[1] + "|";
          }
        }
        _0x6126cd.polygon = _0x42412d;
      }
      if (_0x4840b1.text) {
        _0x6126cd.keywords = this._getKeywords(_0x4840b1.text);
      } else if (!_0x6126cd.types) {
        _0x6126cd.types = "120000|130000|190000";
      }
      const _0x99958a = {
        url: "https://restapi.amap.com/v3/place/polygon",
        queryParameters: _0x6126cd,
        ...this.options
      };
      const _0x170f87 = await fetchJson$2(_0x99958a);
      if (_0x170f87.infocode !== "10000") {
        if (_0x4840b1.error) {
          const _0x54595a = "POI 请求失败(" + _0x170f87.infocode + ")：" + _0x170f87.info;
          _0x4840b1.error(_0x54595a);
        }
        return;
      }
      if (!_0x170f87.pois) {
        if (_0x4840b1.error) {
          _0x4840b1.error("未查询到相关结果！", _0x170f87);
        }
        return;
      }
      const _0x15c9cf = this._formatPOIData(_0x170f87.pois);
      let _0x268226;
      if (_0x4840b1.limit) {
        _0x268226 = this._filterPOIData_polygon(_0x15c9cf, _0x53d7dd);
      } else {
        _0x268226 = _0x15c9cf;
      }
      const _0x45846b = {
        allcount: _0x170f87.count,
        count: _0x268226.length,
        list: _0x268226
      };
      const _0x173c07 = _0x45846b;
      return _0x173c07;
    }
  }
  const fetchJson$1 = isMarsOnline ? Cesium__namespace.Resource.fetchJson : Cesium__namespace.Resource.fetchJsonp;
  class BaiduPOI extends BaseQueryPOI {
    constructor(_0x2c577a = {}) {
      super(_0x2c577a);
      if (!this._keys) {
        this._keys = baiduArr;
      }
      this._city = _0x2c577a.city || "全国";
    }
    _formatPOIDataItem(_0x5719b8) {
      let _0x15c10f = [];
      if (_0x5719b8.location) {
        _0x15c10f = [_0x5719b8.location.lng, _0x5719b8.location.lat];
        if (this._isWgs84) {
          _0x15c10f = gcj2wgs(_0x15c10f);
        }
      }
      const _0x437988 = {
        id: _0x5719b8.uid,
        name: _0x5719b8.name,
        lng: _0x15c10f[0],
        lat: _0x15c10f[1],
        type: _0x5719b8.detail_info?.tag ?? _0x5719b8.tag,
        xzqh: _0x5719b8.province + _0x5719b8.city + (_0x5719b8.district || _0x5719b8.area || ""),
        address: _0x5719b8.address,
        tel: _0x5719b8.telephone || "",
        detailUrl: _0x5719b8.detail_info?.detail_url,
        info: _0x5719b8,
        detail_info: _0x5719b8.detail_info
      };
      return _0x437988;
    }
    async _getAddress(_0x52013c) {
      const _0x27e757 = {
        ak: this.key,
        location: _0x52013c.location.lat + "," + _0x52013c.location.lng,
        output: "json",
        language: "zh-CN",
        coordtype: "wgs84ll",
        ret_coordtype: "gcj02ll"
      };
      const _0x328287 = _0x27e757;
      const _0x3c9883 = {
        url: "https://api.map.baidu.com/reverse_geocoding/v3/",
        ...this.options
      };
      _0x3c9883.queryParameters = _0x328287;
      const _0x14128d = await fetchJson$1(_0x3c9883);
      if (_0x14128d.status !== 0) {
        logInfo("未查询到相关结果！", _0x14128d);
        return;
      }
      const _0x3aad09 = _0x14128d.result;
      const _0xada981 = {
        address: _0x3aad09.formatted_address,
        city: _0x3aad09.cityCode,
        component: _0x3aad09.addressComponent
      };
      return _0xada981;
    }
    async _autoTip(_0xd5edb1) {
      const _0x5588b5 = {
        ak: this.key,
        output: "json",
        ret_coordtype: "gcj02ll"
      };
      const _0x3a26ee = _0x5588b5;
      if (Cesium__namespace.defined(this._city)) {
        _0x3a26ee.region = this._city;
        _0x3a26ee.city_limit = true;
      }
      if (Cesium__namespace.defined(_0xd5edb1.city)) {
        _0x3a26ee.region = _0xd5edb1.city;
        _0x3a26ee.city_limit = true;
      }
      if (Cesium__namespace.defined(_0xd5edb1.citylimit)) {
        _0x3a26ee.city_limit = _0xd5edb1.citylimit;
      }
      if (_0xd5edb1.text) {
        _0x3a26ee.query = this._getKeywords(_0xd5edb1.text);
      }
      if (_0xd5edb1.location) {
        _0x3a26ee.coord_type = 1;
        _0x3a26ee.location = _0xd5edb1.location.lat + "," + _0xd5edb1.location.lng;
      }
      const _0x12992d = {
        url: "https://api.map.baidu.com/place/v2/suggestion",
        ...this.options
      };
      _0x12992d.queryParameters = _0x3a26ee;
      const _0x313ca1 = await fetchJson$1(_0x12992d);
      if (_0x313ca1.status !== 0) {
        logInfo("未查询到相关结果！", _0x313ca1);
        return;
      }
      const _0xa31c79 = this._formatPOIData(_0x313ca1.result);
      const _0x5f1e5a = {
        allcount: _0x313ca1.total,
        count: _0xa31c79.length,
        list: _0xa31c79
      };
      const _0x122367 = _0x5f1e5a;
      return _0x122367;
    }
    async _detail(_0x7aac72) {
      const _0x20bd7c = {
        ak: this.key,
        output: "json",
        ret_coordtype: "gcj02ll",
        uid: _0x7aac72.id
      };
      const _0x58853c = _0x20bd7c;
      const _0xedeea5 = {
        url: "https://api.map.baidu.com/place/v2/detail",
        queryParameters: _0x58853c,
        ...this.options
      };
      const _0x1ce276 = await fetchJson$1(_0xedeea5);
      if (_0x1ce276.status !== 0) {
        logInfo("未查询到相关结果！", _0x1ce276);
        return;
      }
      return _0x1ce276;
    }
    async _queryText(_0x50e221) {
      const _0x3544cb = {
        ak: this.key,
        output: "json",
        ret_coordtype: "gcj02ll",
        scope: 2,
        page_num: _0x50e221.page || 0,
        page_size: _0x50e221.count || 20,
        tag: _0x50e221.types || ""
      };
      const _0x27f760 = _0x3544cb;
      if (Cesium__namespace.defined(this._city)) {
        _0x27f760.region = this._city;
        _0x27f760.city_limit = true;
      }
      if (Cesium__namespace.defined(_0x50e221.city)) {
        _0x27f760.region = _0x50e221.city;
        _0x27f760.city_limit = true;
      }
      if (Cesium__namespace.defined(_0x50e221.citylimit)) {
        _0x27f760.city_limit = _0x50e221.citylimit;
      }
      if (_0x50e221.text) {
        _0x27f760.query = this._getKeywords(_0x50e221.text);
      }
      if (_0x50e221.location) {
        _0x27f760.coord_type = 1;
        const _0x70ccce = LngLatPoint.parse(_0x50e221.location);
        _0x27f760.location = _0x70ccce.lat + "," + _0x70ccce.lng;
      }
      if (Cesium__namespace.defined(_0x50e221.radius)) {
        if (_0x50e221.radius > 5000000) {
          delete _0x27f760.location;
        } else {
          _0x27f760.radius = _0x50e221.radius;
        }
        if (Cesium__namespace.defined(_0x50e221.radiuslimit)) {
          _0x27f760.radius_limit = _0x50e221.radiuslimit;
        }
      }
      const _0x140b60 = {
        url: "https://api.map.baidu.com/place/v2/search",
        ...this.options
      };
      _0x140b60.queryParameters = _0x27f760;
      const _0x3818bf = await fetchJson$1(_0x140b60);
      if (_0x3818bf.status !== 0) {
        const _0x4f0753 = "POI 请求失败(" + _0x3818bf.status + ")：" + _0x3818bf.message;
        if (_0x50e221.error) {
          _0x50e221.error(_0x4f0753);
        }
        return;
      }
      if (!_0x3818bf.results || _0x3818bf.result_type === "city_type" || _0x3818bf.results.length === 0) {
        if (_0x50e221._sendCount) {
          const _0x11ae65 = {
            allcount: 0,
            count: 0,
            list: []
          };
          return _0x11ae65;
        } else {
          delete _0x50e221.radius;
          delete _0x50e221.location;
          _0x50e221._sendCount = 1;
          return this.queryText(_0x50e221);
        }
      }
      const _0x3fde69 = this._formatPOIData(_0x3818bf.results);
      const _0x37b700 = {
        allcount: _0x3818bf.total,
        count: _0x3fde69.length,
        list: _0x3fde69
      };
      const _0x1bc907 = _0x37b700;
      return _0x1bc907;
    }
    async _queryCircle(_0x517cad) {
      const _0x6de249 = {
        ak: this.key,
        output: "json",
        ret_coordtype: "gcj02ll",
        scope: 2,
        radius: _0x517cad.radius || 3000,
        radius_limit: _0x517cad.limit ?? false,
        page_num: _0x517cad.page || 0,
        page_size: _0x517cad.count || 20,
        tag: _0x517cad.types || ""
      };
      const _0x6d3e4 = _0x6de249;
      _0x6d3e4.coord_type = 1;
      _0x6d3e4.location = _0x517cad.location.lat + "," + _0x517cad.location.lng;
      if (_0x517cad.text) {
        _0x6d3e4.query = this._getKeywords(_0x517cad.text);
      } else {
        _0x6d3e4.query = "生活服务,旅游景点,交通设施,政府机构,行政地标";
      }
      const _0x590067 = {
        url: "https://api.map.baidu.com/place/v2/search",
        ...this.options
      };
      _0x590067.queryParameters = _0x6d3e4;
      const _0x228dff = await fetchJson$1(_0x590067);
      if (_0x228dff.status !== 0) {
        const _0x3aa1cd = "POI 请求失败(" + _0x228dff.status + ")：" + _0x228dff.message;
        if (_0x517cad.error) {
          _0x517cad.error(_0x3aa1cd);
        }
        return;
      }
      if (!_0x228dff.results || _0x228dff.result_type === "city_type" || _0x228dff.results.length === 0) {
        if (_0x517cad.error) {
          _0x517cad.error("未查询到相关结果！", _0x228dff);
        }
        return;
      }
      const _0x1b21c3 = this._formatPOIData(_0x228dff.results);
      let _0x349b9d;
      if (_0x517cad.limit) {
        _0x349b9d = this._filterPOIData_circle(_0x1b21c3, _0x517cad.location, _0x6d3e4.radius);
      } else {
        _0x349b9d = _0x1b21c3;
      }
      const _0x4a5753 = {
        allcount: _0x228dff.total,
        count: _0x349b9d.length,
        list: _0x349b9d
      };
      const _0x1c33f0 = _0x4a5753;
      return _0x1c33f0;
    }
    async _queryPolygon(_0x2b4a7e) {
      const _0x40fe40 = {
        ak: this.key,
        output: "json",
        ret_coordtype: "gcj02ll",
        scope: 2,
        radius: _0x2b4a7e.radius || 3000,
        radius_limit: _0x2b4a7e.limit ?? false,
        page_num: _0x2b4a7e.page || 0,
        page_size: _0x2b4a7e.count || 20,
        tag: _0x2b4a7e.types || ""
      };
      const _0x45adc7 = _0x40fe40;
      const _0x264ebf = _0x2b4a7e.polygon;
      let _0x1e9b6f = _0x264ebf;
      if (_0x264ebf.length === 2) {
        const _0xe13a7b = _0x264ebf[0][0];
        const _0x36c4b1 = _0x264ebf[1][0];
        const _0x25e88b = _0x264ebf[0][1];
        const _0x5c6f6 = _0x264ebf[1][1];
        const _0x449be5 = (_0xe13a7b + _0x36c4b1) / 2;
        const _0x10f9da = (_0x25e88b + _0x5c6f6) / 2;
        _0x1e9b6f = [[_0xe13a7b, _0x5c6f6], [_0xe13a7b, _0x25e88b], [_0x36c4b1, _0x25e88b], [_0x36c4b1, _0x5c6f6], [_0xe13a7b, _0x5c6f6]];
        _0x45adc7.coord_type = 1;
        _0x45adc7.location = _0x10f9da + "," + _0x449be5;
        _0x45adc7.radius = Math.max(getDistance([[_0x449be5, _0x10f9da], _0x264ebf[0]]), getDistance([[_0x449be5, _0x10f9da], _0x264ebf[1]]));
      } else {
        const _0x2a7b3c = {
          type: "LineString",
          coordinates: _0x264ebf
        };
        const _0x36b5c4 = {
          type: "Feature",
          properties: {},
          geometry: _0x2a7b3c
        };
        const _0x2ab684 = getExtentByGeoJSON(_0x36b5c4);
        const _0x37f9d8 = (_0x2ab684.xmin + _0x2ab684.xmax) / 2;
        const _0x2af74a = (_0x2ab684.ymin + _0x2ab684.ymax) / 2;
        _0x45adc7.coord_type = 1;
        _0x45adc7.location = _0x2af74a + "," + _0x37f9d8;
        _0x45adc7.radius = Math.max(getDistance([[_0x37f9d8, _0x2af74a], [_0x2ab684.xmin, _0x2ab684.ymin]]), getDistance([[_0x37f9d8, _0x2af74a], [_0x2ab684.xmax, _0x2ab684.ymax]]));
      }
      if (_0x2b4a7e.text) {
        _0x45adc7.query = this._getKeywords(_0x2b4a7e.text);
      } else {
        _0x45adc7.query = "生活服务,旅游景点,交通设施,政府机构,行政地标";
      }
      const _0x416102 = {
        url: "https://api.map.baidu.com/place/v2/search",
        queryParameters: _0x45adc7,
        ...this.options
      };
      const _0x99170e = await fetchJson$1(_0x416102);
      if (_0x99170e.status !== 0) {
        const _0x29c06c = "POI 请求失败(" + _0x99170e.status + ")：" + _0x99170e.message;
        if (_0x2b4a7e.error) {
          _0x2b4a7e.error(_0x29c06c);
        }
        return;
      }
      if (!_0x99170e.results || _0x99170e.result_type === "city_type" || _0x99170e.results.length === 0) {
        if (_0x2b4a7e.error) {
          _0x2b4a7e.error("未查询到相关结果！", _0x99170e);
        }
        return;
      }
      const _0x75c69d = this._formatPOIData(_0x99170e.results);
      let _0x591e13;
      if (_0x2b4a7e.limit) {
        _0x591e13 = this._filterPOIData_polygon(_0x75c69d, _0x1e9b6f);
      } else {
        _0x591e13 = _0x75c69d;
      }
      const _0x4e3617 = {
        allcount: _0x99170e.total,
        count: _0x591e13.length,
        list: _0x591e13
      };
      const _0x217109 = _0x4e3617;
      return _0x217109;
    }
  }
  class TdtPOI extends BaseQueryPOI {
    constructor(_0x5ebec4 = {}) {
      super(_0x5ebec4);
      if (!this._keys) {
        this._keys = tiandituArr;
      }
    }
    _formatPOIData(_0x33e522) {
      const _0x408aaf = [];
      for (let _0x56875b = 0; _0x56875b < _0x33e522.length; _0x56875b++) {
        const _0x54831f = _0x33e522[_0x56875b];
        let _0x11c783 = [];
        if (_0x54831f.lonlat && _0x54831f.lonlat.length > 0) {
          _0x11c783 = _0x54831f.lonlat.split(",");
        }
        _0x408aaf.push({
          id: _0x54831f.hotPointID,
          name: _0x54831f.name,
          lng: Number(_0x11c783[0]),
          lat: Number(_0x11c783[1]),
          type: _0x54831f.typeName,
          xzqh: _0x54831f.province + _0x54831f.city + _0x54831f.county,
          address: _0x54831f.address,
          tel: _0x54831f.phone || "",
          info: _0x54831f
        });
      }
      return _0x408aaf;
    }
    async _getAddress(_0x4cb9e2) {
      const _0x467b7d = {
        ver: 1,
        lon: _0x4cb9e2.location.lng,
        lat: _0x4cb9e2.location.lat
      };
      const _0x36b465 = _0x467b7d;
      const _0x2ed94b = await sendAjax({
        url: "http://api.tianditu.gov.cn/geocoder",
        ...this.options,
        queryParameters: {
          type: "geocode",
          tk: this.key,
          postStr: JSON.stringify(_0x36b465)
        }
      });
      const _0x46bbeb = _0x2ed94b?.result;
      if (!_0x46bbeb) {
        logInfo("未查询到相关结果！", _0x2ed94b);
        return;
      }
      const _0x356bfe = {
        address: _0x46bbeb.formatted_address,
        city: (_0x46bbeb.addressComponent?.county_code || "").replace("156", ""),
        component: _0x46bbeb.addressComponent
      };
      return _0x356bfe;
    }
    async _autoTip(_0x109376) {
      const _0x4fbe24 = {
        queryType: 7,
        show: 1,
        level: _0x109376.level || 18,
        mapBound: "70,18,134,51",
        start: 0,
        count: 10
      };
      const _0x219d60 = _0x4fbe24;
      if (Cesium__namespace.defined(_0x109376.extent)) {
        _0x219d60.mapBound = _0x109376.extent.xmin + "," + _0x109376.extent.ymin + "," + _0x109376.extent.xmax + "," + _0x109376.extent.ymax;
      }
      if (Cesium__namespace.defined(_0x109376.city)) {
        _0x219d60.specify = "156" + _0x109376.city;
      }
      if (Cesium__namespace.defined(_0x109376.types)) {
        _0x219d60.dataTypes = _0x109376.types;
      }
      if (_0x109376.text) {
        _0x219d60.keyWord = this._getKeywords(_0x109376.text);
      }
      const _0x165df5 = await fetchJson$2({
        url: "http://api.tianditu.gov.cn/v2/search",
        queryParameters: {
          type: "query",
          tk: this.key,
          postStr: JSON.stringify(_0x219d60)
        },
        ...this.options
      });
      if (_0x165df5.status?.infocode !== 1000) {
        logInfo("未查询到相关结果！", _0x165df5);
        if (_0x109376.error) {
          _0x109376.error(_0x165df5.status.cndesc, _0x165df5);
        }
        return;
      }
      if (!_0x165df5.pois) {
        if (_0x109376.error) {
          _0x109376.error("未查询到相关结果！", _0x165df5);
        }
        return;
      }
      const _0x5e8302 = this._formatPOIData(_0x165df5.pois);
      const _0x384bb1 = {
        allcount: _0x165df5.count,
        count: _0x5e8302.length,
        list: _0x5e8302
      };
      const _0xc64674 = _0x384bb1;
      return _0xc64674;
    }
    async _detail(_0x5a4e12) {}
    async _queryText(_0x42f742) {
      const _0x25fb98 = _0x42f742.count || 20;
      const _0x158007 = {
        queryType: 1,
        show: 2,
        level: _0x42f742.level || 18,
        mapBound: "70,18,134,51",
        start: (_0x42f742.page || 0) * _0x25fb98,
        count: _0x25fb98
      };
      const _0x56dca3 = _0x158007;
      if (Cesium__namespace.defined(_0x42f742.extent)) {
        _0x56dca3.mapBound = _0x42f742.extent.xmin + "," + _0x42f742.extent.ymin + "," + _0x42f742.extent.xmax + "," + _0x42f742.extent.ymax;
      }
      if (Cesium__namespace.defined(_0x42f742.city)) {
        _0x56dca3.specify = "156" + _0x42f742.city;
      }
      if (Cesium__namespace.defined(_0x42f742.types)) {
        _0x56dca3.dataTypes = _0x42f742.types;
      }
      if (_0x42f742.text) {
        _0x56dca3.keyWord = this._getKeywords(_0x42f742.text);
      }
      const _0x32b26c = await fetchJson$2({
        url: "http://api.tianditu.gov.cn/v2/search",
        queryParameters: {
          type: "query",
          tk: this.key,
          postStr: JSON.stringify(_0x56dca3)
        },
        ...this.options
      });
      if (_0x32b26c.status?.infocode !== 1000) {
        logInfo("未查询到相关结果！", _0x32b26c);
        if (_0x42f742.error) {
          _0x42f742.error(_0x32b26c.status.cndesc, _0x32b26c);
        }
        return;
      }
      if (!_0x32b26c.pois) {
        if (_0x42f742.error) {
          _0x42f742.error("未查询到相关结果！", _0x32b26c);
        }
        return;
      }
      const _0x16210c = this._formatPOIData(_0x32b26c.pois);
      const _0x21da76 = {
        allcount: _0x32b26c.count,
        count: _0x16210c.length,
        list: _0x16210c
      };
      const _0xc8c7c4 = _0x21da76;
      return _0xc8c7c4;
    }
    async _queryCircle(_0x2dbf53) {
      const _0x34fbc0 = _0x2dbf53.count || 20;
      const _0xcdcb88 = {
        queryType: 3,
        show: 2,
        queryRadius: formatNum$1(_0x2dbf53.radius || 3000, 0),
        start: (_0x2dbf53.page || 0) * _0x34fbc0,
        count: _0x34fbc0
      };
      _0x2dbf53.location = LngLatPoint.parse(_0x2dbf53.location);
      _0xcdcb88.pointLonlat = _0x2dbf53.location.lng + "," + _0x2dbf53.location.lat;
      if (Cesium__namespace.defined(_0x2dbf53.types)) {
        _0xcdcb88.dataTypes = _0x2dbf53.types;
      }
      if (_0x2dbf53.text) {
        _0xcdcb88.keyWord = this._getKeywords(_0x2dbf53.text);
      }
      const _0xb5c4ae = await fetchJson$2({
        url: "http://api.tianditu.gov.cn/v2/search",
        queryParameters: {
          type: "query",
          tk: this.key,
          postStr: JSON.stringify(_0xcdcb88)
        },
        ...this.options
      });
      if (_0xb5c4ae.status?.infocode !== 1000) {
        if (_0x2dbf53.error) {
          _0x2dbf53.error(_0xb5c4ae.status.cndesc, _0xb5c4ae);
        }
        return;
      }
      if (!_0xb5c4ae.pois) {
        if (_0x2dbf53.error) {
          _0x2dbf53.error("未查询到相关结果！", _0xb5c4ae);
        }
        return;
      }
      const _0x122153 = this._formatPOIData(_0xb5c4ae.pois);
      let _0x1f6044;
      if (_0x2dbf53.limit) {
        _0x1f6044 = this._filterPOIData_circle(_0x122153, _0x2dbf53.location, _0xcdcb88.radius);
      } else {
        _0x1f6044 = _0x122153;
      }
      const _0x536b8d = {
        allcount: _0xb5c4ae.count,
        count: _0x1f6044.length,
        list: _0x1f6044
      };
      const _0x2da119 = _0x536b8d;
      return _0x2da119;
    }
    async _queryPolygon(_0x3cb476) {
      const _0x753a00 = _0x3cb476.count || 20;
      const _0x17e68e = {
        queryType: 10,
        show: 2,
        start: (_0x3cb476.page || 0) * _0x753a00,
        count: _0x753a00
      };
      const _0x59840a = _0x17e68e;
      const _0x53dabf = LngLatArray.toArray(_0x3cb476.polygon);
      if (_0x53dabf.length === 2) {
        _0x3cb476.extent = _0x3cb476.polygon;
        return await this._queryExtent(_0x3cb476);
      }
      let _0x51d013 = "";
      const _0x3f145f = _0x53dabf.concat([_0x53dabf[0]]);
      for (let _0x38e753 = 0; _0x38e753 < _0x3f145f.length; _0x38e753++) {
        const _0x2d96b0 = _0x3f145f[_0x38e753];
        if (_0x38e753 === _0x3f145f.length - 1) {
          _0x51d013 += _0x2d96b0[0] + "," + _0x2d96b0[1];
        } else {
          _0x51d013 += _0x2d96b0[0] + "," + _0x2d96b0[1] + ",";
        }
      }
      _0x59840a.polygon = _0x51d013;
      if (Cesium__namespace.defined(_0x3cb476.types)) {
        _0x59840a.dataTypes = _0x3cb476.types;
      }
      if (_0x3cb476.text) {
        _0x59840a.keyWord = this._getKeywords(_0x3cb476.text);
      }
      const _0xfbe285 = await fetchJson$2({
        url: "http://api.tianditu.gov.cn/v2/search",
        queryParameters: {
          type: "query",
          tk: this.key,
          postStr: JSON.stringify(_0x59840a)
        },
        ...this.options
      });
      if (_0xfbe285.status?.infocode !== 1000) {
        if (_0x3cb476.error) {
          _0x3cb476.error(_0xfbe285.status.cndesc, _0xfbe285);
        }
        return;
      }
      if (!_0xfbe285.pois) {
        if (_0x3cb476.error) {
          _0x3cb476.error("未查询到相关结果！", _0xfbe285);
        }
        return;
      }
      const _0x78285e = this._formatPOIData(_0xfbe285.pois);
      let _0x485e0f;
      if (_0x3cb476.limit) {
        _0x485e0f = this._filterPOIData_polygon(_0x78285e, _0x53dabf);
      } else {
        _0x485e0f = _0x78285e;
      }
      const _0x189839 = {
        allcount: _0xfbe285.count,
        count: _0x485e0f.length,
        list: _0x485e0f
      };
      const _0x49563c = _0x189839;
      return _0x49563c;
    }
    async _queryExtent(_0x468a69) {
      const _0x42a530 = _0x468a69.count || 20;
      const _0x30fea7 = {
        queryType: 2,
        show: 2,
        level: 18,
        start: (_0x468a69.page || 0) * _0x42a530,
        count: _0x42a530
      };
      const _0x539fed = _0x30fea7;
      const _0x250738 = _0x468a69.extent;
      if (_0x250738.length === 2) {
        const _0x35d648 = _0x468a69.extent[0];
        const _0x110ba3 = _0x468a69.extent[1];
        _0x539fed.mapBound = _0x35d648[0] + "," + _0x35d648[1] + "," + _0x110ba3[0] + "," + _0x110ba3[1];
      }
      if (_0x250738.xmin) {
        _0x539fed.mapBound = _0x250738.xmin + "," + _0x250738.ymin + "," + _0x250738.xmax + "," + _0x250738.ymax;
      }
      if (Cesium__namespace.defined(_0x468a69.types)) {
        _0x539fed.dataTypes = _0x468a69.types;
      }
      if (_0x468a69.text) {
        _0x539fed.keyWord = this._getKeywords(_0x468a69.text);
      } else if (!_0x539fed.dataTypes) {
        _0x539fed.dataTypes = "190100,20010,260100";
      }
      const _0x37c495 = await fetchJson$2({
        url: "http://api.tianditu.gov.cn/v2/search",
        queryParameters: {
          type: "query",
          tk: this.key,
          postStr: JSON.stringify(_0x539fed)
        },
        ...this.options
      });
      if (_0x37c495.status?.infocode !== 1000) {
        if (_0x468a69.error) {
          _0x468a69.error(_0x37c495.status.cndesc, _0x37c495);
        }
        return;
      }
      if (!_0x37c495.pois) {
        if (_0x468a69.error) {
          _0x468a69.error("未查询到相关结果！", _0x37c495);
        }
        return;
      }
      const _0x2ac0e6 = this._formatPOIData(_0x37c495.pois);
      const _0x493a13 = {
        allcount: _0x37c495.count,
        count: _0x2ac0e6.length,
        list: _0x2ac0e6
      };
      const _0x32be17 = _0x493a13;
      return _0x32be17;
    }
  }
  class QueryPOI {
    constructor(_0x14fddc = {}) {
      this.setOptions(_0x14fddc);
    }
    setOptions(_0x532b97) {
      this.options = {
        ...this.options,
        ..._0x532b97
      };
      switch (_0x532b97.service) {
        case QueryServiceType.TDT:
          this._service = new TdtPOI(_0x532b97);
          break;
        case QueryServiceType.BAIDU:
          this._service = new BaiduPOI(_0x532b97);
          break;
        case QueryServiceType.GAODE:
        default:
          this._service = new GaodePOI(_0x532b97);
          break;
      }
    }
    getAddress(_0x30c39c) {
      if (this._getAddress_ing) {
        return Promise.resolve();
      }
      _0x30c39c.location = LngLatPoint.parse(_0x30c39c.location);
      this._getAddress_ing = true;
      return this._service._getAddress(_0x30c39c).then(_0x4d9d1a => {
        this._getAddress_ing = false;
        if (_0x30c39c.success) {
          _0x30c39c.success(_0x4d9d1a);
        }
        return _0x4d9d1a;
      }).catch(_0x2dd694 => {
        this._getAddress_ing = false;
        logError("QueryPOI 请求出错", _0x2dd694);
        if (_0x30c39c.error) {
          _0x30c39c.error("请求出错", _0x2dd694);
        }
        throw _0x2dd694;
      });
    }
    autoTip(_0x5c1877) {
      _0x5c1877.location &&= LngLatPoint.parse(_0x5c1877.location);
      return this._service._autoTip(_0x5c1877).then(_0x30f235 => {
        if (_0x5c1877.success) {
          _0x5c1877.success(_0x30f235);
        }
        return _0x30f235;
      }).catch(_0x492d71 => {
        logError("QueryPOI 请求出错", _0x492d71);
        if (_0x5c1877.error) {
          _0x5c1877.error("请求出错", _0x492d71);
        }
        throw _0x492d71;
      });
    }
    detail(_0x2cd406) {
      return this._service._detail(_0x2cd406).then(_0x3683a7 => {
        if (_0x2cd406.success) {
          _0x2cd406.success(_0x3683a7);
        }
        return _0x3683a7;
      }).catch(_0x1c4471 => {
        logError("QueryPOI 请求出错", _0x1c4471);
        if (_0x2cd406.error) {
          _0x2cd406.error("请求出错", _0x1c4471);
        }
        throw _0x1c4471;
      });
    }
    query(_0xc7ef98) {
      const _0x241fc9 = _0xc7ef98.graphic;
      if (_0x241fc9) {
        if (_0x241fc9.type === "rectangle") {
          _0xc7ef98.polygon = _0x241fc9.outlineCoordinates;
          return this.queryPolygon(_0xc7ef98);
        } else if (_0x241fc9.type === "polygon") {
          _0xc7ef98.polygon = _0x241fc9.coord;
          return this.queryPolygon(_0xc7ef98);
        } else if (_0x241fc9.type === "circle") {
          _0xc7ef98.location = _0x241fc9.point;
          _0xc7ef98.radius = _0x241fc9.radius;
          return this.queryCircle(_0xc7ef98);
        } else {
          return Promise.resolve();
        }
      } else if (_0xc7ef98.polygon) {
        return this.queryPolygon(_0xc7ef98);
      } else {
        return this.queryText(_0xc7ef98);
      }
    }
    queryText(_0x179e13) {
      return this._service._queryText(_0x179e13).then(_0x37aa52 => {
        if (_0x179e13.success) {
          _0x179e13.success(_0x37aa52);
        }
        return _0x37aa52;
      }).catch(_0xc95135 => {
        logError("QueryPOI 请求出错", _0xc95135);
        if (_0x179e13.error) {
          _0x179e13.error("请求出错", _0xc95135);
        }
        throw _0xc95135;
      });
    }
    queryCircle(_0xd1637) {
      if (_0xd1637.location) {
        _0xd1637.location = LngLatPoint.parse(_0xd1637.location);
      } else {
        logError("QueryPOI: 请传入参location数");
      }
      return this._service._queryCircle(_0xd1637).then(_0x343e38 => {
        if (_0xd1637.success) {
          _0xd1637.success(_0x343e38);
        }
        return _0x343e38;
      }).catch(_0x3079f0 => {
        logError("QueryPOI 请求出错", _0x3079f0);
        if (_0xd1637.error) {
          _0xd1637.error("请求出错", _0x3079f0);
        }
        throw _0x3079f0;
      });
    }
    queryPolygon(_0x2400d3) {
      return this._service._queryPolygon(_0x2400d3).then(_0xbdc26d => {
        if (_0x2400d3.success) {
          _0x2400d3.success(_0xbdc26d);
        }
        return _0xbdc26d;
      }).catch(_0x5ede2a => {
        logError("QueryPOI 请求出错", _0x5ede2a);
        if (_0x2400d3.error) {
          _0x2400d3.error("请求出错", _0x5ede2a);
        }
        throw _0x5ede2a;
      });
    }
    queryExtent(_0x8cedf4) {
      if (this._service._queryExtent) {
        return this._service._queryExtent(_0x8cedf4).then(_0x4ecf77 => {
          if (_0x8cedf4.success) {
            _0x8cedf4.success(_0x4ecf77);
          }
          return _0x4ecf77;
        }).catch(_0x169ab8 => {
          logError("QueryPOI 请求出错", _0x169ab8);
          if (_0x8cedf4.error) {
            _0x8cedf4.error("请求出错", _0x169ab8);
          }
          throw _0x169ab8;
        });
      } else {
        const _0x4495a3 = _0x8cedf4.extent;
        return this.queryPolygon({
          ..._0x8cedf4,
          polygon: Array.isArray(_0x4495a3) ? _0x4495a3 : [[_0x4495a3.xmin, _0x4495a3.ymax], [_0x4495a3.xmax, _0x4495a3.ymin]]
        });
      }
    }
  }
  class PoiLayer extends LodGraphicLayer {
    constructor(_0x33bdf0 = {}) {
      super(_0x33bdf0);
      this.query = new QueryPOI(_0x33bdf0);
      if (!this.options.popup) {
        const _0x2c2c0c = {
          offsetY: -10
        };
        this.bindPopup(function (_0x22404e) {
          var _0x1058fd;
          const _0xb06faa = _0x22404e === null || _0x22404e === undefined || (_0x1058fd = _0x22404e.graphic) === null || _0x1058fd === undefined ? undefined : _0x1058fd.attr;
          if (!_0xb06faa) {
            return;
          }
          const _0x3eff5e = "<div>名称：" + _0xb06faa.name + "</div><div>地址：" + _0xb06faa.address + "</div><div>区域：" + _0xb06faa.xzqh + "</div><div>类别：" + _0xb06faa.type + "</div>";
          return _0x3eff5e;
        }, _0x2c2c0c);
      }
    }
    queryGridData(_0x14cf03) {
      const _0x1f4549 = {
        extent: _0x14cf03.extent,
        count: 25
      };
      return this.query.queryExtent(_0x1f4549).then(_0x5f2e80 => {
        _0x14cf03.list = _0x5f2e80?.list || [];
        return _0x14cf03;
      });
    }
    createGraphic(_0x2a7166, _0x10b578) {
      const _0x38659c = getSymbolStyle(this.options.symbol, _0x10b578);
      _0x38659c.clampToGround = _0x38659c.clampToGround ?? true;
      const _0x31441 = this.addGraphic({
        type: this.options.symbol?.type ?? (_0x38659c.image ? "billboardP" : "pointP"),
        position: [_0x10b578.lng, _0x10b578.lat, this.options.height || 0],
        style: _0x38659c,
        attr: _0x10b578
      });
      return _0x31441;
    }
  }
  register$3("poi", PoiLayer);
  class WfsLayer extends LodGraphicLayer {
    _mountedHook() {
      this.options.geometryName = this.options.geometryName || "the_geom";
      super._mountedHook();
      if (this.options.getCapabilities ?? true) {
        this.getMetadata();
      }
    }
    getMetadata() {
      const _0x2880c1 = {
        version: "1.0.0",
        ...this.options.parameters
      };
      _0x2880c1.service = "WFS";
      _0x2880c1.request = "GetCapabilities";
      const _0x489e79 = _0x2880c1;
      Cesium__namespace.Resource.fetchXML({
        ...this.options,
        url: this.getUrl(),
        queryParameters: _0x489e79,
        proxy: this._proxy
      }).then(_0x2b04ab => {
        if (!_0x2b04ab || this.isDestroy) {
          return;
        }
        this.capabilities = _0x2b04ab;
        try {
          this._initByMetaData(_0x2b04ab);
        } catch (_0x175cee) {
          logInfo("解析GetCapabilities出错", _0x175cee);
        }
        const _0x1a90ff = {
          capabilities: _0x2b04ab
        };
        this.fire(EventType.loadConfig, _0x1a90ff);
      }).catch(_0x52d679 => {
        if (_0x52d679) {
          logInfo("wfs请求GetCapabilities出错", _0x52d679);
        }
      });
    }
    _initByMetaData(_0x223cac) {
      const _0x3908d9 = this._readChildNode(_0x223cac, "FeatureTypeList");
      if (!_0x3908d9) {
        return;
      }
      const _0x1548ba = this._readNode(_0x3908d9, "FeatureType");
      if (!_0x1548ba) {
        return;
      }
      for (let _0x12d726 = 0, _0x17e307 = _0x1548ba.length; _0x12d726 < _0x17e307; _0x12d726++) {
        const _0x5cd9d4 = _0x1548ba[_0x12d726];
        const _0x54b131 = this._readChildNodeVal(_0x5cd9d4, "Name");
        if (_0x54b131 === this.options.layer || this.options.layer.endsWith(":" + _0x54b131)) {
          const _0x40bcad = this._readChildNodeVal(_0x5cd9d4, "SRS");
          if (!this.options.crs && _0x40bcad) {
            this.options.crs = _0x40bcad;
          }
          const _0x354a37 = this._readChildNode(_0x5cd9d4, "LatLongBoundingBox");
          if (!this.options.rectangle && _0x354a37) {
            const _0x2542a6 = Number(_0x354a37.getAttribute("minx"));
            const _0x52be19 = Number(_0x354a37.getAttribute("miny"));
            const _0x2ff3e1 = Number(_0x354a37.getAttribute("maxx"));
            const _0x32a617 = Number(_0x354a37.getAttribute("maxy"));
            this._setExtent(_0x2542a6, _0x52be19, _0x2ff3e1, _0x32a617);
            if (this.options.flyTo) {
              this.flyTo();
            }
          }
          break;
        }
      }
    }
    _readNode(_0x34814f, _0x12d9d8) {
      if (!_0x34814f) {
        return null;
      }
      let _0x1a3ef3 = _0x34814f.getElementsByTagName(_0x12d9d8);
      if (!_0x1a3ef3 || _0x1a3ef3.length === 0) {
        _0x1a3ef3 = _0x34814f.getElementsByTagName("wfs:" + _0x12d9d8);
      }
      return _0x1a3ef3;
    }
    _readChildNode(_0x2ab9ae, _0x33d421) {
      if (!_0x2ab9ae) {
        return null;
      }
      const _0x568351 = this._readNode(_0x2ab9ae, _0x33d421);
      if (_0x568351.length > 0) {
        return _0x568351[0];
      } else {
        return null;
      }
    }
    _readChildNodeVal(_0xbf746, _0x21815d) {
      var _0x4392a8;
      var _0x262684;
      if (!_0xbf746) {
        return null;
      }
      let _0x34770c = this._readChildNode(_0xbf746, _0x21815d);
      if (!_0x34770c) {
        _0x34770c = this._readChildNode(_0xbf746, "wfs:" + _0x21815d);
      }
      if ((_0x4392a8 = _0x34770c) !== null && _0x4392a8 !== undefined && _0x4392a8.innerHTML) {
        return _0x34770c.innerHTML;
      } else if ((_0x262684 = _0x34770c) !== null && _0x262684 !== undefined && _0x262684.getInnerHTML) {
        return _0x34770c.getInnerHTML();
      } else {
        return null;
      }
    }
    queryGridData(_0x16c1ec) {
      var _0x2b7f49;
      let _0x1f0335;
      if (this.options.crs !== CRS.EPSG4326 && this.options.crs !== CRS.EPSG4490) {
        const _0x2d94a7 = proj4Trans([_0x16c1ec.extent.xmin, _0x16c1ec.extent.ymin], "EPSG:4326", this.options.crs);
        const _0x49db2e = proj4Trans([_0x16c1ec.extent.xmax, _0x16c1ec.extent.ymax], "EPSG:4326", this.options.crs);
        _0x1f0335 = _0x2d94a7[0] + "," + _0x2d94a7[1] + "," + _0x49db2e[0] + "," + _0x49db2e[1];
      } else {
        _0x1f0335 = _0x16c1ec.extent.xmin + "," + _0x16c1ec.extent.ymin + "," + _0x16c1ec.extent.xmax + "," + _0x16c1ec.extent.ymax;
      }
      const _0x213f2b = {
        service: "WFS",
        request: "GetFeature",
        typeName: this.options.layer || this.options.typeName,
        version: "1.0.0",
        outputFormat: "application/json",
        srsName: this.options.crs || "EPSG:4326",
        bbox: _0x1f0335,
        ...this.options.parameters
      };
      const _0x11d96e = _0x213f2b;
      if ((_0x2b7f49 = this.options.parameters) !== null && _0x2b7f49 !== undefined && _0x2b7f49.cql_filter && _0x11d96e.version !== "1.0.0") {
        delete _0x11d96e.bbox;
        _0x11d96e.cql_filter = this.options.parameters.cql_filter + " and BBOX(" + this.options.geometryName + ", " + _0x1f0335 + ")";
      }
      return new Promise((_0x25733f, _0x39ebcf) => {
        const _0x11f1f6 = new Cesium__namespace.Resource({
          ...this.options,
          url: this.getUrl(),
          queryParameters: _0x11d96e,
          proxy: this._proxy
        });
        _0x16c1ec._resource = _0x11f1f6;
        _0x11f1f6.fetchJson().then(_0x18408f => {
          delete _0x16c1ec._resource;
          _0x16c1ec.list = [];
          if (!this._show || !this._cacheGrid[_0x16c1ec.key]) {
            _0x25733f(_0x16c1ec);
            return;
          }
          if (!_0x18408f) {
            _0x25733f(_0x16c1ec);
            return;
          }
          if (_0x18408f.type === "Feature") {
            _0x18408f = {
              type: "FeatureCollection",
              features: [_0x18408f]
            };
          }
          _0x16c1ec.list = _0x18408f.features;
          _0x25733f(_0x16c1ec);
        }).catch(_0x36248e => {
          if (_0x36248e) {
            logError("wfs请求GetFeature出错", _0x36248e);
          }
        });
      });
    }
    createGraphic(_0x29786e, _0x4b39f0) {
      const _0x31e780 = this.loadGeoJSON(_0x4b39f0, {
        clear: false,
        flyTo: false
      });
      if (_0x31e780?.length > 0) {
        return _0x31e780[0];
      } else {
        return null;
      }
    }
  }
  register$3("wfs", WfsLayer);
  class WfsSingleLayer extends GeoJsonLayer {
    load(_0x153efd = {}) {
      this.options = {
        ...this.options,
        ..._0x153efd
      };
      const _0x19832b = {
        service: "WFS",
        request: "GetFeature",
        typeName: this.options.layer || this.options.typeName,
        version: "1.0.0",
        outputFormat: "application/json",
        srsName: this.options.crs || "EPSG:4326",
        ...this.options.parameters
      };
      const _0x384f67 = _0x19832b;
      fetchJson$2({
        ...this.options,
        url: this.getUrl(),
        queryParameters: _0x384f67,
        proxy: this._proxy
      }).then(_0x5ecbcd => {
        if (!_0x5ecbcd) {
          this._readyPromise.resolve(this);
          this.fire(EventType.load);
          return;
        }
        this._load_data(_0x5ecbcd);
        logInfo((this.name || "") + "简单WFS图层加载数据完成，共" + _0x5ecbcd.features?.length + "条数据");
      }).catch(_0x5b5cdd => {
        logError("wfs请求出错", _0x5b5cdd);
      });
    }
  }
  register$3("wfs_single", WfsSingleLayer);
  class ArcGisWfsLayer extends LodGraphicLayer {
    _mountedHook() {
      super._mountedHook();
      this.getMetadata();
    }
    getMetadata() {
      let _0xdceba9 = this.getUrl();
      if (this.options.layers && this.options.layers.length > 0) {
        _0xdceba9 += "/" + this.options.layers[0];
      }
      const _0x44a450 = {
        f: "json"
      };
      if (this.options.token) {
        _0x44a450.token = this.options.token;
      }
      const _0x56ed3b = {
        ...this.options
      };
      _0x56ed3b.url = _0xdceba9;
      _0x56ed3b.queryParameters = _0x44a450;
      _0x56ed3b.proxy = this._proxy;
      sendAjax(_0x56ed3b).then(_0xb52814 => {
        if (!_0xb52814 || this.isDestroy) {
          return;
        }
        this._initByMetaData(_0xb52814);
        this.fire(EventType.loadConfig, _0xb52814);
      }).catch(_0x5041ff => {
        if (_0x5041ff) {
          logInfo("wfs请求getMetadata出错", _0x5041ff);
        }
      });
    }
    _initByMetaData(_0x27c9f9) {
      this.metaData = _0x27c9f9;
      const _0xff069c = _0x27c9f9.fullExtent || _0x27c9f9.extent;
      if (!this.options.rectangle && _0xff069c) {
        var _0x12129d;
        const _0x4b5b78 = (_0xff069c === null || _0xff069c === undefined || (_0x12129d = _0xff069c.spatialReference) === null || _0x12129d === undefined ? undefined : _0x12129d.wkid) || this.options.wkid;
        if (_0x4b5b78) {
          if (!this.options.wkid) {
            this.options.wkid = _0x4b5b78;
          }
        }
        if (this.options.wkid) {
          const _0x53d6ce = "EPSG:" + this.options.wkid;
          this._setExtent(_0xff069c.xmin, _0xff069c.ymin, _0xff069c.xmax, _0xff069c.ymax, _0x53d6ce);
          if (this.options.flyTo) {
            this.flyTo();
          }
        }
      }
    }
    queryGridData(_0x5950dc) {
      let _0x2a96e5 = this.getUrl();
      if (this.options.layers && this.options.layers.length > 0) {
        _0x2a96e5 += "/" + this.options.layers[0];
      }
      const _0x2e70c1 = {
        xmin: _0x5950dc.extent.xmin,
        ymin: _0x5950dc.extent.ymin,
        xmax: _0x5950dc.extent.xmax,
        ymax: _0x5950dc.extent.ymax,
        spatialReference: {
          wkid: 4326
        }
      };
      const _0x512aec = {
        f: this.options.f || "json",
        inSr: 4326,
        outSR: 4326,
        outFields: "*",
        returnGeometry: true,
        where: this.options.where || "1=1",
        geometry: JSON.stringify(_0x2e70c1),
        geometryType: "esriGeometryEnvelope",
        spatialRel: "esriSpatialRelIntersects"
      };
      if (this.options.token) {
        _0x512aec.token = this.options.token;
      }
      return new Promise((_0x137125, _0x301bb5) => {
        const _0x4fca53 = {
          ...this.options
        };
        _0x4fca53.url = _0x2a96e5 + "/query";
        _0x4fca53.queryParameters = _0x512aec;
        _0x4fca53.proxy = this._proxy;
        const _0xef8f16 = new Cesium__namespace.Resource(_0x4fca53);
        _0x5950dc._resource = _0xef8f16;
        _0xef8f16.fetchJson().then(_0x1c78a9 => {
          delete _0x5950dc._resource;
          _0x5950dc.list = [];
          if (!this.show || !this._cacheGrid[_0x5950dc.key]) {
            _0x137125(_0x5950dc);
            return;
          }
          if (_0x1c78a9 === undefined || _0x1c78a9 == null) {
            _0x137125(_0x5950dc);
            return;
          }
          let _0x2bacf6 = arcgisToGeoJSON$1(_0x1c78a9);
          if (_0x2bacf6.type === "Feature") {
            _0x2bacf6 = {
              type: "FeatureCollection",
              features: [_0x2bacf6]
            };
          }
          _0x5950dc.list = _0x2bacf6.features;
          _0x137125(_0x5950dc);
        }).catch(_0x5da818 => {
          if (_0x5da818) {
            logError("wfs请求出错", _0x5da818);
          }
        });
      });
    }
    _getItemDataId(_0x117ffe) {
      var _0x7ef1ff;
      if (_0x117ffe.id) {
        return _0x117ffe.id;
      }
      if (_0x117ffe.type === "Feature") {
        _0x117ffe = _0x117ffe.properties;
      }
      if (_0x117ffe[this.options.IdField]) {
        return _0x117ffe[this.options.IdField];
      }
      if (_0x117ffe.OBJECTID) {
        return _0x117ffe.OBJECTID;
      }
      if (_0x117ffe.objectid) {
        return _0x117ffe.objectid;
      }
      if (((_0x7ef1ff = this.metaData) === null || _0x7ef1ff === undefined || (_0x7ef1ff = _0x7ef1ff.fields) === null || _0x7ef1ff === undefined ? undefined : _0x7ef1ff.length) > 0) {
        const _0x2a0782 = this.metaData.fields[0].name;
        if (_0x117ffe[_0x2a0782]) {
          return _0x117ffe[_0x2a0782];
        }
      }
      return null;
    }
    createGraphic(_0x9dbb3a, _0xa48083) {
      if (this.options.createGraphic) {
        return this.options.createGraphic(_0x9dbb3a, _0xa48083);
      }
      const _0x2a13f2 = this.loadGeoJSON(_0xa48083, {
        clear: false,
        flyTo: false
      });
      if (_0x2a13f2?.length > 0) {
        return _0x2a13f2[0];
      } else {
        return null;
      }
    }
    setWhere(_0x2ecfaf) {
      this.options.where = _0x2ecfaf;
      this.reload();
    }
  }
  register$3("arcgis_wfs", ArcGisWfsLayer);
  class ArcGisWfsSingleLayer extends GeoJsonLayer {
    load(_0x2dc368 = {}) {
      this.options = {
        ...this.options,
        ..._0x2dc368
      };
      let _0x4ecc52 = this.getUrl();
      if (this.options.layers && this.options.layers.length > 0) {
        _0x4ecc52 += "/" + this.options.layers[0];
      }
      const _0x5cd3cc = {
        f: "json",
        inSr: 4326,
        outSR: 4326,
        outFields: "*",
        returnGeometry: true,
        where: this.options.where || "1=1"
      };
      const _0xfb2df1 = _0x5cd3cc;
      if (this.options.token) {
        _0xfb2df1.token = this.options.token;
      }
      const _0x23d5bd = {
        ...this.options
      };
      _0x23d5bd.url = _0x4ecc52 + "/query";
      _0x23d5bd.queryParameters = _0xfb2df1;
      _0x23d5bd.proxy = this._proxy;
      fetchJson$2(_0x23d5bd).then(_0x194811 => {
        if (!_0x194811) {
          this._readyPromise.resolve(this);
          this.fire(EventType.load);
          return;
        }
        const _0x2b7813 = arcgisToGeoJSON$1(_0x194811);
        this._load_data(_0x2b7813);
        logInfo((this.name || "") + "简单ArcGIS WFS图层加载数据完成，共" + _0x2b7813.features?.length + "条数据");
      }).catch(_0x3d8e46 => {
        logError("wfs请求出错", _0x3d8e46);
      });
    }
    setWhere(_0x44fba5) {
      const _0x303794 = {
        where: _0x44fba5
      };
      this.load(_0x303794);
    }
  }
  register$3("arcgis_wfs_single", ArcGisWfsSingleLayer);
  const _0x53fbee = {
    __proto__: null,
    BaseLayer: BaseLayer,
    GroupLayer: GroupLayer,
    BaseTileLayer: BaseTileLayer,
    BaseGraphicLayer: BaseGraphicLayer,
    TerrainLayer: TerrainLayer,
    ArcGisCacheLayer: ArcGisCacheLayer,
    ArcGisTileLayer: ArcGisTileLayer,
    ArcGisLayer: ArcGisLayer,
    BaiduLayer: BaiduLayer,
    BingLayer: BingLayer,
    GaodeLayer: GaodeLayer,
    GeeLayer: GeeLayer,
    GoogleLayer: GoogleLayer,
    ImageLayer: ImageLayer,
    MapboxLayer: MapboxLayer,
    OsmLayer: OsmLayer,
    TdtLayer: TdtLayer,
    TencentLayer: TencentLayer,
    TmsLayer: TmsLayer,
    WmsLayer: WmsLayer,
    WmtsLayer: WmtsLayer,
    XyzLayer: XyzLayer,
    GridLayer: GridLayer,
    TileInfoLayer: TileInfoLayer,
    EmptyTileLayer: EmptyTileLayer,
    CzmGeoJsonLayer: CzmGeoJsonLayer,
    KmlLayer: KmlLayer,
    CzmlLayer: CzmlLayer,
    GraphicLayer: GraphicLayer,
    GeoJsonLayer: GeoJsonLayer,
    ModelLayer: ModelLayer,
    BusineDataLayer: BusineDataLayer,
    TilesetLayer: TilesetLayer,
    OsmBuildingsLayer: OsmBuildingsLayer,
    I3SLayer: I3SLayer,
    GraticuleLayer: GraticuleLayer,
    LodGraphicLayer: LodGraphicLayer,
    PoiLayer: PoiLayer,
    WfsLayer: WfsLayer,
    WfsSingleLayer: WfsSingleLayer,
    ArcGisWfsLayer: ArcGisWfsLayer,
    ArcGisWfsSingleLayer: ArcGisWfsSingleLayer,
    register: register$3,
    create: create$3,
    createTerrainProvider: createTerrainProvider,
    createImageryProvider: createImageryProvider$j
  };
  var index$4 = _0x53fbee;
  class Underground extends BaseThing {
    get translucency() {
      return this._map.scene.globe.translucency;
    }
    get alpha() {
      return this._alpha;
    }
    set alpha(_0x540d07) {
      this._alpha = _0x540d07;
      if (!this._map) {
        return;
      }
      this.translucency.frontFaceAlpha = this._alpha;
    }
    get color() {
      return this._map.scene.globe.undergroundColor;
    }
    set color(_0xb7e12d) {
      this._map.scene.globe.undergroundColor = _0xb7e12d;
    }
    get colorAlphaByDistance() {
      return this._map.scene.globe.undergroundColorAlphaByDistance;
    }
    set colorAlphaByDistance(_0x24dfc7) {
      this._map.scene.globe.undergroundColorAlphaByDistance = _0x24dfc7;
    }
    _enabledHook(_0x38a041) {
      if (!this._map) {
        return;
      }
      this._map.scene.globe.depthTestAgainstTerrain = _0x38a041 ? true : this.depthTestOld;
      this._map.scene.screenSpaceCameraController.enableCollisionDetection = !_0x38a041;
      this.translucency.enabled = _0x38a041;
    }
    _mountedHook() {
      this.translucency.frontFaceAlpha = 1;
      this.translucency.backFaceAlpha = 0;
      this.alpha = this.options.alpha ?? 0.5;
      this.color = this.options.color ?? Cesium__namespace.Color.BLACK;
    }
    _setOptionsHook(_0x16638f, _0xd85ce8) {
      if (Cesium__namespace.defined(_0xd85ce8.alpha)) {
        this.alpha = this.options.alpha;
      }
      if (Cesium__namespace.defined(_0xd85ce8.color)) {
        this.color = this.options.color;
      }
    }
    _addedHook() {
      this.depthTestOld = Cesium__namespace.clone(this._map.scene.globe.depthTestAgainstTerrain);
      this._enabledHook(this.enabled);
    }
    _removedHook() {
      this._map.scene.globe.depthTestAgainstTerrain = this.depthTestOld;
      this._enabledHook(false);
    }
  }
  register("underground", Underground);
  class Sightline extends BaseThing {
    constructor(_0x581f35 = {}) {
      super(_0x581f35);
      this._visibleColor = _0x581f35.visibleColor ?? new Cesium__namespace.Color(0, 1, 0, 0.5);
      this._hiddenColor = _0x581f35.hiddenColor ?? new Cesium__namespace.Color(1, 0, 0, 0.5);
      this._depthFailColor = _0x581f35.depthFailColor;
      this.lines = [];
    }
    get visibleColor() {
      return this._visibleColor;
    }
    set visibleColor(_0x8b0b44) {
      this._visibleColor = _0x8b0b44;
    }
    get hiddenColor() {
      return this._hiddenColor;
    }
    set hiddenColor(_0x30173f) {
      this._hiddenColor = _0x30173f;
    }
    get depthFailColor() {
      return this._depthFailColor;
    }
    set depthFailColor(_0x1edc17) {
      this._depthFailColor = _0x1edc17;
    }
    _mountedHook() {}
    _addedHook() {}
    _removedHook() {}
    add(_0x1b7384, _0x5ae3ae, _0x156031 = {}) {
      if (_0x156031.offsetHeight) {
        _0x1b7384 = addPositionsHeight(_0x1b7384, _0x156031.offsetHeight);
      }
      this.fire(EventType.start);
      if (!this._map.scene.globe.depthTestAgainstTerrain) {
        this._map.scene.globe.depthTestAgainstTerrain = true;
        this.old_depthTestAgainstTerrain = this._map.scene.globe.depthTestAgainstTerrain;
      }
      this._map.scene.requestRender();
      const _0x52b404 = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x5ae3ae, _0x1b7384, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
      const _0x585631 = new Cesium__namespace.Ray(_0x1b7384, _0x52b404);
      const _0x3be2d2 = _0x156031.objectsToExclude ?? [];
      _0x3be2d2.push(...this.lines);
      const _0x5b3a08 = this._map.scene.drillPickFromRay(_0x585631, 2, _0x3be2d2, _0x156031.width);
      if (Cesium__namespace.defined(_0x5b3a08) && _0x5b3a08.length > 0 && Cesium__namespace.defined(_0x5b3a08[0]) && Cesium__namespace.defined(_0x5b3a08[0].position)) {
        const _0x278194 = _0x5b3a08[0].position;
        const _0xd6fe0c = Cesium__namespace.Cartesian3.distance(_0x1b7384, _0x5ae3ae);
        const _0x2e6370 = Cesium__namespace.Cartesian3.distance(_0x1b7384, _0x278194);
        if (_0x2e6370 < _0xd6fe0c) {
          const _0x435ea5 = this._showPolyline(_0x1b7384, _0x5ae3ae, _0x278194);
          const _0x3c29c6 = {
            block: true,
            position: _0x278194,
            entity: _0x435ea5
          };
          const _0x159ae0 = _0x3c29c6;
          this.fire(EventType.end, _0x159ae0);
          return _0x159ae0;
        }
      }
      const _0x367cc5 = this._showPolyline(_0x1b7384, _0x5ae3ae);
      const _0x3fb74d = {
        block: false,
        entity: _0x367cc5
      };
      const _0x360182 = _0x3fb74d;
      if (Cesium__namespace.defined(this.old_depthTestAgainstTerrain)) {
        this._map.scene.globe.depthTestAgainstTerrain = this.old_depthTestAgainstTerrain;
        delete this.old_depthTestAgainstTerrain;
      }
      this.fire(EventType.end, _0x360182);
      return _0x360182;
    }
    addAsync(_0x2825f9, _0x324f70, _0xaed498 = {}) {
      if (_0xaed498.offsetHeight) {
        _0x2825f9 = addPositionsHeight(_0x2825f9, _0xaed498.offsetHeight);
      }
      const _0x143010 = {
        splitNum: _0xaed498.splitNum || 50,
        minDistance: _0xaed498.minDistance
      };
      const _0x5f3949 = interLine([_0x2825f9, _0x324f70], _0x143010);
      this.fire(EventType.start);
      return new Promise((_0x2e3ac5, _0x1337a8) => {
        const _0x269ecf = {
          map: this._map,
          positions: _0x5f3949
        };
        computeSurfacePoints(_0x269ecf).then(_0x19759f => {
          if (!_0x19759f.noHeight) {
            for (let _0x5b61c6 = 0; _0x5b61c6 < _0x5f3949.length; _0x5b61c6++) {
              const _0x3b2781 = _0x5f3949[_0x5b61c6];
              const _0x3de169 = Cesium__namespace.Cartographic.fromCartesian(_0x3b2781).height;
              const _0x29e084 = Cesium__namespace.Cartographic.fromCartesian(_0x19759f.positions[_0x5b61c6]).height;
              if (_0x3de169 <= _0x29e084) {
                const _0x2a811b = this._showPolyline(_0x2825f9, _0x324f70, _0x3b2781);
                const _0x5c50a2 = {
                  block: true,
                  position: _0x3b2781,
                  entity: _0x2a811b
                };
                const _0x48eefc = _0x5c50a2;
                this.fire(EventType.end, _0x48eefc);
                _0x2e3ac5(_0x48eefc);
                return;
              }
            }
          }
          const _0x27e0de = this._showPolyline(_0x2825f9, _0x324f70);
          const _0x18db72 = {
            block: false,
            entity: _0x27e0de
          };
          const _0x5195f5 = _0x18db72;
          this.fire(EventType.end, _0x5195f5);
          _0x2e3ac5(_0x5195f5);
        });
      });
    }
    _showPolyline(_0xf28630, _0x50a4d5, _0x6242ee) {
      if (_0x6242ee) {
        const _0x2e9f3b = this._map.entities.add(new Cesium__namespace.Entity({
          polyline: {
            positions: [_0xf28630, _0x6242ee],
            width: 2,
            material: this._visibleColor,
            depthFailMaterial: this._depthFailColor
          }
        }));
        this.lines.push(_0x2e9f3b);
        const _0x231d9b = this._map.entities.add(new Cesium__namespace.Entity({
          polyline: {
            positions: [_0x6242ee, _0x50a4d5],
            width: 2,
            material: this._hiddenColor,
            depthFailMaterial: this._depthFailColor
          }
        }));
        this.lines.push(_0x231d9b);
        return [_0x2e9f3b, _0x231d9b];
      } else {
        const _0x559fca = this._map.entities.add(new Cesium__namespace.Entity({
          polyline: {
            positions: [_0xf28630, _0x50a4d5],
            width: 2,
            material: this._visibleColor,
            depthFailMaterial: this._depthFailColor
          }
        }));
        this.lines.push(_0x559fca);
        return [_0x559fca];
      }
    }
    clear() {
      for (let _0x526d96 = 0, _0x206138 = this.lines.length; _0x526d96 < _0x206138; _0x526d96++) {
        this._map.entities.remove(this.lines[_0x526d96]);
      }
      this.lines = [];
    }
  }
  register("sightline", Sightline);
  var fragmentShaderSource = "#extension GL_OES_standard_derivatives : enable\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform float lineWidth;\nuniform float height;\nuniform bvec3 strokeType;\nuniform vec3 tjxColor;\nuniform vec3 bjColor;\nuniform vec3 cameraPos;\nuniform float mbDis;\nin vec2 v_textureCoordinates;\n\nvec4 toEye(in vec2 uv, in float depth) {\n  vec2 xy = vec2((uv.x * 2.0 - 1.0), (uv.y * 2.0 - 1.0));\n  vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);\n  posInCamera = posInCamera / posInCamera.w;\n  return posInCamera;\n}\nfloat getDepthMars3D(in vec4 depth) {\n  float z_window = czm_unpackDepth(depth);\n  z_window = czm_reverseLogDepth(z_window);\n  float n_range = czm_depthRange.near;\n  float f_range = czm_depthRange.far;\n  return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nbool isTJX(vec2 uv, float lw) {\n  vec2 pixelSize = lw / czm_viewport.zw;\n  float dx0 = -pixelSize.x;\n  float dy0 = -pixelSize.y;\n  float dx1 = pixelSize.x;\n  float dy1 = pixelSize.y;\n\n  vec2 currUV = uv + vec2(dx0, dy0);\n  vec4 currDepth = texture(depthTexture, currUV);\n  float depth = getDepthMars3D(currDepth);\n  if(depth >= 1.0)\n    return true;\n\n  currUV = uv + vec2(0.0, dy0);\n  currDepth = texture(depthTexture, currUV);\n  depth = getDepthMars3D(currDepth);\n  if(depth >= 1.0)\n    return true;\n\n  currUV = uv + vec2(dx1, dy0);\n  currDepth = texture(depthTexture, currUV);\n  depth = getDepthMars3D(currDepth);\n  if(depth >= 1.0)\n    return true;\n\n  currUV = uv + vec2(dx0, 0.0);\n  currDepth = texture(depthTexture, currUV);\n  depth = getDepthMars3D(currDepth);\n  if(depth >= 1.0)\n    return true;\n\n  currUV = uv + vec2(dx1, 0.0);\n  currDepth = texture(depthTexture, currUV);\n  depth = getDepthMars3D(currDepth);\n  if(depth >= 1.0)\n    return true;\n\n  currUV = uv + vec2(dx0, dy1);\n  currDepth = texture(depthTexture, currUV);\n  depth = getDepthMars3D(currDepth);\n  if(depth >= 1.0)\n    return true;\n\n  currUV = uv + vec2(0.0, dy1);\n  currDepth = texture(depthTexture, currUV);\n  depth = getDepthMars3D(currDepth);\n  if(depth >= 1.0)\n    return true;\n\n  currUV = uv + vec2(dx1, dy1);\n  currDepth = texture(depthTexture, currUV);\n  depth = getDepthMars3D(currDepth);\n  if(depth >= 1.0)\n    return true;\n\n  return false;\n}\n\nvoid main() {\n  vec4 color = texture(colorTexture, v_textureCoordinates);\n  if(height > 14102.0) {\n    out_FragColor = color;\n    return;\n  }\n  vec4 currD = texture(depthTexture, v_textureCoordinates);\n  if(currD.r >= 1.0) {\n    out_FragColor = color;\n    return;\n  }\n  float depth = getDepthMars3D(currD);\n  vec4 positionEC = toEye(v_textureCoordinates, depth);\n  vec3 dx = dFdx(positionEC.xyz);\n  vec3 dy = dFdy(positionEC.xyz);\n  vec3 normal = normalize(cross(dx, dy));\n\n  if(strokeType.y || strokeType.z) {\n    vec4 wp = czm_inverseView * positionEC;\n    if(distance(wp.xyz, cameraPos) > mbDis) {\n      out_FragColor = color;\n    } else {\n      float dotNum = abs(dot(normal, normalize(positionEC.xyz)));\n      if(dotNum < 0.05) {\n        out_FragColor = vec4(bjColor, 1.0);\n        return;\n      }\n    }\n  }\n  if(strokeType.x || strokeType.z) {\n    bool tjx = isTJX(v_textureCoordinates, lineWidth);\n    if(tjx) {\n      out_FragColor = vec4(tjxColor, 1.0);\n      return;\n    }\n  }\n  out_FragColor = color;\n}\n";
  class Skyline extends BaseThing {
    constructor(_0x3023fd = {}) {
      super(_0x3023fd);
      this.color = _0x3023fd.color ?? new Cesium__namespace.Color(1, 0, 0);
      this.width = _0x3023fd.width ?? 2;
      this.strokeType = _0x3023fd.strokeType ?? new Cesium__namespace.Cartesian3(true, false, false);
      this.bjColor = _0x3023fd.bjColor ?? new Cesium__namespace.Color(0, 0, 1);
      this.distance = _0x3023fd.distance ?? 500;
    }
    _enabledHook(_0x4e63f8) {
      if (_0x4e63f8) {
        if (!this.postProcessStage) {
          this._addedHook();
        }
      } else if (this.postProcessStage) {
        this._removedHook();
      }
    }
    _addedHook() {
      if (!this.enabled) {
        return;
      }
      const _0x1a86b3 = this._map.camera;
      this.postProcessStage = new Cesium__namespace.PostProcessStage({
        fragmentShader: fragmentShaderSource,
        uniforms: {
          height: () => {
            return _0x1a86b3.positionCartographic.height;
          },
          lineWidth: () => {
            return this.width;
          },
          strokeType: () => {
            return this.strokeType;
          },
          tjxColor: () => {
            return this.color;
          },
          bjColor: () => {
            return this.bjColor;
          },
          cameraPos: () => {
            return _0x1a86b3.position;
          },
          mbDis: () => {
            return this.distance;
          }
        }
      });
      this._map.scene.postProcessStages.add(this.postProcessStage);
    }
    _removedHook() {
      if (this.postProcessStage) {
        this._map.scene.postProcessStages.remove(this.postProcessStage);
        this.postProcessStage.destroy();
        delete this.postProcessStage;
      }
    }
  }
  register("skyline", Skyline);
  var ShadowRateFS = "precision highp float;\nuniform sampler2D u_positionTexture;\nuniform sampler2D shadowMap_texture;\n\nin vec2 v_textureCoordinates;\n\nvec4 getPositionECMars3D(vec2 uv) {\n  vec4 positionEC = texture(u_positionTexture, uv);\n  return vec4(positionEC.xyz, 1.0);\n}\n\nvoid main() {\n  vec2 uv = v_textureCoordinates;\n  float maxDepth = shadowMap_cascadeSplits[1].w;\n  vec4 positionEC = getPositionECMars3D(uv);\n  vec3 normalEC = vec3(1.0);\n  float depth = -positionEC.z;\n\n  if(depth > maxDepth) {\n    out_FragColor = vec4(0.0);\n  } else {\n    vec4 weights = czm_cascadeWeights(depth);\n    vec4 shadowPosition = czm_cascadeMatrix(weights) * positionEC;\n    float deptha = czm_unpackDepth(texture(shadowMap_texture, shadowPosition.xy));\n    out_FragColor = vec4(step(shadowPosition.z, deptha), 0.0, 1.0, 2.0);\n  // out_FragColor = vec4(uv, 1.0, 2.0);\n  }\n}\n";
  var ShadowRateVS = "in vec4 position;\nin vec2 textureCoordinates;\nout vec2 v_textureCoordinates;\nvoid main() {\n  gl_Position = position;\n  v_textureCoordinates = textureCoordinates;\n}\n";
  const texturePositions = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]);
  const textureUVs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);
  const textureIndices = new Uint16Array([0, 1, 2, 0, 2, 3]);
  function createTextureVA(_0x21e5a2) {
    const _0x1703e5 = Cesium__namespace.Buffer.createVertexBuffer({
      context: _0x21e5a2,
      typedArray: texturePositions,
      usage: Cesium__namespace.BufferUsage.STATIC_DRAW
    });
    const _0x57055a = Cesium__namespace.Buffer.createVertexBuffer({
      context: _0x21e5a2,
      typedArray: textureUVs,
      usage: Cesium__namespace.BufferUsage.STATIC_DRAW
    });
    const _0x2f1e21 = Cesium__namespace.Buffer.createIndexBuffer({
      context: _0x21e5a2,
      typedArray: textureIndices,
      usage: Cesium__namespace.BufferUsage.STATIC_DRAW,
      indexDatatype: Cesium__namespace.IndexDatatype.UNSIGNED_SHORT
    });
    const _0x33379c = {
      index: 0,
      vertexBuffer: _0x1703e5,
      componentsPerAttribute: 2,
      componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT
    };
    const _0xba4b8d = {
      index: 1,
      vertexBuffer: _0x57055a,
      componentsPerAttribute: 2,
      componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT
    };
    const _0x1577b5 = [_0x33379c, _0xba4b8d];
    const _0x12b86f = {
      context: _0x21e5a2,
      attributes: _0x1577b5,
      indexBuffer: _0x2f1e21
    };
    return new Cesium__namespace.VertexArray(_0x12b86f);
  }
  function createFramebuffer(_0x395041, _0x186643) {
    const _0x5102ac = {
      context: _0x395041,
      colorTextures: [_0x186643],
      destroyAttachments: false
    };
    return new Cesium__namespace.Framebuffer(_0x5102ac);
  }
  function computeTextureResolution(_0x963ee6) {
    const _0x49dcd3 = Cesium__namespace.ContextLimits.maximumTextureSize;
    const _0x4f73a5 = Math.min(_0x963ee6, _0x49dcd3);
    const _0x3323ec = Math.ceil(_0x963ee6 / _0x4f73a5);
    const _0x3cbb65 = {
      x: _0x4f73a5,
      y: _0x3323ec
    };
    return _0x3cbb65;
  }
  function completionBuffer(_0x245022, _0x5c3e39) {
    const _0x3771c2 = _0x5c3e39.x * _0x5c3e39.y;
    const _0x4c49c0 = _0x245022.length / 4;
    for (let _0x3a5847 = _0x4c49c0; _0x3a5847 < _0x3771c2; _0x3a5847++) {
      _0x245022.push(0);
      _0x245022.push(0);
      _0x245022.push(0);
      _0x245022.push(0);
    }
  }
  class ShadowRateDrawCommand {
    constructor(_0x262395, _0x27b7e0) {
      this._event = new Cesium__namespace.Event();
      this._scene = _0x262395;
      this._positions = _0x27b7e0;
      this._stat = false;
      const _0x5c01f6 = _0x27b7e0.length;
      this._requiredResolution = computeTextureResolution(_0x5c01f6);
      const _0x4652a8 = new Cesium__namespace.Texture({
        context: _0x262395.context,
        source: {
          arrayBufferView: new Float32Array(this._requiredResolution.x * this._requiredResolution.y * 4),
          width: this._requiredResolution.x,
          height: this._requiredResolution.y
        },
        pixelDatatype: Cesium__namespace.PixelDatatype.FLOAT,
        pixelFormat: Cesium__namespace.PixelFormat.RGBA,
        flipY: false
      });
      const _0x1e4047 = createTextureVA(_0x262395.context);
      const _0x3f3012 = {
        context: _0x262395.context,
        vertexShaderSource: ShadowRateVS,
        fragmentShaderSource: ShadowRateFS,
        attributeLocations: {
          position: 0,
          textureCoordinates: 1
        }
      };
      const _0x46cec4 = Cesium__namespace.ShaderProgram.fromCache(_0x3f3012);
      this.drawCommand = new Cesium__namespace.ComputeCommand({
        vertexArray: _0x1e4047,
        shaderProgram: _0x46cec4,
        outputTexture: _0x4652a8,
        uniformMap: {
          shadowMap_cascadeSplits: () => {
            return _0x262395.shadowMap._cascadeSplits;
          },
          shadowMap_cascadeMatrices: () => {
            return _0x262395.shadowMap._cascadeMatrices;
          },
          shadowMap_texture: () => {
            return _0x262395.shadowMap._shadowMapTexture;
          },
          u_positionTexture: () => {
            return this._positionTexture;
          }
        },
        persists: true,
        owner: this,
        postExecute: _0x1622a5 => {
          const _0x19b2c0 = createFramebuffer(_0x262395.context, _0x1622a5);
          const _0x320fab = {
            framebuffer: _0x19b2c0,
            width: this._requiredResolution.x,
            height: this._requiredResolution.y
          };
          const _0x733bf6 = _0x262395.context.readPixels(_0x320fab);
          this._event.raiseEvent(_0x733bf6.slice(0, _0x5c01f6 * 4));
        }
      });
    }
    get event() {
      return this._event;
    }
    start() {
      const _0x347653 = this._scene.camera.viewMatrix;
      const _0x2f5b03 = this._positions.map(_0x2b8be4 => Cesium__namespace.Matrix4.multiplyByPoint(_0x347653, _0x2b8be4, new Cesium__namespace.Cartesian3()));
      const _0x423700 = [];
      _0x2f5b03.forEach(_0x523586 => {
        _0x423700.push(_0x523586.x);
        _0x423700.push(_0x523586.y);
        _0x423700.push(_0x523586.z);
        _0x423700.push(0);
      });
      if (this._positionTexture) {
        this._positionTexture.destroy();
      }
      completionBuffer(_0x423700, this._requiredResolution);
      this._positionTexture = new Cesium__namespace.Texture({
        context: this._scene.context,
        source: {
          width: this._requiredResolution.x,
          height: this._requiredResolution.y,
          arrayBufferView: new Float32Array(_0x423700)
        },
        pixelDatatype: Cesium__namespace.PixelDatatype.FLOAT,
        flipY: false
      });
      this._stat = true;
    }
    update(_0x2ee2a3) {
      if (!this.drawCommand) {
        return;
      }
      if (this._stat) {
        _0x2ee2a3.commandList.push(this.drawCommand);
        this._stat = false;
      }
    }
    isDestroyed() {
      return false;
    }
    destroy() {
      if (this._positionTexture) {
        this._positionTexture.destroy();
      }
      Cesium__namespace.destroyObject(this);
    }
  }
  class Shadows extends BaseThing {
    get shadowMap() {
      return this._map.scene.shadowMap;
    }
    get time() {
      const _0x5a4d0a = this._map.clock.currentTime;
      return Cesium__namespace.JulianDate.toDate(_0x5a4d0a);
    }
    set time(_0x27e199) {
      this._map.clock.currentTime = Cesium__namespace.JulianDate.fromDate(_0x27e199);
      this.stop();
    }
    get isStart() {
      return this._map.clock.shouldAnimate;
    }
    get multiplier() {
      return this.options.multiplier ?? 1600;
    }
    set multiplier(_0x3047b7) {
      this.options.multiplier = _0x3047b7;
      if (this._map) {
        this._map.clock.multiplier = _0x3047b7;
      }
    }
    _enabledHook(_0xa0d88e) {
      if (!this._map) {
        return;
      }
      this._map.viewer.shadows = _0xa0d88e;
      if (this.options.terrain ?? true) {
        if (_0xa0d88e) {
          this._map.viewer.terrainShadows = this.options.terrainShadows ?? Cesium__namespace.ShadowMode.ENABLED;
        } else {
          this._map.viewer.terrainShadows = Cesium__namespace.ShadowMode.DISABLED;
        }
      }
      if (this.options.lighting ?? true) {
        this._map.scene.globe.enableLighting = _0xa0d88e;
      }
    }
    _mountedHook() {}
    _addedHook() {
      this._last_startTime = this._map.clock.startTime;
      this._last_stopTime = this._map.clock.stopTime;
      this._last_shouldAnimate = this._map.clock.shouldAnimate;
      this._last_clockRange = this._map.clock.clockRange;
      this._last_multiplier = this._map.clock.multiplier;
      this._last_shadows = this._map.viewer.shadows;
      this._enabledHook(this.enabled);
      if (Cesium__namespace.defined(this.options.darkness)) {
        this.shadowMap.darkness = this.options.darkness;
      }
      this._map.clock.shouldAnimate = false;
      this._map.clock.clockRange = this.options.clockRange ?? Cesium__namespace.ClockRange.CLAMPED;
      this._map.clock.multiplier = this.multiplier;
      if (this.options.time) {
        this.time = this.options.time;
      }
      this._map.on(EventType.clockTick, this._onClockTickHanlder, this);
    }
    _removedHook() {
      this.clear();
      this._enabledHook(false);
      this._map.viewer.shadows = this._last_shadows;
      this._map.clock.clockRange = this._last_clockRange;
      this._map.clock.multiplier = this._last_multiplier;
      this._map.clock.shouldAnimate = this._last_shouldAnimate;
      this._map.off(EventType.clockTick, this._onClockTickHanlder, this);
    }
    _onClockTickHanlder(_0x1099c2) {
      if (!this._map || !this._map.clock.shouldAnimate) {
        return;
      }
      this.fire(EventType.change, _0x1099c2);
    }
    start(_0x4ba77f, _0x128ed1, _0x4eecc9) {
      if (!this._map) {
        return;
      }
      if (!_0x4ba77f || !_0x128ed1 || _0x4ba77f >= _0x128ed1) {
        return;
      }
      this._enabledHook(this.enabled);
      this._map.clock.startTime = Cesium__namespace.JulianDate.fromDate(_0x4ba77f);
      this._map.clock.currentTime = Cesium__namespace.JulianDate.fromDate(_0x4eecc9 || _0x4ba77f);
      this._map.clock.stopTime = Cesium__namespace.JulianDate.fromDate(_0x128ed1);
      this._map.clock.shouldAnimate = true;
      if (this._map.control.timeline) {
        this._map.control.timeline.refresh();
      }
    }
    pause() {
      if (this._map) {
        this._map.clock.shouldAnimate = false;
      }
    }
    proceed() {
      if (this._map) {
        this._map.clock.shouldAnimate = true;
      }
    }
    stop() {
      if (this._map) {
        this._map.clock.shouldAnimate = false;
      }
    }
    clear() {
      this.stop();
      this.currentTime = new Date();
      this._map.clock.startTime = this._last_startTime;
      this._map.clock.stopTime = this._last_stopTime;
      if (this._map.control.timeline) {
        this._map.control.timeline.refresh();
      }
      this._rate_total = 0;
      delete this._rate_positions;
      this.stopRate();
    }
    startRate(_0x2329d) {
      return new Promise((_0x353c41, _0x30dade) => {
        this.stopRate();
        this._isStartRate = true;
        if (!this._map || !_0x2329d.positions || _0x2329d.positions.length === 0) {
          return _0x353c41();
        }
        if (!_0x2329d.startDate || !_0x2329d.endDate || _0x2329d.startDate >= _0x2329d.endDate) {
          return _0x353c41();
        }
        this._promise_resolve = _0x353c41;
        const _0x23b649 = getGridPointsByPoly(_0x2329d.positions, _0x2329d.step, _0x2329d.minHeight);
        const _0x270e36 = [];
        if (Cesium__namespace.defined(_0x2329d.minHeight) && Cesium__namespace.defined(_0x2329d.maxHeight) && _0x2329d.minHeight !== _0x2329d.maxHeight) {
          for (let _0x3ee22f = _0x2329d.minHeight; _0x3ee22f < _0x2329d.maxHeight; _0x3ee22f += _0x2329d.step) {
            _0x23b649.forEach(_0x3c716b => {
              const _0x1b0217 = Cesium__namespace.Cartesian3.fromDegrees(_0x3c716b.lng, _0x3c716b.lat, _0x3ee22f);
              _0x1b0217.lng = _0x3c716b.lng;
              _0x1b0217.lat = _0x3c716b.lat;
              _0x1b0217.alt = _0x3ee22f;
              _0x1b0217.total = 0;
              _0x270e36.push(_0x1b0217);
            });
          }
        } else {
          _0x23b649.forEach(_0x1c346f => {
            const _0x30f69 = Cesium__namespace.Cartesian3.fromDegrees(_0x1c346f.lng, _0x1c346f.lat, _0x1c346f.alt);
            _0x30f69.lng = _0x1c346f.lng;
            _0x30f69.lat = _0x1c346f.lat;
            _0x30f69.alt = _0x1c346f.alt;
            _0x30f69.total = 0;
            _0x270e36.push(_0x30f69);
          });
        }
        this._rate_positions = _0x270e36;
        setTimeout(() => {
          this._startRate(_0x2329d);
        }, 80);
      });
    }
    _startRate(_0x5ea66b) {
      this._drawCommand = new ShadowRateDrawCommand(this._map.scene, this._rate_positions);
      this._map.scene.primitives.add(this._drawCommand);
      this._drawCommand.event.addEventListener(_0x140b06 => {
        const _0x53d16d = _0x140b06.length;
        let _0x12a493 = 0;
        for (let _0x445172 = 0; _0x445172 < _0x53d16d; _0x445172 += 4) {
          this._rate_positions[_0x12a493].total += _0x140b06[_0x445172];
          _0x12a493 += 1;
        }
        this.fire(EventType.change);
      });
      this._enabledHook(this.enabled);
      const _0x4faf19 = Cesium__namespace.JulianDate.fromDate(_0x5ea66b.startDate);
      const _0x2ec6fa = Cesium__namespace.JulianDate.fromDate(_0x5ea66b.endDate);
      this._map.clock.startTime = _0x4faf19;
      this._map.clock.currentTime = _0x4faf19.clone();
      this._map.clock.stopTime = _0x2ec6fa;
      this._map.clock.shouldAnimate = false;
      if (this._map.control.timeline) {
        this._map.control.timeline.refresh();
      }
      this._rate_total = 0;
      this.fire(EventType.start);
      const _0x35b38c = Cesium__namespace.JulianDate.secondsDifference(_0x2ec6fa, _0x4faf19) / 100;
      this._timeTik = setInterval(() => {
        this._map.clock.currentTime = Cesium__namespace.JulianDate.addSeconds(this._map.clock.currentTime, _0x35b38c, this._map.clock.currentTime);
        this._rate_total++;
        this._drawCommand.start();
        if (Cesium__namespace.JulianDate.secondsDifference(this._map.clock.currentTime, this._map.clock.stopTime) >= 0) {
          this._map_clockStopTickHandler();
        }
      }, _0x5ea66b.time ?? 30);
    }
    _map_clockStopTickHandler() {
      this.stopRate();
      for (let _0x58cd03 = 0, _0x283886 = this._rate_positions.length; _0x58cd03 < _0x283886; _0x58cd03++) {
        this._rate_positions[_0x58cd03].rate = 1 - this._rate_positions[_0x58cd03].total / this._rate_total;
      }
      const _0x5d622f = {
        total: this._rate_total,
        positions: this._rate_positions
      };
      const _0x33eda8 = _0x5d622f;
      if (this._promise_resolve) {
        this._promise_resolve(_0x33eda8);
        delete this._promise_resolve;
      }
      this.fire(EventType.stop, _0x33eda8);
    }
    stopRate() {
      if (!this._isStartRate) {
        return;
      }
      if (this._timeTik) {
        clearInterval(this._timeTik);
        delete this._timeTik;
      }
      if (this._drawCommand) {
        this._map.scene.primitives.remove(this._drawCommand);
        this._drawCommand.destroy();
        delete this._drawCommand;
      }
      this._isStartRate = false;
      this.fire(EventType.end);
    }
  }
  register("shadows", Shadows);
  class Measure extends BaseThing {
    get graphicLayer() {
      return this._graphicLayer;
    }
    get graphics() {
      return this._graphicLayer?.graphics;
    }
    get isDrawing() {
      return this._graphicLayer?.isDrawing;
    }
    get isEditing() {
      return this._graphicLayer?.isEditing;
    }
    get hasMeasure() {
      return this._graphicLayer.length > 0;
    }
    _enabledHook(_0x4ec9e) {}
    _setOptionsHook(_0x3a260a, _0x277f55) {
      if (this._graphicLayer) {
        this._graphicLayer.setOptions(_0x277f55);
      }
    }
    _mountedHook() {
      this._graphicLayer = new GraphicLayer({
        eventParent: this,
        isContinued: this.options.isContinued,
        isAutoEditing: true,
        ...this.options,
        private: true
      });
      if (this._graphicLayer.isAutoEditing) {
        this._graphicLayer.bindContextMenu([{
          text: () => {
            return this._map.getLangText("_删除测量");
          },
          icon: Icon.Delete,
          show: _0x41725f => {
            const _0x3373de = _0x41725f.graphic;
            if (_0x3373de !== null && _0x3373de !== undefined && _0x3373de.inProgress && !_0x3373de.editing || _0x3373de.options.hasEdit === false || _0x3373de.options.hasEditContextMenu === false) {
              return false;
            } else {
              return true;
            }
          },
          callback: _0x4424a2 => {
            const _0x43a6e5 = _0x4424a2.graphic;
            if (!_0x43a6e5) {
              return;
            }
            const _0x29309c = _0x43a6e5.parent;
            this._graphicLayer.removeGraphic(_0x43a6e5);
            if (_0x29309c) {
              this._graphicLayer.removeGraphic(_0x29309c);
            }
          }
        }]);
      }
    }
    _addedHook() {
      this._map.addLayer(this._graphicLayer);
    }
    _removedHook() {
      this._map.removeLayer(this._graphicLayer);
    }
    distance(_0x422ef2 = {}) {
      this.stopDraw();
      _0x422ef2.type = "distanceMeasure";
      return this._graphicLayer.startDraw(_0x422ef2);
    }
    distanceSurface(_0x4c89b5 = {}) {
      this.stopDraw();
      _0x4c89b5.type = "distanceSurfaceMeasure";
      return this._graphicLayer.startDraw(_0x4c89b5);
    }
    section(_0x10476e = {}) {
      this.stopDraw();
      _0x10476e.type = "sectionMeasure";
      _0x10476e.style = _0x10476e.style || {};
      if (!Cesium__namespace.defined(_0x10476e.style.clampToGround)) {
        _0x10476e.style.clampToGround = true;
      }
      return this._graphicLayer.startDraw(_0x10476e);
    }
    area(_0x2d4333 = {}) {
      this.stopDraw();
      _0x2d4333.type = "areaMeasure";
      return this._graphicLayer.startDraw(_0x2d4333);
    }
    areaSurface(_0x1085bd = {}) {
      this.stopDraw();
      _0x1085bd.type = "areaSurfaceMeasure";
      return this._graphicLayer.startDraw(_0x1085bd);
    }
    volume(_0x105282 = {}) {
      this.stopDraw();
      _0x105282.type = _0x105282.depth ? "volumeDepthMeasure" : "volumeMeasure";
      return this._graphicLayer.startDraw(_0x105282);
    }
    height(_0x53e432 = {}) {
      this.stopDraw();
      _0x53e432.type = "heightMeasure";
      return this._graphicLayer.startDraw(_0x53e432);
    }
    heightTriangle(_0x30409f = {}) {
      this.stopDraw();
      _0x30409f.type = "heightTriangleMeasure";
      return this._graphicLayer.startDraw(_0x30409f);
    }
    angle(_0x5b1450 = {}) {
      this.stopDraw();
      _0x5b1450.type = "angleMeasure";
      return this._graphicLayer.startDraw(_0x5b1450);
    }
    point(_0x38c17e = {}) {
      this.stopDraw();
      _0x38c17e.type = "pointMeasure";
      return this._graphicLayer.startDraw(_0x38c17e);
    }
    stopDraw() {
      return this._graphicLayer.stopDraw();
    }
    clearDrawing() {
      return this._graphicLayer.clearDrawing();
    }
    endDraw() {
      return this._graphicLayer.endDraw();
    }
    clear() {
      return this._graphicLayer.clear();
    }
    updateUnit(_0xbeda2f) {
      this._graphicLayer.eachGraphic(_0x1f1e9d => {
        if (!_0x1f1e9d.isPrivate && _0x1f1e9d.updateText) {
          _0x1f1e9d.updateText(_0xbeda2f);
        }
      });
    }
    destroy(_0x4d736c) {
      this._graphicLayer.destroy(_0x4d736c);
      super.destroy(_0x4d736c);
    }
  }
  register("measure", Measure, false);
  class FloodByGraphic extends BaseThing {
    get positions() {
      return this.options.positions;
    }
    set positions(_0x5c65fa) {
      this.options.positions = _0x5c65fa;
      if (_0x5c65fa) {
        const _0x595176 = [];
        const _0x43d64a = [];
        _0x5c65fa.forEach(_0x56dfb2 => {
          const _0x47b7a1 = LngLatPoint.parse(_0x56dfb2);
          if (!_0x47b7a1 || !_0x47b7a1.valid()) {
            return;
          }
          _0x47b7a1._alt_bak = _0x47b7a1.alt;
          _0x43d64a.push(_0x47b7a1);
          _0x595176.push(_0x47b7a1.toCartesian(true));
        });
        this._poinst = _0x43d64a;
        this._hierarchyPositions = _0x595176;
        if (this._map) {
          const _0x3e41b5 = this.options.has3dtiles ?? Cesium__namespace.defined(this._map.pick3DTileset(_0x595176));
          if (!_0x3e41b5) {
            if (!Cesium__namespace.defined(this._last_depthTestAgainstTerrain)) {
              this._last_depthTestAgainstTerrain = this._map.scene.globe.depthTestAgainstTerrain;
            }
            this._map.scene.globe.depthTestAgainstTerrain = true;
          }
        }
      } else {
        this._hierarchyPositions = null;
      }
    }
    get height() {
      return this._extrudedHeight ?? this.options.minHeight;
    }
    set height(_0x4a130b) {
      this._extrudedHeight = _0x4a130b;
      if (this.options.perPositionHeight) {
        if (!this._poinst && this.options.positions) {
          this.positions = this.options.positions;
        }
        if (this._poinst) {
          const _0x2c2db7 = [];
          this._poinst.forEach(_0x851368 => {
            const _0x415a40 = LngLatPoint.parse(_0x851368);
            if (!_0x415a40 || !_0x415a40.valid()) {
              return;
            }
            _0x415a40.alt = _0x415a40._alt_bak + _0x4a130b;
            _0x2c2db7.push(_0x415a40.toCartesian(true));
          });
          this._hierarchyPositions = _0x2c2db7;
        }
      }
      this.fire(EventType.change, {
        height: this._extrudedHeight
      });
    }
    get speed() {
      return this.options.speed;
    }
    set speed(_0x29d587) {
      this.options.speed = _0x29d587;
    }
    _mountedHook() {
      this.graphicLayer = new GraphicLayer({
        name: "淹没分析",
        private: true
      });
      this._extrudedHeight = 0;
      const _0x52e392 = new Cesium__namespace.PolygonHierarchy();
      const _0x1454fa = {
        color: "#007be6",
        opacity: 0.5,
        outline: false,
        ...this.options.style
      };
      _0x1454fa.perPositionHeight = true;
      const _0x5e7eff = _0x1454fa;
      if (!this.options.perPositionHeight) {
        _0x5e7eff.height = this._extrudedHeight;
        _0x5e7eff.extrudedHeight = new Cesium__namespace.CallbackProperty(_0x222b5c => {
          return this._extrudedHeight;
        }, false);
      }
      const _0x33f419 = new PolygonEntity({
        positions: new Cesium__namespace.CallbackProperty(_0x82b2c7 => {
          if (!this._hierarchyPositions) {
            return null;
          }
          _0x52e392.positions = this._hierarchyPositions;
          return _0x52e392;
        }, false),
        style: _0x5e7eff,
        allowDrillPick: true
      });
      this.graphic = _0x33f419;
      if (Cesium__namespace.defined(this.options.minHeight) && Cesium__namespace.defined(this.options.maxHeight) && Cesium__namespace.defined(this.options.positions)) {
        this.setOptions();
      }
    }
    _addedHook() {
      this._map.addLayer(this.graphicLayer);
      this.graphicLayer.addGraphic(this.graphic);
    }
    _removedHook() {
      this._map.removeLayer(this.graphicLayer);
      this.clear();
    }
    setOptions(_0x42e8d2, _0x21e881) {
      if (_0x42e8d2) {
        if (_0x21e881?.merge ?? true) {
          this.options = {
            ...this.options,
            ..._0x42e8d2
          };
        } else {
          this.options = _0x42e8d2;
        }
      }
      this.stop();
      let _0x5305f9 = this.options.minHeight;
      let _0x1023e9 = this.options.maxHeight;
      if (!Cesium__namespace.defined(_0x5305f9)) {
        logError("minHeight 请传入有效数值！", _0x5305f9);
        return;
      }
      if (!Cesium__namespace.defined(_0x1023e9)) {
        logError("maxHeight 请传入有效数值！", _0x1023e9);
        return;
      }
      if (_0x5305f9 > _0x1023e9) {
        const _0x2cfd6c = _0x5305f9;
        _0x5305f9 = _0x1023e9;
        _0x1023e9 = _0x2cfd6c;
      }
      this._extrudedHeight = _0x5305f9;
      this._maxHeight = _0x1023e9;
      this.positions = this.options.positions;
      return this;
    }
    start() {
      if (!this._hierarchyPositions) {
        logError("请传入淹没区域才能开始分析");
        return;
      }
      this.stop();
      this.isStart = true;
      this.fire(EventType.start);
      this._timeTik = setInterval(() => {
        if (this._extrudedHeight >= this._maxHeight) {
          this.stop();
          return;
        }
        const _0x1384d9 = this._extrudedHeight + this.speed;
        if (_0x1384d9 > this._maxHeight) {
          this.height = this._maxHeight;
        } else {
          this.height = _0x1384d9;
        }
      }, 100);
    }
    stop() {
      if (!this.isStart) {
        return;
      }
      if (this._timeTik) {
        clearInterval(this._timeTik);
        delete this._timeTik;
      }
      this.isStart = false;
      this.fire(EventType.end);
    }
    restart() {
      this.setOptions();
      this.start();
    }
    clear() {
      this.positions = null;
      if (this._last_depthTestAgainstTerrain != null) {
        this._map.scene.globe.depthTestAgainstTerrain = this._last_depthTestAgainstTerrain;
        delete this._last_depthTestAgainstTerrain;
      }
      this.stop();
    }
    destroy(_0x563991) {
      if (this.graphicLayer) {
        this.graphicLayer.destroy(_0x563991);
      }
      super.destroy(_0x563991);
    }
  }
  register("floodByGraphic", FloodByGraphic, false);
  class Slope extends BaseThing {
    constructor(_0x1f4396 = {}) {
      super(_0x1f4396);
      this.options.arrow = this.options.arrow || {};
      this.options.arrow.show = this.options.arrow.show ?? true;
      this.options.arrow.color = this.options.arrow.color ?? Cesium__namespace.Color.YELLOW;
      this.options.arrow.width = this.options.arrow.width ?? 15;
      this.options.arrow.scale = this.options.arrow.scale ?? 0.3;
    }
    _mountedHook() {
      this.graphicLayer = new GraphicLayer({
        name: "坡度坡向",
        tooltip: function (_0x15193b) {
          const _0x496803 = _0x15193b.graphic?.attr;
          if (!_0x496803) {
            return;
          }
          return "坡度: " + _0x496803.slopeStr1 + "  (" + _0x496803.slopeStr2 + ")<br />坡向: " + _0x496803.direction + "°";
        },
        ...this.options,
        private: true
      });
    }
    _addedHook() {
      this._map.addLayer(this.graphicLayer);
      if (this.options.positions && this.options.positions.length > 0) {
        this.add(this.options.positions, this.options);
      }
    }
    _removedHook() {
      this._map.removeLayer(this.graphicLayer);
      this.clear();
    }
    add(_0x1d1b0b, _0x23fbb7 = {}) {
      if (!_0x1d1b0b || _0x1d1b0b.length < 1) {
        return;
      }
      _0x1d1b0b = LngLatArray.toCartesians(_0x1d1b0b);
      const _0x2d3cfb = {
        positions: _0x1d1b0b
      };
      this._eventResult = _0x2d3cfb;
      this._stateOkIndex = 0;
      this._arrowInstances = [];
      this._arrData = [];
      const _0x15d42e = _0x23fbb7.splitNum ?? 8;
      if (_0x1d1b0b.length > 2 && _0x15d42e > 1) {
        const _0xf0ed5f = {
          scene: this._map.scene,
          positions: _0x1d1b0b,
          has3dtiles: false,
          onlyPoint: true,
          splitNum: _0x15d42e
        };
        interPolygon(_0xf0ed5f).then(_0x50a954 => {
          if (this.options.arrow.length) {
            this._arrowLength = this.options.arrow.length;
          } else {
            this._arrowLength = Cesium__namespace.Math.chordLength(_0x50a954.granularity, this._map.scene.globe.ellipsoid.maximumRadius) * this.options.arrow.scale;
          }
          this._eventResult.maxHeight = _0x50a954.maxHeight;
          this._eventResult.minHeight = _0x50a954.minHeight;
          _0x1d1b0b = [];
          for (let _0x153243 = 0; _0x153243 < _0x50a954.list.length; _0x153243++) {
            _0x1d1b0b.push(_0x50a954.list[_0x153243].pointDM);
          }
          this._stateAll = _0x1d1b0b.length;
          for (let _0x1e9f2d = 0; _0x1e9f2d < this._stateAll; _0x1e9f2d++) {
            this._fxOnePoint(_0x1d1b0b[_0x1e9f2d], _0x23fbb7);
          }
        });
      } else {
        this._arrowLength = this.options.arrow.length ?? 40;
        this._stateAll = _0x1d1b0b.length;
        for (let _0x5ec181 = 0; _0x5ec181 < this._stateAll; _0x5ec181++) {
          this._fxOnePoint(_0x1d1b0b[_0x5ec181], _0x23fbb7);
        }
      }
    }
    _fxOnePoint(_0x2e6823, _0x11da8e) {
      if (!_0x2e6823) {
        return;
      }
      const _0x31d99c = {
        position: _0x2e6823,
        radius: _0x11da8e.radius ?? 2,
        count: _0x11da8e.count ?? 4
      };
      const _0x5ab80f = getEllipseOuterPositions(_0x31d99c);
      _0x5ab80f.push(_0x2e6823);
      const _0x5dfab3 = this._map.scene.globe.ellipsoid;
      const _0x5f0249 = {
        scene: this._map.scene,
        positions: _0x5ab80f,
        has3dtiles: _0x11da8e.has3dtiles,
        objectsToExclude: _0x11da8e.objectsToExclude,
        exact: _0x11da8e.exact
      };
      computeSurfacePoints(_0x5f0249).then(_0x5bbe19 => {
        if (this._stateAll === 0) {
          return;
        }
        if (_0x5bbe19.noHeight) {
          logWarn("未获取到高度值，贴地高度计算存在误差");
        }
        const _0x36db6d = _0x5dfab3.cartesianArrayToCartographicArray(_0x5bbe19.positions);
        const _0x56e3d0 = _0x36db6d.pop();
        let _0x23db62 = 0;
        let _0x41ee53 = _0x36db6d[0].height;
        let _0xc8765f = 0;
        let _0x5b9e96 = _0x36db6d[0].height;
        for (let _0x29f381 = 1; _0x29f381 < _0x36db6d.length - 1; _0x29f381++) {
          const _0x88add3 = _0x36db6d[_0x29f381];
          if (_0x88add3.height > _0x41ee53) {
            _0x41ee53 = _0x88add3.height;
            _0x23db62 = _0x29f381;
          }
          if (_0x88add3.height < _0x5b9e96) {
            _0x5b9e96 = _0x88add3.height;
            _0xc8765f = _0x29f381;
          }
        }
        const _0x14de39 = _0x36db6d[_0x23db62];
        const _0x22a463 = _0x36db6d[_0xc8765f];
        const _0x2aae02 = this.getSlope(_0x56e3d0, _0x14de39);
        const _0x5d437c = this.getSlope(_0x56e3d0, _0x22a463);
        if (_0x2aae02 > _0x5d437c) {
          this._fxOnePointOk(_0x2e6823, _0x56e3d0, _0x14de39, _0x2aae02);
        } else {
          this._fxOnePointOk(_0x2e6823, _0x56e3d0, _0x22a463, _0x5d437c);
        }
      });
    }
    _fxOnePointOk(_0xadd8f7, _0x59bde9, _0x12e854, _0x50c566) {
      const _0x37ed12 = Cesium__namespace.Cartographic.toCartesian(_0x59bde9);
      let _0x19c496 = Cesium__namespace.Cartographic.toCartesian(_0x12e854);
      _0x19c496 = getOnLinePointByLen(_0x37ed12, _0x19c496, this._arrowLength);
      let _0x5a33f8;
      if (_0x59bde9.height > _0x12e854.height) {
        _0x5a33f8 = [_0x37ed12, _0x19c496];
      } else {
        _0x5a33f8 = [_0x19c496, _0x37ed12];
      }
      const _0x390797 = getAngle(_0x5a33f8[0], _0x5a33f8[1], true);
      let _0x2be152 = Math.atan(_0x50c566) * 180 / Math.PI;
      _0x2be152 = Number(_0x2be152.toFixed(2));
      const _0x200996 = _0x2be152 + "°";
      const _0x28dc1a = (_0x50c566 * 100).toFixed(2) + "%";
      const _0x51a639 = {
        position: _0xadd8f7,
        slope: _0x2be152,
        slopeStr1: _0x200996,
        slopeStr2: _0x28dc1a,
        direction: _0x390797
      };
      const _0x5f107b = _0x51a639;
      if (!this._arrData) {
        this._arrData = [];
      }
      this._arrData.push(_0x5f107b);
      this.fire(EventType.endItem, {
        data: _0x5f107b,
        index: this._stateOkIndex
      });
      if (this.options.arrow.show) {
        const _0x1166d9 = {
          positions: _0x5a33f8,
          attr: _0x5f107b
        };
        this._arrowInstances.push(_0x1166d9);
      }
      this._stateOkIndex++;
      if (this._stateOkIndex >= this._stateAll) {
        if (this.options.arrow.show && this._arrowInstances.length > 0) {
          const _0x761c36 = {
            instances: this._arrowInstances,
            style: {
              materialType: PolylineArrow,
              ...this.options.arrow
            }
          };
          const _0x1ad3ed = new PolylineCombine(_0x761c36);
          this.graphicLayer.addGraphic(_0x1ad3ed);
        }
        this.fire(EventType.end, {
          ...this._eventResult,
          data: this._arrData
        });
      }
    }
    getSlope(_0x147adc, _0x10c267) {
      if (!_0x147adc || !_0x10c267) {
        return;
      }
      const _0x503930 = Math.abs(_0x147adc.height - _0x10c267.height);
      const _0x5bc3fe = Cesium__namespace.Cartesian3.distance(Cesium__namespace.Cartographic.toCartesian(_0x147adc), Cesium__namespace.Cartesian3.fromRadians(_0x10c267.longitude, _0x10c267.latitude, _0x147adc.height));
      const _0x588d6e = _0x503930 / _0x5bc3fe;
      return _0x588d6e;
    }
    clear() {
      this.graphicLayer.clear();
      this._arrowInstances = [];
      this._arrData = [];
      this._stateAll = 0;
      this._stateOkIndex = 0;
    }
    static getSlope(_0x3186b9) {
      return new Promise((_0x11024d, _0x2c6da4) => {
        const _0x4db050 = new Slope({
          point: {
            show: false
          },
          arrow: {
            show: false
          }
        });
        _0x4db050.addTo(_0x3186b9.map);
        if (_0x3186b9.endItem) {
          _0x4db050.on(EventType.endItem, _0x3186b9.endItem);
        }
        _0x4db050.on(EventType.end, _0x25a519 => {
          _0x4db050.destroy();
          _0x11024d(_0x25a519);
        });
        _0x4db050.add(_0x3186b9.positions, _0x3186b9);
      });
    }
  }
  register("slope", Slope, false);
  class TerrainPlanClip extends BaseThing {
    constructor(_0x1f27de = {}) {
      super(_0x1f27de);
      if (_0x1f27de.image && Cesium__namespace.defined(_0x1f27de.diffHeight)) {
        this.options.stylePit = this.options;
      }
    }
    get positions() {
      return this._positions;
    }
    set positions(_0x2607f4) {
      this.clear();
      if (!_0x2607f4 || _0x2607f4.length < 2) {
        logError("挖地坐标数据存在问题！", _0x2607f4);
        return;
      }
      this._positions = LngLatArray.toCartesians(_0x2607f4);
      if (this._positions.length === 2) {
        this.setLine(this._positions);
      } else {
        this._map.scene.globe.clippingPolygons = new Cesium__namespace.ClippingPolygonCollection({
          polygons: [new Cesium__namespace.ClippingPolygon({
            positions: this._positions
          })],
          inverse: this.clipOutSide,
          enabled: true
        });
        if (Cesium__namespace.defined(this.options.stylePit)) {
          this._addAreaHook(this._positions);
        }
      }
    }
    async _addAreaHook(_0x1b69d0) {
      await this._map.readyPromise;
      if (this._map.scene._terrainProviderPromise) {
        await this._map.scene._terrainProviderPromise;
      }
      const _0x363a2e = await computeSurfaceLine({
        map: this._map,
        positions: _0x1b69d0.concat(_0x1b69d0[0]),
        has3dtiles: false,
        exact: this.options.exact,
        splitNum: this.options.stylePit.splitNum ?? 50
      });
      this._addPitGraphic(_0x1b69d0, _0x363a2e.positions);
    }
    _addPitGraphic(_0x5bd972, _0x38e16a) {
      const _0x4d0443 = [];
      let _0xfa6aaf = Number.MAX_VALUE;
      for (let _0xc6701f = 0, _0xf58601 = _0x38e16a.length; _0xc6701f < _0xf58601; _0xc6701f++) {
        const _0x58eaea = Cesium__namespace.Cartographic.fromCartesian(_0x38e16a[_0xc6701f]);
        _0xfa6aaf = Math.min(_0xfa6aaf, _0x58eaea.height);
        _0x4d0443.push(_0x58eaea.height);
      }
      if (Cesium__namespace.defined(this.options.stylePit.minHeight)) {
        _0xfa6aaf = this.options.stylePit.minHeight;
      }
      const _0x4ca50c = _0xfa6aaf - this.options.stylePit.diffHeight;
      const _0x2a427a = Array(_0x38e16a.length).fill(_0x4ca50c);
      const _0x26f96f = {
        height: _0x4ca50c,
        minHeight: _0xfa6aaf,
        positionsWall: _0x38e16a,
        minimumHeights: _0x2a427a,
        maximumHeights: _0x4d0443
      };
      const _0x483c3b = {
        style: this.options.stylePit,
        data: _0x26f96f,
        positions: _0x5bd972
      };
      const _0x3962df = new PitEntity(_0x483c3b);
      this._graphicLayer.addGraphic(_0x3962df);
    }
    get diffHeight() {
      return this.options.stylePit.diffHeight;
    }
    set diffHeight(_0x41f1c4) {
      this.options.stylePit.diffHeight = _0x41f1c4;
      if (this._graphicLayer) {
        this._graphicLayer.eachGraphic(_0x830b44 => {
          _0x830b44.diffHeight = _0x41f1c4;
        });
      }
    }
    get clipOutSide() {
      return this.options.clipOutSide;
    }
    set clipOutSide(_0x411688) {
      this.options.clipOutSide = _0x411688;
      if (this._map.scene.globe.clippingPolygons) {
        this._map.scene.globe.clippingPolygons.inverse = _0x411688;
      }
    }
    _enabledHook(_0x35e7b4) {
      if (this._map.scene.globe.clippingPlanes) {
        this._map.scene.globe.clippingPlanes.enabled = _0x35e7b4;
      }
      if (this._map.scene.globe.clippingPolygons) {
        this._map.scene.globe.clippingPolygons.enabled = _0x35e7b4;
      }
      if (this._graphicLayer) {
        this._graphicLayer.show = _0x35e7b4;
      }
    }
    _addedHook() {
      this._graphicLayer = new GraphicLayer({
        ...this.options,
        private: true
      });
      this._map.addLayer(this._graphicLayer);
      if (this.options.positions && this.options.positions.length > 0) {
        this.positions = this.options.positions;
      }
    }
    _removedHook() {
      this.clear();
      if (this._graphicLayer) {
        this._map.removeLayer(this._graphicLayer, true);
        delete this._graphicLayer;
      }
    }
    setLine(_0x15c18a) {
      const _0x21b3a9 = this._createPlaneByLine(_0x15c18a[1], _0x15c18a[0]);
      if (!_0x21b3a9) {
        return;
      }
      if (Cesium__namespace.defined(this.options.stylePit)) {
        const _0x436476 = {
          ...this.options.stylePit
        };
        _0x436476.imageBottom = false;
        const _0x3a2d64 = new PitEntity({
          style: _0x436476,
          positions: [getOnLinePointByLen(_0x15c18a[1], _0x15c18a[0], 10000, true), getOnLinePointByLen(_0x15c18a[0], _0x15c18a[1], 10000, true)]
        });
        this._graphicLayer.addGraphic(_0x3a2d64);
      }
      this._map.scene.globe.clippingPlanes = new Cesium__namespace.ClippingPlaneCollection({
        planes: [_0x21b3a9],
        edgeWidth: this.options.edgeWidth ?? 1,
        edgeColor: this.options.edgeColor ?? Cesium__namespace.Color.WHITE,
        unionClippingRegions: this.clipOutSide,
        enabled: true
      });
    }
    _createPlaneByLine(_0x21da8d, _0x5263de) {
      if (Cesium__namespace.Cartesian3.distance(_0x21da8d, _0x5263de) < 0.1) {
        return null;
      }
      const _0x2fa6da = Cesium__namespace.Cartesian3.midpoint(_0x21da8d, _0x5263de, new Cesium__namespace.Cartesian3());
      const _0x4b2d6e = Cesium__namespace.Cartesian3.normalize(_0x2fa6da, new Cesium__namespace.Cartesian3());
      let _0x238a5c = Cesium__namespace.Cartesian3.subtract(_0x21da8d, _0x2fa6da, new Cesium__namespace.Cartesian3());
      _0x238a5c = Cesium__namespace.Cartesian3.normalize(_0x238a5c, _0x238a5c);
      let _0x964c26 = Cesium__namespace.Cartesian3.cross(_0x238a5c, _0x4b2d6e, new Cesium__namespace.Cartesian3());
      _0x964c26 = Cesium__namespace.Cartesian3.normalize(_0x964c26, _0x964c26);
      const _0x427fd7 = new Cesium__namespace.Plane(_0x964c26, 0);
      const _0x1bc31e = Cesium__namespace.Plane.getPointDistance(_0x427fd7, _0x2fa6da);
      return new Cesium__namespace.ClippingPlane(_0x964c26, _0x1bc31e);
    }
    clear() {
      var _0x983c3a;
      var _0x54155b;
      this._positions = null;
      if (!this._map) {
        return;
      }
      if (this._graphicLayer) {
        this._graphicLayer.clear();
      }
      if ((_0x983c3a = this._map.scene.globe) !== null && _0x983c3a !== undefined && _0x983c3a.clippingPlanes) {
        this._map.scene.globe.clippingPlanes.enabled &&= false;
        this._map.scene.globe.clippingPlanes = undefined;
      }
      if ((_0x54155b = this._map.scene.globe) !== null && _0x54155b !== undefined && _0x54155b.clippingPolygons) {
        if (this._map.scene.globe.clippingPolygons.enabled) {
          this._map.scene.globe.clippingPolygons.enabled = false;
          this._map.scene.globe.clippingPolygons.removeAll();
        }
        this._map.scene.globe.clippingPolygons = undefined;
      }
    }
  }
  register("terrainPlanClip", TerrainPlanClip);
  class TerrainEditBase extends BaseThing {
    constructor(_0x93e16e = {}) {
      super(_0x93e16e);
      if (!isMars3DCesium) {
        logError("该功能需要引入mars3d修改版Cesium库(mars3d-cesium库)才支持!", this);
      }
      this._areaList = [];
    }
    get area() {
      return this._areaList;
    }
    set area(_0x1019eb) {
      this.clear();
      _0x1019eb.forEach(_0x322da5 => {
        this.addArea(_0x322da5.positions, _0x322da5);
      });
    }
    get list() {
      return this._areaList;
    }
    get length() {
      if (this._areaList) {
        return this._areaList?.length;
      } else {
        return 0;
      }
    }
    get positions() {
      if (this.length > 0) {
        return this._areaList[0].positions;
      } else {
        return null;
      }
    }
    set positions(_0x120303) {
      this.clear();
      this.addArea(_0x120303);
    }
    _enabledHook(_0xd64504) {
      this.analysisOptions.enabled = _0xd64504;
    }
    _setOptionsHook(_0x242894, _0x34fa45) {
      for (const _0x536464 in _0x34fa45) {
        this[_0x536464] = _0x34fa45[_0x536464];
      }
    }
    _addedHook() {
      if (this.options.area) {
        this.area = this.options.area;
      } else if (this.options.positions) {
        this.positions = this.options.positions;
      }
      this.analysisOptions.enabled = this.enabled;
    }
    _removedHook() {
      this.clear();
      this.analysisOptions.enabled = false;
    }
    clear() {
      this._areaList = [];
      this._clearAnalysis();
    }
    getAreaById(_0x4a3e97) {
      for (let _0x229431 = 0; _0x229431 < this._areaList.length; _0x229431++) {
        const _0x33092c = this._areaList[_0x229431];
        if (_0x33092c.id === _0x4a3e97) {
          return _0x33092c;
        }
      }
      return null;
    }
    hideArea(_0x245470) {
      const _0x168536 = this.getAreaById(_0x245470);
      if (_0x168536) {
        _0x168536.show = false;
        if (_0x168536.downGraphic) {
          _0x168536.downGraphic.show = false;
        }
        if (_0x168536.upGraphic) {
          _0x168536.upGraphic.show = false;
        }
        this._update();
      }
    }
    showArea(_0x9e155f) {
      const _0x17e142 = this.getAreaById(_0x9e155f);
      if (_0x17e142) {
        _0x17e142.show = true;
        if (_0x17e142.downGraphic) {
          _0x17e142.downGraphic.show = true;
        }
        if (_0x17e142.upGraphic) {
          _0x17e142.upGraphic.show = true;
        }
        this._update();
      }
    }
    _removeAreaHook(_0x3022e5) {}
    removeArea(_0x2fe2d4) {
      if (!isObject(_0x2fe2d4)) {
        _0x2fe2d4 = this.getAreaById(_0x2fe2d4);
      }
      if (!_0x2fe2d4) {
        return;
      }
      this._removeAreaHook(_0x2fe2d4);
      removeArrayItem(this._areaList, _0x2fe2d4);
      this._update();
      const _0x99e0f0 = {
        area: _0x2fe2d4
      };
      this.fire(EventType.removeItem, _0x99e0f0);
    }
    _addAreaHook(_0x1b830f, _0xa47a40) {}
    addArea(_0xe132d7, _0x1f3898 = {}) {
      if (!_0xe132d7 || _0xe132d7.length === 0) {
        return;
      }
      if (_0x1f3898.simplify) {
        _0xe132d7 = simplifyPositions(_0xe132d7, _0x1f3898.simplify);
      }
      _0xe132d7 = LngLatArray.toCartesians(_0xe132d7);
      const _0x39142b = LngLatArray.toCartographics(_0xe132d7);
      const _0x2139a0 = Cesium__namespace.Rectangle.fromCartographicArray(_0x39142b);
      const _0xf36750 = {
        original: _0x1f3898,
        show: true,
        id: _0x1f3898.id ?? getGlobalId(),
        ..._0x1f3898,
        positions: _0xe132d7,
        _cartographics: _0x39142b,
        _rectangle: _0x2139a0
      };
      this._areaList.push(_0xf36750);
      this._addAreaHook(_0xf36750, _0x1f3898);
      this._update();
      const _0x281699 = {
        area: _0xf36750
      };
      this.fire(EventType.addItem, _0x281699);
      return _0xf36750;
    }
    _clearAnalysis() {
      this.analysisOptions.clear();
      this.analysisOptions.enabled = this.enabled;
    }
    _update() {
      const _0x5e8433 = [];
      this._areaList.forEach(_0x13c242 => {
        if (!_0x13c242.show || !_0x13c242.positions) {
          return;
        }
        _0x5e8433.push(_0x13c242);
      });
      if (_0x5e8433.length > 0) {
        this._updateAnalysisOptions(_0x5e8433);
      } else {
        this._clearAnalysis();
      }
      this.analysisOptions.hasUpdate = true;
    }
    _updateAnalysisOptions(_0x4aed33) {
      let _0x2a8dcf;
      const _0x23e612 = [];
      _0x4aed33.forEach(_0x111d64 => {
        _0x23e612.push(_0x111d64._cartographics);
        if (Cesium__namespace.defined(_0x2a8dcf)) {
          _0x2a8dcf = Cesium__namespace.Rectangle.union(_0x2a8dcf, _0x111d64._rectangle);
        } else {
          _0x2a8dcf = _0x111d64._rectangle;
        }
      });
      this.analysisOptions.rectangle = _0x2a8dcf;
      this.analysisOptions.areas = _0x23e612;
    }
    _toJsonEx(_0x7e2946) {
      _0x7e2946.area = [];
      this._areaList.forEach(_0x12eded => {
        _0x7e2946.area.push({
          ..._0x12eded.original,
          positions: LngLatArray.toArray(_0x12eded.positions)
        });
      });
    }
  }
  var GlobeFlodByMaterial = "uniform float u_flood_val;// 当前淹没高度\nuniform vec4 u_flood_color;\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    material.alpha = (materialInput.height < u_flood_val) ? u_flood_color.a : 0.0;\n    material.diffuse = u_flood_color.rgb;\n    return material;\n}\n";
  const FloodByMaterialType = "FlodByMaterial";
  class FloodByMaterial extends TerrainEditBase {
    get analysisOptions() {
      var _0x137d71;
      if ((_0x137d71 = this._map) === null || _0x137d71 === undefined || (_0x137d71 = _0x137d71.scene) === null || _0x137d71 === undefined || (_0x137d71 = _0x137d71.globe) === null || _0x137d71 === undefined || (_0x137d71 = _0x137d71._surface) === null || _0x137d71 === undefined || (_0x137d71 = _0x137d71.tileProvider) === null || _0x137d71 === undefined || (_0x137d71 = _0x137d71.marsOptions) === null || _0x137d71 === undefined) {
        return undefined;
      } else {
        return _0x137d71.flood;
      }
    }
    get height() {
      return this._height ?? this._minHeight ?? 0;
    }
    set height(_0x3bb4b4) {
      this._height = _0x3bb4b4;
      if (this._map.scene.globe.material?.type === FloodByMaterialType) {
        this._map.scene.globe.material.uniforms.u_flood_val = _0x3bb4b4;
      }
    }
    get speed() {
      return this.options.speed || 1;
    }
    set speed(_0x56d80b) {
      this.options.speed = Number(_0x56d80b);
    }
    get color() {
      return this._color;
    }
    set color(_0x1e49e0) {
      this._color = getCesiumColor(_0x1e49e0);
      if (this._map.scene.globe.material?.type === FloodByMaterialType) {
        this._map.scene.globe.material.uniforms.u_flood_color = this._color;
      }
    }
    get showElseArea() {
      var _0x55d01f;
      return (_0x55d01f = this.analysisOptions) === null || _0x55d01f === undefined || !_0x55d01f.onlySelf;
    }
    set showElseArea(_0x3d6e7c) {
      this.analysisOptions.onlySelf = !_0x3d6e7c;
    }
    _addedHook() {
      this._map.scene.globe.material = Cesium__namespace.Material.fromType(FloodByMaterialType);
      this.color = this.options.color ?? new Cesium__namespace.Color(0.15, 0.7, 0.95, 0.5);
      this.showElseArea = this.options.showElseArea ?? true;
      super._addedHook();
    }
    setOptions(_0x57a36b, _0x532484) {
      if (_0x57a36b) {
        if (_0x532484?.merge ?? true) {
          this.options = {
            ...this.options,
            ..._0x57a36b
          };
        } else {
          this.options = _0x57a36b;
        }
      }
      this.stop();
      let _0x540044 = this.options.minHeight;
      let _0x2abe65 = this.options.maxHeight;
      if (!Cesium__namespace.defined(_0x540044)) {
        logError("minHeight 请传入有效数值！", _0x540044);
        return;
      }
      if (!Cesium__namespace.defined(_0x2abe65)) {
        logError("maxHeight 请传入有效数值！", _0x2abe65);
        return;
      }
      if (_0x540044 > _0x2abe65) {
        const _0x318a60 = _0x540044;
        _0x540044 = _0x2abe65;
        _0x2abe65 = _0x318a60;
      }
      this._minHeight = _0x540044;
      this._maxHeight = _0x2abe65;
      this.height = _0x540044;
      this._map.scene.globe.material = Cesium__namespace.Material.fromType(FloodByMaterialType, {
        u_flood_val: this.height,
        u_flood_color: this.color
      });
      return this;
    }
    _enabledHook(_0x5d555f) {
      super._enabledHook(_0x5d555f);
      if (_0x5d555f) {
        this._map.scene.globe.material = Cesium__namespace.Material.fromType(FloodByMaterialType, {
          u_flood_val: this.height,
          u_flood_color: this.color
        });
      } else if (this._map.scene.globe.material?.type === FloodByMaterialType) {
        this._map.scene.globe.material = null;
      }
    }
    start() {
      this.stop();
      this.isStart = true;
      this.fire(EventType.start);
      this._map.on(EventType.clockTick, this._onClockTickHandler, this);
    }
    _onClockTickHandler(_0x24cbec) {
      this.height += this.speed / 50;
      if (this.height > this._maxHeight) {
        this.height = this._maxHeight;
        this.stop();
        return;
      }
      if (this.height < this._minHeight) {
        this.height = this._minHeight;
        this.stop();
        return;
      }
      this.fire(EventType.change, {
        height: this.height
      });
    }
    stop() {
      if (!this.isStart) {
        return;
      }
      this._map.off(EventType.clockTick, this._onClockTickHandler, this);
      this.isStart = false;
      this.fire(EventType.end);
    }
    restart() {
      this.setOptions();
      this.start();
    }
    clear() {
      this.stop();
      if (this._map.scene.globe.material?.type === FloodByMaterialType) {
        this._map.scene.globe.material = null;
      }
      super.clear();
    }
  }
  register("floodByMaterial", FloodByMaterial);
  Cesium__namespace.Material.FloodByMaterialType = FloodByMaterialType;
  Cesium__namespace.Material._materialCache.addMaterial(FloodByMaterialType, {
    fabric: {
      type: FloodByMaterialType,
      uniforms: {
        u_flood_color: new Cesium__namespace.Color(0.15, 0.7, 0.95, 0.5),
        u_flood_val: 0
      },
      source: GlobeFlodByMaterial
    },
    translucent: true
  });
  class ContourLine extends TerrainEditBase {
    constructor(_0x5e5fd3 = {}) {
      super(_0x5e5fd3);
      this._contourShow = _0x5e5fd3.contourShow ?? true;
      this._contourSpacing = _0x5e5fd3.spacing ?? 100;
      this._contourWidth = _0x5e5fd3.width ?? 1.5;
      this._contourColor = getCesiumColor(_0x5e5fd3.color, Cesium__namespace.Color.RED);
      this._shadingType = _0x5e5fd3.shadingType ?? "none";
      this._shadingAlpha = _0x5e5fd3.shadingAlpha ?? 0.6;
      this.colorScheme = _0x5e5fd3.colorScheme || {
        elevation: {
          step: [0, 0.045, 0.1, 0.15, 0.37, 0.54, 1],
          color: ["#000000", "#2747E0", "#D33B7D", "#D33038", "#FF9742", "#FF9742", "#ffd700"]
        },
        slope: {
          step: [0, 0.29, 0.5, Math.sqrt(2) / 2, 0.87, 0.91, 1],
          color: ["#000000", "#2747E0", "#D33B7D", "#D33038", "#FF9742", "#FF9742", "#ffd700"]
        },
        aspect: {
          step: [0, 0.2, 0.4, 0.6, 0.8, 0.9, 1],
          color: ["#000000", "#2747E0", "#D33B7D", "#D33038", "#FF9742", "#FF9742", "#ffd700"]
        }
      };
      this._minHeight = _0x5e5fd3.minHeight ?? -414;
      this._maxHeight = _0x5e5fd3.maxHeight ?? 8777;
    }
    get analysisOptions() {
      var _0x34ecf2;
      if ((_0x34ecf2 = this._map) === null || _0x34ecf2 === undefined || (_0x34ecf2 = _0x34ecf2.scene) === null || _0x34ecf2 === undefined || (_0x34ecf2 = _0x34ecf2.globe) === null || _0x34ecf2 === undefined || (_0x34ecf2 = _0x34ecf2._surface) === null || _0x34ecf2 === undefined || (_0x34ecf2 = _0x34ecf2.tileProvider) === null || _0x34ecf2 === undefined || (_0x34ecf2 = _0x34ecf2.marsOptions) === null || _0x34ecf2 === undefined) {
        return undefined;
      } else {
        return _0x34ecf2.flood;
      }
    }
    get contourShow() {
      return this._contourShow;
    }
    set contourShow(_0x7bf6fb) {
      this._contourShow = _0x7bf6fb;
      this.updateMaterial();
    }
    get shadingType() {
      return this._shadingType;
    }
    set shadingType(_0x1dfa86) {
      this._shadingType = _0x1dfa86;
      this.updateMaterial();
    }
    get shadingAlpha() {
      return this._shadingAlpha;
    }
    set shadingAlpha(_0x378fa8) {
      this._shadingAlpha = _0x378fa8;
      this.updateMaterial();
    }
    get width() {
      return this._contourWidth;
    }
    set width(_0x2f5279) {
      this._contourWidth = _0x2f5279;
      if (this.contourUniforms) {
        this.contourUniforms.width = _0x2f5279;
      }
    }
    get spacing() {
      return this._contourSpacing;
    }
    set spacing(_0x8bd7c8) {
      this._contourSpacing = _0x8bd7c8;
      if (this.contourUniforms) {
        this.contourUniforms.spacing = _0x8bd7c8;
      }
    }
    get color() {
      return this._contourColor;
    }
    set color(_0x186b9c) {
      this._contourColor = getCesiumColor(_0x186b9c);
      if (this.contourUniforms) {
        this.contourUniforms.color = _0x186b9c;
      }
    }
    get minHeight() {
      return this._minHeight;
    }
    set minHeight(_0x88da45) {
      this._minHeight = _0x88da45;
      if (this.shadingUniforms) {
        this.shadingUniforms.minimumHeight = _0x88da45;
      }
    }
    get maxHeight() {
      return this._maxHeight;
    }
    set maxHeight(_0x2d6e36) {
      this._maxHeight = _0x2d6e36;
      if (this.shadingUniforms) {
        this.shadingUniforms.maximumHeight = _0x2d6e36;
      }
    }
    get showElseArea() {
      var _0x1194e2;
      return (_0x1194e2 = this.analysisOptions) === null || _0x1194e2 === undefined || !_0x1194e2.onlySelf;
    }
    set showElseArea(_0x90bd07) {
      this.analysisOptions.onlySelf = !_0x90bd07;
    }
    _enabledHook(_0x513f9c) {
      super._enabledHook(_0x513f9c);
      this.updateMaterial();
    }
    _clearAnalysis() {
      super._clearAnalysis();
      this.contourUniforms = null;
      this.shadingUniforms = null;
      this._map.scene.globe.material = undefined;
    }
    _addedHook() {
      this._last_material = this._map.scene.globe.material;
      super._addedHook();
    }
    _removedHook() {
      super._removedHook();
      this._map.scene.globe.material = this._last_material;
      delete this._last_material;
      if (this._hasResetEnableLighting) {
        this._map.scene.globe.enableLighting = false;
        this._map.clock.currentTime = Cesium__namespace.JulianDate.now();
        delete this._hasResetEnableLighting;
      }
    }
    _addAreaHook() {
      this.updateMaterial();
    }
    _updateAnalysisOptions(_0x56eab6) {
      if (this._map.scene.globe.material === undefined) {
        this.updateMaterial();
      }
      super._updateAnalysisOptions(_0x56eab6);
    }
    updateMaterial() {
      let _0x1a7785;
      let _0x10378f;
      let _0xcbff9e;
      const _0x2ff4d2 = this._shadingType;
      if (this.contourShow) {
        if (_0x2ff4d2 === "elevation") {
          _0x1a7785 = this.getElevationContourMaterial();
          _0xcbff9e = _0x1a7785.materials.elevationRampMaterial.uniforms;
          _0xcbff9e.minimumHeight = this.minHeight;
          _0xcbff9e.maximumHeight = this.maxHeight;
          _0x10378f = _0x1a7785.materials.contourMaterial.uniforms;
        } else if (_0x2ff4d2 === "slope") {
          _0x1a7785 = this.getSlopeContourMaterial();
          _0xcbff9e = _0x1a7785.materials.slopeRampMaterial.uniforms;
          _0x10378f = _0x1a7785.materials.contourMaterial.uniforms;
        } else if (_0x2ff4d2 === "aspect") {
          _0x1a7785 = this.getAspectContourMaterial();
          _0xcbff9e = _0x1a7785.materials.aspectRampMaterial.uniforms;
          _0x10378f = _0x1a7785.materials.contourMaterial.uniforms;
        } else {
          _0x1a7785 = Cesium__namespace.Material.fromType("ElevationContour");
          _0x10378f = _0x1a7785.uniforms;
        }
        _0x10378f.width = this._contourWidth;
        _0x10378f.spacing = this._contourSpacing;
        _0x10378f.color = this._contourColor;
      } else if (_0x2ff4d2 === "elevation") {
        _0x1a7785 = Cesium__namespace.Material.fromType("ElevationRamp");
        _0xcbff9e = _0x1a7785.uniforms;
        _0xcbff9e.minimumHeight = this.minHeight;
        _0xcbff9e.maximumHeight = this.maxHeight;
      } else if (_0x2ff4d2 === "slope") {
        _0x1a7785 = Cesium__namespace.Material.fromType("SlopeRamp");
        _0xcbff9e = _0x1a7785.uniforms;
      } else if (_0x2ff4d2 === "aspect") {
        _0x1a7785 = Cesium__namespace.Material.fromType("AspectRamp");
        _0xcbff9e = _0x1a7785.uniforms;
      }
      if (_0x2ff4d2 !== "none" && _0xcbff9e) {
        _0xcbff9e.image = this.getColorRamp(_0x2ff4d2);
      }
      if (_0x2ff4d2 === "slope" || _0x2ff4d2 === "aspect") {
        if (!this._map.scene.globe.enableLighting) {
          this._map.scene.globe.enableLighting = true;
          const _0x1a85c6 = new Date();
          _0x1a85c6.setHours(10);
          this._map.clock.currentTime = Cesium__namespace.JulianDate.fromDate(new Date(_0x1a85c6));
          this._hasResetEnableLighting = true;
        }
      } else if (this._hasResetEnableLighting) {
        this._map.scene.globe.enableLighting = false;
        this._map.clock.currentTime = Cesium__namespace.JulianDate.now();
        delete this._hasResetEnableLighting;
      }
      this.contourUniforms = _0x10378f;
      this.shadingUniforms = _0xcbff9e;
      this._map.scene.globe.material = _0x1a7785;
    }
    getColorRamp(_0xf53dd1) {
      var _0x45466a;
      const _0x224668 = document.createElement("canvas");
      _0x224668.width = 100;
      _0x224668.height = 1;
      const _0x24b4f4 = _0x224668.getContext("2d", {
        willReadFrequently: true
      });
      _0x24b4f4.globalAlpha = this.shadingAlpha;
      const _0x2f7705 = _0x24b4f4.createLinearGradient(0, 0, 100, 0);
      const _0x48d5cc = this.colorScheme[_0xf53dd1];
      if ((_0x48d5cc === null || _0x48d5cc === undefined || (_0x45466a = _0x48d5cc.step) === null || _0x45466a === undefined ? undefined : _0x45466a.length) > 0) {
        for (let _0x12558b = 0, _0x1b0f31 = _0x48d5cc.step.length; _0x12558b < _0x1b0f31; _0x12558b++) {
          _0x2f7705.addColorStop(_0x48d5cc.step[_0x12558b], _0x48d5cc.color[_0x12558b]);
        }
      }
      _0x24b4f4.fillStyle = _0x2f7705;
      _0x24b4f4.fillRect(0, 0, 100, 1);
      return _0x224668;
    }
    getElevationContourMaterial() {
      return new Cesium__namespace.Material({
        fabric: {
          type: "ElevationColorContour",
          materials: {
            contourMaterial: {
              type: "ElevationContour"
            },
            elevationRampMaterial: {
              type: "ElevationRamp"
            }
          },
          components: {
            diffuse: "contourMaterial.alpha == 0.0 ? elevationRampMaterial.diffuse : contourMaterial.diffuse",
            alpha: "max(contourMaterial.alpha, elevationRampMaterial.alpha)"
          }
        },
        translucent: false
      });
    }
    getSlopeContourMaterial() {
      return new Cesium__namespace.Material({
        fabric: {
          type: "SlopeColorContour",
          materials: {
            contourMaterial: {
              type: "ElevationContour"
            },
            slopeRampMaterial: {
              type: "SlopeRamp"
            }
          },
          components: {
            diffuse: "contourMaterial.alpha == 0.0 ? slopeRampMaterial.diffuse : contourMaterial.diffuse",
            alpha: "max(contourMaterial.alpha, slopeRampMaterial.alpha)"
          }
        },
        translucent: false
      });
    }
    getAspectContourMaterial() {
      return new Cesium__namespace.Material({
        fabric: {
          type: "AspectColorContour",
          materials: {
            contourMaterial: {
              type: "ElevationContour"
            },
            aspectRampMaterial: {
              type: "AspectRamp"
            }
          },
          components: {
            diffuse: "contourMaterial.alpha == 0.0 ? aspectRampMaterial.diffuse : contourMaterial.diffuse",
            alpha: "max(contourMaterial.alpha, aspectRampMaterial.alpha)"
          }
        },
        translucent: false
      });
    }
  }
  register("contourLine", ContourLine);
  class TerrainFlat extends TerrainEditBase {
    get analysisOptions() {
      var _0x2ed29b;
      if ((_0x2ed29b = this._map) === null || _0x2ed29b === undefined || (_0x2ed29b = _0x2ed29b.scene) === null || _0x2ed29b === undefined || (_0x2ed29b = _0x2ed29b.globe) === null || _0x2ed29b === undefined || (_0x2ed29b = _0x2ed29b._surface) === null || _0x2ed29b === undefined || (_0x2ed29b = _0x2ed29b.tileProvider) === null || _0x2ed29b === undefined || (_0x2ed29b = _0x2ed29b.marsOptions) === null || _0x2ed29b === undefined) {
        return undefined;
      } else {
        return _0x2ed29b.flat;
      }
    }
    _enabledHook(_0x1d3f56) {
      this.analysisOptions.enabled = _0x1d3f56;
    }
    _removedHook() {
      this.clear();
      this.analysisOptions.enabled = false;
    }
    _updateAnalysisOptions(_0x32d0e2) {
      let _0x578c38;
      const _0x48d39b = [];
      const _0xf71f16 = [];
      const _0x5318ad = [];
      _0x32d0e2.forEach(_0x240060 => {
        const _0x56b4e3 = _0x240060._cartographics;
        _0xf71f16.push(_0x56b4e3);
        _0x240060._rectangle._flatHeight = _0x240060.height || 0;
        _0x5318ad.push(_0x240060._rectangle);
        let _0x344cf4 = _0x56b4e3[0].height;
        _0x56b4e3.forEach(_0x4ac118 => {
          _0x344cf4 = Math.min(_0x344cf4, _0x4ac118.height);
        });
        _0x48d39b.push(_0x344cf4 - (_0x240060.height || 0));
        if (Cesium__namespace.defined(_0x578c38)) {
          _0x578c38 = Cesium__namespace.Rectangle.union(_0x578c38, _0x240060._rectangle);
        } else {
          _0x578c38 = _0x240060._rectangle;
        }
      });
      this.analysisOptions.heights = _0x48d39b;
      this.analysisOptions.rectangle = _0x578c38;
      this.analysisOptions.rectangles = _0x5318ad;
      this.analysisOptions.areas = _0xf71f16;
    }
  }
  register("terrainFlat", TerrainFlat);
  class TerrainUplift extends TerrainEditBase {
    constructor(_0x55d7cf = {}) {
      super(_0x55d7cf);
      if (_0x55d7cf.image && Cesium__namespace.defined(_0x55d7cf.diffHeight)) {
        this.options.stylePit = this.options;
      }
    }
    get analysisOptions() {
      var _0x1646ba;
      if ((_0x1646ba = this._map) === null || _0x1646ba === undefined || (_0x1646ba = _0x1646ba.scene) === null || _0x1646ba === undefined || (_0x1646ba = _0x1646ba.globe) === null || _0x1646ba === undefined || (_0x1646ba = _0x1646ba._surface) === null || _0x1646ba === undefined || (_0x1646ba = _0x1646ba.tileProvider) === null || _0x1646ba === undefined || (_0x1646ba = _0x1646ba.marsOptions) === null || _0x1646ba === undefined) {
        return undefined;
      } else {
        return _0x1646ba.uplift;
      }
    }
    get showUp() {
      return this.analysisOptions?.showUp;
    }
    set showUp(_0x38a5de) {
      this.analysisOptions.showUp = _0x38a5de;
    }
    get upHeight() {
      return this.options.upHeight ?? 0;
    }
    set upHeight(_0xf43faa) {
      this.options.upHeight = _0xf43faa;
      if (this._areaList.length > 0) {
        this.analysisOptions.height = _0xf43faa;
        this.analysisOptions.hasUpdate = true;
        for (let _0x551b9a = 0; _0x551b9a < this._areaList.length; _0x551b9a++) {
          const _0x30029b = this._areaList[_0x551b9a];
          if (_0x30029b.upGraphic) {
            _0x30029b.upGraphic.setUpHeight(_0xf43faa);
          }
        }
      }
    }
    _enabledHook(_0x2c3494) {
      this.analysisOptions.enabled = _0x2c3494;
      if (this._graphicLayer) {
        this._graphicLayer.show = _0x2c3494;
      }
    }
    _addedHook() {
      if (this._map.scene.verticalExaggeration === 1) {
        this._map.scene.verticalExaggeration = 1.001;
      }
      if (!this._map.scene.globe.depthTestAgainstTerrain) {
        this._map.scene.globe.depthTestAgainstTerrain = true;
        this._hasChangeDepthTestAgainstTerrain = true;
      }
      this._graphicLayer = new GraphicLayer({
        ...this.options,
        private: true
      });
      this._map.addLayer(this._graphicLayer);
      super._addedHook();
    }
    _removedHook() {
      this.clear();
      this.analysisOptions.enabled = false;
      this._map.removeLayer(this._graphicLayer, true);
      delete this._graphicLayer;
      if (this._hasChangeDepthTestAgainstTerrain) {
        this._map.scene.globe.depthTestAgainstTerrain = false;
        this._hasChangeDepthTestAgainstTerrain = false;
      }
    }
    clear() {
      super.clear();
      this._graphicLayer.clear();
    }
    async _addAreaHook(_0x4ee1ce, _0xdc4e29) {
      if (Cesium__namespace.defined(this.options.stylePit)) {
        await this._map.readyPromise;
        if (this._map.scene._terrainProviderPromise) {
          await this._map.scene._terrainProviderPromise;
        }
        const _0x3206e5 = await computeSurfaceLine({
          map: this._map,
          positions: _0x4ee1ce.positions.concat(_0x4ee1ce.positions[0]),
          has3dtiles: false,
          exact: this.options.exact,
          splitNum: this.options.stylePit.splitNum ?? 50
        });
        _0x4ee1ce.positionsNew = _0x3206e5.positions;
        this._addPitGraphic(_0x4ee1ce, _0xdc4e29);
      }
    }
    _addPitGraphic(_0x4baa86, _0x38277a) {
      if (!this.getAreaById(_0x4baa86.id)) {
        return;
      }
      const _0x3daacc = _0x4baa86.positionsNew;
      const _0x5ae134 = [];
      let _0x73ffd8 = Number.MAX_VALUE;
      for (let _0x2ec306 = 0, _0x3d8365 = _0x3daacc.length; _0x2ec306 < _0x3d8365; _0x2ec306++) {
        const _0x2961a3 = Cesium__namespace.Cartographic.fromCartesian(_0x3daacc[_0x2ec306]);
        _0x73ffd8 = Math.min(_0x73ffd8, _0x2961a3.height);
        _0x5ae134.push(_0x2961a3.height);
      }
      const _0x25b5c2 = _0x38277a.minHeight ?? this.options.stylePit.minHeight;
      const _0x8b1e36 = _0x38277a.diffHeight ?? this.options.stylePit.diffHeight;
      if (Cesium__namespace.defined(_0x25b5c2)) {
        _0x73ffd8 = _0x25b5c2;
      }
      const _0x3646d5 = _0x73ffd8 - _0x8b1e36;
      const _0xfb816e = Array(_0x3daacc.length).fill(_0x3646d5);
      _0x4baa86.minHeight = _0x73ffd8;
      _0x4baa86.diffHeight = _0x8b1e36;
      const _0x4e850a = {
        ...this.options.stylePit
      };
      _0x4e850a.label = false;
      _0x4e850a.minHeight = _0x25b5c2;
      _0x4e850a.diffHeight = _0x8b1e36;
      const _0x55bdb6 = {
        height: _0x3646d5,
        minHeight: _0x73ffd8,
        positionsWall: _0x3daacc,
        minimumHeights: _0xfb816e,
        maximumHeights: _0x5ae134
      };
      _0x4baa86.downGraphic = new PitEntity({
        style: _0x4e850a,
        data: _0x55bdb6,
        positions: _0x4baa86.positions
      });
      this._graphicLayer.addGraphic(_0x4baa86.downGraphic);
      const _0x52c5d6 = this.upHeight;
      if (this.showUp && _0x52c5d6 !== 0) {
        const _0x3333e1 = {
          ..._0x38277a,
          ...this.options.stylePit
        };
        const _0x403562 = {
          height: _0x3646d5,
          minHeight: _0x73ffd8,
          positionsWall: _0x3daacc,
          minimumHeights: _0xfb816e,
          maximumHeights: _0x5ae134
        };
        _0x4baa86.upGraphic = new PitEntity({
          style: _0x3333e1,
          data: _0x403562,
          positions: _0x4baa86.positions
        });
        this._graphicLayer.addGraphic(_0x4baa86.upGraphic);
        _0x4baa86.upGraphic.setUpHeight(_0x52c5d6);
      }
    }
    _removeAreaHook(_0x33d3e1) {
      if (_0x33d3e1 !== null && _0x33d3e1 !== undefined && _0x33d3e1.downGraphic) {
        this._graphicLayer.removeGraphic(_0x33d3e1.downGraphic, true);
        delete _0x33d3e1.downGraphic;
      }
      if (_0x33d3e1 !== null && _0x33d3e1 !== undefined && _0x33d3e1.upGraphic) {
        this._graphicLayer.removeGraphic(_0x33d3e1.upGraphic, true);
        delete _0x33d3e1.upGraphic;
      }
    }
    _updateAnalysisOptions(_0x3e21a5) {
      let _0x47f702;
      const _0x657167 = [];
      const _0x38654e = [];
      _0x3e21a5.forEach(_0x2c3c3a => {
        _0x657167.push(_0x2c3c3a._cartographics);
        _0x38654e.push(_0x2c3c3a._rectangle);
        if (Cesium__namespace.defined(_0x47f702)) {
          _0x47f702 = Cesium__namespace.Rectangle.union(_0x47f702, _0x2c3c3a._rectangle);
        } else {
          _0x47f702 = _0x2c3c3a._rectangle;
        }
      });
      this.analysisOptions.height = this.upHeight;
      this.analysisOptions.rectangle = _0x47f702;
      this.analysisOptions.rectangles = _0x38654e;
      this.analysisOptions.areas = _0x657167;
    }
    movingAnimation(_0x57d1ba, _0x30b3b1, _0x5a1307 = 5) {
      if (this._clockTickHandler) {
        this._map.off(EventType.clockTick, this._clockTickHandler, this);
        delete this._clockTickHandler;
      }
      if (this._areaList.length === 0) {
        return;
      }
      if (!Cesium__namespace.defined(_0x57d1ba)) {
        _0x57d1ba = 0;
      }
      if (!Cesium__namespace.defined(_0x30b3b1)) {
        _0x30b3b1 = this.upHeight;
      }
      const _0x549d9c = 20;
      const _0x1d47eb = (_0x30b3b1 - _0x57d1ba) / (_0x5a1307 * _0x549d9c);
      const _0x5985c1 = _0x1d47eb < 0;
      let _0x5cd63f = _0x57d1ba;
      this._areaList.forEach(_0x2b3174 => {
        if (_0x2b3174.show && _0x2b3174.upGraphic) {
          _0x2b3174.upGraphic._setPositionsToCallback();
        }
      });
      this._clockTickHandler = function () {
        if (this._areaList.length === 0 || !this._map) {
          return;
        }
        if (!_0x5985c1 && _0x5cd63f <= _0x30b3b1 || _0x5985c1 && _0x5cd63f >= _0x30b3b1) {
          this.analysisOptions.height = _0x5cd63f;
          this._areaList.forEach(_0x2069e5 => {
            if (_0x2069e5.show && _0x2069e5.upGraphic) {
              _0x2069e5.upGraphic.setUpHeight(_0x5cd63f);
            }
          });
        } else {
          if (this._clockTickHandler) {
            this._map.off(EventType.clockTick, this._clockTickHandler, this);
            delete this._clockTickHandler;
          }
          this.upHeight = _0x5cd63f;
        }
        _0x5cd63f += _0x1d47eb;
      };
      this._map.on(EventType.clockTick, this._clockTickHandler, this);
    }
  }
  register("terrainUplift", TerrainUplift);
  class TerrainClip extends TerrainEditBase {
    constructor(_0xf15e89 = {}) {
      _0xf15e89.czm = _0xf15e89.czm ?? true;
      super(_0xf15e89);
      if (_0xf15e89.image && Cesium__namespace.defined(_0xf15e89.diffHeight)) {
        this.options.stylePit = this.options;
      }
    }
    get analysisOptions() {
      if (this.options.czm) {
        var _0x8e44c6;
        if ((_0x8e44c6 = this._map) === null || _0x8e44c6 === undefined || (_0x8e44c6 = _0x8e44c6.scene) === null || _0x8e44c6 === undefined || (_0x8e44c6 = _0x8e44c6.globe) === null || _0x8e44c6 === undefined) {
          return undefined;
        } else {
          return _0x8e44c6.clippingPolygons;
        }
      } else {
        var _0x93dc89;
        if ((_0x93dc89 = this._map) === null || _0x93dc89 === undefined || (_0x93dc89 = _0x93dc89.scene) === null || _0x93dc89 === undefined || (_0x93dc89 = _0x93dc89.globe) === null || _0x93dc89 === undefined || (_0x93dc89 = _0x93dc89._surface) === null || _0x93dc89 === undefined || (_0x93dc89 = _0x93dc89.tileProvider) === null || _0x93dc89 === undefined || (_0x93dc89 = _0x93dc89.marsOptions) === null || _0x93dc89 === undefined) {
          return undefined;
        } else {
          return _0x93dc89.clip;
        }
      }
    }
    get clipOutSide() {
      return this.options.clipOutSide;
    }
    set clipOutSide(_0x613614) {
      this.options.clipOutSide = _0x613614;
      if (this.options.czm) {
        if (this.length > 0) {
          this.analysisOptions.inverse = _0x613614;
        }
      } else {
        this.analysisOptions.onlySelf = _0x613614;
      }
    }
    get diffHeight() {
      return this.options.stylePit.diffHeight;
    }
    set diffHeight(_0x2ab56e) {
      this.options.stylePit.diffHeight = _0x2ab56e;
      if (this._graphicLayer) {
        this._graphicLayer.eachGraphic(_0x3b7c5a => {
          _0x3b7c5a.diffHeight = _0x2ab56e;
        });
      }
    }
    _enabledHook(_0x450496) {
      this.analysisOptions.enabled = _0x450496;
      if (this._graphicLayer) {
        this._graphicLayer.show = _0x450496;
      }
    }
    _addedHook() {
      if (this.options.czm) {
        this._map.scene.globe.clippingPolygons = new Cesium__namespace.ClippingPolygonCollection({
          polygons: [],
          inverse: this.clipOutSide,
          enabled: this.enabled
        });
      }
      if (!this._map.scene.globe.depthTestAgainstTerrain) {
        this._map.scene.globe.depthTestAgainstTerrain = true;
        this._hasChangeDepthTestAgainstTerrain = true;
      }
      this._graphicLayer = new GraphicLayer({
        ...this.options,
        private: true
      });
      this._map.addLayer(this._graphicLayer);
      this.clipOutSide = this.options.clipOutSide ?? false;
      super._addedHook();
    }
    _removedHook() {
      this.clear();
      this.analysisOptions.enabled = false;
      this._map.removeLayer(this._graphicLayer, true);
      delete this._graphicLayer;
      if (this._hasChangeDepthTestAgainstTerrain) {
        this._map.scene.globe.depthTestAgainstTerrain = false;
        this._hasChangeDepthTestAgainstTerrain = false;
      }
    }
    clear() {
      super.clear();
      this._graphicLayer.clear();
    }
    _clearAnalysis() {
      if (this.options.czm) {
        this.analysisOptions.removeAll();
        this.analysisOptions.enabled = this.enabled;
        this.analysisOptions.inverse &&= false;
      } else {
        super._clearAnalysis();
      }
    }
    _updateAnalysisOptions(_0x3c27e2) {
      if (this.options.czm) {
        this.analysisOptions.removeAll();
        _0x3c27e2.forEach(_0x5dff69 => {
          const _0x28bec0 = {
            positions: _0x5dff69.positions
          };
          this.analysisOptions.add(new Cesium__namespace.ClippingPolygon(_0x28bec0));
        });
        if (this.clipOutSide && !this.analysisOptions.inverse) {
          this.analysisOptions.inverse = this.clipOutSide;
        }
      } else {
        super._updateAnalysisOptions(_0x3c27e2);
      }
    }
    async _addAreaHook(_0x5c7f7b, _0x49af40) {
      if (Cesium__namespace.defined(this.options.stylePit)) {
        await this._map.readyPromise;
        if (this._map.scene._terrainProviderPromise) {
          await this._map.scene._terrainProviderPromise;
        }
        const _0x19c9b1 = await computeSurfaceLine({
          map: this._map,
          positions: _0x5c7f7b.positions.concat(_0x5c7f7b.positions[0]),
          has3dtiles: false,
          exact: this.options.exact,
          splitNum: this.options.stylePit.splitNum ?? 50
        });
        _0x5c7f7b.positionsNew = _0x19c9b1.positions;
        this._addPitGraphic(_0x5c7f7b, _0x49af40);
      }
    }
    _addPitGraphic(_0x31b5c7, _0x4bdba8) {
      if (!this.getAreaById(_0x31b5c7.id)) {
        return;
      }
      const _0x33da73 = _0x31b5c7.positionsNew;
      const _0x1b5603 = [];
      let _0x1aaa69 = Number.MAX_VALUE;
      for (let _0x18f0e4 = 0, _0x491a32 = _0x33da73.length; _0x18f0e4 < _0x491a32; _0x18f0e4++) {
        const _0x1fbc06 = Cesium__namespace.Cartographic.fromCartesian(_0x33da73[_0x18f0e4]);
        _0x1aaa69 = Math.min(_0x1aaa69, _0x1fbc06.height);
        _0x1b5603.push(_0x1fbc06.height);
      }
      const _0x280798 = _0x4bdba8.minHeight ?? this.options.stylePit.minHeight;
      const _0x10e04f = _0x4bdba8.diffHeight ?? this.options.stylePit.diffHeight;
      if (Cesium__namespace.defined(_0x280798)) {
        _0x1aaa69 = _0x280798;
      }
      const _0x5ddd74 = _0x1aaa69 - _0x10e04f;
      const _0x285475 = Array(_0x33da73.length).fill(_0x5ddd74);
      _0x31b5c7.minHeight = _0x1aaa69;
      _0x31b5c7.diffHeight = _0x10e04f;
      this._removeAreaHook(_0x31b5c7);
      const _0x2b9fe1 = {
        ...this.options.stylePit
      };
      _0x2b9fe1.minHeight = _0x280798;
      _0x2b9fe1.diffHeight = _0x10e04f;
      const _0x2cc4bf = {
        height: _0x5ddd74,
        minHeight: _0x1aaa69,
        positionsWall: _0x33da73,
        minimumHeights: _0x285475,
        maximumHeights: _0x1b5603
      };
      _0x31b5c7.downGraphic = new PitEntity({
        style: _0x2b9fe1,
        data: _0x2cc4bf,
        positions: _0x31b5c7.positions
      });
      this._graphicLayer.addGraphic(_0x31b5c7.downGraphic);
    }
    _removeAreaHook(_0x517795) {
      if (_0x517795 !== null && _0x517795 !== undefined && _0x517795.downGraphic) {
        this._graphicLayer.removeGraphic(_0x517795.downGraphic, true);
        delete _0x517795.downGraphic;
      }
    }
  }
  register("terrainClip", TerrainClip);
  class LimitHeight extends BaseThing {
    get layer() {
      return this._layer;
    }
    get positions() {
      return this.options.positions;
    }
    set positions(_0x5d467e) {
      this.options.positions = _0x5d467e;
      this._createGraphic();
    }
    get height() {
      return this.options.height || 0;
    }
    set height(_0x2201b6) {
      this.options.height = _0x2201b6;
      this._createGraphic();
    }
    get diffHeight() {
      return this.options.diffHeight ?? 1000;
    }
    set diffHeight(_0x218849) {
      this.options.diffHeight = _0x218849;
      this._createGraphic();
    }
    get bottomHeight() {
      return this.options.bottomHeight || 0;
    }
    set bottomHeight(_0x15f319) {
      this.options.bottomHeight = _0x15f319;
      this._createGraphic();
    }
    _mountedHook() {
      this._layer = new GraphicLayer({
        private: true
      });
    }
    _addedHook() {
      this._map.addLayer(this._layer);
      if (this.options.positions) {
        this.positions = this.options.positions;
      }
    }
    _removedHook() {
      if (this._graphic) {
        this._layer.removeGraphic(this._graphic);
        delete this._graphic;
      }
      this._map.removeLayer(this._layer);
    }
    _createGraphic() {
      if (this._graphic) {
        this._layer.removeGraphic(this._graphic);
        delete this._graphic;
      }
      if (!this.options.positions) {
        return;
      }
      const _0x134831 = LngLatArray.toCartesians(this.options.positions);
      this._graphic = new PolygonPrimitive({
        positions: _0x134831,
        style: {
          ...this.options,
          height: this.bottomHeight + this.height,
          diffHeight: this.diffHeight,
          perPositionHeight: false,
          classification: true,
          classificationType: Cesium__namespace.ClassificationType.CESIUM_3D_TILE
        },
        asynchronous: false
      });
      this._layer.addGraphic(this._graphic);
    }
    clear() {
      this.options.positions = null;
      if (this._graphic) {
        this._layer.removeGraphic(this._graphic);
        delete this._graphic;
      }
    }
  }
  register("limitHeight", LimitHeight, false);
  class ModelPlanClip extends TilesetPlanClip {
    get clipTarget() {
      return this._model;
    }
    set clipTarget(_0x2bafb2) {
      this._model = _0x2bafb2;
      this._inverseMatrix = null;
      if (this.clippingPlanes) {
        this._model.clippingPlanes = this.clippingPlanes;
      }
    }
    get graphic() {
      return this._graphic;
    }
    set graphic(_0x292ad2) {
      if (_0x292ad2.readyPromise) {
        _0x292ad2.readyPromise.then(_0x2b1e67 => {
          this._model = _0x292ad2.primitive;
          this._modelMatrix = _0x292ad2.modelMatrix;
        });
        return;
      }
      this._graphic = _0x292ad2;
      if (_0x292ad2.entity) {
        this._model = _0x292ad2.entity.model;
        this._modelMatrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(getPositionValue(_0x292ad2.position));
      } else if (_0x292ad2 instanceof Cesium__namespace.Entity) {
        this._model = _0x292ad2.model;
        this._modelMatrix = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(getPositionValue(_0x292ad2.position));
      } else if (_0x292ad2.primitive) {
        this._model = _0x292ad2.primitive;
        this._modelMatrix = _0x292ad2.modelMatrix;
      } else if (_0x292ad2 instanceof Cesium__namespace.Model) {
        this._model = _0x292ad2;
        this._modelMatrix = _0x292ad2.modelMatrix;
      }
    }
    get inverseMatrix() {
      if (!this._inverseMatrix && this._modelMatrix) {
        this._inverseMatrix = Cesium__namespace.Matrix4.inverseTransformation(this._modelMatrix, new Cesium__namespace.Matrix4());
      }
      return this._inverseMatrix;
    }
    _mountedHook() {
      if (this.options.graphic) {
        this.graphic = this.options.graphic;
      }
    }
  }
  ModelPlanClip.Type = ClipType;
  register("modelPlanClip", ModelPlanClip, false);
  class TilesetBoxClip extends BaseThing {
    get clipTarget() {
      return this._tileset;
    }
    set clipTarget(_0x5b5325) {
      this._tileset = _0x5b5325;
      this._inverseMatrix = null;
      if (Cesium__namespace.defined(this.options.position)) {
        this.position = this.options.position;
      }
    }
    get layer() {
      return this._layer;
    }
    set layer(_0x1ad8d3) {
      this._layer = _0x1ad8d3;
      if (_0x1ad8d3.loadOk) {
        this.clipTarget = _0x1ad8d3.tileset;
      } else {
        _0x1ad8d3.on(EventType.load, _0x131104 => {
          this.clipTarget = _0x1ad8d3.tileset;
        });
      }
    }
    get planes() {
      return this.clippingPlanes;
    }
    get inverseMatrix() {
      if (!this._inverseMatrix) {
        let _0x4354b9;
        const _0x3d0410 = this._tileset.root.transform;
        if (_0x3d0410 && _0x3d0410.equals(Cesium__namespace.Matrix4.IDENTITY) || !_0x3d0410) {
          _0x4354b9 = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this._tileset.boundingSphere.center);
        } else {
          _0x4354b9 = Cesium__namespace.Matrix4.fromArray(this._tileset.root.transform);
        }
        this._inverseMatrix = Cesium__namespace.Matrix4.inverseTransformation(_0x4354b9, new Cesium__namespace.Matrix4());
      }
      return this._inverseMatrix;
    }
    get center() {
      if (this._layer) {
        return this._layer.position;
      }
      return this._tileset.boundingSphere.center;
    }
    get position() {
      return this._position;
    }
    set position(_0x55ab40) {
      this._position = LngLatPoint.toCartesian(_0x55ab40);
      this.redraw();
    }
    get dimensions() {
      return this.options.dimensions;
    }
    set dimensions(_0x5e3db5) {
      this.options.dimensions = _0x5e3db5;
      this.redraw();
    }
    get showBox() {
      return this.options.showBox;
    }
    set showBox(_0x10f780) {
      this.options.showBox = _0x10f780;
      if (this.options.showBox) {
        if (!this._graphicLayer) {
          this._graphicLayer = new GraphicLayer({
            ...this.options,
            private: true
          });
        }
        this._graphicLayer.show = true;
      } else if (this._graphicLayer) {
        this._graphicLayer.show = false;
      }
      this.redraw();
    }
    _mountedHook() {
      if (this.options.showBox) {
        this._graphicLayer = new GraphicLayer({
          ...this.options,
          private: true
        });
      }
      if (this.options.layer) {
        this.layer = this.options.layer;
      } else if (this.options.tileset) {
        this.clipTarget = this.options.tileset;
      }
    }
    _addedHook() {
      if (this._graphicLayer) {
        this._map.addLayer(this._graphicLayer);
      }
      if (this.clipTarget) {
        if (Cesium__namespace.defined(this.options.position)) {
          this.position = this.options.position;
        }
      }
    }
    _removedHook() {
      this.clear();
      if (this._graphicLayer) {
        this._map.removeLayer(this._graphicLayer);
      }
    }
    redraw() {
      if (!this.position || !this.dimensions) {
        return;
      }
      const _0x8b4ea = this.dimensions.x / 2;
      const _0x1067f0 = this.dimensions.y / 2;
      const _0x41a7bb = this.dimensions.z / 2;
      const _0x2f93b5 = this.inverseMatrix;
      const _0x2c7c4a = Cesium__namespace.Matrix4.multiplyByPoint(_0x2f93b5, this.center, new Cesium__namespace.Cartesian3());
      const _0x256c64 = Cesium__namespace.Matrix4.multiplyByPoint(_0x2f93b5, this.position, new Cesium__namespace.Cartesian3());
      const _0x3b5f42 = _0x2c7c4a.x - _0x256c64.x;
      const _0x4bf938 = _0x2c7c4a.y - _0x256c64.y;
      const _0x31736f = _0x2c7c4a.z - _0x256c64.z;
      const _0x5ce3f8 = this.options.clipOutSide ? 1 : -1;
      const _0x4626b7 = [new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(0, 0, 1), _0x5ce3f8 * _0x41a7bb + _0x31736f), new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(0, 0, -1), _0x5ce3f8 * _0x41a7bb - _0x31736f), new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(1, 0, 0), _0x5ce3f8 * _0x8b4ea + _0x3b5f42), new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(-1, 0, 0), _0x5ce3f8 * _0x8b4ea - _0x3b5f42), new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(0, 1, 0), _0x5ce3f8 * _0x1067f0 + _0x4bf938), new Cesium__namespace.ClippingPlane(new Cesium__namespace.Cartesian3(0, -1, 0), _0x5ce3f8 * _0x1067f0 - _0x4bf938)];
      const _0x4ac7a4 = new Cesium__namespace.ClippingPlaneCollection({
        planes: _0x4626b7,
        edgeWidth: this.options.edgeWidth ?? 0,
        edgeColor: this.options.edgeColor ?? Cesium__namespace.Color.WHITE,
        unionClippingRegions: this.options.clipOutSide ?? false
      });
      this.clippingPlanes = _0x4ac7a4;
      if (this.clipTarget) {
        this.clipTarget.clippingPlanes = _0x4ac7a4;
      }
      if (this.options.showBox) {
        this._graphicLayer.clear();
        const _0x40cba4 = new BoxEntity({
          position: this.position,
          style: {
            dimensions: this.options.dimensions,
            color: Cesium__namespace.Color.WHITE.withAlpha(0.2),
            ...this.options.boxStyle
          }
        });
        this._graphicLayer.addGraphic(_0x40cba4);
      }
    }
    clear() {
      var _0x24642e;
      if (this._graphicLayer) {
        this._graphicLayer.clear();
      }
      if (this.clippingPlanes) {
        delete this.clippingPlanes;
      }
      if ((_0x24642e = this.clipTarget) !== null && _0x24642e !== undefined && (_0x24642e = _0x24642e.clippingPlanes) !== null && _0x24642e !== undefined && _0x24642e.enabled) {
        this.clipTarget.clippingPlanes.enabled = false;
      }
      this.clipTarget.clippingPlanes = undefined;
    }
  }
  register("tilesetBoxClip", TilesetBoxClip, false);
  var TilesetShakeVS = "uniform sampler2D u_mars3d_snake_texture; // 范围\nuniform float u_mars3d_snake_time;\nuniform bool u_mars3d_snake_showAll;\n\nconst float PI_mars3d_snake = 3.141592653589793;\n\n// 计算一个随机单位向量\nfloat random_mars3d_snake(vec3 scale, float seed) {\n  return fract(sin(dot(vec3(czm_viewport.zw, 0.5) + seed, scale)) * 43758.5453 + seed);\n}\nvec3 uniformlyRandomDirection_mars3d_snake(float seed) {\n  float u = random_mars3d_snake(vec3(12.9898, 78.233, 151.7182), seed);\n  float v = random_mars3d_snake(vec3(63.7264, 10.873, 623.6736), seed);\n  float z = 1.0 - 2.0 * u;\n  float r = sqrt(1.0 - z * z);\n  float angle = 6.283185307179586 * v;\n  return vec3(r * cos(angle), r * sin(angle), z);\n}\n\n// 获取贴图的信息\nvec4 getRegions_mars3d_snake(int x, int y) {\n  float u = (float(x) + 0.5) / float(u_mars3d_snake_rangeLength);\n  float v = (float(y) + 0.5);\n  vec4 point = texture(u_mars3d_snake_texture, vec2(u, v));\n  return vec4(point.xyz * point.w, 1.0);\n}\n\n// 判断模型坐标点在不在范围内\nbool inRectangle_mars3d_snake(vec4 testPoint) {\n  float counter = 0.0;\n  float xinters = 0.0;\n  for(int w = 0; w < 100000; w++) {\n    if(w >= u_mars3d_snake_rangeLength)\n      break;\n    int nextIndex = w + 1;\n    nextIndex = nextIndex == u_mars3d_snake_rangeLength ? 0 : nextIndex;\n\n    // 获取点位信息\n    vec4 p1 = getRegions_mars3d_snake(w, 0);\n    vec4 p2 = getRegions_mars3d_snake(nextIndex, 0);\n\n    p1 = u_mars3d_snake_inversePlaneMatrix * p1;\n    p2 = u_mars3d_snake_inversePlaneMatrix * p2;\n\n    vec4 testPointPC = u_mars3d_snake_inversePlaneMatrix * testPoint;\n\n    float p1x = p1.x;\n    float p1y = p1.y;\n    float p2x = p2.x;\n    float p2y = p2.y;\n    float testPointPCx = testPointPC.x;\n    float testPointPCy = testPointPC.y;\n\n    if(testPointPCx > min(p1x, p2x) && testPointPCx <= max(p1x, p2x)) {\n      if(testPointPCy <= max(p1y, p2y)) {\n        if(p1x != p2x) {\n          xinters = ((testPointPCx - p1x) * (p2y - p1y)) / (p2x - p1x) + p1y;\n          if(p1y == p2y || testPointPCy <= xinters) {\n            counter += 1.0;\n          }\n        }\n      }\n    }\n  }\n  return mod(counter, 2.0) != 0.0;\n}\n\nvoid vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {\n  vec3 positionMC = vsInput.attributes.positionMC;\n  vec4 positionWC = czm_model * vec4(positionMC, 1.0);\n\n  if(u_mars3d_snake_showAll || inRectangle_mars3d_snake(positionWC)) {\n    v_inRange = 1.0; // 传递顶点在范围内\n    float height = dot(u_mars3d_snake_planeNormal, positionWC.xyz) + u_mars3d_snake_planeDistance;\n\n    if(height < 0.0) {\n      height = 0.0;// 低于平面范围的不晃动\n    }\n\n    float lerp = height / u_mars3d_snake_maxHeight;\n\n    float per = fract(u_mars3d_snake_time);\n\n    // 根据featureId计算一个随机单位向量\n    int featureId = vsInput.featureIds.featureId_0;\n    vec3 randomDirection = uniformlyRandomDirection_mars3d_snake(float(featureId));\n    // 利用叉乘计算与平面法线垂直的一个向量\n    vec3 moveVector = cross(randomDirection, u_mars3d_snake_planeNormal);\n    moveVector = normalize(moveVector);\n\n    // 偏移顶点\n    vec3 newPositionWC = positionWC.xyz + moveVector * vec3(lerp * u_mars3d_snake_maxDistance * sin(per * 2.0 * PI_mars3d_snake));\n\n    vsOutput.positionMC = (czm_inverseModel * vec4(newPositionWC, 1.0)).xyz;\n  } else {\n    v_inRange = 0.0; // 传递顶点不在范围内\n  }\n}\n";
  var TilesetShakeFS = "void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {\n  if(v_inRange > 0.0) {\n    if(u_mars3d_snake_inRangeColor.a != 0.0)\n      material.diffuse = mix(material.diffuse, u_mars3d_snake_inRangeColor.rgb, u_mars3d_snake_inRangeColor.a);\n  } else if(u_mars3d_snake_outRangeColor.a != 0.0) {\n    material.diffuse = mix(material.diffuse, u_mars3d_snake_outRangeColor.rgb, u_mars3d_snake_outRangeColor.a);\n  }\n}\n";
  const DEF_OPTIONS$1 = {
    maxDistance: 10,
    duration: 1000,
    maxHeight: 120,
    inRangeColor: "rgba(255,0,0,0.5)",
    outRangeColor: "rgba(0,0,0,0)"
  };
  class TilesetShake extends BaseThing {
    constructor(_0x594e45 = {}) {
      _0x594e45 = {
        ...DEF_OPTIONS$1,
        ..._0x594e45
      };
      super(_0x594e45);
      if (!isMars3DCesium) {
        logError("该功能需要引入mars3d修改版Cesium库(mars3d-cesium库)才支持!", this);
      }
    }
    get layer() {
      return this._layer;
    }
    set layer(_0xcd969d) {
      this._layer = _0xcd969d;
      _0xcd969d.readyPromise.then(_0x2283a1 => {
        if (_0xcd969d.isDestroy) {
          return;
        }
        this._center = _0xcd969d.center.toCartographic();
        this._initLayer();
      });
    }
    get positions() {
      return this.options.positions;
    }
    set positions(_0x534edd) {
      this.options.positions = _0x534edd;
      this._texture = this._getTexture();
      this._uniforms.u_mars3d_snake_rangeLength.value = this._texture?.width || 1;
    }
    get maxDistance() {
      return this.options.maxDistance;
    }
    set maxDistance(_0x340f6c) {
      this.options.maxDistance = _0x340f6c;
      this._uniforms.u_mars3d_snake_maxDistance.value = _0x340f6c;
    }
    get duration() {
      return this.options.duration;
    }
    set duration(_0x5f5ca6) {
      this.options.duration = _0x5f5ca6;
    }
    get maxHeight() {
      return this.options.maxHeight;
    }
    set maxHeight(_0x36e59d) {
      this.options.maxHeight = _0x36e59d;
      this._uniforms.u_mars3d_snake_maxHeight.value = _0x36e59d;
    }
    get inRangeColor() {
      return this.options.inRangeColor;
    }
    set inRangeColor(_0x1bf596) {
      this.options.inRangeColor = _0x1bf596;
      this._uniforms.u_mars3d_snake_inRangeColor.value = getCesiumColor(_0x1bf596);
    }
    get outRangeColor() {
      return this.options.outRangeColor;
    }
    set outRangeColor(_0x2e9b3c) {
      this.options.outRangeColor = _0x2e9b3c;
      this._uniforms.u_mars3d_snake_outRangeColor.value = getCesiumColor(_0x2e9b3c);
    }
    _addedHook() {
      this._texture = this._getTexture();
      if (this.options.layer) {
        this.layer = this.options.layer;
      }
    }
    _removedHook() {
      if (Cesium__namespace.defined(this._texture)) {
        this._texture.destroy();
        this._texture = undefined;
      }
      if (this.cacheMarsOptions) {
        this.cacheMarsOptions();
      }
    }
    _initLayer() {
      var _0x50da7d;
      const _0x394ecc = this._getCustomShader();
      if ((_0x50da7d = Cesium__namespace.Mars3DEx) !== null && _0x50da7d !== undefined && _0x50da7d.getCacheOrAdd) {
        const _0x52b9b3 = Cesium__namespace.Mars3DEx.getCacheOrAdd(this.layer._marsOptions.customShaders);
        _0x52b9b3.shake = _0x394ecc;
        this.cacheMarsOptions = function () {
          delete _0x52b9b3.shake;
        };
      }
    }
    _getCustomShader() {
      const _0x2b1178 = Cesium__namespace.Cartesian3.fromRadians(this._center.longitude, this._center.latitude, 40);
      const _0x20e0b5 = Cesium__namespace.Ellipsoid.WGS84.geodeticSurfaceNormal(_0x2b1178);
      const _0x3e75fd = Cesium__namespace.Plane.fromPointNormal(_0x2b1178, _0x20e0b5);
      const _0x2a3b1c = new Cesium__namespace.Cartesian3(0, 1, 0);
      Cesium__namespace.Cartesian3.cross(_0x2a3b1c, _0x3e75fd.normal, _0x2a3b1c);
      Cesium__namespace.Cartesian3.normalize(_0x2a3b1c, _0x2a3b1c);
      const _0x5088f5 = Cesium__namespace.Cartesian3.cross(_0x3e75fd.normal, _0x2a3b1c, new Cesium__namespace.Cartesian3());
      Cesium__namespace.Cartesian3.normalize(_0x5088f5, _0x5088f5);
      const _0xa849db = new Cesium__namespace.Matrix4(_0x2a3b1c.x, _0x5088f5.x, _0x3e75fd.normal.x, _0x2b1178.x, _0x2a3b1c.y, _0x5088f5.y, _0x3e75fd.normal.y, _0x2b1178.y, _0x2a3b1c.z, _0x5088f5.z, _0x3e75fd.normal.z, _0x2b1178.z, 0, 0, 0, 1);
      const _0x2456d6 = Cesium__namespace.Matrix4.inverse(_0xa849db, _0xa849db);
      const _0xf0597b = new Cesium__namespace.CustomShader({
        varyings: {
          v_inRange: Cesium__namespace.VaryingType.FLOAT
        },
        uniforms: {
          u_mars3d_snake_planeNormal: {
            type: Cesium__namespace.UniformType.VEC3,
            value: _0x3e75fd.normal
          },
          u_mars3d_snake_planeDistance: {
            type: Cesium__namespace.UniformType.FLOAT,
            value: _0x3e75fd.distance
          },
          u_mars3d_snake_maxHeight: {
            type: Cesium__namespace.UniformType.FLOAT,
            value: this.options.maxHeight
          },
          u_mars3d_snake_maxDistance: {
            type: Cesium__namespace.UniformType.FLOAT,
            value: this.options.maxDistance
          },
          u_mars3d_snake_inversePlaneMatrix: {
            type: Cesium__namespace.UniformType.MAT4,
            value: _0x2456d6
          },
          u_mars3d_snake_rangeLength: {
            type: Cesium__namespace.UniformType.INT,
            value: this._texture?.width || 1
          },
          u_mars3d_snake_inRangeColor: {
            type: Cesium__namespace.UniformType.VEC4,
            value: Cesium__namespace.Color.RED.withAlpha(0.5)
          },
          u_mars3d_snake_outRangeColor: {
            type: Cesium__namespace.UniformType.VEC4,
            value: Cesium__namespace.Color.TRANSPARENT
          }
        },
        fragmentShaderText: TilesetShakeFS,
        vertexShaderText: TilesetShakeVS
      });
      _0xf0597b.uniformMap.u_mars3d_snake_showAll = () => {
        return !this._texture;
      };
      const _0xaefa74 = this._map.scene._context.defaultTexture;
      _0xf0597b.uniformMap.u_mars3d_snake_texture = () => {
        return this._texture || _0xaefa74;
      };
      _0xf0597b.uniformMap.u_mars3d_snake_time = () => {
        return performance.now() / this.options.duration;
      };
      this._uniforms = _0xf0597b.uniforms;
      return _0xf0597b;
    }
    _getTexture() {
      if (Cesium__namespace.defined(this._texture)) {
        this._texture.destroy();
        this._texture = undefined;
      }
      if (!this.options.positions || this.options.positions.length < 3) {
        return null;
      }
      const _0x397159 = LngLatArray.toCartesians(this.options.positions);
      const _0x2dcfc3 = [];
      _0x397159.forEach(_0xbba91c => {
        const _0x183fa1 = Cesium__namespace.Cartesian3.normalize(_0xbba91c, new Cesium__namespace.Cartesian3());
        _0x2dcfc3.push(_0x183fa1.x);
        _0x2dcfc3.push(_0x183fa1.y);
        _0x2dcfc3.push(_0x183fa1.z);
        _0x2dcfc3.push(_0xbba91c.x / _0x183fa1.x);
      });
      const _0x519eb4 = new Cesium__namespace.Texture({
        context: this._map.scene._context,
        pixelFormat: Cesium__namespace.PixelFormat.RGBA,
        pixelDatatype: Cesium__namespace.PixelDatatype.FLOAT,
        sampler: new Cesium__namespace.Sampler({
          wrapS: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          wrapT: Cesium__namespace.TextureWrap.CLAMP_TO_EDGE,
          minificationFilter: Cesium__namespace.TextureMinificationFilter.NEAREST,
          magnificationFilter: Cesium__namespace.TextureMagnificationFilter.NEAREST
        }),
        flipY: false,
        source: {
          width: _0x397159.length,
          height: 1,
          arrayBufferView: new Float32Array(_0x2dcfc3)
        }
      });
      return _0x519eb4;
    }
  }
  register("tilesetShake", TilesetShake, false);
  let scratchCurrentDirection = new Cesium__namespace.Cartesian3();
  let scratchDeltaPosition = new Cesium__namespace.Cartesian3();
  let scratchNextPosition = new Cesium__namespace.Cartesian3();
  let scratchTerrainConsideredNextPosition = new Cesium__namespace.Cartesian3();
  let scratchNextCartographic = new Cesium__namespace.Cartographic();
  const RoamType = {
    DIRECTION_NONE: 0,
    DIRECTION_FORWARD: 1,
    DIRECTION_BACKWARD: 2,
    DIRECTION_LEFT: 3,
    DIRECTION_RIGHT: 4
  };
  class FirstPersonRoam extends BaseThing {
    constructor(_0x55e778 = {}) {
      super(_0x55e778);
      this.speed = this.options.speed ?? 1.5;
      this.rotateSpeed = this.options.rotateSpeed ?? -5;
      this.height = this.options.height ?? 10;
      this.maxPitch = this.options.maxPitch ?? 88;
    }
    _enabledHook(_0x5cc57b) {
      if (_0x5cc57b) {
        this.activate();
      } else {
        this.disable();
      }
    }
    _mountedHook() {}
    _addedHook() {
      if (this.enabled) {
        this.activate();
      }
      this._map.on(EventType.leftDown, this._onLeftDownHandler, this);
      this._map.on(EventType.leftUp, this._onLeftUpHandler, this);
      this._map.on(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.on(EventType.dblClick, this._onDbClickHandler, this);
      this._map.on(EventType.keydown, this._onKeyDown, this);
      this._map.on(EventType.keyup, this._onKeyUp, this);
      this._map.on(EventType.clockTick, this._onClockTick, this);
    }
    _removedHook() {
      this.disable();
      this._map.off(EventType.leftDown, this._onLeftDownHandler, this);
      this._map.off(EventType.leftUp, this._onLeftUpHandler, this);
      this._map.off(EventType.mouseMove, this._onMouseMoveHandler, this);
      this._map.off(EventType.dblClick, this._onDbClickHandler, this);
      this._map.off(EventType.keydown, this._onKeyDown, this);
      this._map.off(EventType.keyup, this._onKeyUp, this);
      this._map.off(EventType.clockTick, this._onClockTick, this);
      scratchCurrentDirection = new Cesium__namespace.Cartesian3();
      scratchDeltaPosition = new Cesium__namespace.Cartesian3();
      scratchNextPosition = new Cesium__namespace.Cartesian3();
      scratchTerrainConsideredNextPosition = new Cesium__namespace.Cartesian3();
      scratchNextCartographic = new Cesium__namespace.Cartographic();
    }
    _onLeftDownHandler(_0x44dbb1) {
      if (!this.enabled) {
        return;
      }
      this._looking = true;
      this._startMousePosition = Cesium__namespace.Cartesian3.clone(_0x44dbb1.position);
      this._mousePosition = this._startMousePosition;
    }
    _onDbClickHandler(_0x4b4376) {
      if (!this.enabled) {
        return;
      }
      this._looking = true;
      this._startMousePosition = Cesium__namespace.Cartesian3.clone(_0x4b4376.position);
      this._mousePosition = this._startMousePosition;
    }
    _onLeftUpHandler(_0x526175) {
      this._looking = false;
    }
    _onMouseMoveHandler(_0x4ba7ff) {
      this._mousePosition = _0x4ba7ff.endPosition;
    }
    _onKeyDown(_0x19ba6d) {
      if (!this.enabled) {
        return;
      }
      const _0x211fa9 = _0x19ba6d.keyCode;
      this._direction = RoamType.DIRECTION_NONE;
      switch (_0x211fa9) {
        case "W".charCodeAt(0):
          this._direction = RoamType.DIRECTION_FORWARD;
          break;
        case "S".charCodeAt(0):
          this._direction = RoamType.DIRECTION_BACKWARD;
          break;
        case "D".charCodeAt(0):
          this._direction = RoamType.DIRECTION_RIGHT;
          break;
        case "A".charCodeAt(0):
          this._direction = RoamType.DIRECTION_LEFT;
          break;
      }
    }
    _onKeyUp() {
      if (!this.enabled) {
        return;
      }
      this._direction = RoamType.DIRECTION_NONE;
    }
    _onClockTick(_0x416544) {
      if (!this.enabled) {
        return;
      }
      const _0x163535 = _0x416544._clockStep;
      if (this._looking) {
        this._changeHeadingPitch(_0x163535);
      }
      if (this._direction === RoamType.DIRECTION_NONE) {
        return;
      }
      const _0x473fe0 = this.speed * _0x163535;
      if (this._direction === RoamType.DIRECTION_FORWARD) {
        Cesium__namespace.Cartesian3.multiplyByScalar(this._map.camera.direction, 1, scratchCurrentDirection);
      } else if (this._direction === RoamType.DIRECTION_BACKWARD) {
        Cesium__namespace.Cartesian3.multiplyByScalar(this._map.camera.direction, -1, scratchCurrentDirection);
      } else if (this._direction === RoamType.DIRECTION_LEFT) {
        Cesium__namespace.Cartesian3.multiplyByScalar(this._map.camera.right, -1, scratchCurrentDirection);
      } else if (this._direction === RoamType.DIRECTION_RIGHT) {
        Cesium__namespace.Cartesian3.multiplyByScalar(this._map.camera.right, 1, scratchCurrentDirection);
      }
      Cesium__namespace.Cartesian3.multiplyByScalar(scratchCurrentDirection, _0x473fe0, scratchDeltaPosition);
      const _0x306dee = this._map.camera.position;
      Cesium__namespace.Cartesian3.add(_0x306dee, scratchDeltaPosition, scratchNextPosition);
      const _0x5e54af = this._map.scene.globe;
      const _0x53a87a = _0x5e54af.ellipsoid;
      _0x53a87a.cartesianToCartographic(scratchNextPosition, scratchNextCartographic);
      const _0x4158c2 = getHeight(this._map.scene, scratchNextCartographic);
      if (_0x4158c2 === undefined) {
        return;
      }
      scratchNextCartographic.height = _0x4158c2 + this.height;
      _0x53a87a.cartographicToCartesian(scratchNextCartographic, scratchTerrainConsideredNextPosition);
      this._map.camera.setView({
        destination: scratchTerrainConsideredNextPosition,
        orientation: new Cesium__namespace.HeadingPitchRoll(this._map.camera.heading, this._map.camera.pitch, this._map.camera.roll),
        endTransform: Cesium__namespace.Matrix4.IDENTITY
      });
    }
    _changeHeadingPitch(_0x171034) {
      const _0x3deb0e = this._map.canvas.clientWidth;
      const _0x53ef01 = this._map.canvas.clientHeight;
      const _0x564b2b = (this._mousePosition.x - this._startMousePosition.x) / _0x3deb0e;
      const _0x24e469 = -(this._mousePosition.y - this._startMousePosition.y) / _0x53ef01;
      const _0x110423 = Cesium__namespace.Math.toDegrees(this._map.camera.heading);
      const _0x59e39c = _0x564b2b * this.rotateSpeed;
      const _0x448bf0 = _0x110423 + _0x59e39c;
      const _0x41609d = Cesium__namespace.Math.toDegrees(this._map.camera.pitch);
      const _0x8ffdf = _0x24e469 * this.rotateSpeed;
      let _0x572204 = _0x41609d + _0x8ffdf;
      if (_0x572204 > this.maxPitch * 2 && _0x572204 < 360 - this.maxPitch) {
        _0x572204 = 360 - this.maxPitch;
      } else if (_0x572204 > this.maxPitch && _0x572204 < 360 - this.maxPitch) {
        _0x572204 = this.maxPitch;
      }
      this._map.camera.setView({
        orientation: {
          heading: Cesium__namespace.Math.toRadians(_0x448bf0),
          pitch: Cesium__namespace.Math.toRadians(_0x572204),
          roll: this._map.camera.roll
        }
      });
    }
    _enableScreenSpaceCameraController(_0x1c5e57) {
      const _0x324d57 = this._map.scene;
      _0x324d57.screenSpaceCameraController.enableRotate = _0x1c5e57;
      _0x324d57.screenSpaceCameraController.enableTranslate = _0x1c5e57;
      _0x324d57.screenSpaceCameraController.enableZoom = _0x1c5e57;
      _0x324d57.screenSpaceCameraController.enableTilt = _0x1c5e57;
      _0x324d57.screenSpaceCameraController.enableLook = _0x1c5e57;
    }
    activate() {
      this._enabled = true;
      this._enableScreenSpaceCameraController(false);
      const _0x291777 = this._map.camera.position;
      const _0x3075f0 = new Cesium__namespace.Cartographic();
      const _0xe76120 = this._map.scene.globe;
      _0xe76120.ellipsoid.cartesianToCartographic(_0x291777, _0x3075f0);
      const _0x3c873d = getHeight(this._map.scene, _0x3075f0);
      if (_0x3c873d === undefined) {
        return false;
      }
      _0x3075f0.height = _0x3c873d + this.height;
      const _0x1b65e4 = new Cesium__namespace.Cartesian3();
      _0xe76120.ellipsoid.cartographicToCartesian(_0x3075f0, _0x1b65e4);
      const _0x596468 = this._map.camera.heading;
      this._heading = _0x596468;
      this._map.camera.flyTo({
        destination: _0x1b65e4,
        orientation: {
          heading: _0x596468,
          pitch: Cesium__namespace.Math.toRadians(0),
          roll: 0
        }
      });
      return true;
    }
    disable() {
      this._enabled = false;
      this._enableScreenSpaceCameraController(true);
    }
    startAutoForward() {
      if (!this.enabled) {
        this.activate();
      }
      this._direction = RoamType.DIRECTION_FORWARD;
    }
    stopAutoForward() {
      this._direction = RoamType.DIRECTION_NONE;
    }
  }
  register("firstPersonRoam", FirstPersonRoam);
  class RotatePoint extends BaseThing {
    constructor(_0x11489d = {}) {
      super(_0x11489d);
      this._setOptionsHook();
    }
    get isStart() {
      return this._isStart;
    }
    _enabledHook(_0x3e38eb) {
      if (_0x3e38eb) {
        this.start();
      } else {
        this.stop();
      }
    }
    _setOptionsHook() {
      this._direction = this.options.direction ? 1 : -1;
      this._angle = 360 / ((this.options.time || 60) * 60);
      this._autoStopAngle = this.options.autoStopAngle;
      if (this._isStart) {
        this.stop();
        this.start();
      }
    }
    _addedHook() {
      this._map.on(EventType.mouseDown, this._map_mouseDownHandler, this);
      this._map.on(EventType.mouseUp, this._map_mouseUpHandler, this);
      this._mouseDown = false;
    }
    _map_mouseDownHandler(_0x1d1744) {
      this._mouseDown = true;
    }
    _map_mouseUpHandler(_0x4283b2) {
      this._mouseDown = false;
      const _0x1b633c = this._map.getCenter();
      if (!_0x1b633c || _0x1b633c.alt > 500000) {
        return;
      }
      this._tikRender = 0;
      this._center = _0x1b633c.toCartesian();
      this._startHeading = this._map.camera.heading;
      this._startPitch = this._map.camera.pitch;
      this._distance = Cesium__namespace.Cartesian3.distance(this._center, this._map.camera.positionWC);
    }
    _removedHook() {
      this._map.off(EventType.mouseDown, this._map_mouseDownHandler, this);
      this._map.off(EventType.mouseUp, this._map_mouseUpHandler, this);
      this.stop();
    }
    start(_0x3d5c0b) {
      if (this._isStart) {
        this.stop();
      }
      this._isStart = true;
      const _0x3d7448 = this._map.getCenter(true);
      if (!_0x3d5c0b) {
        this._center = _0x3d7448;
      } else if (_0x3d5c0b instanceof Cesium__namespace.Cartesian3) {
        this._center = _0x3d5c0b;
      } else {
        this._center = LngLatPoint.parse(_0x3d5c0b).toCartesian();
      }
      this._distance = this.options.distance || Cesium__namespace.Cartesian3.distance(this._center, this._map.camera.positionWC);
      this._startHeading = this._map.camera.heading;
      this._startPitch = this._map.camera.pitch;
      let _0x2449e1 = 2;
      if (_0x3d7448 && Cesium__namespace.Cartesian3.distance(_0x3d7448, this._center) < this._distance * 0.01) {
        _0x2449e1 = 0;
      }
      this.fire(EventType.start);
      this._map.flyToPoint(this._center, {
        radius: this._distance,
        duration: _0x2449e1,
        complete: _0x4e2277 => {
          if (!this.isAdded) {
            return;
          }
          this._isStart = true;
          this._tikRender = 0;
          this._map.on(EventType.preRender, this._onPreRenderHandler, this);
          this._onPreRenderHandler();
        }
      });
    }
    _onPreRenderHandler(_0x4827ae) {
      if (this._mouseDown) {
        return;
      }
      this._tikRender++;
      const _0x5a7e96 = this._tikRender * this._angle;
      if (this._autoStopAngle && _0x5a7e96 >= this._autoStopAngle) {
        this.stop();
      }
      const _0x47adb3 = Cesium__namespace.Math.toRadians(_0x5a7e96 * this._direction) + this._startHeading;
      this._map.scene.camera.setView({
        destination: this._center,
        orientation: {
          heading: _0x47adb3,
          pitch: this._startPitch
        }
      });
      this._map.scene.camera.moveBackward(this._distance);
      this.fire(EventType.change);
    }
    stop() {
      if (!this._isStart) {
        return;
      }
      this._isStart = false;
      this._map.off(EventType.preRender, this._onPreRenderHandler, this);
      this.fire(EventType.stop);
    }
  }
  register("rotatePoint", RotatePoint);
  const MAX_PITCH_IN_DEGREE = 88;
  class StreetView extends BaseThing {
    constructor(_0x11ac5b = {}) {
      super(_0x11ac5b);
      this.rotateSpeed = _0x11ac5b.rotateSpeed ?? 30;
      this.heightStep = _0x11ac5b.heightStep ?? 0.2;
      this.moveStep = _0x11ac5b.moveStep ?? 0.1;
    }
    _enabledHook(_0x452f68) {
      if (this._map.mouseZoom) {
        this._map.mouseZoom.enabled = !_0x452f68;
      }
      if (_0x452f68) {
        this._default_zoomEventTypes = this._map.scene.screenSpaceCameraController.zoomEventTypes;
        this._default_tiltEventTypes = this._map.scene.screenSpaceCameraController.tiltEventTypes;
        this._map.scene.screenSpaceCameraController.zoomEventTypes = [Cesium__namespace.CameraEventType.WHEEL, Cesium__namespace.CameraEventType.PINCH, {
          eventType: Cesium__namespace.CameraEventType.RIGHT_DRAG,
          modifier: Cesium__namespace.KeyboardEventModifier.CTRL
        }];
        const _0x2705de = {
          eventType: Cesium__namespace.CameraEventType.MIDDLE_DRAG,
          modifier: Cesium__namespace.KeyboardEventModifier.CTRL
        };
        this._map.scene.screenSpaceCameraController.tiltEventTypes = [_0x2705de];
      } else {
        if (this._default_zoomEventTypes) {
          this._map.scene.screenSpaceCameraController.zoomEventTypes = this._default_zoomEventTypes;
          delete this._default_zoomEventTypes;
        }
        if (this._default_tiltEventTypes) {
          this._map.scene.screenSpaceCameraController.tiltEventTypes = this._default_tiltEventTypes;
          delete this._default_tiltEventTypes;
        }
      }
    }
    _mountedHook() {}
    _addedHook() {
      this._enabledHook(this.enabled);
      this._map.on(EventType.rightDown, this._onRightDownHandler, this);
      this._map.on(EventType.mouseMove, this._onMouseMove, this);
      this._map.on(EventType.rightUp, this._onRightUpHandler, this);
      this._map.on(EventType.middleDown, this._onMiddleDownHandler, this);
      this._map.on(EventType.middleUp, this._onMiddleUpHandler, this);
      this._map.on(EventType.click, this._onClickHandler, this);
      this._map.on(EventType.dblClick, this._onDbClickHandler, this);
      this._map.on(EventType.rightClick, this._onRightClickHandler, this);
    }
    _removedHook() {
      this._enabledHook(false);
      this._map.off(EventType.rightDown, this._onRightDownHandler, this);
      this._map.off(EventType.mouseMove, this._onMouseMove, this);
      this._map.off(EventType.rightUp, this._onRightUpHandler, this);
      this._map.off(EventType.middleDown, this._onMiddleDownHandler, this);
      this._map.off(EventType.middleUp, this._onMiddleUpHandler, this);
      this._map.off(EventType.click, this._onClickHandler, this);
      this._map.off(EventType.dblClick, this._onDbClickHandler, this);
      this._map.off(EventType.rightClick, this._onRightClickHandler, this);
      if (this.rotatePoint) {
        this._map.removeThing(this.rotatePoint, true);
        delete this.rotatePoint;
      }
    }
    _onRightDownHandler(_0x5915f5) {
      if (!this.enabled) {
        return;
      }
      if (this.rotatePoint) {
        this.rotatePoint.stop();
      }
      this._isMouseLeftButtonPressed = true;
      this._mousePosition = this._startMousePosition = Cesium__namespace.Cartesian3.clone(_0x5915f5.position);
      this._headingWhenLeftClicked = Cesium__namespace.Math.toDegrees(this._map.camera.heading);
      this._pitchWhenLeftClicked = Cesium__namespace.Math.toDegrees(this._map.camera.pitch);
    }
    _onMouseMove(_0x49b9b0) {
      if (!this.enabled) {
        return;
      }
      this._mousePosition = _0x49b9b0.endPosition;
      if (this._isMouseLeftButtonPressed) {
        const _0x5a10e3 = this._map.canvas.clientWidth;
        const _0x8cfe37 = this._map.canvas.clientHeight;
        const _0x29e155 = (this._mousePosition.x - this._startMousePosition.x) / _0x5a10e3;
        const _0x242f22 = -(this._mousePosition.y - this._startMousePosition.y) / _0x8cfe37;
        if (Cesium__namespace.Math.equalsEpsilon(_0x29e155, 0, Cesium__namespace.Math.EPSILON6) && Cesium__namespace.Math.equalsEpsilon(_0x242f22, 0, Cesium__namespace.Math.EPSILON6)) {
          return;
        }
        const _0x10d780 = _0x29e155 * this.rotateSpeed;
        const _0x44284a = this._headingWhenLeftClicked + _0x10d780;
        const _0x3f9ba3 = _0x242f22 * this.rotateSpeed;
        let _0x27bfda = this._pitchWhenLeftClicked + _0x3f9ba3;
        if (_0x27bfda > MAX_PITCH_IN_DEGREE * 2 && _0x27bfda < 360 - MAX_PITCH_IN_DEGREE) {
          _0x27bfda = 360 - MAX_PITCH_IN_DEGREE;
        } else if (_0x27bfda > MAX_PITCH_IN_DEGREE && _0x27bfda < 360 - MAX_PITCH_IN_DEGREE) {
          _0x27bfda = MAX_PITCH_IN_DEGREE;
        }
        this._map.camera.setView({
          orientation: {
            heading: Cesium__namespace.Math.toRadians(_0x44284a),
            pitch: Cesium__namespace.Math.toRadians(_0x27bfda),
            roll: this._map.camera.roll
          }
        });
      } else if (this._isMouseUpdownPressed) {
        const _0x15b3ba = -(this._mousePosition.y - this._startMousePosition.y) / this._map.canvas.clientHeight;
        const _0xf35e32 = this._map.camera.positionCartographic.height * this.heightStep;
        this._map.camera.moveDown(_0x15b3ba * _0xf35e32);
      }
    }
    _onRightUpHandler(_0x1bd55b) {
      this._isMouseLeftButtonPressed = false;
    }
    _onMiddleDownHandler(_0x3d30ff) {
      if (!this.enabled) {
        return;
      }
      if (this.rotatePoint) {
        this.rotatePoint.stop();
      }
      this._isMouseUpdownPressed = true;
      this._startMousePosition = Cesium__namespace.Cartesian3.clone(_0x3d30ff.position);
      this._mousePosition = this._startMousePosition;
    }
    _onMiddleUpHandler(_0x3f6d82) {
      this._isMouseUpdownPressed = false;
    }
    _onClickHandler(_0x2ab3fd) {
      if (!this.enabled) {
        return;
      }
      if (this.rotatePoint) {
        this.rotatePoint.stop();
      }
    }
    _onDbClickHandler(_0x44a6ef) {
      if (!this.enabled) {
        return;
      }
      if (this.rotatePoint) {
        this.rotatePoint.stop();
      }
      const _0x2cf16a = this._map.mouseEvent.getCurrentMousePosition(_0x44a6ef.position);
      if (_0x2cf16a) {
        const _0x4a904a = Cesium__namespace.Cartesian3.distance(_0x2cf16a, this._map.camera.positionWC) * this.moveStep;
        this._map.flyToPoint(_0x2cf16a, {
          radius: _0x4a904a,
          maximumHeight: this._map.camera.positionCartographic.height,
          duration: this.options.moveDuration
        });
      }
    }
    _onRightClickHandler(_0x2ceca) {
      if (!this.enabled) {
        return;
      }
      if (this.time) {
        const _0x371ee3 = Cesium__namespace.JulianDate.secondsDifference(this._map.clock.currentTime, this.time);
        if (_0x371ee3 < 0.5) {
          this._map.closeContextMenu();
          if (!this.rotatePoint) {
            this.rotatePoint = new RotatePoint(this.options.rotatePoint);
            this._map.addThing(this.rotatePoint);
          }
          this.rotatePoint.start(_0x2ceca.cartesian);
        }
      }
      this.time = this._map.clock.currentTime.clone();
    }
  }
  register("streetView", StreetView);
  class KeyboardRoam extends BaseThing {
    constructor(_0x3b7903 = {}) {
      super(_0x3b7903);
      this.flags = {
        moveForward: false,
        moveBackward: false,
        moveUp: false,
        moveDown: false,
        moveLeft: false,
        moveRight: false
      };
      this._setOptionsHook(_0x3b7903, _0x3b7903);
    }
    get moveStep() {
      return this._moveStep;
    }
    set moveStep(_0x405143) {
      this._moveStep = _0x405143;
    }
    get dirStep() {
      return this._dirStep;
    }
    set dirStep(_0x1583ed) {
      this._dirStep = _0x1583ed;
    }
    get rotateStep() {
      return this._rotateStep;
    }
    set rotateStep(_0x5cbdaa) {
      this._rotateStep = _0x5cbdaa;
    }
    get minPitch() {
      return Cesium__namespace.Math.toDegrees(this._minPitch);
    }
    set minPitch(_0x3cb6f6) {
      this._minPitch = Cesium__namespace.Math.toRadians(_0x3cb6f6);
    }
    get maxPitch() {
      return Cesium__namespace.Math.toDegrees(this._maxPitch);
    }
    set maxPitch(_0x1ad29b) {
      this._maxPitch = Cesium__namespace.Math.toRadians(_0x1ad29b);
    }
    get minHeight() {
      return this._minHeight;
    }
    set minHeight(_0x2a98af) {
      this._minHeight = _0x2a98af;
    }
    _setOptionsHook(_0x548912, _0x2210ca) {
      this._moveStep = _0x548912.moveStep ?? 10;
      this._dirStep = _0x548912.dirStep ?? 25;
      this._rotateStep = _0x548912.rotateStep ?? 1;
      this._minPitch = Cesium__namespace.Math.toRadians(_0x548912.minPitch ?? -89);
      this._maxPitch = Cesium__namespace.Math.toRadians(_0x548912.maxPitch ?? 45);
      this._minHeight = _0x548912.minHeight ?? 0;
    }
    _addedHook() {
      this._map.on(EventType.keydown, this._onKeyDown, this);
      this._map.on(EventType.keyup, this._onKeyUp, this);
      this._map.on(EventType.clockTick, this._onClockTick, this);
    }
    _removedHook() {
      this._map.off(EventType.keydown, this._onKeyDown, this);
      this._map.off(EventType.keyup, this._onKeyUp, this);
      this._map.off(EventType.clockTick, this._onClockTick, this);
    }
    _onKeyDown(_0x435148) {
      if (!this.enabled) {
        return;
      }
      const _0x525d1f = this._getFlagForKeyCode(_0x435148.keyCode);
      if (typeof _0x525d1f !== "undefined") {
        this.flags[_0x525d1f] = true;
        clearTimeout(this._flags_time);
        this._flags_time = setTimeout(() => {
          this.flags[_0x525d1f] = false;
        }, 200);
      }
      this.fire(EventType.keydown, _0x435148);
    }
    _onKeyUp(_0x4b0afc) {
      if (!this.enabled) {
        return;
      }
      const _0x64bc9f = this._getFlagForKeyCode(_0x4b0afc.keyCode);
      if (typeof _0x64bc9f !== "undefined") {
        this.flags[_0x64bc9f] = false;
      }
      this.fire(EventType.keyup, _0x4b0afc);
    }
    _getFlagForKeyCode(_0x41f933) {
      switch (_0x41f933) {
        case 87:
          return "moveForward";
        case 83:
          return "moveBackward";
        case 68:
          return "moveRight";
        case 65:
          return "moveLeft";
        case 81:
          return "moveUp";
        case 69:
          return "moveDown";
        case 38:
          this.rotateCamera(MoveType.TOP_ROTATE);
          break;
        case 37:
          this.rotateCamera(MoveType.LEFT_ROTATE);
          break;
        case 39:
          this.rotateCamera(MoveType.RIGHT_ROTATE);
          break;
        case 40:
          this.rotateCamera(MoveType.BOTTOM_ROTATE);
          break;
        case 73:
        case 104:
          this.moveCamera(MoveType.ENLARGE);
          break;
        case 75:
        case 101:
          this.moveCamera(MoveType.NARROW);
          break;
        case 74:
        case 100:
          this.moveCamera(MoveType.LEFT_ROTATE);
          break;
        case 76:
        case 102:
          this.moveCamera(MoveType.RIGHT_ROTATE);
          break;
        case 85:
        case 103:
          this.moveCamera(MoveType.TOP_ROTATE);
          break;
        case 79:
        case 105:
          this.moveCamera(MoveType.BOTTOM_ROTATE);
          break;
      }
      return undefined;
    }
    startMoveForward() {
      if (!this.enabled) {
        this.enabled = true;
      }
      this.flags.moveForward = true;
    }
    stopMoveForward() {
      if (!this.enabled) {
        this.enabled = true;
      }
      this.flags.moveForward = false;
    }
    startMoveBackward() {
      if (!this.enabled) {
        this.enabled = true;
      }
      this.flags.moveBackward = true;
    }
    stopMoveBackward() {
      if (!this.enabled) {
        this.enabled = true;
      }
      this.flags.moveBackward = false;
    }
    startMoveRight() {
      if (!this.enabled) {
        this.enabled = true;
      }
      this.flags.moveRight = true;
    }
    stopMoveRight() {
      if (!this.enabled) {
        this.enabled = true;
      }
      this.flags.moveRight = false;
    }
    startMoveLeft() {
      if (!this.enabled) {
        this.enabled = true;
      }
      this.flags.moveLeft = true;
    }
    stopMoveLeft() {
      if (!this.enabled) {
        this.enabled = true;
      }
      this.flags.moveLeft = false;
    }
    moveForward(_0xa367b4) {
      const _0x3957c2 = this._map.camera;
      let _0x530e93 = _0x3957c2.direction;
      const _0x33c7fb = Cesium__namespace.Cartesian3.normalize(_0x3957c2.position, new Cesium__namespace.Cartesian3());
      const _0x1d13f1 = Cesium__namespace.Cartesian3.cross(_0x530e93, _0x33c7fb, new Cesium__namespace.Cartesian3());
      _0x530e93 = Cesium__namespace.Cartesian3.cross(_0x33c7fb, _0x1d13f1, new Cesium__namespace.Cartesian3());
      _0x530e93 = Cesium__namespace.Cartesian3.normalize(_0x530e93, _0x530e93);
      _0x530e93 = Cesium__namespace.Cartesian3.multiplyByScalar(_0x530e93, _0xa367b4, _0x530e93);
      _0x3957c2.position = Cesium__namespace.Cartesian3.add(_0x3957c2.position, _0x530e93, _0x3957c2.position);
    }
    _onClockTick(_0x51fa19) {
      if (!this.enabled) {
        return;
      }
      const _0x3f9b63 = this._map.camera;
      const _0x179c13 = this.moveStep;
      if (this.flags.moveForward) {
        this.moveForward(_0x179c13);
      }
      if (this.flags.moveBackward) {
        this.moveForward(-_0x179c13);
      }
      if (this.flags.moveUp) {
        _0x3f9b63.moveUp(_0x179c13);
      }
      if (this.flags.moveDown) {
        if (_0x3f9b63.positionCartographic.height - _0x179c13 >= this.minHeight) {
          _0x3f9b63.moveDown(_0x179c13);
        }
      }
      if (this.flags.moveLeft) {
        _0x3f9b63.moveLeft(_0x179c13);
      }
      if (this.flags.moveRight) {
        _0x3f9b63.moveRight(_0x179c13);
      }
    }
    _resetCamera(_0x2b6462) {
      if (!_0x2b6462) {
        return;
      }
      this._map.scene.camera.position = _0x2b6462.position;
      this._map.scene.camera.direction = _0x2b6462.direction;
      this._map.scene.camera.right = _0x2b6462.right;
      this._map.scene.camera.up = _0x2b6462.up;
    }
    _computedNewPos(_0x35d731, _0x4cf478, _0x3c1546) {
      const _0x186f6b = _0x35d731.position;
      const _0x36ef22 = this._map.getCenter();
      if (!_0x36ef22) {
        return;
      }
      const _0xad42ce = _0x36ef22.toCartesian();
      if (!_0xad42ce) {
        return;
      }
      const _0x1c9cc8 = Cesium__namespace.Cartesian3.distance(_0xad42ce, _0x186f6b);
      let _0x2f8ea7 = _0x1c9cc8 / 100;
      _0x2f8ea7 = _0x3c1546 ? _0x2f8ea7 * this.rotateStep : _0x2f8ea7;
      const _0x128599 = {};
      let _0x465096 = new Cesium__namespace.Ray(_0x186f6b, _0x4cf478);
      _0x128599.position = Cesium__namespace.Ray.getPoint(_0x465096, _0x2f8ea7);
      _0x128599.direction = _0x35d731.direction;
      _0x128599.right = _0x35d731.right;
      _0x128599.up = _0x35d731.up;
      if (_0x3c1546) {
        const _0x2be4bf = Cesium__namespace.Cartesian3.normalize(Cesium__namespace.Cartesian3.subtract(_0x128599.position, _0xad42ce, new Cesium__namespace.Cartesian3()), new Cesium__namespace.Cartesian3());
        _0x465096 = new Cesium__namespace.Ray(_0xad42ce, _0x2be4bf);
        _0x128599.position = Cesium__namespace.Ray.getPoint(_0x465096, _0x1c9cc8);
        _0x128599.direction = Cesium__namespace.Cartesian3.negate(_0x2be4bf, new Cesium__namespace.Cartesian3());
        _0x128599.up = Cesium__namespace.Cartesian3.normalize(_0x128599.position, new Cesium__namespace.Cartesian3());
        _0x128599.right = Cesium__namespace.Cartesian3.cross(_0x128599.direction, _0x128599.up, new Cesium__namespace.Cartesian3());
      }
      return _0x128599;
    }
    moveCamera(_0x1ac787) {
      const _0x1684a2 = this._map.scene.camera;
      let _0x589f8a;
      switch (_0x1ac787) {
        case MoveType.NARROW:
          _0x589f8a = this._computedNewPos(_0x1684a2, Cesium__namespace.Cartesian3.negate(_0x1684a2.direction, new Cesium__namespace.Cartesian3()));
          break;
        case MoveType.LEFT_ROTATE:
          _0x589f8a = this._computedNewPos(_0x1684a2, Cesium__namespace.Cartesian3.negate(_0x1684a2.right, new Cesium__namespace.Cartesian3()), true);
          break;
        case MoveType.RIGHT_ROTATE:
          _0x589f8a = this._computedNewPos(_0x1684a2, _0x1684a2.right, true);
          break;
        case MoveType.TOP_ROTATE:
          if (_0x1684a2.pitch < this._minPitch) {
            return;
          }
          _0x589f8a = this._computedNewPos(_0x1684a2, Cesium__namespace.clone(_0x1684a2.up), true);
          break;
        case MoveType.BOTTOM_ROTATE:
          if (_0x1684a2.pitch > this._maxPitch) {
            return;
          }
          _0x589f8a = this._computedNewPos(_0x1684a2, Cesium__namespace.Cartesian3.negate(_0x1684a2.up, new Cesium__namespace.Cartesian3()), true);
          break;
        case MoveType.ENLARGE:
        default:
          _0x589f8a = this._computedNewPos(_0x1684a2, _0x1684a2.direction);
          break;
      }
      if (!_0x589f8a) {
        return;
      }
      this._resetCamera(_0x589f8a);
    }
    rotateCamera(_0x1d9dc5) {
      const _0x854305 = this._map.camera;
      let _0x5788b2 = [0, 0];
      const _0x8ce301 = this._map.scene.canvas.clientWidth;
      const _0x68266d = this._map.scene.canvas.clientHeight;
      const _0x515c7a = (_0x8ce301 + _0x68266d) / this.dirStep;
      switch (_0x1d9dc5) {
        case MoveType.LEFT_ROTATE:
          _0x5788b2 = [-_0x515c7a * _0x8ce301 / _0x68266d, 0];
          break;
        case MoveType.RIGHT_ROTATE:
          _0x5788b2 = [_0x515c7a * _0x8ce301 / _0x68266d, 0];
          break;
        case MoveType.TOP_ROTATE:
          if (_0x854305.pitch > this._maxPitch) {
            return;
          }
          _0x5788b2 = [0, _0x515c7a];
          break;
        case MoveType.BOTTOM_ROTATE:
          if (_0x854305.pitch < this._minPitch) {
            return;
          }
          _0x5788b2 = [0, -_0x515c7a];
          break;
        default:
          return;
      }
      const _0x17a9f3 = _0x5788b2[0] / _0x8ce301;
      const _0x1d51d3 = _0x5788b2[1] / _0x68266d;
      const _0x13c9b4 = 0.05;
      _0x854305.lookRight(_0x17a9f3 * _0x13c9b4);
      _0x854305.lookUp(_0x1d51d3 * _0x13c9b4);
      const _0x21521f = _0x854305.direction;
      let _0x10f38b = Cesium__namespace.Cartesian3.normalize(_0x854305.position, new Cesium__namespace.Cartesian3());
      const _0x39806f = Cesium__namespace.Cartesian3.cross(_0x21521f, _0x10f38b, new Cesium__namespace.Cartesian3());
      _0x10f38b = Cesium__namespace.Cartesian3.cross(_0x39806f, _0x21521f, new Cesium__namespace.Cartesian3());
      _0x854305.up = _0x10f38b;
      _0x854305.right = _0x39806f;
    }
  }
  register("keyboardRoam", KeyboardRoam);
  KeyboardRoam.MoveType = MoveType;
  class CameraHistory extends BaseThing {
    constructor(_0x4abe9d = {}) {
      super(_0x4abe9d);
      this.step = 0;
      this.views = [];
      this.maxCacheCount = this.options.maxCacheCount ?? 99;
    }
    get debugExtent() {
      return this.options.limit && this.options.limit.debugExtent;
    }
    set debugExtent(_0x595213) {
      if (!this.options.limit) {
        return;
      }
      this.options.limit.debugExtent = _0x595213;
      if (!this.debugExtentEntity) {
        const _0x4ffb03 = this.options.limit.radius;
        const _0x1a8154 = this.options.limit.position;
        this.debugExtentEntity = this._map.entities.add({
          name: "限定的范围",
          position: _0x1a8154,
          ellipsoid: {
            radii: new Cesium__namespace.Cartesian3(_0x4ffb03, _0x4ffb03, _0x4ffb03),
            maximumCone: Cesium__namespace.Math.PI_OVER_TWO,
            slicePartitions: 45,
            stackPartitions: 45,
            material: new Cesium__namespace.Color(0, 1, 1, 0),
            outline: true,
            outlineColor: new Cesium__namespace.Color(0, 1, 1, 1)
          }
        });
      }
      this.debugExtentEntity.show = _0x595213;
    }
    _mountedHook() {
      if (this.options.limit && this.options.limit.debugExtent) {
        this.debugExtent = this.options.limit.debugExtent;
      }
      this.isInPush = true;
      this._limitGlobe();
    }
    _addedHook() {
      this._map.on(EventType.cameraMoveStart, this._cameraMoveStartHandler, this);
      this._map.on(EventType.cameraMoveEnd, this._cameraMoveEndHandler, this);
      this._map.on(EventType.cameraChanged, this._limitGlobe, this);
    }
    _removedHook() {
      this._map.off(EventType.cameraMoveStart, this._cameraMoveStartHandler, this);
      this._map.off(EventType.cameraMoveEnd, this._cameraMoveEndHandler, this);
      this._map.off(EventType.cameraChanged, this._limitGlobe, this);
      this.views = [];
      if (this.debugExtentEntity) {
        this._map.entities.remove(this.debugExtentEntity);
        delete this.debugExtentEntity;
      }
    }
    _cameraMoveStartHandler() {
      if (this._map) {
        this.isInPush = true;
      }
    }
    _cameraMoveEndHandler() {
      if (!this.isInPush) {
        return;
      }
      this._addCameraView();
    }
    _limitGlobe() {
      if (!this.options.limit || !this.isInPush) {
        return;
      }
      const _0x3bc2ef = this.options.limit.position;
      const _0x40a8b0 = this.options.limit.radius;
      let _0x29a3cc;
      if (this._map.scene.mode === Cesium__namespace.SceneMode.SCENE3D) {
        _0x29a3cc = Cesium__namespace.Cartesian3.distance(_0x3bc2ef, this._map.camera.positionWC);
      } else {
        const _0x4ab2ed = _0x40a8b0 * 2;
        if (this._map.camera.positionCartographic.height > _0x4ab2ed) {
          _0x29a3cc = _0x4ab2ed;
        } else {
          const _0x4c60e5 = this._map.getCenter(true);
          if (_0x4c60e5) {
            _0x29a3cc = Cesium__namespace.Cartesian3.distance(_0x3bc2ef, _0x4c60e5);
          }
        }
      }
      if (!_0x29a3cc || _0x29a3cc <= _0x40a8b0) {
        this.lastCameraView = this._map.getCameraView();
        return;
      }
      this.isInPush = false;
      if (this.lastCameraView) {
        this._map.setCameraView(this.lastCameraView, {
          duration: 0.5,
          complete: () => {
            this.isInPush = true;
          }
        });
      } else {
        this._map.flyToPoint(_0x3bc2ef, {
          radius: _0x40a8b0 * 0.6,
          duration: 0.5,
          complete: () => {
            this.isInPush = true;
          }
        });
      }
    }
    _addCameraView() {
      const _0x3ac044 = this._map.getCameraView();
      this.views.push(_0x3ac044);
      if (this.views.length > this.maxCacheCount) {
        this.views.splice(0, 1);
      }
      this.step = this.views.length - 1;
      this.fire(EventType.change, {
        index: this.step,
        count: this.views.length
      });
    }
    _goHistoryView() {
      this._map.camera.moveStart.removeEventListener(this._cameraMoveStartHandler, this);
      this._map.camera.moveEnd.removeEventListener(this._cameraMoveEndHandler, this);
      this.isInPush = false;
      this._map.setCameraView(this.views[this.step], {
        complete: () => {
          this._map.camera.moveStart.addEventListener(this._cameraMoveStartHandler, this);
          this._map.camera.moveEnd.addEventListener(this._cameraMoveEndHandler, this);
          this.fire(EventType.change, {
            index: this.step,
            count: this.views.length
          });
        }
      });
    }
    goNext() {
      if (this.step >= this.views.length - 1) {
        return false;
      } else {
        this.step++;
        this._goHistoryView();
        return true;
      }
    }
    goLast() {
      if (this.step <= 0) {
        return false;
      } else {
        this.step--;
        this._goHistoryView();
        return true;
      }
    }
    goNow() {
      if (this.step === this.views.length - 1) {
        return false;
      } else {
        this.step = this.views.length - 1;
        this._goHistoryView();
        return true;
      }
    }
    goFirst() {
      if (this.step <= 0) {
        return false;
      } else {
        this.step = 0;
        this._goHistoryView();
        return true;
      }
    }
  }
  register("cameraHistory", CameraHistory);
  class RotateOut extends BaseThing {
    constructor(_0x5607db = {}) {
      super(_0x5607db);
      this._angle = 360 / (this.options.time * 60 || 60);
      this._direction = this.options.direction ? -1 : 1;
      this._autoStopAngle = this.options.autoStopAngle;
    }
    get isStart() {
      return this._isStart;
    }
    _enabledHook(_0x517742) {
      if (_0x517742) {
        this.start();
      } else {
        this.stop();
      }
    }
    _mountedHook() {}
    _addedHook() {}
    _removedHook() {
      this.stop();
    }
    start() {
      if (this._isStart) {
        this.stop();
      }
      this._isStart = true;
      this._tikRender = 0;
      this._startHeading = this._map.camera.heading;
      this._startPitch = this._map.camera.pitch;
      this._map.on(EventType.preRender, this._onPreRenderHandler, this);
      this.fire(EventType.start);
    }
    _onPreRenderHandler(_0x255da0) {
      this._tikRender++;
      const _0x3de7b4 = this._tikRender * this._angle;
      if (this._autoStopAngle && _0x3de7b4 >= this._autoStopAngle) {
        this.stop();
      }
      const _0xd39aa5 = Cesium__namespace.Math.toRadians(_0x3de7b4 * this._direction) + this._startHeading;
      this._map.scene.camera.setView({
        orientation: {
          heading: _0xd39aa5,
          pitch: this._startPitch
        }
      });
      this.fire(EventType.change);
    }
    stop() {
      if (!this._isStart) {
        return;
      }
      this._isStart = false;
      this._map.off(EventType.preRender, this._onPreRenderHandler, this);
      this.fire(EventType.stop);
    }
  }
  register("rotateOut", RotateOut);
  const PointEditElementColors = {
    X_TRANSLATION_COLOR: Cesium__namespace.Color.RED.withAlpha(0.6),
    Y_TRANSLATION_COLOR: Cesium__namespace.Color.GREEN.withAlpha(0.6),
    Z_TRANSLATION_COLOR: Cesium__namespace.Color.BLUE.withAlpha(0.6),
    XY_TRANSLATION_COLOR: Cesium__namespace.Color.BLUE.withAlpha(0.6),
    YZ_TRANSLATION_COLOR: Cesium__namespace.Color.RED.withAlpha(0.6),
    XZ_TRANSLATION_COLOR: Cesium__namespace.Color.GREEN.withAlpha(0.6)
  };
  const HighlightColor = Cesium__namespace.Color.YELLOW;
  class MatrixMove2 extends BaseThing {
    constructor(_0x411eff = {}) {
      super(_0x411eff);
      this._pointEditElementIDs = {
        X_TRANSLATION: this.id + "_PointEdit_X_TRANSLATION",
        Y_TRANSLATION: this.id + "_PointEdit_Y_TRANSLATION",
        Z_TRANSLATION: this.id + "_PointEdit_Z_TRANSLATION",
        XY_TRANSLATION: this.id + "_PointEdit_XY_TRANSLATION",
        YZ_TRANSLATION: this.id + "_PointEdit_YZ_TRANSLATION",
        XZ_TRANSLATION: this.id + "_PointEdit_XZ_TRANSLATION"
      };
      this._hideFeatures = {
        X_TRANSLATION: true,
        Y_TRANSLATION: true,
        Z_TRANSLATION: true,
        XY_TRANSLATION: true,
        XZ_TRANSLATION: true,
        YZ_TRANSLATION: true
      };
      this._radius = _0x411eff.radius ?? 100;
      this._editMatrix = new Cesium__namespace.Matrix4();
      this._isLeftDown = false;
      this._pickedId = "";
      this._oldPickedId = "";
      this._oldPickPrimitive = undefined;
      if (_0x411eff.position) {
        this.position = _0x411eff.position;
      }
    }
    get position() {
      return this._position;
    }
    set position(_0x921f27) {
      this._position = LngLatPoint.toCartesian(_0x921f27);
      this._editMatrix = Cesium__namespace.Matrix4.multiplyByUniformScale(Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this._position), this._radius, this._editMatrix);
      this._createGraphics();
    }
    get radius() {
      return this._radius;
    }
    set radius(_0x57541e) {
      this._radius = _0x57541e;
      this._editMatrix = Cesium__namespace.Matrix4.multiplyByUniformScale(Cesium__namespace.Transforms.eastNorthUpToFixedFrame(this._position), this._radius, this._editMatrix);
      this._createGraphics();
    }
    get isMoveing() {
      if (!this._map) {
        return false;
      }
      return this._hasChangeEnableInputs;
    }
    _enabledHook(_0x15050a) {
      this._drawLayer.show = _0x15050a;
      if (_0x15050a) {
        this._bindEvent();
      } else {
        this._unbindEvent();
      }
    }
    _mountedHook() {
      this._drawLayer = new Cesium__namespace.PrimitiveCollection();
      this._drawLayer.show = this.show ?? true;
    }
    _addedHook() {
      this._map.scene.primitives.add(this._drawLayer);
      this._createGraphics();
      this._bindEvent();
    }
    _removedHook() {
      this._unbindEvent();
      this._drawLayer.removeAll();
      this._map.scene.primitives.remove(this._drawLayer);
    }
    _createGraphics() {
      if (!this._drawLayer) {
        return;
      }
      this._drawLayer.removeAll();
      if (!this._position) {
        return;
      }
      const _0x437642 = Cesium__namespace.Matrix4.clone(this._editMatrix);
      if (this._hideFeatures.X_TRANSLATION) {
        this._drawLayer.add(createPolylinePrimitive({
          positions: [Cesium__namespace.Cartesian3.ZERO, Cesium__namespace.Cartesian3.UNIT_X],
          modelMatrix: _0x437642,
          id: this._pointEditElementIDs.X_TRANSLATION,
          color: PointEditElementColors.X_TRANSLATION_COLOR
        }));
      }
      if (this._hideFeatures.Y_TRANSLATION) {
        this._drawLayer.add(createPolylinePrimitive({
          positions: [Cesium__namespace.Cartesian3.ZERO, Cesium__namespace.Cartesian3.UNIT_Y],
          modelMatrix: _0x437642,
          id: this._pointEditElementIDs.Y_TRANSLATION,
          color: PointEditElementColors.Y_TRANSLATION_COLOR
        }));
      }
      if (this._hideFeatures.Z_TRANSLATION) {
        this._drawLayer.add(createPolylinePrimitive({
          positions: [Cesium__namespace.Cartesian3.ZERO, Cesium__namespace.Cartesian3.UNIT_Z],
          modelMatrix: _0x437642,
          id: this._pointEditElementIDs.Z_TRANSLATION,
          color: PointEditElementColors.Z_TRANSLATION_COLOR
        }));
      }
      if (this._hideFeatures.XY_TRANSLATION) {
        this._drawLayer.add(createPlanePrimitive({
          positions: [0.1, 0.1, 0, 0.1, 0.3, 0, 0.3, 0.3, 0, 0.3, 0.1, 0],
          normals: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],
          modelMatrix: _0x437642,
          id: this._pointEditElementIDs.XY_TRANSLATION,
          color: PointEditElementColors.XY_TRANSLATION_COLOR
        }));
      }
      if (this._hideFeatures.YZ_TRANSLATION) {
        this._drawLayer.add(createPlanePrimitive({
          positions: [0, 0.1, 0.1, 0, 0.1, 0.3, 0, 0.3, 0.3, 0, 0.3, 0.1],
          normals: [1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0],
          modelMatrix: _0x437642,
          id: this._pointEditElementIDs.YZ_TRANSLATION,
          color: PointEditElementColors.YZ_TRANSLATION_COLOR
        }));
      }
      if (this._hideFeatures.XZ_TRANSLATION) {
        this._drawLayer.add(createPlanePrimitive({
          positions: [0.1, 0, 0.1, 0.1, 0, 0.3, 0.3, 0, 0.3, 0.3, 0, 0.1],
          normals: [0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0],
          modelMatrix: _0x437642,
          id: this._pointEditElementIDs.XZ_TRANSLATION,
          color: PointEditElementColors.XZ_TRANSLATION_COLOR
        }));
      }
    }
    _bindEvent() {
      this._unbindEvent();
      this._handler = new Cesium__namespace.ScreenSpaceEventHandler(this._map.canvas);
      this._handler.setInputAction(_0x4639f4 => {
        const _0x5a05c8 = drillPickTransformHelperComponent(this._map.scene, _0x4639f4.position, this._pointEditElementIDs);
        if (_0x5a05c8) {
          this._map.scene.screenSpaceCameraController.enableInputs = false;
          this._isLeftDown = true;
          this._pickedId = _0x5a05c8.id;
        }
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_DOWN);
      this._handler.setInputAction(() => {
        this._map.scene.screenSpaceCameraController.enableInputs = true;
        this._isLeftDown = false;
        this._pickedId = "";
        if (Cesium__namespace.defined(this._oldPickedId) && this._oldPickedId !== "") {
          setPointEditElementColorsForId(this._oldPickedId, getPointEditElementColorsForId(this._oldPickedId, this._pointEditElementIDs), this._pointEditElementIDs);
          this._oldPickedId = "";
          this._createGraphics();
        }
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_UP);
      this._handler.setInputAction(_0x4fc068 => {
        let _0x7f5c99 = false;
        if (Cesium__namespace.defined(this._oldPickPrimitive)) {
          const _0x271c62 = this._oldPickPrimitive?._instanceIds;
          if (_0x271c62 && _0x271c62[0]) {
            const _0x11f20d = this._oldPickPrimitive.appearance.material.uniforms;
            _0x11f20d.color = getPointEditElementColorsForId(_0x271c62[0], this._pointEditElementIDs);
            this._oldPickPrimitive = undefined;
          }
        }
        if (this._isLeftDown) {
          if (Cesium__namespace.defined(this._pickedId) && this._pickedId !== "") {
            setPointEditElementColorsForId(this._pickedId, HighlightColor, this._pointEditElementIDs);
            this._oldPickedId = this._pickedId;
            _0x7f5c99 = true;
          }
          const _0x46889a = this._map.scene;
          let _0x37bdb0 = _0x46889a.pickPosition(_0x4fc068.startPosition);
          let _0x5f53fc = _0x46889a.pickPosition(_0x4fc068.endPosition);
          const _0x1b40a5 = new Cesium__namespace.Cartesian2();
          if (!Cesium__namespace.defined(_0x37bdb0)) {
            _0x1b40a5.x = _0x4fc068.startPosition.x;
            _0x1b40a5.y = _0x46889a.canvas.clientHeight - _0x4fc068.startPosition.y;
            _0x37bdb0 = getWorldPositionFromWindowPosition(_0x46889a, _0x1b40a5);
          }
          if (!Cesium__namespace.defined(_0x5f53fc)) {
            _0x1b40a5.x = _0x4fc068.endPosition.x;
            _0x1b40a5.y = _0x46889a.canvas.clientHeight - _0x4fc068.endPosition.y;
            _0x5f53fc = getWorldPositionFromWindowPosition(_0x46889a, _0x1b40a5);
          }
          if (Cesium__namespace.defined(_0x37bdb0) && Cesium__namespace.defined(_0x5f53fc)) {
            const _0x2e7a13 = getChangeMatrixByMovingMouse(this, _0x37bdb0, _0x5f53fc, this._pointEditElementIDs);
            if (Cesium__namespace.defined(_0x2e7a13)) {
              this._editMatrix = Cesium__namespace.Matrix4.multiply(this._editMatrix, _0x2e7a13, new Cesium__namespace.Matrix4());
              this._position = Cesium__namespace.Matrix4.getTranslation(this._editMatrix, this._position);
              this.onChange({
                position: this._position
              });
              _0x7f5c99 = true;
            }
          }
          if (_0x7f5c99) {
            this._createGraphics();
          }
        } else {
          const _0x2f8013 = drillPickTransformHelperComponent(this._map.scene, _0x4fc068.endPosition, this._pointEditElementIDs);
          if (_0x2f8013) {
            const _0x3d9759 = _0x2f8013.primitive.appearance.material.uniforms;
            _0x3d9759.color = HighlightColor;
            this._oldPickPrimitive = _0x2f8013.primitive;
          }
        }
      }, Cesium__namespace.ScreenSpaceEventType.MOUSE_MOVE);
    }
    _unbindEvent() {
      if (this._handler) {
        this._handler.destroy();
        delete this._handler;
      }
    }
    onChange(_0x4f10b8) {
      if (this.options.onChange) {
        this.options.onChange(_0x4f10b8);
      }
      this.fire(EventType.change, _0x4f10b8, true);
    }
  }
  function createPolylinePrimitive(_0x3014e8) {
    const {
      positions: _0x129f2a,
      modelMatrix: _0xf35333,
      color: _0x56cb8b,
      id: _0x5d756c
    } = _0x3014e8;
    const _0x2721ea = {
      color: _0x56cb8b
    };
    const _0x1eb255 = new Cesium__namespace.PolylineMaterialAppearance({
      material: Cesium__namespace.Material.fromType(Cesium__namespace.Material.PolylineArrowType, _0x2721ea)
    });
    return new Cesium__namespace.Primitive({
      geometryInstances: new Cesium__namespace.GeometryInstance({
        geometry: new Cesium__namespace.PolylineGeometry({
          positions: _0x129f2a,
          width: 15,
          vertexFormat: Cesium__namespace.PolylineMaterialAppearance.VERTEX_FORMAT,
          arcType: Cesium__namespace.ArcType.NONE
        }),
        modelMatrix: _0xf35333,
        id: _0x5d756c
      }),
      appearance: _0x1eb255,
      depthFailAppearance: _0x1eb255,
      asynchronous: false
    });
  }
  function createPlanePrimitive(_0x4f7e67) {
    const {
      positions: _0x1d2e2a,
      modelMatrix: _0x4fa2a4,
      normals: _0x523939,
      color: _0x1c7bad,
      id: _0x31b1d4
    } = _0x4f7e67;
    const _0x412dd6 = {
      color: _0x1c7bad
    };
    const _0x44acd6 = new Cesium__namespace.MaterialAppearance({
      closed: false,
      flat: true,
      materialSupport: Cesium__namespace.MaterialAppearance.MaterialSupport.BASIC,
      material: Cesium__namespace.Material.fromType(Cesium__namespace.Material.ColorType, _0x412dd6)
    });
    return new Cesium__namespace.Primitive({
      geometryInstances: new Cesium__namespace.GeometryInstance({
        geometry: new Cesium__namespace.Geometry({
          attributes: {
            position: new Cesium__namespace.GeometryAttribute({
              componentDatatype: Cesium__namespace.ComponentDatatype.DOUBLE,
              componentsPerAttribute: 3,
              values: new Float64Array(_0x1d2e2a)
            }),
            normal: new Cesium__namespace.GeometryAttribute({
              componentDatatype: Cesium__namespace.ComponentDatatype.FLOAT,
              componentsPerAttribute: 3,
              values: new Float32Array(_0x523939)
            })
          },
          indices: new Uint16Array([0, 1, 2, 0, 2, 3]),
          primitiveType: Cesium__namespace.PrimitiveType.TRIANGLES,
          boundingSphere: Cesium__namespace.BoundingSphere.fromVertices(_0x1d2e2a)
        }),
        modelMatrix: _0x4fa2a4,
        id: _0x31b1d4
      }),
      appearance: _0x44acd6,
      depthFailAppearance: _0x44acd6,
      asynchronous: false
    });
  }
  function isTransformHelperComponent(_0x299eda, _0x46d81f) {
    for (const _0x599f4c in _0x46d81f) {
      if (Object.hasOwnProperty.call(_0x46d81f, _0x599f4c)) {
        const _0x8267eb = _0x46d81f[_0x599f4c];
        if (_0x299eda === _0x8267eb) {
          return true;
        }
      }
    }
    return false;
  }
  function getWorldPositionFromWindowPosition(_0x57e10b, _0x1f51b6) {
    const _0x3b9154 = 0.1;
    const _0x47db28 = Cesium__namespace.SceneTransforms.transformWindowToDrawingBuffer(_0x57e10b, _0x1f51b6, new Cesium__namespace.Cartesian2());
    return Cesium__namespace.SceneTransforms.drawingBufferToWorldCoordinates(_0x57e10b, _0x47db28, _0x3b9154);
  }
  function getChangeMatrixByMovingMouse(_0x2ab901, _0x523d6a, _0x2c3743, _0x42e76f) {
    const _0x4dc763 = _0x2ab901._pickedId;
    const _0xecd4a1 = Cesium__namespace.Matrix4.clone(_0x2ab901._editMatrix);
    const _0x3aa2d8 = Cesium__namespace.Matrix4.inverse(_0xecd4a1, new Cesium__namespace.Matrix4());
    const _0x45bbee = _0x2ab901._map.camera.positionWC;
    const _0x52a227 = Cesium__namespace.Matrix4.multiplyByPoint(_0x3aa2d8, _0x45bbee, new Cesium__namespace.Cartesian3());
    Cesium__namespace.Cartesian3.normalize(_0x52a227, _0x52a227);
    const _0x15c1f9 = Cesium__namespace.Cartesian3.subtract(_0x523d6a, _0x45bbee, new Cesium__namespace.Cartesian3());
    const _0x135a5b = Cesium__namespace.Cartesian3.subtract(_0x2c3743, _0x45bbee, new Cesium__namespace.Cartesian3());
    const _0xaa5036 = new Cesium__namespace.Ray(_0x45bbee, _0x15c1f9);
    const _0x37892d = new Cesium__namespace.Ray(_0x45bbee, _0x135a5b);
    const _0x56e617 = new Cesium__namespace.Cartesian3();
    if (_0x4dc763 === _0x42e76f.XY_TRANSLATION) {
      Cesium__namespace.Cartesian3.clone(Cesium__namespace.Cartesian3.UNIT_Z, _0x56e617);
    } else if (_0x4dc763 === _0x42e76f.YZ_TRANSLATION) {
      Cesium__namespace.Cartesian3.clone(Cesium__namespace.Cartesian3.UNIT_X, _0x56e617);
    } else if (_0x4dc763 === _0x42e76f.XZ_TRANSLATION) {
      Cesium__namespace.Cartesian3.clone(Cesium__namespace.Cartesian3.UNIT_Y, _0x56e617);
    } else if (_0x4dc763 === _0x42e76f.X_TRANSLATION || _0x4dc763 === _0x42e76f.Y_TRANSLATION || _0x4dc763 === _0x42e76f.Z_TRANSLATION) {
      let _0x3f7fad = Cesium__namespace.Cartesian3.ZERO;
      if (_0x4dc763 === _0x42e76f.X_TRANSLATION) {
        _0x3f7fad = Cesium__namespace.Cartesian3.UNIT_X;
      } else if (_0x4dc763 === _0x42e76f.Y_TRANSLATION) {
        _0x3f7fad = Cesium__namespace.Cartesian3.UNIT_Y;
      } else if (_0x4dc763 === _0x42e76f.Z_TRANSLATION) {
        _0x3f7fad = Cesium__namespace.Cartesian3.UNIT_Z;
      }
      const _0xf5b5f = new Cesium__namespace.Cartesian3();
      Cesium__namespace.Cartesian3.cross(_0x52a227, _0x3f7fad, _0xf5b5f);
      Cesium__namespace.Cartesian3.cross(_0x3f7fad, _0xf5b5f, _0x56e617);
      Cesium__namespace.Cartesian3.normalize(_0x56e617, _0x56e617);
    }
    const _0x277ec6 = new Cesium__namespace.Plane(_0x56e617, 0);
    Cesium__namespace.Plane.transform(_0x277ec6, _0xecd4a1, _0x277ec6);
    const _0x5e106f = Cesium__namespace.IntersectionTests.rayPlane(_0xaa5036, _0x277ec6);
    const _0x45c5b9 = Cesium__namespace.IntersectionTests.rayPlane(_0x37892d, _0x277ec6);
    if (!Cesium__namespace.defined(_0x5e106f) || !Cesium__namespace.defined(_0x45c5b9)) {
      return undefined;
    }
    const _0x88c202 = Cesium__namespace.Matrix4.multiplyByPoint(_0x3aa2d8, _0x5e106f, new Cesium__namespace.Cartesian3());
    const _0x584b94 = Cesium__namespace.Matrix4.multiplyByPoint(_0x3aa2d8, _0x45c5b9, new Cesium__namespace.Cartesian3());
    const _0x2105fa = new Cesium__namespace.Cartesian3();
    Cesium__namespace.Cartesian3.subtract(_0x584b94, _0x88c202, _0x2105fa);
    if (_0x4dc763 === _0x42e76f.X_TRANSLATION) {
      _0x2105fa.y = 0;
      _0x2105fa.z = 0;
    } else if (_0x4dc763 === _0x42e76f.Y_TRANSLATION) {
      _0x2105fa.x = 0;
      _0x2105fa.z = 0;
    } else if (_0x4dc763 === _0x42e76f.Z_TRANSLATION) {
      _0x2105fa.x = 0;
      _0x2105fa.y = 0;
    } else if (_0x4dc763 === _0x42e76f.XY_TRANSLATION) {
      _0x2105fa.z = 0;
    } else if (_0x4dc763 === _0x42e76f.YZ_TRANSLATION) {
      _0x2105fa.x = 0;
    } else if (_0x4dc763 === _0x42e76f.XZ_TRANSLATION) {
      _0x2105fa.y = 0;
    }
    return Cesium__namespace.Matrix4.fromTranslation(_0x2105fa, new Cesium__namespace.Matrix4());
  }
  function setPointEditElementColorsForId(_0xdbe5c5, _0x127646, _0x18116b) {
    switch (_0xdbe5c5) {
      case _0x18116b.X_TRANSLATION:
        PointEditElementColors.X_TRANSLATION_COLOR = _0x127646;
        break;
      case _0x18116b.Y_TRANSLATION:
        PointEditElementColors.Y_TRANSLATION_COLOR = _0x127646;
        break;
      case _0x18116b.Z_TRANSLATION:
        PointEditElementColors.Z_TRANSLATION_COLOR = _0x127646;
        break;
      case _0x18116b.XZ_TRANSLATION:
        PointEditElementColors.XZ_TRANSLATION_COLOR = _0x127646;
        break;
      case _0x18116b.XY_TRANSLATION:
        PointEditElementColors.XY_TRANSLATION_COLOR = _0x127646;
        break;
      case _0x18116b.YZ_TRANSLATION:
        PointEditElementColors.YZ_TRANSLATION_COLOR = _0x127646;
        break;
    }
  }
  function getPointEditElementColorsForId(_0x149498, _0xd8a72e) {
    let _0x26f9d5;
    switch (_0x149498) {
      case _0xd8a72e.X_TRANSLATION:
      case _0xd8a72e.YZ_TRANSLATION:
        _0x26f9d5 = Cesium__namespace.Color.RED.withAlpha(0.6);
        break;
      case _0xd8a72e.Y_TRANSLATION:
      case _0xd8a72e.XZ_TRANSLATION:
        _0x26f9d5 = Cesium__namespace.Color.GREEN.withAlpha(0.6);
        break;
      case _0xd8a72e.Z_TRANSLATION:
      case _0xd8a72e.XY_TRANSLATION:
        _0x26f9d5 = Cesium__namespace.Color.BLUE.withAlpha(0.6);
        break;
    }
    return _0x26f9d5;
  }
  function drillPickTransformHelperComponent(_0x398142, _0x4549ba, _0x4c468b) {
    const _0x21faa6 = _0x398142.drillPick(_0x4549ba);
    const _0x4d2037 = _0x21faa6.length;
    let _0x4927bd;
    for (let _0x303cc4 = 0; _0x303cc4 < _0x4d2037; _0x303cc4++) {
      const _0x2e5338 = _0x21faa6[_0x303cc4];
      if (_0x2e5338 && _0x2e5338.id && isTransformHelperComponent(_0x2e5338.id, _0x4c468b)) {
        _0x4927bd = _0x2e5338;
        break;
      }
    }
    return _0x4927bd;
  }
  const TaskItemClass = {};
  class Task extends BaseThing {
    get currentTime() {
      return this._currentTime;
    }
    get currentIndex() {
      return this._currentIndex;
    }
    get count() {
      return this._arrTaskItem?.length;
    }
    get duration() {
      const _0x387178 = this._arrTaskItem?.length;
      if (_0x387178 === 0) {
        return 0;
      }
      return this._arrTaskItem[_0x387178 - 1].stop;
    }
    get list() {
      return this.options.list;
    }
    set list(_0x2734b2) {
      this.options.list = _0x2734b2;
      this._updateList();
    }
    get listRun() {
      return this._arrTaskItem;
    }
    _mountedHook() {
      this._updateList();
    }
    _setOptionsHook(_0x136c4d, _0x127421) {
      if (_0x127421.list) {
        this._updateList();
      }
    }
    getItemById(_0x506d66) {
      for (let _0x3a878e = 0; _0x3a878e < this._arrTaskItem.length; _0x3a878e++) {
        const _0x3ade71 = this._arrTaskItem[_0x3a878e];
        if (_0x3ade71.id === _0x506d66) {
          return _0x3ade71;
        }
      }
      return null;
    }
    addItem(_0x2bebf6) {
      this.options.list.push(_0x2bebf6);
      this._updateList();
      return this._arrTaskItem[this._arrTaskItem.length - 1];
    }
    updateItem(_0x2ff676) {
      let _0x3b8466 = false;
      for (let _0x5bab23 = 0; _0x5bab23 < this.options.list.length; _0x5bab23++) {
        const _0x3d748d = this.options.list[_0x5bab23];
        if (_0x2ff676.id === _0x3d748d.id) {
          this.options.list[_0x5bab23] = _0x2ff676;
          _0x3b8466 = true;
          break;
        }
      }
      if (_0x3b8466) {
        this._updateList();
      }
      return _0x3b8466;
    }
    removeItem(_0x415817) {
      let _0x142126 = false;
      for (let _0x3e3daf = 0; _0x3e3daf < this.options.list.length; _0x3e3daf++) {
        const _0x21ec20 = this.options.list[_0x3e3daf];
        if (_0x21ec20.id === _0x415817) {
          this.options.list.splice(_0x3e3daf, 1);
          _0x142126 = true;
          break;
        }
      }
      if (_0x142126) {
        this._updateList();
      }
      return _0x142126;
    }
    _updateList() {
      this._arrTaskItem = Task.getObjectList(this.options.list, this);
    }
    _addedHook() {
      this._timeTik = setInterval(() => {
        if (this.isAdded) {
          this._clock_onTickHandler();
        }
      }, 500);
      this._clock_onTickHandler();
    }
    _removedHook() {
      if (this._timeTik) {
        clearInterval(this._timeTik);
        this._timeTik = null;
      }
      this.disableAll();
    }
    disableAll() {
      if (this._arrTaskItem) {
        for (let _0x28bf61 = 0; _0x28bf61 < this._arrTaskItem.length; _0x28bf61++) {
          const _0x3b0f0a = this._arrTaskItem[_0x28bf61];
          _0x3b0f0a.disable();
        }
      }
    }
    _clock_onTickHandler() {
      if (!this.enabled || this._arrTaskItem.length === 0) {
        return;
      }
      if (this._map?.availabilityEnabled === false) {
        return;
      }
      const _0x3a18d6 = this._map.clock;
      this._currentTime = Cesium__namespace.JulianDate.secondsDifference(_0x3a18d6.currentTime, _0x3a18d6.startTime);
      for (let _0x2ffedf = 0; _0x2ffedf < this._arrTaskItem.length; _0x2ffedf++) {
        const _0x10beb2 = this._arrTaskItem[_0x2ffedf];
        if (_0x3a18d6.shouldAnimate) {
          const _0x50a233 = _0x10beb2.update(this._currentTime);
          if (_0x50a233) {
            this._currentIndex = _0x10beb2.index;
          }
        } else {
          _0x10beb2.pause();
        }
      }
    }
    static getObjectList(_0x570c52, _0x102d6e) {
      if (!_0x570c52 || _0x570c52.length === 0) {
        return [];
      }
      let _0x3b6259 = [];
      for (let _0x40eed1 = 0; _0x40eed1 < _0x570c52.length; _0x40eed1++) {
        const _0x75882e = {
          id: _0x570c52[_0x40eed1].id ?? getGlobalId(),
          index: _0x40eed1,
          ..._0x570c52[_0x40eed1]
        };
        let _0x3795ae = _0x75882e.type;
        if (_0x102d6e instanceof Task) {
          if (!_0x3795ae) {
            continue;
          }
        } else if (_0x102d6e.type === "subtitles") {
          _0x3795ae = "subtitles";
        }
        let _0x61290;
        if (_0x3b6259.length > 0) {
          _0x61290 = _0x3b6259[_0x3b6259.length - 1];
          if (!Cesium__namespace.defined(_0x75882e.start)) {
            if (Cesium__namespace.defined(_0x75882e.delay)) {
              _0x75882e.start = _0x61290._stop + _0x75882e.delay;
            } else {
              _0x75882e.start = _0x61290._stop + 1;
            }
          }
        }
        const _0x4f5d83 = Task.create(_0x3795ae, _0x75882e);
        if (!_0x4f5d83) {
          logWarn("Task单个对象创建失败", _0x75882e);
          continue;
        }
        if (_0x4f5d83._duration < 1) {
          logWarn("Task数据有误提示：当前数据执行duration时长有误", _0x4f5d83);
        }
        _0x4f5d83._map = _0x102d6e?._map;
        _0x4f5d83._parent = _0x102d6e;
        if (_0x4f5d83._mountedHook) {
          _0x4f5d83._mountedHook();
        }
        _0x3b6259.push(_0x4f5d83);
      }
      _0x3b6259 = _0x3b6259.sort((_0x1fde40, _0xff256d) => {
        if (_0x1fde40.start !== _0xff256d.start) {
          return _0x1fde40.start - _0xff256d.start;
        } else {
          return _0x1fde40.stop - _0xff256d.stop;
        }
      });
      if (_0x570c52.length > 2) {
        for (let _0x2e848b = 1; _0x2e848b < _0x570c52.length; _0x2e848b++) {
          const _0x55a35b = _0x570c52[_0x2e848b - 1];
          const _0xf02fdf = _0x570c52[_0x2e848b];
          if (_0xf02fdf.stop > _0x55a35b.start) {
            logWarn("Task数据校验提示：前一条stop结束时间" + _0xf02fdf.stop + ">当前start开始时间" + _0x55a35b.start + "(如果是同时进行的请忽略)", _0x55a35b, _0xf02fdf);
          }
        }
      }
      return _0x3b6259;
    }
    static register(_0x3c2f85, _0x5cb171) {
      if (TaskItemClass[_0x3c2f85]) {
        logError("register: " + _0x3c2f85 + "类型已存在", _0x5cb171);
      }
      TaskItemClass[_0x3c2f85] = _0x5cb171;
      _0x5cb171.type = _0x3c2f85;
      _0x5cb171.prototype.type = _0x3c2f85;
    }
    static getClass(_0x5714bb) {
      return TaskItemClass[_0x5714bb];
    }
    static create(_0x4bf09d, _0x2adac7) {
      const _0x5c3148 = Task.getClass(_0x4bf09d);
      if (_0x5c3148) {
        const _0x18778a = new _0x5c3148(_0x2adac7);
        return _0x18778a;
      } else {
        logWarn("未处理" + _0x4bf09d + "类型TaskItem对象", _0x2adac7);
      }
    }
  }
  register("task", Task, true);
  const _0x27739a = {
    __proto__: null,
    BaseThing: BaseThing,
    Underground: Underground,
    Sightline: Sightline,
    Skyline: Skyline,
    Shadows: Shadows,
    Measure: Measure,
    FloodByGraphic: FloodByGraphic,
    Slope: Slope,
    TerrainPlanClip: TerrainPlanClip,
    FloodByMaterial: FloodByMaterial,
    ContourLine: ContourLine,
    TerrainFlat: TerrainFlat,
    TerrainUplift: TerrainUplift,
    TerrainClip: TerrainClip,
    LimitHeight: LimitHeight,
    TilesetPlanClip: TilesetPlanClip,
    ModelPlanClip: ModelPlanClip,
    TilesetBoxClip: TilesetBoxClip,
    TilesetClip: TilesetClip,
    TilesetFlood: TilesetFlood,
    TilesetFlat: TilesetFlat,
    TilesetShake: TilesetShake,
    TilesetColorCorrection: TilesetColorCorrection,
    FirstPersonRoam: FirstPersonRoam,
    StreetView: StreetView,
    KeyboardRoam: KeyboardRoam,
    CameraHistory: CameraHistory,
    RotatePoint: RotatePoint,
    RotateOut: RotateOut,
    MatrixMove: MatrixMove,
    MatrixRotate: MatrixRotate,
    MatrixMove2: MatrixMove2,
    Task: Task
  };
  var index$3 = _0x27739a;
  class BaseEffect extends BaseThing {
    get isEffect() {
      return true;
    }
    get target() {
      return this._postProcessStage;
    }
    get uniforms() {
      return this._postProcessStage?.uniforms;
    }
    addTo(_0xf2283b) {
      if (_0xf2283b && _0xf2283b.addEffect) {
        _0xf2283b.addEffect(this);
      }
      return this;
    }
    remove(_0x7a5c47) {
      if (this._map) {
        this._map.removeEffect(this, _0x7a5c47);
      }
    }
    _enabledHook(_0x569960) {
      if (this._postProcessStage) {
        this._postProcessStage.enabled = _0x569960;
      }
    }
    _setOptionsHook(_0x42bfda, _0x576ecf) {
      for (const _0x48c82b in _0x576ecf) {
        this[_0x48c82b] = _0x576ecf[_0x48c82b];
      }
    }
    _addedBaseHook() {
      if (!this._postProcessStage) {
        this._mountedHook();
      }
      this._enabledHook(this.enabled);
      if (this._postProcessStage) {
        this._map.scene.postProcessStages.add(this._postProcessStage);
      }
    }
    _removedBaseHook() {
      this._enabledHook(false);
      if (this._postProcessStage) {
        this._map.scene.postProcessStages.remove(this._postProcessStage);
        if (this._postProcessStage.isDestroyed()) {
          delete this._postProcessStage;
        }
      }
    }
    fire(_0x2cd14e, _0xebe93b = {}, _0x1b97bb) {
      if (!_0xebe93b.effect) {
        _0xebe93b.effect = this;
      }
      return super.fire(_0x2cd14e, _0xebe93b, _0x1b97bb);
    }
    _getPickIds(_0x38247e) {
      let _0x4155da = [];
      _0x38247e.forEach(_0x18ae0d => {
        if (_0x18ae0d.czmObject) {
          _0x18ae0d = _0x18ae0d.czmObject;
        }
        if (_0x18ae0d._pickIds) {
          _0x4155da = _0x4155da.concat(this._getPickIds(_0x18ae0d._pickIds));
        } else if (_0x18ae0d.pickId) {
          _0x4155da = _0x4155da.concat(this._getPickIds([_0x18ae0d.pickId]));
        } else {
          if (!_0x18ae0d.color) {
            _0x18ae0d.color = Cesium__namespace.Color.WHITE;
          }
          const _0x11d87c = {
            pickId: _0x18ae0d
          };
          _0x4155da.push(_0x11d87c);
        }
      });
      return _0x4155da;
    }
    get availability() {
      return this.options?.availability;
    }
    set availability(_0x1250ff) {
      var _0x1eaada;
      this._availability = getAvailability(_0x1250ff, (_0x1eaada = this._map) === null || _0x1eaada === undefined || (_0x1eaada = _0x1eaada.clock) === null || _0x1eaada === undefined ? undefined : _0x1eaada.startTime);
      this.options.availability = getAvailabilityJson(Array.isArray(_0x1250ff) ? _0x1250ff : this._availability);
      this._updateAvailabilityHook();
    }
    getAvailabilityJson() {
      var _0x5e8536;
      return getAvailabilityJson(this._availability, true, (_0x5e8536 = this._map) === null || _0x5e8536 === undefined || (_0x5e8536 = _0x5e8536.clock) === null || _0x5e8536 === undefined ? undefined : _0x5e8536.startTime);
    }
    getAvailabilityShow(_0x36874d) {
      if (this._map?.availabilityEnabled === false) {
        return true;
      }
      if (this._availability && _0x36874d) {
        return this._availability.findDataForIntervalContainingDate(_0x36874d) ?? false;
      } else {
        return true;
      }
    }
    _updateAvailabilityHook() {
      const _0x108548 = this._postProcessStage;
      if (!_0x108548 || _0x108548.__initUpdateForAvailability) {
        return;
      }
      const _0x4b09c8 = this;
      const _0x294326 = _0x108548.update;
      _0x108548.update = function (_0x545918, _0x41dbff) {
        this.enabled = _0x4b09c8.getAvailabilityShow(_0x4b09c8._map.clock.currentTime) && _0x4b09c8.enabled;
        return _0x294326.bind(this)(_0x545918, _0x41dbff);
      };
      _0x108548.__initUpdateForAvailability = true;
    }
  }
  var FogFS = "uniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nin vec2 v_textureCoordinates;\n\nuniform vec4 fogByDistance;\nuniform vec4 fogColor;\n\nfloat getDistance(sampler2D depthTexture, vec2 texCoords) {\n  float depth = czm_unpackDepth(texture(depthTexture, texCoords));\n  if(depth == 0.0) {\n    return czm_infinity;\n  }\n  vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, depth);\n  return -eyeCoordinate.z / eyeCoordinate.w;\n}\nfloat interpolateByDistanceMars3D(vec4 nearFarScalar, float distance) {\n  float startDistance = nearFarScalar.x;\n  float startValue = nearFarScalar.y;\n  float endDistance = nearFarScalar.z;\n  float endValue = nearFarScalar.w;\n  float t = clamp((distance - startDistance) / (endDistance - startDistance), 0.0, 1.0);\n  return mix(startValue, endValue, t);\n}\nvec4 alphaBlend(vec4 sourceColor, vec4 destinationColor) {\n  return sourceColor * vec4(sourceColor.aaa, 1.0) + destinationColor * (1.0 - sourceColor.a);\n}\n\nvoid main(void) {\n  float distance = getDistance(depthTexture, v_textureCoordinates);\n  vec4 sceneColor = texture(colorTexture, v_textureCoordinates);\n  float blendAmount = interpolateByDistanceMars3D(fogByDistance, distance);\n  vec4 finalFogColor = vec4(fogColor.rgb, fogColor.a * blendAmount);\n  out_FragColor = alphaBlend(finalFogColor, sceneColor);\n}\n";
  class Fog extends BaseEffect {
    constructor(_0x59158e = {}) {
      super(_0x59158e);
      this.fogByDistance = _0x59158e.fogByDistance ?? new Cesium__namespace.Cartesian4(10, 0, 1000, 0.9);
      this.color = _0x59158e.color ?? Cesium__namespace.Color.WHITE;
      this._setOptionsHook(_0x59158e);
    }
    get color() {
      return this._color;
    }
    set color(_0x32e3ef) {
      this._color = getCesiumColor(_0x32e3ef);
      this.options.color = this._color.toCssColorString();
    }
    get fogByDistance() {
      return this._fogByDistance;
    }
    set fogByDistance(_0x2a7fab) {
      this._fogByDistance = _0x2a7fab;
    }
    get maxHeight() {
      return this.options.maxHeight ?? 9000;
    }
    set maxHeight(_0x1c5a16) {
      this.options.maxHeight = _0x1c5a16;
    }
    _setOptionsHook(_0x490579, _0x165388) {
      if (Cesium__namespace.defined(_0x490579.fogByDistance_near)) {
        this.fogByDistance.x = _0x490579.fogByDistance_near;
      }
      if (Cesium__namespace.defined(_0x490579.fogByDistance_nearValue)) {
        this.fogByDistance.y = _0x490579.fogByDistance_nearValue;
      }
      if (Cesium__namespace.defined(_0x490579.fogByDistance_far)) {
        this.fogByDistance.z = _0x490579.fogByDistance_far;
      }
      if (Cesium__namespace.defined(_0x490579.fogByDistance_farValue)) {
        this.fogByDistance.w = _0x490579.fogByDistance_farValue;
      }
      if (Cesium__namespace.defined(_0x165388?.color)) {
        this.color = getCesiumColor(_0x490579.color, Cesium__namespace.Color.WHITE);
      }
      this.maxHeight = _0x490579.maxHeight ?? 9000;
    }
    _toJsonEx(_0x552126) {
      delete _0x552126.fogByDistance;
      _0x552126.fogByDistance_near = this.fogByDistance.x;
      _0x552126.fogByDistance_nearValue = this.fogByDistance.y;
      _0x552126.fogByDistance_far = this.fogByDistance.z;
      _0x552126.fogByDistance_farValue = this.fogByDistance.w;
      _0x552126.color = this.color.toCssColorString();
      _0x552126.maxHeight = this.maxHeight;
    }
    _mountedHook() {
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        name: this._id,
        fragmentShader: FogFS,
        uniforms: {
          fogByDistance: () => {
            return this.fogByDistance ?? new Cesium__namespace.Cartesian4(10, 0, 1000, 0.9);
          },
          fogColor: () => {
            return this.color;
          }
        },
        enabled: this.enabled
      });
    }
    _addedHook() {
      this._map.camera.percentageChanged = 0.01;
      this._map.on(EventType.cameraChanged, this.camera_changedHandler, this);
      this.camera_changedHandler();
    }
    _removedHook() {
      this._map.off(EventType.cameraChanged, this.camera_changedHandler, this);
    }
    camera_changedHandler(_0xa31ec0) {
      if (this._map.camera.positionCartographic.height < this.maxHeight) {
        this._postProcessStage.enabled = this.enabled;
      } else {
        this._postProcessStage.enabled = false;
      }
    }
    _enabledHook(_0x24c352) {
      super._enabledHook(_0x24c352);
      if (_0x24c352) {
        this.camera_changedHandler();
      }
    }
  }
  register$1("fog", Fog);
  var HighFogFS = "uniform sampler2D colorTexture;  // 颜色纹理\nuniform sampler2D depthTexture;  // 深度纹理\nin vec2 v_textureCoordinates;  // 纹理坐标\n\nuniform float u_earthRadiusOnCamera;\nuniform float u_cameraHeight;\nuniform float u_fogHeight;\nuniform vec3 u_fogColor;\nuniform float u_globalDensity;\n\n// 通过深度纹理与纹理坐标得到世界坐标\nvec4 getWorldCoordinate(sampler2D depthTexture, vec2 texCoords) {\n  float depthOrLogDepth = czm_unpackDepth(texture(depthTexture, texCoords));\n  vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, depthOrLogDepth);\n  eyeCoordinate = eyeCoordinate / eyeCoordinate.w;\n  vec4 worldCoordinate = czm_inverseView * eyeCoordinate;\n  worldCoordinate = worldCoordinate / worldCoordinate.w;\n  return worldCoordinate;\n}\n// 计算粗略的高程，依赖js传递的相机位置处的地球高程u_earthRadiusOnCamera。好处是计算量非常低\nfloat getRoughHeight(vec4 worldCoordinate) {\n  float disToCenter = length(vec3(worldCoordinate));\n  return disToCenter - u_earthRadiusOnCamera;\n}\n// 得到a向量在b向量的投影长度，如果同向结果为正，异向结果为复\nfloat projectVector(vec3 a, vec3 b) {\n  float scale = dot(a, b) / dot(b, b);\n  float k = scale / abs(scale);\n  return k * length(scale * b);\n}\n// 线性浓度积分高度雾\nfloat linearHeightFog(vec3 positionToCamera, float cameraHeight, float pixelHeight, float fogMaxHeight) {\n  float globalDensity = u_globalDensity / 10.0;\n  vec3 up = -1.0 * normalize(czm_viewerPositionWC);\n  float vh = projectVector(normalize(positionToCamera), up);\n\n\t// 让相机沿着视线方向移动 雾气产生距离 的距离\n  float s = step(100.0, length(positionToCamera));\n  vec3 sub = mix(positionToCamera, normalize(positionToCamera) * 100.0, s);\n  positionToCamera -= sub;\n  cameraHeight = mix(pixelHeight, cameraHeight - 100.0 * vh, s);\n\n  float b = mix(cameraHeight, fogMaxHeight, step(fogMaxHeight, cameraHeight));\n  float a = mix(pixelHeight, fogMaxHeight, step(fogMaxHeight, pixelHeight));\n\n  float fog = (b - a) - 0.5 * (pow(b, 2.0) - pow(a, 2.0)) / fogMaxHeight;\n  fog = globalDensity * fog / vh;\n\n  if(abs(vh) <= 0.01 && cameraHeight < fogMaxHeight) {\n    float disToCamera = length(positionToCamera);\n    fog = globalDensity * (1.0 - cameraHeight / fogMaxHeight) * disToCamera;\n  }\n\n  fog = mix(0.0, 1.0, fog / (fog + 1.0));\n\n  return fog;\n}\n\nvoid main(void) {\n  vec4 color = texture(colorTexture, v_textureCoordinates);\n  vec4 positionWC = getWorldCoordinate(depthTexture, v_textureCoordinates);\n  float pixelHeight = getRoughHeight(positionWC);\n  vec3 positionToCamera = vec3(vec3(positionWC) - czm_viewerPositionWC);\n  float fog = linearHeightFog(positionToCamera, u_cameraHeight, pixelHeight, u_fogHeight);\n  out_FragColor = mix(color, vec4(u_fogColor, 1.0), fog);\n}\n";
  class HighFog extends BaseEffect {
    constructor(_0x18215b = {}) {
      super(_0x18215b);
      this.color = _0x18215b.color ?? new Cesium__namespace.Color(0.8, 0.82, 0.84);
    }
    get color() {
      return this._color;
    }
    set color(_0x1ee153) {
      this._color = getCesiumColor(_0x1ee153);
      this.options.color = this._color.toCssColorString();
    }
    get height() {
      return this.options.height ?? 300;
    }
    set height(_0x496700) {
      this.options.height = _0x496700;
    }
    get density() {
      return this.options.density ?? 0.6;
    }
    set density(_0x2ab95e) {
      this.options.density = _0x2ab95e;
    }
    _toJsonEx(_0x3f3dbd) {
      _0x3f3dbd.color = this.color.toCssColorString();
    }
    _mountedHook() {
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        name: this._id,
        fragmentShader: HighFogFS,
        uniforms: {
          u_earthRadiusOnCamera: () => {
            return Cesium__namespace.Cartesian3.magnitude(this._map.camera.positionWC) - this._map.camera.positionCartographic.height;
          },
          u_cameraHeight: () => {
            return this._map.camera.positionCartographic.height;
          },
          u_fogColor: () => {
            return this.color;
          },
          u_fogHeight: () => {
            return this.height;
          },
          u_globalDensity: () => {
            return this.density;
          }
        },
        enabled: this.enabled
      });
    }
  }
  register$1("highFog", HighFog);
  var RainShader = "uniform sampler2D colorTexture;//下雨前输入的场景渲染照片\nin vec2 v_textureCoordinates;\nuniform float speed;\nuniform float size;\nuniform float direction;\n\nfloat hash(float x) {\n  return fract(sin(x * 133.3) * 13.13);\n}\n\nvoid main(void) {\n\n  float time = czm_frameNumber * speed / 1000.0;\n  vec2 resolution = czm_viewport.zw;\n\n  vec2 uv = (gl_FragCoord.xy * 2. - resolution.xy) / min(resolution.x, resolution.y);\n  vec3 finalColor = vec3(.6, .7, .8);//粒子的颜色\n\n  float siMars3D = sin(direction), co = cos(direction);\n  uv *= mat2(co, -siMars3D, siMars3D, co);\n  uv *= length(uv + vec2(0, 4.9))*(20.0/size) + 1.0;\n\n  float v = 1. - sin(hash(floor(uv.x * 100.0)) * 2.0);\n  float b = clamp(abs(sin(20.0 * time * v + uv.y * (5. / (2.0 + v)))) - .95, 0.0, 1.0) * 20.0;\n  finalColor *= v * b; //屏幕上雨的颜色\n\n  out_FragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(finalColor, 1.0), 0.5); //将雨和三维场景融合\n}\n";
  class Rain extends BaseEffect {
    get speed() {
      var _0x58cc1c;
      if ((_0x58cc1c = this._postProcessStage) === null || _0x58cc1c === undefined) {
        return undefined;
      } else {
        return _0x58cc1c.uniforms.speed;
      }
    }
    set speed(_0x410100) {
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.speed = _0x410100;
      }
    }
    get size() {
      var _0x48d324;
      if ((_0x48d324 = this._postProcessStage) === null || _0x48d324 === undefined) {
        return undefined;
      } else {
        return _0x48d324.uniforms.size;
      }
    }
    set size(_0x3e2bdf) {
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.size = _0x3e2bdf;
      }
    }
    get direction() {
      var _0x1c2cd7;
      return Cesium__namespace.Math.toDegrees((_0x1c2cd7 = this._postProcessStage) === null || _0x1c2cd7 === undefined ? undefined : _0x1c2cd7.uniforms.direction);
    }
    set direction(_0xf0c45d) {
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.direction = Cesium__namespace.Math.toRadians(_0xf0c45d);
      }
    }
    get maxHeight() {
      return this.options.maxHeight ?? 9000;
    }
    set maxHeight(_0x54a46e) {
      this.options.maxHeight = _0x54a46e;
    }
    _mountedHook() {
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        fragmentShader: RainShader,
        uniforms: {
          speed: this.options.speed ?? 10,
          size: this.options.size ?? 20,
          direction: Cesium__namespace.Math.toRadians(this.options.direction ?? -30)
        },
        enabled: this.enabled
      });
    }
    _addedHook() {
      if (this.maxHeight > 0) {
        this._map.camera.percentageChanged = 0.01;
        this._map.on(EventType.cameraChanged, this.camera_changedHandler, this);
        this.camera_changedHandler();
      }
    }
    _removedHook() {
      this._map.off(EventType.cameraChanged, this.camera_changedHandler, this);
    }
    camera_changedHandler(_0xa81ff5) {
      if (this._map.camera.positionCartographic.height < this.maxHeight) {
        if (this._postProcessStage) {
          this._postProcessStage.enabled = this.enabled;
        }
      } else if (this._postProcessStage) {
        this._postProcessStage.enabled = false;
      }
    }
    _enabledHook(_0x40f497) {
      super._enabledHook(_0x40f497);
      if (_0x40f497) {
        this.camera_changedHandler();
      }
    }
  }
  register$1("rain", Rain);
  var SnowShader = "uniform sampler2D colorTexture; //输入的场景渲染照片\nin vec2 v_textureCoordinates;\nuniform float speed;\nuniform float scale;\n\nfloat snow(vec2 uv, float thisScale) {\n  float time = czm_frameNumber * speed / 1000.0;\n  float wMars3D = smoothstep(1.0, 0.0, -uv.y * (thisScale / 10.0));\n  if(wMars3D < 0.1)\n    return 0.0;\n  uv += time / thisScale;\n  uv.y += time * 2.0 / thisScale;\n  uv.x += sin(uv.y + time * 0.5) / thisScale;\n  uv *= thisScale;\n\n  vec2 s = floor(uv), f = fract(uv), p;\n  float k = 3.0, d;\n  p = 0.5 + 0.35 * sin(11.0 * fract(sin((s + p + thisScale) * mat2(7, 3, 6, 5)) * 5.0)) - f;\n  d = length(p);\n  k = min(d, k);\n  k = smoothstep(0.0, k, sin(f.x + f.y) * 0.01);\n  return k * wMars3D;\n}\n\nvoid main(void) {\n  vec2 resolution = czm_viewport.zw;\n  vec2 uv = (gl_FragCoord.xy * 2. - resolution.xy) / min(resolution.x, resolution.y);\n\n  float c = 0.0;\n  float step = 1.0/(scale*0.1);\n  for(float i = 1.0; i < 12.0; i += 1.0) {\n    c += snow(uv, i*step);\n  }\n  vec3 finalColor = vec3(c); //屏幕上雪的颜色\n\n  out_FragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(finalColor, 1.0), 0.5);  //将雪和三维场景融合\n\n}\n";
  class Snow extends BaseEffect {
    get maxHeight() {
      return this.options.maxHeight ?? 9000;
    }
    set maxHeight(_0x97277d) {
      this.options.maxHeight = _0x97277d;
    }
    get speed() {
      var _0x20eb64;
      if ((_0x20eb64 = this._postProcessStage) === null || _0x20eb64 === undefined) {
        return undefined;
      } else {
        return _0x20eb64.uniforms.speed;
      }
    }
    set speed(_0x3591d3) {
      this.options.speed = _0x3591d3;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.speed = _0x3591d3;
      }
    }
    get scale() {
      var _0x52f66f;
      if ((_0x52f66f = this._postProcessStage) === null || _0x52f66f === undefined) {
        return undefined;
      } else {
        return _0x52f66f.uniforms.scale;
      }
    }
    set scale(_0x944061) {
      this.options.scale = _0x944061;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.scale = _0x944061;
      }
    }
    _mountedHook() {
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        fragmentShader: SnowShader,
        uniforms: {
          speed: this.options.speed ?? 10,
          scale: this.options.scale ?? 10
        },
        enabled: this.enabled
      });
    }
    _addedHook() {
      if (this.maxHeight > 0) {
        this._map.camera.percentageChanged = 0.01;
        this._map.on(EventType.cameraChanged, this.camera_changedHandler, this);
        this.camera_changedHandler();
      }
    }
    _removedHook() {
      this._map.off(EventType.cameraChanged, this.camera_changedHandler, this);
    }
    camera_changedHandler(_0xadf5a9) {
      if (this._map.camera.positionCartographic.height < this.maxHeight) {
        if (this._postProcessStage) {
          this._postProcessStage.enabled = this.enabled;
        }
      } else if (this._postProcessStage) {
        this._postProcessStage.enabled = false;
      }
    }
    _enabledHook(_0x40ab23) {
      super._enabledHook(_0x40ab23);
      if (_0x40ab23) {
        this.camera_changedHandler();
      }
    }
  }
  register$1("snow", Snow);
  var SnowCoverFS = "#extension GL_OES_standard_derivatives : enable\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform float alpha;\nin vec2 v_textureCoordinates;\n\nvec4 toEye(in vec2 uv, in float depth) {\n  vec2 xy = vec2((uv.x * 2.0 - 1.0), (uv.y * 2.0 - 1.0));\n  vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);\n  posInCamera = posInCamera / posInCamera.w;\n  return posInCamera;\n}\nfloat getDepthMars3D(in vec4 depth) {\n  float z_window = czm_unpackDepth(depth);\n  z_window = czm_reverseLogDepth(z_window);\n  float n_range = czm_depthRange.near;\n  float f_range = czm_depthRange.far;\n  return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\n\nvoid main() {\n  vec4 color = texture(colorTexture, v_textureCoordinates);\n  vec4 currD = texture(depthTexture, v_textureCoordinates);\n  if(currD.r >= 1.0) {\n    out_FragColor = color;\n    return;\n  }\n  float depth = getDepthMars3D(currD);\n  vec4 positionEC = toEye(v_textureCoordinates, depth);\n  vec3 dx = dFdx(positionEC.xyz);\n  vec3 dy = dFdy(positionEC.xyz);\n  vec3 nor = normalize(cross(dx, dy));\n\n  vec4 positionWC = normalize(czm_inverseView * positionEC);\n  vec3 normalWC = normalize(czm_inverseViewRotation * nor);\n  float dotNumWC = dot(positionWC.xyz, normalWC);\n  if(dotNumWC <= 0.2) {\n    out_FragColor = mix(color, vec4(1.0), alpha * 0.2);\n    return;\n  }\n  out_FragColor = mix(color, vec4(1.0), dotNumWC * alpha);\n}\n";
  var CustomSnowCoverFS = "#extension GL_OES_standard_derivatives : enable\n\nvoid fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {\n  if(enabled) {\n    vec3 positionEC = fsInput.attributes.positionEC;\n    vec4 positionMars3D = normalize(czm_inverseView * vec4(positionEC, 1.0));\n\n    vec3 dx = dFdx(fsInput.attributes.positionEC);\n    vec3 dy = dFdy(fsInput.attributes.positionEC);\n    vec3 nor = normalize(cross(dx, dy));\n    vec3 normalMars3D = normalize(czm_inverseViewRotation * nor);\n    float dotNumMars3D = dot(positionMars3D.xyz, normalMars3D);\n    if(dotNumMars3D <= 0.2) {\n      material.diffuse = mix(material.diffuse, vec3(1.0), alpha * 0.2);\n    } else {\n      material.diffuse = mix(material.diffuse, vec3(1.0), dotNumMars3D * alpha);\n    }\n  }\n}\n";
  class SnowCover extends BaseEffect {
    get alpha() {
      if (this._postProcessStage) {
        var _0x3f4d97;
        if ((_0x3f4d97 = this._postProcessStage) === null || _0x3f4d97 === undefined || (_0x3f4d97 = _0x3f4d97.uniforms) === null || _0x3f4d97 === undefined) {
          return undefined;
        } else {
          return _0x3f4d97.alpha;
        }
      }
      if (this._uniforms) {
        var _0x1aab46;
        if ((_0x1aab46 = this._uniforms) === null || _0x1aab46 === undefined) {
          return undefined;
        } else {
          return _0x1aab46.alpha.value;
        }
      }
    }
    set alpha(_0xa427d6) {
      this.options.alpha = _0xa427d6;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.alpha = _0xa427d6;
      }
      if (this._uniforms) {
        this._uniforms.alpha.value = _0xa427d6;
      }
    }
    get maxHeight() {
      return this.options.maxHeight ?? 9000;
    }
    set maxHeight(_0x32fab3) {
      this.options.maxHeight = _0x32fab3;
    }
    _enabledHook(_0x2a613e) {
      if (this._postProcessStage) {
        this._postProcessStage.enabled = _0x2a613e;
      }
      if (this._uniforms) {
        this._uniforms.enabled.value = _0x2a613e;
      }
      if (_0x2a613e) {
        this.camera_changedHandler();
      }
    }
    _mountedHook() {
      if (this.options.layer) {
        this._bindToLayer(this.options.layer);
      } else {
        this._postProcessStage = new Cesium__namespace.PostProcessStage({
          name: this._id,
          fragmentShader: SnowCoverFS,
          uniforms: {
            alpha: this.options.alpha ?? 1
          },
          enabled: this.enabled
        });
      }
    }
    _addedHook() {
      if (this.maxHeight > 0) {
        this._map.camera.percentageChanged = 0.01;
        this._map.on(EventType.cameraChanged, this.camera_changedHandler, this);
        this.camera_changedHandler();
      }
    }
    _removedHook() {
      this._map.off(EventType.cameraChanged, this.camera_changedHandler, this);
    }
    camera_changedHandler(_0xe34834) {
      if (this._map.camera.positionCartographic.height < this.maxHeight) {
        if (this._postProcessStage) {
          this._postProcessStage.enabled = this.enabled;
        }
        if (this._uniforms) {
          this._uniforms.enabled.value = this.enabled;
        }
      } else {
        if (this._postProcessStage) {
          this._postProcessStage.enabled = false;
        }
        if (this._uniforms) {
          this._uniforms.enabled.value = false;
        }
      }
    }
    _bindToLayer(_0x3b3929) {
      var _0x2a1486;
      if (this._uniforms) {
        this._uniforms.enabled.value = this.enabled;
        return;
      }
      if ((_0x2a1486 = Cesium__namespace.Mars3DEx) === null || _0x2a1486 === undefined || !_0x2a1486.getCacheOrAdd) {
        return;
      }
      const _0x4986fa = new Cesium__namespace.CustomShader({
        lightingModel: Cesium__namespace.LightingModel.UNLIT,
        uniforms: {
          alpha: {
            value: 1,
            type: Cesium__namespace.UniformType.FLOAT
          },
          enabled: {
            value: this.enabled,
            type: Cesium__namespace.UniformType.BOOL
          }
        },
        fragmentShaderText: CustomSnowCoverFS
      });
      const _0x22b417 = Cesium__namespace.Mars3DEx.getCacheOrAdd(_0x3b3929._marsOptions.customShaders);
      _0x22b417.snowCover = _0x4986fa;
      this._uniforms = _0x4986fa.uniforms;
    }
  }
  register$1("snowCover", SnowCover);
  var BrightnessFS = "uniform sampler2D colorTexture;\nin vec2 v_textureCoordinates;\n\nuniform float brightness;\n\nvoid main(void)\n{\n    vec4 color = texture(colorTexture, v_textureCoordinates);\n    vec3 target = vec3(0.0);\n    out_FragColor = vec4(mix(target, color.rgb, brightness), color.a);\n}\n";
  class Brightness extends BaseEffect {
    get brightness() {
      var _0x4e69ee;
      if ((_0x4e69ee = this._postProcessStage) === null || _0x4e69ee === undefined) {
        return undefined;
      } else {
        return _0x4e69ee.uniforms.brightness;
      }
    }
    set brightness(_0x17bcd1) {
      this.options.brightness = _0x17bcd1;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.brightness = _0x17bcd1;
      }
    }
    _mountedHook() {
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        name: "czm_brightness",
        fragmentShader: BrightnessFS,
        uniforms: {
          brightness: this.options.brightness ?? 2
        }
      });
    }
  }
  register$1("brightness", Brightness);
  class NightVision extends BaseEffect {
    _mountedHook() {
      this._postProcessStage = Cesium__namespace.PostProcessStageLibrary.createNightVisionStage();
    }
  }
  register$1("nightVision", NightVision);
  class Bloom extends BaseEffect {
    get contrast() {
      var _0x1569ba;
      if ((_0x1569ba = this._postProcessStage) === null || _0x1569ba === undefined) {
        return undefined;
      } else {
        return _0x1569ba.uniforms.contrast;
      }
    }
    set contrast(_0x4ba78e) {
      this.options.contrast = _0x4ba78e;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.contrast = _0x4ba78e;
      }
    }
    get brightness() {
      var _0x3631f5;
      if ((_0x3631f5 = this._postProcessStage) === null || _0x3631f5 === undefined) {
        return undefined;
      } else {
        return _0x3631f5.uniforms.brightness;
      }
    }
    set brightness(_0x25c981) {
      this.options.brightness = _0x25c981;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.brightness = _0x25c981;
      }
    }
    get delta() {
      var _0x57dd45;
      if ((_0x57dd45 = this._postProcessStage) === null || _0x57dd45 === undefined) {
        return undefined;
      } else {
        return _0x57dd45.uniforms.delta;
      }
    }
    set delta(_0x965c65) {
      this.options.delta = _0x965c65;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.delta = _0x965c65;
      }
    }
    get sigma() {
      var _0x36b304;
      if ((_0x36b304 = this._postProcessStage) === null || _0x36b304 === undefined) {
        return undefined;
      } else {
        return _0x36b304.uniforms.sigma;
      }
    }
    set sigma(_0x57efce) {
      this.options.sigma = _0x57efce;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.sigma = _0x57efce;
      }
    }
    get stepSize() {
      var _0x3d938f;
      if ((_0x3d938f = this._postProcessStage) === null || _0x3d938f === undefined) {
        return undefined;
      } else {
        return _0x3d938f.uniforms.stepSize;
      }
    }
    set stepSize(_0x11c9c5) {
      this.options.stepSize = _0x11c9c5;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.stepSize = _0x11c9c5;
      }
    }
    _mountedHook() {
      this._postProcessStage = this._map.scene.postProcessStages.bloom;
      this._postProcessStage.uniforms.glowOnly = false;
      this._postProcessStage.uniforms.contrast = this.options.contrast ?? 128;
      this._postProcessStage.uniforms.brightness = this.options.brightness ?? -0.3;
      this._postProcessStage.uniforms.delta = this.options.delta ?? 1;
      this._postProcessStage.uniforms.sigma = this.options.sigma ?? 3.78;
      this._postProcessStage.uniforms.stepSize = this.options.stepSize ?? 5;
    }
    _addedBaseHook(_0x47fe90) {
      this._postProcessStage.enabled = this.enabled;
    }
    _removedBaseHook() {
      this._postProcessStage.enabled = false;
    }
  }
  register$1("bloom", Bloom);
  class BlackAndWhite extends BaseEffect {
    get gradations() {
      var _0x4e1a5b;
      if ((_0x4e1a5b = this._postProcessStage) === null || _0x4e1a5b === undefined) {
        return undefined;
      } else {
        return _0x4e1a5b.uniforms.gradations;
      }
    }
    set gradations(_0x2449ec) {
      this.options.gradations = _0x2449ec;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.gradations = _0x2449ec;
      }
    }
    _mountedHook() {
      this._postProcessStage = Cesium__namespace.PostProcessStageLibrary.createBlackAndWhiteStage();
      this._postProcessStage.uniforms.gradations = this.options.gradations ?? 4;
    }
  }
  register$1("blackAndWhite", BlackAndWhite);
  var MosaicShader = "uniform sampler2D colorTexture;\nin vec2 v_textureCoordinates;\n\nconst int KERNEL_WIDTH = 16;\n\nvoid main(void) {\n  vec2 step = 1.0 / czm_viewport.zw;\n  vec2 integralPosMars3D = v_textureCoordinates - mod(v_textureCoordinates, 8.0 * step);\n  vec3 averageValue = vec3(0.0);\n  for(int i = 0; i < KERNEL_WIDTH; i++) {\n    for(int j = 0; j < KERNEL_WIDTH; j++) {\n      averageValue += texture(colorTexture, integralPosMars3D + step * vec2(i, j)).rgb;\n    }\n  }\n  averageValue /= float(KERNEL_WIDTH * KERNEL_WIDTH);\n  out_FragColor = vec4(averageValue, 1.0);\n}\n";
  class Mosaic extends BaseEffect {
    _mountedHook() {
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        fragmentShader: MosaicShader,
        enabled: this.enabled
      });
    }
  }
  register$1("mosaic", Mosaic);
  class DepthOfField extends BaseEffect {
    get focalDistance() {
      var _0x3f6897;
      if ((_0x3f6897 = this._postProcessStage) === null || _0x3f6897 === undefined) {
        return undefined;
      } else {
        return _0x3f6897.uniforms.focalDistance;
      }
    }
    set focalDistance(_0x3a053d) {
      this.options.focalDistance = _0x3a053d;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.focalDistance = _0x3a053d;
      }
    }
    get delta() {
      var _0x5785af;
      if ((_0x5785af = this._postProcessStage) === null || _0x5785af === undefined) {
        return undefined;
      } else {
        return _0x5785af.uniforms.delta;
      }
    }
    set delta(_0x26c864) {
      this.options.delta = _0x26c864;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.delta = _0x26c864;
      }
    }
    get sigma() {
      var _0x4b7b41;
      if ((_0x4b7b41 = this._postProcessStage) === null || _0x4b7b41 === undefined) {
        return undefined;
      } else {
        return _0x4b7b41.uniforms.sigma;
      }
    }
    set sigma(_0x80b7e2) {
      this.options.sigma = _0x80b7e2;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.sigma = _0x80b7e2;
      }
    }
    get stepSize() {
      var _0x4c5801;
      if ((_0x4c5801 = this._postProcessStage) === null || _0x4c5801 === undefined) {
        return undefined;
      } else {
        return _0x4c5801.uniforms.stepSize;
      }
    }
    set stepSize(_0x121467) {
      this.options.stepSize = _0x121467;
      if (this._postProcessStage) {
        this._postProcessStage.uniforms.stepSize = _0x121467;
      }
    }
    _mountedHook() {
      this._postProcessStage = Cesium__namespace.PostProcessStageLibrary.createDepthOfFieldStage();
      this._postProcessStage.uniforms.focalDistance = this.options.focalDistance ?? 87;
      this._postProcessStage.uniforms.delta = this.options.delta ?? 1;
      this._postProcessStage.uniforms.sigma = this.options.sigma ?? 3.78;
      this._postProcessStage.uniforms.stepSize = this.options.stepSize ?? 2.46;
    }
  }
  register$1("depthOfField", DepthOfField);
  const packing_glsl = "\nvec3 packNormalToRGB(const in vec3 normal) {\n  return normalize(normal) * 0.5 + 0.5;\n}\n\nvec3 unpackRGBToNormal(const in vec3 rgb) {\n  return 2.0 * rgb.xyz - 1.0;\n}\n\nconst float PackUpscale = 256. / 255.;\nconst float UnpackDownscale = 255. / 256.;\n\nconst vec3 PackFactors = vec3(256. * 256. * 256., 256. * 256., 256.);\nconst vec4 UnpackFactors = UnpackDownscale / vec4(PackFactors, 1.);\n\nconst float ShiftRight8 = 1. / 256.;\n\nvec4 packDepthToRGBA(const in float v) {\n  vec4 r = vec4(fract(v * PackFactors), v);\n  r.yzw -= r.xyz * ShiftRight8;\n  return r * PackUpscale;\n}\n\nfloat unpackRGBAToDepth(const in vec4 v) {\n  return dot(v, UnpackFactors);\n}\n\nvec4 pack2HalfToRGBA(vec2 v) {\n  vec4 r = vec4(v.x, fract(v.x * 255.0), v.y, fract(v.y * 255.0));\n  return vec4(r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half(vec4 v) {\n  return vec2(v.x + (v.y / 255.0), v.z + (v.w / 255.0));\n}\n\nfloat viewZToOrthographicDepth(const in float viewZ, const in float near, const in float far) {\n  return (viewZ + near) / (near - far);\n}\nfloat orthographicDepthToViewZ(const in float linearClipZ, const in float near, const in float far) {\n  return linearClipZ * (near - far) - near;\n}\n\nfloat viewZToPerspectiveDepth(const in float viewZ, const in float near, const in float far) {\n  return ((near + viewZ) * far) / ((far - near) * viewZ);\n}\nfloat perspectiveDepthToViewZ(const in float invClipZ, const in float near, const in float far) {\n  return (near * far) / ((far - near) * invClipZ - far);\n}\n";
  const cmz_selected_glsl = "\n#define CZM_SELECTED_FEATURE\nuniform sampler2D czm_selectedIdTexture;\nuniform float czm_selectedIdTextureStep;\nuniform float czm_selectedIdTextureWidth;\n\nbool czm_selected(vec4 id) {\n  bool selected = false;\n  for(int i = 0; i < 1024000; i++) {\n    vec4 selectedId = texture(czm_selectedIdTexture, vec2((float(i) + 0.5) * czm_selectedIdTextureStep, 0.5));\n    if(all(equal(id, selectedId))) {\n      return true;\n    }\n    if(float(i) > czm_selectedIdTextureWidth)\n      break;\n  }\n  return false;\n}\n\n";
  function CesiumRenderPass(_0x32c190) {
    let {
      name: _0x23db71,
      vertexShader: _0x3fb38d,
      fragmentShader: _0x458e83,
      uniforms: _0x4c0a5a,
      renderStateProcess: _0x2690eb,
      beforeUpdate: _0x2c7a83,
      renderType: _0x454981,
      textureScale: _0x8d3262,
      pixelFormat: _0x5a4f47,
      pixelDatatype: _0x1441d4,
      sampler: _0x3b5840,
      shaderRedefine: _0x486ed8,
      overrideViewport: _0x1e511a
    } = _0x32c190;
    this._selectedIdTexture = null;
    const _0x58e8cc = "renderPass_" + _0x23db71.replace(/[\.\\\/\-]/g, "_");
    const _0x36ad73 = "czm_non_" + _0x58e8cc + "_main";
    const _0x598661 = "czm_" + _0x58e8cc + "_main";
    const _0xbcce71 = "_cache_" + _0x58e8cc;
    const _0x1e86d7 = _0x58e8cc + "Command";
    let _0x43081f = null;
    let _0x548309 = null;
    let _0x5f161b = null;
    let _0xb6bb8 = null;
    let _0x35d6a9;
    const _0x35becb = this;
    const _0xefe823 = new Cesium__namespace.ClearCommand({
      color: Cesium__namespace.Color.TRANSPARENT,
      depth: 1
    });
    let _0x284c7e = new Cesium__namespace.BoundingRectangle();
    if (_0x1e511a) {
      Cesium__namespace.BoundingRectangle.clone(_0x1e511a, _0x284c7e);
    }
    _0x486ed8 = _0x486ed8 || "add";
    _0x454981 = _0x454981 || "all";
    _0x8d3262 = _0x8d3262 || 1;
    if (_0x8d3262 < 0 || _0x8d3262 > 8) {
      throw new Cesium__namespace.DeveloperError("CesiumRenderPass：textureScale必须大于0小于等于8");
    }
    function _0x1da119(_0x19e78c, _0x566b2c, _0x31798a, _0x1ee029) {
      let _0x4e0f4a = _0x19e78c.shaderCache.getDerivedShaderProgram(_0x566b2c, _0x58e8cc);
      if (!Cesium__namespace.defined(_0x4e0f4a)) {
        const _0x56baf5 = _0x566b2c._attributeLocations;
        let _0x256df7 = _0x566b2c.fragmentShaderSource;
        let _0x1c5908 = _0x566b2c.vertexShaderSource;
        const _0x4a66b2 = _0x566b2c._vertexShaderText;
        let _0x336419 = _0x256df7.sources;
        let _0x4dcf1a = _0x336419.length;
        let _0x21d4c4 = !!_0xb6bb8 && _0x22de8f();
        if (!Cesium__namespace.defined(_0x31798a)) {
          _0x31798a = "vec4(1.0)";
        } else if (Object.prototype.toString.call(_0x31798a) === "[object Object]") {
          if (_0x31798a.color) {
            _0x31798a = "vec4(" + Cesium__namespace.Color.floatToByte(_0x31798a.color.red) + ", " + Cesium__namespace.Color.floatToByte(_0x31798a.color.green) + ", " + Cesium__namespace.Color.floatToByte(_0x31798a.color.blue) + ", " + Cesium__namespace.Color.floatToByte(_0x31798a.color.alpha) + ")";
          } else {
            _0x31798a = "vec4(1.0)";
          }
        }
        let _0x2b77b3 = cmz_selected_glsl;
        const _0x4bbf9f = /texture\s?\(\s?model_pickTexture\s?,\s?selectedFeature.st\s?\)/.test(_0x31798a);
        if (_0x1ee029 === "varying" && !_0x4bbf9f) {
          _0x2b77b3 += "\n#ifdef CZM_SELECTED_FEATURE\nin float me_isSelected;\nbool czm_selected(){\n    bool isSelected= me_isSelected>0.0000001;\n    if(!isSelected){\n        isSelected= czm_selected(" + _0x31798a + ");\n    }\n    return isSelected;\n}\n#endif ";
        } else {
          _0x2b77b3 += "\n#ifdef CZM_SELECTED_FEATURE\nbool czm_selected(){\n    return czm_selected(" + _0x31798a + ");\n}\n#endif ";
        }
        const _0x5dc3c2 = cmz_selected_glsl + ("\n#ifdef CZM_SELECTED_FEATURE\nout float me_isSelected;\nbool czm_selected(){\n    return czm_selected(" + _0x31798a + ");\n}\n#endif  ");
        let _0x3a79b3 = false;
        let _0x484c03 = false;
        if (/in\s?vec3\s?normal\s?;/.test(_0x4a66b2) || /\n\s?vec3\s?normal\s?;/.test(_0x4a66b2)) {
          _0x3a79b3 = true;
        } else if (/out\s?vec3\s?v_normal\s?;/.test(_0x4a66b2)) {
          _0x484c03 = true;
        }
        if (_0x458e83) {
          let _0x5be83f = false;
          for (let _0x5aa183 = 0; _0x5aa183 < _0x4dcf1a; ++_0x5aa183) {
            if (/vec4\s?packDepthToRGBA\s?\(/.test(_0x336419[_0x5aa183])) {
              _0x5be83f = true;
              break;
            }
          }
          const _0x1f263d = (_0x5be83f ? "" : packing_glsl) + (_0x21d4c4 ? _0x2b77b3 : "") + Cesium__namespace.ShaderSource.replaceMain(_0x458e83, _0x598661) + "void main() \n{ \n" + (_0x486ed8 !== "replace" ? "    " + _0x36ad73 + "(); \n" : "") + ("    " + _0x598661 + "(); \n") + "} \n";
          const _0x810082 = new Array(_0x4dcf1a + 1);
          for (let _0x3346a6 = 0; _0x3346a6 < _0x4dcf1a; ++_0x3346a6) {
            _0x810082[_0x3346a6] = Cesium__namespace.ShaderSource.replaceMain(_0x336419[_0x3346a6], _0x36ad73);
          }
          _0x810082[_0x4dcf1a] = _0x1f263d;
          if (_0x3a79b3) {
            _0x256df7.defines.push("HAS_NORMAL_MARS3D");
          } else if (_0x484c03) {
            _0x256df7.defines.push("HAS_V_NORMAL_MARS3D");
          }
          _0x256df7 = new Cesium__namespace.ShaderSource({
            sources: _0x810082,
            defines: _0x256df7.defines
          });
        }
        if (_0x3fb38d || _0x458e83) {
          _0x336419 = _0x1c5908.sources;
          _0x4dcf1a = _0x336419.length;
          let _0x15d151 = false;
          for (let _0x12ebeb = 0; _0x12ebeb < _0x4dcf1a; ++_0x12ebeb) {
            if (/vec4\s?packDepthToRGBA\s?\(/.test(_0x336419[_0x12ebeb])) {
              _0x15d151 = true;
              break;
            }
          }
          _0x21d4c4 = _0x21d4c4 && _0x1ee029 === "varying" && !_0x4bbf9f;
          if (_0x3a79b3) {
            _0x1c5908.defines.push("HAS_NORMAL_MARS3D");
          } else if (_0x484c03) {
            _0x1c5908.defines.push("HAS_V_NORMAL_MARS3D");
          }
          const _0x3a6d57 = (_0x15d151 ? "" : packing_glsl) + (_0x21d4c4 ? _0x5dc3c2 : "") + Cesium__namespace.ShaderSource.replaceMain(_0x3fb38d || "void main(){}", _0x598661) + "void main() \n{ \n" + (_0x486ed8 !== "replace" ? "    " + _0x36ad73 + "(); \n" : "") + (_0x21d4c4 ? " me_isSelected = 0.0;\n #ifdef CZM_SELECTED_FEATURE\n   me_isSelected=czm_selected()?1.0:0.0;\n #endif\n" : "") + ("    " + _0x598661 + "(); \n") + "} \n";
          const _0x5045ab = new Array(_0x4dcf1a + 1);
          for (let _0x501a2d = 0; _0x501a2d < _0x4dcf1a; ++_0x501a2d) {
            _0x5045ab[_0x501a2d] = Cesium__namespace.ShaderSource.replaceMain(_0x336419[_0x501a2d], _0x36ad73);
          }
          _0x5045ab[_0x4dcf1a] = _0x3a6d57;
          _0x1c5908 = new Cesium__namespace.ShaderSource({
            sources: _0x5045ab,
            defines: _0x1c5908.defines
          });
        }
        const _0x34cca2 = {
          vertexShaderSource: _0x1c5908,
          fragmentShaderSource: _0x256df7,
          attributeLocations: _0x56baf5
        };
        _0x4e0f4a = _0x19e78c.shaderCache.createDerivedShaderProgram(_0x566b2c, _0x58e8cc, _0x34cca2);
      }
      return _0x4e0f4a;
    }
    function _0x4dcc4a(_0xf28ace, _0x40b7b8) {
      _0xf28ace._renderPassCache = _0xf28ace._renderPassCache || {};
      _0xf28ace._renderPassCache[_0xbcce71] = _0xf28ace._renderPassCache[_0xbcce71] || {};
      const _0xa67f83 = _0xf28ace._renderPassCache[_0xbcce71];
      let _0x50b2a2 = _0xa67f83[_0x40b7b8.id];
      if (!Cesium__namespace.defined(_0x50b2a2)) {
        const _0x516b2e = Cesium__namespace.RenderState.getState(_0x40b7b8);
        if (typeof _0x2690eb === "function") {
          _0x2690eb.call(_0x35becb, _0x516b2e);
        }
        _0x50b2a2 = Cesium__namespace.RenderState.fromCache(_0x516b2e);
        _0xa67f83[_0x40b7b8.id] = _0x50b2a2;
      }
      return _0x50b2a2;
    }
    function _0x1a772b(_0xef00de, _0x12689b, _0x202bb4) {
      const _0x3cf481 = _0xef00de;
      const _0x258576 = _0x12689b._frameState;
      let _0x5d1dd6 = _0xef00de.derivedCommands;
      if (!Cesium__namespace.defined(_0x5d1dd6)) {
        return;
      }
      if (_0x258576.useLogDepth && Cesium__namespace.defined(_0x5d1dd6.logDepth)) {
        _0xef00de = _0x5d1dd6.logDepth.command;
      }
      _0x5d1dd6 = _0xef00de.derivedCommands;
      let _0x4a46d5 = _0x5d1dd6.renderPass;
      if (!Cesium__namespace.defined(_0x5d1dd6.renderPass)) {
        _0x4a46d5 = _0x5d1dd6.renderPass = {};
      }
      let _0x3946e4;
      let _0x28f24c;
      if (Cesium__namespace.defined(_0x4a46d5[_0x1e86d7])) {
        _0x3946e4 = _0x4a46d5[_0x1e86d7].shaderProgram;
        _0x28f24c = _0x4a46d5[_0x1e86d7].renderState;
      }
      _0x4a46d5[_0x1e86d7] = Cesium__namespace.DrawCommand.shallowClone(_0xef00de, _0x4a46d5[_0x1e86d7]);
      if (!Cesium__namespace.defined(_0x3946e4) || _0x4a46d5.shaderProgramId !== _0xef00de.shaderProgram.id) {
        const _0x26ee19 = _0xef00de.shaderProgram;
        const _0x3cbcd7 = _0x3cf481._pickIdQualifier = new RegExp("uniform\\s?vec4\\s?" + _0xef00de.pickId, "g").test(_0x26ee19._fragmentShaderText) ? "uniform" : "varying";
        _0x4a46d5[_0x1e86d7].shaderProgram = _0x1da119(_0x202bb4, _0x26ee19, _0xef00de.pickId, _0x3cbcd7);
        _0x4a46d5[_0x1e86d7].renderState = _0x4dcc4a(_0x12689b, _0xef00de.renderState);
        _0x4a46d5.shaderProgramId = _0xef00de.shaderProgram.id;
      } else {
        _0x4a46d5[_0x1e86d7].shaderProgram = _0x3946e4;
        _0x4a46d5[_0x1e86d7].renderState = _0x28f24c;
      }
      const _0x501017 = _0x4a46d5[_0x1e86d7].uniformMap;
      _0x43fb67(_0x501017);
    }
    function _0x432601(_0x2d1cf0) {
      return function () {
        const _0x5d84bb = _0x4c0a5a[_0x2d1cf0];
        if (typeof _0x5d84bb === "function") {
          return _0x5d84bb();
        }
        return _0x5d84bb;
      };
    }
    function _0x5d17c1(_0x53ab27, _0x1ce95b) {
      return function () {
        const _0x28c051 = _0x53ab27[_0x1ce95b]();
        if (Cesium__namespace.defined(_0x28c051)) {
          return _0x28c051.dimensions;
        }
        return undefined;
      };
    }
    function _0x43fb67(_0xf1cb3d) {
      if (_0xf1cb3d.__created) {
        return;
      }
      _0xf1cb3d.czm_selectedIdTexture = function () {
        return _0xb6bb8._selectedIdTexture;
      };
      _0xf1cb3d.czm_selectedIdTextureWidth = function () {
        return _0xb6bb8._selectedIdTexture?.width ?? 0;
      };
      _0xf1cb3d.czm_selectedIdTextureStep = function () {
        var _0x112598;
        if ((_0x112598 = _0xb6bb8._selectedIdTexture) !== null && _0x112598 !== undefined && _0x112598.width) {
          return 1 / _0xb6bb8._selectedIdTexture.width;
        } else {
          return -1;
        }
      };
      if (!_0x4c0a5a) {
        return;
      }
      _0xf1cb3d.__created = true;
      for (const _0x1cf6ad in _0x4c0a5a) {
        if (_0x4c0a5a.hasOwnProperty(_0x1cf6ad)) {
          if (typeof _0x4c0a5a[_0x1cf6ad] !== "function") {
            _0xf1cb3d[_0x1cf6ad] = _0x432601(_0x1cf6ad);
          } else {
            _0xf1cb3d[_0x1cf6ad] = _0x4c0a5a[_0x1cf6ad];
          }
          const _0x5af046 = _0xf1cb3d[_0x1cf6ad]();
          if (typeof _0x5af046 === "string" || _0x5af046 instanceof Cesium__namespace.Texture || _0x5af046 instanceof HTMLImageElement || _0x5af046 instanceof HTMLCanvasElement || _0x5af046 instanceof HTMLVideoElement) {
            _0xf1cb3d[_0x1cf6ad + "Dimensions"] = _0x5d17c1(_0xf1cb3d, _0x1cf6ad);
          }
        }
      }
    }
    function _0x2512d1(_0x1a0381) {
      const _0x3dc9ee = _0x1a0381._view;
      const _0x520e43 = _0x3dc9ee.frustumCommandsList;
      const _0x3928ac = _0x520e43.length;
      let _0x116fcb;
      let _0x187e01;
      let _0x4620c9;
      for (let _0x38e61d = 0; _0x38e61d < _0x3928ac; ++_0x38e61d) {
        const _0x5d50ec = _0x3928ac - _0x38e61d - 1;
        const _0x1b4467 = _0x520e43[_0x5d50ec];
        for (_0x187e01 = 0; _0x187e01 < _0x1b4467.commands.length; _0x187e01++) {
          const _0xeafae0 = _0x1b4467.commands[_0x187e01];
          _0x4620c9 = _0x1b4467.indices[_0x187e01];
          if (_0xb6bb8 && _0x187e01 === Cesium__namespace.Pass.GLOBE) {
            continue;
          }
          for (_0x116fcb = 0; _0x116fcb < _0x4620c9; ++_0x116fcb) {
            const _0x2f2c5b = _0xeafae0[_0x116fcb];
            _0x1a772b(_0x2f2c5b, _0x1a0381, _0x1a0381._context);
          }
        }
      }
    }
    function _0x5eb909() {
      if (_0x548309) {
        _0x548309.destroy();
        _0x43081f.destroy();
        _0x43081f = undefined;
        _0x548309 = undefined;
      }
      if (_0x5f161b) {
        _0x5f161b.destroy();
        _0x5f161b = undefined;
      }
    }
    function _0xd78dd8(_0x22c622, _0x102c5b, _0x8e24ce, _0xbfdae2) {
      const _0x2b6408 = _0x102c5b.width;
      const _0x7504dc = _0x102c5b.height;
      if (_0x548309 && _0x548309.width === _0x2b6408 && _0x548309.height === _0x7504dc && _0x8e24ce === _0x35d6a9) {
        return;
      }
      _0x35d6a9 = _0x8e24ce;
      _0x5eb909();
      _0x548309 = new Cesium__namespace.Texture({
        context: _0x22c622,
        width: _0x2b6408,
        height: _0x7504dc,
        pixelFormat: _0x5a4f47 ?? Cesium__namespace.PixelFormat.RGBA,
        pixelDatatype: _0x1441d4 ?? Cesium__namespace.PixelDatatype.FLOAT,
        sampler: _0x3b5840 ?? Cesium__namespace.Sampler.NEAREST
      });
      _0x5f161b = new Cesium__namespace.Texture({
        context: _0x22c622,
        width: _0x2b6408,
        height: _0x7504dc,
        pixelFormat: Cesium__namespace.PixelFormat.DEPTH_COMPONENT,
        pixelDatatype: Cesium__namespace.PixelDatatype.UNSIGNED_SHORT,
        sampler: Cesium__namespace.Sampler.NEAREST
      });
      const _0x4b0be4 = {
        colorTextures: [_0x548309],
        context: _0x22c622,
        destroyAttachments: false,
        depthTexture: _0x5f161b
      };
      _0x43081f = new Cesium__namespace.Framebuffer(_0x4b0be4);
    }
    function _0x1334ec(_0x309e4f) {
      _0x284c7e = Cesium__namespace.BoundingRectangle.clone(_0x309e4f.viewport, _0x284c7e);
      const _0x38095b = Object.assign({}, _0x309e4f.passState);
      _0x38095b.viewport = _0x284c7e;
      return _0x38095b;
    }
    function _0x614c98(_0x204fa6, _0x51026d) {
      const _0x29a459 = _0x204fa6._us._frameState;
      const _0x101779 = _0x29a459.camera;
      const _0x46c1b0 = _0x101779._scene;
      const _0x164174 = _0x46c1b0._view;
      try {
        if (!_0x3fb38d && !_0x458e83) {
          const _0x331948 = _0x1334ec(_0x164174);
          if (typeof _0x2c7a83 === "function") {
            _0x2c7a83.call(_0x35becb, _0x46c1b0, _0x51026d);
          }
          _0xd78dd8(_0x204fa6, _0x284c7e, _0x46c1b0.hdr, _0x164174.sceneFramebuffer);
          executeDerivedCommandList(_0x204fa6, _0x43081f, _0x331948);
        } else {
          const _0x3b3f2a = _0x1334ec(_0x164174);
          if (typeof _0x2c7a83 === "function") {
            _0x2c7a83.call(_0x35becb, _0x46c1b0, _0x51026d);
          }
          _0xd78dd8(_0x204fa6, _0x284c7e, _0x46c1b0.hdr, _0x164174.sceneFramebuffer);
          _0x2512d1(_0x46c1b0);
          executeDerivedCommandList(_0x204fa6, _0x43081f, _0x3b3f2a, "renderPass", _0x1e86d7, _0x454981 === "all" || !_0xb6bb8 || !_0xb6bb8._selectedIdTexture ? null : _0x5af79a);
        }
      } catch (_0x228ce2) {}
    }
    function _0x22de8f() {
      if (!_0xb6bb8) {
        return;
      }
      const _0x5362da = _0xb6bb8.selected || _0xb6bb8.parentSelected;
      if (_0x5362da.length) {
        return _0x5362da;
      }
    }
    function _0x5af79a(_0x38617f, _0x334ab2) {
      const _0xaa0647 = _0xb6bb8 && (_0xb6bb8.selected || _0xb6bb8.parentSelected);
      if (!_0xb6bb8 || !_0xaa0647 || !_0xaa0647.length) {
        return false;
      }
      if (!_0x38617f.pickId || _0x38617f._pickIdQualifier !== "uniform") {
        return true;
      }
      let _0x589f78 = true;
      const _0x537506 = _0x38617f.owner;
      const _0x4cd667 = _0x454981 === "selected";
      if (_0x537506 && _0x537506.isObject3D) {
        for (let _0x1d6f96 = 0; _0x1d6f96 < _0xaa0647.length; _0x1d6f96++) {
          const _0x4bca63 = _0xaa0647[_0x1d6f96];
          if (_0x4bca63 === _0x537506) {
            return _0x4cd667;
          }
        }
        return !_0x4cd667;
      }
      const _0x52961a = _0x38617f.uniformMap;
      if (_0x52961a[_0x38617f.pickId]) {
        const _0x367250 = _0x52961a[_0x38617f.pickId]();
        _0x589f78 = !_0x4cd667;
        for (let _0x5706f7 = 0; _0x5706f7 < _0xaa0647.length; _0x5706f7++) {
          const _0x1be3ef = _0xaa0647[_0x5706f7];
          const _0x1d8d4e = _0x1be3ef.pickId ? [_0x1be3ef.pickId] : _0x1be3ef.pickIds || _0x1be3ef._pickIds;
          for (let _0x15d963 = 0; _0x15d963 < _0x1d8d4e.length; _0x15d963++) {
            const _0xca414b = _0x1d8d4e[_0x15d963];
            if (_0xca414b.color === _0x367250 || Cesium__namespace.Color.equals(_0xca414b.color, _0x367250)) {
              return _0x4cd667;
            }
          }
        }
      }
      return _0x589f78;
    }
    function _0x1fec02(_0x6f62b2) {
      if (_0x43081f) {
        const _0x4da8a1 = _0x6f62b2._us._frameState.camera._scene._view;
        _0xefe823.framebuffer = _0x43081f;
        _0xefe823.execute(_0x6f62b2, _0x4da8a1.passState);
        _0xefe823.framebuffer = undefined;
      }
    }
    function _0x280386(_0x2a5a29) {
      if (_0xb6bb8 && _0x35becb.prevStageUpdate) {
        _0xb6bb8.update = _0x35becb.prevStageUpdate;
        _0x35becb.prevStageUpdate = null;
        _0x35becb.prevStageExecute = null;
      }
      _0xb6bb8 = _0x2a5a29;
      if (!_0xb6bb8) {
        return;
      }
      const _0x50dc80 = _0xb6bb8.update;
      _0x35becb.prevStageUpdate = _0x50dc80;
      _0xb6bb8.update = function (_0x5d1425, _0x4dc6ee) {
        _0x1fec02(_0x5d1425);
        _0x50dc80.call(_0xb6bb8, _0x5d1425, _0x4dc6ee);
        if (!_0xb6bb8.enabled) {
          return;
        }
        if (!_0x3fb38d && !_0x458e83) {
          _0x614c98(_0x5d1425, _0x4dc6ee);
        } else {
          const _0x3a1503 = _0xb6bb8.selected || _0xb6bb8.parentSelected;
          if (_0x3a1503 && _0x3a1503.length) {
            _0x614c98(_0x5d1425, _0x4dc6ee);
          }
        }
      };
    }
    this.update = _0x614c98;
    this.clear = _0x1fec02;
    const _0xee5309 = {
      get: function () {
        return _0x548309;
      }
    };
    const _0x1a018c = {
      get: function () {
        return _0x5f161b;
      }
    };
    Object.defineProperties(this, {
      texture: _0xee5309,
      depthTexture: _0x1a018c,
      stage: {
        get() {
          return _0xb6bb8;
        },
        set(_0x227bbd) {
          if (_0xb6bb8 !== _0x227bbd) {
            _0x280386(_0x227bbd);
          }
        }
      }
    });
  }
  let scratchPerspectiveFrustum;
  let scratchPerspectiveOffCenterFrustum;
  let scratchOrthographicFrustum;
  let scratchOrthographicOffCenterFrustum;
  function executeDerivedCommand(_0x458d77, _0x27644e, _0x15b4c4, _0x2936d5, _0x17dd97, _0x542b0d) {
    const _0x169ebf = Cesium__namespace.defined;
    const _0x50bfbb = _0x2936d5._frameState;
    let _0x1b2726 = _0x458d77.derivedCommands;
    if (!_0x169ebf(_0x1b2726)) {
      return;
    }
    if (_0x50bfbb.useLogDepth && _0x169ebf(_0x1b2726.logDepth)) {
      _0x458d77 = _0x1b2726.logDepth.command;
    }
    _0x1b2726 = _0x458d77.derivedCommands;
    if (_0x169ebf(_0x1b2726[_0x27644e])) {
      _0x458d77 = _0x1b2726[_0x27644e][_0x15b4c4];
      _0x458d77.execute(_0x17dd97, _0x542b0d);
    }
  }
  function executeDerivedCommandList(_0x497ea8, _0x1430a0, _0x29aa86, _0x1bb88c, _0x444114, _0x3d213a) {
    const {
      Pass: _0x5131a7,
      defined: _0x217663,
      PerspectiveFrustum: _0x2ce454,
      PerspectiveOffCenterFrustum: _0x1d5d24,
      OrthographicFrustum: _0x4c57ba,
      OrthographicOffCenterFrustum: _0x1fc4d9
    } = Cesium__namespace;
    scratchPerspectiveFrustum = scratchPerspectiveFrustum || new _0x2ce454();
    scratchPerspectiveOffCenterFrustum = scratchPerspectiveOffCenterFrustum || new _0x1d5d24();
    scratchOrthographicFrustum = scratchOrthographicFrustum || new _0x4c57ba();
    scratchOrthographicOffCenterFrustum = scratchOrthographicOffCenterFrustum || new _0x1fc4d9();
    const _0xc7c446 = _0x497ea8._us;
    const _0x864e43 = _0xc7c446._frameState;
    const _0x246669 = _0x864e43.camera;
    const _0x3d5e31 = _0x246669._scene;
    const _0x7d74a2 = _0x3d5e31._view;
    const _0x362fbf = _0x7d74a2.frustumCommandsList;
    const _0x47c5b2 = _0x362fbf.length;
    const _0x2de845 = _0x3d5e31._globeTranslucencyState;
    const _0x3bd3be = _0x2de845.translucent;
    const _0x24e85d = _0x3d5e31._view.globeTranslucencyFramebuffer;
    let _0x3ce3be;
    if (_0x217663(_0x246669.frustum.fov)) {
      _0x3ce3be = _0x246669.frustum.clone(scratchPerspectiveFrustum);
    } else if (_0x217663(_0x246669.frustum.infiniteProjectionMatrix)) {
      _0x3ce3be = _0x246669.frustum.clone(scratchPerspectiveOffCenterFrustum);
    } else if (_0x217663(_0x246669.frustum.width)) {
      _0x3ce3be = _0x246669.frustum.clone(scratchOrthographicFrustum);
    } else {
      _0x3ce3be = _0x246669.frustum.clone(scratchOrthographicOffCenterFrustum);
    }
    function _0x29219b(_0x403cdd, _0x229705, _0x4866d0, _0x1448df) {
      const _0x479b84 = _0x3d213a ? _0x3d213a(_0x403cdd, _0x229705) : true;
      if (_0x479b84) {
        try {
          if (_0x1bb88c && _0x444114) {
            executeDerivedCommand(_0x403cdd, _0x1bb88c, _0x444114, _0x229705, _0x4866d0, _0x1448df);
          } else {
            _0x403cdd.execute(_0x4866d0, _0x1448df);
          }
        } catch (_0xb8a8a1) {}
      }
    }
    let _0x54986c;
    let _0x33604a;
    let _0x4800f8;
    for (let _0xf08377 = 0; _0xf08377 < _0x47c5b2; ++_0xf08377) {
      const _0x1ea86f = _0x47c5b2 - _0xf08377 - 1;
      const _0xbb17a7 = _0x362fbf[_0x1ea86f];
      const _0x5a8521 = _0x29aa86.framebuffer;
      _0x29aa86.framebuffer = _0x1430a0;
      _0x3ce3be.near = _0x1ea86f !== 0 ? _0xbb17a7.near * _0x3d5e31.opaqueFrustumNearOffset : _0xbb17a7.near;
      _0x3ce3be.far = _0xbb17a7.far;
      _0xc7c446.updateFrustum(_0x3ce3be);
      _0xc7c446.updatePass(_0x5131a7.GLOBE);
      _0x4800f8 = _0xbb17a7.commands[_0x5131a7.GLOBE];
      _0x33604a = _0xbb17a7.indices[_0x5131a7.GLOBE];
      if (_0x3bd3be) {
        _0x2de845.executeGlobeCommands(_0xbb17a7, _0x29219b, _0x24e85d, _0x3d5e31, _0x29aa86);
      } else {
        for (_0x54986c = 0; _0x54986c < _0x33604a; ++_0x54986c) {
          _0x29219b(_0x4800f8[_0x54986c], _0x3d5e31, _0x497ea8, _0x29aa86);
        }
      }
      _0xc7c446.updatePass(_0x5131a7.CESIUM_3D_TILE);
      _0x4800f8 = _0xbb17a7.commands[_0x5131a7.CESIUM_3D_TILE];
      _0x33604a = _0xbb17a7.indices[_0x5131a7.CESIUM_3D_TILE];
      for (_0x54986c = 0; _0x54986c < _0x33604a; ++_0x54986c) {
        _0x29219b(_0x4800f8[_0x54986c], _0x3d5e31, _0x497ea8, _0x29aa86);
      }
      _0xc7c446.updatePass(_0x5131a7.OPAQUE);
      _0x4800f8 = _0xbb17a7.commands[_0x5131a7.OPAQUE];
      _0x33604a = _0xbb17a7.indices[_0x5131a7.OPAQUE];
      for (_0x54986c = 0; _0x54986c < _0x33604a; ++_0x54986c) {
        _0x29219b(_0x4800f8[_0x54986c], _0x3d5e31, _0x497ea8, _0x29aa86);
      }
      _0xc7c446.updatePass(_0x5131a7.TRANSLUCENT);
      _0x4800f8 = _0xbb17a7.commands[_0x5131a7.TRANSLUCENT];
      _0x33604a = _0xbb17a7.indices[_0x5131a7.TRANSLUCENT];
      for (_0x54986c = 0; _0x54986c < _0x33604a; ++_0x54986c) {
        _0x29219b(_0x4800f8[_0x54986c], _0x3d5e31, _0x497ea8, _0x29aa86);
      }
      _0x29aa86.framebuffer = _0x5a8521;
    }
  }
  class Outline extends BaseEffect {
    constructor(_0x249ce4 = {}) {
      super(_0x249ce4);
      this._setOptionsHook(_0x249ce4);
    }
    get selected() {
      return this._postProcessStage?.selected;
    }
    set selected(_0x1f7e29) {
      let _0x43e55e = [];
      if (_0x1f7e29) {
        if (!Array.isArray(_0x1f7e29)) {
          _0x43e55e = this._getPickIds([_0x1f7e29]);
        } else {
          _0x43e55e = this._getPickIds(_0x1f7e29);
        }
      }
      if (this._postProcessStage) {
        this._postProcessStage.selected = _0x43e55e;
        this._postProcessStage.enabled = this.enabled && this.selected.length > 0;
      }
    }
    get width() {
      return this.options.width;
    }
    set width(_0x125b66) {
      this.options.width = _0x125b66;
    }
    get color() {
      return this._color;
    }
    set color(_0x3d52cd) {
      this._color = getCesiumColor(_0x3d52cd);
      this._useSingleColor = !this._colorHidden || this._color.equals(this._colorHidden);
      this.options.color = this._color.toCssColorString();
    }
    get colorHidden() {
      if (Cesium__namespace.defined(this._colorHidden)) {
        return this._colorHidden;
      } else {
        return this._color;
      }
    }
    set colorHidden(_0xab4825) {
      this._colorHidden = getCesiumColor(_0xab4825);
      this._useSingleColor = !this._colorHidden || this._color.equals(this._colorHidden);
      if (this._colorHidden) {
        this.options.colorHidden = this._colorHidden.toCssColorString();
      }
    }
    get showPlane() {
      return this.options.showPlane;
    }
    set showPlane(_0x563f8f) {
      this.options.showPlane = _0x563f8f;
    }
    get planeAngle() {
      return this.options.planeAngle;
    }
    set planeAngle(_0x144914) {
      this.options.planeAngle = _0x144914;
      this._planeAngleRadians = Cesium__namespace.Math.toRadians(_0x144914);
    }
    get glow() {
      return this.options.glow;
    }
    set glow(_0x239616) {
      this.options.glow = _0x239616;
    }
    get glowPower() {
      return this.options.glowPower;
    }
    set glowPower(_0x2a546e) {
      this.options.glowPower = _0x2a546e;
    }
    get glowStrength() {
      return this.options.glowStrength;
    }
    set glowStrength(_0x211484) {
      this.options.glowStrength = _0x211484;
    }
    _enabledHook(_0xdb580b) {
      if (this._postProcessStage) {
        this._postProcessStage.enabled = _0xdb580b && this.selected.length > 0;
      }
    }
    _setOptionsHook(_0x434528, _0x337e89) {
      this.eventType = _0x434528.eventType ?? EventType.click;
      this.width = _0x434528.width ?? 6;
      this.color = getCesiumColor(_0x434528.color, Cesium__namespace.Color.WHITE);
      this.colorHidden = _0x434528.colorHidden;
      this.showPlane = _0x434528.showPlane ?? false;
      this.planeAngle = _0x434528.planeAngle ?? 10;
      this.glow = _0x434528.glow ?? false;
      this.glowPower = _0x434528.glowPower ?? 1;
      this.glowStrength = _0x434528.glowStrength ?? 3;
      this.onlySelected = _0x434528.onlySelected ?? false;
    }
    _mountedHook() {
      const _0x20c3cf = this.name || this.type || "";
      const _0x1723d1 = new CesiumRenderPass({
        name: _0x20c3cf + "Pass",
        vertexShader: "\n          out vec3 vOutlineNormal_mars3d;\n          void main(){\n              #ifdef HAS_NORMAL_MARS3D\n                  vOutlineNormal_mars3d = normal;\n              #else\n                  #ifdef HAS_V_NORMAL_MARS3D\n                      vOutlineNormal_mars3d = v_normal;\n                  #else\n                      vOutlineNormal_mars3d=vec3(0.0);\n                  #endif\n              #endif\n          } ",
        fragmentShader: "\n        in vec3 vOutlineNormal_mars3d;\n        void main(){\n            #ifdef CZM_SELECTED_FEATURE\n            if(!czm_selected())discard;\n            #endif\n\n            if(length(vOutlineNormal_mars3d)>0.0)\n              out_FragColor=vec4( vOutlineNormal_mars3d ,out_FragColor.a);\n        }",
        sampler: new Cesium__namespace.Sampler({
          minificationFilter: Cesium__namespace.TextureMinificationFilter.LINEAR,
          magnificationFilter: Cesium__namespace.TextureMagnificationFilter.LINEAR
        })
      });
      const _0x47a9f3 = {
        outlineWidth: () => {
          return this.width;
        },
        devicePixelRatio: devicePixelRatio,
        thresholdAngle: () => {
          return this._planeAngleRadians;
        },
        useSingleColor: () => {
          return this._useSingleColor;
        },
        showOutlineOnly: () => {
          return !this.showPlane;
        },
        visibleEdgeColor: () => {
          return this.color;
        },
        hiddenEdgeColor: () => {
          return this.colorHidden;
        },
        maskTexture: () => {
          return _0x1723d1.texture;
        },
        maskDepthTexture: () => {
          return _0x1723d1.depthTexture;
        }
      };
      const _0x5d1111 = {
        name: _0x20c3cf + "Mask",
        uniforms: _0x47a9f3,
        fragmentShader: "\n    uniform sampler2D colorTexture;\n    uniform vec2 colorTextureDimensions;\n    uniform sampler2D depthTexture;\n\n    uniform sampler2D maskTexture;\n    uniform sampler2D maskDepthTexture;\n    uniform float thresholdAngle;\n    uniform bool showOutlineOnly;\n\n    uniform float outlineWidth;\n    uniform float devicePixelRatio;\n    uniform vec3 visibleEdgeColor;\n    uniform vec3 hiddenEdgeColor;\n    uniform bool useSingleColor;\n\n    in vec2 v_textureCoordinates;\n\n    float lengthSq(vec3 v){\n        return v.x * v.x + v.y * v.y + v.z * v.z;\n    }\n    float normal_angleTo(vec3 a,vec3 b){\n        float denominator =  sqrt(  lengthSq(a) * lengthSq(b) );\n        if ( denominator == 0. ) return czm_pi / 2.;\n        float theta = dot(a, b ) / denominator;\n        // clamp, to handle numerical problems\n        return  acos(  clamp( theta, - 1., 1. ) );\n    }\n\n    float compareNormal(vec4 n1,vec4 n2){\n          if(  abs (  normal_angleTo( n1.xyz , n2.xyz ) ) < thresholdAngle ){\n              return 0.;\n          }else{\n              return 1.;\n          }\n    }\n\n    float compareDepth(const in vec2 uv){\n        float maskDepth = czm_readDepth( maskDepthTexture, uv);\n        float nonDepth = czm_readDepth( depthTexture, uv);\n        return maskDepth>nonDepth?1.:0.;\n    }\n\n    void main(){\n\n        vec2 vUv=v_textureCoordinates;\n\n        // vec4 color = texture( colorTexture, vUv);\n        vec4 maskColor = texture( maskTexture, vUv);\n\n        if( maskColor.a < 0.0001){\n            // out_FragColor =color;\n            discard;\n            return;\n        }\n\n        vec2 invSize = outlineWidth / colorTextureDimensions;\n        vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\n\n        vec4 c1 = texture( maskTexture, vUv + uvOffset.xy);\n        vec4 c2 = texture( maskTexture, vUv - uvOffset.xy);\n        vec4 c3 = texture( maskTexture, vUv + uvOffset.yw);\n        vec4 c4 = texture( maskTexture, vUv - uvOffset.yw);\n\n        float d;\n        if(showOutlineOnly){\n            float diff1 = (c1.a - c2.a)*0.5;\n            float diff2 = (c3.a - c4.a)*0.5;\n            d = length( vec2(diff1, diff2) );\n        }\n        else{\n            float diff1 = compareNormal(c1,c2)*0.5;\n            float diff2 = compareNormal(c3,c4)*0.5;\n            d = length( vec2(diff1, diff2) );\n        }\n\n        if(useSingleColor==false){\n            float dp1 = compareDepth( vUv + uvOffset.xy);\n            float dp2 = compareDepth( vUv - uvOffset.xy);\n            float dp3 = compareDepth( vUv + uvOffset.yw);\n            float dp4 = compareDepth( vUv - uvOffset.yw);\n\n            float a1 = min(dp1, dp2);\n            float a2 = min(dp3, dp4);\n            float visibilityFactor = min(a1, a2);\n            vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\n\n            // out_FragColor =color+ vec4( edgeColor , 1. ) * vec4(d);\n            out_FragColor = vec4( edgeColor , 1. ) * vec4(d);\n        }else{\n            // out_FragColor =color+ vec4( visibleEdgeColor , 1. ) * vec4(d);\n            out_FragColor =  vec4( visibleEdgeColor , 1. ) * vec4(d);\n        }\n    }\n    "
      };
      const _0x1733cd = new Cesium__namespace.PostProcessStage(_0x5d1111);
      _0x1723d1.stage = _0x1733cd;
      const _0xae5f03 = createBlurStage(_0x20c3cf + "Blur1", 4, 1, 0.75);
      const _0xa162a8 = createBlurStage(_0x20c3cf + "Blur2", 4, 4, 0.5);
      const _0x1300ee = {
        name: _0x20c3cf + "BlurComposite",
        stages: [_0x1733cd, _0xae5f03, _0xa162a8],
        inputPreviousStageTexture: true
      };
      const _0x37de53 = new Cesium__namespace.PostProcessStageComposite(_0x1300ee);
      const _0x52aaf2 = {
        showGlow: () => {
          return this.glow;
        },
        edgeGlow: () => {
          return this.glowPower;
        },
        edgeStrength: () => {
          return this.glowStrength;
        },
        edgeOnly: () => {
          return this.onlySelected;
        },
        maskTexture: () => {
          return _0x1723d1.texture;
        },
        lineTexture: _0x1733cd.name,
        edgeTexture1: _0xae5f03.name,
        edgeTexture2: _0x37de53.name
      };
      const _0x4f8b09 = {
        name: _0x20c3cf + "Additive",
        uniforms: _0x52aaf2,
        fragmentShader: "\n    uniform sampler2D colorTexture;\n    uniform sampler2D edgeTexture1;\n    uniform sampler2D edgeTexture2;\n    uniform sampler2D lineTexture;\n    uniform sampler2D maskTexture;\n    uniform bool showGlow;\n    uniform float edgeGlow;\n    uniform bool edgeOnly;\n    uniform float edgeStrength;\n\n    in vec2 v_textureCoordinates;\n    void main(){\n\n        vec2 vUv =v_textureCoordinates;\n        vec4 edgeColor=texture( lineTexture, vUv);\n        vec4 color=texture( colorTexture, vUv);\n        float opacity=1.;\n        if(edgeOnly){\n            vec4 maskColor=texture( maskTexture, vUv);\n            opacity=1.-maskColor.a;\n            out_FragColor = maskColor;\n            return;\n        }\n\n        if(showGlow){\n            vec4 edgeValue1 = texture(edgeTexture1, vUv);\n            vec4 edgeValue2 = texture(edgeTexture2, vUv);\n            vec4 glowColor = edgeValue1 + edgeValue2 * edgeGlow;\n            out_FragColor = opacity * color + edgeColor + edgeStrength * (1. - edgeColor.r) * glowColor;\n        }\n        else{\n            out_FragColor = opacity * color + edgeColor;\n        }\n    }\n    "
      };
      const _0x1db82b = new Cesium__namespace.PostProcessStage(_0x4f8b09);
      const _0x38d579 = {
        name: _0x20c3cf + "Composite",
        stages: [_0x37de53, _0x1db82b],
        inputPreviousStageTexture: false
      };
      const _0x115680 = new Cesium__namespace.PostProcessStageComposite(_0x38d579);
      const _0x46fa10 = this;
      function _0x3141c2(_0x395962) {
        const _0x42e3eb = {
          get: function () {
            return _0x46fa10.glow;
          },
          set: function (_0x87fbfe) {
            _0x46fa10.glow = _0x87fbfe;
          }
        };
        const _0x3cf773 = {
          get: function () {
            return _0x46fa10.glowPower;
          },
          set: function (_0x1af291) {
            _0x46fa10.glowPower = _0x1af291;
          }
        };
        const _0x56f57b = {
          get: function () {
            return _0x46fa10.glowStrength;
          },
          set: function (_0x571f8b) {
            _0x46fa10.glowStrength = _0x571f8b;
          }
        };
        const _0x9d1a61 = {
          get: function () {
            return _0x46fa10._planeAngleRadians;
          },
          set: function (_0x300c52) {
            _0x46fa10._planeAngleRadians = _0x300c52;
          }
        };
        const _0x31b4c3 = {
          get: function () {
            return !_0x46fa10.showPlane;
          },
          set: function (_0x33c3c8) {
            _0x46fa10.showPlane = !_0x33c3c8;
          }
        };
        const _0x5a8868 = {
          get: function () {
            return _0x46fa10.onlySelected;
          },
          set: function (_0x46598b) {
            _0x46fa10.onlySelected = _0x46598b;
          }
        };
        const _0x964a95 = {
          get: function () {
            return _0x46fa10._useSingleColor;
          }
        };
        const _0xcf43f8 = {
          get: function () {
            return _0x46fa10.width;
          },
          set: function (_0x350344) {
            _0x46fa10.width = _0x350344;
          }
        };
        const _0x240554 = {
          get: function () {
            return _0x46fa10.color;
          },
          set: function (_0x41658f) {
            _0x46fa10.color = _0x41658f;
          }
        };
        const _0x41c56e = {
          get: function () {
            return _0x46fa10.colorHidden;
          },
          set: function (_0x57a3fa) {
            _0x46fa10.colorHidden = _0x57a3fa;
          }
        };
        const _0x14976e = {
          showGlow: _0x42e3eb,
          edgeGlow: _0x3cf773,
          edgeStrength: _0x56f57b,
          thresholdAngle: _0x9d1a61,
          showOutlineOnly: _0x31b4c3,
          edgeOnly: _0x5a8868,
          useSingleColor: _0x964a95,
          outlineWidth: _0xcf43f8,
          visibleEdgeColor: _0x240554,
          hiddenEdgeColor: _0x41c56e
        };
        Object.defineProperties(_0x395962, _0x14976e);
      }
      _0x3141c2(_0x115680);
      _0x115680._uniforms = _0x115680._uniforms || {};
      _0x3141c2(_0x115680._uniforms);
      _0x115680.selected = [];
      _0x115680.enabled = false;
      this._postProcessStage = _0x115680;
    }
    _addedHook() {
      if (this.eventType) {
        this._map.on(this.eventType, this._map_clickHandler, this);
      }
    }
    _removedHook() {
      if (this.eventType) {
        this._map.off(this.eventType, this._map_clickHandler, this);
      }
    }
    _map_clickHandler(_0x1df031) {
      const _0xa317fe = this.options.objectsToExclude;
      if (_0xa317fe) {
        for (let _0x430995 = 0, _0x431456 = _0xa317fe.length; _0x430995 < _0x431456; _0x430995++) {
          const _0x542202 = _0xa317fe[_0x430995];
          if (_0x1df031.graphic === _0x542202 || _0x1df031.layer === _0x542202) {
            return;
          }
        }
      }
      const _0x659139 = this._map.mouseEvent.getPicked(_0x1df031);
      if (!_0x659139 && this.options.closeOnClick === false) {
        return;
      }
      this.selected = _0x659139;
      _0x1df031.picked = _0x659139;
      this.fire(_0x1df031.type, _0x1df031);
    }
  }
  register$1("outline", Outline);
  function createBlurStage(_0x4c769c, _0x5796cb, _0x3b9b6f, _0x471527) {
    const _0x34e4fd = {
      fragmentShader: "\n    #define MAX_RADIUS " + _0x5796cb + "\n    in vec2 v_textureCoordinates;\n    uniform sampler2D colorTexture;\n    uniform vec2 colorTextureDimensions;\n    uniform vec2 direction;\n    uniform float kernelRadius;\n\n    float gaussianPdf(in float x, in float sigma) {\n        return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n    }\n    void main() {\n        vec2 vUv=v_textureCoordinates;\n        vec2 invSize = 1.0 / colorTextureDimensions;\n        float weightSum = gaussianPdf(0.0, kernelRadius);\n        vec4 diffuseSum = texture( colorTexture, vUv) * weightSum;\n        vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\n        vec2 uvOffset = delta;\n        for( int i = 1; i <= MAX_RADIUS; i ++ ) {\n            float w = gaussianPdf(uvOffset.x, kernelRadius);\n            vec4 sample1 = texture( colorTexture, vUv + uvOffset);\n            vec4 sample2 = texture( colorTexture, vUv - uvOffset);\n            diffuseSum += ((sample1 + sample2) * w);\n            weightSum += (2.0 * w);\n            uvOffset += delta;\n        }\n        out_FragColor = diffuseSum/weightSum;\n    }"
    };
    const _0xa6b569 = _0x34e4fd;
    const _0x5a86ba = new Cesium__namespace.PostProcessStage({
      name: _0x4c769c + "_x_direction",
      fragmentShader: _0xa6b569.fragmentShader,
      textureScale: _0x471527,
      forcePowerOfTwo: true,
      uniforms: {
        kernelRadius: _0x3b9b6f,
        direction: new Cesium__namespace.Cartesian2(1, 0)
      },
      sampleMode: Cesium__namespace.PostProcessStageSampleMode.LINEAR
    });
    const _0x3ffdcc = new Cesium__namespace.PostProcessStage({
      name: _0x4c769c + "_y_direction",
      fragmentShader: _0xa6b569.fragmentShader,
      textureScale: _0x471527,
      forcePowerOfTwo: true,
      uniforms: {
        kernelRadius: _0x3b9b6f,
        direction: new Cesium__namespace.Cartesian2(0, 1)
      },
      sampleMode: Cesium__namespace.PostProcessStageSampleMode.LINEAR
    });
    const _0x189f3e = {
      name: _0x4c769c,
      stages: [_0x5a86ba, _0x3ffdcc],
      inputPreviousStageTexture: true
    };
    const _0x5b4823 = new Cesium__namespace.PostProcessStageComposite(_0x189f3e);
    return _0x5b4823;
  }
  class BloomTarget extends BaseEffect {
    constructor(_0x1a7ffb = {}) {
      _0x1a7ffb = {
        contrast: 128,
        brightness: -0.3,
        blurSamples: 32,
        delta: 1,
        sigma: 3.78,
        stepSize: 5,
        ratio: 2,
        threshold: 0,
        smoothWidth: 0.01,
        ..._0x1a7ffb
      };
      super(_0x1a7ffb);
      this.color = _0x1a7ffb.color;
      this.eventType = _0x1a7ffb.eventType ?? EventType.click;
    }
    get color() {
      return this._color;
    }
    set color(_0x2d8955) {
      this._color = getCesiumColor(_0x2d8955, Cesium__namespace.Color.WHITE);
      this.options.color = this._color.toCssColorString();
    }
    get contrast() {
      return this.options.contrast;
    }
    set contrast(_0x14038a) {
      this.options.contrast = _0x14038a;
    }
    get brightness() {
      return this.options.brightness;
    }
    set brightness(_0xeda9b3) {
      this.options.brightness = _0xeda9b3;
    }
    get blurSamples() {
      return this.options.blurSamples;
    }
    set blurSamples(_0x50a457) {
      this.options.blurSamples = _0x50a457;
    }
    get delta() {
      return this.options.delta;
    }
    set delta(_0x319cc6) {
      this.options.delta = _0x319cc6;
    }
    get sigma() {
      return this.options.sigma;
    }
    set sigma(_0x3ca5d6) {
      this.options.sigma = _0x3ca5d6;
    }
    get stepSize() {
      return this.options.stepSize;
    }
    set stepSize(_0x1ed695) {
      this.options.stepSize = _0x1ed695;
    }
    get ratio() {
      return this.options.ratio;
    }
    set ratio(_0x217657) {
      this.options.ratio = _0x217657;
    }
    get threshold() {
      return this.options.threshold;
    }
    set threshold(_0x201dbd) {
      this.options.threshold = _0x201dbd;
    }
    get smoothWidth() {
      return this.options.smoothWidth;
    }
    set smoothWidth(_0x2f5de1) {
      this.options.smoothWidth = _0x2f5de1;
    }
    get selected() {
      return this._postProcessStage?.selected;
    }
    set selected(_0x5d45d8) {
      let _0xa0cada = [];
      if (_0x5d45d8) {
        if (!Array.isArray(_0x5d45d8)) {
          _0xa0cada = this._getPickIds([_0x5d45d8]);
        } else {
          _0xa0cada = this._getPickIds(_0x5d45d8);
        }
      }
      if (this._postProcessStage) {
        this._postProcessStage.selected = _0xa0cada;
        this._postProcessStage.enabled = this.enabled && this.selected.length > 0;
      }
    }
    _enabledHook(_0x321560) {
      if (this._postProcessStage) {
        this._postProcessStage.enabled = _0x321560 && this.selected.length > 0;
      }
    }
    _mountedHook() {
      const _0x3614f5 = {
        name: this.name + "high",
        fragmentShader: "\n        uniform sampler2D colorTexture;\n        uniform float threshold;\n        uniform float smoothWidth;\n\n        in vec2 v_textureCoordinates;\n        void main() {\n          vec4 marstexel = texture( colorTexture, v_textureCoordinates );\n\n          #ifdef CZM_SELECTED_FEATURE\n            if (!czm_selected()) {\n                marstexel = vec4(0.);\n            }\n          #endif\n\n          vec3 luma = vec3( 0.299, 0.587, 0.114 );\n          float marsv = dot( marstexel.xyz, luma );\n          float alpha = smoothstep(threshold, threshold + smoothWidth, marsv);\n\n          vec4 outputColor = vec4(0.0,0.0,0.0,0.0);\n          out_FragColor = mix( outputColor, marstexel, alpha );\n        }",
        uniforms: {}
      };
      _0x3614f5.uniforms.smoothWidth = () => {
        return this.smoothWidth;
      };
      _0x3614f5.uniforms.threshold = () => {
        return this.threshold;
      };
      const _0x28f0ff = new Cesium__namespace.PostProcessStage(_0x3614f5);
      const _0x39eda5 = "\n    #define SAMPLES " + this.options.blurSamples + "\n    uniform sampler2D colorTexture;\n    uniform float direction;\n\n    uniform float delta;\n    uniform float sigma;\n    uniform float stepSize;\n\n    in vec2 v_textureCoordinates;\n    void main()\n    {\n      vec2 st = v_textureCoordinates;\n      vec2 dir = vec2(1.0 - direction, direction);\n      vec2 step = vec2(stepSize * (czm_pixelRatio / czm_viewport.zw));\n\n      vec3 g;\n      g.x = 1.0 / (sqrt(czm_twoPi) * sigma);\n      g.y = exp((-0.5 * delta * delta) / (sigma * sigma));\n      g.z = g.y * g.y;\n      vec4 result = texture(colorTexture, st) * g.x;\n\n      for (float i = 1.0; i < float(SAMPLES); i+=1.0)\n      {\n        g.xy *= g.yz;\n        vec2 offset = i * dir * step;\n        result += texture(colorTexture, st - offset) * g.x;\n        result += texture(colorTexture, st + offset) * g.x;\n      }\n      out_FragColor = result;\n    }\n    ";
      const _0x118030 = new Cesium__namespace.PostProcessStage({
        name: this.name + "blur_x",
        fragmentShader: _0x39eda5,
        uniforms: {
          delta: () => {
            return this.delta;
          },
          sigma: () => {
            return this.sigma;
          },
          stepSize: () => {
            return this.stepSize;
          },
          direction: 0
        },
        sampleMode: Cesium__namespace.PostProcessStageSampleMode.LINEAR
      });
      const _0x2eba3f = new Cesium__namespace.PostProcessStage({
        name: this.name + "blur_y",
        fragmentShader: _0x39eda5,
        uniforms: {
          delta: () => {
            return this.delta;
          },
          sigma: () => {
            return this.sigma;
          },
          stepSize: () => {
            return this.stepSize;
          },
          direction: 1
        },
        sampleMode: Cesium__namespace.PostProcessStageSampleMode.LINEAR
      });
      const _0x1aaa47 = {
        name: this.name + "blur",
        stages: [_0x118030, _0x2eba3f]
      };
      const _0x535d8e = new Cesium__namespace.PostProcessStageComposite(_0x1aaa47);
      const _0x2d5729 = {
        name: this.name + "_blur_comp",
        stages: [_0x28f0ff, _0x535d8e],
        inputPreviousStageTexture: true
      };
      const _0x3fa1d8 = new Cesium__namespace.PostProcessStageComposite(_0x2d5729);
      const _0x50dfe7 = {
        name: this.name + "contrast_bias",
        fragmentShader: "\n        uniform sampler2D colorTexture;\n        in vec2 v_textureCoordinates;\n        uniform float contrast;\n        uniform float brightness;\n        void main(void)\n        {\n            vec4 texture1 = texture(colorTexture, v_textureCoordinates);\n            vec3 sceneColor = texture1.rgb;\n\n            sceneColor = czm_RGBToHSB(sceneColor);\n            sceneColor.z += brightness;\n            sceneColor = czm_HSBToRGB(sceneColor);\n            float factor = (259.0 * (contrast + 255.0)) / (255.0 * (259.0 - contrast));\n            sceneColor = factor * (sceneColor - vec3(0.5)) + vec3(0.5);\n            out_FragColor = vec4(sceneColor, texture1.a);\n        }",
        uniforms: {}
      };
      _0x50dfe7.uniforms.contrast = () => {
        return this.contrast;
      };
      _0x50dfe7.uniforms.brightness = () => {
        return this.brightness;
      };
      const _0x4f5a9b = new Cesium__namespace.PostProcessStage(_0x50dfe7);
      const _0xbc5d2b = {
        name: this.name + "contrast_bias_blur",
        stages: [_0x4f5a9b, _0x3fa1d8]
      };
      const _0x2c0305 = new Cesium__namespace.PostProcessStageComposite(_0xbc5d2b);
      const _0x4a6eaa = {
        name: this.name + "generate_composite",
        fragmentShader: "\n      uniform sampler2D colorTexture;\n      uniform sampler2D bloomTexture;\n      uniform float ratio;\n      uniform vec4 color;\n      in vec2 v_textureCoordinates;\n      void main(void)\n      {\n        vec4 color1 = texture(colorTexture, v_textureCoordinates);\n        vec4 bloom = texture(bloomTexture, v_textureCoordinates);\n        bloom *= color ;\n        #ifdef CZM_SELECTED_FEATURE\n          if (czm_selected()) {\n            bloom *= ratio;\n          }\n        #endif\n        out_FragColor = bloom + color1;\n      }",
        uniforms: {}
      };
      _0x4a6eaa.uniforms.bloomTexture = _0x2c0305.name;
      _0x4a6eaa.uniforms.ratio = () => {
        return this.ratio;
      };
      _0x4a6eaa.uniforms.color = () => {
        return this.color;
      };
      const _0x3ee056 = new Cesium__namespace.PostProcessStage(_0x4a6eaa);
      this._postProcessStage = new Cesium__namespace.PostProcessStageComposite({
        name: this.name,
        stages: [_0x2c0305, _0x3ee056],
        inputPreviousStageTexture: false
      });
      this._postProcessStage.selected = [];
    }
    _addedHook() {
      if (this.eventType) {
        this._map.on(this.eventType, this._map_clickHandler, this);
      }
    }
    _removedHook() {
      if (this.eventType) {
        this._map.off(this.eventType, this._map_clickHandler, this);
      }
    }
    _map_clickHandler(_0x4c6d60) {
      const _0x511518 = this.options.objectsToExclude;
      if (_0x511518) {
        for (let _0x44a30b = 0, _0x47eb6b = _0x511518.length; _0x44a30b < _0x47eb6b; _0x44a30b++) {
          const _0x239116 = _0x511518[_0x44a30b];
          if (_0x4c6d60.graphic === _0x239116 || _0x4c6d60.layer === _0x239116) {
            return;
          }
        }
      }
      const _0x131a8e = this._map.mouseEvent.getPicked(_0x4c6d60);
      this.selected = _0x131a8e;
      _0x4c6d60.picked = _0x131a8e;
      this.fire(_0x4c6d60.type, _0x4c6d60);
    }
  }
  register$1("bloomTarget", BloomTarget);
  var ColorCorrectionShader = "uniform sampler2D colorTexture;\nin vec2 v_textureCoordinates;\n\nuniform float u_brightness;\nuniform float u_contrast;\nuniform float u_saturation;\nuniform float u_hue;\n\nvoid main() {\n  vec4 color = texture(colorTexture, v_textureCoordinates);\n  color.rgb = mix(vec3(0.0), color.rgb, u_brightness);\n  color.rgb = mix(vec3(0.5), color.rgb, u_contrast);\n  color.rgb = czm_hue(color.rgb, u_hue);\n  color.rgb = czm_saturation(color.rgb, u_saturation);\n  out_FragColor = color;\n}\n";
  class ColorCorrection extends BaseEffect {
    constructor(_0x216a58 = {}) {
      _0x216a58 = {
        brightness: 1,
        contrast: 1,
        hue: 0,
        saturation: 1,
        ..._0x216a58
      };
      super(_0x216a58);
    }
    get brightness() {
      return this.options.brightness;
    }
    set brightness(_0x210f74) {
      this.options.brightness = _0x210f74;
    }
    get contrast() {
      return this.options.contrast;
    }
    set contrast(_0x53a742) {
      this.options.contrast = _0x53a742;
    }
    get hue() {
      return this.options.hue;
    }
    set hue(_0x583c20) {
      this.options.hue = _0x583c20;
    }
    get saturation() {
      return this.options.saturation;
    }
    set saturation(_0x42b6de) {
      this.options.saturation = _0x42b6de;
    }
    _mountedHook() {
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        fragmentShader: ColorCorrectionShader,
        uniforms: {
          u_brightness: () => {
            return this.brightness;
          },
          u_contrast: () => {
            return this.contrast;
          },
          u_hue: () => {
            return this.hue;
          },
          u_saturation: () => {
            return this.saturation;
          }
        },
        enabled: this.enabled
      });
    }
  }
  register$1("colorCorrection", ColorCorrection);
  var LightningFS = "uniform sampler2D colorTexture;\nin vec2 v_textureCoordinates;\n\nuniform float opacity;\nuniform float interval;\n\nfloat hash(float x) {\n  return fract(21654.6512 * sin(385.51 * x));\n}\nfloat hash(vec2 p) {\n  return fract(1654.65157 * sin(15.5134763 * p.x + 45.5173247 * p.y + 5.21789));\n}\nvec2 hash2(vec2 p) {\n  return vec2(hash(p * .754), hash(1.5743 * p + 4.5476351));\n}\nvec2 add = vec2(1.0, 0.0);\nvec2 noise2(vec2 x) {\n  vec2 p = floor(x);\n  vec2 f = fract(x);\n  f = f * f * (3.0 - 2.0 * f);\n  vec2 res = mix(mix(hash2(p), hash2(p + add.xy), f.x), mix(hash2(p + add.yx), hash2(p + add.xx), f.x), f.y);\n  return res;\n}\nvec2 fbm2(vec2 x) {\n  vec2 r = vec2(0.0);\n  float a = 1.0;\n  for(int i = 0; i < 8; i++) {\n    r += noise2(x) * a;\n    x *= 2.;\n    a *= .5;\n  }\n  return r;\n}\n\nfloat dseg(vec2 ba, vec2 pa) {\n  float h = clamp(dot(pa, ba) / dot(ba, ba), -0.2, 1.);\n  return length(pa - ba * h);\n}\n\nvoid main(void) {\n  vec2 uv = gl_FragCoord.xy;\n  float iTime = czm_frameNumber * clamp(interval * 0.1, 0.01, 0.1);\n  vec2 p = uv / czm_viewport.zw;\n  vec2 d;\n  vec2 tgt = vec2(1., -1.);\n  float c = 0.;\n  if(p.y >= 0.)\n    c = (1. - (fbm2((p + .2) * p.y + .1 * iTime)).x) * p.y;\n  else\n    c = (1. - (fbm2(p + .2 + .1 * iTime)).x) * p.y * p.y;\n  vec3 col = vec3(0.);\n  vec3 col1 = c * vec3(.3, .5, 1.);\n  float mdist = 100000.;\n  float t = hash(floor(5. * iTime));\n  tgt += 4. * hash2(tgt + t) - 1.5;\n  if(hash(t + 2.3) > .6)\n    for(int i = 0; i < 100; i++) {\n      vec2 dtgt = tgt - p;\n      d = .05 * (vec2(-.5, -1.) + hash2(vec2(float(i), t)));\n      float dist = dseg(d, dtgt);\n      mdist = min(mdist, dist);\n      tgt -= d;\n      c = exp(-1.2 * dist) + exp(-55. * mdist);\n      col = c * vec3(.7, .8, 1.);\n    }\n  col += col1;\n  out_FragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(col, 0.0), opacity);\n}\n";
  class Lightning extends BaseEffect {
    constructor(_0x4301e1 = {}) {
      super(_0x4301e1);
      this.opacity = _0x4301e1.opacity ?? 0.4;
      this.interval = _0x4301e1.interval ?? 0.8;
      this._setOptionsHook(_0x4301e1);
    }
    get opacity() {
      return this.options?.opacity;
    }
    set opacity(_0x3a96ff) {
      this.options.opacity = _0x3a96ff;
    }
    get interval() {
      return this.options?.interval;
    }
    set interval(_0x1c47a1) {
      this.options.interval = _0x1c47a1;
    }
    get maxHeight() {
      return this.options.maxHeight ?? 9000;
    }
    set maxHeight(_0x57d124) {
      this.options.maxHeight = _0x57d124;
    }
    _setOptionsHook(_0x427faa, _0x856ce3) {
      this.maxHeight = _0x427faa.maxHeight ?? 9000;
    }
    _mountedHook() {
      this._postProcessStage = new Cesium__namespace.PostProcessStage({
        name: this._id,
        fragmentShader: LightningFS,
        uniforms: {
          opacity: () => {
            return this.opacity;
          },
          interval: () => {
            return this.interval;
          }
        },
        enabled: this.enabled
      });
    }
    _addedHook() {
      this._map.camera.percentageChanged = 0.01;
      this._map.on(EventType.cameraChanged, this.camera_changedHandler, this);
      this.camera_changedHandler();
    }
    _removedHook() {
      this._map.off(EventType.cameraChanged, this.camera_changedHandler, this);
    }
    camera_changedHandler(_0x12ac34) {
      if (this._map.camera.positionCartographic.height < this.maxHeight) {
        this._postProcessStage.enabled = this.enabled;
      } else {
        this._postProcessStage.enabled = false;
      }
    }
    _enabledHook(_0x563fdb) {
      super._enabledHook(_0x563fdb);
      if (_0x563fdb) {
        this.camera_changedHandler();
      }
    }
  }
  register$1("lightning", Lightning);
  const _0x5cc719 = {
    __proto__: null,
    BaseEffect: BaseEffect,
    Fog: Fog,
    HighFog: HighFog,
    Rain: Rain,
    Snow: Snow,
    SnowCover: SnowCover,
    Brightness: Brightness,
    NightVision: NightVision,
    Bloom: Bloom,
    BlackAndWhite: BlackAndWhite,
    Mosaic: Mosaic,
    DepthOfField: DepthOfField,
    Outline: Outline,
    BloomTarget: BloomTarget,
    ColorCorrection: ColorCorrection,
    Lightning: Lightning,
    FogEffect: Fog,
    RainEffect: Rain,
    SnowEffect: Snow,
    SnowCoverEffect: SnowCover,
    NightVisionEffect: NightVision,
    BloomEffect: Bloom,
    BlackAndWhiteEffect: BlackAndWhite,
    MosaicEffect: Mosaic,
    DepthOfFieldEffect: DepthOfField,
    OutlineEffect: Outline,
    BloomTargetEffect: BloomTarget,
    ColorCorrectionEffect: ColorCorrection
  };
  var index$2 = _0x5cc719;
  class BaseControl extends BaseThing {
    constructor(_0x1075e0 = {}) {
      super(_0x1075e0);
      this._show = _0x1075e0.show ?? true;
      this._className = _0x1075e0.className ?? "";
    }
    get show() {
      return this._show;
    }
    set show(_0x449610) {
      if (this._show === _0x449610 || this.isDestroy) {
        return;
      }
      this._show = _0x449610;
      this._setContainerShow(_0x449610);
      if (this._showHook) {
        this._showHook(_0x449610);
      }
      if (this._map) {
        this._map.fire(EventType.updateControl, {
          control: this
        });
      }
    }
    get type() {
      return this._type;
    }
    get container() {
      return this._container;
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map?.container;
    }
    get parentContainerId() {
      return this.parentContainer?.id;
    }
    _enabledHook(_0xdb7d13) {
      this._setContainerShow(_0xdb7d13);
      if (this.isAdded && this._showHook) {
        this._showHook(_0xdb7d13);
      }
    }
    _setContainerShow(_0x59c587) {
      if (this._container) {
        if (_0x59c587) {
          this._container.style.display = "inline-block";
        } else {
          this._container.style.display = "none";
        }
      }
    }
    setOptions(_0x170464, _0xec1f6a) {
      if (isBoolean(_0x170464)) {
        return;
      }
      if (_0xec1f6a?.merge ?? true) {
        this.options = merge(this.options, _0x170464);
      } else {
        this.options = _0x170464;
      }
      if (Cesium__namespace.defined(_0x170464.enabled)) {
        this.enabled = _0x170464.enabled;
      }
      if (Cesium__namespace.defined(_0x170464.style)) {
        this.setStyle(this.options.style);
      }
      this._setOptionsHook(this.options, _0x170464);
      return this;
    }
    _setOptionsHook(_0x243fd7, _0x2360c5) {
      this.reload();
    }
    reload() {
      const _0x18c012 = this._map;
      if (_0x18c012) {
        this._reloadIng = true;
        const _0x33318d = this._container?.nextSibling;
        this._onRemove();
        delete this._container;
        this._onAdd(_0x18c012);
        if (_0x33318d !== null && _0x33318d !== undefined && _0x33318d.parentNode) {
          this.parentContainer.insertBefore(this._container, _0x33318d);
        }
        delete this._reloadIng;
      }
    }
    addTo(_0xfcb46e) {
      if (_0xfcb46e && _0xfcb46e.addControl) {
        _0xfcb46e.addControl(this);
      }
      return this;
    }
    remove(_0x51ac47) {
      if (this._map) {
        this._map.removeControl(this, _0x51ac47);
      }
    }
    _onAdd(_0x53e1c2) {
      if (this.isAdded || this._state === State.ADD) {
        return;
      }
      this._state = State.ADD;
      this._map = _0x53e1c2;
      if (this._container) {
        if (!this._container.parentNode) {
          this._addChildContainer(this._container);
        }
      } else {
        if (this._mountedHook) {
          this._mountedHook();
        }
        if (this._container) {
          this._enabledHook(this.enabled);
          this._addChildContainer(this._container);
        }
      }
      if (this._addedHook) {
        this._addedHook();
      }
      if (this._container) {
        this._container.addEventListener("click", this._container_onClickHandler.bind(this));
      }
      this._state = State.ADDED;
    }
    _addChildContainer(_0x1aea95) {
      let _0x1a3d0c = this.options.insertBefore;
      if (_0x1a3d0c) {
        var _0x4676b1;
        if (isString(_0x1a3d0c)) {
          const _0x3685a7 = this.parentContainer.childNodes;
          for (let _0x3bd454 = 0; _0x3bd454 < _0x3685a7.length; _0x3bd454++) {
            const _0x1f5bb2 = _0x3685a7[_0x3bd454];
            if (_0x1f5bb2.id === _0x1a3d0c) {
              _0x1a3d0c = _0x1f5bb2;
              break;
            }
          }
        }
        if ((_0x4676b1 = _0x1a3d0c) !== null && _0x4676b1 !== undefined && _0x4676b1.parentNode) {
          this.parentContainer.insertBefore(_0x1aea95, _0x1a3d0c);
          return;
        }
      }
      if (Cesium__namespace.defined(this.options.insertIndex)) {
        const _0x220f76 = this.parentContainer.childNodes;
        if (_0x220f76.length < this.options.insertIndex) {
          this.options.insertIndex = 0;
        }
        const _0x561d9c = _0x220f76[this.options.insertIndex];
        if (_0x561d9c !== null && _0x561d9c !== undefined && _0x561d9c.parentNode) {
          this.parentContainer.insertBefore(_0x1aea95, _0x561d9c);
          return;
        }
      }
      this.parentContainer.appendChild(_0x1aea95);
    }
    _onRemove() {
      if (this._state !== State.ADDED) {
        return;
      }
      if (!this._map) {
        return;
      }
      if (this._removedBeforeHook) {
        this._removedBeforeHook();
      }
      if (this._container && this._container.parentNode) {
        this._container.removeEventListener("click", this._container_onClickHandler);
        this._container.parentNode.removeChild(this._container);
      }
      if (this._removedHook) {
        this._removedHook();
      }
      this._map = null;
      this._state = State.REMOVED;
    }
    _mountedHook() {}
    _addedHook() {}
    _removedHook() {}
    _container_onClickHandler(_0x403e4b) {
      if (!this.enabled) {
        return;
      }
      if (this.options.click) {
        this.options.click(_0x403e4b, this.options);
      }
      this.fire(EventType.click, {
        ...this.options,
        mouseEvent: _0x403e4b
      });
    }
    setStyle(_0x1132c7) {
      if (!_0x1132c7) {
        const _0x46b719 = this._getPositionStyle();
        if (_0x46b719) {
          merge(this._container.style, _0x46b719);
        }
        return;
      }
      if (this._container) {
        _0x1132c7 = {
          ...this._getPositionStyle(),
          ..._0x1132c7
        };
        merge(this._container.style, _0x1132c7);
      }
      return this;
    }
    _getPositionStyle() {
      const _0xc2e6f5 = {};
      const _0x2e1a81 = this.options.style?.top ?? this.options.top;
      if (Cesium__namespace.defined(_0x2e1a81) && _0x2e1a81 !== "") {
        _0xc2e6f5.top = isNumber(_0x2e1a81) ? _0x2e1a81 + "px" : _0x2e1a81;
      }
      const _0x37d35b = this.options.style?.bottom ?? this.options.bottom;
      if (Cesium__namespace.defined(_0x37d35b) && _0x37d35b !== "") {
        if (_0x37d35b === "toolbar") {
          const _0x449c92 = this._map.viewer._toolbar;
          if (_0x449c92) {
            const _0x3ea447 = this._map.scene.canvas.clientHeight - _0x449c92.offsetTop + 15;
            _0xc2e6f5.bottom = _0x3ea447 + "px";
            this.domToolbar = _0x449c92;
          }
        } else {
          _0xc2e6f5.bottom = isNumber(_0x37d35b) ? _0x37d35b + "px" : _0x37d35b;
        }
        if (Cesium__namespace.defined(_0xc2e6f5.top)) {
          logWarn("当前控件css同时存在top和bottom，请确认是否正确", _0xc2e6f5, this);
        }
      }
      const _0x4fd59f = this.options.style?.left ?? this.options.left;
      if (Cesium__namespace.defined(_0x4fd59f) && _0x4fd59f !== "") {
        _0xc2e6f5.left = isNumber(_0x4fd59f) ? _0x4fd59f + "px" : _0x4fd59f;
      }
      const _0x1273e9 = this.options.style?.right ?? this.options.right;
      if (Cesium__namespace.defined(_0x1273e9) && _0x1273e9 !== "") {
        _0xc2e6f5.right = isNumber(_0x1273e9) ? _0x1273e9 + "px" : _0x1273e9;
        if (Cesium__namespace.defined(_0xc2e6f5.left)) {
          logWarn("当前控件css同时存在left和right，请确认是否正确", _0xc2e6f5, this);
        }
      }
      if (Object.keys(_0xc2e6f5).length > 0) {
        return _0xc2e6f5;
      }
      return this._defaultPosition;
    }
    _updateBottomForToolbar() {
      if (this.domToolbar) {
        const _0x5a7e3f = this._map.scene.canvas.clientHeight - this.domToolbar.offsetTop + 15;
        this._container.style.bottom = _0x5a7e3f + "px";
      }
    }
    _createIcon(_0x248ec3, _0x2dae43, _0x271c18 = "", _0x1b9b40 = false) {
      if (!_0x248ec3) {
        return "";
      }
      if (!_0x2dae43) {
        _0x2dae43 = create$4("div");
      }
      if (_0x1b9b40) {
        empty(_0x2dae43);
      }
      _0x248ec3 = trim(_0x248ec3);
      if (_0x248ec3.startsWith("<?xml") || _0x248ec3.startsWith("<svg")) {
        _0x2dae43.appendChild(parseDom(_0x248ec3, true, _0x271c18));
      } else if (_0x248ec3.startsWith("data:image") || _0x248ec3.endsWith(".svg") || _0x248ec3.endsWith(".png") || _0x248ec3.indexOf(".png") !== -1 || _0x248ec3.endsWith(".jpg") || _0x248ec3.indexOf(".jpg") !== -1) {
        const _0x29d591 = create$4("img", _0x271c18, _0x2dae43);
        _0x29d591.setAttribute("src", _0x248ec3);
      } else {
        create$4("i", _0x271c18 + " " + _0x248ec3, _0x2dae43);
      }
      return _0x2dae43.innerHTML;
    }
    fire(_0xc7d6a6, _0x951304 = {}, _0x2063f6) {
      if (!_0x951304.control) {
        _0x951304.control = this;
      }
      return super.fire(_0xc7d6a6, _0x951304, _0x2063f6);
    }
    getLangText(_0x545e94) {
      if (this._map) {
        return this._map.getLangText(_0x545e94);
      } else {
        return _0x545e94;
      }
    }
    _toJsonEx(_0x224f3a) {
      if (this.show === false) {
        _0x224f3a.enabled = false;
      }
    }
    destroy(_0x596906) {
      this.enabled = false;
      super.destroy(_0x596906);
    }
  }
  class ContextMenu extends BaseControl {
    constructor(_0x1d1e1c = {}) {
      super(_0x1d1e1c);
      this._menuIndex = 0;
      this._menuObj = {};
    }
    get target() {
      return this._target;
    }
    _enabledHook() {
      this._target = null;
    }
    _mountedHook() {
      if (this.options.preventDefault ?? true) {
        this._map.container.oncontextmenu = function (_0x53b0de) {
          _0x53b0de.preventDefault();
        };
      }
      this._container = create$4("div", "mars3d-contextmenu");
      this._container.style.display = "none";
      this._containerUl = create$4("ul", "mars3d-contextmenu-ul", this._container);
      this._containerUl.id = this.parentContainerId + "-mars3d-contextmenu-ul";
    }
    _addedHook() {
      this._map.on(EventType.leftDown, this._downHandler, this);
      this._map.on(EventType.middleDown, this._downHandler, this);
      this._map.on(EventType.wheel, this._downHandler, this);
      this._map.on(EventType.rightClick, this._rightClickHandler, this);
    }
    _removedHook() {
      this._map.off(EventType.leftDown, this._downHandler, this);
      this._map.off(EventType.middleDown, this._downHandler, this);
      this._map.off(EventType.wheel, this._downHandler, this);
      this._map.off(EventType.rightClick, this._rightClickHandler, this);
      this._target = null;
      this._eventResult = null;
    }
    _downHandler(_0xeebf0) {
      this.close();
    }
    _rightClickHandler(_0x1eef96) {
      this.close();
      if (!this.enabled) {
        return;
      }
      if (this._openByClick(_0x1eef96.czmObject, _0x1eef96)) {
        return;
      }
      if (this._openByClick(_0x1eef96.graphic, _0x1eef96)) {
        return;
      }
      if (this._openByClick(_0x1eef96.graphic?.parent, _0x1eef96)) {
        return;
      }
      if (this._openByClick(_0x1eef96.layer, _0x1eef96)) {
        return;
      }
      if (this._openByClick(_0x1eef96.layer?.parent, _0x1eef96)) {
        return;
      }
      this._openByClick(this._map, _0x1eef96);
    }
    _openByClick(_0xf44d2b, _0x5ca1bb) {
      if (!_0xf44d2b) {
        return false;
      }
      let _0x296d27 = _0xf44d2b._contextmenuConfig || _0xf44d2b.getContextMenu && _0xf44d2b.getContextMenu();
      if (_0x296d27 === false) {
        return true;
      }
      if (!_0x296d27) {
        return false;
      }
      _0x296d27 = {
        ..._0x296d27,
        ..._0x5ca1bb
      };
      this.open(_0x5ca1bb.cartesian, _0x296d27);
      return true;
    }
    close(_0x49d14f, _0x2cef4f) {
      var _0x2c6c8a;
      if (this._show === false) {
        return;
      }
      if (_0x49d14f && _0x49d14f !== this._eventResult?.graphic) {
        return;
      }
      if (_0x2cef4f && _0x2cef4f !== this._eventResult?.layer) {
        return;
      }
      this.show = false;
      if ((_0x2c6c8a = this.target) !== null && _0x2c6c8a !== undefined && _0x2c6c8a.fire) {
        this.target.fire(EventType.contextMenuClose, {}, true);
      } else {
        this._map.fire(EventType.contextMenuClose);
      }
    }
    open(_0x3b5a67, _0x25897d = {}) {
      var _0x290693;
      const _0x413189 = _0x25897d.options || {};
      let _0x54961b = _0x25897d.content;
      if (!_0x54961b || _0x54961b.length === 0) {
        this.close();
        return;
      }
      if (_0x413189 !== null && _0x413189 !== undefined && _0x413189.mergeMap) {
        const _0x3097f1 = this._map._contextmenuConfig?.content;
        if (_0x3097f1 && _0x3097f1.length > 0) {
          _0x54961b = [..._0x54961b, {
            type: "line"
          }, ..._0x3097f1];
        }
      }
      const _0xe36101 = _0x25897d.windowPosition || toWindowCoordinates$1(this._map.scene, _0x3b5a67);
      if (!_0xe36101) {
        return;
      }
      const _0x10d8a5 = {
        ..._0x25897d
      };
      _0x10d8a5.windowPosition = _0xe36101;
      _0x10d8a5.position = _0x3b5a67;
      const _0x331d1a = _0x10d8a5;
      if (_0x25897d.layer && _0x25897d.layer.fire) {
        _0x331d1a.target = _0x25897d.layer;
      }
      const _0xc14348 = _0x25897d.graphic;
      if (_0xc14348 && _0xc14348.fire) {
        _0x331d1a.target = _0xc14348;
        const _0x1862de = _0xc14348.parent;
        if (_0x1862de && _0x1862de.fire) {
          _0x331d1a.graphic_parent = _0x1862de;
          if (_0xc14348.isPrivate) {
            _0x331d1a.graphic = _0x1862de;
          }
          if (_0xc14348.isDestroy) {
            _0x331d1a.graphic = _0x1862de;
            _0x331d1a.target = _0x1862de;
          }
        }
      }
      this._eventResult = _0x331d1a;
      let _0x3ec386 = "";
      for (let _0x541c6b = 0, _0x90a0d3 = _0x54961b.length; _0x541c6b < _0x90a0d3; _0x541c6b++) {
        const _0x315609 = _0x54961b[_0x541c6b];
        const _0x472416 = this._getItemHtml(_0x315609, _0x331d1a);
        if (_0x472416) {
          _0x3ec386 += _0x472416;
        }
      }
      if (_0x3ec386 === "") {
        this.close();
        return;
      }
      this._containerUl.innerHTML = _0x3ec386;
      const _0xeff931 = this._containerUl.querySelectorAll(".mars3d-contextmenu-item");
      const _0x4eaef0 = this;
      for (let _0x3907b1 = 0; _0x3907b1 < _0xeff931.length; _0x3907b1++) {
        const _0x1c9564 = _0xeff931[_0x3907b1];
        _0x1c9564.addEventListener("click", function (_0x16f545) {
          var _0x1119cc;
          if (_0x16f545.stopPropagation) {
            _0x16f545.stopPropagation();
          }
          const _0x5e7de3 = Number(this.getAttribute("data-index"));
          const _0x332146 = _0x4eaef0._menuObj[_0x5e7de3];
          const _0x519d66 = {
            ..._0x331d1a
          };
          _0x519d66.data = _0x332146;
          const _0x1fdaea = _0x519d66;
          const _0x4dfc04 = _0x332146.callback;
          if (_0x4dfc04) {
            if (isFunction(_0x4dfc04)) {
              _0x4dfc04.bind(_0x332146)(_0x1fdaea);
            } else if (isString(_0x4dfc04)) {
              new Function("event", "return " + _0x4dfc04 + "(event)")(_0x1fdaea);
            }
          }
          if ((_0x1119cc = _0x4eaef0.target) !== null && _0x1119cc !== undefined && _0x1119cc.fire) {
            _0x4eaef0.target.fire(EventType.contextMenuClick, _0x1fdaea, true);
          } else {
            _0x4eaef0._map.fire(EventType.contextMenuClick, _0x1fdaea);
          }
          const _0x7dcf9e = Number(this.getAttribute("data-count") || 0);
          if (_0x7dcf9e === 0) {
            _0x4eaef0.close();
          }
        });
        _0x1c9564.addEventListener("mouseover", function (_0x3ef6c9) {
          const _0x52fd10 = _0x4eaef0._container.querySelectorAll(".mars3d-sub-menu");
          for (let _0x4db453 = 0; _0x4db453 < _0x52fd10.length; _0x4db453++) {
            _0x52fd10[_0x4db453].style.display = "none";
          }
          const _0x2c2065 = this.querySelector(".mars3d-sub-menu");
          if (_0x2c2065) {
            _0x2c2065.style.display = "block";
          }
          removeClass(_0x4eaef0._containerUl.querySelector(".active"), "active");
          addClass(this, "active");
        });
      }
      this.show = true;
      this._target = _0x331d1a.target;
      let _0x48c2e7 = _0xe36101.y;
      let _0x540bc6 = _0xe36101.x;
      if (_0x413189.anchor) {
        _0x540bc6 += _0x413189.anchor[0];
        _0x48c2e7 += _0x413189.anchor[1];
      } else {
        if (_0x413189.offsetX) {
          _0x540bc6 += _0x413189.offsetX;
        }
        if (_0x413189.offsetY) {
          _0x48c2e7 += _0x413189.offsetY;
        }
      }
      const _0x54e95b = this._container.offsetHeight;
      const _0x30ceee = this._container.offsetWidth;
      if (_0x48c2e7 + _0x54e95b > this._map.scene.canvas.clientHeight) {
        _0x48c2e7 -= _0x54e95b - 10;
        if (_0x48c2e7 <= 0) {
          _0x48c2e7 = 0;
        }
      } else {
        _0x48c2e7 += 10;
      }
      let _0x4fef60 = true;
      if (_0x540bc6 + _0x30ceee > this._map.scene.canvas.clientWidth) {
        _0x540bc6 -= _0x30ceee - 10;
        _0x4fef60 = false;
        if (_0x540bc6 <= 0) {
          _0x540bc6 = 0;
        }
      } else {
        _0x540bc6 += 10;
      }
      this._container.style.left = _0x540bc6 + "px";
      this._container.style.top = _0x48c2e7 + "px";
      const _0x5b8c20 = this._containerUl.querySelectorAll(".mars3d-sub-menu");
      for (let _0x1987b2 = 0; _0x1987b2 < _0x5b8c20.length; _0x1987b2++) {
        const _0x4b446e = _0x5b8c20[_0x1987b2];
        const _0x1c3175 = Number(_0x4b446e.getAttribute("data-count") || 1) * 34;
        let _0x582835 = _0x48c2e7 + _0x4b446e.parentElement.offsetTop;
        _0x4b446e.style.top = "0";
        _0x4b446e.style.bottom = "auto";
        if (_0x582835 + _0x1c3175 > this._map.scene.canvas.clientHeight) {
          _0x582835 -= _0x1c3175;
          if (_0x582835 > 0) {
            _0x4b446e.style.top = "auto";
            _0x4b446e.style.bottom = "0";
          }
        }
        if (_0x4fef60) {
          _0x4b446e.style.left = _0x30ceee + 10 + "px";
        } else {
          _0x4b446e.style.right = _0x30ceee + 10 + "px";
        }
      }
      if ((_0x290693 = _0x331d1a.target) !== null && _0x290693 !== undefined && _0x290693.fire) {
        _0x331d1a.target.fire(EventType.contextMenuOpen, {}, true);
      } else {
        this._map.fire(EventType.contextMenuOpen);
      }
    }
    _getItemHtml(_0x22ce23, _0x2b7933) {
      if (_0x22ce23.type === "line") {
        return "<li class=\"mars3d-contextmenu-line\"></li>";
      }
      if (_0x22ce23.hasOwnProperty("show")) {
        let _0x4b48e2 = _0x22ce23.show;
        try {
          _0x2b7933.data = _0x22ce23;
          if (isFunction(_0x4b48e2)) {
            _0x4b48e2 = _0x22ce23.show.bind(_0x22ce23)(_0x2b7933);
          } else if (isString(_0x4b48e2)) {
            new Function("event", "return " + _0x4b48e2 + "(event)")(_0x2b7933);
          }
        } catch (_0x16fe92) {
          logError("右键菜单操作出错", _0x16fe92);
        }
        if (!_0x4b48e2) {
          return;
        }
      }
      let _0x51f239 = _0x22ce23.text;
      if (isFunction(_0x51f239)) {
        _0x51f239 = _0x51f239.bind(_0x22ce23)();
      }
      if (!_0x51f239) {
        return;
      }
      let _0x1a5a6b = "";
      let _0x4b5100 = "";
      let _0x51a80b = 0;
      if (_0x22ce23.children) {
        for (let _0x360da0 = 0, _0x1d193e = _0x22ce23.children.length; _0x360da0 < _0x1d193e; _0x360da0++) {
          const _0x5e5b6f = _0x22ce23.children[_0x360da0];
          _0x2b7933.data = _0x5e5b6f;
          const _0x136ae8 = this._getItemHtml(_0x5e5b6f, _0x2b7933);
          if (_0x136ae8) {
            _0x1a5a6b += _0x136ae8;
            _0x51a80b++;
          }
        }
        if (_0x51a80b === 0) {
          return;
        }
        _0x1a5a6b = "<ul class=\"mars3d-contextmenu-ul mars3d-sub-menu\" data-count=\"" + _0x51a80b + "\">" + _0x1a5a6b + "</ul>";
        _0x4b5100 = "\n          <span  class=\"mars3d-contextmenu-arrow\" >\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"48\" height=\"48\" fill=\"white\" fill-opacity=\"0.01\"/><path d=\"M20 12L32 24L20 36V12Z\" fill=\"#ffffff\" stroke=\"#ffffff\" stroke-width=\"4\" stroke-linejoin=\"round\"/></svg>\n          </span>  ";
      }
      this._menuIndex++;
      this._menuObj[this._menuIndex] = _0x22ce23;
      const _0xe078a8 = this._createIcon(_0x22ce23.icon || _0x22ce23.iconCls, null, "mars3d-contextmenu-icon");
      return "<li class=\"mars3d-contextmenu-item\" data-index=\"" + this._menuIndex + "\" data-count=\"" + _0x51a80b + "\">\n              <a href=\"javascript:void(0)\">" + _0xe078a8 + _0x51f239 + _0x4b5100 + "</a>\n              " + _0x1a5a6b + "\n          </li>";
    }
    _toJsonEx(_0x1400f2) {}
  }
  register$2("contextmenu", ContextMenu);
  class BaseCzmControl extends BaseControl {
    get viewer() {
      return this._map.viewer;
    }
    _mountedHook() {
      const _0x38fdb1 = this._map.viewer[this._czmControlKey];
      if (_0x38fdb1) {
        if (this._rebindCzmContainer) {
          try {
            this._rebindCzmContainer(_0x38fdb1[this._czmContainerKey]);
            delete this._rebindCzmContainer;
          } catch (_0x249d50) {}
        }
      } else {
        this._container = this._createCzmContainer();
        this.setStyle(this.options.style);
      }
    }
    _addedHook() {
      let _0x15aaa7 = this._map.viewer[this._czmControlKey];
      if (!_0x15aaa7) {
        _0x15aaa7 = this._createCzmControl(this._container);
      }
      this._czmContrl = _0x15aaa7;
      this._container = _0x15aaa7[this._czmContainerKey];
      this._container.id = "mars3d-" + this.type;
      this._container.style.display = this.show && this.enabled ? "inline-block" : "none";
      if (this._updateLangText) {
        this._updateLangText();
      }
      if (Cesium__namespace.defined(this.options.insertIndex)) {
        setTimeout(() => {
          if (this.isAdded) {
            this._setInsertIndex(this.options.insertIndex);
          }
        }, 50);
      }
    }
    _removedBeforeHook() {
      if (this.options.destroyCzm ?? true) {
        try {
          this._czmContrl.destroy();
        } catch (_0x51923f) {}
        delete this._map.viewer[this._czmControlKey];
        delete this._czmContrl;
      } else {
        this._container.style.display = "none";
      }
    }
    _setInsertIndex(_0x2a7497 = 0) {
      const _0x473311 = this.parentContainer.childNodes;
      if (_0x473311.length < _0x2a7497) {
        _0x2a7497 = 0;
      }
      try {
        this.parentContainer.removeChild(this._container);
        this.parentContainer.insertBefore(this._container, _0x473311[_0x2a7497]);
      } catch (_0x6797e) {}
    }
    _createCzmContainer() {
      return null;
    }
    _createCzmControl() {
      return null;
    }
    _updateDomInnerHtml(_0x1b5c7c, _0x543066, _0x29168d) {
      const _0x57e462 = _0x1b5c7c.getElementsByClassName(_0x29168d);
      for (let _0x4ff558 = 0; _0x4ff558 < _0x57e462.length; _0x4ff558++) {
        const _0x1d23f9 = _0x57e462[_0x4ff558].innerHTML;
        if (_0x543066[_0x1d23f9]) {
          _0x57e462[_0x4ff558].innerHTML = _0x543066[_0x1d23f9];
        }
      }
    }
    _updateDomByTagName(_0x30529c, _0x1e5cbe, _0x47dff4) {
      const _0x6faba4 = _0x30529c.getElementsByTagName(_0x47dff4);
      for (let _0xbd032 = 0; _0xbd032 < _0x6faba4.length; _0xbd032++) {
        const _0x58ea98 = _0x6faba4[_0xbd032].innerHTML;
        if (_0x1e5cbe[_0x58ea98]) {
          _0x6faba4[_0xbd032].innerHTML = _0x1e5cbe[_0x58ea98];
        }
      }
    }
    _updateDomAttribute(_0x8653e7, _0x44e647, _0x2a4de9, _0x35cd2c) {
      if (!_0x8653e7) {
        _0x8653e7 = document;
      }
      const _0x2dfe95 = _0x8653e7.getElementsByClassName(_0x2a4de9);
      for (let _0x105b30 = 0; _0x105b30 < _0x2dfe95.length; _0x105b30++) {
        const _0x5c4916 = _0x2dfe95[_0x105b30].getAttribute(_0x35cd2c);
        if (_0x44e647[_0x5c4916]) {
          _0x2dfe95[_0x105b30].setAttribute(_0x35cd2c, _0x44e647[_0x5c4916]);
        }
      }
    }
    _updateDomAttributeByEvent(_0xafacb, _0x56ffac, _0x2e76f0, _0x59911b, _0x2614ba) {
      const _0x3208d6 = _0xafacb.getElementsByClassName(_0x2e76f0);
      if (_0x3208d6.length > 0) {
        for (let _0xc5f9cb = 0; _0xc5f9cb < _0x3208d6.length; _0xc5f9cb++) {
          _0x3208d6[_0xc5f9cb][_0x2614ba] = function (_0x27644a) {
            const _0x6678ae = _0x27644a.currentTarget.getAttribute(_0x59911b);
            if (_0x56ffac[_0x6678ae]) {
              _0x27644a.currentTarget.setAttribute(_0x59911b, _0x56ffac[_0x6678ae]);
            }
          };
        }
      }
    }
  }
  class Toolbar extends BaseCzmControl {
    _mountedHook() {}
    _addChildContainer() {}
    _addedHook() {
      this._container = this._map.viewer._toolbar;
      this._container.style.display = this.show && this.enabled ? "inline-block" : "none";
      this._positionClass = "cesium-viewer-toolbar-" + (this.options.position ?? "left-bottom");
      addClass(this._container, this._positionClass);
      this.setStyle(this.options.style);
    }
    _removedBeforeHook() {
      this._container = null;
    }
    _setOptionsHook(_0x240792, _0x5c3329) {
      const _0x41becc = _0x5c3329.position;
      if (_0x41becc) {
        removeClass(this._container, this._positionClass);
        this._positionClass = "cesium-viewer-toolbar-" + _0x5c3329.position;
        addClass(this._container, this._positionClass);
      }
      if (_0x5c3329.style) {
        this.setStyle(_0x5c3329.style);
      }
    }
  }
  register$2("toolbar", Toolbar);
  class Animation extends BaseCzmControl {
    constructor(_0x2f7858 = {}) {
      super(_0x2f7858);
      this._czmControlKey = "_animation";
      this._czmContainerKey = "_container";
    }
    _createCzmContainer() {
      return create$4("div", "cesium-viewer-animationContainer");
    }
    _createCzmControl() {
      Cesium__namespace.AnimationViewModel.defaultTicks = this.options.ticks || [0.1, 0.25, 0.5, 1, 2, 5, 10, 15, 30, 60, 120, 300, 600, 900, 1800, 3600];
      if (this.options.formatTimeStr ?? true) {
        Cesium__namespace.AnimationViewModel.defaultDateFormatter = function (_0x324501, _0x553c85) {
          const _0x5ece49 = Cesium__namespace.JulianDate.toDate(_0x324501);
          return formatDate(_0x5ece49, "yyyy-MM-dd");
        };
        Cesium__namespace.AnimationViewModel.defaultTimeFormatter = function (_0x2d44f7, _0x19ece9) {
          const _0x261cd6 = Cesium__namespace.JulianDate.toDate(_0x2d44f7);
          return formatDate(_0x261cd6, "HH:mm:ss");
        };
      }
      return new Cesium__namespace.Animation(this._container, new Cesium__namespace.AnimationViewModel(this.viewer.clockViewModel));
    }
    _updateLangText() {
      const _0x2a7eed = this._map.container;
      let _0x5a8124 = _0x2a7eed.getElementsByClassName("cesium-viewer-animationContainer");
      if (_0x5a8124.length > 0) {
        _0x5a8124 = _0x5a8124[0];
        const _0x2734b6 = {
          Today: this.getLangText("Today"),
          "Today (real-time)": this.getLangText("TodayRealTime"),
          Pause: this.getLangText("Pause"),
          "Play Reverse": this.getLangText("PlayReverse"),
          "Play Forward": this.getLangText("PlayForward"),
          "Current time not in range": this.getLangText("CurrentTimeNotInRange")
        };
        this._updateDomByTagName(_0x5a8124, _0x2734b6, "title");
      }
      setTimeout(() => {
        if (this.isAdded) {
          this._showHook(true);
        }
      }, 1000);
    }
    _showHook(_0xbf36f6) {
      var _0x43d341;
      const _0x15fc7a = this._map.control.timeline;
      const _0x43525a = _0x15fc7a?.container;
      if (_0x43525a && !Cesium__namespace.defined((_0x43d341 = _0x15fc7a.options) === null || _0x43d341 === undefined || (_0x43d341 = _0x43d341.style) === null || _0x43d341 === undefined ? undefined : _0x43d341.left)) {
        _0x43525a.style.left = _0xbf36f6 ? this._container.offsetWidth + 1 + "px" : "0";
        _0x15fc7a.resize();
      }
      const _0x2bbca7 = this._map.controls?.distanceLegend;
      if (_0x2bbca7 && !Cesium__namespace.defined(_0x2bbca7.options.bottom)) {
        const _0x3668f2 = _0xbf36f6 || _0x43525a && _0x43525a.style.display !== "none";
        const _0x484eb2 = {
          bottom: _0x3668f2 ? "27px" : "2px"
        };
        _0x2bbca7.setStyle(_0x484eb2);
      }
    }
  }
  register$2("animation", Animation);
  class BaseLayerPicker extends BaseCzmControl {
    constructor(_0x1dff25 = {}) {
      super(_0x1dff25);
      this._czmControlKey = "_baseLayerPicker";
      this._czmContainerKey = "_element";
      this.options.insertIndex = this.options.insertIndex ?? 1;
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _createCzmControl() {
      const _0x40afb6 = this._map.options.control || {};
      const _0x563cfd = this.options;
      const _0x3888f8 = {
        map: this._map,
        globe: this._map.scene.globe,
        imageryProviderViewModels: _0x563cfd.imageryProviderViewModels || _0x40afb6.imageryProviderViewModels,
        selectedImageryProviderViewModel: _0x563cfd.selectedImageryProviderViewModel || _0x40afb6.selectedImageryProviderViewModel,
        terrainProviderViewModels: _0x563cfd.terrainProviderViewModels || _0x40afb6.terrainProviderViewModels,
        selectedTerrainProviderViewModel: _0x563cfd.selectedTerrainProviderViewModel || _0x40afb6.selectedTerrainProviderViewModel
      };
      const _0x3f78df = _0x3888f8;
      if (!_0x3f78df.imageryProviderViewModels && this._map.options.basemaps?.length > 0) {
        const _0x18bdf2 = getImageryProviderViewModels(this._map.options.basemaps, this._map?.templateValues);
        _0x3f78df.imageryProviderViewModels = _0x18bdf2.imageryProviderViewModels;
        if (_0x18bdf2.selectedIndex !== -1) {
          _0x3f78df.selectedImageryProviderViewModel = _0x18bdf2.imageryProviderViewModels[_0x18bdf2.selectedIndex];
        }
      }
      if (!_0x3f78df.terrainProviderViewModels) {
        var _0x13a782;
        _0x3f78df.terrainProviderViewModels = getTerrainProviderViewModels(this._map._getTerrainOptions(), this.getLangText.bind(this));
        let _0x21065e = (_0x13a782 = this._map.options.terrain) !== null && _0x13a782 !== undefined && _0x13a782.show ? 1 : 0;
        if (this._map.options.method?.hasTerrain === false) {
          _0x21065e = 0;
        }
        _0x3f78df.selectedTerrainProviderViewModel = _0x3f78df.terrainProviderViewModels[_0x21065e];
      }
      if (this._reloadIng) {
        delete _0x3f78df.selectedImageryProviderViewModel;
        delete _0x3f78df.selectedTerrainProviderViewModel;
      }
      const _0x5513a6 = new Cesium__namespace.BaseLayerPicker(this._map.viewer._toolbar, _0x3f78df);
      return _0x5513a6;
    }
    _updateLangText() {
      const _0x1c2ed4 = this._map.container;
      let _0xf7c4f9 = _0x1c2ed4.getElementsByClassName("cesium-baseLayerPicker-dropDown");
      if (_0xf7c4f9.length > 0) {
        _0xf7c4f9 = _0xf7c4f9[0];
        const _0x254ef0 = {
          Imagery: this.getLangText("Imagery"),
          "Cesium ion": this.getLangText("CesiumIon"),
          Other: this.getLangText("Other"),
          Terrain: this.getLangText("Terrain"),
          "WGS84 Ellipsoid": this.getLangText("EllipsoidTerrainProvider"),
          "WGS84 standard ellipsoid, also known as EPSG:4326": this.getLangText("EllipsoidTerrainProviderTooltip"),
          "Cesium World Terrain": this.getLangText("TerrainProvider"),
          "High-resolution global terrain tileset curated from several datasources and hosted by Cesium ion": this.getLangText("TerrainProviderTooltip")
        };
        this._updateDomInnerHtml(_0xf7c4f9, _0x254ef0, "cesium-baseLayerPicker-sectionTitle");
        this._updateDomInnerHtml(_0xf7c4f9, _0x254ef0, "cesium-baseLayerPicker-categoryTitle");
        this._updateDomInnerHtml(_0xf7c4f9, _0x254ef0, "cesium-baseLayerPicker-itemLabel");
        this._updateDomAttribute(_0xf7c4f9, _0x254ef0, "cesium-baseLayerPicker-item", "title");
        const _0x439965 = _0x1c2ed4.getElementsByClassName("cesium-baseLayerPicker-selected");
        if (_0x439965.length > 0) {
          _0x439965[0].parentElement.onmouseover = function (_0x402f36) {
            const _0x4c13d4 = _0x402f36.currentTarget.getAttribute("title") ?? "";
            const _0x5b5a14 = _0x4c13d4.split("\n");
            const _0x4a96f9 = _0x5b5a14[0] ?? "";
            let _0x3422e0 = _0x5b5a14[1] ?? "";
            if (!_0x3422e0 || _0x3422e0 === "undefined") {
              _0x3422e0 = "";
            }
            let _0x44520e = "";
            let _0x36dff1 = "";
            if (_0x254ef0[_0x4a96f9]) {
              _0x44520e += _0x254ef0[_0x4a96f9];
            } else {
              _0x44520e += _0x4a96f9;
            }
            if (_0x254ef0[_0x4a96f9]) {
              _0x36dff1 += _0x254ef0[_0x3422e0];
            } else {
              _0x36dff1 += _0x3422e0;
            }
            _0x402f36.currentTarget.setAttribute("title", _0x44520e + "\n" + _0x36dff1);
          };
        }
      }
    }
    updateSelectedImageryViewModel(_0x2d0560) {
      const _0x17f33e = this._czmContrl?.viewModel;
      if (!_0x2d0560 || !_0x17f33e.updateSelectedImageryViewModel) {
        return;
      }
      const _0x6d1d5 = _0x17f33e.selectedImagery?.marsOptions;
      if (_0x6d1d5?.layerId === _0x2d0560) {
        return;
      }
      for (let _0x52c0bb = 0; _0x52c0bb < _0x17f33e.imageryProviderViewModels.length; _0x52c0bb++) {
        const _0x840dcd = _0x17f33e.imageryProviderViewModels[_0x52c0bb];
        if (_0x840dcd.marsOptions?.layerId === _0x2d0560) {
          _0x17f33e.updateSelectedImageryViewModel(_0x840dcd);
          break;
        }
      }
    }
    updateSelectedTerrainViewModel() {
      var _0x1fe0fb;
      const _0x501e15 = (_0x1fe0fb = this._map) === null || _0x1fe0fb === undefined || (_0x1fe0fb = _0x1fe0fb.terrainProvider) === null || _0x1fe0fb === undefined ? undefined : _0x1fe0fb.marsOptions;
      if (!_0x501e15) {
        return;
      }
      const _0x521242 = this._czmContrl?.viewModel;
      if (!_0x521242.updateSelectedImageryViewModel) {
        return;
      }
      const _0x5badea = _0x521242.selectedTerrain?.marsOptions;
      if (_0x5badea && _0x5badea.type === _0x501e15.type && _0x5badea.url === _0x501e15.url) {
        return;
      }
      for (let _0x11cd09 = 0; _0x11cd09 < _0x521242.terrainProviderViewModels.length; _0x11cd09++) {
        const _0x13017b = _0x521242.terrainProviderViewModels[_0x11cd09];
        if (!_0x13017b.marsOptions) {
          continue;
        }
        if (_0x13017b.marsOptions.type === _0x501e15.type && _0x13017b.marsOptions.url === _0x501e15.url) {
          _0x521242.updateSelectedTerrainViewModel(_0x13017b);
          break;
        }
      }
    }
    reload() {
      super.reload();
      if (this._map) {
        this.updateSelectedImageryViewModel(this._map.basemap?.id);
        this.updateSelectedTerrainViewModel();
      }
    }
  }
  register$2("baseLayerPicker", BaseLayerPicker);
  class FullscreenButton extends BaseCzmControl {
    constructor(_0x49bfdc = {}) {
      super(_0x49bfdc);
      this._czmControlKey = "_fullscreenButton";
      this._czmContainerKey = "_container";
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _createCzmContainer() {
      const _0xbddf8d = create$4("div", "cesium-button cesium-toolbar-button");
      _0xbddf8d.style.display = "inline-block";
      return _0xbddf8d;
    }
    _createCzmControl() {
      const _0x219052 = this.options.fullscreenElement || this._map.options.control?.fullscreenElement;
      return new Cesium__namespace.FullscreenButton(this._container, _0x219052);
    }
    _rebindCzmContainer(_0x24e629) {
      removeClass(_0x24e629, "cesium-viewer-fullscreenContainer");
      addClass(_0x24e629, "cesium-button cesium-toolbar-button");
      _0x24e629.style.display = "inline-block";
      _0x24e629.parentNode.removeChild(_0x24e629);
      const _0x2f9115 = this.viewer.navigationHelpButton?._wrapper;
      if (_0x2f9115) {
        this.parentContainer.insertBefore(_0x24e629, _0x2f9115);
      } else {
        this.parentContainer.appendChild(_0x24e629);
      }
    }
    _updateLangText() {
      if (this.options.icon) {
        const _0x35b433 = this._container.children[0];
        addClass(_0x35b433, "cesium-toolbar-button");
        this._createIcon(this.options.icon, _0x35b433, "", true);
      }
      const _0x58a54a = this._map.container;
      const _0xfb512f = {
        "Full screen": this.getLangText("FullScreen"),
        "Exit full screen": this.getLangText("ExitFullScreen"),
        "Full screen unavailable": this.getLangText("FullScreenUnavailable")
      };
      this._updateDomAttributeByEvent(_0x58a54a, _0xfb512f, "cesium-fullscreenButton", "title", "onmouseover");
    }
    _setOptionsHook(_0x5b3381, _0x4ea846) {
      if (Cesium__namespace.defined(_0x4ea846.insertIndex) || Cesium__namespace.defined(_0x4ea846.insertBefore)) {
        super._setOptionsHook(_0x5b3381, _0x4ea846);
      } else {
        this._updateLangText();
      }
    }
  }
  register$2("fullscreenButton", FullscreenButton);
  class Geocoder extends BaseCzmControl {
    constructor(_0x1e0fe3 = {}) {
      if (isString(_0x1e0fe3)) {
        _0x1e0fe3 = {
          service: _0x1e0fe3
        };
      }
      super(_0x1e0fe3);
      this._czmControlKey = "_geocoder";
      this._czmContainerKey = "_form";
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _createCzmContainer() {
      const _0x415b98 = create$4("div", "cesium-viewer-geocoderContainer");
      _0x415b98.id = this.type;
      return _0x415b98;
    }
    _createCzmControl() {
      let _0x24b5dc = this.options.service;
      if (_0x24b5dc === "ion") {
        const _0x38a96d = {
          scene: this._map.scene
        };
        _0x24b5dc = [new Cesium__namespace.IonGeocoderService(_0x38a96d)];
      } else {
        const _0x2e4ad1 = new ChinaPOIGeocoder(this.options);
        _0x2e4ad1.map = this._map;
        _0x24b5dc = [_0x2e4ad1];
      }
      const _0x29406a = {
        container: this._container,
        geocoderServices: _0x24b5dc,
        scene: this._map.scene
      };
      return new Cesium__namespace.Geocoder(_0x29406a);
    }
    _updateLangText() {
      const _0x13c79c = this._container.querySelector(".cesium-geocoder-searchButton");
      if (_0x13c79c) {
        if (this.options.icon) {
          this._createIcon(this.options.icon, _0x13c79c, "", true);
        }
        addClass(_0x13c79c, "cesium-toolbar-button");
      }
      const _0x4f45e7 = this._map.container;
      const _0x420a2b = {
        "Enter an address or landmark...": this.getLangText("EnterAnAddressOrLandmark"),
        "Searching...": this.getLangText("Searching")
      };
      this._updateDomAttribute(_0x4f45e7, _0x420a2b, "cesium-geocoder-input", "placeholder");
    }
    _removedBeforeHook() {
      super._removedBeforeHook();
      const _0x435b3c = this._map.container.getElementsByClassName("cesium-viewer-geocoderContainer");
      if (_0x435b3c.length > 0) {
        this._container = _0x435b3c[0];
      }
    }
  }
  register$2("geocoder", Geocoder);
  const _updateSearchSuggestions_old = Cesium__namespace.GeocoderViewModel._updateSearchSuggestions;
  Cesium__namespace.GeocoderViewModel._updateSearchSuggestions = function (_0x5b0515) {
    const _0x146956 = _0x5b0515._searchText;
    if (_0x146956?.length > 0 && _0x146956.endsWith("(not found)")) {
      _0x5b0515._searchText = _0x146956.substr(0, _0x146956.length - 11).trim();
    }
    return _updateSearchSuggestions_old(_0x5b0515);
  };
  class ChinaPOIGeocoder {
    constructor(_0x2ad810 = {}) {
      this.options = _0x2ad810;
      this.query = new QueryPOI(_0x2ad810);
    }
    geocode(_0x3519f3, _0x2028f5) {
      if (_0x3519f3?.length > 0 && _0x3519f3.endsWith("(not found)")) {
        _0x3519f3 = _0x3519f3.substr(0, _0x3519f3.length - 11).trim();
      }
      const _0xb50198 = {
        text: _0x3519f3,
        extent: this.map.getExtent(),
        ...this.options.parameters
      };
      let _0xb1df66;
      if (_0x2028f5 === Cesium__namespace.GeocodeType.AUTOCOMPLETE) {
        _0xb1df66 = this.query.autoTip(_0xb50198);
      } else {
        _0xb1df66 = this.query.queryText(_0xb50198);
      }
      return _0xb1df66.then(_0x11323c => {
        const _0x5c420a = _0x11323c?.list;
        if (!_0x5c420a || _0x5c420a.length === 0) {
          logInfo("未查询到“" + _0x3519f3 + "”相关数据！");
          return [];
        }
        let _0x361be6 = 3000;
        if (this.map.camera.positionCartographic.height < _0x361be6) {
          _0x361be6 = this.map.camera.positionCartographic.height;
        }
        return _0x5c420a.map(function (_0x504e98) {
          return {
            displayName: _0x504e98.name,
            destination: Cesium__namespace.Cartesian3.fromDegrees(_0x504e98.lng, _0x504e98.lat, _0x361be6)
          };
        });
      });
    }
  }
  class HomeButton extends BaseCzmControl {
    constructor(_0x60e88 = {}) {
      super(_0x60e88);
      this._czmControlKey = "_homeButton";
      this._czmContainerKey = "_element";
      this.options.insertIndex = this.options.insertIndex ?? 0;
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _createCzmControl() {
      return new Cesium__namespace.HomeButton(this._map.viewer._toolbar, this._map.scene);
    }
    _updateLangText() {
      if (this.options.icon) {
        addClass(this._container, "cesium-toolbar-button");
        this._createIcon(this.options.icon, this._container, "", true);
      }
      const _0x537a84 = this._map.container;
      this._updateDomAttribute(_0x537a84, {
        "View Home": this.options.title ?? this.getLangText("ViewHome")
      }, "cesium-home-button", "title");
    }
    _setOptionsHook(_0x5522a3, _0x60e176) {
      if (Cesium__namespace.defined(_0x60e176.insertIndex) || Cesium__namespace.defined(_0x60e176.insertBefore)) {
        super._setOptionsHook(_0x5522a3, _0x60e176);
      } else {
        this._updateLangText();
      }
    }
    _addedHook() {
      super._addedHook();
      this._czmContrl.viewModel.command.beforeExecute.addEventListener(_0x33634e => {
        _0x33634e.cancel = true;
        if (!this.options.click) {
          this._map.flyHome();
        }
      });
    }
  }
  register$2("homeButton", HomeButton);
  class NavigationHelpButton extends BaseCzmControl {
    constructor(_0x3a3591 = {}) {
      super(_0x3a3591);
      this.options.localStorageName = this.options.localStorageName ?? "cesium-hasSeenNavHelp";
      this._czmControlKey = "_navigationHelpButton";
      this._czmContainerKey = "_wrapper";
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _createCzmControl() {
      let _0x3291c7 = this.options.firstOpen ?? this._map.options.control?.navigationInstructionsInitiallyVisible ?? true;
      try {
        if (Cesium__namespace.defined(window.localStorage)) {
          const _0x53910c = window.localStorage.getItem(this.options.localStorageName);
          if (Cesium__namespace.defined(_0x53910c) && Boolean(_0x53910c)) {
            _0x3291c7 = false;
          } else {
            window.localStorage.setItem(this.options.localStorageName, "true");
          }
        }
      } catch (_0x248c83) {}
      const _0x28a734 = {
        container: this._map.viewer._toolbar,
        instructionsInitiallyVisible: _0x3291c7
      };
      return new Cesium__namespace.NavigationHelpButton(_0x28a734);
    }
    _updateLangText() {
      const _0x32ea2c = this._container.querySelector(".cesium-navigation-help-button");
      if (_0x32ea2c) {
        if (this.options.icon) {
          this._createIcon(this.options.icon, _0x32ea2c, "", true);
        }
        addClass(_0x32ea2c, "cesium-toolbar-button");
      }
      const _0x3221ea = this._map.container;
      this._updateDomAttribute(_0x3221ea, {
        "Navigation Instructions": this.getLangText("NavigationInstructions")
      }, "cesium-navigation-help-button", "title");
      const _0x1e00a5 = {
        Mouse: this.getLangText("Mouse"),
        Touch: this.getLangText("Touch"),
        "Pan view": this.getLangText("PanView"),
        "Left click + drag": this.getLangText("LeftClickDrag"),
        "Zoom view": this.getLangText("ZoomView"),
        "Right click + drag, or": this.getLangText("RightClick"),
        "Mouse wheel scroll": this.getLangText("MouseWheelScroll"),
        "Rotate view": this.getLangText("RotateView"),
        "Middle click + drag, or": this.getLangText("MiddleClickDrag"),
        "CTRL + Left/Right click + drag": this.getLangText("CtrlAndClickDrag"),
        "One finger drag": this.getLangText("OneFingerDrag"),
        "Two finger pinch": this.getLangText("TwoFingerPinch"),
        "Tilt view": this.getLangText("TiltView"),
        "Two finger drag, same direction": this.getLangText("TwoFingerDragSameDirection"),
        "Two finger drag, opposite direction": this.getLangText("TwoFingerDragOppositeDirection")
      };
      let _0x584ab = _0x3221ea.getElementsByClassName("cesium-navigation-button-left");
      if (_0x584ab.length > 0) {
        _0x584ab = _0x584ab[0];
        if (_0x1e00a5[_0x584ab.textContent]) {
          _0x584ab.innerHTML = _0x584ab.children[0].outerHTML + _0x1e00a5[_0x584ab.textContent];
        }
      }
      let _0x1fa3f7 = _0x3221ea.getElementsByClassName("cesium-navigation-button-right");
      if (_0x1fa3f7.length > 0) {
        _0x1fa3f7 = _0x1fa3f7[0];
        if (_0x1e00a5[_0x1fa3f7.textContent]) {
          _0x1fa3f7.innerHTML = _0x1fa3f7.children[0].outerHTML + _0x1e00a5[_0x1fa3f7.textContent];
        }
      }
      this._updateDomInnerHtml(_0x3221ea, _0x1e00a5, "cesium-navigation-help-pan");
      this._updateDomInnerHtml(_0x3221ea, _0x1e00a5, "cesium-navigation-help-details");
      this._updateDomInnerHtml(_0x3221ea, _0x1e00a5, "cesium-navigation-help-zoom");
      this._updateDomInnerHtml(_0x3221ea, _0x1e00a5, "cesium-navigation-help-rotate");
      this._updateDomInnerHtml(_0x3221ea, _0x1e00a5, "cesium-navigation-help-tilt");
    }
    _setOptionsHook(_0x2b5c6f, _0x4c502c) {
      if (Cesium__namespace.defined(_0x4c502c.insertIndex) || Cesium__namespace.defined(_0x4c502c.insertBefore)) {
        super._setOptionsHook(_0x2b5c6f, _0x4c502c);
      } else {
        this._updateLangText();
      }
    }
  }
  register$2("navigationHelpButton", NavigationHelpButton);
  class ProjectionPicker extends BaseCzmControl {
    constructor(_0x37dd92 = {}) {
      super(_0x37dd92);
      this._czmControlKey = "_projectionPicker";
      this._czmContainerKey = "_wrapper";
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _createCzmControl() {
      return new Cesium__namespace.ProjectionPicker(this._map.viewer._toolbar, this._map.scene);
    }
    _updateLangText() {
      const _0x2b19d9 = this._map.container;
      const _0x57c14c = {
        "Perspective Projection": this.getLangText("PerspectiveProjection"),
        "Orthographic Projection": this.getLangText("OrthographicProjection")
      };
      this._updateDomAttribute(_0x2b19d9, _0x57c14c, "cesium-projectionPicker-buttonPerspective", "title");
      this._updateDomAttribute(_0x2b19d9, _0x57c14c, "cesium-projectionPicker-dropDown-icon", "title");
    }
    _setOptionsHook(_0x3d78ea, _0x63f591) {
      if (Cesium__namespace.defined(_0x63f591.insertIndex) || Cesium__namespace.defined(_0x63f591.insertBefore)) {
        super._setOptionsHook(_0x3d78ea, _0x63f591);
      } else {
        this._updateLangText();
      }
    }
  }
  register$2("projectionPicker", ProjectionPicker);
  class SceneModePicker extends BaseCzmControl {
    constructor(_0x1d3fdb = {}) {
      super(_0x1d3fdb);
      this._czmControlKey = "_sceneModePicker";
      this._czmContainerKey = "_wrapper";
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _createCzmControl() {
      return new Cesium__namespace.SceneModePicker(this._map.viewer._toolbar, this._map.scene);
    }
    _updateLangText() {
      const _0x3ef82e = this._map.container;
      const _0x429fd4 = {
        "2D": this.getLangText("_2D"),
        "3D": this.getLangText("_3D"),
        "Columbus View": this.getLangText("ColumbusView")
      };
      this._updateDomAttributeByEvent(_0x3ef82e, _0x429fd4, "cesium-sceneModePicker-button3D", "title", "onmouseover");
      this._updateDomAttribute(_0x3ef82e, _0x429fd4, "cesium-sceneModePicker-dropDown-icon", "title");
    }
    _setOptionsHook(_0x12b19a, _0x1202c4) {
      if (Cesium__namespace.defined(_0x1202c4.insertIndex) || Cesium__namespace.defined(_0x1202c4.insertBefore)) {
        super._setOptionsHook(_0x12b19a, _0x1202c4);
      } else {
        this._updateLangText();
      }
    }
    _addedHook() {
      super._addedHook();
      this._czmContrl.viewModel.duration = this.options.duration ?? 0;
    }
  }
  register$2("sceneModePicker", SceneModePicker);
  class Timeline extends BaseCzmControl {
    constructor(_0x5c53f4 = {}) {
      super(_0x5c53f4);
      this._czmControlKey = "_timeline";
      this._czmContainerKey = "container";
    }
    _createCzmContainer() {
      const _0x2d0216 = create$4("div", "cesium-viewer-timelineContainer");
      _0x2d0216.style.left = "0";
      _0x2d0216.style.right = "0";
      return _0x2d0216;
    }
    _createCzmControl() {
      const _0x4cdaad = this;
      const _0x409cdc = this.options.format ?? "simplify";
      if (_0x409cdc === "simplify") {
        Cesium__namespace.Timeline.prototype.makeLabel = function (_0x55f8e5) {
          const _0x2e613f = Cesium__namespace.JulianDate.toDate(this._startJulian);
          const _0x23115e = Cesium__namespace.JulianDate.toDate(this._endJulian);
          const _0x281534 = _0x23115e.getFullYear() - _0x2e613f.getFullYear();
          const _0x405a7a = _0x23115e.getMonth() - _0x2e613f.getMonth();
          const _0x3c4d3c = _0x23115e.getDate() - _0x2e613f.getDate();
          const _0xb27d35 = _0x23115e.getHours() - _0x2e613f.getHours();
          const _0x93def = _0x23115e.getMinutes() - _0x2e613f.getMinutes();
          const _0x5d4989 = _0x23115e.getSeconds() - _0x2e613f.getSeconds();
          const _0x2524f5 = Cesium__namespace.JulianDate.toDate(_0x55f8e5);
          if (_0x281534 === 0) {
            if (_0x405a7a === 0 && _0x3c4d3c < 10) {
              if (_0x3c4d3c === 0) {
                if (_0xb27d35 === 0) {
                  if (_0x93def === 0 && _0x5d4989 < 10) {
                    if (_0x5d4989 === 0) {
                      return formatDate(_0x2524f5, "S");
                    }
                    return formatDate(_0x2524f5, "HH:mm:ss S");
                  }
                  return formatDate(_0x2524f5, "HH:mm:ss");
                }
                return formatDate(_0x2524f5, "HH:mm:ss");
              }
              return formatDate(_0x2524f5, "MM-dd HH:mm");
            }
            return formatDate(_0x2524f5, "MM-dd");
          }
          return formatDate(_0x2524f5, "yyyy-MM-dd");
        };
      } else if (_0x409cdc === "duration") {
        Cesium__namespace.Timeline.prototype.makeLabel = function (_0x20c614) {
          const _0x4a1fb3 = Cesium__namespace.JulianDate.secondsDifference(_0x20c614, this._startJulian);
          return formatTime(_0x4a1fb3, {
            digits: 1,
            getLangText: _0x4cdaad.getLangText.bind(_0x4cdaad)
          });
        };
      } else if (_0x409cdc === "none") ;else {
        Cesium__namespace.Timeline.prototype.makeLabel = function (_0xfe1026) {
          const _0x53141c = Cesium__namespace.JulianDate.toDate(_0xfe1026);
          return formatDate(_0x53141c, _0x409cdc);
        };
      }
      return new Cesium__namespace.Timeline(this._container, this._map.clock);
    }
    _addedHook() {
      super._addedHook();
      const _0x58c71e = this.options.zoom ?? true;
      const _0x513c68 = this._czmContrl.zoomFrom;
      this._czmContrl.zoomFrom = function (_0x2db848) {
        if (!_0x58c71e) {
          return;
        }
        return _0x513c68.bind(this)(_0x2db848);
      };
      const _0xf3ef95 = (this.options.maxSpan ?? 1) * 10;
      const _0xdcf882 = this._czmContrl.zoomTo;
      this._czmContrl.zoomTo = function (_0x1b2216, _0xdf3478) {
        const _0x4a2e4c = Cesium__namespace.JulianDate.secondsDifference(_0xdf3478, _0x1b2216);
        if (_0x4a2e4c > _0xf3ef95) {
          return _0xdcf882.bind(this)(_0x1b2216, _0xdf3478);
        }
      };
      this._czmContrl.addEventListener("settime", this.onTimelineScrubfunction, false);
      this.zoomTo(this._map.clock.startTime, this._map.clock.stopTime);
    }
    onTimelineScrubfunction(_0x35743e) {
      const _0x44e8f0 = _0x35743e.clock;
      _0x44e8f0.currentTime = _0x35743e.timeJulian;
      _0x44e8f0.shouldAnimate = false;
    }
    zoomTo(_0x472e29, _0x3d50c) {
      clearTimeout(this._timeTik);
      this._timeTik = setTimeout(() => {
        if (this.isAdded) {
          this._czmContrl.zoomTo(_0x472e29, _0x3d50c);
        }
      }, 600);
    }
    refresh() {
      this.zoomTo(this._map.clock.startTime, this._map.clock.stopTime);
    }
    resize() {
      this._czmContrl.resize();
    }
    _removedBeforeHook() {
      this._czmContrl.removeEventListener("settime", this.onTimelineScrubfunction, false);
      super._removedBeforeHook();
    }
    _rebindCzmContainer(_0x221b07) {
      _0x221b07.style.right = "0px";
    }
  }
  register$2("timeline", Timeline);
  class VRButton extends BaseCzmControl {
    constructor(_0x188421 = {}) {
      super(_0x188421);
      this._czmControlKey = "_vrButton";
      this._czmContainerKey = "_container";
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _createCzmContainer() {
      return create$4("div", "cesium-button cesium-toolbar-button mars3d-vrButton");
    }
    _createCzmControl() {
      const _0x4af39d = this.options.fullscreenElement || this._map.options.control?.fullscreenElement;
      return new Cesium__namespace.VRButton(this._container, this._map.scene, _0x4af39d);
    }
    _rebindCzmContainer(_0x48252e) {
      removeClass(_0x48252e, "cesium-viewer-vrContainer");
      addClass(_0x48252e, "cesium-button cesium-toolbar-button mars3d-vrButton");
      _0x48252e.parentNode.removeChild(_0x48252e);
      const _0x2b68ee = this.viewer.navigationHelpButton?._wrapper;
      if (_0x2b68ee) {
        this.parentContainer.insertBefore(_0x48252e, _0x2b68ee);
      } else {
        this.parentContainer.appendChild(_0x48252e);
      }
    }
    _updateLangText() {
      const _0x1a9a47 = this._map.container;
      const _0x3a339c = {
        "Enter VR mode": this.getLangText("EnterVRMode"),
        "Exit VR mode": this.getLangText("ExitVRMode"),
        "VR mode is unavailable": this.getLangText("VRModeIsUnavailable")
      };
      this._updateDomAttributeByEvent(_0x1a9a47, _0x3a339c, "cesium-vrButton", "title", "onmouseover");
    }
    _setOptionsHook(_0x5a4b32, _0x4d58ae) {
      if (Cesium__namespace.defined(_0x4d58ae.insertIndex) || Cesium__namespace.defined(_0x4d58ae.insertBefore)) {
        super._setOptionsHook(_0x5a4b32, _0x4d58ae);
      } else {
        this._updateLangText();
      }
    }
  }
  register$2("vrButton", VRButton);
  class LocationBar extends BaseControl {
    constructor(_0x186611 = {}) {
      super(_0x186611);
      this.options.cacheTime = this.options.cacheTime ?? 50;
      this.locationData = {};
    }
    _mountedHook() {
      if (Cesium__namespace.defined(this.options.template)) {
        if (Array.isArray(this.options.template)) {
          this.template = this.options.template[this._map.lang];
        } else {
          this.template = this.options.template;
        }
      } else {
        this.template = "<div>经度:{lng}</div> <div>纬度:{lat}</div><div>海拔：{alt}米</div> <div class='hide700'>层级：{level}</div><div>方向：{heading}°</div> <div>俯仰角：{pitch}°</div><div class='hide700'>视高：{cameraHeight}米</div><div>{fps} FPS</div><div>{ms} MS</div>";
      }
      if (Cesium__namespace.defined(this.options.crs)) {
        if (isString(this.options.crs)) {
          this._crs = this.options.crs;
        } else if (this.options.crs) {
          this._crs = CRS.CGCS2000_GK_Zone_3;
        }
      } else if (isString(this.template) && this.template.indexOf("{crsx}") !== -1) {
        this._crs = CRS.CGCS2000_GK_Zone_3;
      }
      this._container = create$4("div", "mars3d-locationbar no-print " + this._className);
      this._containerCon = create$4("div", "mars3d-locationbar-content", this._container);
      if (this.options.style) {
        this.setStyle(this.options.style);
      } else {
        this._autoStyle = true;
        this._updateControlHandler();
      }
      this._lastFpsSampleTime = Cesium__namespace.getTimestamp();
      this._lastMsSampleTime = Cesium__namespace.getTimestamp();
      this._fpsFrameCount = 0;
      this._msFrameCount = 0;
      this.locationData.fps = "";
      this.locationData.ms = "";
    }
    _addedHook() {
      this._map.on(EventType.preRender, this._map_preRenderHandler, this);
      this._map.on(EventType.mouseMove, this._mouseMoveHandler, this);
      this._map.on(EventType.cameraMoveEnd, this._cameraHandler, this);
      this._map.on(EventType.addControl, this._updateControlHandler, this);
      this._map.on(EventType.updateControl, this._updateControlHandler, this);
      this._cameraHandler();
    }
    _removedHook() {
      this._map.off(EventType.preRender, this._map_preRenderHandler, this);
      this._map.off(EventType.mouseMove, this._mouseMoveHandler, this);
      this._map.off(EventType.cameraMoveEnd, this._cameraHandler, this);
      this._map.off(EventType.addControl, this._updateControlHandler, this);
      this._map.off(EventType.updateControl, this._updateControlHandler, this);
    }
    _cameraHandler() {
      if (!this.enabled) {
        return;
      }
      const _0x260fea = this._map.getCenter();
      if (_0x260fea) {
        this._templateHtml(_0x260fea);
      }
    }
    _mouseMoveHandler(_0x8a9ad8) {
      if (this.moveTimer) {
        clearTimeout(this.moveTimer);
        delete this.moveTimer;
      }
      this.moveTimer = setTimeout(() => {
        delete this.moveTimer;
        if (!this.enabled || !this.isAdded) {
          return;
        }
        const _0xf8fe19 = _0x8a9ad8.cartesian;
        if (_0xf8fe19) {
          this._templateHtml(LngLatPoint.fromCartesian(_0xf8fe19));
        }
      }, this.options.cacheTime);
    }
    _templateHtml(_0x19bf68) {
      this.locationData.cameraHeight = this._map.camera.positionCartographic.height.toFixed(LngLatPoint.FormatAltLength);
      this.locationData.heading = Cesium__namespace.Math.toDegrees(this._map.camera.heading).toFixed(0);
      this.locationData.pitch = Cesium__namespace.Math.toDegrees(this._map.camera.pitch).toFixed(0);
      this.locationData.level = this._map.level;
      this.locationData.alt = formatNum$1(this._map.getRealAlt(_0x19bf68.alt), LngLatPoint.FormatAltLength);
      const _0x238426 = this.options.latDecimal ?? LngLatPoint.FormatLength;
      this.locationData.lng = _0x19bf68.lng.toFixed(_0x238426);
      this.locationData.lat = _0x19bf68.lat.toFixed(_0x238426);
      if (this._crs) {
        const _0x134384 = this.options.crsDecimal ?? 1;
        const _0x58a84b = proj4Trans([_0x19bf68.lng, _0x19bf68.lat], "EPSG:4326", this._crs);
        if (_0x58a84b[0] === _0x19bf68.lng) {
          this.locationData.crsx = "";
        } else {
          this.locationData.crsx = _0x58a84b[0].toFixed(_0x134384);
        }
        if (_0x58a84b[1] === _0x19bf68.lat) {
          this.locationData.crsy = "";
        } else {
          this.locationData.crsy = _0x58a84b[1].toFixed(_0x134384);
        }
      }
      let _0x297755;
      if (typeof this.template === "function") {
        _0x297755 = this.template(this.locationData);
      } else {
        if (this.options.formatData) {
          this.locationData = this.options.formatData(this.locationData);
        }
        _0x297755 = template(this.template, this.locationData);
      }
      this._containerCon.innerHTML = _0x297755;
      this.fire(EventType.change);
    }
    _updateControlHandler(_0x594a98) {
      if (this._autoStyle && (!_0x594a98 || _0x594a98.control?.type === "animation" || _0x594a98.control?.type === "timeline")) {
        var _0x2e6358;
        var _0x1e6eac;
        this.setStyle({
          left: (_0x2e6358 = this._map.control.animation) !== null && _0x2e6358 !== undefined && _0x2e6358.show ? "170px" : "0",
          right: "0",
          bottom: (_0x1e6eac = this._map.control.timeline) !== null && _0x1e6eac !== undefined && _0x1e6eac.show ? "25px" : "0"
        });
      }
    }
    _map_preRenderHandler(_0x5498b5) {
      const _0x28d843 = Cesium__namespace.getTimestamp();
      this._fpsFrameCount++;
      const _0x475805 = _0x28d843 - this._lastFpsSampleTime;
      if (_0x475805 > 1000) {
        this.locationData.fps = this._fpsFrameCount * 1000 / _0x475805 | 0;
        this._lastFpsSampleTime = _0x28d843;
        this._fpsFrameCount = 0;
      }
      this._msFrameCount++;
      const _0x427d37 = _0x28d843 - this._lastMsSampleTime;
      if (_0x427d37 > 200) {
        this.locationData.ms = (_0x427d37 / this._msFrameCount).toFixed(2);
        this._lastMsSampleTime = _0x28d843;
        this._msFrameCount = 0;
      }
    }
  }
  register$2("locationBar", LocationBar);
  class MouseDownView extends BaseControl {
    _mountedHook() {
      this._container = create$4("div", "mars3d-mousedownview " + this._className);
      this._container.id = this.parentContainerId + "-mars3d-mousedownview";
      this.setStyle(this.options.style);
      create$4("div", "mars3d-mousedownview-img", this._container);
      this._updateEventName();
    }
    _updateEventName() {
      let _0x2f188a = "middle";
      const _0x5c2ea3 = this._map.scene.screenSpaceCameraController.tiltEventTypes;
      for (let _0x2ef9b1 = 0; _0x2ef9b1 < _0x5c2ea3.length; _0x2ef9b1++) {
        const _0x31608d = _0x5c2ea3[_0x2ef9b1];
        if (_0x31608d === Cesium__namespace.CameraEventType.RIGHT_DRAG) {
          _0x2f188a = "right";
          break;
        } else if (_0x31608d === Cesium__namespace.CameraEventType.LEFT_DRAG) {
          _0x2f188a = "left";
          break;
        } else if (_0x31608d === Cesium__namespace.CameraEventType.MIDDLE_DRAG) {
          _0x2f188a = "middle";
          break;
        }
      }
      this._buttonDownEvent = _0x2f188a + "Down";
      this._buttonUpEvent = _0x2f188a + "Up";
    }
    reload() {
      if (this._map) {
        this._updateEventName();
        super.reload();
      }
    }
    _addedHook() {
      if (!isPCBroswer()) {
        return;
      }
      this._map.on(EventType.wheel, this._mousWheelHandler, this);
      this._map.on(this._buttonDownEvent, this._mousMiddleDownHandler, this);
      this._map.on(this._buttonUpEvent, this._mousMiddleUpHandler, this);
      this._mousMiddleUpHandler();
    }
    _removedHook() {
      if (!isPCBroswer()) {
        return;
      }
      this._map.off(EventType.wheel, this._mousWheelHandler, this);
      this._map.off(EventType.mouseMove, this._mouseMoveHandler, this);
      this._map.off(this._buttonDownEvent, this._mousMiddleDownHandler, this);
      this._map.off(this._buttonUpEvent, this._mousMiddleUpHandler, this);
      clearTimeout(this.timetik);
    }
    _mousWheelHandler(_0x1af182) {
      if (!this.enabled) {
        return;
      }
      addClass(this._container, "mars3d-mousedownview-show");
      clearTimeout(this.timetik);
      this.timetik = setTimeout(() => {
        if (!this.isAdded) {
          return;
        }
        removeClass(this._container, "mars3d-mousedownview-show");
      }, 200);
    }
    _mousMiddleDownHandler(_0x365729) {
      if (!this.enabled) {
        return;
      }
      const _0x3e3bf4 = _0x365729.cartesian;
      if (!_0x3e3bf4) {
        return;
      }
      if (this._map.camera.positionCartographic.height > this._map.scene.screenSpaceCameraController.minimumCollisionTerrainHeight) {
        return;
      }
      this._map.off(EventType.mouseMove, this._mouseMoveHandler, this);
      clearTimeout(this.timetik);
      this._container.style.top = _0x365729.windowPosition.y + "px";
      this._container.style.left = _0x365729.windowPosition.x + "px";
      addClass(this._container, "mars3d-mousedownview-show");
    }
    _mousMiddleUpHandler(_0x487fd2) {
      removeClass(this._container, "mars3d-mousedownview-show");
      this._map.on(EventType.mouseMove, this._mouseMoveHandler, this);
    }
    _mouseMoveHandler(_0x55fa86) {
      this._container.style.top = _0x55fa86.endPosition.y + "px";
      this._container.style.left = _0x55fa86.endPosition.x + "px";
    }
  }
  register$2("mouseDownView", MouseDownView);
  const icon$7 = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect width=\"48\" height=\"48\" fill=\"white\" fill-opacity=\"0.01\"/>\n  <path d=\"M24.0607 10L24.024 38\" stroke=\"#ffffff\" stroke-width=\"5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n  <path d=\"M10 24L38 24\" stroke=\"#ffffff\" stroke-width=\"5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>";
  const icon$6 = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect width=\"48\" height=\"48\" fill=\"white\" fill-opacity=\"0.01\"/>\n  <path d=\"M10.5 24L38.5 24\" stroke=\"#ffffff\" stroke-width=\"5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>";
  class Zoom extends BaseControl {
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _showHook(_0x5696bf) {
      if (this._container2) {
        this._container2.style.display = _0x5696bf ? "inline-block" : "none";
      }
    }
    _mountedHook() {
      this._container = create$4("div", "cesium-button cesium-toolbar-button mar3d-toolButton " + this._className);
      this._container.id = this.type;
      this._container.setAttribute("title", this.getLangText("_缩小"));
      this._createIcon(this.options.zoomOutIcon || icon$6, this._container);
      this._container.addEventListener("click", _0x21a40e => {
        if (!this.enabled) {
          return;
        }
        this._map.zoomOut(this.options.relativeAmount);
      });
      this._container2 = create$4("div", "cesium-button cesium-toolbar-button mar3d-toolButton " + this._className);
      this._container2.setAttribute("title", this.getLangText("_放大"));
      this._createIcon(this.options.zoomInIcon || icon$7, this._container2);
      this._container2.addEventListener("click", _0x13744a => {
        if (!this.enabled) {
          return;
        }
        this._map.zoomIn(this.options.relativeAmount);
      });
    }
    _addedHook() {
      this.parentContainer.insertBefore(this._container2, this._container);
    }
    _removedHook() {
      this.parentContainer.removeChild(this._container2);
    }
    _updateLangText() {
      if (this._container) {
        this._container.setAttribute("title", this.getLangText("_缩小"));
      }
      if (this._container2) {
        this._container2.setAttribute("title", this.getLangText("_放大"));
      }
    }
    _setOptionsHook(_0x2cf80e, _0x415979) {
      if (Cesium__namespace.defined(_0x415979.insertIndex) || Cesium__namespace.defined(_0x415979.insertBefore)) {
        super._setOptionsHook(_0x2cf80e, _0x415979);
      } else {
        this._updateLangText();
      }
    }
  }
  register$2("zoom", Zoom);
  class ToolButton extends BaseControl {
    constructor(_0x5b825b = {}) {
      super(_0x5b825b);
      this._type = "toolButton" + getGlobalId();
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.viewer._toolbar;
    }
    _mountedHook() {
      let _0x1de68f = this.options.title;
      if (isFunction(_0x1de68f)) {
        _0x1de68f = _0x1de68f(this);
      }
      this._container = create$4("div", "cesium-button cesium-toolbar-button mar3d-toolButton " + this._className);
      this._container.id = this.id;
      this._container.style.display = "inline-block";
      this._container.setAttribute("title", _0x1de68f || "");
      this._createIcon(this.options.icon, this._container);
      let _0x2f38d3;
      this._container.addEventListener("mouseover", _0x472b89 => {
        if (!this.enabled) {
          return;
        }
        if (_0x2f38d3 === this.id) {
          return;
        }
        _0x2f38d3 = this.id;
        if (this.options.mouseOver) {
          this.options.mouseOver(this.options);
        }
        this.fire(EventType.mouseOver, {
          ...this.options
        });
      });
      this._container.addEventListener("mouseout", _0x21e2c4 => {
        _0x2f38d3 = null;
        if (!this.enabled) {
          return;
        }
        if (this.options.mouseOut) {
          this.options.mouseOut(this.options);
        }
        this.fire(EventType.mouseOut, {
          ...this.options
        });
      });
    }
    setIcon(_0x5ba518) {
      this.options.icon = _0x5ba518;
      empty(this._container);
      this._createIcon(_0x5ba518, this._container);
    }
  }
  register$2("toolButton", ToolButton);
  const icon$5 = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg width=\"162px\" height=\"162px\" viewBox=\"0 0 162 162\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>$title$</title>\n    <desc>mars3d.cn</desc>\n    <defs></defs>\n    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n        <g id=\"compass-outer\" fill-rule=\"nonzero\">\n            <path d=\"M80.8410544,161.682109 C36.1937731,161.682109 0,125.488336 0,80.8410544 C0,36.1937731 36.1937731,0 80.8410544,0 C125.488336,0 161.682109,36.1937731 161.682109,80.8410544 C161.682109,125.488336 125.488336,161.682109 80.8410544,161.682109 Z M81.1836011,134.620909 C110.696211,134.620909 134.620909,110.696211 134.620909,81.1836011 C134.620909,51.6709916 110.696211,27.7462941 81.1836011,27.7462941 C51.6709916,27.7462941 27.7462941,51.6709916 27.7462941,81.1836011 C27.7462941,110.696211 51.6709916,134.620909 81.1836011,134.620909 Z\" id=\"Oval-108\"></path>\n            <circle id=\"Oval-74\" fill=\"#FFFFFF\" cx=\"129.493683\" cy=\"127.952092\" r=\"1.54159147\"></circle>\n            <circle id=\"Oval-74-Copy-3\" fill=\"#FFFFFF\" cx=\"129.493683\" cy=\"35.4566038\" r=\"1.54159147\"></circle>\n            <circle id=\"Oval-74-Copy-5\" fill=\"#FFFFFF\" cx=\"30.8318294\" cy=\"127.952092\" r=\"1.54159147\"></circle>\n            <circle id=\"Oval-74-Copy-4\" fill=\"#FFFFFF\" cx=\"30.8318294\" cy=\"35.4566038\" r=\"1.54159147\"></circle>\n            <polygon id=\"N\" fill=\"#FFFFFF\" points=\"84.9318072 23.1238721 84.9318072 13.1321362 82.5623385 13.1321362 82.5623385 19.2984646 77.951866 13.1321362 75.7108625 13.1321362 75.7108625 23.1238721 78.0946053 23.1238721 78.0946053 16.9718176 82.6908037 23.1238721\"></polygon>\n            <polygon id=\"Line\" fill=\"#FFFFFF\" points=\"143.368007 82.1093476 152.617555 82.1093476 152.617555 81.2993476 143.368007 81.2993476\"></polygon>\n            <polygon id=\"Line-Copy-8\" fill=\"#FFFFFF\" points=\"9.24954884 82.1093476 18.4990976 82.1093476 18.4990976 81.2993476 9.24954884 81.2993476\"></polygon>\n            <polygon id=\"Line\" fill=\"#FFFFFF\" points=\"81.2993476 143.368007 81.2993476 152.617555 82.1093476 152.617555 82.1093476 143.368007\"></polygon>\n        </g>\n    </g>\n</svg>\n";
  const icon$4 = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg width=\"17px\" height=\"17px\" viewBox=\"0 0 17 17\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>$title$</title>\n    <desc>mars3d.cn</desc>\n    <defs></defs>\n    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n        <g id=\"compass-inner\" fill-rule=\"nonzero\">\n            <path d=\"M8.5,16.5 C4.081722,16.5 0.5,12.918278 0.5,8.5 C0.5,4.081722 4.081722,0.5 8.5,0.5 C12.918278,0.5 16.5,4.081722 16.5,8.5 C16.5,12.918278 12.918278,16.5 8.5,16.5 Z M8.5,15.5 C12.3659932,15.5 15.5,12.3659932 15.5,8.5 C15.5,4.63400675 12.3659932,1.5 8.5,1.5 C4.63400675,1.5 1.5,4.63400675 1.5,8.5 C1.5,12.3659932 4.63400675,15.5 8.5,15.5 Z\" id=\"Oval-96\"></path>\n            <path d=\"M9.92599835,7.09066832 C12.7122872,9.87695712 14.3709388,12.5452228 13.4497471,13.4664145 C12.5285555,14.3876061 9.86028979,12.7289545 7.074001,9.94266568 C4.2877122,7.15637688 2.62906055,4.48811119 3.55025221,3.56691953 C4.47144386,2.64572788 7.13970955,4.30437952 9.92599835,7.09066832 Z M9.21889157,7.7977751 C6.92836458,5.50724811 4.52075769,4.01062761 4.25735899,4.27402631 C3.99396029,4.53742501 5.49058078,6.9450319 7.78110778,9.2355589 C10.0716348,11.5260859 12.4792417,13.0227064 12.7426404,12.7593077 C13.0060391,12.495909 11.5094186,10.0883021 9.21889157,7.7977751 Z\" id=\"Oval-96-Copy-2\"></path>\n            <path d=\"M9.92599835,9.94266568 C7.13970955,12.7289545 4.47144386,14.3876061 3.55025221,13.4664145 C2.62906055,12.5452228 4.2877122,9.87695712 7.074001,7.09066832 C9.86028979,4.30437952 12.5285555,2.64572788 13.4497471,3.56691953 C14.3709388,4.48811119 12.7122872,7.15637688 9.92599835,9.94266568 Z M9.21889157,9.2355589 C11.5094186,6.9450319 13.0060391,4.53742501 12.7426404,4.27402631 C12.4792417,4.01062761 10.0716348,5.50724811 7.78110778,7.7977751 C5.49058078,10.0883021 3.99396029,12.495909 4.25735899,12.7593077 C4.52075769,13.0227064 6.92836458,11.5260859 9.21889157,9.2355589 Z\" id=\"Oval-96-Copy-3\"></path>\n            <path d=\"M15.1464466,1.1464466 L14.3453364,1.94755684 L13.9608692,2.33202401 L14.667976,3.03913077 L15.0524431,2.65466362 L15.8535534,1.8535534 L15.1464466,1.1464466 Z M2.29760014,13.995293 L1.85311902,14.4397742 L1.004311,15.2885822 L1.71141776,15.995689 L2.56022581,15.146881 L3.00470698,14.7023998 L2.29760014,13.995293 Z\" id=\"Line\"></path>\n            <circle id=\"Oval-432\" cx=\"16\" cy=\"1\" r=\"1\"></circle>\n            <circle id=\"Oval-432-Copy\" cx=\"1\" cy=\"16\" r=\"1\"></circle>\n        </g>\n    </g>\n</svg>\n";
  const icon$3 = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg width=\"53px\" height=\"53px\" viewBox=\"0 0 53 53\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n    <title>$title$</title>\n    <desc>mars3d.cn</desc>\n    <defs></defs>\n    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"compass-rotation-marker\">\n            <path d=\"M52.4399986,26.2199993 C52.4399986,11.7390936 40.7009051,0 26.2199993,0 C11.7390936,0 0,11.7390936 0,26.2199993 C0,40.7009051 11.7390936,52.4399986 26.2199993,52.4399986 C40.7009051,52.4399986 52.4399986,40.7009051 52.4399986,26.2199993 Z\" id=\"rotator\" stroke-opacity=\"0.135841259\" stroke=\"#E2A549\" stroke-width=\"9\" opacity=\"0.201434235\"></path>\n            <path d=\"M0,26.2199993 C0,11.7390936 11.7390936,0 26.2199993,0 L26.2199993,9 C16.7096563,9 9,16.7096563 9,26.2199993\" id=\"Shape\" opacity=\"0.634561567\" fill=\"#4990E2\"></path>\n        </g>\n    </g>\n</svg>\n";
  class Compass extends BaseControl {
    constructor(_0x5a7491 = {}) {
      super(_0x5a7491);
      this._orbitCursorAngle = 0;
      this._orbitCursorOpacity = 0;
      this._orbitLastTimestamp = 0;
      this._pitch_max = Cesium__namespace.Math.toRadians(_0x5a7491.maxPitch ?? 0);
      this._pitch_min = Cesium__namespace.Math.toRadians(_0x5a7491.minPitch ?? -90);
      this.options.rotation = this.options.rotation ?? true;
    }
    _mountedHook() {
      this._container = create$4("div", this._className || "mars3d-compass");
      this._defaultPosition = {
        top: "10px",
        right: "10px"
      };
      this.setStyle(this.options.style);
      const _0x3f83b5 = this.options.outerSvg || icon$5.replace("$title$", this.getLangText("_拖拽调整四周方向角"));
      this._container_outer = parseDom(_0x3f83b5, true, "mars3d-compass-outer");
      this._container.appendChild(this._container_outer);
      const _0x10aae3 = this.options.innerSvg || icon$4.replace("$title$", this.getLangText("_拖拽调整俯仰角"));
      this._container_inner = parseDom(_0x10aae3, true, "mars3d-compass-inner");
      this._container.appendChild(this._container_inner);
      if (this.options.rotation) {
        const _0x3b239c = this.options.rotationArcSvg || icon$3.replace("$title$", this.getLangText("_导航球"));
        this._container_rotationArc = parseDom(_0x3b239c, true, "mars3d-compass-rotation-arc");
        this._container.appendChild(this._container_rotationArc);
        this._container_rotationArc.style.visibility = "hidden";
      }
      if (isPCBroswer()) {
        this._container.onmousedown = _0x5cb3fa => {
          this._handleMouseDown(_0x5cb3fa);
        };
        if (this.options.clickToNorth ?? true) {
          this._container_outer.ondblclick = _0x191785 => {
            this._map.setHeading(0);
          };
        }
        this._container_inner.ondblclick = _0x58e3c1 => {
          this._map.flyHome();
        };
      } else {
        this._container.ontouchstart = _0x1c1a7f => {
          this._handleMouseDown(_0x1c1a7f);
        };
        if (this.options.clickToNorth ?? true) {
          this._container_outer.onclick = _0x38cf2b => {
            this._map.setHeading(0);
          };
        }
        this._container_inner.onclick = _0x5f21db => {
          this._map.flyHome();
        };
      }
    }
    setOuterSvg(_0x204120) {
      this._container_outer.innerHTML = _0x204120;
    }
    setInnerSvg(_0x2458a8) {
      this._container_inner.innerHTML = _0x2458a8;
    }
    setRotationSvg(_0x189e95) {
      this._container_rotationArc.innerHTML = _0x189e95;
    }
    _addedHook() {
      this._map.on(EventType.postRender, this._postRenderHandler, this);
      this._map.on(EventType.addControl, this._updateControlHandler, this);
      this._map.on(EventType.updateControl, this._updateControlHandler, this);
    }
    _removedHook() {
      this._map.off(EventType.postRender, this._postRenderHandler, this);
      this._map.off(EventType.addControl, this._updateControlHandler, this);
      this._map.off(EventType.updateControl, this._updateControlHandler, this);
    }
    _updateControlHandler() {
      this._updateBottomForToolbar();
    }
    _postRenderHandler() {
      const _0x54d753 = this._map.camera.heading;
      if (this._container_outer) {
        this._container_outer.style.cssText = "\n      transform : rotate(-" + _0x54d753 + "rad);\n      -webkit-transform : rotate(-" + _0x54d753 + "rad);\n      ";
      }
    }
    _handleMouseDown(_0x24c81b) {
      const _0x7ecbc = this._map.scene;
      if (_0x7ecbc.mode === Cesium__namespace.SceneMode.MORPHING) {
        return true;
      }
      this._compassRectangle = _0x24c81b.currentTarget.getBoundingClientRect();
      const _0x2d7d7f = this._compassRectangle.width / 2;
      const _0x368f8a = this._getVector(_0x24c81b);
      const _0x5de2b5 = Cesium__namespace.Cartesian2.magnitude(_0x368f8a) / _0x2d7d7f;
      if (this.options.rotation && _0x5de2b5 < 50 / 145) {
        this._orbit(_0x368f8a);
      } else if (_0x5de2b5 < 1) {
        this._rotate(_0x368f8a);
      } else {
        return true;
      }
    }
    _getCameraFocus(_0x2c2f57) {
      let _0x2b7f04 = new Cesium__namespace.Cartesian3();
      const _0x4102ba = this._map.scene;
      const _0x1c185f = _0x4102ba.camera;
      if (_0x4102ba.mode === Cesium__namespace.SceneMode.MORPHING) {
        return undefined;
      }
      if (this._map.trackedEntity) {
        _0x2b7f04 = this._map.trackedEntity.position.getValue(this._map.clock.currentTime);
      } else {
        const _0x21c7ac = new Cesium__namespace.Ray();
        _0x21c7ac.origin = _0x1c185f.positionWC;
        _0x21c7ac.direction = _0x1c185f.directionWC;
        _0x2b7f04 = _0x4102ba.globe.pick(_0x21c7ac, _0x4102ba);
      }
      if (!_0x2b7f04) {
        return undefined;
      }
      if (_0x4102ba.mode === Cesium__namespace.SceneMode.SCENE2D || _0x4102ba.mode === Cesium__namespace.SceneMode.COLUMBUS_VIEW) {
        _0x2b7f04 = _0x1c185f.worldToCameraCoordinatesPoint(_0x2b7f04);
        const _0x4b0521 = new Cesium__namespace.Cartographic();
        if (_0x2c2f57) {
          _0x2b7f04 = _0x4102ba.globe.ellipsoid.cartographicToCartesian(_0x4102ba.mapProjection.unproject(_0x2b7f04, _0x4b0521));
        }
      } else if (!_0x2c2f57) {
        _0x2b7f04 = _0x1c185f.worldToCameraCoordinatesPoint(_0x2b7f04);
      }
      return _0x2b7f04;
    }
    _orbit(_0x51d600) {
      const _0x710105 = this._map.scene;
      const _0x13a430 = _0x710105.screenSpaceCameraController;
      const _0x2dbc57 = _0x710105.camera;
      if (_0x710105.mode === Cesium__namespace.SceneMode.MORPHING || !_0x13a430.enableInputs) {
        return;
      }
      switch (_0x710105.mode) {
        case Cesium__namespace.SceneMode.SCENE2D:
          if (!_0x13a430.enableTranslate) {
            return;
          }
          break;
        case Cesium__namespace.SceneMode.COLUMBUS_VIEW:
          if (_0x13a430.enableLook) {
            break;
          }
          if (!_0x13a430.enableTranslate || !_0x13a430.enableTilt) {
            return;
          }
          break;
        case Cesium__namespace.SceneMode.SCENE3D:
        default:
          if (_0x13a430.enableLook) {
            break;
          }
          if (!_0x13a430.enableTilt || !_0x13a430.enableRotate) {
            return;
          }
          break;
      }
      this._unbindDocumentEvent();
      this._mouseMoveHandle = _0x548f1f => {
        this._orbitMouseMoveFunction(_0x548f1f);
      };
      this._mouseUpHandle = () => {
        this._orbitMouseUpFunction();
      };
      this._orbitLastTimestamp = Cesium__namespace.getTimestamp();
      if (this._map.trackedEntity) {
        this._orbitFrame = undefined;
        this._orbitIsLook = false;
      } else {
        const _0x2b83e3 = this._getCameraFocus(true);
        if (!_0x2b83e3) {
          this._orbitFrame = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x2dbc57.positionWC, _0x710105.globe.ellipsoid);
          this._orbitIsLook = true;
        } else {
          this._orbitFrame = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x2b83e3, _0x710105.globe.ellipsoid);
          this._orbitIsLook = false;
        }
      }
      this._container_rotationArc.style.visibility = "visible";
      this._container_inner.className += " compass-inner-active";
      this._bindDocumentEvent();
      this._map.on(EventType.clockTick, this._orbitTickFunction, this);
      this._updateAngleAndOpacity(_0x51d600, this._compassRectangle.width);
    }
    _orbitTickFunction(_0x9fd301) {
      const _0x37db79 = this._map.scene;
      const _0x5d2cec = this._map.camera;
      const _0x91372b = Cesium__namespace.getTimestamp();
      const _0x508ab3 = _0x91372b - this._orbitLastTimestamp;
      const _0x864d11 = (this._orbitCursorOpacity - 0.5) * 2.5 / 1000;
      const _0x36dfdd = _0x508ab3 * _0x864d11;
      const _0x1c5a54 = this._orbitCursorAngle + Cesium__namespace.Math.PI_OVER_TWO;
      const _0x191ebe = Math.cos(_0x1c5a54) * _0x36dfdd;
      const _0x313e60 = Math.sin(_0x1c5a54) * _0x36dfdd;
      if (_0x313e60 > 0 && _0x5d2cec.pitch > this._pitch_max || _0x313e60 < 0 && _0x5d2cec.pitch < this._pitch_min) {
        return;
      }
      let _0x5e0f5e;
      if (this._orbitFrame) {
        _0x5e0f5e = Cesium__namespace.Matrix4.clone(_0x5d2cec.transform);
        _0x5d2cec.lookAtTransform(this._orbitFrame);
      }
      if (_0x37db79.mode === Cesium__namespace.SceneMode.SCENE2D) {
        _0x5d2cec.move(new Cesium__namespace.Cartesian3(_0x191ebe, _0x313e60, 0), Math.max(_0x37db79.canvas.clientWidth, _0x37db79.canvas.clientHeight) / 100 * _0x5d2cec.positionCartographic.height * _0x36dfdd);
      } else if (this._orbitIsLook) {
        _0x5d2cec.look(Cesium__namespace.Cartesian3.UNIT_Z, -_0x191ebe);
        _0x5d2cec.look(_0x5d2cec.right, -_0x313e60);
      } else {
        _0x5d2cec.rotateLeft(_0x191ebe);
        _0x5d2cec.rotateUp(_0x313e60);
      }
      if (this._orbitFrame && _0x5e0f5e) {
        _0x5d2cec.lookAtTransform(_0x5e0f5e);
      }
      this._orbitLastTimestamp = _0x91372b;
    }
    _updateAngleAndOpacity(_0x4aacd0, _0x5dda95) {
      const _0x1bd38c = Math.atan2(-_0x4aacd0.y, _0x4aacd0.x);
      this._orbitCursorAngle = Cesium__namespace.Math.zeroToTwoPi(_0x1bd38c - Cesium__namespace.Math.PI_OVER_TWO);
      const _0x12cbbd = Cesium__namespace.Cartesian2.magnitude(_0x4aacd0);
      const _0xf35f0b = _0x5dda95 / 2;
      const _0x2a64d9 = Math.min(_0x12cbbd / _0xf35f0b, 1);
      this._orbitCursorOpacity = _0x2a64d9 * 0.5 * _0x2a64d9 + 0.5;
      this._container_rotationArc.style.cssText = "\n      transform: rotate(-" + this._orbitCursorAngle + "rad);\n      opacity: " + this._orbitCursorOpacity;
    }
    _orbitMouseMoveFunction(_0x51ad16) {
      this._updateAngleAndOpacity(this._getVector(_0x51ad16), this._compassRectangle.width);
    }
    _orbitMouseUpFunction() {
      this._unbindDocumentEvent();
      this._map.off(EventType.clockTick, this._orbitTickFunction, this);
      this._container_rotationArc.style.visibility = "hidden";
      this._container_inner.className = this._container_inner.className.replace("compass-inner-active", "");
    }
    _rotate(_0x4bcfd8) {
      const _0x388ced = this._map.scene;
      const _0x48e986 = _0x388ced.camera;
      const _0x490034 = _0x388ced.screenSpaceCameraController;
      if (_0x388ced.mode === Cesium__namespace.SceneMode.MORPHING || _0x388ced.mode === Cesium__namespace.SceneMode.SCENE2D || !_0x490034.enableInputs) {
        return;
      }
      if (!_0x490034.enableLook && (_0x388ced.mode === Cesium__namespace.SceneMode.COLUMBUS_VIEW || _0x388ced.mode === Cesium__namespace.SceneMode.SCENE3D && !_0x490034.enableRotate)) {
        return;
      }
      this._unbindDocumentEvent();
      this._mouseMoveHandle = _0x40f2e6 => {
        this._rotateMouseMoveFunction(_0x40f2e6);
      };
      this._mouseUpHandle = () => {
        this._unbindDocumentEvent();
      };
      this._rotateInitialCursorAngle = Math.atan2(-_0x4bcfd8.y, _0x4bcfd8.x);
      if (this._map.trackedEntity) {
        this._rotateFrame = undefined;
      } else {
        const _0x18ecf0 = this._getCameraFocus(true);
        if (!_0x18ecf0 || _0x388ced.mode === Cesium__namespace.SceneMode.COLUMBUS_VIEW && !_0x490034.enableLook && !_0x490034.enableTranslate) {
          this._rotateFrame = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x48e986.positionWC, _0x388ced.globe.ellipsoid);
        } else {
          this._rotateFrame = Cesium__namespace.Transforms.eastNorthUpToFixedFrame(_0x18ecf0, _0x388ced.globe.ellipsoid);
        }
      }
      let _0x1faabf;
      if (this._rotateFrame) {
        _0x1faabf = Cesium__namespace.Matrix4.clone(_0x48e986.transform);
        _0x48e986.lookAtTransform(this._rotateFrame);
      }
      this._rotateInitialCameraAngle = -_0x48e986.heading;
      if (this._rotateFrame && _0x1faabf) {
        _0x48e986.lookAtTransform(_0x1faabf);
      }
      this._bindDocumentEvent();
    }
    _bindDocumentEvent() {
      if (this._mouseMoveHandle) {
        document.addEventListener("mousemove", this._mouseMoveHandle, false);
        document.addEventListener("touchmove", this._mouseMoveHandle, false);
      }
      if (this._mouseUpHandle) {
        document.addEventListener("mouseup", this._mouseUpHandle, false);
        document.addEventListener("touchend", this._mouseUpHandle, false);
        document.addEventListener("touchcancel", this._mouseUpHandle, false);
      }
    }
    _unbindDocumentEvent() {
      if (this._mouseMoveHandle) {
        document.removeEventListener("mousemove", this._mouseMoveHandle, false);
        document.removeEventListener("touchmove", this._mouseMoveHandle, false);
        this._mouseMoveHandle = undefined;
      }
      if (this._mouseUpHandle) {
        document.removeEventListener("mouseup", this._mouseUpHandle, false);
        document.removeEventListener("touchend", this._mouseUpHandle, false);
        document.removeEventListener("touchcancel", this._mouseUpHandle, false);
        this._mouseUpHandle = undefined;
      }
    }
    _rotateMouseMoveFunction(_0x483681) {
      const _0x57b779 = this._map.camera;
      const _0x4ae170 = this._getVector(_0x483681);
      const _0x37df98 = Math.atan2(-_0x4ae170.y, _0x4ae170.x);
      const _0x5cfaaa = _0x37df98 - this._rotateInitialCursorAngle;
      const _0x4d83c6 = Cesium__namespace.Math.zeroToTwoPi(this._rotateInitialCameraAngle - _0x5cfaaa);
      let _0x2e6631;
      if (this._rotateFrame) {
        _0x2e6631 = Cesium__namespace.Matrix4.clone(_0x57b779.transform);
        _0x57b779.lookAtTransform(this._rotateFrame);
      }
      const _0x485fa5 = -_0x57b779.heading;
      _0x57b779.rotateRight(_0x4d83c6 - _0x485fa5);
      if (this._rotateFrame && _0x2e6631) {
        _0x57b779.lookAtTransform(_0x2e6631);
      }
    }
    _getVector(_0x23dc98) {
      const _0x167aa3 = this._compassRectangle;
      const _0x4b9147 = new Cesium__namespace.Cartesian2((_0x167aa3.right - _0x167aa3.left) / 2, (_0x167aa3.bottom - _0x167aa3.top) / 2);
      let _0x9be4b9 = _0x23dc98.clientX;
      let _0x4c4acd = _0x23dc98.clientY;
      if (_0x23dc98.touches?.length > 0) {
        _0x9be4b9 = _0x23dc98.touches[0].clientX;
        _0x4c4acd = _0x23dc98.touches[0].clientY;
      }
      const _0x4aae30 = new Cesium__namespace.Cartesian2(_0x9be4b9 - _0x167aa3.left, _0x4c4acd - _0x167aa3.top);
      const _0x24c75f = new Cesium__namespace.Cartesian2();
      Cesium__namespace.Cartesian2.subtract(_0x4aae30, _0x4b9147, _0x24c75f);
      return _0x24c75f;
    }
  }
  register$2("compass", Compass);
  class CubeView extends BaseControl {
    flyToView(_0x261e10) {
      let _0x270c78 = this._flyCenter;
      if (!_0x270c78) {
        _0x270c78 = this._map.getCenter();
      }
      if (!_0x270c78) {
        this._map.camera.setView({
          orientation: {
            pitch: Cesium__namespace.Math.toDegrees(_0x261e10.pitch),
            heading: Cesium__namespace.Math.toDegrees(_0x261e10.heading)
          }
        });
        return Promise.resolve(false);
      }
      const _0x59b81b = Cesium__namespace.Cartesian3.distance(_0x270c78.toCartesian(), this._map.camera.positionWC);
      const _0x3d3080 = {
        ..._0x261e10
      };
      _0x3d3080.radius = _0x59b81b;
      return this._map.flyToPoint(_0x270c78, _0x3d3080);
    }
    _mountedHook() {
      if (this.options.flyCenter) {
        this._flyCenter = LngLatPoint.parse(this.options.flyCenter);
      }
      const _0x3d66cf = this.options.text || {};
      this._container = create$4("div", "mars3d-cubeview " + this._className);
      this._container.innerHTML = "\n        <div class=\"mars3d-cubeview-cube\">\n            <div class=\"mars3d-cubeview-side-t\">" + (_0x3d66cf.t || "俯") + "</div>\n            <div class=\"mars3d-cubeview-side-w\">" + (_0x3d66cf.w || "左") + "</div>\n            <div class=\"mars3d-cubeview-side-s\">" + (_0x3d66cf.s || "正") + "</div>\n            <div class=\"mars3d-cubeview-side-e\">" + (_0x3d66cf.e || "右") + "</div>\n            <div class=\"mars3d-cubeview-side-n\">" + (_0x3d66cf.n || "后") + "</div>\n            <div class=\"mars3d-cubeview-side-b\">" + (_0x3d66cf.b || "仰") + "</div>\n          </div>";
      this._defaultPosition = {
        top: "10px",
        right: "10px"
      };
      this.setStyle(this.options.style);
      this._container_cube = this._container.querySelector(".mars3d-cubeview-cube");
      const _0x513581 = this._container.querySelector(".mars3d-cubeview-side-t");
      if (_0x513581) {
        _0x513581.onclick = _0x565d92 => {
          const _0x4963cc = {
            pitch: -90,
            heading: 0
          };
          this.flyToView(_0x4963cc);
          this.fire(EventType.change, {
            viewType: "t"
          });
        };
      }
      const _0x41187d = this._container.querySelector(".mars3d-cubeview-side-b");
      if (_0x41187d) {
        _0x41187d.onclick = _0x313d06 => {
          this.flyToView({
            pitch: 90,
            heading: 0
          });
          this.fire(EventType.change, {
            viewType: "b"
          });
        };
      }
      const _0x3ec24c = -5;
      const _0x32fddf = this._container.querySelector(".mars3d-cubeview-side-s");
      if (_0x32fddf) {
        _0x32fddf.onclick = _0xc1b8ff => {
          const _0x2b5503 = {
            heading: 0,
            pitch: _0x3ec24c
          };
          this.flyToView(_0x2b5503);
          this.fire(EventType.change, {
            viewType: "s"
          });
        };
      }
      const _0x43f66f = this._container.querySelector(".mars3d-cubeview-side-n");
      if (_0x43f66f) {
        _0x43f66f.onclick = _0x2939c5 => {
          const _0x4c0fa4 = {
            heading: 180,
            pitch: _0x3ec24c
          };
          this.flyToView(_0x4c0fa4);
          this.fire(EventType.change, {
            viewType: "n"
          });
        };
      }
      const _0x19dca2 = this._container.querySelector(".mars3d-cubeview-side-w");
      if (_0x19dca2) {
        _0x19dca2.onclick = _0x5a6ef6 => {
          const _0x501a07 = {
            heading: 90,
            pitch: _0x3ec24c
          };
          this.flyToView(_0x501a07);
          this.fire(EventType.change, {
            viewType: "w"
          });
        };
      }
      const _0x38ce19 = this._container.querySelector(".mars3d-cubeview-side-e");
      if (_0x38ce19) {
        _0x38ce19.onclick = _0x514719 => {
          const _0x5f2d8b = {
            heading: 270,
            pitch: _0x3ec24c
          };
          this.flyToView(_0x5f2d8b);
          this.fire(EventType.change, {
            viewType: "e"
          });
        };
      }
    }
    _addedHook() {
      this._map.on(EventType.postRender, this._postRenderHandler, this);
    }
    _removedHook() {
      this._map.off(EventType.postRender, this._postRenderHandler, this);
    }
    _postRenderHandler() {
      const _0x474f12 = this._map.scene.camera;
      this._container_cube.style.transform = "rotateX(" + _0x474f12.pitch + "rad) rotateY(" + _0x474f12.heading + "rad)";
    }
  }
  register$2("cubeView", CubeView);
  new Cesium__namespace.EllipsoidGeodesic();
  const BASE = [1, 2, 3, 5];
  const DIS = [...BASE, ...BASE.map(_0x57df06 => _0x57df06 * 10), ...BASE.map(_0x3584fa => _0x3584fa * 100), ...BASE.map(_0x253f7d => _0x253f7d * 1000), ...BASE.map(_0x256627 => _0x256627 * 10000), ...BASE.map(_0x12d2eb => _0x12d2eb * 100000), ...BASE.map(_0x4596ac => _0x4596ac * 1000000)];
  class DistanceLegend extends BaseControl {
    get distance() {
      return this._currDistance;
    }
    _mountedHook() {
      var _0x54b485;
      this._container = create$4("div", "mars3d-distance-legend " + this._className);
      this._defaultPosition = {
        left: "120px",
        bottom: (_0x54b485 = this._map.control.timeline) !== null && _0x54b485 !== undefined && _0x54b485.show ? "27px" : "2px"
      };
      this.setStyle(this.options.style);
      this._labelEl = create$4("div", "legend-label", this._container);
      this._scaleBarEl = create$4("div", "legend-scale-bar", this._container);
      this._container.style.visibility = "hidden";
      this._lastUpdate = Cesium__namespace.getTimestamp();
    }
    _addedHook() {
      this._map.on(EventType.postRender, this._updateContent, this);
    }
    _removedHook() {
      this._map.off(EventType.postRender, this._updateContent, this);
    }
    _updateContent(_0x220583, _0x175fb2) {
      const _0x43e85c = Cesium__namespace.getTimestamp();
      if (_0x43e85c < this._lastUpdate + 250) {
        return;
      }
      if (!this._labelEl || !this._scaleBarEl) {
        return;
      }
      this._lastUpdate = _0x43e85c;
      const _0x581019 = this._map.getResolution();
      if (!_0x581019) {
        this._container.style.visibility = "hidden";
        return;
      }
      const _0x41573a = 100;
      let _0x544848 = 0;
      for (let _0x579c9f = DIS.length - 1; _0x579c9f >= 0; --_0x579c9f) {
        if (DIS[_0x579c9f] / _0x581019 < _0x41573a) {
          _0x544848 = DIS[_0x579c9f];
          break;
        }
      }
      if (_0x544848) {
        if (this._currDistance !== _0x544848) {
          this._currDistance = _0x544848;
          const _0x4dd033 = {
            distance: _0x544848
          };
          this.fire(EventType.change, _0x4dd033);
        }
        this._container.style.visibility = "visible";
        this._labelEl.innerHTML = _0x544848 >= 1000 ? _0x544848 / 1000 + " km" : _0x544848 + " m";
        const _0xf53a47 = _0x544848 / _0x581019 | 0;
        this._scaleBarEl.style.cssText = "width: " + _0xf53a47 + "px; left: " + (125 - _0xf53a47) / 2 + "px;";
      }
    }
  }
  register$2("distanceLegend", DistanceLegend);
  const icon$2 = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg width=\"10px\" height=\"20px\" viewBox=\"0 0 19 28\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <path d=\"M0.6551724,2.3448276 L0.6551724,25.6551724 C0.6551724,26.6454761 1.4579722,27.4482759 2.4482759,27.4482759 C3.4385796,27.4482759 4.2413793,26.6454761 4.2413793,25.6551724 L4.2413793,2.3448276 C4.2413793,1.3545239 3.4385796,0.5517241 2.4482759,0.5517241 C1.4579722,0.5517241 0.6551724,1.3545239 0.6551724,2.3448276 L0.6551724,2.3448276 Z M7.6551724,2.3448276 L7.6551724,25.6551724 C7.6551724,26.6454761 8.4579722,27.4482759 9.4482759,27.4482759 C10.4385796,27.4482759 11.2413793,26.6454761 11.2413793,25.6551724 L11.2413793,2.3448276 C11.2413793,1.3545239 10.4385796,0.5517241 9.4482759,0.5517241 C8.4579722,0.5517241 7.6551724,1.3545239 7.6551724,2.3448276 L7.6551724,2.3448276 Z M14.6551724,2.3448276 L14.6551724,25.6551724 C14.6551724,26.6454761 15.4579722,27.4482759 16.4482759,27.4482759 C17.4385796,27.4482759 18.2413793,26.6454761 18.2413793,25.6551724 L18.2413793,2.3448276 C18.2413793,1.3545239 17.4385796,0.5517241 16.4482759,0.5517241 C15.4579722,0.5517241 14.6551724,1.3545239 14.6551724,2.3448276 L14.6551724,2.3448276 Z\" id=\"splitter\"></path>\n</svg>\n";
  class MapSplit extends BaseControl {
    get type() {
      return "mapSplit";
    }
    get leftLayer() {
      return this._leftLayer;
    }
    set leftLayer(_0x31469a) {
      if (this._leftLayer) {
        this._leftLayer.forEach(_0x127c48 => {
          if (_0x127c48._hasRemoveByMapSplit) {
            _0x127c48.remove();
          }
        });
        this._leftLayer = null;
      }
      if (_0x31469a) {
        if (!Array.isArray(_0x31469a)) {
          _0x31469a = [_0x31469a];
        }
        this._leftLayer = [];
        _0x31469a.forEach(_0x438d79 => {
          _0x438d79 = this.setLayerSplitDirection(_0x438d79, Cesium__namespace.SplitDirection.LEFT);
          this._leftLayer.push(_0x438d79);
        });
      }
    }
    get rightLayer() {
      return this._rightLayer;
    }
    set rightLayer(_0x39dbe7) {
      if (this._rightLayer) {
        this._rightLayer.forEach(_0x115040 => {
          if (_0x115040._hasRemoveByMapSplit) {
            _0x115040.remove();
          }
        });
        this._rightLayer = null;
      }
      if (_0x39dbe7) {
        if (!Array.isArray(_0x39dbe7)) {
          _0x39dbe7 = [_0x39dbe7];
        }
        this._rightLayer = [];
        _0x39dbe7.forEach(_0x3ae90b => {
          _0x3ae90b = this.setLayerSplitDirection(_0x3ae90b, Cesium__namespace.SplitDirection.RIGHT);
          this._rightLayer.push(_0x3ae90b);
        });
      }
    }
    _mountedHook() {
      this._container = create$4("div", "mars3d-slider " + this._className);
      this.setStyle(this.options.style);
      const _0x11467a = parseDom(icon$2, true, "slider-splitter");
      this._container.appendChild(_0x11467a);
      const _0x4147bc = new Cesium__namespace.ScreenSpaceEventHandler(_0x11467a);
      _0x4147bc.setInputAction(_0x54ede3 => {
        this._moveActive = true;
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_DOWN);
      _0x4147bc.setInputAction(_0x57a697 => {
        this._moveActive = true;
      }, Cesium__namespace.ScreenSpaceEventType.PINCH_START);
      _0x4147bc.setInputAction(_0xd3578 => {
        this._moveHandler(_0xd3578);
      }, Cesium__namespace.ScreenSpaceEventType.MOUSE_MOVE);
      _0x4147bc.setInputAction(_0x258e63 => {
        this._moveHandler(_0x258e63);
      }, Cesium__namespace.ScreenSpaceEventType.PINCH_MOVE);
      _0x4147bc.setInputAction(() => {
        this._moveActive = false;
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_UP);
      _0x4147bc.setInputAction(() => {
        this._moveActive = false;
      }, Cesium__namespace.ScreenSpaceEventType.PINCH_END);
    }
    _showHook(_0x213f0a) {
      if (_0x213f0a) {
        this._addedHook();
      } else {
        this.options.leftLayer = this.leftLayer;
        this.options.rightLayer = this.rightLayer;
        this._removedHook();
      }
    }
    _addedHook() {
      if (!this.enabled) {
        this._container.style.display = "none";
        return;
      }
      this._map.scene.splitPosition = 0.5;
      this._container.style.left = "50%";
      this._moveHandler();
      if (this.options.leftLayer) {
        this.leftLayer = this.options.leftLayer;
      }
      if (this.options.rightLayer) {
        this.rightLayer = this.options.rightLayer;
      }
    }
    _removedHook() {
      this._map.scene.splitPosition = 0;
      this.leftLayer = null;
      this.rightLayer = null;
    }
    _moveHandler(_0x5ec744) {
      if (!this._moveActive || !this.enabled) {
        return;
      }
      let _0x4e047a = 0;
      if (_0x5ec744.position) {
        _0x4e047a = _0x5ec744.position.x;
      }
      if (_0x5ec744.endPosition) {
        _0x4e047a = _0x5ec744.endPosition.x;
      }
      const _0x2b4aeb = (this._container.offsetLeft - 15 + _0x4e047a) / this._container.parentElement.offsetWidth;
      if (_0x2b4aeb < 0 || _0x2b4aeb > 1) {
        return;
      }
      this._container.style.left = _0x2b4aeb * 100 + "%";
      this._map.scene.splitPosition = _0x2b4aeb;
      const _0x314481 = {
        splitPosition: _0x2b4aeb
      };
      this.fire(EventType.mouseMove, _0x314481);
    }
    setLayerSplitDirection(_0x4c9c05, _0x478087) {
      if (!_0x4c9c05.isAdded && this._map) {
        if (_0x4c9c05.type && !_0x4c9c05._onAdd) {
          _0x4c9c05 = create$3(_0x4c9c05);
        }
        this._map.addLayer(_0x4c9c05);
        _0x4c9c05._hasRemoveByMapSplit = true;
      }
      _0x4c9c05.splitDirection = _0x478087;
      _0x4c9c05.readyPromise.then(_0x36cd36 => {
        if (_0x36cd36.toTop) {
          _0x36cd36.toTop();
        }
        if (_0x36cd36.hasChildLayer) {
          for (let _0x2fea97 = 0; _0x2fea97 < _0x36cd36.arrLayer.length; _0x2fea97++) {
            _0x36cd36.arrLayer[_0x2fea97].splitDirection = _0x478087;
          }
        } else {
          _0x36cd36.splitDirection = _0x478087;
        }
      });
      return _0x4c9c05;
    }
  }
  register$2("mapSplit", MapSplit);
  class SceneEvent {
    constructor(_0x222e19) {
      this._map = _0x222e19;
      this._camera = _0x222e19.camera;
      this._scene = _0x222e19.scene;
      this._globe = _0x222e19.scene.globe;
      this._clock = _0x222e19.clock;
    }
    _getEventByType(_0x3b8653) {
      switch (_0x3b8653) {
        case EventType.cameraMoveStart:
          return this._camera.moveStart;
        case EventType.cameraMoveEnd:
          return this._camera.moveEnd;
        case EventType.cameraChanged:
          return this._camera.changed;
        case EventType.preUpdate:
          return this._scene.preUpdate;
        case EventType.postUpdate:
          return this._scene.postUpdate;
        case EventType.preRender:
          return this._scene.preRender;
        case EventType.postRender:
          return this._scene.postRender;
        case EventType.renderError:
          return this._scene.renderError;
        case EventType.morphStart:
          return this._scene.morphStart;
        case EventType.morphComplete:
          return this._scene.morphComplete;
        case EventType.clockTick:
          return this._clock.onTick;
        case EventType.clockStop:
          return this._clock.onStop;
        case EventType.terrainChange:
          return this._globe.terrainProviderChanged;
        case EventType.tileLoadProgress:
          return this._globe.tileLoadProgressEvent;
        default:
          return null;
      }
    }
    hasType(_0x1db408) {
      const _0x2ba2be = this._getEventByType(_0x1db408);
      return Boolean(_0x2ba2be);
    }
    on(_0xb02315, _0x5dd034, _0x235063) {
      if (!_0x5dd034) {
        return;
      }
      if (Array.isArray(_0xb02315)) {
        for (let _0x58f526 = 0, _0x424677 = _0xb02315.length; _0x58f526 < _0x424677; _0x58f526++) {
          this._on(_0xb02315[_0x58f526], _0x5dd034, _0x235063);
        }
      } else {
        _0xb02315 = splitWords(_0xb02315);
        for (let _0x5cfa1e = 0, _0x86aca4 = _0xb02315.length; _0x5cfa1e < _0x86aca4; _0x5cfa1e++) {
          this._on(_0xb02315[_0x5cfa1e], _0x5dd034, _0x235063);
        }
      }
    }
    _on(_0x31a07b, _0x25ccfb, _0x1be2dc) {
      const _0x5be1e8 = this._getEventByType(_0x31a07b);
      if (!_0x5be1e8) {
        return;
      }
      return _0x5be1e8.addEventListener(_0x25ccfb, _0x1be2dc || this);
    }
    off(_0x3d22d5, _0x323690, _0x39df4a) {
      if (!this._map) {
        return;
      }
      if (Array.isArray(_0x3d22d5)) {
        for (let _0x31b27a = 0, _0xef4061 = _0x3d22d5.length; _0x31b27a < _0xef4061; _0x31b27a++) {
          this._off(_0x3d22d5[_0x31b27a], _0x323690, _0x39df4a);
        }
      } else {
        _0x3d22d5 = splitWords(_0x3d22d5);
        for (let _0x5585c3 = 0, _0x5817d4 = _0x3d22d5.length; _0x5585c3 < _0x5817d4; _0x5585c3++) {
          this._off(_0x3d22d5[_0x5585c3], _0x323690, _0x39df4a);
        }
      }
    }
    _off(_0x50b7e7, _0x20c083, _0x3a8356) {
      const _0x2f2420 = this._getEventByType(_0x50b7e7);
      if (!_0x2f2420) {
        return;
      }
      return _0x2f2420.removeEventListener(_0x20c083, _0x3a8356 || this);
    }
    listens(_0x198227) {
      const _0x1cd3d2 = this._getEventByType(_0x198227);
      if (!_0x1cd3d2 || _0x1cd3d2.numberOfListeners === 0) {
        return false;
      }
      for (let _0x572e96 = 0; _0x572e96 < _0x1cd3d2._scopes.length; _0x572e96++) {
        const _0x3ef72c = _0x1cd3d2._scopes[_0x572e96];
        if (_0x3ef72c === this._map) {
          return true;
        }
      }
      return false;
    }
    destroy() {
      for (const _0x95c4d9 in this) {
        delete this[_0x95c4d9];
      }
    }
  }
  class VertexAdsorption {
    constructor(_0x493cea) {
      this._scene = _0x493cea;
      const _0x30514b = {
        scene: _0x493cea
      };
      this._billboardCollection = new Cesium__namespace.BillboardCollection(_0x30514b);
      _0x493cea.primitives.add(this._billboardCollection);
      this._picking = new Cesium__namespace.Picking(_0x493cea);
      this._canvas = document.createElement("canvas");
      this._canvas.width = 128;
      this._canvas.height = 128;
      const _0xf16e52 = this._canvas.getContext("2d");
      _0xf16e52.fillStyle = "red";
      _0xf16e52.fillRect(0, 0, 128, 128);
      _0xf16e52.clearRect(8, 8, 112, 112);
    }
    pick(_0x29e5a2, _0x5773b1, _0x21ff91) {
      this.clear();
      if (this._scene.camera.positionCartographic.height < 1000000 && this._scene.mode === Cesium__namespace.SceneMode.SCENE3D) {
        const _0x5806dd = getRayIntersectingPositions(this._scene, this._picking, _0x29e5a2, _0x5773b1, _0x21ff91);
        if (_0x5806dd) {
          this._billboardCollection.add({
            image: this._canvas,
            position: _0x5806dd,
            disableDepthTestDistance: Number.POSITIVE_INFINITY,
            scale: 0.15
          });
          return _0x5806dd;
        }
      }
    }
    clear() {
      if (this._billboardCollection) {
        this._billboardCollection.removeAll();
      }
    }
    destroy() {
      this._scene.primitives.remove(this._billboardCollection);
      this._picking.destroy();
      Cesium__namespace.destroyObject(this);
    }
  }
  const pickTilesetPassState = new Cesium__namespace.Cesium3DTilePassState({
    pass: Cesium__namespace.Cesium3DTilePass.PICK
  });
  const scratchRectangle = new Cesium__namespace.BoundingRectangle(0, 0, 3, 3);
  const scratchColorZero = new Cesium__namespace.Color(0, 0, 0, 0);
  const scratchPackedDepth = new Cesium__namespace.Cartesian4();
  const packedDepthScale = new Cesium__namespace.Cartesian4(1, 1 / 255, 1 / 65025, 1 / 16581375);
  const scratchPosition$1 = new Cesium__namespace.Cartesian2();
  function changeCommand(_0x3cefa3, _0x2fa4d8, _0x17d661) {
    _0x3cefa3.oldPrimitiveType = _0x3cefa3.primitiveType;
    _0x3cefa3.primitiveType = Cesium__namespace.PrimitiveType.POINTS;
    _0x3cefa3.oldShaderProgram = _0x3cefa3.shaderProgram;
    const _0x23abcc = _0x3cefa3.shaderProgram;
    const _0x48af12 = _0x23abcc.vertexShaderSource.clone();
    if (_0x48af12.sources.some(_0x3c2992 => _0x3c2992.includes("czm_vertexPick_main"))) {
      return true;
    }
    _0x48af12.sources = _0x48af12.sources.map(_0x1a6aee => Cesium__namespace.ShaderSource.replaceMain(_0x1a6aee, "czm_vertexPick_main"));
    const _0x7d3afa = "\n  void main() {\n    czm_vertexPick_main();\n    gl_PointSize = 1.0;\n  }\n  ";
    _0x48af12.sources.push(_0x7d3afa);
    const _0x5a0256 = {};
    const _0x4b36ba = _0x23abcc.vertexAttributes;
    for (const _0x54a330 in _0x4b36ba) {
      if (_0x4b36ba.hasOwnProperty(_0x54a330)) {
        _0x5a0256[_0x54a330] = _0x4b36ba[_0x54a330].index;
      }
    }
    const _0x5ceab7 = {
      context: _0x2fa4d8,
      vertexShaderSource: _0x48af12,
      fragmentShaderSource: _0x23abcc.fragmentShaderSource,
      attributeLocations: _0x5a0256
    };
    _0x3cefa3.shaderProgram = Cesium__namespace.ShaderProgram.fromCache(_0x5ceab7);
    _0x3cefa3.oldRenderState = _0x3cefa3.renderState;
    const _0xe888b8 = Cesium__namespace.RenderState.getState(_0x3cefa3.oldRenderState);
    _0xe888b8.depthTest.enabled = true;
    _0xe888b8.colorMask.red = true;
    _0xe888b8.colorMask.green = true;
    _0xe888b8.colorMask.blue = true;
    _0xe888b8.colorMask.alpha = true;
    _0xe888b8.scissorTest.enabled = true;
    _0xe888b8.scissorTest.rectangle = Cesium__namespace.BoundingRectangle.clone(_0x17d661, _0xe888b8.scissorTest.rectangle);
    _0x3cefa3.renderState = Cesium__namespace.RenderState.fromCache(_0xe888b8);
  }
  function restoreCommand(_0x48a117) {
    if (Cesium__namespace.defined(_0x48a117.oldPrimitiveType)) {
      _0x48a117.primitiveType = _0x48a117.oldPrimitiveType;
      delete _0x48a117.oldPrimitiveType;
    }
    if (Cesium__namespace.defined(_0x48a117.oldShaderProgram)) {
      _0x48a117.shaderProgram = _0x48a117.oldShaderProgram;
      delete _0x48a117.oldShaderProgram;
    }
    if (Cesium__namespace.defined(_0x48a117.oldRenderState)) {
      _0x48a117.renderState = _0x48a117.oldRenderState;
      delete _0x48a117.oldRenderState;
    }
  }
  function getRayIntersectingPositions(_0x3af5dd, _0x3b3df4, _0x380072, _0x50f26d, _0x426af8) {
    const {
      context: _0x551017,
      frameState: _0x1ab451
    } = _0x3af5dd;
    const {
      uniformState: _0x165c5c
    } = _0x551017;
    const _0x5d5e62 = _0x3af5dd.camera;
    const _0x117683 = _0x3b3df4._pickOffscreenView;
    const _0x262fe2 = _0x551017.drawingBufferWidth;
    const _0x411c0e = _0x551017.drawingBufferHeight;
    const _0x46210a = new Cesium__namespace.BoundingRectangle(0, 0, _0x262fe2, _0x411c0e);
    _0x117683.viewport = _0x46210a;
    _0x117683.passState.viewport = _0x46210a;
    _0x3af5dd.view = _0x117683;
    _0x117683.camera = _0x5d5e62;
    const _0x27f906 = Cesium__namespace.SceneTransforms.transformWindowToDrawingBuffer(_0x3af5dd, _0x380072, scratchPosition$1);
    _0x27f906.y = _0x411c0e - _0x27f906.y;
    scratchRectangle.x = _0x27f906.x - (_0x50f26d - 1) * 0.5;
    scratchRectangle.y = _0x27f906.y - (_0x426af8 - 1) * 0.5;
    scratchRectangle.width = _0x50f26d;
    scratchRectangle.height = _0x426af8;
    const _0x3e2d19 = _0x117683.pickFramebuffer.begin(scratchRectangle, _0x117683.viewport);
    const _0x5a4184 = _0x3af5dd.skyBox.show;
    const _0x3e5926 = _0x3af5dd.skyAtmosphere.show;
    const _0x2a4c10 = _0x3af5dd.sun.show;
    const _0x41e60b = _0x3af5dd.moon.show;
    const _0x231e92 = _0x3af5dd.globe.show;
    const _0x2c6369 = _0x3af5dd.globe.depthTestAgainstTerrain;
    const _0x270e0e = _0x3af5dd.logarithmicDepthBuffer;
    _0x3af5dd.skyBox.show = false;
    _0x3af5dd.skyAtmosphere.show = false;
    _0x3af5dd.sun.show = false;
    _0x3af5dd.moon.show = false;
    _0x3af5dd.globe.show = false;
    _0x3af5dd.globe.depthTestAgainstTerrain = true;
    _0x3af5dd.logarithmicDepthBuffer = true;
    const _0x206fb5 = [];
    const _0x42cc90 = _0x3af5dd.debugCommandFilter;
    _0x3af5dd.debugCommandFilter = _0x4d9a88 => {
      if (!Cesium__namespace.defined(_0x4d9a88.owner) || !(_0x4d9a88.owner.primitive instanceof Cesium__namespace.Model) && !(_0x4d9a88.owner instanceof Cesium__namespace.Primitive) && _0x4d9a88.owner.type !== "B3DM" && _0x4d9a88.owner.type !== "GLTF" && _0x4d9a88.owner.type !== "PNTS" && _0x4d9a88.owner.type !== "TILE_GLTF" && _0x4d9a88.owner.type !== "I3DM" && _0x4d9a88.owner.type !== "TILE_GEOJSON") {
        return false;
      }
      if (_0x1ab451.useLogDepth && Cesium__namespace.defined(_0x4d9a88.derivedCommands.logDepth)) {
        _0x4d9a88 = _0x4d9a88.derivedCommands.logDepth.command;
      }
      if (Cesium__namespace.defined(_0x4d9a88.derivedCommands.depth)) {
        changeCommand(_0x4d9a88.derivedCommands.depth.depthOnlyCommand, _0x551017, scratchRectangle);
        return true;
      }
      changeCommand(_0x4d9a88, _0x551017, scratchRectangle);
      _0x206fb5.push(_0x4d9a88);
    };
    _0x3af5dd.jobScheduler.disableThisFrame();
    _0x3af5dd.updateFrameState();
    _0x1ab451.invertClassification = false;
    _0x1ab451.passes.pick = true;
    _0x1ab451.passes.offscreen = true;
    _0x1ab451.passes.depth = true;
    _0x1ab451.tilesetPassState = pickTilesetPassState;
    _0x165c5c.update(_0x1ab451);
    _0x3af5dd.updateEnvironment();
    _0x3af5dd.updateAndExecuteCommands(_0x3e2d19, scratchColorZero);
    _0x3af5dd.resolveFramebuffers(_0x3e2d19);
    let _0x3d2699;
    if (_0x551017.depthTexture) {
      const _0x5e2ed1 = _0x3b3df4.getPickDepth(_0x3af5dd, 0);
      const _0x11b35c = {
        x: scratchRectangle.x,
        y: scratchRectangle.y,
        width: scratchRectangle.width,
        height: scratchRectangle.height,
        framebuffer: _0x5e2ed1._framebuffer._framebuffer
      };
      const _0x1bf061 = _0x551017.readPixels(_0x11b35c);
      let _0x50cf7c = Number.MAX_VALUE;
      for (let _0x1193e9 = 0; _0x1193e9 < _0x426af8; _0x1193e9++) {
        for (let _0x33864b = 0; _0x33864b < _0x50f26d; _0x33864b++) {
          const _0x540644 = (_0x1193e9 * _0x50f26d + _0x33864b) * 4;
          const _0x4067dd = Cesium__namespace.Cartesian4.unpack(_0x1bf061, _0x540644, scratchPackedDepth);
          Cesium__namespace.Cartesian4.divideByScalar(_0x4067dd, 255, _0x4067dd);
          const _0x3ec770 = Cesium__namespace.Cartesian4.dot(_0x4067dd, packedDepthScale);
          if (_0x3ec770 !== 0 && _0x3ec770 !== 1) {
            Cesium__namespace.Cartesian2.fromElements(scratchRectangle.x + _0x33864b, scratchRectangle.y + _0x1193e9, _0x27f906);
            const _0x12f30c = Math.pow(_0x426af8 / 2 - _0x1193e9, 2) + Math.pow(_0x50f26d / 2 - _0x33864b, 2);
            if (_0x50cf7c > _0x12f30c) {
              _0x50cf7c = _0x12f30c;
              _0x3d2699 = Cesium__namespace.SceneTransforms.drawingBufferToWorldCoordinates(_0x3af5dd, _0x27f906, _0x3ec770);
            }
          }
        }
      }
    }
    _0x3af5dd.debugCommandFilter = _0x42cc90;
    for (const _0x3ca5c8 of _0x206fb5) {
      restoreCommand(_0x3ca5c8);
    }
    _0x3af5dd.view = _0x3af5dd.defaultView;
    _0x3af5dd.skyBox.show = _0x5a4184;
    _0x3af5dd.skyAtmosphere.show = _0x3e5926;
    _0x3af5dd.sun.show = _0x2a4c10;
    _0x3af5dd.moon.show = _0x41e60b;
    _0x3af5dd.globe.show = _0x231e92;
    _0x3af5dd.globe.depthTestAgainstTerrain = _0x2c6369;
    _0x3af5dd.logarithmicDepthBuffer = _0x270e0e;
    _0x551017.endFrame();
    return _0x3d2699;
  }
  const DEF_OPTIONS = {
    enabledMoveTarget: true,
    moveDelay: 30,
    pickWidth: 4,
    pickHeight: 4,
    pickLimit: 9
  };
  class MouseEvent {
    constructor(_0x2cfbe0, _0x3e5c53 = {}) {
      _0x3e5c53 = {
        ...DEF_OPTIONS,
        ..._0x3e5c53
      };
      this._map = _0x2cfbe0;
      this._viewer = _0x2cfbe0.viewer;
      this.options = _0x3e5c53;
      this.moveDelay = _0x3e5c53.moveDelay;
      this._enabledMoveTarget = _0x3e5c53.enabledMoveTarget;
      this._selected = undefined;
      this._setInputAction();
    }
    get enabledMoveTarget() {
      return this._enabledMoveTarget;
    }
    set enabledMoveTarget(_0xaea930) {
      this._enabledMoveTarget = _0xaea930;
      this.clearMoveTargetDelay();
    }
    get noPickEntity() {
      return this._noPickEntity;
    }
    set noPickEntity(_0x5e9f4a) {
      this._noPickEntity = _0x5e9f4a;
    }
    setOptions(_0x22873c, _0x31ac07) {
      if (!_0x22873c || Object.keys(_0x22873c).length === 0) {
        return this;
      }
      if (_0x31ac07?.merge ?? true) {
        this.options = merge(this.options, _0x22873c);
      } else {
        this.options = _0x22873c;
      }
      this.moveDelay = this.options.moveDelay;
      this._enabledMoveTarget = this.options.enabledMoveTarget;
      return this;
    }
    clearMoveTargetDelay() {
      if (this._moveDelayTik) {
        clearTimeout(this._moveDelayTik);
        this._moveDelayTik = null;
      }
    }
    _setInputAction() {
      this.handler = new Cesium__namespace.ScreenSpaceEventHandler(this._viewer.canvas);
      this.handler.setInputAction(_0xe30bc4 => {
        this._clickHandler(_0xe30bc4);
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_CLICK);
      this.handler.setInputAction(_0x4b38b8 => {
        const _0x8b3dfa = {
          ..._0x4b38b8
        };
        _0x8b3dfa.ctrlKey = true;
        this._clickHandler(_0x8b3dfa);
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_CLICK, Cesium__namespace.KeyboardEventModifier.CTRL);
      this.handler.setInputAction(_0x37a7f7 => {
        const _0x566b36 = {
          ..._0x37a7f7
        };
        _0x566b36.altKey = true;
        this._clickHandler(_0x566b36);
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_CLICK, Cesium__namespace.KeyboardEventModifier.ALT);
      this.handler.setInputAction(_0xeb3c59 => {
        const _0x2634b8 = {
          ..._0xeb3c59
        };
        _0x2634b8.shiftKey = true;
        this._clickHandler(_0x2634b8);
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_CLICK, Cesium__namespace.KeyboardEventModifier.SHIFT);
      this.handler.setInputAction(_0x4cd467 => {
        this._globeMouseHandler(_0x4cd467, EventType.dblClick);
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);
      this.handler.setInputAction(_0x283bbd => {
        this._globeMouseHandler(_0x283bbd, [EventType.leftDown, EventType.mouseDown]);
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_DOWN);
      this.handler.setInputAction(_0xa52e2a => {
        this._globeMouseHandler(_0xa52e2a, [EventType.leftUp, EventType.mouseUp]);
      }, Cesium__namespace.ScreenSpaceEventType.LEFT_UP);
      this.handler.setInputAction(_0x2a3eca => {
        const _0x1c5048 = _0x2a3eca.endPosition;
        _0x2a3eca.windowPosition = _0x1c5048;
        const _0x31bb8d = this;
        Object.defineProperty(_0x2a3eca, "cartesian", {
          configurable: true,
          get() {
            return this._cartesian || _0x31bb8d.getCurrentMousePosition(_0x1c5048);
          },
          set(_0x4a6c56) {
            this._cartesian = _0x4a6c56;
          }
        });
        _0x2a3eca.cloneProperty = true;
        if (this.enabledMoveTarget) {
          this.clearMoveTargetDelay();
          if (this.moveDelay > 0) {
            this._moveDelayTik = setTimeout(_0x23e196 => {
              this._moveDelayTik = null;
              this._mouseMoveHandler(_0x2a3eca);
            }, this.moveDelay);
          } else {
            this._mouseMoveHandler(_0x2a3eca);
          }
        }
        this._map.fire(EventType.mouseMove, _0x2a3eca);
      }, Cesium__namespace.ScreenSpaceEventType.MOUSE_MOVE);
      this.handler.setInputAction(_0x3fa50f => {
        this._map.fire(EventType.wheel, _0x3fa50f);
      }, Cesium__namespace.ScreenSpaceEventType.WHEEL);
      this.handler.setInputAction(_0x487a8e => {
        this._globeMouseHandler(_0x487a8e, EventType.rightClick);
      }, Cesium__namespace.ScreenSpaceEventType.RIGHT_CLICK);
      this.handler.setInputAction(_0x129432 => {
        this._globeMouseHandler(_0x129432, [EventType.rightDown, EventType.mouseDown]);
      }, Cesium__namespace.ScreenSpaceEventType.RIGHT_DOWN);
      this.handler.setInputAction(_0x5e97b4 => {
        this._globeMouseHandler(_0x5e97b4, [EventType.rightUp, EventType.mouseUp]);
      }, Cesium__namespace.ScreenSpaceEventType.RIGHT_UP);
      this.handler.setInputAction(_0x11fe4b => {
        this._globeMouseHandler(_0x11fe4b, EventType.middleClick);
      }, Cesium__namespace.ScreenSpaceEventType.MIDDLE_CLICK);
      this.handler.setInputAction(_0x3221fe => {
        this._globeMouseHandler(_0x3221fe, [EventType.middleDown, EventType.mouseDown]);
      }, Cesium__namespace.ScreenSpaceEventType.MIDDLE_DOWN);
      this.handler.setInputAction(_0x3a64e8 => {
        this._globeMouseHandler(_0x3a64e8, [EventType.middleUp, EventType.mouseUp]);
      }, Cesium__namespace.ScreenSpaceEventType.MIDDLE_UP);
      this.handler.setInputAction(_0x5927cc => {
        this._globeMouseHandler(_0x5927cc, EventType.pinchStart);
      }, Cesium__namespace.ScreenSpaceEventType.PINCH_START);
      this.handler.setInputAction(_0x271ce9 => {
        this._globeMouseHandler(_0x271ce9, EventType.pinchEnd);
      }, Cesium__namespace.ScreenSpaceEventType.PINCH_END);
      this.handler.setInputAction(_0x35db3f => {
        this._map.fire(EventType.pinchMove, _0x35db3f);
      }, Cesium__namespace.ScreenSpaceEventType.PINCH_MOVE);
      this._map.canvas.addEventListener("keydown", this._onKeyDown.bind(this));
      this._map.canvas.addEventListener("keyup", this._onKeyUp.bind(this));
      this._map.canvas.addEventListener("mouseover", this._onMouseOver.bind(this));
      this._map.canvas.addEventListener("mouseout", this._onMouseOut.bind(this));
    }
    _onMouseOver(_0x1cfe97) {
      const _0x3a94be = {
        mouseEvent: _0x1cfe97
      };
      this._map.fire(EventType.mouseOver, _0x3a94be);
    }
    _onMouseOut(_0x5e222b) {
      const _0x298275 = {
        mouseEvent: _0x5e222b
      };
      this._map.fire(EventType.mouseOut, _0x298275);
    }
    _onKeyDown(_0xee939e) {
      const _0x4b4d88 = {
        mouseEvent: _0xee939e,
        ctrlKey: _0xee939e.ctrlKey,
        altKey: _0xee939e.altKey,
        metaKey: _0xee939e.metaKey,
        shiftKey: _0xee939e.shiftKey,
        code: _0xee939e.code,
        key: _0xee939e.key,
        keyCode: _0xee939e.keyCode
      };
      this._map.fire(EventType.keydown, _0x4b4d88);
    }
    _onKeyUp(_0x45dddd) {
      const _0x2a6c67 = {
        mouseEvent: _0x45dddd,
        ctrlKey: _0x45dddd.ctrlKey,
        altKey: _0x45dddd.altKey,
        metaKey: _0x45dddd.metaKey,
        shiftKey: _0x45dddd.shiftKey,
        code: _0x45dddd.code,
        key: _0x45dddd.key,
        keyCode: _0x45dddd.keyCode
      };
      this._map.fire(EventType.keyup, _0x2a6c67);
    }
    getCurrentMousePosition(_0x112f39, _0x53630c) {
      let _0x53791a;
      const _0x1965e4 = this._map.scene;
      if (_0x1965e4.onlyVertexPosition) {
        if (!_0x1965e4.vertexAdsorption) {
          _0x1965e4.vertexAdsorption = new VertexAdsorption(_0x1965e4);
        }
        _0x53791a = _0x1965e4.vertexAdsorption.pick(_0x112f39, 16, 16);
        if (!_0x53791a) {
          try {
            if (!_0x53630c) {
              _0x53630c = _0x1965e4.pick(_0x112f39, 5, 5);
            }
          } catch (_0x4af5c3) {
            logWarn("getCurrentMousePosition: scene.pick 拾取时异常", _0x4af5c3);
          }
          _0x53791a = this._getPointTargetPosition(_0x53630c);
        }
        if (_0x53791a) {
          return _0x53791a;
        }
      } else if (_0x1965e4.vertexAdsorption) {
        _0x1965e4.vertexAdsorption.clear();
      }
      try {
        if (!_0x53630c) {
          _0x53630c = _0x1965e4.pick(_0x112f39, 5, 5);
        }
      } catch (_0x49580a) {
        logWarn("getCurrentMousePosition: scene.pick 拾取时异常", _0x49580a);
      }
      if (_0x1965e4.pickPositionSupported && !_0x1965e4.onlyPickTerrainPosition && Cesium__namespace.defined(_0x53630c)) {
        const _0x132cca = this.hasPickedModel(_0x53630c);
        if (_0x132cca) {
          if (_0x132cca.show) {
            _0x132cca.show = false;
            _0x1965e4.requestRender();
            _0x53791a = this.getCurrentMousePosition(_0x112f39);
            _0x132cca.show = true;
            if (_0x53791a) {
              return _0x53791a;
            } else {
              _0x53791a = this._getTargetMousePosition(_0x1965e4, _0x112f39, _0x53630c);
              if (Cesium__namespace.defined(_0x53791a)) {
                return _0x53791a;
              }
            }
          }
          if (!_0x1965e4.globe.show) {
            _0x53791a = this._getTargetMousePosition(_0x1965e4, _0x112f39, _0x53630c);
            if (Cesium__namespace.defined(_0x53791a)) {
              return _0x53791a;
            }
          }
        } else {
          _0x53791a = this._getTargetMousePosition(_0x1965e4, _0x112f39, _0x53630c);
          if (Cesium__namespace.defined(_0x53791a)) {
            return _0x53791a;
          }
        }
      }
      if (!_0x1965e4.onlyPickTerrainPosition && _0x1965e4.onlyPickModelPosition) {
        return _0x53791a;
      }
      const _0x5306d8 = _0x1965e4.camera.getPickRay(_0x112f39);
      _0x53791a = _0x1965e4.globe.pick(_0x5306d8, _0x1965e4);
      if (!_0x53791a) {
        _0x53791a = _0x1965e4.camera.pickEllipsoid(_0x112f39, _0x1965e4.globe.ellipsoid);
      }
      if (Cesium__namespace.defined(_0x53791a) && _0x1965e4.camera.positionCartographic.height < 10000) {
        const _0x116405 = Cesium__namespace.Cartographic.fromCartesian(_0x53791a);
        if (_0x116405.height < -5000) {
          return null;
        }
      }
      return _0x53791a;
    }
    _getPointTargetPosition(_0x1e673b) {
      var _0x3cffb2;
      if (!Cesium__namespace.defined(_0x1e673b)) {
        return;
      }
      if (Cesium__namespace.defined(_0x1e673b.id) && _0x1e673b.id instanceof Cesium__namespace.Entity) {
        const _0x143a17 = _0x1e673b.id;
        if ((_0x143a17.billboard || _0x143a17.point || _0x143a17.label) && !_0x143a17.ellipse && !_0x143a17.model && !_0x143a17.ellipsoid) {
          return getPositionValue(_0x143a17.position);
        }
      } else if (_0x1e673b instanceof Cesium__namespace.Cesium3DTileFeature) {
        return undefined;
      } else if (_0x1e673b.content && _0x1e673b.content instanceof (Cesium__namespace.PointCloud3DTileContent || Cesium__namespace.PointCloud)) {
        return undefined;
      } else if ((_0x3cffb2 = _0x1e673b.content) !== null && _0x3cffb2 !== undefined && (_0x3cffb2 = _0x3cffb2.tile) !== null && _0x3cffb2 !== undefined && _0x3cffb2.i3sNode) {
        return undefined;
      } else if (Cesium__namespace.defined(_0x1e673b.primitive)) {
        const _0x269305 = _0x1e673b.primitive;
        if (_0x269305 instanceof Cesium__namespace.Label || _0x269305 instanceof Cesium__namespace.PointPrimitive || _0x269305 instanceof Cesium__namespace.Billboard) {
          return getPositionValue(_0x269305.position);
        }
      }
    }
    hasPickedModel(_0x5b0c4c) {
      const _0x3d8704 = this.noPickEntity;
      if (Cesium__namespace.defined(_0x5b0c4c.id)) {
        const _0x58f3af = _0x5b0c4c.id;
        if (_0x58f3af._noMousePick) {
          return _0x58f3af;
        }
        if (_0x3d8704 && _0x58f3af === _0x3d8704) {
          return _0x58f3af;
        }
      }
      if (Cesium__namespace.defined(_0x5b0c4c.primitive)) {
        const _0x1958d3 = _0x5b0c4c.primitive;
        if (_0x1958d3._noMousePick) {
          return _0x1958d3;
        }
        if (_0x3d8704 && _0x1958d3 === _0x3d8704) {
          return _0x1958d3;
        }
      }
      if (Cesium__namespace.defined(_0x5b0c4c.tileset)) {
        const _0x5f601a = _0x5b0c4c.tileset;
        if (_0x5f601a._noMousePick) {
          return _0x5f601a;
        }
        if (_0x3d8704 && _0x5f601a === _0x3d8704) {
          return _0x5f601a;
        }
      }
      return null;
    }
    _getTargetMousePosition(_0x271f98, _0x39e0dd, _0x19ba7f) {
      const _0xd99ae3 = _0x271f98.pickPosition(_0x39e0dd);
      if (Cesium__namespace.defined(_0xd99ae3)) {
        if (_0x271f98.screenSpaceCameraController.enableCollisionDetection) {
          const _0x342e61 = Cesium__namespace.Cartographic.fromCartesian(_0xd99ae3);
          if (_0x342e61.height >= 0) {
            return _0xd99ae3;
          }
          if (!Cesium__namespace.defined(_0x19ba7f?.id) && _0x342e61.height >= -5000) {
            return _0xd99ae3;
          }
        } else {
          return _0xd99ae3;
        }
      }
      return undefined;
    }
    getPickTarget(_0xe1cd98, _0x549dd1, _0x2b0540) {
      if (_0x549dd1 !== null && _0x549dd1 !== undefined && _0x549dd1.graphic) {
        return _0x549dd1;
      }
      let _0x517dea;
      let _0x5f5a7d;
      try {
        _0x517dea = this._viewer.scene.pick(_0xe1cd98, this.options.pickWidth, this.options.pickHeight);
        if (_0x2b0540 && _0x517dea?.primitive instanceof Cesium__namespace.GroundPrimitive) {
          _0x5f5a7d = this._viewer.scene.drillPick(_0xe1cd98, this.options.pickLimit, this.options.pickWidth, this.options.pickHeight);
          for (let _0x16b136 = _0x5f5a7d.length - 1; _0x16b136 >= 0; _0x16b136--) {
            const _0x1df1b6 = _0x5f5a7d[_0x16b136];
            if (!_0x1df1b6.id) {
              continue;
            }
            _0x517dea = _0x1df1b6;
          }
        }
      } catch (_0x38159d) {}
      let _0x4c8352 = this._getTargetInfo(_0x517dea, _0xe1cd98);
      if (_0x517dea && this._allowDrillPick(_0x4c8352)) {
        _0x5f5a7d = _0x5f5a7d || this._viewer.scene.drillPick(_0xe1cd98, this.options.pickLimit, this.options.pickWidth, this.options.pickHeight);
        const _0x45d083 = [];
        if (_0x5f5a7d && _0x5f5a7d.length > 0) {
          for (let _0xc9e5c6 = 0, _0x4664f7 = _0x5f5a7d.length; _0xc9e5c6 < _0x4664f7; _0xc9e5c6++) {
            const _0x39ddbd = _0x5f5a7d[_0xc9e5c6];
            if (_0x517dea === _0x39ddbd) {
              _0x45d083.push(_0x4c8352?.graphic);
              continue;
            }
            const _0x1086b4 = this._getTargetInfo(_0x39ddbd, _0xe1cd98);
            _0x45d083.push(_0x1086b4?.graphic);
            if (this._allowDrillPick(_0x1086b4) && _0xc9e5c6 !== _0x4664f7 - 1) {
              continue;
            } else {
              _0x4c8352 = _0x1086b4;
              _0x4c8352.pickedObjects = _0x5f5a7d;
              _0x4c8352.graphics = _0x45d083;
              break;
            }
          }
        }
      }
      let _0x5f0f9c = _0x549dd1?.cartesian;
      if (!_0x5f0f9c) {
        _0x5f0f9c = this.getCurrentMousePosition(_0xe1cd98, _0x517dea);
      }
      const _0x5d9b25 = {
        ..._0x549dd1,
        ..._0x4c8352
      };
      _0x5d9b25.cartesian = _0x5f0f9c;
      _0x5d9b25.windowPosition = _0xe1cd98;
      const _0x239737 = _0x5d9b25;
      return _0x239737;
    }
    _allowDrillPick(_0x2c17e4) {
      let _0x519b64 = _0x2c17e4.graphic?.allowDrillPick;
      if (_0x519b64) {
        if (isFunction(_0x519b64)) {
          return _0x519b64(_0x2c17e4);
        } else {
          return true;
        }
      }
      _0x519b64 = _0x2c17e4.layer?.allowDrillPick;
      if (_0x519b64) {
        if (isFunction(_0x519b64)) {
          return _0x519b64(_0x2c17e4);
        } else {
          return true;
        }
      }
      return false;
    }
    _getTargetInfo(_0x2a2b17, _0x21ea23) {
      var _0x387ac5;
      if (!Cesium__namespace.defined(_0x2a2b17)) {
        return {};
      }
      const _0x1b6399 = _0x21ea23.x.toFixed(1) + "_" + _0x21ea23.y.toFixed(1);
      if (this._lastPickTarget && _0x21ea23 && this._lastPickTarget.key === _0x1b6399) {
        return this._lastPickTarget;
      }
      let _0x604436;
      let _0x5e96aa;
      let _0x5bc931;
      let _0x17b2e7;
      if (Cesium__namespace.defined(_0x2a2b17.id) && _0x2a2b17.id instanceof Cesium__namespace.Entity) {
        _0x604436 = _0x2a2b17.id;
        _0x17b2e7 = _0x604436.id;
      } else if (_0x2a2b17 instanceof Cesium__namespace.Cesium3DTileFeature) {
        _0x604436 = _0x2a2b17;
        _0x17b2e7 = "3dtile_feature_" + _0x2a2b17._batchId;
        const _0xe0617f = _0x2a2b17.tileset;
        _0x5e96aa = this._map.getLayerById(_0xe0617f._mars3d_layerId);
        _0x5bc931 = {
          attr: get3DTileFeatureAttr(_0x2a2b17),
          feature: _0x2a2b17
        };
      } else if (_0x2a2b17.content && _0x2a2b17.content instanceof (Cesium__namespace.PointCloud3DTileContent || Cesium__namespace.PointCloud)) {
        var _0x494967;
        _0x604436 = _0x2a2b17.content;
        _0x17b2e7 = "3dtile_pnts_" + ((_0x494967 = _0x2a2b17.content) === null || _0x494967 === undefined || (_0x494967 = _0x494967._pickId) === null || _0x494967 === undefined ? undefined : _0x494967.key) || 0;
        const _0x5e58b5 = _0x2a2b17.primitive;
        _0x5e96aa = this._map.getLayerById(_0x5e58b5._mars3d_layerId);
        if (_0x2a2b17.batchTable) ;
      } else if ((_0x387ac5 = _0x2a2b17.content) !== null && _0x387ac5 !== undefined && (_0x387ac5 = _0x387ac5.tile) !== null && _0x387ac5 !== undefined && _0x387ac5.i3sNode) {
        const _0x780cb1 = _0x2a2b17.content.tile.i3sNode;
        const _0x55c6da = this._viewer.scene.pickPosition(_0x21ea23);
        if (_0x55c6da) {
          _0x5bc931 = {
            attr: _0x780cb1.loadFields().then(function () {
              return _0x780cb1.getFieldsForPickedPosition(_0x55c6da);
            }),
            feature: _0x780cb1
          };
        }
        _0x604436 = _0x780cb1;
        _0x17b2e7 = "i3s_" + _0x780cb1._nodeIndex || 0;
        _0x5e96aa = this._map.getLayerById(_0x780cb1._dataProvider._mars3d_layerId);
      } else if (Cesium__namespace.defined(_0x2a2b17.primitive)) {
        _0x604436 = _0x2a2b17.primitive;
        _0x17b2e7 = _0x2a2b17.id;
      } else {
        logInfo("getPickTarget:拾取到了对象，请确认是否要做处理", _0x2a2b17);
      }
      if (_0x604436) {
        _0x5e96aa = _0x5e96aa || this._map.getLayerById(_0x604436._mars3d_layerId);
        if (_0x5e96aa && _0x5e96aa.getGraphicById) {
          _0x5bc931 = _0x5bc931 || _0x5e96aa.getGraphicById(_0x604436._mars3d_graphicId);
          if (_0x5bc931) {
            _0x17b2e7 = _0x5bc931.id;
            if (_0x5bc931.getPickedObject) {
              const _0x58c1bd = _0x2a2b17.id || _0x2a2b17.instanceId;
              if (_0x58c1bd) {
                _0x17b2e7 = _0x58c1bd;
                _0x2a2b17.data = _0x5bc931.getPickedObject(_0x58c1bd);
                _0x5bc931.attr = _0x2a2b17.data?.attr;
              }
            }
          } else {
            var _0xcf5a43;
            if ((_0xcf5a43 = _0x604436) !== null && _0xcf5a43 !== undefined && _0xcf5a43._clusterData) {
              _0x17b2e7 = _0x604436.id;
              _0x5bc931 = _0x604436._clusterData;
            }
          }
        }
      }
      const _0x43be30 = {
        id: _0x17b2e7,
        pickedObject: _0x2a2b17,
        sourceTarget: _0x604436,
        czmObject: _0x604436,
        layer: _0x5e96aa,
        graphic: _0x5bc931,
        hasClickEvent: function () {
          if (this.graphic) {
            if (isFunction(this.graphic.listens) && this.graphic.listens(EventType.click)) {
              return true;
            }
            if (isFunction(this.graphic.hasPopup) && _0x5bc931.hasPopup()) {
              return true;
            }
          }
          if (this.layer) {
            var _0x663933;
            if (isFunction(this.layer.listens) && this.layer.listens(EventType.click)) {
              return true;
            }
            if (isFunction(this.layer.hasPopup) && (_0x663933 = _0x5e96aa) !== null && _0x663933 !== undefined && _0x663933.hasPopup()) {
              return true;
            }
          }
          return false;
        }
      };
      this._lastPickTarget = _0x43be30;
      return _0x43be30;
    }
    getPicked(_0x34035e) {
      if (!_0x34035e || !_0x34035e.pickedObject) {
        return undefined;
      }
      const _0x211d0c = _0x34035e.pickedObject;
      const _0x570fd4 = _0x34035e.czmObject;
      if (_0x570fd4 instanceof Cesium__namespace.Entity) {
        const _0x4e0da1 = _0x211d0c.primitive._pickIds;
        if (_0x4e0da1?.length > 0) {
          const _0x21579c = _0x4e0da1.find(_0x2c6223 => {
            return _0x2c6223.object === _0x211d0c;
          });
          return _0x21579c;
        }
      } else if (_0x570fd4 instanceof Cesium__namespace.Cesium3DTileFeature) {
        if (_0x211d0c.pickId) {
          return _0x211d0c.pickId;
        }
      } else if (_0x211d0c.content && _0x211d0c.content instanceof (Cesium__namespace.PointCloud3DTileContent || Cesium__namespace.PointCloud)) {
        return _0x211d0c.content?._pickId;
      } else {
        var _0x58750b;
        if (_0x211d0c.primitive.pickId) {
          return _0x211d0c.primitive.pickId;
        }
        if (_0x211d0c.primitive._pickIds) {
          return _0x211d0c.primitive._pickIds;
        }
        if ((_0x58750b = _0x211d0c.content) !== null && _0x58750b !== undefined && (_0x58750b = _0x58750b._model) !== null && _0x58750b !== undefined && _0x58750b._pickIds) {
          var _0x3e0ca4;
          if ((_0x3e0ca4 = _0x211d0c.content) === null || _0x3e0ca4 === undefined || (_0x3e0ca4 = _0x3e0ca4._model) === null || _0x3e0ca4 === undefined) {
            return undefined;
          } else {
            return _0x3e0ca4._pickIds;
          }
        }
      }
      return undefined;
    }
    pickImageryLayerFeatures(_0x135b98, _0x23703f) {
      const _0x360431 = LngLatPoint.toCartesian(_0x135b98);
      const _0xd5659 = toWindowCoordinates$1(this._viewer.scene, _0x360431);
      if (_0x23703f) {
        const _0xd771c8 = {
          cartesian: _0x360431
        };
        return this._pickImageryLayerFeaturesForClamp(_0xd5659, _0xd771c8);
      } else {
        const _0x244fce = {
          cartesian: _0x360431
        };
        return this._pickImageryLayerFeatures(_0xd5659, _0x244fce);
      }
    }
    _pickImageryLayerFeatures(_0x427106, _0x3f231b) {
      const _0x496b77 = this._viewer.scene;
      const _0x5086f8 = _0x496b77.camera.getPickRay(_0x427106);
      const _0x183288 = _0x496b77.imageryLayers.pickImageryLayerFeatures(_0x5086f8, _0x496b77, true);
      if (_0x183288 && _0x183288.then) {
        return _0x183288.then(_0x36f3e1 => {
          return this._clickTileGraphic(_0x36f3e1, _0x427106, _0x3f231b?.cartesian);
        });
      } else {
        return Promise.resolve();
      }
    }
    _pickImageryLayerFeaturesForClamp(_0x45dab7, _0x53a36c) {
      const _0x50ae1c = this._viewer.scene;
      if (this._map._quadtreePrimitive) {
        const _0x5c16c6 = this._map._quadtreePrimitive.pickFeatures(_0x50ae1c, _0x45dab7);
        if (_0x5c16c6 && _0x5c16c6.then) {
          return _0x5c16c6.then(_0x1f1b86 => {
            return this._clickTileGraphic(_0x1f1b86, _0x45dab7, _0x53a36c?.cartesian);
          });
        }
      }
      return Promise.resolve();
    }
    _clickTileGraphic(_0xcdb4f3, _0x2d88a4, _0x2d96d6) {
      var _0x679ae4;
      var _0x537794;
      if (!Cesium__namespace.defined(_0xcdb4f3) || _0xcdb4f3.length === 0) {
        return;
      }
      for (let _0x1687d3 = _0xcdb4f3.length - 1; _0x1687d3 >= 0; _0x1687d3--) {
        const _0x1701f2 = _0xcdb4f3[_0x1687d3];
        const _0x2d030e = _0x1701f2.imageryLayer.splitDirection;
        if (_0x2d030e !== Cesium__namespace.SplitDirection.NONE) {
          const _0x16b0b0 = this._map.scene.splitPosition * this._map.scene.canvas.clientWidth;
          if (_0x2d030e === Cesium__namespace.SplitDirection.LEFT && _0x2d88a4.x > _0x16b0b0 || _0x2d030e === Cesium__namespace.SplitDirection.RIGHT && _0x2d88a4.x < _0x16b0b0) {
            _0xcdb4f3.splice(_0x1687d3, 1);
          }
        }
      }
      if (_0xcdb4f3.length === 0) {
        return;
      }
      let _0x2fea0d = _0xcdb4f3[0];
      const _0x309343 = _0x2fea0d.imageryLayer;
      const _0x515860 = this._map.getLayerById(_0x309343._mars3d_layerId);
      if (_0x515860 && (_0x679ae4 = _0x515860.options) !== null && _0x679ae4 !== undefined && _0x679ae4.featureIndex) {
        const _0x3db4cd = _0x515860.options.featureIndex;
        if (_0x515860.options?.featureIndex === "end") {
          _0x2fea0d = _0xcdb4f3[_0xcdb4f3.length - 1];
        } else if (isNumber(_0x3db4cd)) {
          _0x2fea0d = _0xcdb4f3[_0x3db4cd] || _0x2fea0d;
        } else if (isFunction(_0x3db4cd)) {
          _0x2fea0d = _0x3db4cd(_0xcdb4f3) || _0x2fea0d;
        }
      }
      const _0x451776 = {
        sourceTarget: _0x309343,
        layer: _0x515860,
        features: _0xcdb4f3,
        attr: _0x2fea0d.properties || _0x2fea0d.data?.properties,
        cartesian: _0x2d96d6,
        windowPosition: _0x2d88a4
      };
      const _0xa288e6 = _0x451776;
      if (_0x2fea0d.data && _0x515860 && (_0x515860._highlightOptions || (_0x537794 = _0x515860.options) !== null && _0x537794 !== undefined && _0x537794.highlight || _0x515860.listens(EventType.click))) {
        if (_0x515860.options.featureToGraphic) {
          const _0x49c4b9 = _0x515860.options.featureToGraphic(_0x2fea0d, _0xa288e6);
          if (_0x49c4b9) {
            var _0x4e080f;
            if (Array.isArray(_0x49c4b9)) {
              _0xa288e6.graphic = _0x49c4b9.length > 0 ? _0x49c4b9[0] : null;
              _0xa288e6.graphics = _0x49c4b9;
            } else {
              _0xa288e6.graphic = _0x49c4b9;
              _0xa288e6.graphics = [_0x49c4b9];
            }
            if ((_0x4e080f = _0xa288e6.graphic) !== null && _0x4e080f !== undefined && _0x4e080f.attr) {
              _0xa288e6.attr = _0xa288e6.graphic.attr;
            }
          }
        } else {
          const _0x1898e4 = _0x515860.options.hasToGraphic ?? 5000;
          let _0x43903d = true;
          if (isBoolean(_0x1898e4)) {
            _0x43903d = _0x1898e4;
          } else if (isNumber(_0x1898e4)) {
            const _0x1d5a7a = JSON.stringify(_0x2fea0d.data?.geometry || {}).length;
            _0x43903d = _0x1d5a7a < _0x1898e4;
          } else if (isFunction(_0x1898e4)) {
            _0x43903d = _0x1898e4(_0x2fea0d);
          }
          if (_0x43903d) {
            var _0x4f339c;
            const _0x1bb0b9 = _0x515860._highlightOptions || (_0x515860 === null || _0x515860 === undefined || (_0x4f339c = _0x515860.options) === null || _0x4f339c === undefined ? undefined : _0x4f339c.highlight);
            const _0x587da7 = geoJsonToGraphics(_0x2fea0d.data, {
              type: _0x1bb0b9?.type,
              crs: _0x1bb0b9?.crs || _0x2fea0d.crs || _0x515860?.crs,
              style: _0x1bb0b9
            });
            _0xa288e6.graphic = _0x587da7.length > 0 ? _0x587da7[0] : null;
            _0xa288e6.graphics = _0x587da7;
          } else {
            logInfo("_clickTileGraphic: 当前数据太大，避免卡顿未进行解析，如需展示矢量对象，请在图层配置加 hasToGraphic:true 参数 ", _0x515860?.options, _0x2fea0d.data?.geometry);
          }
        }
      }
      if (_0x515860) {
        _0x515860.fire(EventType.click, _0xa288e6, false);
      }
      this._map.fire(EventType.clickTileGraphic, _0xa288e6);
      return _0xa288e6;
    }
    _clickHandler(_0x2e0db1) {
      if (!_0x2e0db1 || !_0x2e0db1.position) {
        return false;
      }
      const _0x528336 = _0x2e0db1.position;
      const _0x4ed7b9 = this.getPickTarget(_0x528336, _0x2e0db1, true);
      if (!this._map.isHighlighting(_0x4ed7b9.graphic || _0x4ed7b9.layer)) {
        this._map.closeHighlight();
      }
      if (_0x4ed7b9.sourceTarget) {
        var _0x47b131;
        this.fireTargetEvent(EventType.click, _0x4ed7b9);
        this._map.fire(EventType.clickGraphic, _0x4ed7b9);
        if ((_0x47b131 = _0x4ed7b9.layer) !== null && _0x47b131 !== undefined && _0x47b131.allowDrillPick) {
          this._pickImageryLayerFeatures(_0x528336, _0x4ed7b9);
        }
        this._pickImageryLayerFeaturesForClamp(_0x528336, _0x4ed7b9);
      } else {
        this._map.fire(EventType.click, _0x4ed7b9);
        this._map.fire(EventType.clickMap, _0x4ed7b9);
        this._pickImageryLayerFeatures(_0x528336, _0x4ed7b9);
        this._pickImageryLayerFeaturesForClamp(_0x528336, _0x4ed7b9);
      }
    }
    _mouseMoveHandler(_0x5eb530) {
      if (!_0x5eb530 || !_0x5eb530.endPosition || !this._map.scene) {
        return false;
      }
      const _0x386c6a = _0x5eb530.endPosition;
      const _0x2297c8 = this.getPickTarget(_0x386c6a, _0x5eb530, true);
      const _0x27817a = _0x2297c8.sourceTarget;
      if (_0x27817a && !_0x27817a.noMouseMove) {
        this.activateMouseOver(_0x2297c8);
      } else {
        this.activateMouseOut();
      }
      const _0xc9988c = {
        czmObject: _0x27817a,
        ..._0x5eb530,
        ..._0x2297c8
      };
      this._map.fire(EventType.mouseMoveTarget, _0xc9988c);
    }
    activateMouseOver(_0x55505c) {
      if (this._lastMouseOverItem && _0x55505c.id && _0x55505c.id === this._lastMouseOverItem.id) {
        return;
      }
      this.activateMouseOut();
      if (_0x55505c.hasClickEvent && _0x55505c.hasClickEvent()) {
        var _0x39103e;
        let _0x58a774 = "pointer";
        if ((_0x39103e = _0x55505c.graphic) !== null && _0x39103e !== undefined && (_0x39103e = _0x39103e.style) !== null && _0x39103e !== undefined && _0x39103e.cursorCSS) {
          _0x58a774 = _0x55505c.graphic.style.cursorCSS;
        }
        this._map.container.style.cursor = _0x58a774;
      }
      this.fireTargetEvent(EventType.mouseOver, _0x55505c);
      this._lastMouseOverItem = _0x55505c;
    }
    activateMouseOut() {
      if (this._lastMouseOverItem == null) {
        return;
      }
      this._map._setEditCursor(false);
      this.fireTargetEvent(EventType.mouseOut, this._lastMouseOverItem);
      this._lastMouseOverItem = null;
    }
    _globeMouseHandler(_0x35e250, _0x51ae2c) {
      if (!_0x35e250 || !_0x35e250.position) {
        return false;
      }
      const _0x5ac243 = _0x35e250.position;
      const _0x32ef9b = this.getPickTarget(_0x5ac243, _0x35e250);
      if (Array.isArray(_0x51ae2c)) {
        _0x51ae2c.forEach(_0x3c0dc7 => {
          if (_0x32ef9b.sourceTarget) {
            this.fireTargetEvent(_0x3c0dc7, _0x32ef9b);
          } else {
            this._map.fire(_0x3c0dc7, _0x32ef9b);
          }
        });
      } else if (_0x32ef9b.sourceTarget) {
        this.fireTargetEvent(_0x51ae2c, _0x32ef9b);
      } else {
        this._map.fire(_0x51ae2c, _0x32ef9b);
      }
    }
    fireTargetEvent(_0x52a4d3, _0x50267c) {
      var _0x30e911;
      var _0x1e6af5;
      var _0x4a2738;
      const _0x335226 = _0x50267c.sourceTarget[_0x52a4d3];
      if (_0x335226 && typeof _0x335226 === "function") {
        _0x335226(_0x50267c);
      }
      if ((_0x30e911 = _0x50267c.czmObject.eventTarget) !== null && _0x30e911 !== undefined) {
        _0x30e911.fire(_0x52a4d3, _0x50267c);
      }
      if ((_0x1e6af5 = _0x50267c.graphic) !== null && _0x1e6af5 !== undefined && _0x1e6af5.fire) {
        _0x50267c.graphic.fire(_0x52a4d3, _0x50267c, true);
      } else if ((_0x4a2738 = _0x50267c.layer) !== null && _0x4a2738 !== undefined && _0x4a2738.fire) {
        _0x50267c.layer.fire(_0x52a4d3, _0x50267c, true);
      } else {
        this._map.fire(_0x52a4d3, _0x50267c);
      }
    }
    destroy() {
      if (!this._graphicLayer) {
        this._map.removeLayer(this._graphicLayer, true);
        delete this._graphicLayer;
      }
      this.handler.destroy();
      delete this.handler;
      this._map.canvas.removeEventListener("keydown", this._onKeyDown);
      this._map.canvas.removeEventListener("keyup", this._onKeyUp);
    }
  }
  new Cesium__namespace.Cartographic();
  const rayScratch = new Cesium__namespace.Ray();
  const cartesian3Scratch = new Cesium__namespace.Cartesian3();
  class ZoomNavigation {
    constructor(_0x26bc2f) {
      this.viewer = _0x26bc2f;
    }
    zoomIn(_0x1cbd82 = 2, _0x4cdacd) {
      _0x1cbd82 = 1 / _0x1cbd82;
      return this.zoom(_0x1cbd82, _0x4cdacd);
    }
    zoomOut(_0x35bbff = 2, _0x4f0a7c) {
      return this.zoom(_0x35bbff, _0x4f0a7c);
    }
    zoom(_0x575650, _0x271183) {
      const _0x96a17a = this.viewer.scene;
      const _0x80f354 = _0x96a17a.screenSpaceCameraController;
      if (!_0x271183 && (!_0x80f354.enableInputs || !_0x80f354.enableZoom)) {
        return false;
      }
      const _0x498d8d = _0x96a17a.camera;
      let _0xa8c679;
      switch (_0x96a17a.mode) {
        case Cesium__namespace.SceneMode.COLUMBUS_VIEW:
        case Cesium__namespace.SceneMode.MORPHING:
        case Cesium__namespace.SceneMode.SCENE2D:
          {
            const _0x38ead2 = _0x498d8d.positionCartographic.height * (1 - _0x575650);
            _0x498d8d.zoomIn(_0x38ead2);
            const _0x51de75 = _0x80f354.minimumZoomDistance;
            const _0x4cee96 = _0x80f354.maximumZoomDistance;
            const _0x124081 = _0x498d8d.positionCartographic.height;
            if (_0x124081 < _0x51de75) {
              _0x498d8d.zoomOut(_0x38ead2);
              return false;
            }
            if (_0x124081 < _0x80f354._minimumCollisionTerrainHeight) {
              const _0x386fb7 = _0x80f354._scene.globeHeight;
              if (Cesium__namespace.defined(_0x386fb7) && _0x124081 <= _0x386fb7 + _0x51de75) {
                _0x498d8d.zoomOut(_0x38ead2);
                return false;
              }
            }
            if (_0x4cee96 && _0x124081 > _0x4cee96) {
              _0x498d8d.zoomOut(_0x38ead2);
              return false;
            }
            return true;
          }
        default:
          {
            let _0x39847f;
            if (Cesium__namespace.defined(this.viewer.trackedEntity)) {
              _0x39847f = new Cesium__namespace.Cartesian3();
            } else {
              rayScratch.origin = _0x498d8d.positionWC;
              rayScratch.direction = _0x498d8d.directionWC;
              _0x39847f = _0x96a17a.globe.pick(rayScratch, _0x96a17a, new Cesium__namespace.Cartesian3());
              if (Cesium__namespace.defined(_0x39847f)) {
                _0x39847f = _0x498d8d.worldToCameraCoordinatesPoint(_0x39847f, _0x39847f);
              }
            }
            if (!Cesium__namespace.defined(_0x39847f)) {
              const _0x18ab08 = new Cesium__namespace.Ray(_0x498d8d.worldToCameraCoordinatesPoint(_0x96a17a.globe.ellipsoid.cartographicToCartesian(_0x498d8d.positionCartographic)), _0x498d8d.directionWC);
              _0x39847f = Cesium__namespace.IntersectionTests.grazingAltitudeLocation(_0x18ab08, _0x96a17a.globe.ellipsoid);
              if (!Cesium__namespace.defined(_0x39847f)) {
                return false;
              }
              const _0x3a6a22 = {
                heading: _0x498d8d.heading,
                pitch: _0x498d8d.pitch,
                roll: _0x498d8d.roll
              };
              _0xa8c679 = _0x3a6a22;
            } else {
              const _0x28c0b3 = {
                direction: _0x498d8d.direction,
                up: _0x498d8d.up
              };
              _0xa8c679 = _0x28c0b3;
            }
            const _0xc6eaa1 = Cesium__namespace.Cartesian3.subtract(_0x498d8d.position, _0x39847f, cartesian3Scratch);
            const _0x34dd62 = Cesium__namespace.Cartesian3.multiplyByScalar(_0xc6eaa1, _0x575650, _0xc6eaa1);
            const _0x31e053 = Cesium__namespace.Cartesian3.add(_0x39847f, _0x34dd62, _0x39847f);
            if (!Cesium__namespace.defined(_0x31e053)) {
              return false;
            }
            const _0x5a9b3d = _0x80f354.minimumZoomDistance;
            const _0x221027 = _0x80f354.maximumZoomDistance;
            const _0xba32e5 = Cesium__namespace.Cartographic.fromCartesian(_0x31e053).height;
            if (_0xba32e5 < _0x5a9b3d) {
              return false;
            }
            if (_0xba32e5 < _0x80f354._minimumCollisionTerrainHeight) {
              const _0x554131 = _0x80f354._scene.globeHeight;
              if (Cesium__namespace.defined(_0x554131) && _0xba32e5 <= _0x554131 + _0x5a9b3d) {
                return false;
              }
            }
            if (_0x221027 && _0xba32e5 > _0x221027) {
              return false;
            }
            if (Cesium__namespace.defined(this.viewer.trackedEntity) || _0x96a17a.mode === Cesium__namespace.SceneMode.COLUMBUS_VIEW) {
              _0x498d8d.position = _0x31e053;
            } else {
              const _0x1da75d = {
                destination: _0x31e053,
                orientation: _0xa8c679,
                duration: 0.5,
                convert: false
              };
              _0x498d8d.flyTo(_0x1da75d);
            }
            return true;
          }
      }
    }
  }
  class SceneOption {
    constructor(_0x18320c) {
      this._map = _0x18320c;
      this._viewer = _0x18320c.viewer;
      this.options = {};
      this._init();
    }
    _init() {
      this._viewer.cesiumWidget.creditContainer.style.display = "none";
      this._viewer.scene.screenSpaceCameraController.maximumZoomDistance = 50000000;
      this._viewer.scene.backgroundColor = Cesium__namespace.Color.TRANSPARENT;
      if (Cesium__namespace.FeatureDetection.supportsImageRenderingPixelated()) {
        let _0x313bd4 = window.devicePixelRatio;
        while (_0x313bd4 >= 2) {
          _0x313bd4 *= 0.8;
        }
        if (_0x313bd4 < 1) {
          _0x313bd4 = 1;
        }
        this._viewer.cesiumWidget.resolutionScale = _0x313bd4;
      }
    }
    setOptions(_0x1073e2, _0x528cb1) {
      _0x1073e2 = _0x1073e2 || {};
      _0x528cb1 = _0x528cb1 || {};
      this.options = _0x1073e2;
      this._setViewerOption(_0x1073e2, _0x528cb1);
      this._setCesiumWidgetOption(_0x1073e2, _0x528cb1);
      this._setCanvasOption(_0x1073e2, _0x528cb1);
      this._setSceneOption(_0x1073e2, _0x528cb1);
      if (_0x528cb1.globe) {
        this._setGlobeOption(_0x1073e2.globe, _0x528cb1.globe);
      }
      if (_0x528cb1.cameraController) {
        this._setCameraOption(_0x1073e2.cameraController, _0x528cb1.cameraController);
      }
      if (_0x528cb1.clock) {
        this._setClockOption(_0x1073e2.clock, _0x528cb1.clock);
      }
      return this;
    }
    _setViewerOption(_0x5cbfae, _0x2f3a5b) {
      if (_0x2f3a5b.center) {
        this._map.setCameraView(_0x5cbfae.center, {
          duration: 0
        });
      } else if (_0x2f3a5b.extent) {
        this._map.flyToExtent(_0x5cbfae.extent, {
          duration: 0
        });
      }
      this._viewer.shadows = _0x5cbfae.shadows ?? false;
      if (_0x5cbfae.removeDblClick ?? true) {
        this._viewer.screenSpaceEventHandler.removeInputAction(Cesium__namespace.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);
      }
      if (Cesium__namespace.defined(_0x2f3a5b.terrainShadows)) {
        if (isBoolean(_0x2f3a5b.terrainShadows)) {
          this._viewer.terrainShadows = _0x2f3a5b.terrainShadows ? Cesium__namespace.ShadowMode.ENABLED : Cesium__namespace.ShadowMode.DISABLED;
        } else {
          this._viewer.terrainShadows = _0x2f3a5b.terrainShadows;
        }
      }
      if (Cesium__namespace.defined(_0x2f3a5b.automaticallyTrackDataSourceClocks)) {
        this._viewer._automaticallyTrackDataSourceClocks = _0x2f3a5b.automaticallyTrackDataSourceClocks;
      }
    }
    _setCesiumWidgetOption(_0x337254, _0x3ea363) {
      const _0x23581c = this._viewer.cesiumWidget;
      if (_0x3ea363.resolutionScale) {
        _0x23581c.resolutionScale = _0x3ea363.resolutionScale;
      }
      if (Cesium__namespace.defined(_0x3ea363.targetFrameRate)) {
        _0x23581c.targetFrameRate = _0x3ea363.targetFrameRate;
      }
      if (Cesium__namespace.defined(_0x3ea363.useBrowserRecommendedResolution)) {
        _0x23581c.useBrowserRecommendedResolution = _0x3ea363.useBrowserRecommendedResolution;
      }
    }
    _setCanvasOption(_0x524cb7, _0x578de5) {
      const _0x410b02 = this._viewer.canvas;
      _0x410b02.setAttribute("tabindex", _0x524cb7.tabIndex ?? 0);
      _0x410b02.onclick = _0x54fdd2 => {
        _0x410b02.focus();
      };
    }
    _setSceneOption(_0x12b307, _0x433d77) {
      const _0x390879 = this._viewer.scene;
      if (Cesium__namespace.defined(_0x433d77.logarithmicDepthBuffer)) {
        _0x390879.logarithmicDepthBuffer = _0x12b307.logarithmicDepthBuffer;
      }
      if (Cesium__namespace.defined(_0x433d77.verticalExaggeration)) {
        _0x390879.verticalExaggeration = _0x433d77.verticalExaggeration;
      }
      if (Cesium__namespace.defined(_0x433d77.verticalExaggerationRelativeHeight)) {
        _0x390879.verticalExaggerationRelativeHeight = _0x433d77.verticalExaggerationRelativeHeight;
      }
      if (_0x390879.sun && Cesium__namespace.defined(_0x433d77.showSun)) {
        _0x390879.sun.show = _0x433d77.showSun;
      }
      if (_0x390879.moon && Cesium__namespace.defined(_0x433d77.showMoon)) {
        _0x390879.moon.show = _0x433d77.showMoon;
      }
      if (_0x433d77.skyBox) {
        _0x390879.skyBox = getSkyBoxObject(_0x12b307.skyBox);
      }
      if (_0x390879.skyBox && Cesium__namespace.defined(_0x433d77.showSkyBox)) {
        _0x390879.skyBox.show = _0x12b307.showSkyBox;
      }
      if (_0x390879.skyAtmosphere && Cesium__namespace.defined(_0x433d77.showSkyAtmosphere)) {
        _0x390879.skyAtmosphere.show = _0x12b307.showSkyAtmosphere;
      }
      _0x390879.fog.enabled = _0x12b307.fog ?? true;
      if (_0x433d77.atmosphere) {
        merge(_0x390879.atmosphere, _0x12b307.atmosphere);
      }
      _0x390879.postProcessStages.fxaa.enabled = _0x12b307.fxaa ?? true;
      _0x390879.highDynamicRange = _0x12b307.highDynamicRange ?? false;
      function _0x430aa1() {
        _0x390879.sun.show = false;
        _0x390879.moon.show = false;
        _0x390879.skyBox.show = false;
        _0x390879.skyAtmosphere.show = false;
        _0x390879.fog.enabled = false;
      }
      const _0x11f3c2 = _0x12b307.backgroundType;
      _0x390879.backgroundColor = Cesium__namespace.Color.TRANSPARENT;
      if (_0x12b307.backgroundColor && (_0x11f3c2 === "color" || !Cesium__namespace.defined(_0x11f3c2))) {
        _0x390879.backgroundColor = Cesium__namespace.Color.fromCssColorString(_0x12b307.backgroundColor);
        if (_0x11f3c2 === "color") {
          _0x430aa1();
        }
      }
      _0x390879.backgroundImage = "none";
      if (_0x12b307.backgroundImage && (_0x11f3c2 === "image" || !Cesium__namespace.defined(_0x11f3c2))) {
        const _0x161532 = this._viewer.container;
        if (_0x12b307.backgroundImage === "none" || _0x12b307.backgroundImage.startsWith("url(")) {
          _0x161532.style.backgroundImage = _0x12b307.backgroundImage;
        } else {
          _0x161532.style.backgroundImage = "url(" + _0x12b307.backgroundImage + ")";
        }
        _0x161532.style.backgroundRepeat = _0x12b307.backgroundRepeat ?? "no-repeat";
        _0x161532.style.backgroundSize = _0x12b307.backgroundSize ?? "100% 100%";
        if (_0x12b307.backgroundImage !== "none" || _0x11f3c2 === "image") {
          _0x430aa1();
        }
      }
      if (Cesium__namespace.defined(_0x12b307.orderIndependentTranslucency)) {
        _0x390879._useOIT = _0x12b307.orderIndependentTranslucency;
      }
      switch (_0x12b307.sceneMode) {
        case Cesium__namespace.SceneMode.SCENE2D:
          _0x390879.morphTo2D(_0x12b307.sceneModeMorphDuration ?? 0);
          break;
        case Cesium__namespace.SceneMode.COLUMBUS_VIEW:
          _0x390879.morphToColumbusView(_0x12b307.sceneModeMorphDuration ?? 0);
          break;
        case Cesium__namespace.SceneMode.SCENE3D:
          _0x390879.morphTo3D(_0x12b307.sceneModeMorphDuration ?? 0);
          break;
      }
    }
    _setGlobeOption(_0x50c57f, _0x576f39) {
      const _0x367389 = {
        ..._0x576f39
      };
      _0x367389.show = _0x50c57f.show ?? true;
      const _0x2f5c2b = _0x367389;
      if (Cesium__namespace.defined(_0x576f39.baseColor)) {
        _0x2f5c2b.baseColor = Cesium__namespace.Color.fromCssColorString(_0x576f39.baseColor);
      }
      if (Cesium__namespace.defined(_0x576f39.undergroundColor)) {
        _0x2f5c2b.undergroundColor = Cesium__namespace.Color.fromCssColorString(_0x576f39.undergroundColor);
      }
      merge(this._viewer.scene.globe, _0x2f5c2b);
    }
    _setCameraOption(_0x52eea9, _0x160018) {
      const _0x171547 = {
        ..._0x160018
      };
      _0x171547._zoomFactor = _0x52eea9.zoomFactor || 3;
      merge(this._viewer.scene.screenSpaceCameraController, _0x171547);
      if (_0x160018.constrainedAxis === false) {
        this._viewer.camera.constrainedAxis = undefined;
      }
      return this;
    }
    _setClockOption(_0x514570, _0x5d80bd) {
      const _0x55f92c = this._viewer.clock;
      _0x55f92c.shouldAnimate = _0x514570.shouldAnimate ?? this.options.shouldAnimate ?? true;
      if (_0x5d80bd.startTime) {
        _0x55f92c.startTime = getJulianDate(_0x5d80bd.startTime);
        _0x55f92c.currentTime = _0x55f92c.startTime;
      }
      if (_0x5d80bd.stopTime) {
        _0x55f92c.stopTime = getJulianDate(_0x5d80bd.stopTime);
      }
      if (_0x5d80bd.currentTime) {
        _0x55f92c.currentTime = getJulianDate(_0x5d80bd.currentTime);
        if (!_0x514570.startTime) {
          _0x55f92c.startTime = _0x55f92c.currentTime.clone();
        }
        if (!_0x514570.stopTime) {
          _0x55f92c.stopTime = Cesium__namespace.JulianDate.addDays(_0x55f92c.currentTime, 1, new Cesium__namespace.JulianDate());
        }
      }
      if (_0x5d80bd.multiplier) {
        _0x55f92c.multiplier = _0x5d80bd.multiplier;
      }
      if (Cesium__namespace.defined(_0x5d80bd.clockRange)) {
        _0x55f92c.clockRange = _0x5d80bd.clockRange;
      }
      return this;
    }
  }
  function initBeforeCreateDefaultValue(_0xcf3c84) {
    var _0x2e71da;
    Cesium__namespace.Ion.defaultAccessToken = (_0xcf3c84 === null || _0xcf3c84 === undefined || (_0x2e71da = _0xcf3c84.scene) === null || _0x2e71da === undefined ? undefined : _0x2e71da.ionToken) || ion;
    Cesium__namespace.Camera.DEFAULT_VIEW_RECTANGLE = Cesium__namespace.Rectangle.fromDegrees(89.5, 20.4, 110.4, 61.2);
    Cesium__namespace.EntityView.defaultOffset3D = new Cesium__namespace.Cartesian3(-500, -500, 200);
    Cesium__namespace.RequestScheduler.maximumRequests = 300;
    Cesium__namespace.RequestScheduler.maximumRequestsPerServer = 30;
  }
  function getSkyBoxObject(_0x43bfac) {
    if (!_0x43bfac || _0x43bfac instanceof Cesium__namespace.SkyBox || _0x43bfac instanceof GroundSkyBox || _0x43bfac instanceof MultipleSkyBox) {
      return _0x43bfac;
    }
    switch (_0x43bfac.type) {
      case "ground":
      case "GroundSkyBox":
        return new GroundSkyBox(_0x43bfac);
      case "multiple":
      case "MultipleSkyBox":
        return new MultipleSkyBox(_0x43bfac);
      case "default":
        return new Cesium__namespace.SkyBox({
          sources: {
            positiveX: getDefaultSkyBoxUrl("px"),
            negativeX: getDefaultSkyBoxUrl("mx"),
            positiveY: getDefaultSkyBoxUrl("py"),
            negativeY: getDefaultSkyBoxUrl("my"),
            positiveZ: getDefaultSkyBoxUrl("pz"),
            negativeZ: getDefaultSkyBoxUrl("mz")
          }
        });
      default:
        return new Cesium__namespace.SkyBox(_0x43bfac);
    }
  }
  function getDefaultSkyBoxUrl(_0x11a7e3) {
    return Cesium__namespace.buildModuleUrl("Assets/Textures/SkyBox/tycho2t3_80_" + _0x11a7e3 + ".jpg");
  }
  function getJulianDate(_0x33d104) {
    if (isString(_0x33d104)) {
      if (_0x33d104.indexOf("Z") === -1) {
        return Cesium__namespace.JulianDate.fromDate(new Date(_0x33d104));
      } else {
        return Cesium__namespace.JulianDate.fromIso8601(_0x33d104);
      }
    } else {
      return _0x33d104;
    }
  }
  function getCameraView(_0x37bd0d, _0x5d2916) {
    const _0x5af6a9 = _0x37bd0d.positionCartographic;
    const _0xf0e4f2 = {};
    _0xf0e4f2.lat = formatNum$1(Cesium__namespace.Math.toDegrees(_0x5af6a9.latitude), LngLatPoint.FormatLength);
    _0xf0e4f2.lng = formatNum$1(Cesium__namespace.Math.toDegrees(_0x5af6a9.longitude), LngLatPoint.FormatLength);
    if (_0x5d2916?.simplify ?? true) {
      _0xf0e4f2.alt = formatNum$1(_0x5af6a9.height, 1);
      _0xf0e4f2.heading = formatNum$1(Cesium__namespace.Math.toDegrees(_0x37bd0d.heading || 0) % 360, 1);
      _0xf0e4f2.pitch = formatNum$1(Cesium__namespace.Math.toDegrees(_0x37bd0d.pitch || 0) % 360, 1);
    } else {
      _0xf0e4f2.alt = formatNum$1(_0x5af6a9.height, LngLatPoint.FormatAltLength);
      _0xf0e4f2.heading = formatNum$1(Cesium__namespace.Math.toDegrees(_0x37bd0d.heading || 0) % 360, 2);
      _0xf0e4f2.pitch = formatNum$1(Cesium__namespace.Math.toDegrees(_0x37bd0d.pitch || 0) % 360, 2);
      _0xf0e4f2.roll = formatNum$1(Cesium__namespace.Math.toDegrees(_0x37bd0d.roll || 0) % 360, 2);
    }
    return _0xf0e4f2;
  }
  async function expImage(_0x3e1452, _0x5cd38e = {}) {
    var _0x144827;
    _0x5cd38e.download = _0x5cd38e.download ?? true;
    _0x5cd38e.type = _0x5cd38e.type ?? "image/jpeg";
    if (!_0x3e1452.scene.requestRenderMode) {
      _0x3e1452.viewer.render();
    }
    let _0x54e496 = _0x3e1452.canvas.toDataURL(_0x5cd38e.type, _0x5cd38e.encoderOptions ?? 1);
    let _0xdeebb2 = _0x3e1452.canvas.width;
    let _0x402992 = _0x3e1452.canvas.height;
    if (window.domtoimage && _0x5cd38e.domtoimage !== false) {
      try {
        const _0x5b7387 = _0x3e1452.container.getElementsByClassName("cesium-viewer-cesiumWidgetContainer");
        const _0x2c58ad = {
          filter: function (_0x5a8e73) {
            return _0x5a8e73 !== _0x5b7387[0];
          }
        };
        const _0x486c67 = await window.domtoimage.toPng(_0x3e1452.container, _0x2c58ad);
        const _0x184ee8 = document.createElement("canvas");
        _0x184ee8.width = _0xdeebb2;
        _0x184ee8.height = _0x402992;
        const _0x1ba867 = _0x184ee8.getContext("2d");
        const _0x5e210b = await base64ToImage(_0x54e496);
        _0x1ba867.drawImage(_0x5e210b, 0, 0, _0xdeebb2, _0x402992);
        const _0x7b55d3 = await base64ToImage(_0x486c67);
        _0x1ba867.drawImage(_0x7b55d3, 0, 0, _0xdeebb2, _0x402992);
        _0x54e496 = _0x184ee8.toDataURL("image/png");
      } catch (_0x1b033c) {
        logWarn("地图出图DIV部分截图失败", _0x1b033c);
      }
    }
    if ((_0x144827 = _0x3e1452.control.mapCompare) !== null && _0x144827 !== undefined && _0x144827.mapEx) {
      const _0x197eb1 = await _0x3e1452.control.mapCompare.mapEx.expImage({
        download: false
      });
      const _0x292156 = document.createElement("canvas");
      _0x292156.width = _0xdeebb2 + _0x197eb1.width;
      _0x292156.height = _0x402992;
      const _0x3f0092 = _0x292156.getContext("2d");
      const _0x28e121 = await base64ToImage(_0x54e496);
      _0x3f0092.drawImage(_0x28e121, 0, 0, _0xdeebb2, _0x402992);
      const _0x3af0ca = await base64ToImage(_0x197eb1.image);
      _0x3f0092.drawImage(_0x3af0ca, _0xdeebb2, 0, _0x197eb1.width, _0x197eb1.height);
      _0x54e496 = _0x292156.toDataURL("image/png");
      _0xdeebb2 = _0x292156.width;
    }
    if (Cesium__namespace.defined(_0x5cd38e.width) || Cesium__namespace.defined(_0x5cd38e.height)) {
      const _0x2524f9 = await base64ToImage(_0x54e496);
      let _0x2833b2;
      let _0xc94d69;
      if (Cesium__namespace.defined(_0x5cd38e.width) && !Cesium__namespace.defined(_0x5cd38e.height)) {
        _0x2833b2 = _0x5cd38e.width;
        _0xc94d69 = Math.round(_0x2833b2 * _0x402992 / _0xdeebb2);
      } else if (Cesium__namespace.defined(_0x5cd38e.height) && !Cesium__namespace.defined(_0x5cd38e.width)) {
        _0xc94d69 = _0x5cd38e.height;
        _0x2833b2 = Math.round(_0xc94d69 * _0xdeebb2 / _0x402992);
      } else {
        const _0x2ca542 = _0x5cd38e.width / _0xdeebb2;
        const _0x23f41e = _0x5cd38e.height / _0x402992;
        if (_0x2ca542 > _0x23f41e) {
          _0x2833b2 = _0x5cd38e.width;
          _0xc94d69 = Math.round(_0x2833b2 * _0x402992 / _0xdeebb2);
        } else {
          _0xc94d69 = _0x5cd38e.height;
          _0x2833b2 = Math.round(_0xc94d69 * _0xdeebb2 / _0x402992);
        }
      }
      const _0x16cff0 = document.createElement("canvas");
      _0x16cff0.width = _0x5cd38e.width || _0x2833b2;
      _0x16cff0.height = _0x5cd38e.height || _0xc94d69;
      const _0x2ca516 = _0x16cff0.getContext("2d", {
        willReadFrequently: true
      });
      const _0x2014a7 = (_0x16cff0.width - _0x2833b2) / 2;
      const _0x5aa44f = (_0x16cff0.height - _0xc94d69) / 2;
      _0x2ca516.drawImage(_0x2524f9, _0x2014a7, _0x5aa44f, _0x2833b2, _0xc94d69);
      _0x54e496 = _0x16cff0.toDataURL(_0x5cd38e.type, _0x5cd38e.encoderOptions ?? 1);
      _0xdeebb2 = _0x16cff0.width;
      _0x402992 = _0x16cff0.height;
    }
    if (_0x5cd38e.download) {
      let _0x30b02f = _0x5cd38e.filename;
      if (!_0x30b02f) {
        _0x30b02f = "场景出图_" + _0xdeebb2 + "x" + _0x402992;
      }
      if (_0x5cd38e.type === "image/jpeg") {
        _0x30b02f = _0x30b02f + ".jpg";
      }
      downloadBase64Image(_0x30b02f, _0x54e496);
    }
    const _0x835065 = {
      image: _0x54e496,
      width: _0xdeebb2,
      height: _0x402992
    };
    const _0x4605b9 = _0x835065;
    if (_0x5cd38e.callback) {
      _0x5cd38e.callback(_0x4605b9);
    }
    return _0x4605b9;
  }
  class PopupMgr extends BaseControl {
    constructor(_0x5e2bd8 = {}) {
      super(_0x5e2bd8);
      this._depthTest = _0x5e2bd8.depthTest ?? true;
    }
    get depthTest() {
      return this._depthTest;
    }
    set depthTest(_0x7b0bc4) {
      this._depthTest = _0x7b0bc4;
    }
    get layer() {
      return this._layer;
    }
    _mountedHook() {
      this._layer = new GraphicLayer({
        private: true,
        eventParent: this
      });
      this._layer._closeAllControl = function () {};
    }
    _enabledHook(_0x3b89e4) {
      if (this._layer) {
        this._layer.show = _0x3b89e4;
      }
    }
    _addedHook() {
      this._map.addLayer(this._layer);
      this._bindEvent();
    }
    _removedHook() {
      this._unbindEvent();
      this._map.removeLayer(this._layer);
    }
    _bindEvent() {
      this._map.on(EventType.click, this._mouseClickHandler, this);
      this._map.on(EventType.clickTileGraphic, this._mouseClickHandler, this);
    }
    _unbindEvent() {
      this._map.off(EventType.click, this._mouseClickHandler, this);
      this._map.off(EventType.clickTileGraphic, this._mouseClickHandler, this);
    }
    _mouseClickHandler(_0x4af7cb) {
      if (!this.enabled) {
        return;
      }
      if (this._openByMouseEvent(_0x4af7cb.czmObject, _0x4af7cb)) {
        return;
      }
      if (this._openByMouseEvent(_0x4af7cb.graphic, _0x4af7cb)) {
        return;
      }
      if (this._openByMouseEvent(_0x4af7cb.graphic?.parent, _0x4af7cb)) {
        return;
      }
      if (this._openByMouseEvent(_0x4af7cb.layer, _0x4af7cb)) {
        return;
      }
      if (this._openByMouseEvent(_0x4af7cb.layer?.parent, _0x4af7cb)) {
        return;
      }
      const _0x203f2c = this._layer.getGraphics();
      for (let _0x2d0dcb = 0, _0x29a9de = _0x203f2c.length; _0x2d0dcb < _0x29a9de; _0x2d0dcb++) {
        const _0x3fec93 = _0x203f2c[_0x2d0dcb];
        if (_0x3fec93.options.closeOnClick !== false) {
          _0x3fec93.remove(true);
        }
      }
    }
    _getConfig(_0x4e5f79) {
      return _0x4e5f79._popupConfig || _0x4e5f79.getPopupConfig && _0x4e5f79.getPopupConfig();
    }
    _openByMouseEvent(_0x8d3899, _0x355ca4) {
      if (!_0x8d3899) {
        return false;
      }
      let _0x2e05e3 = this._getConfig(_0x8d3899);
      if (_0x2e05e3 === false) {
        return true;
      }
      if (!_0x2e05e3 || _0x2e05e3.options?.enabled === false) {
        return false;
      }
      const _0x3f4cb8 = _0x355ca4?.graphic;
      if (_0x2e05e3.options?.toggle === true) {
        const _0x4038d4 = this.getPopup(_0x3f4cb8);
        if (_0x4038d4) {
          _0x4038d4.remove(true);
          return true;
        }
      }
      if (_0x3f4cb8) {
        const _0x237cc0 = this.getPopup(_0x3f4cb8);
        if (_0x237cc0 && !_0x3f4cb8.instances) {
          var _0x44e162;
          _0x237cc0.attr = _0x3f4cb8.attr;
          if ((_0x44e162 = _0x2e05e3.options) === null || _0x44e162 === undefined || !_0x44e162.useGraphicPostion) {
            _0x237cc0.position = _0x355ca4.cartesian;
          }
          if (isFunction(_0x237cc0.style.html)) {
            _0x237cc0.html = _0x237cc0.style.html;
          }
          return true;
        }
      }
      _0x2e05e3 = {
        ..._0x2e05e3,
        ..._0x355ca4,
        heightReference: Cesium__namespace.HeightReference.NONE
      };
      this.open(_0x355ca4.cartesian, _0x2e05e3);
      return true;
    }
    close(_0x4f7170, _0x3e3ea9) {
      if (!this._layer) {
        return;
      }
      if (_0x4f7170) {
        const _0x35514f = this._layer.getGraphics();
        for (let _0x581e1c = 0, _0x3b5148 = _0x35514f.length; _0x581e1c < _0x3b5148; _0x581e1c++) {
          var _0x56c040;
          var _0x4bbca9;
          const _0x51078f = _0x35514f[_0x581e1c];
          if ((_0x56c040 = _0x51078f.options) !== null && _0x56c040 !== undefined && _0x56c040.checkData) {
            if (_0x51078f.options.checkData(_0x51078f.options?.attr, _0x4f7170)) {
              _0x51078f.remove(true);
              return;
            }
          }
          const _0x2790db = (_0x4bbca9 = _0x51078f.options) === null || _0x4bbca9 === undefined || (_0x4bbca9 = _0x4bbca9.event) === null || _0x4bbca9 === undefined ? undefined : _0x4bbca9.graphic;
          if (_0x2790db && (_0x4f7170 === _0x2790db || _0x4f7170.id === _0x2790db.id)) {
            _0x51078f.remove(true);
            return;
          }
        }
        return;
      }
      if (_0x3e3ea9) {
        const _0x421aa3 = this._layer.getGraphics();
        for (let _0x3adbdd = 0, _0x48aa26 = _0x421aa3.length; _0x3adbdd < _0x48aa26; _0x3adbdd++) {
          var _0x213697;
          var _0x5667cb;
          const _0x1178d2 = _0x421aa3[_0x3adbdd];
          if ((_0x213697 = _0x1178d2.options) !== null && _0x213697 !== undefined && _0x213697.checkData) {
            if (_0x1178d2.options.checkData(_0x1178d2.options?.attr, _0x3e3ea9)) {
              _0x1178d2.remove(true);
              return;
            }
          } else if (_0x3e3ea9 === ((_0x5667cb = _0x1178d2.options) === null || _0x5667cb === undefined || (_0x5667cb = _0x5667cb.event) === null || _0x5667cb === undefined ? undefined : _0x5667cb.layer)) {
            _0x1178d2.remove(true);
            return;
          }
        }
        return;
      }
      const _0x2f0db4 = this._layer.getGraphics();
      for (let _0x103f9f = 0, _0x82f639 = _0x2f0db4.length; _0x103f9f < _0x82f639; _0x103f9f++) {
        const _0x2311c4 = _0x2f0db4[_0x103f9f];
        if (_0x2311c4.options?.autoClose ?? true) {
          _0x2311c4.remove(true);
        }
      }
    }
    closeAll() {
      if (this._layer) {
        this._layer.clear();
      }
    }
    open(_0x282cf9, _0x49dde2 = {}) {
      const _0x3d0793 = _0x49dde2.options || {};
      if (_0x3d0793?.autoClose ?? true) {
        this.close();
      } else if (_0x49dde2 !== null && _0x49dde2 !== undefined && _0x49dde2.graphic) {
        this.close(_0x49dde2.graphic);
      }
      let _0x2273ec = _0x49dde2.target;
      let _0x263695;
      if (_0x49dde2.layer && _0x49dde2.layer.fire) {
        _0x2273ec = _0x49dde2.layer;
      }
      if (_0x49dde2.graphic && _0x49dde2.graphic.fire) {
        _0x2273ec = _0x49dde2.graphic;
        _0x263695 = _0x49dde2.graphic;
      }
      let _0x311a81 = _0x49dde2.heightReference ?? Cesium__namespace.HeightReference.NONE;
      if (_0x49dde2.czmObject) {
        const _0x2e761f = _0x49dde2.czmObject;
        _0x311a81 = this.getHeightReference(_0x2e761f, _0x311a81);
      }
      if (_0x263695) {
        const _0x266744 = _0x263695.style?.clampToGround ?? _0x263695.clampToGround;
        if (_0x266744) {
          _0x311a81 = Cesium__namespace.HeightReference.CLAMP_TO_GROUND;
        }
        if (Cesium__namespace.defined(_0x263695.style?.heightReference)) {
          _0x311a81 = _0x263695.style.heightReference;
        }
        if (!_0x49dde2._custom_position) {
          if (_0x263695.property) {
            _0x3d0793.useGraphicPostion = true;
          }
          if (_0x3d0793.useGraphicPostion) {
            _0x282cf9 = _0x263695._getPopupPosition() || _0x282cf9;
          }
        }
      }
      const _0x2cbccf = {
        ..._0x3d0793
      };
      _0x2cbccf.heightReference = _0x311a81;
      _0x2cbccf.html = _0x49dde2.content;
      const _0x49359d = _0x2cbccf;
      const _0x31b65a = this._createDivGraphic({
        id: createGuid(),
        depthTest: this.depthTest,
        ..._0x3d0793,
        position: _0x282cf9,
        style: _0x49359d,
        attr: _0x49dde2.attr ?? _0x49dde2.graphic?.attr,
        target: _0x2273ec,
        event: _0x49dde2
      }, _0x263695);
      this._layer.addGraphic(_0x31b65a);
    }
    getPopup(_0x16a8c2) {
      return this._layer.getGraphicById(_0x16a8c2._popupId);
    }
    _createDivGraphic(_0x2c0fe0, _0x794717) {
      const _0x44cf99 = new Popup(_0x2c0fe0);
      if (_0x794717) {
        _0x794717._popupId = _0x44cf99.id;
      }
      return _0x44cf99;
    }
    getHeightReference(_0x529426, _0x36f611) {
      if (!_0x529426) {
        return _0x36f611;
      }
      if (Cesium__namespace.defined(_0x529426._heightReference)) {
        return _0x529426._heightReference;
      }
      const _0x243066 = _0x529426.billboard || _0x529426.point || _0x529426.model || _0x529426.label;
      if (Cesium__namespace.defined(_0x243066?.heightReference)) {
        return _0x243066.heightReference._value;
      }
      return _0x36f611;
    }
  }
  register$2("popup", PopupMgr);
  class TooltipMgr extends PopupMgr {
    _enabledHook(_0x35c2b0) {
      super._enabledHook(_0x35c2b0);
      if (this.moveTimer && !_0x35c2b0) {
        clearTimeout(this.moveTimer);
        delete this.moveTimer;
      }
    }
    _bindEvent() {
      this._map.on(EventType.mouseMoveTarget, this._mouseMoveHandler, this);
      this._map.on(EventType.mouseDown, this._mouseDownHandler, this);
      this._map.on(EventType.mouseUp, this._mouseUpHandler, this);
    }
    _unbindEvent() {
      this._map.off(EventType.mouseMoveTarget, this._mouseMoveHandler, this);
      this._map.off(EventType.mouseDown, this._mouseDownHandler, this);
      this._map.off(EventType.mouseUp, this._mouseUpHandler, this);
    }
    _mouseDownHandler(_0x5ddea4) {
      if (!this.enabled) {
        return;
      }
      this._isMouseUpdownPressed = true;
      this.close();
    }
    _mouseUpHandler(_0x5b3883) {
      if (!this.enabled) {
        return;
      }
      this._isMouseUpdownPressed = false;
    }
    _mouseMoveHandler(_0x42bc17) {
      if (!this.enabled) {
        return;
      }
      if (this.moveTimer) {
        clearTimeout(this.moveTimer);
        delete this.moveTimer;
      }
      if (this._isMouseUpdownPressed || !this._enabled) {
        this.close();
        return;
      }
      this.moveTimer = setTimeout(() => {
        delete this.moveTimer;
        this._mouseClickHandler(_0x42bc17);
      }, this.options.cacheTime ?? 20);
    }
    _getConfig(_0x479a5e) {
      return _0x479a5e._tooltipConfig || _0x479a5e.getTooltipConfig && _0x479a5e.getTooltipConfig();
    }
    _createDivGraphic(_0x576d15, _0x1bbc3b) {
      const _0x42cba4 = new Tooltip(_0x576d15);
      if (_0x1bbc3b) {
        _0x1bbc3b._tooltipId = _0x42cba4.id;
      }
      return _0x42cba4;
    }
    getTooltip(_0x222900) {
      return this._layer.getGraphicById(_0x222900._tooltipId);
    }
    getPopup(_0x3bd4f9) {
      return this.getTooltip(_0x3bd4f9);
    }
  }
  register$2("tooltip", TooltipMgr);
  class SmallTooltip extends BaseControl {
    get direction() {
      return this.options.direction;
    }
    set direction(_0x530778) {
      this.options.direction = _0x530778;
      if (_0x530778) {
        addClass(this._containerArrow, "mars3d-smallTooltip-leftArrow");
        removeClass(this._containerArrow, "mars3d-smallTooltip-rightArrow");
      } else {
        addClass(this._containerArrow, "mars3d-smallTooltip-rightArrow");
        removeClass(this._containerArrow, "mars3d-smallTooltip-leftArrow");
      }
    }
    _enabledHook(_0x2e1c11) {
      this.show = _0x2e1c11;
    }
    _mountedHook() {
      this._container = create$4("div", "mars3d-smallTooltip");
      this._container.style.display = "none";
      this._containerArrow = create$4("div", "mars3d-smallTooltip-arrow mars3d-smallTooltip-rightArrow", this._container);
      this._containerContent = create$4("div", "mars3d-smallTooltip-inner", this._container);
      this._container.addEventListener("click", _0xd4c801 => {
        this.close();
      });
    }
    close() {
      if (this._container) {
        this._container.style.display = "none";
      }
    }
    open(_0x4f1752, _0x23e4a3) {
      if (!this.enabled) {
        return;
      }
      if (_0x23e4a3) {
        this._containerContent.innerHTML = _0x23e4a3;
      } else {
        this._container.style.display = "none";
        return;
      }
      if (_0x4f1752) {
        if (_0x4f1752 instanceof Cesium__namespace.Cartesian3) {
          _0x4f1752 = toWindowCoordinates$1(this._map.scene, _0x4f1752);
        }
        this._container.style.display = "block";
        this._container.style.top = _0x4f1752.y - this._container.clientHeight / 2 + "px";
        if (this.options.direction) {
          this._container.style.left = _0x4f1752.x - this._container.clientWidth - 25 + "px";
        } else {
          this._container.style.left = _0x4f1752.x + 25 + "px";
        }
      } else {
        this._container.style.display = "none";
      }
    }
  }
  register$2("smallTooltip", SmallTooltip);
  function getDefaultContextMenu(_0x315246) {
    const _0x4ecd87 = _0x315246.contextmenu;
    const _0x33212b = _0x315246.thing;
    const _0x33ede0 = _0x315246.effect;
    return [{
      text: function () {
        return _0x315246.getLangText("_粘贴");
      },
      icon: Icon.Paste,
      show: function (_0x5040c0) {
        return _0x4ecd87.copyGraphic && _0x5040c0.cartesian;
      },
      callback: function (_0x549eaa) {
        var _0x10de9b;
        const _0x5823eb = _0x4ecd87.copyGraphic;
        if (_0x5823eb.positions) {
          const _0x14fa87 = {
            center: _0x549eaa.cartesian
          };
          _0x5823eb.positions = movePoints(_0x5823eb.positions, _0x14fa87);
        } else if (_0x5823eb.position) {
          if (_0x5823eb.position?.type === "time") {
            const _0x5f2e41 = {
              center: _0x549eaa.cartesian
            };
            _0x5823eb.position = {
              ..._0x5823eb.position,
              list: movePoints(_0x5823eb.position.list, _0x5f2e41)
            };
          } else {
            _0x5823eb.position = _0x549eaa.cartesian;
          }
        }
        if (_0x5823eb.id) {
          delete _0x5823eb.id;
        }
        if ((_0x10de9b = _0x5823eb.attr) !== null && _0x10de9b !== undefined && _0x10de9b.id) {
          delete _0x5823eb.attr.id;
        }
        const _0x880993 = _0x315246.getLayerById(_0x5823eb.layerId) ?? _0x315246.graphicLayer;
        _0x880993.loadJSON(_0x5823eb);
      }
    }, {
      text: function () {
        return _0x315246.getLangText("_查看此处坐标");
      },
      icon: Icon.Coordinates,
      show: function (_0xeb5a31) {
        return Cesium__namespace.defined(_0xeb5a31.cartesian);
      },
      callback: function (_0x1d2288) {
        const _0x4553b5 = LngLatPoint.fromCartesian(_0x1d2288.cartesian);
        const _0x177183 = proj4Trans([_0x4553b5.lng, _0x4553b5.lat], "EPSG:4326", CRS.CGCS2000_GK_Zone_3);
        const _0x3762e9 = "\n         " + _0x315246.getLangText("_经度") + ":" + _0x4553b5.lng + ", " + _0x315246.getLangText("_纬度") + ":" + _0x4553b5.lat + ", " + _0x315246.getLangText("_海拔") + ":" + _0x4553b5.alt + ",\n         " + _0x315246.getLangText("_横坐标") + ":" + _0x177183[0].toFixed(1) + ", " + _0x315246.getLangText("_纵坐标") + ":" + _0x177183[1].toFixed(1) + " (CGCS2000)\n        ";
        alert(_0x3762e9, _0x315246.getLangText("_位置信息"));
        logInfo("此处经纬度坐标", _0x4553b5.toString());
      }
    }, {
      text: function () {
        return _0x315246.getLangText("_查看当前视角");
      },
      icon: Icon.CameraInfo,
      callback: function (_0x3eb527) {
        const _0x188f05 = JSON.stringify(_0x315246.getCameraView());
        alert(_0x188f05, _0x315246.getLangText("_当前视角信息"));
        logInfo("当前视角信息", _0x188f05);
      }
    }, {
      text: function () {
        return _0x315246.getLangText("_图上量算");
      },
      icon: Icon.Measure,
      children: [{
        text: function () {
          return _0x315246.getLangText("_距离");
        },
        icon: Icon.MeasureDistance,
        callback: function (_0x45ebf7) {
          if (!_0x33212b.measure) {
            _0x33212b.measure = new Measure();
            _0x315246.addThing(_0x33212b.measure);
          }
          _0x33212b.measure.distance();
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_面积");
        },
        icon: Icon.MeasureArea,
        callback: function (_0xab33f7) {
          if (!_0x33212b.measure) {
            _0x33212b.measure = new Measure();
            _0x315246.addThing(_0x33212b.measure);
          }
          _0x33212b.measure.area();
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_高度差");
        },
        icon: Icon.MeasureHeight,
        callback: function (_0x32369b) {
          if (!_0x33212b.measure) {
            _0x33212b.measure = new Measure();
            _0x315246.addThing(_0x33212b.measure);
          }
          _0x33212b.measure.heightTriangle();
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_角度");
        },
        icon: Icon.MeasureAngle,
        callback: function (_0x3063bf) {
          if (!_0x33212b.measure) {
            _0x33212b.measure = new Measure();
            _0x315246.addThing(_0x33212b.measure);
          }
          _0x33212b.measure.angle();
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_删除测量");
        },
        icon: Icon.Delete,
        show: function (_0x1bfa2b) {
          return _0x33212b.measure && _0x33212b.measure.hasMeasure;
        },
        callback: function (_0x373a23) {
          if (_0x33212b.measure) {
            _0x33212b.measure.clear();
          }
        }
      }]
    }, {
      text: function () {
        return _0x315246.getLangText("_图上标记");
      },
      icon: Icon.Draw,
      children: [{
        text: function () {
          return _0x315246.getLangText("_标记点");
        },
        icon: Icon.DrawPoint,
        callback: function (_0x297b98) {
          _0x315246.graphicLayer.startDraw({
            type: "point",
            style: {
              pixelSize: 12,
              color: "#3388ff"
            },
            success: function (_0x1bb751) {
              logInfo("标记点坐标", JSON.stringify(_0x1bb751.coord));
            }
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_标记线");
        },
        icon: Icon.DrawPolyline,
        callback: function (_0x1778b3) {
          _0x315246.graphicLayer.startDraw({
            type: "polyline",
            style: {
              color: "#55ff33",
              width: 3
            },
            success: function (_0x86bd6a) {
              logInfo("标记线坐标", JSON.stringify(_0x86bd6a.coord));
            }
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_标记面");
        },
        icon: Icon.DrawPolygon,
        callback: function (_0x477a50) {
          _0x315246.graphicLayer.startDraw({
            type: "polygon",
            style: {
              color: "#29cf34",
              opacity: 0.5,
              outline: true,
              outlineWidth: 2
            },
            success: function (_0x5e3bc6) {
              logInfo("标记面坐标", JSON.stringify(_0x5e3bc6.coord));
            }
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_标记圆");
        },
        icon: Icon.DrawCircle,
        callback: function (_0x13ca27) {
          _0x315246.graphicLayer.startDraw({
            type: "circle",
            style: {
              color: "#ffff00",
              opacity: 0.6
            },
            addHeight: 1,
            success: function (_0x5dca23) {
              logInfo("标记圆坐标", JSON.stringify(_0x5dca23.coord));
            }
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_标记矩形");
        },
        icon: Icon.DrawRectangle,
        callback: function (_0x3d4aa3) {
          _0x315246.graphicLayer.startDraw({
            type: "rectangle",
            style: {
              color: "#ffff00",
              opacity: 0.6
            },
            success: function (_0x22404f) {
              logInfo("标记矩形坐标", JSON.stringify(_0x22404f.coord));
            }
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_允许编辑");
        },
        icon: Icon.DrawEditYes,
        show: function (_0x2bfe49) {
          return !_0x315246.graphicLayer.isAutoEditing;
        },
        callback: function (_0xa82892) {
          _0x315246.graphicLayer.isAutoEditing = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_禁止编辑");
        },
        icon: Icon.DrawEditNo,
        show: function (_0x5adf6b) {
          return _0x315246.graphicLayer.isAutoEditing;
        },
        callback: function (_0xbaa450) {
          _0x315246.graphicLayer.isAutoEditing = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_导出JSON");
        },
        icon: Icon.DrawDownJson,
        show: function (_0xf7a34d) {
          return _0x315246.graphicLayer.length > 0;
        },
        callback: function (_0xb3bccc) {
          const _0x17b054 = _0x315246.graphicLayer.toJSON({
            toNum: true
          });
          logInfo("标绘图层数据", _0x17b054);
          downloadFile("标绘图层数据.json", JSON.stringify(_0x17b054));
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_导入JSON");
        },
        icon: Icon.DrawDownJson,
        callback: function (_0x53f759) {
          openFile({
            accept: ".json,.geojson"
          }).then(_0x53cc17 => {
            logInfo("导入文件数据", _0x53cc17.text);
            _0x315246.graphicLayer.loadJSON(_0x53cc17.text, {
              flyTo: true,
              clear: true
            });
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_清除标记");
        },
        icon: Icon.Delete,
        show: function (_0x377701) {
          return _0x315246.graphicLayer.length > 0;
        },
        callback: function (_0x45c9dc) {
          _0x315246.graphicLayer.clear();
        }
      }]
    }, {
      type: "line"
    }, {
      text: function () {
        return _0x315246.getLangText("_视角切换");
      },
      icon: Icon.Camera,
      children: [{
        text: function () {
          return _0x315246.getLangText("_允许进入地下");
        },
        icon: Icon.UndergroundYes,
        show: function (_0x372522) {
          return _0x315246.scene.screenSpaceCameraController.enableCollisionDetection;
        },
        callback: function (_0x2f335f) {
          _0x315246.scene.screenSpaceCameraController.enableCollisionDetection = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_禁止进入地下");
        },
        icon: Icon.UndergroundNo,
        show: function (_0x33bc32) {
          return !_0x315246.scene.screenSpaceCameraController.enableCollisionDetection;
        },
        callback: function (_0x12eb64) {
          _0x315246.scene.screenSpaceCameraController.enableCollisionDetection = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_绕此处环绕飞行");
        },
        icon: Icon.RotatePointStart,
        show: function (_0x1fdb13) {
          var _0x2fd184;
          return _0x1fdb13.cartesian && (!_0x33212b.rotatePoint || (_0x2fd184 = _0x33212b.rotatePoint) === null || _0x2fd184 === undefined || !_0x2fd184.isStart);
        },
        callback: function (_0x5327be) {
          if (!_0x33212b.rotatePoint) {
            _0x33212b.rotatePoint = new RotatePoint();
            _0x315246.addThing(_0x33212b.rotatePoint);
          }
          _0x33212b.rotatePoint.start(_0x5327be.cartesian);
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭环绕飞行");
        },
        icon: Icon.RotatePointStop,
        show: function (_0x8e8fca) {
          return _0x33212b.rotatePoint?.isStart;
        },
        callback: function (_0x75f759) {
          if (_0x33212b.rotatePoint) {
            _0x33212b.rotatePoint.stop();
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_移动到此处");
        },
        icon: Icon.FlyToPoint,
        show: function (_0x4d58d6) {
          return Cesium__namespace.defined(_0x4d58d6.cartesian);
        },
        callback: function (_0x15e3c6) {
          const _0x1c9ab6 = Cesium__namespace.Cartesian3.distance(_0x15e3c6.cartesian, _0x315246.camera.positionWC) * 0.1;
          _0x315246.flyToPoint(_0x15e3c6.cartesian, {
            radius: _0x1c9ab6,
            maximumHeight: _0x315246.camera.positionCartographic.height
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_第一视角站到此处");
        },
        icon: Icon.FirstPerspective,
        show: function (_0x10ead0) {
          return Cesium__namespace.defined(_0x10ead0.cartesian);
        },
        callback: function (_0x5cca9e) {
          _0x315246.camera.flyTo({
            destination: addPositionsHeight(_0x5cca9e.cartesian, 10),
            orientation: {
              heading: _0x315246.camera.heading,
              pitch: 0,
              roll: 0
            },
            maximumHeight: _0x315246.camera.positionCartographic.height
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启键盘漫游");
        },
        icon: Icon.KeyboardRoamYes,
        show: function (_0x3c9342) {
          return !_0x33212b.keyboardRoam || !_0x33212b.keyboardRoam.enabled;
        },
        callback: function (_0x7a3f92) {
          if (!_0x33212b.keyboardRoam) {
            _0x33212b.keyboardRoam = new KeyboardRoam();
            _0x315246.addThing(_0x33212b.keyboardRoam);
          }
          _0x33212b.keyboardRoam.enabled = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭键盘漫游");
        },
        icon: Icon.KeyboardRoamNo,
        show: function (_0x1c1850) {
          return _0x33212b.keyboardRoam?.enabled;
        },
        callback: function (_0x579c7a) {
          _0x33212b.keyboardRoam.enabled = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_跟踪锁定");
        },
        icon: Icon.TrackedEntityYes,
        show: function (_0x32fdab) {
          const _0x1608eb = _0x32fdab.graphic;
          if (!_0x1608eb) {
            return false;
          }
          if (_0x1608eb.entity instanceof Cesium__namespace.Entity) {
            return true;
          } else if (_0x1608eb.trackedEntity instanceof Cesium__namespace.Entity) {
            return true;
          }
          return false;
        },
        callback: function (_0x365739) {
          _0x315246.trackedEntity = _0x365739.graphic;
          _0x4ecd87.trackedGraphic = _0x365739.graphic;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_取消锁定");
        },
        icon: Icon.TrackedEntityNo,
        show: function (_0x4e28ee) {
          return _0x4ecd87.trackedGraphic === _0x4e28ee.graphic && _0x315246.trackedEntity !== undefined;
        },
        callback: function (_0x71df0d) {
          _0x315246.trackedEntity = undefined;
          _0x4ecd87.trackedGraphic = undefined;
        }
      }]
    }, {
      text: function () {
        return _0x315246.getLangText("_特效效果");
      },
      icon: Icon.Effect,
      children: [{
        text: function () {
          return _0x315246.getLangText("_开启下雨");
        },
        icon: Icon.RainEffectYes,
        show: function (_0x23605f) {
          return !_0x33ede0.rainEffect;
        },
        callback: function (_0x330d24) {
          if (!_0x33ede0.rainEffect) {
            _0x33ede0.rainEffect = new Rain();
            _0x315246.addEffect(_0x33ede0.rainEffect);
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭下雨");
        },
        icon: Icon.RainEffectNo,
        show: function (_0x46f7c0) {
          return _0x33ede0.rainEffect;
        },
        callback: function (_0x4e4342) {
          if (_0x33ede0.rainEffect) {
            _0x315246.removeEffect(_0x33ede0.rainEffect, true);
            delete _0x33ede0.rainEffect;
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启下雪");
        },
        icon: Icon.SnowEffectYes,
        show: function (_0x36b198) {
          return !_0x33ede0.snowEffect;
        },
        callback: function (_0x1d58f0) {
          if (!_0x33ede0.snowEffect) {
            _0x33ede0.snowEffect = new Snow();
            _0x315246.addEffect(_0x33ede0.snowEffect);
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭下雪");
        },
        icon: Icon.SnowEffectNo,
        show: function (_0x5e8053) {
          return _0x33ede0.snowEffect;
        },
        callback: function (_0x8b214f) {
          if (_0x33ede0.snowEffect) {
            _0x315246.removeEffect(_0x33ede0.snowEffect, true);
            delete _0x33ede0.snowEffect;
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启雾天气");
        },
        icon: Icon.FogEffectYes,
        show: function (_0x309781) {
          return !_0x33ede0.fogEffect;
        },
        callback: function (_0x4b45d3) {
          if (!_0x33ede0.fogEffect) {
            const _0x49014d = _0x315246.camera.positionCartographic.height * 2;
            _0x33ede0.fogEffect = new Fog({
              fogByDistance: new Cesium__namespace.Cartesian4(_0x49014d * 0.1, 0.1, _0x49014d, 0.8)
            });
            _0x315246.addEffect(_0x33ede0.fogEffect);
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭雾天气");
        },
        icon: Icon.FogEffectNo,
        show: function (_0x36bdcd) {
          return _0x33ede0.fogEffect;
        },
        callback: function (_0x48e939) {
          if (_0x33ede0.fogEffect) {
            _0x315246.removeEffect(_0x33ede0.fogEffect, true);
            delete _0x33ede0.fogEffect;
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启泛光");
        },
        icon: Icon.BloomEffectYes,
        show: function (_0x1b7e6d) {
          return !_0x33ede0.bloomEffect;
        },
        callback: function (_0x3013a2) {
          if (!_0x33ede0.bloomEffect) {
            _0x33ede0.bloomEffect = new Bloom();
            _0x315246.addEffect(_0x33ede0.bloomEffect);
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭泛光");
        },
        icon: Icon.BloomEffectNo,
        show: function (_0x401110) {
          return _0x33ede0.bloomEffect;
        },
        callback: function (_0xc89abe) {
          if (_0x33ede0.bloomEffect) {
            _0x315246.removeEffect(_0x33ede0.bloomEffect, true);
            delete _0x33ede0.bloomEffect;
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启亮度");
        },
        icon: Icon.BrightnessEffectYes,
        show: function (_0x261f70) {
          return !_0x33ede0.brightnessEffect;
        },
        callback: function (_0x5cf2a1) {
          if (!_0x33ede0.brightnessEffect) {
            _0x33ede0.brightnessEffect = new Brightness();
            _0x315246.addEffect(_0x33ede0.brightnessEffect);
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭亮度");
        },
        icon: Icon.BrightnessEffectNo,
        show: function (_0xf8de22) {
          return _0x33ede0.brightnessEffect;
        },
        callback: function (_0xb0857b) {
          if (_0x33ede0.brightnessEffect) {
            _0x315246.removeEffect(_0x33ede0.brightnessEffect, true);
            delete _0x33ede0.brightnessEffect;
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启夜视");
        },
        icon: Icon.NightVisionEffectYes,
        show: function (_0x52eeec) {
          return !_0x33ede0.nightVisionEffect;
        },
        callback: function (_0x217d2d) {
          if (!_0x33ede0.nightVisionEffect) {
            _0x33ede0.nightVisionEffect = new NightVision();
            _0x315246.addEffect(_0x33ede0.nightVisionEffect);
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭夜视");
        },
        icon: Icon.NightVisionEffectNo,
        show: function (_0x5e659c) {
          return _0x33ede0.nightVisionEffect;
        },
        callback: function (_0xc39a09) {
          if (_0x33ede0.nightVisionEffect) {
            _0x315246.removeEffect(_0x33ede0.nightVisionEffect, true);
            delete _0x33ede0.nightVisionEffect;
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启黑白");
        },
        icon: Icon.BlackAndWhiteEffectYes,
        show: function (_0x13a847) {
          return !_0x33ede0.blackAndWhiteEffect;
        },
        callback: function (_0x258719) {
          if (!_0x33ede0.blackAndWhiteEffect) {
            _0x33ede0.blackAndWhiteEffect = new BlackAndWhite();
            _0x315246.addEffect(_0x33ede0.blackAndWhiteEffect);
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭黑白");
        },
        icon: Icon.BlackAndWhiteEffectNo,
        show: function (_0x288aeb) {
          return _0x33ede0.blackAndWhiteEffect;
        },
        callback: function (_0x7cd33d) {
          if (_0x33ede0.blackAndWhiteEffect) {
            _0x315246.removeEffect(_0x33ede0.blackAndWhiteEffect, true);
            delete _0x33ede0.blackAndWhiteEffect;
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启拾取高亮");
        },
        icon: Icon.OutlineEffectYes,
        show: function (_0x2464bf) {
          return !_0x33ede0.outlineEffect;
        },
        callback: function (_0x2b2750) {
          if (!_0x33ede0.outlineEffect) {
            _0x33ede0.outlineEffect = new Outline();
            _0x315246.addEffect(_0x33ede0.outlineEffect);
          }
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭拾取高亮");
        },
        icon: Icon.OutlineEffectNo,
        show: function (_0x59f568) {
          return _0x33ede0.outlineEffect;
        },
        callback: function (_0x18f892) {
          if (_0x33ede0.outlineEffect) {
            _0x315246.removeEffect(_0x33ede0.outlineEffect, true);
            delete _0x33ede0.outlineEffect;
          }
        }
      }]
    }, {
      text: function () {
        return _0x315246.getLangText("_地形");
      },
      icon: Icon.Terrain,
      show: function (_0x178813) {
        return Cesium__namespace.defined(_0x178813.cartesian);
      },
      children: [{
        text: function () {
          return _0x315246.getLangText("_开启地形");
        },
        icon: Icon.TerrainYes,
        show: function (_0x40e71b) {
          return !_0x315246.hasTerrain;
        },
        callback: function (_0x17c8db) {
          _0x315246.hasTerrain = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭地形");
        },
        icon: Icon.TerrainNo,
        show: function (_0x16fae7) {
          return _0x315246.hasTerrain;
        },
        callback: function (_0x3608ac) {
          _0x315246.hasTerrain = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_显示三角网");
        },
        icon: Icon.TerrainWireframeYes,
        show: function (_0x4d45a3) {
          return !_0x315246.scene.globe._surface.tileProvider._debug.wireframe;
        },
        callback: function (_0x10f060) {
          _0x315246.scene.globe._surface.tileProvider._debug.wireframe = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭三角网");
        },
        icon: Icon.TerrainWireframeNo,
        show: function (_0x52f408) {
          return _0x315246.scene.globe._surface.tileProvider._debug.wireframe;
        },
        callback: function (_0x4c2262) {
          _0x315246.scene.globe._surface.tileProvider._debug.wireframe = false;
        }
      }]
    }, {
      text: function () {
        return _0x315246.getLangText("_图层");
      },
      icon: Icon.Tileset,
      show: function (_0x290790) {
        return Cesium__namespace.defined(_0x290790.layer);
      },
      children: [{
        text: function () {
          return _0x315246.getLangText("_显示三角网");
        },
        icon: Icon.TilesetWireframeYes,
        show: function (_0x31c788) {
          const _0x445ef4 = _0x315246.pick3DTileset(_0x31c788.cartesian);
          if (!_0x445ef4) {
            return false;
          }
          return !_0x445ef4.debugWireframe && _0x445ef4._enableDebugWireframe;
        },
        callback: function (_0x3fd8b2) {
          const _0x3366e3 = _0x315246.pick3DTileset(_0x3fd8b2.cartesian);
          _0x3366e3.debugWireframe = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭三角网");
        },
        icon: Icon.TilesetWireframeNo,
        show: function (_0x297c01) {
          const _0x231f8e = _0x315246.pick3DTileset(_0x297c01.cartesian);
          if (!_0x231f8e) {
            return false;
          }
          return _0x231f8e.debugWireframe && _0x231f8e._enableDebugWireframe;
        },
        callback: function (_0x143ac5) {
          const _0x37f29b = _0x315246.pick3DTileset(_0x143ac5.cartesian);
          _0x37f29b.debugWireframe = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_显示包围盒");
        },
        icon: Icon.TilesetBoundingVolumeYes,
        show: function (_0x1d4b5c) {
          const _0xbd4f56 = _0x315246.pick3DTileset(_0x1d4b5c.cartesian);
          if (!_0xbd4f56) {
            return false;
          }
          return !_0xbd4f56.debugShowBoundingVolume;
        },
        callback: function (_0x39e67c) {
          const _0x414b9d = _0x315246.pick3DTileset(_0x39e67c.cartesian);
          _0x414b9d.debugShowBoundingVolume = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭包围盒");
        },
        icon: Icon.TilesetBoundingVolumeNo,
        show: function (_0x127044) {
          const _0x5eeaef = _0x315246.pick3DTileset(_0x127044.cartesian);
          if (!_0x5eeaef) {
            return false;
          }
          return _0x5eeaef.debugShowBoundingVolume;
        },
        callback: function (_0x2e098f) {
          const _0x1fea28 = _0x315246.pick3DTileset(_0x2e098f.cartesian);
          _0x1fea28.debugShowBoundingVolume = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_导出JSON");
        },
        icon: Icon.TilesetBoundingVolumeNo,
        show: function (_0x143fb6) {
          return _0x143fb6.layer.toJSON;
        },
        callback: function (_0x454bb4) {
          const _0x5aa04f = _0x454bb4.layer.toJSON({
            toNum: true
          });
          logInfo("layer图层配置", _0x5aa04f);
          downloadFile("layer图层配置.json", JSON.stringify(_0x5aa04f));
        }
      }]
    }, {
      text: function () {
        return _0x315246.getLangText("_场景");
      },
      icon: Icon.Scene,
      children: [{
        text: function () {
          return _0x315246.getLangText("_开启深度监测");
        },
        icon: Icon.DepthTestYes,
        show: function (_0x4dad33) {
          return !_0x315246.scene.globe.depthTestAgainstTerrain;
        },
        callback: function (_0x3f4271) {
          _0x315246.scene.globe.depthTestAgainstTerrain = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭深度监测");
        },
        icon: Icon.DepthTestNo,
        show: function (_0x16628d) {
          return _0x315246.scene.globe.depthTestAgainstTerrain;
        },
        callback: function (_0x373262) {
          _0x315246.scene.globe.depthTestAgainstTerrain = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_显示星空背景");
        },
        icon: Icon.SkyBoxYes,
        show: function (_0x59d8f1) {
          var _0x3a07f2;
          return (_0x3a07f2 = _0x315246.scene.skyBox) === null || _0x3a07f2 === undefined || !_0x3a07f2.show;
        },
        callback: function (_0x5321ef) {
          _0x315246.scene.skyBox.show = true;
          _0x315246.scene.moon.show = true;
          _0x315246.scene.sun.show = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭星空背景");
        },
        icon: Icon.SkyBoxNo,
        show: function (_0x297168) {
          return _0x315246.scene.skyBox?.show;
        },
        callback: function (_0x7baba6) {
          _0x315246.scene.skyBox.show = false;
          _0x315246.scene.moon.show = false;
          _0x315246.scene.sun.show = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启日照阴影");
        },
        icon: Icon.ShadowYes,
        show: function (_0x2440b7) {
          return !_0x315246.viewer.shadows;
        },
        callback: function (_0x50142b) {
          _0x315246.viewer.shadows = true;
          _0x315246.viewer.terrainShadows = Cesium__namespace.ShadowMode.ENABLED;
          _0x315246.scene.globe.enableLighting = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭日照阴影");
        },
        icon: Icon.ShadowNo,
        show: function (_0x355c40) {
          return _0x315246.viewer.shadows;
        },
        callback: function (_0xc5c1c8) {
          _0x315246.viewer.shadows = false;
          _0x315246.viewer.terrainShadows = Cesium__namespace.ShadowMode.RECEIVE_ONLY;
          _0x315246.scene.globe.enableLighting = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_开启大气渲染");
        },
        icon: Icon.SkyAtmosphereYes,
        show: function (_0x3eb13e) {
          return _0x315246.scene.skyAtmosphere && !_0x315246.scene.skyAtmosphere.show;
        },
        callback: function (_0x43363d) {
          _0x315246.scene.skyAtmosphere.show = true;
          _0x315246.scene.globe.showGroundAtmosphere = true;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_关闭大气渲染");
        },
        icon: Icon.SkyAtmosphereNo,
        show: function (_0x439d0b) {
          return _0x315246.scene.skyAtmosphere?.show;
        },
        callback: function (_0x520b5a) {
          _0x315246.scene.skyAtmosphere.show = false;
          _0x315246.scene.globe.showGroundAtmosphere = false;
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_导入JSON");
        },
        icon: Icon.DrawDownJson,
        callback: function (_0x14102d) {
          openFile({
            accept: ".json,.geojson"
          }).then(_0x29d852 => {
            logInfo("导入场景JSON文件", _0x29d852.text);
            _0x315246.setOptions(_0x29d852.text, {
              merge: false
            });
          });
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_导出JSON");
        },
        icon: Icon.DrawDownJson,
        callback: function (_0x334961) {
          const _0x39402b = _0x315246.toJSON({
            toNum: true
          });
          logInfo("Map场景配置", _0x39402b);
          downloadFile("Map场景配置.json", JSON.stringify(_0x39402b));
        }
      }, {
        text: function () {
          return _0x315246.getLangText("_场景出图");
        },
        icon: Icon.ExpImage,
        callback: function (_0xac037b) {
          _0x315246.expImage();
        }
      }]
    }];
  }
  class TraversalDetails {
    constructor() {
      this.allAreRenderable = true;
      this.anyWereRenderedLastFrame = false;
      this.notYetRenderableCount = 0;
    }
  }
  class TraversalQuadDetails {
    constructor() {
      this.southwest = new TraversalDetails();
      this.southeast = new TraversalDetails();
      this.northwest = new TraversalDetails();
      this.northeast = new TraversalDetails();
    }
    combine(_0x388bc1) {
      const _0x2772a9 = this.southwest;
      const _0x418d8b = this.southeast;
      const _0x5c6631 = this.northwest;
      const _0x449494 = this.northeast;
      _0x388bc1.allAreRenderable = _0x2772a9.allAreRenderable && _0x418d8b.allAreRenderable && _0x5c6631.allAreRenderable && _0x449494.allAreRenderable;
      _0x388bc1.anyWereRenderedLastFrame = _0x2772a9.anyWereRenderedLastFrame || _0x418d8b.anyWereRenderedLastFrame || _0x5c6631.anyWereRenderedLastFrame || _0x449494.anyWereRenderedLastFrame;
      _0x388bc1.notYetRenderableCount = _0x2772a9.notYetRenderableCount + _0x418d8b.notYetRenderableCount + _0x5c6631.notYetRenderableCount + _0x449494.notYetRenderableCount;
    }
  }
  function prepareNewTile(_0x4cb1ea, _0x88905c, _0x1700d5) {
    for (let _0x19702a = 0, _0x48b66b = _0x1700d5.length; _0x19702a < _0x48b66b; ++_0x19702a) {
      const _0x26c24c = _0x1700d5.get(_0x19702a);
      if (_0x26c24c.show) {
        _0x26c24c._createTileImagerySkeletons(_0x4cb1ea, _0x88905c);
      }
    }
  }
  function requestTileGeometry(_0x48ca1a, _0x1a917b, _0xbb862d, _0x305039) {
    _0x48ca1a.primitive = _0x48ca1a.createRectanglePrimitive(_0x1a917b, _0x305039.classificationType);
    if (_0x48ca1a.primitive) {
      _0x48ca1a.geometryState = Cesium__namespace.TerrainState.RECEIVED;
      _0x48ca1a.primitive.forEach(_0x5874a3 => {
        _0x5874a3.update(_0xbb862d);
      });
    }
  }
  function processGeometryStateMachine(_0x4f0604, _0x3b5ea4, _0x4b2111, _0x3a8560) {
    if (!_0x4b2111) {
      return;
    }
    const _0x53dae9 = _0x4f0604.data;
    if (_0x53dae9.geometryState === Cesium__namespace.TerrainState.UNLOADED) {
      _0x53dae9.geometryState = Cesium__namespace.TerrainState.RECEIVING;
      requestTileGeometry(_0x53dae9, _0x4f0604.rectangle, _0x3a8560, _0x3b5ea4);
    }
    if (_0x53dae9.geometryState === Cesium__namespace.TerrainState.RECEIVED) {
      _0x53dae9.geometryState = Cesium__namespace.TerrainState.READY;
    }
  }
  function getMaterial(_0x5418aa, _0x24d7ce) {
    const _0xbaed0b = {
      u_tileRectangle: new Cesium__namespace.Cartesian4()
    };
    for (let _0x34db16 = 0; _0x34db16 < _0x5418aa; _0x34db16++) {
      _0xbaed0b["u_textures" + _0x34db16] = Cesium__namespace.Material.DefaultImageId;
      _0xbaed0b["u_textureTranslationAndScale" + _0x34db16] = new Cesium__namespace.Cartesian4();
      _0xbaed0b["u_textureCoordinateRectangle" + _0x34db16] = new Cesium__namespace.Cartesian4();
      _0xbaed0b["u_textureUseWebMercatorT" + _0x34db16] = true;
      _0xbaed0b["u_textureAlpha" + _0x34db16] = 1;
    }
    const _0xb8183e = _0x24d7ce + "" + _0x5418aa;
    const _0x216636 = Cesium__namespace.Material._materialCache.getMaterial(_0xb8183e);
    if (!Cesium__namespace.defined(_0x216636)) {
      const _0x5c77e7 = "\n    vec4 sampleAndBlend(\n      vec4 previousColor,\n      sampler2D textureToSample,\n      vec2 tileTextureCoordinates,\n      vec4 textureCoordinateRectangle,\n      vec4 textureCoordinateTranslationAndScale,\n      float textureAlpha\n    ) {\n      vec2 alphaMultiplier = step(textureCoordinateRectangle.st, tileTextureCoordinates);\n      textureAlpha = textureAlpha * alphaMultiplier.x * alphaMultiplier.y;\n\n      alphaMultiplier = step(vec2(0.0), textureCoordinateRectangle.pq - tileTextureCoordinates);\n      textureAlpha = textureAlpha * alphaMultiplier.x * alphaMultiplier.y;\n\n      vec2 translation = textureCoordinateTranslationAndScale.xy;\n      vec2 scale = textureCoordinateTranslationAndScale.zw;\n      vec2 textureCoordinates = tileTextureCoordinates * scale + translation;\n      vec4 value = texture(textureToSample, textureCoordinates);\n      vec3 color = value.rgb;\n      float alpha = value.a;\n\n      vec4 tempColor = czm_gammaCorrect(vec4(color, alpha));\n      color = tempColor.rgb;\n      alpha = tempColor.a;\n\n      float sourceAlpha = alpha * textureAlpha;\n      float outAlpha = mix(previousColor.a, 1.0, sourceAlpha);\n      outAlpha += sign(outAlpha) - 1.0;\n\n      vec3 outColor = mix(previousColor.rgb * previousColor.a, color, sourceAlpha) / outAlpha;\n\n      return vec4(outColor, max(outAlpha, 0.0));\n    }\n      ";
      let _0x39ecee = "\n    vec4 computeColor(vec4 initialColor, vec3 textureCoordinates)\n    {\n      vec4 color = initialColor;\n    ";
      for (let _0x2a463e = 0; _0x2a463e < _0x5418aa; _0x2a463e++) {
        _0x39ecee += "\n      color = sampleAndBlend(";
        _0x39ecee += "\n        color,\n        u_textures" + _0x2a463e + ",\n        u_textureUseWebMercatorT" + _0x2a463e + " ? textureCoordinates.xz : textureCoordinates.xy,\n        u_textureCoordinateRectangle" + _0x2a463e + ",\n        u_textureTranslationAndScale" + _0x2a463e + ",\n        u_textureAlpha" + _0x2a463e + "\n      );";
      }
      _0x39ecee += "\n      return color;\n    }";
      const _0x50d39e = "\n        #define MaximumLatitude 1.4844222297453322\n\n        float geodeticLatitudeToMercatorAngle(float latitude) {\n          latitude = min(latitude, MaximumLatitude);\n          latitude = max(latitude, -MaximumLatitude);\n          float sinLatitude = sin(latitude);\n          return 0.5 * log((1.0 + sinLatitude) / (1.0 - sinLatitude));\n        }\n\n        float getMercatorY(vec2 uv, float south, float north) {\n          vec2 geographicUV = uv;\n\n          float southMercatorY = geodeticLatitudeToMercatorAngle(south);\n\n          float northMercatorY = geodeticLatitudeToMercatorAngle(north);\n\n          float fraction = mix(south, north, geographicUV.y);\n          float mercatorY = geodeticLatitudeToMercatorAngle(fraction);\n\n          float oneOverMercatorHeight = 1.0 / (northMercatorY - southMercatorY);\n          float mercatorFraction = (mercatorY - southMercatorY) * oneOverMercatorHeight;\n          return mercatorFraction;\n        }\n\n        " + _0x5c77e7 + "\n\n        " + _0x39ecee + "\n\n        czm_material czm_getMaterial(czm_materialInput materialInput)\n        {\n          czm_material m = czm_getDefaultMaterial(materialInput);\n          vec2 uv = materialInput.st;\n\n          float webMercatorT = getMercatorY(uv, u_tileRectangle.y, u_tileRectangle.w);\n\n          vec4 u_initialColor = vec4(0.0);\n          vec3 v_textureCoordinates = vec3(\n            uv,\n            webMercatorT\n          );\n          vec4 color = computeColor(u_initialColor, clamp(v_textureCoordinates, 0.0, 1.0));\n\n          m.diffuse = color.rgb;\n          m.alpha = color.a;\n          return m;\n        }\n      ";
      Cesium__namespace.Material._materialCache.addMaterial(_0xb8183e, {
        fabric: {
          type: _0xb8183e,
          uniforms: _0xbaed0b,
          source: _0x50d39e
        }
      });
    }
    return Cesium__namespace.Material.fromType(_0xb8183e, _0xbaed0b);
  }
  class GroundSurfaceTile {
    constructor(_0x3ee6c8) {
      this.imagery = [];
      this.primitive = undefined;
      this.boundingVolumeSourceTile = undefined;
      this.clippedByBoundaries = false;
      this.geometryState = Cesium__namespace.TerrainState.UNLOADED;
      this.orientedBoundingBox = Cesium__namespace.OrientedBoundingBox.fromRectangle(_0x3ee6c8, 0, 10000, Cesium__namespace.Ellipsoid.WGS84);
      this.tileBoundingRegion = new Cesium__namespace.TileBoundingRegion({
        computeBoundingVolumes: false,
        rectangle: _0x3ee6c8,
        ellipsoid: Cesium__namespace.Ellipsoid.WGS84,
        minimumHeight: 0,
        maximumHeight: 0
      });
    }
    freeResources() {
      this.geometryState = Cesium__namespace.TerrainState.UNLOADED;
      if (this.primitive) {
        this.primitive.forEach(_0x17060c => {
          _0x17060c.destroy();
        });
      }
      this.primitive = undefined;
      const _0x1d19e8 = this.imagery;
      for (let _0x178265 = 0, _0x1e7600 = _0x1d19e8.length; _0x178265 < _0x1e7600; ++_0x178265) {
        _0x1d19e8[_0x178265].freeResources();
      }
      this.imagery.length = 0;
    }
    static initialize(_0x596fdf, _0x339f4f, _0xfea770) {
      let _0x1753a5 = _0x596fdf.data;
      if (!Cesium__namespace.defined(_0x1753a5)) {
        _0x1753a5 = _0x596fdf.data = new GroundSurfaceTile(_0x596fdf.rectangle);
      }
      if (_0x596fdf.state === Cesium__namespace.QuadtreeTileLoadState.START) {
        prepareNewTile(_0x596fdf, _0x339f4f, _0xfea770);
        _0x596fdf.state = Cesium__namespace.QuadtreeTileLoadState.LOADING;
      }
    }
    static processStateMachine(_0x5367cc, _0x45c423, _0xe0de31, _0x4304e7) {
      GroundSurfaceTile.initialize(_0x5367cc, _0xe0de31, _0x4304e7);
      const _0x1272fb = _0x5367cc.data;
      const _0x50a715 = _0x1272fb.processImagery(_0x5367cc, _0xe0de31, _0x45c423);
      if (_0x5367cc.state === Cesium__namespace.QuadtreeTileLoadState.LOADING) {
        processGeometryStateMachine(_0x5367cc, _0xe0de31, _0x50a715, _0x45c423);
      }
      const _0x218020 = _0x5367cc.renderable;
      _0x5367cc.renderable = Cesium__namespace.defined(_0x1272fb.primitive);
      const _0x6590ec = _0x5367cc.data.geometryState === Cesium__namespace.TerrainState.READY;
      _0x5367cc.upsampledFromParent = false;
      if (_0x50a715 && _0x6590ec) {
        const _0x172738 = _0x5367cc._loadedCallbacks;
        const _0x2ac322 = {};
        for (const _0x2bc31c in _0x172738) {
          if (_0x172738.hasOwnProperty(_0x2bc31c)) {
            if (!_0x172738[_0x2bc31c](_0x5367cc)) {
              _0x2ac322[_0x2bc31c] = _0x172738[_0x2bc31c];
            }
          }
        }
        _0x5367cc._loadedCallbacks = _0x2ac322;
        _0x5367cc.state = Cesium__namespace.QuadtreeTileLoadState.DONE;
      }
      if (_0x218020) {
        _0x5367cc.renderable = true;
      }
    }
    processImagery(_0x315ca1, _0x6edbe5, _0x2ab87c, _0x10056d) {
      const _0x3a8a55 = _0x315ca1.data;
      let _0x1764ad = _0x315ca1.upsampledFromParent;
      let _0x1bd9d9 = false;
      let _0x34485c = true;
      const _0x18ac2e = _0x3a8a55.imagery;
      let _0x38a50b;
      let _0x500bcc;
      _0x38a50b = 0;
      _0x500bcc = _0x18ac2e.length;
      for (; _0x38a50b < _0x500bcc; ++_0x38a50b) {
        const _0x4d2b1e = _0x18ac2e[_0x38a50b];
        if (!Cesium__namespace.defined(_0x4d2b1e.loadingImagery)) {
          _0x1764ad = false;
          continue;
        }
        if (_0x4d2b1e.loadingImagery.state === Cesium__namespace.ImageryState.PLACEHOLDER) {
          const _0x599fd4 = _0x4d2b1e.loadingImagery.imageryLayer;
          if (_0x599fd4.ready) {
            _0x4d2b1e.freeResources();
            _0x18ac2e.splice(_0x38a50b, 1);
            _0x599fd4._createTileImagerySkeletons(_0x315ca1, _0x6edbe5, _0x38a50b);
            --_0x38a50b;
            _0x500bcc = _0x18ac2e.length;
            continue;
          } else {
            _0x1764ad = false;
          }
        }
        const _0x3478b8 = _0x4d2b1e.processStateMachine(_0x315ca1, _0x2ab87c, _0x10056d);
        _0x34485c = _0x34485c && _0x3478b8;
        _0x1bd9d9 = _0x1bd9d9 || _0x3478b8 || Cesium__namespace.defined(_0x4d2b1e.readyImagery);
        _0x1764ad = _0x1764ad && Cesium__namespace.defined(_0x4d2b1e.loadingImagery) && (_0x4d2b1e.loadingImagery.state === Cesium__namespace.ImageryState.FAILED || _0x4d2b1e.loadingImagery.state === Cesium__namespace.ImageryState.INVALID);
      }
      _0x315ca1.upsampledFromParent = _0x1764ad;
      _0x315ca1.renderable = _0x315ca1.renderable && (_0x1bd9d9 || _0x34485c);
      return _0x34485c;
    }
    createRectanglePrimitive(_0x135da3, _0x164c72) {
      const _0x189f49 = [];
      const _0x2e79f4 = [];
      this.imagery.forEach(_0x3a788d => {
        if (_0x3a788d.useWebMercatorT) {
          _0x189f49.push(_0x3a788d);
        } else {
          _0x2e79f4.push(_0x3a788d);
        }
      });
      const _0x338444 = [];
      const _0x33a6f4 = [];
      const _0x42311d = [];
      const _0x400e4d = Cesium__namespace.ContextLimits.maximumTextureImageUnits - 1;
      if (_0x189f49.length < _0x400e4d) {
        _0x33a6f4.push(_0x189f49);
      } else {
        let _0xc04e3c = [];
        let _0xb24cbe = 0;
        _0x189f49.forEach(_0x3350d7 => {
          if (_0xb24cbe < _0x400e4d) {
            _0xb24cbe += 1;
            _0xc04e3c.push(_0x3350d7);
          } else {
            _0xb24cbe = 0;
            _0x33a6f4.push(_0xc04e3c);
            _0xc04e3c = [];
          }
        });
        _0x33a6f4.push(_0xc04e3c);
      }
      _0x33a6f4.forEach(_0xbd87d2 => {
        const _0xcc9860 = new Cesium__namespace.GroundPrimitive({
          geometryInstances: new Cesium__namespace.GeometryInstance({
            geometry: new Cesium__namespace.RectangleGeometry({
              rectangle: _0x135da3,
              vertexFormat: Cesium__namespace.VertexFormat.POSITION_AND_ST,
              height: 0,
              extrudedHeight: 20000
            })
          }),
          appearance: new Cesium__namespace.MaterialAppearance({
            translucent: false,
            material: getMaterial(_0xbd87d2.length, true)
          }),
          asynchronous: false,
          classificationType: _0x164c72
        });
        _0x338444.push(_0xcc9860);
        _0xcc9860.imagers = _0xbd87d2;
      });
      if (_0x2e79f4.length < _0x400e4d) {
        _0x42311d.push(_0x2e79f4);
      } else {
        let _0x5adef0 = [];
        let _0x40e6a3 = 0;
        _0x2e79f4.forEach(_0x4bab5b => {
          if (_0x40e6a3 < _0x400e4d) {
            _0x40e6a3 += 1;
            _0x5adef0.push(_0x4bab5b);
          } else {
            _0x40e6a3 = 0;
            _0x42311d.push(_0x5adef0);
            _0x5adef0 = [];
          }
        });
        _0x42311d.push(_0x5adef0);
      }
      _0x42311d.forEach(_0x89471 => {
        const _0x5cf237 = new Cesium__namespace.GroundPrimitive({
          geometryInstances: new Cesium__namespace.GeometryInstance({
            geometry: new Cesium__namespace.RectangleGeometry({
              rectangle: _0x135da3,
              vertexFormat: Cesium__namespace.VertexFormat.POSITION_AND_ST
            })
          }),
          appearance: new Cesium__namespace.MaterialAppearance({
            translucent: true,
            material: getMaterial(_0x89471.length, true)
          }),
          asynchronous: false,
          classificationType: _0x164c72
        });
        _0x338444.push(_0x5cf237);
        _0x5cf237.imagers = _0x89471;
      });
      return _0x338444;
    }
  }
  function sortTileImageryByLayerIndex(_0x15b1c9, _0x13fdbb) {
    let _0x1c89b0 = _0x15b1c9.loadingImagery;
    if (!Cesium__namespace.defined(_0x1c89b0)) {
      _0x1c89b0 = _0x15b1c9.readyImagery;
    }
    let _0x2806fd = _0x13fdbb.loadingImagery;
    if (!Cesium__namespace.defined(_0x2806fd)) {
      _0x2806fd = _0x13fdbb.readyImagery;
    }
    return _0x1c89b0.imageryLayer._layerIndex - _0x2806fd.imageryLayer._layerIndex;
  }
  const rectangleIntersectionScratch = new Cesium__namespace.Rectangle();
  const splitCartographicLimitRectangleScratch = new Cesium__namespace.Rectangle();
  const rectangleCenterScratch = new Cesium__namespace.Cartographic();
  function clipRectangleAntimeridian(_0x446d7e, _0x6309bd) {
    if (_0x6309bd.west < _0x6309bd.east) {
      return _0x6309bd;
    }
    const _0x45e633 = Cesium__namespace.Rectangle.clone(_0x6309bd, splitCartographicLimitRectangleScratch);
    const _0x519821 = Cesium__namespace.Rectangle.center(_0x446d7e, rectangleCenterScratch);
    if (_0x519821.longitude > 0) {
      _0x45e633.east = Cesium__namespace.Math.PI;
    } else {
      _0x45e633.west = -Cesium__namespace.Math.PI;
    }
    return _0x45e633;
  }
  const readyImageryScratch = [];
  const canRenderTraversalStack = [];
  const tileDirectionScratch = new Cesium__namespace.Cartesian3();
  function updateTileBoundingRegion(_0x3c3573, _0x3e0422) {
    let _0xb12a14 = _0x3c3573.data;
    if (_0xb12a14 === undefined) {
      _0xb12a14 = _0x3c3573.data = new GroundSurfaceTile(_0x3c3573.rectangle);
    }
    return _0x3c3573.data.orientedBoundingBox.distanceSquaredTo(_0x3e0422.camera.positionWC);
  }
  function getTileReadyCallback(_0x4dc48b, _0x510f9f, _0x3539f3) {
    return _0x220437 => {
      let _0x544945;
      let _0xbc2343;
      let _0x3c5edf = -1;
      const _0x486301 = _0x220437.data.imagery;
      const _0x474c1a = _0x486301.length;
      let _0x340b67;
      for (_0x340b67 = 0; _0x340b67 < _0x474c1a; ++_0x340b67) {
        _0x544945 = _0x486301[_0x340b67];
        _0xbc2343 = _0x544945.readyImagery ?? _0x544945.loadingImagery;
        if (_0xbc2343.imageryLayer === _0x510f9f) {
          _0x3c5edf = _0x340b67;
          break;
        }
      }
      if (_0x3c5edf !== -1) {
        const _0x412356 = _0x3c5edf + _0x4dc48b;
        _0x544945 = _0x486301[_0x412356];
        _0xbc2343 = Cesium__namespace.defined(_0x544945) ? _0x544945.readyImagery ?? _0x544945.loadingImagery : undefined;
        if (!Cesium__namespace.defined(_0xbc2343) || _0xbc2343.imageryLayer !== _0x510f9f) {
          return !_0x510f9f._createTileImagerySkeletons(_0x220437, _0x3539f3, _0x412356);
        }
        for (_0x340b67 = _0x3c5edf; _0x340b67 < _0x412356; ++_0x340b67) {
          _0x486301[_0x340b67].freeResources();
        }
        _0x486301.splice(_0x3c5edf, _0x4dc48b);
      }
      return true;
    };
  }
  const scratchCartesian4 = new Cesium__namespace.Cartesian4();
  function updateTileDataRectanglePrimitive(_0xd40746, _0x19077b, _0x4b97a6) {
    const _0xf0711e = _0xd40746.data;
    const _0x460772 = _0xf0711e.primitive;
    _0x460772.forEach(_0x4a8642 => {
      let _0x1c0aa2 = false;
      const _0x2f505e = _0x4a8642.imagers;
      const _0x308faa = _0x4a8642.appearance.material.uniforms;
      for (let _0x40491a = 0, _0x29972e = _0x2f505e.length; _0x40491a < _0x29972e; _0x40491a++) {
        const _0x401290 = _0x2f505e[_0x40491a];
        const _0x2b1e19 = _0x401290.readyImagery;
        if (Cesium__namespace.defined(_0x2b1e19)) {
          const _0x335bd1 = _0x401290.useWebMercatorT ? _0x2b1e19.textureWebMercator : _0x2b1e19.texture;
          _0x4a8642.appearance.material._textures["u_textures" + _0x40491a] = _0x335bd1;
          if (!Cesium__namespace.defined(_0x401290.textureTranslationAndScale)) {
            _0x401290.textureTranslationAndScale = _0x401290.imageryLayer._calculateTextureTranslationAndScale(_0xd40746, _0x401290);
          }
          Cesium__namespace.Cartesian4.clone(_0x401290.textureTranslationAndScale, _0x308faa["u_textureTranslationAndScale" + _0x40491a]);
          Cesium__namespace.Cartesian4.clone(_0x401290.textureCoordinateRectangle, _0x308faa["u_textureCoordinateRectangle" + _0x40491a]);
          _0x308faa["u_textureUseWebMercatorT" + _0x40491a] = _0x401290.useWebMercatorT;
          _0x308faa["u_textureAlpha" + _0x40491a] = _0x2b1e19.imageryLayer?.alpha ?? 1;
          Cesium__namespace.Cartesian4.fromElements(_0xd40746.rectangle.west, _0xd40746.rectangle.south, _0xd40746.rectangle.east, _0xd40746.rectangle.north, scratchCartesian4);
          Cesium__namespace.Cartesian4.clone(scratchCartesian4, _0x308faa.u_tileRectangle);
          _0x1c0aa2 = true;
        }
      }
      if (_0x1c0aa2) {
        _0x4a8642.classificationType = _0x4b97a6;
        _0x4a8642.update(_0x19077b);
      }
    });
  }
  class GlobeSurfaceTileProvider {
    constructor(_0x2260ec) {
      this._quadtree = undefined;
      this._terrainProvider = new Cesium__namespace.EllipsoidTerrainProvider();
      this.classificationType = Cesium__namespace.ClassificationType.BOTH;
      this._imageryLayers = _0x2260ec;
      this._errorEvent = new Cesium__namespace.Event();
      this._removeLayerAddedListener = this._imageryLayers.layerAdded.addEventListener(GlobeSurfaceTileProvider.prototype._onLayerAdded, this);
      this._removeLayerRemovedListener = this._imageryLayers.layerRemoved.addEventListener(GlobeSurfaceTileProvider.prototype._onLayerRemoved, this);
      this._removeLayerMovedListener = this._imageryLayers.layerMoved.addEventListener(GlobeSurfaceTileProvider.prototype._onLayerMoved, this);
      this._removeLayerShownListener = this._imageryLayers.layerShownOrHidden.addEventListener(GlobeSurfaceTileProvider.prototype._onLayerShownOrHidden, this);
      this._imageryLayersUpdatedEvent = new Cesium__namespace.Event();
      this._layerOrderChanged = false;
      this._tilesToRenderByTextureCount = [];
      const _0x543cf2 = {
        wireframe: false,
        boundingSphereTile: undefined
      };
      this._debug = _0x543cf2;
      this._baseColor = new Cesium__namespace.Color(0, 0, 0.5, 1);
      this._firstPassInitialColor = undefined;
      this.cartographicLimitRectangle = Cesium__namespace.Rectangle.clone(Cesium__namespace.Rectangle.MAX_VALUE);
    }
    get baseColor() {
      return this._baseColor;
    }
    set baseColor(_0x18d707) {
      this._baseColor = _0x18d707;
      this._firstPassInitialColor = Cesium__namespace.Cartesian4.fromColor(_0x18d707, this._firstPassInitialColor);
    }
    get quadtree() {
      return this._quadtree;
    }
    set quadtree(_0x32e5fc) {
      this._quadtree = _0x32e5fc;
    }
    get tilingScheme() {
      if (!Cesium__namespace.defined(this._terrainProvider)) {
        return undefined;
      }
      return this._terrainProvider.tilingScheme;
    }
    get errorEvent() {
      return this._errorEvent;
    }
    get imageryLayersUpdatedEvent() {
      return this._imageryLayersUpdatedEvent;
    }
    update(_0x54483c) {
      this._imageryLayers._update();
    }
    initialize(_0x2a11e6) {
      this._imageryLayers.queueReprojectionCommands(_0x2a11e6);
      if (this._layerOrderChanged) {
        this._layerOrderChanged = false;
        this._quadtree.forEachLoadedTile(_0x29d691 => {
          _0x29d691.data.imagery.sort(sortTileImageryByLayerIndex);
        });
      }
    }
    beginUpdate(_0x5f57d8) {
      const _0x565682 = this._tilesToRenderByTextureCount;
      for (let _0x4538b4 = 0, _0x5c8c48 = _0x565682.length; _0x4538b4 < _0x5c8c48; ++_0x4538b4) {
        const _0x1804ff = _0x565682[_0x4538b4];
        if (Cesium__namespace.defined(_0x1804ff)) {
          _0x1804ff.length = 0;
        }
      }
    }
    endUpdate(_0x3313e0) {
      const _0x104be5 = this._tilesToRenderByTextureCount;
      for (let _0x537649 = 0, _0x17e858 = _0x104be5.length; _0x537649 < _0x17e858; ++_0x537649) {
        const _0x5dd6f0 = _0x104be5[_0x537649];
        if (!Cesium__namespace.defined(_0x5dd6f0)) {
          continue;
        }
        for (let _0xda9772 = 0, _0x2ade41 = _0x5dd6f0.length; _0xda9772 < _0x2ade41; ++_0xda9772) {
          const _0x1d6d0c = _0x5dd6f0[_0xda9772];
          const _0x2060f6 = _0x1d6d0c.data.primitive;
          if (_0x2060f6 && _0x2060f6.length > 0) {
            updateTileDataRectanglePrimitive(_0x1d6d0c, _0x3313e0, this.classificationType);
          }
        }
      }
    }
    cancelReprojections() {
      this._imageryLayers.cancelReprojections();
    }
    getLevelMaximumGeometricError(_0x512cce) {
      if (!Cesium__namespace.defined(this._terrainProvider)) {
        return 0;
      }
      return this._terrainProvider.getLevelMaximumGeometricError(_0x512cce);
    }
    loadTile(_0x5a710e, _0x993dca) {
      let _0xf702c3 = _0x993dca.data;
      let _0x3fa5bf;
      if (Cesium__namespace.defined(_0xf702c3)) {
        _0x3fa5bf = _0xf702c3.geometryState;
      }
      GroundSurfaceTile.processStateMachine(_0x993dca, _0x5a710e, this._terrainProvider, this._imageryLayers);
      _0xf702c3 = _0x993dca.data;
      if (_0x3fa5bf !== _0x993dca.data.geometryState) {
        if (this.computeTileVisibility(_0x993dca, _0x5a710e, this.quadtree.occluders) !== Cesium__namespace.Visibility.NONE && _0xf702c3.boundingVolumeSourceTile === _0x993dca) {
          GroundSurfaceTile.processStateMachine(_0x993dca, _0x5a710e, this._terrainProvider, this._imageryLayers);
        }
      }
    }
    computeTileVisibility(_0x1810ad, _0x317e2d, _0x1860b5) {
      const _0x1d9423 = this.computeDistanceToTile(_0x1810ad, _0x317e2d);
      _0x1810ad._distance = _0x1d9423;
      const _0x37f0c8 = _0x1810ad.data;
      const _0x307f87 = _0x37f0c8.tileBoundingRegion;
      if (_0x37f0c8.boundingVolumeSourceTile === undefined) {
        return Cesium__namespace.Visibility.PARTIAL;
      }
      const _0x92ccba = _0x317e2d.cullingVolume;
      let _0x3a0892 = _0x307f87.boundingVolume;
      if (!Cesium__namespace.defined(_0x3a0892)) {
        _0x3a0892 = _0x307f87.boundingSphere;
      }
      _0x37f0c8.clippedByBoundaries = false;
      const _0x329ce5 = clipRectangleAntimeridian(_0x1810ad.rectangle, this.cartographicLimitRectangle);
      const _0x57e256 = Cesium__namespace.Rectangle.simpleIntersection(_0x329ce5, _0x1810ad.rectangle, rectangleIntersectionScratch);
      if (!Cesium__namespace.defined(_0x57e256)) {
        return Cesium__namespace.Visibility.NONE;
      }
      if (!Cesium__namespace.Rectangle.equals(_0x57e256, _0x1810ad.rectangle)) {
        _0x37f0c8.clippedByBoundaries = true;
      }
      if (!Cesium__namespace.defined(_0x3a0892)) {
        return Cesium__namespace.Visibility.PARTIAL;
      }
      let _0x2989bb;
      const _0x5bec21 = _0x92ccba.computeVisibility(_0x3a0892);
      if (_0x5bec21 === Cesium__namespace.Intersect.OUTSIDE) {
        _0x2989bb = Cesium__namespace.Visibility.NONE;
      } else if (_0x5bec21 === Cesium__namespace.Intersect.INTERSECTING) {
        _0x2989bb = Cesium__namespace.Visibility.PARTIAL;
      } else if (_0x5bec21 === Cesium__namespace.Intersect.INSIDE) {
        _0x2989bb = Cesium__namespace.Visibility.FULL;
      }
      if (_0x2989bb === Cesium__namespace.Visibility.NONE) {
        return _0x2989bb;
      }
      return _0x2989bb;
    }
    canRefine(_0x282271) {
      if (Cesium__namespace.defined(_0x282271.data.primitive)) {
        return true;
      }
      const _0x457ba6 = this._terrainProvider.getTileDataAvailable(_0x282271.x * 2, _0x282271.y * 2, _0x282271.level + 1);
      return _0x457ba6 !== undefined;
    }
    canRenderWithoutLosingDetail(_0xe7b614, _0x4549d2) {
      const _0x1f128e = _0xe7b614.data;
      const _0xa87d7d = readyImageryScratch;
      _0xa87d7d.length = this._imageryLayers.length;
      let _0x5262e1 = false;
      let _0x4ce775 = false;
      let _0x10009e;
      if (Cesium__namespace.defined(_0x1f128e)) {
        _0x5262e1 = _0x1f128e.geometryState === Cesium__namespace.TerrainState.READY;
        _0x4ce775 = true;
        _0x10009e = _0x1f128e.imagery;
      }
      let _0x149e58;
      let _0x547774;
      _0x149e58 = 0;
      _0x547774 = _0xa87d7d.length;
      for (; _0x149e58 < _0x547774; ++_0x149e58) {
        _0xa87d7d[_0x149e58] = _0x4ce775;
      }
      if (Cesium__namespace.defined(_0x10009e)) {
        _0x149e58 = 0;
        _0x547774 = _0x10009e.length;
        for (; _0x149e58 < _0x547774; ++_0x149e58) {
          const _0x1a0a3d = _0x10009e[_0x149e58];
          const _0x266269 = _0x1a0a3d.loadingImagery;
          const _0x52e176 = !Cesium__namespace.defined(_0x266269) || _0x266269.state === Cesium__namespace.ImageryState.FAILED || _0x266269.state === Cesium__namespace.ImageryState.INVALID;
          const _0x4a7662 = (_0x1a0a3d.loadingImagery || _0x1a0a3d.readyImagery).imageryLayer._layerIndex;
          _0xa87d7d[_0x4a7662] = _0x52e176 && _0xa87d7d[_0x4a7662];
        }
      }
      const _0x58db92 = this.quadtree._lastSelectionFrameNumber;
      const _0xf159ba = canRenderTraversalStack;
      _0xf159ba.length = 0;
      _0xf159ba.push(_0xe7b614.southwestChild, _0xe7b614.southeastChild, _0xe7b614.northwestChild, _0xe7b614.northeastChild);
      while (_0xf159ba.length > 0) {
        const _0x6d6013 = _0xf159ba.pop();
        const _0x746755 = _0x6d6013._lastSelectionResultFrame === _0x58db92 ? _0x6d6013._lastSelectionResult : Cesium__namespace.TileSelectionResult.NONE;
        if (_0x746755 === Cesium__namespace.TileSelectionResult.RENDERED) {
          const _0x21cd3c = _0x6d6013.data;
          if (!Cesium__namespace.defined(_0x21cd3c)) {
            continue;
          }
          if (!_0x5262e1 && _0x6d6013.data.geometryState === Cesium__namespace.TerrainState.READY) {
            return false;
          }
          const _0x10c7cc = _0x6d6013.data.imagery;
          _0x149e58 = 0;
          _0x547774 = _0x10c7cc.length;
          for (; _0x149e58 < _0x547774; ++_0x149e58) {
            const _0x444975 = _0x10c7cc[_0x149e58];
            const _0x12941e = _0x444975.loadingImagery;
            const _0x346dd = !Cesium__namespace.defined(_0x12941e) || _0x12941e.state === Cesium__namespace.ImageryState.FAILED || _0x12941e.state === Cesium__namespace.ImageryState.INVALID;
            const _0x1b1ffd = (_0x444975.loadingImagery || _0x444975.readyImagery).imageryLayer._layerIndex;
            if (_0x346dd && !_0xa87d7d[_0x1b1ffd]) {
              return false;
            }
          }
        } else if (_0x746755 === Cesium__namespace.TileSelectionResult.REFINED) {
          _0xf159ba.push(_0x6d6013.southwestChild, _0x6d6013.southeastChild, _0x6d6013.northwestChild, _0x6d6013.northeastChild);
        }
      }
      return true;
    }
    computeTileLoadPriority(_0x3fd1e4, _0x551f30) {
      const _0x5d8404 = _0x3fd1e4.data;
      if (_0x5d8404 === undefined) {
        return 0;
      }
      const _0x3b8170 = _0x5d8404.tileBoundingRegion.boundingVolume;
      if (_0x3b8170 === undefined) {
        return 0;
      }
      const _0x134bfd = _0x551f30.camera.positionWC;
      const _0x303816 = _0x551f30.camera.directionWC;
      const _0x152c3c = Cesium__namespace.Cartesian3.subtract(_0x3b8170.center, _0x134bfd, tileDirectionScratch);
      const _0x1895f6 = Cesium__namespace.Cartesian3.magnitude(_0x152c3c);
      if (_0x1895f6 < Cesium__namespace.Math.EPSILON5) {
        return 0;
      }
      Cesium__namespace.Cartesian3.divideByScalar(_0x152c3c, _0x1895f6, _0x152c3c);
      return (1 - Cesium__namespace.Cartesian3.dot(_0x152c3c, _0x303816)) * _0x3fd1e4._distance;
    }
    showTileThisFrame(_0x47bcd8, _0x28b72a) {
      let _0x40579a = 0;
      const _0x28711c = _0x47bcd8.data.imagery;
      for (let _0x1c0f19 = 0, _0x434bb9 = _0x28711c.length; _0x1c0f19 < _0x434bb9; ++_0x1c0f19) {
        const _0x465a56 = _0x28711c[_0x1c0f19];
        if (Cesium__namespace.defined(_0x465a56.readyImagery) && _0x465a56.readyImagery.imageryLayer.alpha !== 0) {
          ++_0x40579a;
        }
      }
      let _0xa43aa5 = this._tilesToRenderByTextureCount[_0x40579a];
      if (!Cesium__namespace.defined(_0xa43aa5)) {
        _0xa43aa5 = [];
        this._tilesToRenderByTextureCount[_0x40579a] = _0xa43aa5;
      }
      _0xa43aa5.push(_0x47bcd8);
      const _0x106cc9 = this._debug;
      ++_0x106cc9.tilesRendered;
      _0x106cc9.texturesRendered += _0x40579a;
    }
    computeDistanceToTile(_0x48d457, _0x41e565) {
      updateTileBoundingRegion(_0x48d457, _0x41e565);
      const _0x1fead8 = _0x48d457.data.tileBoundingRegion;
      return _0x1fead8.distanceToCamera(_0x41e565);
    }
    isDestroyed() {
      return false;
    }
    destroy() {
      this._removeLayerAddedListener = this._removeLayerAddedListener && this._removeLayerAddedListener();
      this._removeLayerRemovedListener = this._removeLayerRemovedListener && this._removeLayerRemovedListener();
      this._removeLayerMovedListener = this._removeLayerMovedListener && this._removeLayerMovedListener();
      this._removeLayerShownListener = this._removeLayerShownListener && this._removeLayerShownListener();
      return Cesium__namespace.destroyObject(this);
    }
    _onLayerAdded(_0x19cb9a, _0x2e9613) {
      if (_0x19cb9a.show) {
        const _0x5812b5 = this._terrainProvider;
        const _0x5c3e43 = this;
        const _0x362c35 = this._imageryLayersUpdatedEvent;
        const _0x112a14 = function () {
          _0x19cb9a._imageryCache = {};
          _0x5c3e43._quadtree.forEachLoadedTile(_0x3e82be => {
            if (Cesium__namespace.defined(_0x3e82be._loadedCallbacks[_0x19cb9a._layerIndex])) {
              return;
            }
            let _0x55dbac;
            const _0x367673 = _0x3e82be.data.imagery;
            const _0x1068fa = _0x367673.length;
            let _0x429ac7 = -1;
            let _0x4100db = 0;
            for (_0x55dbac = 0; _0x55dbac < _0x1068fa; ++_0x55dbac) {
              const _0x4a42ae = _0x367673[_0x55dbac];
              const _0x1dfc69 = _0x4a42ae.readyImagery ?? _0x4a42ae.loadingImagery;
              if (_0x1dfc69.imageryLayer === _0x19cb9a) {
                if (_0x429ac7 === -1) {
                  _0x429ac7 = _0x55dbac;
                }
                ++_0x4100db;
              } else if (_0x429ac7 !== -1) {
                break;
              }
            }
            if (_0x429ac7 === -1) {
              return;
            }
            const _0x5654da = _0x429ac7 + _0x4100db;
            if (_0x19cb9a._createTileImagerySkeletons(_0x3e82be, _0x5812b5, _0x5654da)) {
              _0x3e82be._loadedCallbacks[_0x19cb9a._layerIndex] = getTileReadyCallback(_0x4100db, _0x19cb9a, _0x5812b5);
              _0x3e82be.state = Cesium__namespace.QuadtreeTileLoadState.LOADING;
            }
          });
        };
        if (_0x19cb9a.ready) {
          const _0x59eb13 = _0x19cb9a.imageryProvider;
          _0x59eb13._reload = _0x112a14;
        }
        this._quadtree.forEachLoadedTile(_0x14e2bb => {
          if (_0x19cb9a._createTileImagerySkeletons(_0x14e2bb, _0x5812b5)) {
            _0x14e2bb.state = Cesium__namespace.QuadtreeTileLoadState.LOADING;
            if (_0x14e2bb.level !== 0 && (_0x14e2bb._lastSelectionResultFrame !== _0x5c3e43.quadtree._lastSelectionFrameNumber || _0x14e2bb._lastSelectionResult !== Cesium__namespace.TileSelectionResult.RENDERED)) {
              _0x14e2bb.renderable = false;
            }
          }
        });
        this._layerOrderChanged = true;
        _0x362c35.raiseEvent();
      }
    }
    _onLayerRemoved(_0x3840a6, _0x4cd77f) {
      this._quadtree.forEachLoadedTile(_0x5a4d72 => {
        const _0x4cc5fb = _0x5a4d72.data.imagery;
        let _0x59176e = -1;
        let _0xd28ce6 = 0;
        for (let _0x41fa7e = 0, _0x5a1fa5 = _0x4cc5fb.length; _0x41fa7e < _0x5a1fa5; ++_0x41fa7e) {
          const _0x517f52 = _0x4cc5fb[_0x41fa7e];
          let _0x495f6d = _0x517f52.loadingImagery;
          if (!Cesium__namespace.defined(_0x495f6d)) {
            _0x495f6d = _0x517f52.readyImagery;
          }
          if (_0x495f6d.imageryLayer === _0x3840a6) {
            if (_0x59176e === -1) {
              _0x59176e = _0x41fa7e;
            }
            _0x517f52.freeResources();
            ++_0xd28ce6;
          } else if (_0x59176e !== -1) {
            break;
          }
        }
        if (_0x59176e !== -1) {
          _0x4cc5fb.splice(_0x59176e, _0xd28ce6);
        }
      });
      if (Cesium__namespace.defined(_0x3840a6.imageryProvider)) {
        _0x3840a6.imageryProvider._reload = undefined;
      }
      this._imageryLayersUpdatedEvent.raiseEvent();
    }
    _onLayerMoved(_0x26c8cd, _0x48c207, _0x2f7393) {
      this._layerOrderChanged = true;
      this._imageryLayersUpdatedEvent.raiseEvent();
    }
    _onLayerShownOrHidden(_0x55531b, _0x5c476f, _0x3395d2) {
      if (_0x3395d2) {
        this._onLayerAdded(_0x55531b, _0x5c476f);
      } else {
        this._onLayerRemoved(_0x55531b, _0x5c476f);
      }
    }
  }
  const Cartesian3 = Cesium__namespace.Cartesian3;
  const defined = Cesium__namespace.defined;
  const getTimestamp = Cesium__namespace.getTimestamp;
  const Matrix4 = Cesium__namespace.Matrix4;
  const OrthographicFrustum = Cesium__namespace.OrthographicFrustum;
  const OrthographicOffCenterFrustum = Cesium__namespace.OrthographicOffCenterFrustum;
  const Ray = Cesium__namespace.Ray;
  const Rectangle = Cesium__namespace.Rectangle;
  const Visibility = Cesium__namespace.Visibility;
  const QuadtreeOccluders = Cesium__namespace.QuadtreeOccluders;
  const QuadtreeTile = Cesium__namespace.QuadtreeTile;
  const QuadtreeTileLoadState = Cesium__namespace.QuadtreeTileLoadState;
  const SceneMode = Cesium__namespace.SceneMode;
  const TileReplacementQueue = Cesium__namespace.TileReplacementQueue;
  const TileSelectionResult = Cesium__namespace.TileSelectionResult;
  function clearTileLoadQueue(_0x546f1f) {
    const _0x4472c1 = _0x546f1f._debug;
    _0x4472c1.maxDepth = 0;
    _0x4472c1.maxDepthVisited = 0;
    _0x4472c1.tilesVisited = 0;
    _0x4472c1.tilesCulled = 0;
    _0x4472c1.tilesRendered = 0;
    _0x4472c1.tilesWaitingForChildren = 0;
    _0x546f1f._tileLoadQueueHigh.length = 0;
    _0x546f1f._tileLoadQueueMedium.length = 0;
    _0x546f1f._tileLoadQueueLow.length = 0;
  }
  function invalidateAllTiles(_0x12b55d) {
    const _0x5b4127 = _0x12b55d._tileReplacementQueue;
    _0x5b4127.head = undefined;
    _0x5b4127.tail = undefined;
    _0x5b4127.count = 0;
    clearTileLoadQueue(_0x12b55d);
    const _0x54fc3d = _0x12b55d._levelZeroTiles;
    if (defined(_0x54fc3d)) {
      for (let _0x518354 = 0; _0x518354 < _0x54fc3d.length; ++_0x518354) {
        const _0x2cff27 = _0x54fc3d[_0x518354];
        const _0x1544d4 = _0x2cff27.customData;
        const _0x40c709 = _0x1544d4.length;
        for (let _0x2bcc8c = 0; _0x2bcc8c < _0x40c709; ++_0x2bcc8c) {
          const _0x379868 = _0x1544d4[_0x2bcc8c];
          _0x379868.level = 0;
          _0x12b55d._addHeightCallbacks.push(_0x379868);
        }
        _0x54fc3d[_0x518354].freeResources();
      }
    }
    _0x12b55d._levelZeroTiles = undefined;
    _0x12b55d._tileProvider.cancelReprojections();
  }
  function updateTileLoadProgress(_0x2a7a67, _0x54bafd) {
    const _0x508486 = _0x2a7a67._tileLoadQueueHigh.length + _0x2a7a67._tileLoadQueueMedium.length + _0x2a7a67._tileLoadQueueLow.length;
    if (_0x508486 !== _0x2a7a67._lastTileLoadQueueLength || _0x2a7a67._tilesInvalidated) {
      const _0x1cbbee = Cesium__namespace.Event.prototype.raiseEvent.bind(_0x2a7a67._tileLoadProgressEvent, _0x508486);
      _0x54bafd.afterRender.push(() => {
        _0x1cbbee();
        return true;
      });
      _0x2a7a67._lastTileLoadQueueLength = _0x508486;
    }
    const _0x5ef789 = _0x2a7a67._debug;
    if (_0x5ef789.enableDebugOutput && !_0x5ef789.suspendLodUpdate) {
      _0x5ef789.maxDepth = _0x2a7a67._tilesToRender.reduce((_0x57c04d, _0x1488f2) => {
        return Math.max(_0x57c04d, _0x1488f2.level);
      }, -1);
      _0x5ef789.tilesRendered = _0x2a7a67._tilesToRender.length;
      if (_0x5ef789.tilesVisited !== _0x5ef789.lastTilesVisited || _0x5ef789.tilesRendered !== _0x5ef789.lastTilesRendered || _0x5ef789.tilesCulled !== _0x5ef789.lastTilesCulled || _0x5ef789.maxDepth !== _0x5ef789.lastMaxDepth || _0x5ef789.tilesWaitingForChildren !== _0x5ef789.lastTilesWaitingForChildren || _0x5ef789.maxDepthVisited !== _0x5ef789.lastMaxDepthVisited) {
        _0x5ef789.lastTilesVisited = _0x5ef789.tilesVisited;
        _0x5ef789.lastTilesRendered = _0x5ef789.tilesRendered;
        _0x5ef789.lastTilesCulled = _0x5ef789.tilesCulled;
        _0x5ef789.lastMaxDepth = _0x5ef789.maxDepth;
        _0x5ef789.lastTilesWaitingForChildren = _0x5ef789.tilesWaitingForChildren;
        _0x5ef789.lastMaxDepthVisited = _0x5ef789.maxDepthVisited;
      }
    }
  }
  let comparisonPoint;
  const centerScratch = new Cesium__namespace.Cartographic();
  function compareDistanceToPoint(_0x3fcc22, _0x504789) {
    let _0x54a0a2 = Rectangle.center(_0x3fcc22.rectangle, centerScratch);
    const _0x482750 = _0x54a0a2.longitude - comparisonPoint.longitude;
    const _0x33faa0 = _0x54a0a2.latitude - comparisonPoint.latitude;
    _0x54a0a2 = Rectangle.center(_0x504789.rectangle, centerScratch);
    const _0x56f53c = _0x54a0a2.longitude - comparisonPoint.longitude;
    const _0x261d86 = _0x54a0a2.latitude - comparisonPoint.latitude;
    return _0x482750 * _0x482750 + _0x33faa0 * _0x33faa0 - (_0x56f53c * _0x56f53c + _0x261d86 * _0x261d86);
  }
  const cameraOriginScratch = new Cartesian3();
  let rootTraversalDetails = [];
  function selectTilesForRendering(_0x3dfa60, _0x156a3d) {
    const _0x451ea9 = _0x3dfa60._debug;
    if (_0x451ea9.suspendLodUpdate) {
      return;
    }
    const _0x1baa93 = _0x3dfa60._tilesToRender;
    _0x1baa93.length = 0;
    let _0x3dba3e;
    const _0x2feb32 = _0x3dfa60._tileProvider;
    if (!defined(_0x3dfa60._levelZeroTiles)) {
      const _0x111b87 = _0x2feb32.tilingScheme;
      if (defined(_0x111b87)) {
        _0x3dfa60._levelZeroTiles = QuadtreeTile.createLevelZeroTiles(_0x111b87);
        const _0x420cd7 = _0x3dfa60._levelZeroTiles.length;
        if (rootTraversalDetails.length < _0x420cd7) {
          rootTraversalDetails = new Array(_0x420cd7);
          for (_0x3dba3e = 0; _0x3dba3e < _0x420cd7; ++_0x3dba3e) {
            if (rootTraversalDetails[_0x3dba3e] === undefined) {
              rootTraversalDetails[_0x3dba3e] = new TraversalDetails();
            }
          }
        }
      } else {
        return;
      }
    }
    _0x3dfa60._occluders.ellipsoid.cameraPosition = _0x156a3d.camera.positionWC;
    let _0x1a3989;
    const _0x3f504a = _0x3dfa60._levelZeroTiles;
    const _0x59f3ef = _0x3f504a.length > 1 ? _0x3dfa60._occluders : undefined;
    comparisonPoint = _0x156a3d.camera.positionCartographic;
    _0x3f504a.sort(compareDistanceToPoint);
    const _0x218ca7 = _0x3dfa60._addHeightCallbacks;
    const _0x449d4c = _0x3dfa60._removeHeightCallbacks;
    const _0x8ef894 = _0x156a3d.frameNumber;
    let _0x415634;
    if (_0x218ca7.length > 0 || _0x449d4c.length > 0) {
      _0x3dba3e = 0;
      _0x415634 = _0x3f504a.length;
      for (; _0x3dba3e < _0x415634; ++_0x3dba3e) {
        _0x1a3989 = _0x3f504a[_0x3dba3e];
        _0x1a3989._updateCustomData(_0x8ef894, _0x218ca7, _0x449d4c);
      }
      _0x218ca7.length = 0;
      _0x449d4c.length = 0;
    }
    const _0x15505e = _0x156a3d.camera;
    _0x3dfa60._cameraPositionCartographic = _0x15505e.positionCartographic;
    const _0x36091d = Matrix4.getTranslation(_0x15505e.transform, cameraOriginScratch);
    _0x3dfa60._cameraReferenceFrameOriginCartographic = _0x3dfa60.tileProvider.tilingScheme.ellipsoid.cartesianToCartographic(_0x36091d, _0x3dfa60._cameraReferenceFrameOriginCartographic);
    _0x3dba3e = 0;
    _0x415634 = _0x3f504a.length;
    for (; _0x3dba3e < _0x415634; ++_0x3dba3e) {
      _0x1a3989 = _0x3f504a[_0x3dba3e];
      _0x3dfa60._tileReplacementQueue.markTileRendered(_0x1a3989);
      if (!_0x1a3989.renderable) {
        queueTileLoad(_0x3dfa60, _0x3dfa60._tileLoadQueueHigh, _0x1a3989, _0x156a3d);
        ++_0x451ea9.tilesWaitingForChildren;
      } else {
        visitIfVisible(_0x3dfa60, _0x1a3989, _0x2feb32, _0x156a3d, _0x59f3ef, false, rootTraversalDetails[_0x3dba3e]);
      }
    }
    _0x3dfa60._lastSelectionFrameNumber = _0x8ef894;
  }
  function queueTileLoad(_0x198f6c, _0x38e857, _0x28b17d, _0x1789ba) {
    if (!_0x28b17d.needsLoading) {
      return;
    }
    if (_0x198f6c.tileProvider.computeTileLoadPriority !== undefined) {
      _0x28b17d._loadPriority = _0x198f6c.tileProvider.computeTileLoadPriority(_0x28b17d, _0x1789ba);
    }
    _0x38e857.push(_0x28b17d);
  }
  const traversalQuadsByLevel = new Array(31);
  for (let i = 0; i < traversalQuadsByLevel.length; ++i) {
    traversalQuadsByLevel[i] = new TraversalQuadDetails();
  }
  function visitTile(_0x488a36, _0xca9b3b, _0x400123, _0x39a44a, _0x67115e) {
    const _0xfb75f0 = _0x488a36._debug;
    ++_0xfb75f0.tilesVisited;
    _0x488a36._tileReplacementQueue.markTileRendered(_0x400123);
    _0x400123._updateCustomData(_0xca9b3b.frameNumber);
    if (_0x400123.level > _0xfb75f0.maxDepthVisited) {
      _0xfb75f0.maxDepthVisited = _0x400123.level;
    }
    const _0x15b9d4 = screenSpaceError(_0x488a36, _0xca9b3b, _0x400123) < _0x488a36.maximumScreenSpaceError;
    const _0x1fcb70 = _0x400123.southwestChild;
    const _0x172f6d = _0x400123.southeastChild;
    const _0xa43a23 = _0x400123.northwestChild;
    const _0x1699f6 = _0x400123.northeastChild;
    const _0x38a167 = _0x488a36._lastSelectionFrameNumber;
    const _0x3067f9 = _0x400123._lastSelectionResultFrame === _0x38a167 ? _0x400123._lastSelectionResult : TileSelectionResult.NONE;
    const _0x11cf34 = _0x488a36.tileProvider;
    if (_0x15b9d4 || _0x39a44a) {
      const _0x3b0fca = TileSelectionResult.originalResult(_0x3067f9) === TileSelectionResult.RENDERED;
      const _0x2fc8da = TileSelectionResult.originalResult(_0x3067f9) === TileSelectionResult.CULLED || _0x3067f9 === TileSelectionResult.NONE;
      const _0x59f48e = _0x400123.state === QuadtreeTileLoadState.DONE;
      let _0x3d3e81 = _0x3b0fca || _0x2fc8da || _0x59f48e;
      if (!_0x3d3e81) {
        if (defined(_0x11cf34.canRenderWithoutLosingDetail)) {
          _0x3d3e81 = _0x11cf34.canRenderWithoutLosingDetail(_0x400123);
        }
      }
      if (_0x3d3e81) {
        if (_0x15b9d4) {
          queueTileLoad(_0x488a36, _0x488a36._tileLoadQueueMedium, _0x400123, _0xca9b3b);
        }
        addTileToRenderList(_0x488a36, _0x400123);
        _0x67115e.allAreRenderable = _0x400123.renderable;
        _0x67115e.anyWereRenderedLastFrame = _0x3067f9 === TileSelectionResult.RENDERED;
        _0x67115e.notYetRenderableCount = _0x400123.renderable ? 0 : 1;
        _0x400123._lastSelectionResultFrame = _0xca9b3b.frameNumber;
        _0x400123._lastSelectionResult = TileSelectionResult.RENDERED;
        if (!_0x67115e.anyWereRenderedLastFrame) {
          _0x488a36._tileToUpdateHeights.push(_0x400123);
        }
        return;
      }
      _0x39a44a = true;
      if (_0x15b9d4) {
        queueTileLoad(_0x488a36, _0x488a36._tileLoadQueueHigh, _0x400123, _0xca9b3b);
      }
    }
    if (_0x11cf34.canRefine(_0x400123)) {
      const _0x4c0683 = _0x1fcb70.upsampledFromParent && _0x172f6d.upsampledFromParent && _0xa43a23.upsampledFromParent && _0x1699f6.upsampledFromParent;
      if (_0x4c0683) {
        addTileToRenderList(_0x488a36, _0x400123);
        queueTileLoad(_0x488a36, _0x488a36._tileLoadQueueMedium, _0x400123, _0xca9b3b);
        _0x488a36._tileReplacementQueue.markTileRendered(_0x1fcb70);
        _0x488a36._tileReplacementQueue.markTileRendered(_0x172f6d);
        _0x488a36._tileReplacementQueue.markTileRendered(_0xa43a23);
        _0x488a36._tileReplacementQueue.markTileRendered(_0x1699f6);
        _0x67115e.allAreRenderable = _0x400123.renderable;
        _0x67115e.anyWereRenderedLastFrame = _0x3067f9 === TileSelectionResult.RENDERED;
        _0x67115e.notYetRenderableCount = _0x400123.renderable ? 0 : 1;
        _0x400123._lastSelectionResultFrame = _0xca9b3b.frameNumber;
        _0x400123._lastSelectionResult = TileSelectionResult.RENDERED;
        if (!_0x67115e.anyWereRenderedLastFrame) {
          _0x488a36._tileToUpdateHeights.push(_0x400123);
        }
        return;
      }
      _0x400123._lastSelectionResultFrame = _0xca9b3b.frameNumber;
      _0x400123._lastSelectionResult = TileSelectionResult.REFINED;
      const _0x3cb3a2 = _0x488a36._tilesToRender.length;
      const _0x35415d = _0x488a36._tileLoadQueueLow.length;
      const _0x5e4d71 = _0x488a36._tileLoadQueueMedium.length;
      const _0x33be1b = _0x488a36._tileLoadQueueHigh.length;
      const _0x7b246 = _0x488a36._tileToUpdateHeights.length;
      visitVisibleChildrenNearToFar(_0x488a36, _0x1fcb70, _0x172f6d, _0xa43a23, _0x1699f6, _0xca9b3b, _0x39a44a, _0x67115e);
      if (_0x3cb3a2 !== _0x488a36._tilesToRender.length) {
        const _0x59e55f = _0x67115e.allAreRenderable;
        const _0x437fc5 = _0x67115e.anyWereRenderedLastFrame;
        const _0x57cc68 = _0x67115e.notYetRenderableCount;
        let _0xf3bb77 = false;
        if (!_0x59e55f && !_0x437fc5) {
          const _0x378a9b = _0x488a36._tilesToRender;
          for (let _0x56ab73 = _0x3cb3a2; _0x56ab73 < _0x378a9b.length; ++_0x56ab73) {
            let _0x272a66 = _0x378a9b[_0x56ab73];
            while (_0x272a66 !== undefined && _0x272a66._lastSelectionResult !== TileSelectionResult.KICKED && _0x272a66 !== _0x400123) {
              _0x272a66._lastSelectionResult = TileSelectionResult.kick(_0x272a66._lastSelectionResult);
              _0x272a66 = _0x272a66.parent;
            }
          }
          _0x488a36._tilesToRender.length = _0x3cb3a2;
          _0x488a36._tileToUpdateHeights.length = _0x7b246;
          addTileToRenderList(_0x488a36, _0x400123);
          _0x400123._lastSelectionResult = TileSelectionResult.RENDERED;
          const _0x1a077b = _0x3067f9 === TileSelectionResult.RENDERED;
          if (!_0x1a077b && _0x57cc68 > _0x488a36.loadingDescendantLimit) {
            _0x488a36._tileLoadQueueLow.length = _0x35415d;
            _0x488a36._tileLoadQueueMedium.length = _0x5e4d71;
            _0x488a36._tileLoadQueueHigh.length = _0x33be1b;
            queueTileLoad(_0x488a36, _0x488a36._tileLoadQueueMedium, _0x400123, _0xca9b3b);
            _0x67115e.notYetRenderableCount = _0x400123.renderable ? 0 : 1;
            _0xf3bb77 = true;
          }
          _0x67115e.allAreRenderable = _0x400123.renderable;
          _0x67115e.anyWereRenderedLastFrame = _0x1a077b;
          if (!_0x1a077b) {
            _0x488a36._tileToUpdateHeights.push(_0x400123);
          }
          ++_0xfb75f0.tilesWaitingForChildren;
        }
        if (_0x488a36.preloadAncestors && !_0xf3bb77) {
          queueTileLoad(_0x488a36, _0x488a36._tileLoadQueueLow, _0x400123, _0xca9b3b);
        }
      }
      return;
    }
    _0x400123._lastSelectionResultFrame = _0xca9b3b.frameNumber;
    _0x400123._lastSelectionResult = TileSelectionResult.RENDERED;
    addTileToRenderList(_0x488a36, _0x400123);
    queueTileLoad(_0x488a36, _0x488a36._tileLoadQueueHigh, _0x400123, _0xca9b3b);
    _0x67115e.allAreRenderable = _0x400123.renderable;
    _0x67115e.anyWereRenderedLastFrame = _0x3067f9 === TileSelectionResult.RENDERED;
    _0x67115e.notYetRenderableCount = _0x400123.renderable ? 0 : 1;
  }
  function visitVisibleChildrenNearToFar(_0xd223fd, _0x31454f, _0x2aa632, _0x51070a, _0x361956, _0x5bdd8b, _0x8bcc66, _0x22e5a1) {
    const _0x3f5363 = _0x5bdd8b.camera.positionCartographic;
    const _0x3fb1c8 = _0xd223fd._tileProvider;
    const _0x3d8b97 = _0xd223fd._occluders;
    const _0x3f2c90 = traversalQuadsByLevel[_0x31454f.level];
    const _0x55b913 = _0x3f2c90.southwest;
    const _0xd5da9b = _0x3f2c90.southeast;
    const _0x5e6c7a = _0x3f2c90.northwest;
    const _0x1b3d03 = _0x3f2c90.northeast;
    if (_0x3f5363.longitude < _0x31454f.rectangle.east) {
      if (_0x3f5363.latitude < _0x31454f.rectangle.north) {
        visitIfVisible(_0xd223fd, _0x31454f, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x55b913);
        visitIfVisible(_0xd223fd, _0x2aa632, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0xd5da9b);
        visitIfVisible(_0xd223fd, _0x51070a, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x5e6c7a);
        visitIfVisible(_0xd223fd, _0x361956, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x1b3d03);
      } else {
        visitIfVisible(_0xd223fd, _0x51070a, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x5e6c7a);
        visitIfVisible(_0xd223fd, _0x31454f, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x55b913);
        visitIfVisible(_0xd223fd, _0x361956, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x1b3d03);
        visitIfVisible(_0xd223fd, _0x2aa632, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0xd5da9b);
      }
    } else if (_0x3f5363.latitude < _0x31454f.rectangle.north) {
      visitIfVisible(_0xd223fd, _0x2aa632, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0xd5da9b);
      visitIfVisible(_0xd223fd, _0x31454f, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x55b913);
      visitIfVisible(_0xd223fd, _0x361956, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x1b3d03);
      visitIfVisible(_0xd223fd, _0x51070a, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x5e6c7a);
    } else {
      visitIfVisible(_0xd223fd, _0x361956, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x1b3d03);
      visitIfVisible(_0xd223fd, _0x51070a, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x5e6c7a);
      visitIfVisible(_0xd223fd, _0x2aa632, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0xd5da9b);
      visitIfVisible(_0xd223fd, _0x31454f, _0x3fb1c8, _0x5bdd8b, _0x3d8b97, _0x8bcc66, _0x55b913);
    }
    _0x3f2c90.combine(_0x22e5a1);
  }
  function containsNeededPosition(_0x312ef0, _0x18c605) {
    const _0x454218 = _0x18c605.rectangle;
    return defined(_0x312ef0._cameraPositionCartographic) && Rectangle.contains(_0x454218, _0x312ef0._cameraPositionCartographic) || defined(_0x312ef0._cameraReferenceFrameOriginCartographic) && Rectangle.contains(_0x454218, _0x312ef0._cameraReferenceFrameOriginCartographic);
  }
  function visitIfVisible(_0x28c5b3, _0x12b6be, _0x10bfdc, _0x12edb6, _0x20e535, _0x402c74, _0xe02d5e) {
    if (_0x10bfdc.computeTileVisibility(_0x12b6be, _0x12edb6, _0x20e535) !== Visibility.NONE) {
      return visitTile(_0x28c5b3, _0x12edb6, _0x12b6be, _0x402c74, _0xe02d5e);
    }
    ++_0x28c5b3._debug.tilesCulled;
    _0x28c5b3._tileReplacementQueue.markTileRendered(_0x12b6be);
    _0xe02d5e.allAreRenderable = true;
    _0xe02d5e.anyWereRenderedLastFrame = false;
    _0xe02d5e.notYetRenderableCount = 0;
    if (containsNeededPosition(_0x28c5b3, _0x12b6be)) {
      if (!defined(_0x12b6be.data) || !defined(_0x12b6be.data.vertexArray)) {
        queueTileLoad(_0x28c5b3, _0x28c5b3._tileLoadQueueMedium, _0x12b6be, _0x12edb6);
      }
      const _0x367fa3 = _0x28c5b3._lastSelectionFrameNumber;
      const _0x5e5d37 = _0x12b6be._lastSelectionResultFrame === _0x367fa3 ? _0x12b6be._lastSelectionResult : TileSelectionResult.NONE;
      if (_0x5e5d37 !== TileSelectionResult.CULLED_BUT_NEEDED && _0x5e5d37 !== TileSelectionResult.RENDERED) {
        _0x28c5b3._tileToUpdateHeights.push(_0x12b6be);
      }
      _0x12b6be._lastSelectionResult = TileSelectionResult.CULLED_BUT_NEEDED;
    } else if (_0x28c5b3.preloadSiblings || _0x12b6be.level === 0) {
      queueTileLoad(_0x28c5b3, _0x28c5b3._tileLoadQueueLow, _0x12b6be, _0x12edb6);
      _0x12b6be._lastSelectionResult = TileSelectionResult.CULLED;
    } else {
      _0x12b6be._lastSelectionResult = TileSelectionResult.CULLED;
    }
    _0x12b6be._lastSelectionResultFrame = _0x12edb6.frameNumber;
  }
  function screenSpaceError(_0x4f075b, _0x2d570a, _0x1f4d14) {
    if (_0x2d570a.mode === SceneMode.SCENE2D || _0x2d570a.camera.frustum instanceof OrthographicFrustum || _0x2d570a.camera.frustum instanceof OrthographicOffCenterFrustum) {
      return screenSpaceError2D(_0x4f075b, _0x2d570a, _0x1f4d14);
    }
    const _0x1a2164 = _0x4f075b._tileProvider.getLevelMaximumGeometricError(_0x1f4d14.level);
    const _0x4be6bd = _0x1f4d14._distance;
    const _0x370665 = _0x2d570a.context.drawingBufferHeight;
    const _0x22e102 = _0x2d570a.camera.frustum.sseDenominator;
    let _0x155575 = _0x1a2164 * _0x370665 / (_0x4be6bd * _0x22e102);
    if (_0x2d570a.fog.enabled) {
      _0x155575 -= Cesium__namespace.Math.fog(_0x4be6bd, _0x2d570a.fog.density) * _0x2d570a.fog.sse;
    }
    _0x155575 /= _0x2d570a.pixelRatio;
    return _0x155575;
  }
  function screenSpaceError2D(_0x26e01b, _0xc675b7, _0x47d62a) {
    const _0x1fd868 = _0xc675b7.camera;
    let _0x3424d1 = _0x1fd868.frustum;
    const _0x3e52c1 = _0x3424d1.offCenterFrustum;
    if (defined(_0x3e52c1)) {
      _0x3424d1 = _0x3e52c1;
    }
    const _0x2180bc = _0xc675b7.context;
    const _0x323d10 = _0x2180bc.drawingBufferWidth;
    const _0xc3755a = _0x2180bc.drawingBufferHeight;
    const _0x465ee4 = _0x26e01b._tileProvider.getLevelMaximumGeometricError(_0x47d62a.level);
    const _0x3f70a1 = Math.max(_0x3424d1.top - _0x3424d1.bottom, _0x3424d1.right - _0x3424d1.left) / Math.max(_0x323d10, _0xc3755a);
    let _0x30324c = _0x465ee4 / _0x3f70a1;
    if (_0xc675b7.fog.enabled && _0xc675b7.mode !== SceneMode.SCENE2D) {
      _0x30324c -= Cesium__namespace.Math.fog(_0x47d62a._distance, _0xc675b7.fog.density) * _0xc675b7.fog.sse;
    }
    _0x30324c /= _0xc675b7.pixelRatio;
    return _0x30324c;
  }
  function addTileToRenderList(_0x1fbd05, _0x14abd1) {
    _0x1fbd05._tilesToRender.push(_0x14abd1);
  }
  function processTileLoadQueue(_0x4fb9c0, _0x2e39e0) {
    const _0x4ebbe2 = _0x4fb9c0._tileLoadQueueHigh;
    const _0x3e4206 = _0x4fb9c0._tileLoadQueueMedium;
    const _0x5b8faa = _0x4fb9c0._tileLoadQueueLow;
    if (_0x4ebbe2.length === 0 && _0x3e4206.length === 0 && _0x5b8faa.length === 0) {
      return;
    }
    _0x4fb9c0._tileReplacementQueue.trimTiles(_0x4fb9c0.tileCacheSize);
    const _0x1cf8f8 = getTimestamp() + _0x4fb9c0._loadQueueTimeSlice;
    const _0x13b4ab = _0x4fb9c0._tileProvider;
    let _0x6e610e = processSinglePriorityLoadQueue(_0x4fb9c0, _0x2e39e0, _0x13b4ab, _0x1cf8f8, _0x4ebbe2, false);
    _0x6e610e = processSinglePriorityLoadQueue(_0x4fb9c0, _0x2e39e0, _0x13b4ab, _0x1cf8f8, _0x3e4206, _0x6e610e);
    processSinglePriorityLoadQueue(_0x4fb9c0, _0x2e39e0, _0x13b4ab, _0x1cf8f8, _0x5b8faa, _0x6e610e);
  }
  function sortByLoadPriority(_0x14efa8, _0x2d856d) {
    return _0x14efa8._loadPriority - _0x2d856d._loadPriority;
  }
  function processSinglePriorityLoadQueue(_0x8bcab0, _0x1ae359, _0x259244, _0xc35208, _0x18ba7d, _0x2dd287) {
    if (_0x259244.computeTileLoadPriority !== undefined) {
      _0x18ba7d.sort(sortByLoadPriority);
    }
    for (let _0x561bcd = 0, _0x473f5d = _0x18ba7d.length; _0x561bcd < _0x473f5d && (getTimestamp() < _0xc35208 || !_0x2dd287); ++_0x561bcd) {
      const _0x3e095f = _0x18ba7d[_0x561bcd];
      _0x8bcab0._tileReplacementQueue.markTileRendered(_0x3e095f);
      _0x259244.loadTile(_0x1ae359, _0x3e095f);
      _0x2dd287 = true;
    }
    return _0x2dd287;
  }
  const scratchRay = new Ray();
  const scratchCartographic = new Cesium__namespace.Cartographic();
  const scratchPosition = new Cartesian3();
  const scratchArray = [];
  function updateHeights(_0x1b9de2, _0x1f3b77) {
    if (!defined(_0x1b9de2.tileProvider.tilingScheme)) {
      return;
    }
    const _0x57eb7c = scratchArray;
    _0x57eb7c.length = 0;
    const _0x5a79b7 = _0x1b9de2._tileToUpdateHeights;
    const _0x40d10b = getTimestamp();
    const _0x4bb512 = _0x1b9de2._updateHeightsTimeSlice;
    const _0x5ab50e = _0x40d10b + _0x4bb512;
    const _0xa9f03e = _0x1f3b77.mode;
    const _0x16d664 = _0x1f3b77.mapProjection;
    const _0x14d6a8 = _0x1b9de2.tileProvider.tilingScheme.ellipsoid;
    let _0x1b2863;
    while (_0x5a79b7.length > 0) {
      const _0x24e953 = _0x5a79b7[0];
      if (!defined(_0x24e953.data) || !defined(_0x24e953.data.mesh)) {
        const _0x1500ca = _0x24e953._lastSelectionResultFrame === _0x1b9de2._lastSelectionFrameNumber ? _0x24e953._lastSelectionResult : TileSelectionResult.NONE;
        if (_0x1500ca === TileSelectionResult.RENDERED || _0x1500ca === TileSelectionResult.CULLED_BUT_NEEDED) {
          _0x57eb7c.push(_0x24e953);
        }
        _0x5a79b7.shift();
        _0x1b9de2._lastTileIndex = 0;
        continue;
      }
      const _0x3623b3 = _0x24e953.customData;
      const _0x5a80e9 = _0x3623b3.length;
      let _0x19adde = false;
      for (_0x1b2863 = _0x1b9de2._lastTileIndex; _0x1b2863 < _0x5a80e9; ++_0x1b2863) {
        const _0x19e17a = _0x3623b3[_0x1b2863];
        const _0x4590c9 = _0x24e953.data.terrainData;
        const _0x58d17d = defined(_0x4590c9) && _0x4590c9.wasCreatedByUpsampling();
        if (_0x24e953.level > _0x19e17a.level && !_0x58d17d) {
          if (!defined(_0x19e17a.positionOnEllipsoidSurface)) {
            _0x19e17a.positionOnEllipsoidSurface = Cartesian3.fromRadians(_0x19e17a.positionCartographic.longitude, _0x19e17a.positionCartographic.latitude, 0, _0x14d6a8);
          }
          if (_0xa9f03e === SceneMode.SCENE3D) {
            const _0x4755db = _0x14d6a8.geodeticSurfaceNormal(_0x19e17a.positionOnEllipsoidSurface, scratchRay.direction);
            const _0x2c623b = _0x14d6a8.getSurfaceNormalIntersectionWithZAxis(_0x19e17a.positionOnEllipsoidSurface, 11500, scratchRay.origin);
            if (!defined(_0x2c623b)) {
              let _0x14a8d4 = 0;
              if (defined(_0x24e953.data.tileBoundingRegion)) {
                _0x14a8d4 = _0x24e953.data.tileBoundingRegion.minimumHeight;
              }
              const _0x29e587 = Math.min(_0x14a8d4, -11500);
              const _0x3f7282 = Cartesian3.multiplyByScalar(_0x4755db, Math.abs(_0x29e587) + 1, scratchPosition);
              Cartesian3.subtract(_0x19e17a.positionOnEllipsoidSurface, _0x3f7282, scratchRay.origin);
            }
          } else {
            Cesium__namespace.Cartographic.clone(_0x19e17a.positionCartographic, scratchCartographic);
            scratchCartographic.height = -11500;
            _0x16d664.project(scratchCartographic, scratchPosition);
            Cartesian3.fromElements(scratchPosition.z, scratchPosition.x, scratchPosition.y, scratchPosition);
            Cartesian3.clone(scratchPosition, scratchRay.origin);
            Cartesian3.clone(Cartesian3.UNIT_X, scratchRay.direction);
          }
          const _0x1462ad = _0x24e953.data.pick(scratchRay, _0xa9f03e, _0x16d664, false, scratchPosition);
          if (defined(_0x1462ad)) {
            if (defined(_0x19e17a.callback)) {
              _0x19e17a.callback(_0x1462ad);
            }
            _0x19e17a.level = _0x24e953.level;
          }
        }
        if (getTimestamp() >= _0x5ab50e) {
          _0x19adde = true;
          break;
        }
      }
      if (_0x19adde) {
        _0x1b9de2._lastTileIndex = _0x1b2863;
        break;
      } else {
        _0x1b9de2._lastTileIndex = 0;
        _0x5a79b7.shift();
      }
    }
    for (_0x1b2863 = 0; _0x1b2863 < _0x57eb7c.length; _0x1b2863++) {
      _0x5a79b7.push(_0x57eb7c[_0x1b2863]);
    }
  }
  function createRenderCommandsForSelectedTiles(_0x4c8e88, _0x411ae1) {
    const _0x106baf = _0x4c8e88._tileProvider;
    const _0x58dcd3 = _0x4c8e88._tilesToRender;
    for (let _0xec5027 = 0, _0x685bc7 = _0x58dcd3.length; _0xec5027 < _0x685bc7; ++_0xec5027) {
      const _0x59b269 = _0x58dcd3[_0xec5027];
      _0x106baf.showTileThisFrame(_0x59b269, _0x411ae1);
    }
  }
  const applicableRectangleScratch = new Rectangle();
  function pickImageryHelper(_0x2d1c4f, _0x55281c, _0x27dd69, _0x375833) {
    const _0x2abd09 = _0x2d1c4f._tilesToRender;
    let _0x5299c5;
    for (let _0x26bb40 = 0; !defined(_0x5299c5) && _0x26bb40 < _0x2abd09.length; ++_0x26bb40) {
      const _0x147a61 = _0x2abd09[_0x26bb40];
      if (Rectangle.contains(_0x147a61.rectangle, _0x55281c)) {
        _0x5299c5 = _0x147a61;
      }
    }
    if (!defined(_0x5299c5)) {
      return;
    }
    const _0x32baa1 = _0x5299c5.data.imagery;
    for (let _0x40f5f6 = _0x32baa1.length - 1; _0x40f5f6 >= 0; --_0x40f5f6) {
      const _0x148402 = _0x32baa1[_0x40f5f6];
      const _0x1ffc69 = _0x148402.readyImagery;
      if (!defined(_0x1ffc69)) {
        continue;
      }
      const _0x431eae = _0x1ffc69.imageryLayer.imageryProvider;
      if (_0x27dd69 && !defined(_0x431eae.pickFeatures)) {
        continue;
      }
      if (!Rectangle.contains(_0x1ffc69.rectangle, _0x55281c)) {
        continue;
      }
      const _0x5e56a7 = applicableRectangleScratch;
      const _0x4fee4b = 1 / 1024;
      _0x5e56a7.west = Cesium__namespace.Math.lerp(_0x5299c5.rectangle.west, _0x5299c5.rectangle.east, _0x148402.textureCoordinateRectangle.x - _0x4fee4b);
      _0x5e56a7.east = Cesium__namespace.Math.lerp(_0x5299c5.rectangle.west, _0x5299c5.rectangle.east, _0x148402.textureCoordinateRectangle.z + _0x4fee4b);
      _0x5e56a7.south = Cesium__namespace.Math.lerp(_0x5299c5.rectangle.south, _0x5299c5.rectangle.north, _0x148402.textureCoordinateRectangle.y - _0x4fee4b);
      _0x5e56a7.north = Cesium__namespace.Math.lerp(_0x5299c5.rectangle.south, _0x5299c5.rectangle.north, _0x148402.textureCoordinateRectangle.w + _0x4fee4b);
      if (!Rectangle.contains(_0x5e56a7, _0x55281c)) {
        continue;
      }
      _0x375833(_0x1ffc69);
    }
  }
  class QuadtreePrimitive {
    constructor(_0x523290) {
      this._tileProvider = new GlobeSurfaceTileProvider(_0x523290.imageryLayers);
      this._tileProvider.quadtree = this;
      this._tileProvider.imageryLayersUpdatedEvent.addEventListener(() => {
        this._tilesInvalidated = true;
      });
      const _0x50f628 = {
        enableDebugOutput: false,
        maxDepth: 0,
        maxDepthVisited: 0,
        tilesVisited: 0,
        tilesCulled: 0,
        tilesRendered: 0,
        tilesWaitingForChildren: 0,
        lastMaxDepth: -1,
        lastMaxDepthVisited: -1,
        lastTilesVisited: -1,
        lastTilesCulled: -1,
        lastTilesRendered: -1,
        lastTilesWaitingForChildren: -1,
        suspendLodUpdate: false
      };
      this._debug = _0x50f628;
      const _0x29c9bf = this._tileProvider.tilingScheme;
      const _0x1b12eb = _0x29c9bf.ellipsoid;
      this._tilesToRender = [];
      this._tileLoadQueueHigh = [];
      this._tileLoadQueueMedium = [];
      this._tileLoadQueueLow = [];
      this._tileReplacementQueue = new TileReplacementQueue();
      this._levelZeroTiles = undefined;
      this._loadQueueTimeSlice = 5;
      this._tilesInvalidated = false;
      this._addHeightCallbacks = [];
      this._removeHeightCallbacks = [];
      this._tileToUpdateHeights = [];
      this._lastTileIndex = 0;
      this._updateHeightsTimeSlice = 2;
      this._cameraPositionCartographic = undefined;
      this._cameraReferenceFrameOriginCartographic = undefined;
      this.maximumScreenSpaceError = _0x523290.maximumScreenSpaceError ?? 2;
      this.tileCacheSize = _0x523290.tileCacheSize ?? 100;
      this.loadingDescendantLimit = 20;
      this.preloadAncestors = true;
      this.preloadSiblings = false;
      const _0x21bee5 = {
        ellipsoid: _0x1b12eb
      };
      this._occluders = new QuadtreeOccluders(_0x21bee5);
      this._tileLoadProgressEvent = new Cesium__namespace.Event();
      this._lastTileLoadQueueLength = 0;
      this._lastSelectionFrameNumber = undefined;
      this.isReady = false;
      if (!Cesium__namespace.ApproximateTerrainHeights.initialized) {
        Cesium__namespace.GroundPrimitive.initializeTerrainHeights().then(() => {
          this.isReady = true;
        });
      } else {
        this.isReady = true;
      }
    }
    get tileProvider() {
      return this._tileProvider;
    }
    get tileLoadProgressEvent() {
      return this._tileLoadProgressEvent;
    }
    get occluders() {
      return this._occluders;
    }
    get classificationType() {
      return this._tileProvider.classificationType;
    }
    set classificationType(_0xb48f23) {
      this._tileProvider.classificationType = _0xb48f23;
    }
    invalidateAllTiles() {
      this._tilesInvalidated = true;
    }
    forEachLoadedTile(_0x7d23ed) {
      let _0x1254ea = this._tileReplacementQueue.head;
      while (defined(_0x1254ea)) {
        if (_0x1254ea.state !== QuadtreeTileLoadState.START) {
          _0x7d23ed(_0x1254ea);
        }
        _0x1254ea = _0x1254ea.replacementNext;
      }
    }
    pickFeatures(_0x1875f1, _0xe8ccab) {
      const _0x15fe3d = _0x1875f1.camera.getPickRay(_0xe8ccab);
      const _0x336ccb = _0x1875f1.globe.pick(_0x15fe3d, _0x1875f1);
      if (!defined(_0x336ccb)) {
        return;
      }
      const _0x130201 = _0x1875f1.globe.ellipsoid.cartesianToCartographic(_0x336ccb);
      const _0x352881 = [];
      const _0x289dcc = [];
      pickImageryHelper(this, _0x130201, true, function (_0x4967b5) {
        const _0x424654 = _0x4967b5.imageryLayer.imageryProvider;
        const _0x5430b0 = _0x424654.pickFeatures(_0x4967b5.x, _0x4967b5.y, _0x4967b5.level, _0x130201.longitude, _0x130201.latitude);
        if (defined(_0x5430b0)) {
          _0x352881.push(_0x5430b0);
          _0x289dcc.push(_0x4967b5.imageryLayer);
        }
      });
      if (_0x352881.length === 0) {
        return undefined;
      }
      return Promise.all(_0x352881).then(function (_0x608cb1) {
        const _0x24f231 = [];
        for (let _0x26b358 = 0; _0x26b358 < _0x608cb1.length; ++_0x26b358) {
          const _0x190413 = _0x608cb1[_0x26b358];
          const _0x44b914 = _0x289dcc[_0x26b358];
          if (defined(_0x190413) && _0x190413.length > 0) {
            for (let _0x28a629 = 0; _0x28a629 < _0x190413.length; ++_0x28a629) {
              const _0xd841a4 = _0x190413[_0x28a629];
              _0xd841a4.imageryLayer = _0x44b914;
              if (!defined(_0xd841a4.position)) {
                _0xd841a4.position = _0x130201;
              }
              _0x24f231.push(_0xd841a4);
            }
          }
        }
        return _0x24f231;
      });
    }
    prePassesUpdate(_0x2a5c7f) {
      if (!this.isReady) {
        return;
      }
      if (defined(this._tileProvider.update)) {
        this._tileProvider.update(_0x2a5c7f);
      }
      const _0x301372 = _0x2a5c7f.passes;
      if (!_0x301372.render) {
        return;
      }
      if (this._tilesInvalidated) {
        invalidateAllTiles(this);
        this._tilesInvalidated = false;
      }
      this._tileProvider.initialize(_0x2a5c7f);
      clearTileLoadQueue(this);
      if (this._debug.suspendLodUpdate) {
        return;
      }
      this._tileReplacementQueue.markStartOfRenderFrame();
    }
    update(_0xb1c779) {
      if (!this.isReady) {
        return;
      }
      const _0x63ca66 = _0xb1c779.passes;
      const _0x17e29f = this._tileProvider;
      if (_0x63ca66.render) {
        _0x17e29f.beginUpdate(_0xb1c779);
        selectTilesForRendering(this, _0xb1c779);
        createRenderCommandsForSelectedTiles(this, _0xb1c779);
        _0x17e29f.endUpdate(_0xb1c779);
      }
    }
    postPassesUpdate(_0x1f82f5) {
      if (!this.isReady) {
        return;
      }
      const _0x3ee662 = _0x1f82f5.passes;
      if (!_0x3ee662.render || _0x1f82f5.mode === SceneMode.MORPHING) {
        return;
      }
      processTileLoadQueue(this, _0x1f82f5);
      updateHeights(this, _0x1f82f5);
      updateTileLoadProgress(this, _0x1f82f5);
    }
    isDestroyed() {
      return false;
    }
    destroy() {
      this._tileProvider = this._tileProvider && this._tileProvider.destroy();
    }
  }
  const DefaultOptions = {
    shouldAnimate: true,
    infoBox: false,
    selectionIndicator: false,
    requestRenderMode: false
  };
  let mapIndex = 0;
  class Map extends BaseClass {
    constructor(_0x116d08, _0x41e864 = {}) {
      super(_0x41e864);
      this.index = mapIndex++;
      this.options = _0x41e864;
      this._terrainProviderIndex = 0;
      this._control = {};
      this._effect = {};
      this._thing = {};
      this._readyPromise = Cesium__namespace.defer();
      const _0x271f65 = _0x41e864.method || {};
      this.chinaCRS = _0x271f65.chinaCRS || ChinaCRS.WGS84;
      if (_0x271f65.token || _0x41e864.token) {
        updateAll(_0x271f65.token || _0x41e864.token);
      }
      this.templateValues = _0x271f65.templateValues ?? _0x41e864.templateValues;
      initBeforeCreateDefaultValue(_0x41e864);
      if (_0x116d08 instanceof Cesium__namespace.Viewer) {
        this._viewer = _0x116d08;
        if (_0x41e864.basemaps) {
          this._viewer.imageryLayers.removeAll();
        }
      } else {
        this._createViewer(_0x116d08, _0x41e864);
      }
      this._viewer.camera.getCameraDistance = () => {
        this.getCameraDistance();
      };
      this._highlightEnabled = true;
      this._controlList = new MarsArray();
      this._thingList = new MarsArray();
      this._layerList = new MarsArray();
      this._optionsBasemapsList = new MarsArray();
      this._optionsLayersList = new MarsArray();
      this._sceneEvent = new SceneEvent(this);
      this._mouseEvent = new MouseEvent(this, _0x41e864.mouse);
      this._sceneOption = new SceneOption(this);
      this._sceneOption.setOptions(_0x41e864.scene, _0x41e864.scene);
      this._zoomNavigation = new ZoomNavigation(this._viewer);
      this._initLayers();
      this._initTerrain();
      this._initControls();
      this._initEffect();
      this._initThing();
      this._initMethod(_0x41e864.method);
    }
    get viewer() {
      return this._viewer;
    }
    get cesiumWidget() {
      return this._viewer.cesiumWidget;
    }
    get container() {
      return this._viewer.container.querySelector(".cesium-viewer");
    }
    get canvas() {
      var _0x573305;
      if ((_0x573305 = this._viewer) === null || _0x573305 === undefined) {
        return undefined;
      } else {
        return _0x573305.scene.canvas;
      }
    }
    get scene() {
      return this._viewer?.scene;
    }
    get globe() {
      var _0x3d0499;
      if ((_0x3d0499 = this._viewer) === null || _0x3d0499 === undefined || (_0x3d0499 = _0x3d0499.scene) === null || _0x3d0499 === undefined) {
        return undefined;
      } else {
        return _0x3d0499.globe;
      }
    }
    get camera() {
      return this._viewer.camera;
    }
    get imageryLayers() {
      return this._viewer.imageryLayers;
    }
    get dataSources() {
      return this._viewer.dataSources;
    }
    get entities() {
      return this._viewer.entities;
    }
    get clock() {
      return this._viewer.clock;
    }
    get currentTime() {
      return this._viewer.clock.currentTime;
    }
    set currentTime(_0xb13ee6) {
      this._viewer.clock.currentTime = _0xb13ee6;
    }
    get readyPromise() {
      return this._readyPromise?.promise;
    }
    get trackedEntity() {
      return this.cesiumWidget.trackedEntity;
    }
    set trackedEntity(_0x5ab44d) {
      if (_0x5ab44d) {
        let _0x57d4ea;
        if (_0x5ab44d instanceof Cesium__namespace.Entity) {
          _0x57d4ea = _0x5ab44d;
        } else if (_0x5ab44d.entity instanceof Cesium__namespace.Entity) {
          _0x57d4ea = _0x5ab44d.entity;
        } else if (_0x5ab44d.czmObject instanceof Cesium__namespace.Entity) {
          _0x57d4ea = _0x5ab44d.czmObject;
        } else if (_0x5ab44d.trackedEntity instanceof Cesium__namespace.Entity) {
          _0x57d4ea = _0x5ab44d.trackedEntity;
        }
        if (_0x57d4ea) {
          this.cesiumWidget.trackedEntity = _0x57d4ea;
        }
      } else {
        this.cesiumWidget.trackedEntity = undefined;
      }
    }
    get terrainProvider() {
      return this._viewer.terrainProvider;
    }
    set terrainProvider(_0x17e8b7) {
      this._updateTerrainProvider(_0x17e8b7);
    }
    async _updateTerrainProvider(_0x2c2ee7) {
      try {
        this._terrainProviderIndex++;
        if (_0x2c2ee7) {
          if (_0x2c2ee7.then) {
            this._viewer.scene._terrainProviderPromise = _0x2c2ee7;
            const _0x3bb263 = this._terrainProviderIndex;
            _0x2c2ee7 = await _0x2c2ee7;
            if (this._viewer) {
              delete this._viewer.scene._terrainProviderPromise;
            }
            if (_0x3bb263 !== this._terrainProviderIndex) {
              return;
            }
          }
        }
        if (!this._viewer) {
          return;
        }
        this._viewer.terrainProvider = _0x2c2ee7;
        this._defaultTerrainProvider = _0x2c2ee7;
        if (this.control.baseLayerPicker) {
          this.control.baseLayerPicker.updateSelectedTerrainViewModel();
        }
        const _0x452ad6 = {
          terrain: _0x2c2ee7
        };
        this.fire(EventType.terrainLoadSuccess, _0x452ad6);
      } catch (_0x927916) {
        logWarn("地形加载失败", _0x2c2ee7, _0x927916);
        if (this._viewer) {
          this._viewer.terrainProvider = getNoTerrainProvider();
          const _0x4f6049 = {
            error: _0x927916
          };
          this.fire(EventType.terrainLoadError, _0x4f6049);
        }
      }
    }
    get hasTerrain() {
      return !(this._viewer.terrainProvider instanceof Cesium__namespace.EllipsoidTerrainProvider);
    }
    set hasTerrain(_0x3f2b7a) {
      if (_0x3f2b7a) {
        if (this._defaultTerrainProvider == null) {
          this.terrainProvider = createTerrainProvider(this._getTerrainOptions());
        } else {
          this._terrainProviderIndex++;
          this._viewer.terrainProvider = this._defaultTerrainProvider;
        }
      } else {
        this._terrainProviderIndex++;
        this._viewer.terrainProvider = getNoTerrainProvider();
        this.fire(EventType.terrainLoadSuccess);
      }
      if (this.control.baseLayerPicker) {
        this.control.baseLayerPicker.updateSelectedTerrainViewModel();
      }
    }
    get basemap() {
      const _0x24a782 = this._optionsBasemapsList.values;
      for (let _0x3459d3 = 0; _0x3459d3 < _0x24a782.length; _0x3459d3++) {
        const _0x1d84e1 = _0x24a782[_0x3459d3];
        if (_0x1d84e1.hasEmptyGroup) {
          continue;
        }
        if (_0x1d84e1.isAdded) {
          return _0x1d84e1;
        }
      }
      return undefined;
    }
    set basemap(_0x2eda66) {
      let _0xd5297b;
      let _0x59268b;
      if (_0x2eda66 && isObject(_0x2eda66)) {
        _0xd5297b = _0x2eda66.id;
        _0x59268b = _0x2eda66.name;
      } else {
        _0xd5297b = _0x2eda66;
        _0x59268b = _0x2eda66;
      }
      let _0x1d0cfb = this.basemap;
      if (_0x1d0cfb && (_0x1d0cfb.id === _0xd5297b || _0x1d0cfb.name === _0x59268b)) {
        return;
      }
      const _0x138e28 = this._optionsBasemapsList.values;
      for (let _0x4992c3 = 0; _0x4992c3 < _0x138e28.length; _0x4992c3++) {
        const _0x1a1dcb = _0x138e28[_0x4992c3];
        if (_0x1a1dcb.hasEmptyGroup) {
          continue;
        }
        if (_0x59268b == _0x1a1dcb.name || _0xd5297b == _0x1a1dcb.id) {
          if (!_0x1a1dcb.isAdded) {
            _0xd5297b = _0x1a1dcb.id;
            _0x1a1dcb.options.show = true;
            this.addLayer(_0x1a1dcb).then(_0x1d4719 => {
              if (_0x1a1dcb.toBottom) {
                _0x1a1dcb.toBottom();
              }
              const _0x25c9f1 = {
                layer: _0x1a1dcb
              };
              this.fire(EventType.changeBasemap, _0x25c9f1);
            });
          }
          _0x1d0cfb = _0x1a1dcb;
        } else if (_0x1a1dcb.isAdded) {
          delete _0x1a1dcb.options.show;
          this.removeLayer(_0x1a1dcb);
        }
      }
      if (this.control.baseLayerPicker) {
        this.control.baseLayerPicker.updateSelectedImageryViewModel(_0xd5297b);
      }
    }
    get templateValues() {
      return this._templateValues;
    }
    set templateValues(_0x4fd4aa) {
      this._templateValues = _0x4fd4aa;
    }
    get onlyPickModelPosition() {
      var _0x215a16;
      if ((_0x215a16 = this._viewer) === null || _0x215a16 === undefined) {
        return undefined;
      } else {
        return _0x215a16.scene.onlyPickModelPosition;
      }
    }
    set onlyPickModelPosition(_0x2c1b04) {
      this._viewer.scene.onlyPickModelPosition = _0x2c1b04;
    }
    get onlyPickTerrainPosition() {
      var _0x5061c0;
      if ((_0x5061c0 = this._viewer) === null || _0x5061c0 === undefined) {
        return undefined;
      } else {
        return _0x5061c0.scene.onlyPickTerrainPosition;
      }
    }
    set onlyPickTerrainPosition(_0x24087e) {
      this._viewer.scene.onlyPickTerrainPosition = _0x24087e;
    }
    get onlyVertexPosition() {
      return this._onlyVertexPosition;
    }
    set onlyVertexPosition(_0x4a71a3) {
      this._onlyVertexPosition = _0x4a71a3;
      this.scene.onlyVertexPosition = _0x4a71a3 && (this.container.style.cursor = "crosshair");
    }
    get mouseEvent() {
      return this._mouseEvent;
    }
    get popup() {
      return this._popupMgr;
    }
    get tooltip() {
      return this._tooltipMgr;
    }
    get smallTooltip() {
      return this._smallTooltip;
    }
    get contextmenu() {
      return this._contextmenuMgr;
    }
    get control() {
      return this._control;
    }
    get controls() {
      return this._control;
    }
    get effect() {
      return this._effect;
    }
    get effects() {
      return this._effect;
    }
    get thing() {
      return this._thing;
    }
    get things() {
      return this._thing;
    }
    get graphicLayer() {
      if (this._graphicLayer == null) {
        this._addDefGraphicLayer();
      }
      return this._graphicLayer;
    }
    _addDefGraphicLayer() {
      this._graphicLayer = new GraphicLayer({
        name: "默认数据图层",
        ...this.options.graphic,
        private: true
      });
      return this.addLayer(this._graphicLayer);
    }
    get isDrawing() {
      return this._drawLayer?.isDrawing;
    }
    _setDrawingLayer(_0x396f28) {
      this._drawLayer = _0x396f28;
    }
    get level() {
      const _0x58441a = Math.abs(this._viewer.camera.positionCartographic.height);
      if (_0x58441a === this._prevCameraHeight) {
        return this._level;
      }
      this._prevCameraHeight = _0x58441a;
      this._level = heightToZoom(_0x58441a);
      return this._level;
    }
    get zoom() {
      return this.level;
    }
    getResolution() {
      const _0x75bf8 = Math.abs(this.scene.camera.positionCartographic.height);
      if (this._resolution && _0x75bf8 === this._prevCameraHeight) {
        return this._resolution;
      }
      this._prevCameraHeight = _0x75bf8;
      const _0x1ca3af = this.scene;
      const _0x3725b8 = _0x1ca3af.canvas.clientWidth;
      const _0x34ab39 = _0x1ca3af.canvas.clientHeight;
      const _0x176ab8 = _0x1ca3af.camera.getPickRay(new Cesium__namespace.Cartesian2(_0x3725b8 / 2 | 0, _0x34ab39 - 1));
      const _0x48565d = _0x1ca3af.camera.getPickRay(new Cesium__namespace.Cartesian2(1 + _0x3725b8 / 2 | 0, _0x34ab39 - 1));
      const _0x415b62 = _0x1ca3af.globe.pick(_0x176ab8, _0x1ca3af);
      const _0x122109 = _0x1ca3af.globe.pick(_0x48565d, _0x1ca3af);
      if (!_0x415b62 || !_0x122109) {
        return;
      }
      const _0x18496e = new Cesium__namespace.EllipsoidGeodesic();
      const _0x218126 = _0x1ca3af.globe.ellipsoid.cartesianToCartographic(_0x415b62);
      const _0x2e1906 = _0x1ca3af.globe.ellipsoid.cartesianToCartographic(_0x122109);
      _0x18496e.setEndPoints(_0x218126, _0x2e1906);
      this._resolution = _0x18496e.surfaceDistance;
      return this._resolution;
    }
    get fixedLight() {
      return this._fixedLight;
    }
    set fixedLight(_0xdab527) {
      this._fixedLight = _0xdab527;
      if (!this._sunlight) {
        this._sunlight = this.scene.light;
      }
      if (_0xdab527) {
        const _0x4250bf = new Cesium__namespace.DirectionalLight({
          direction: new Cesium__namespace.Cartesian3(0.35492591601301104, -0.8909182691839401, -0.2833588392420772)
        });
        this.scene.light = _0x4250bf;
      } else {
        this.scene.light = this._sunlight;
      }
    }
    get lang() {
      return this._lang ?? Lang ?? {};
    }
    set lang(_0x402492) {
      this._lang = _0x402492;
      this.setLangText();
    }
    get zoomFactor() {
      return this.scene.screenSpaceCameraController._zoomFactor;
    }
    set zoomFactor(_0x5d1fea) {
      this.scene.screenSpaceCameraController._zoomFactor = _0x5d1fea;
    }
    get highlightEnabled() {
      return this._highlightEnabled;
    }
    set highlightEnabled(_0xe365b1) {
      this._highlightEnabled = _0xe365b1;
      if (!_0xe365b1) {
        this.closeHighlight();
      }
    }
    get availabilityEnabled() {
      return this.options.method?.availabilityEnabled ?? true;
    }
    set availabilityEnabled(_0x55b3ed) {
      this.options.method = this.options.method || {};
      this.options.method.availabilityEnabled = _0x55b3ed;
    }
    get imageryLayersForClamp() {
      if (!this._imageryLayersForClamp) {
        const _0x242d59 = new Cesium__namespace.ImageryLayerCollection();
        const _0x455254 = {
          imageryLayers: _0x242d59
        };
        const _0x5c67a0 = new QuadtreePrimitive(_0x455254);
        _0x5c67a0.zIndex = 0;
        this.scene.primitives.add(_0x5c67a0);
        this.scene.primitives.lowerToBottom(_0x5c67a0);
        this._quadtreePrimitive = _0x5c67a0;
        this._imageryLayersForClamp = _0x242d59;
      }
      return this._imageryLayersForClamp;
    }
    _createViewer(_0x2a84bd, _0xe99d83) {
      var _0x13dfb7;
      if (!_0x2a84bd) {
        throw new Error("Map：id 不能为空");
      }
      const _0x49f325 = {
        ...DefaultOptions,
        ..._0xe99d83.control,
        ..._0xe99d83.scene
      };
      _0x49f325.animation = false;
      _0x49f325.baseLayerPicker = false;
      _0x49f325.fullscreenButton = false;
      _0x49f325.geocoder = false;
      _0x49f325.homeButton = false;
      _0x49f325.navigationHelpButton = false;
      _0x49f325.projectionPicker = false;
      _0x49f325.sceneModePicker = false;
      _0x49f325.timeline = false;
      _0x49f325.vrButton = false;
      const _0x2c4e85 = _0x49f325;
      if (_0x2c4e85.globe && !(_0x2c4e85.globe instanceof Cesium__namespace.Globe)) {
        delete _0x2c4e85.globe;
      }
      if (_0x2c4e85.cameraController) {
        delete _0x2c4e85.cameraController;
      }
      if (_0x2c4e85.contextmenu) {
        delete _0x2c4e85.contextmenu;
      }
      if (_0x2c4e85.location) {
        delete _0x2c4e85.location;
      }
      if (_0x2c4e85.mouseDownView) {
        delete _0x2c4e85.mouseDownView;
      }
      if (_0x2c4e85.navigation) {
        delete _0x2c4e85.navigation;
      }
      if (Cesium__namespace.defined(_0x2c4e85.mapProjection)) {
        if (_0x2c4e85.mapProjection === CRS.EPSG3857) {
          _0x2c4e85.mapProjection = new Cesium__namespace.WebMercatorProjection(_0x2c4e85.ellipsoid);
        } else if (_0x2c4e85.mapProjection === CRS.EPSG4326 || _0x2c4e85.mapProjection === CRS.EPSG4490) {
          _0x2c4e85.mapProjection = new Cesium__namespace.GeographicProjection(_0x2c4e85.ellipsoid);
        }
      } else {
        _0x2c4e85.mapProjection = new Cesium__namespace.WebMercatorProjection(_0x2c4e85.ellipsoid);
      }
      if (Cesium__namespace.defined(_0x2c4e85.ellipsoid)) {
        _0x2c4e85.globe = new Cesium__namespace.Globe(_0x2c4e85.ellipsoid);
      }
      if (Cesium__namespace.defined(_0x2c4e85.skyBox) && isPlainObject(_0x2c4e85.skyBox)) {
        _0x2c4e85.skyBox = getSkyBoxObject(_0x2c4e85.skyBox);
      }
      if (Cesium__namespace.defined(_0x2c4e85.backgroundImage)) {
        _0x2c4e85.contextOptions = _0x2c4e85.contextOptions || {};
        _0x2c4e85.contextOptions.webgl = _0x2c4e85.contextOptions.webgl || {};
        _0x2c4e85.contextOptions.webgl.alpha = true;
      }
      let _0x193e15 = false;
      if (!_0x2c4e85.baseLayer) {
        _0x193e15 = true;
        _0x2c4e85.baseLayer = Cesium__namespace.ImageryLayer.fromProviderAsync(Cesium__namespace.TileMapServiceImageryProvider.fromUrl(Cesium__namespace.buildModuleUrl("Assets/Textures/NaturalEarthII")));
      }
      let _0x1be05a = false;
      if ((_0x13dfb7 = _0xe99d83.terrain) !== null && _0x13dfb7 !== undefined && _0x13dfb7.show) {
        _0x1be05a = _0xe99d83.method?.hasTerrain ?? true;
      } else {
        _0x2c4e85.terrainProvider = getNoTerrainProvider();
      }
      this._viewer = new Cesium__namespace.Viewer(_0x2a84bd, _0x2c4e85);
      if (_0x1be05a) {
        this.terrainProvider = createTerrainProvider(this._getTerrainOptions());
      }
      if (_0x193e15) {
        const _0x503954 = this._viewer.imageryLayers;
        const _0x46151d = _0x503954.length;
        for (let _0x4c41a8 = 0; _0x4c41a8 < _0x46151d; _0x4c41a8++) {
          const _0x5ceeb6 = _0x503954.get(0);
          _0x503954.remove(_0x5ceeb6, true);
        }
      }
    }
    _getTerrainOptions() {
      if (!this.options.terrain) {
        return this.options.terrain;
      }
      const _0x53ae3c = {
        templateValues: this.templateValues,
        ...this.options.terrain
      };
      return _0x53ae3c;
    }
    setOptions(_0x470fdb, _0x26b65a) {
      if (!_0x470fdb || Object.keys(_0x470fdb).length === 0) {
        return this;
      }
      if (_0x26b65a?.merge ?? true) {
        this.options = merge(this.options, _0x470fdb);
      } else {
        this.clear(true);
        this.options = _0x470fdb;
      }
      for (const _0x22c0f7 in _0x470fdb) {
        const _0x480d21 = _0x470fdb[_0x22c0f7];
        switch (_0x22c0f7) {
          case "scene":
            {
              this._sceneOption.setOptions(this.options.scene, _0x480d21);
              break;
            }
          case "terrain":
            {
              const _0x565fff = this._getTerrainOptions();
              if (_0x565fff?.show ?? true) {
                this.terrainProvider = createTerrainProvider(_0x565fff);
              } else {
                this.hasTerrain = false;
              }
              break;
            }
          case "basemap":
            {
              this.basemap = _0x480d21;
              break;
            }
          case "basemaps":
            {
              this.setBasemapsOptions(_0x480d21);
              break;
            }
          case "layers":
            {
              const _0x35d738 = {
                filter: _0x26b65a?.filterLayer
              };
              this.setLayersOptions(_0x480d21, _0x35d738);
              break;
            }
          case "control":
            {
              for (const _0x5e290d in _0x480d21) {
                const _0x31eb3f = this.options.control[_0x5e290d];
                const _0x262647 = this._control[_0x5e290d];
                if (_0x262647) {
                  if (!_0x31eb3f || _0x31eb3f?.enabled === false) {
                    _0x262647.show = false;
                    _0x262647.enabled = false;
                  } else {
                    _0x262647.show = true;
                    _0x262647.enabled = true;
                    if (_0x262647.setOptions && _0x31eb3f !== true) {
                      _0x262647.setOptions(_0x31eb3f);
                    }
                  }
                } else {
                  if (!_0x31eb3f || _0x31eb3f.enabled === false) {
                    continue;
                  }
                  const _0x1d8c30 = create$2(_0x5e290d, _0x31eb3f);
                  if (_0x1d8c30) {
                    this.addControl(_0x1d8c30);
                  } else {
                    logWarn("createControl:无该类型控件暂不能创建", _0x5e290d, _0x31eb3f);
                  }
                }
              }
              break;
            }
          case "effect":
            {
              for (const _0x5cb455 in _0x480d21) {
                const _0x3b471f = this.options.effect[_0x5cb455];
                const _0x2f4807 = this._effect[_0x5cb455];
                if (_0x2f4807) {
                  if (!_0x3b471f || _0x3b471f?.enabled === false) {
                    _0x2f4807.enabled = false;
                  } else {
                    _0x2f4807.enabled = true;
                    if (_0x2f4807.setOptions) {
                      _0x2f4807.setOptions(_0x3b471f);
                    }
                  }
                } else {
                  if (!_0x3b471f || _0x3b471f.enabled === false) {
                    continue;
                  }
                  const _0x58df3f = create$1(_0x5cb455, _0x3b471f);
                  if (_0x58df3f) {
                    this.addEffect(_0x58df3f);
                  }
                }
              }
              break;
            }
          case "thing":
            {
              for (const _0x1f5365 in _0x480d21) {
                const _0x434f34 = this.options.thing[_0x1f5365];
                const _0x3909d6 = this._thing[_0x1f5365];
                if (_0x3909d6) {
                  if (!_0x434f34 || _0x434f34?.enabled === false) {
                    _0x3909d6.enabled = false;
                  } else {
                    _0x3909d6.enabled = true;
                    if (_0x3909d6.setOptions) {
                      _0x3909d6.setOptions(_0x434f34);
                    }
                  }
                } else {
                  if (!_0x434f34 || _0x434f34.enabled === false) {
                    continue;
                  }
                  const _0x72a695 = create(_0x1f5365, _0x434f34);
                  if (_0x72a695) {
                    this.addThing(_0x72a695);
                  }
                }
              }
              break;
            }
          case "mouse":
            {
              this._mouseEvent.setOptions(this.options.mouse);
              break;
            }
          case "method":
            {
              this._initMethod(_0x480d21);
              break;
            }
          case "graphic":
            {
              this.graphicLayer.setOptions(this.options.graphic);
              break;
            }
          case "version":
          case "enabled":
            {
              break;
            }
          default:
            {
              logWarn(_0x22c0f7 + "参数未处理", _0x470fdb);
              break;
            }
        }
      }
      return this;
    }
    setSceneOptions(_0xdce7b8, _0xbc3cd8) {
      if (!_0xdce7b8 || Object.keys(_0xdce7b8).length === 0) {
        return this;
      }
      if (_0xbc3cd8?.merge ?? true) {
        this.options.scene = merge(this.options.scene, _0xdce7b8);
      } else {
        this.options.scene = _0xdce7b8;
      }
      this._sceneOption.setOptions(this.options.scene, _0xdce7b8);
      return this;
    }
    toJSON(_0x5f5734) {
      const _0x3aa6c8 = clone(getAttrVal(this.options, {
        onlySimpleType: true
      }));
      _0x3aa6c8.scene = _0x3aa6c8.scene || {};
      _0x3aa6c8.scene.center = this.getCameraView();
      _0x3aa6c8.basemaps = [];
      const _0x4128e4 = this._optionsBasemapsList.values;
      for (let _0xea83a6 = 0, _0x514e42 = _0x4128e4.length; _0xea83a6 < _0x514e42; _0xea83a6++) {
        const _0x4fa803 = _0x4128e4[_0xea83a6];
        if (_0x4fa803.isPrivate) {
          continue;
        }
        const _0x1a1fff = _0x4fa803.toJSON(_0x5f5734);
        if (_0x5f5734 !== null && _0x5f5734 !== undefined && _0x5f5734.eachLayer) {
          _0x5f5734.eachLayer(_0x1a1fff, _0x4fa803, true);
        }
        _0x3aa6c8.basemaps.push(_0x1a1fff);
      }
      _0x3aa6c8.layers = [];
      const _0x23b6be = this.getLayers({
        basemaps: false,
        layers: true,
        childs: false
      });
      for (let _0xe2b413 = 0, _0x41bc2c = _0x23b6be.length; _0xe2b413 < _0x41bc2c; _0xe2b413++) {
        const _0x5e92cd = _0x23b6be[_0xe2b413];
        if (_0x5e92cd.isPrivate) {
          continue;
        }
        const _0x59d2e2 = _0x5e92cd.toJSON(_0x5f5734);
        if (_0x5f5734 !== null && _0x5f5734 !== undefined && _0x5f5734.eachLayer) {
          _0x5f5734.eachLayer(_0x59d2e2, _0x5e92cd);
        }
        _0x3aa6c8.layers.push(_0x59d2e2);
      }
      _0x3aa6c8.control = _0x3aa6c8.control || {};
      for (const _0x55c63f in this.control) {
        const _0x3f031f = this.control[_0x55c63f];
        let _0x1aea7b = _0x3f031f.toJSON();
        const _0x2decf3 = _0x1aea7b && Object.keys(_0x1aea7b).length;
        if (_0x1aea7b === undefined || _0x1aea7b.enabled === false && _0x2decf3 === 1 || _0x3f031f.isPrivate && _0x2decf3 === 0) {
          continue;
        }
        if (_0x2decf3 === 0) {
          _0x1aea7b = true;
        }
        _0x3aa6c8.control[_0x55c63f] = _0x1aea7b;
      }
      _0x3aa6c8.effect = _0x3aa6c8.effect || {};
      for (const _0x2bb39a in this.effect) {
        const _0x418b72 = this.effect[_0x2bb39a];
        const _0x24545e = _0x418b72.toJSON();
        const _0x1ff729 = _0x24545e && Object.keys(_0x24545e).length;
        if (_0x24545e === undefined || _0x24545e.enabled === false && _0x1ff729 === 1) {
          continue;
        }
        _0x3aa6c8.effect[_0x2bb39a] = _0x24545e;
      }
      _0x3aa6c8.thing = _0x3aa6c8.thing || {};
      for (const _0x5983b3 in this.thing) {
        const _0x388996 = this.thing[_0x5983b3];
        const _0x51aa86 = _0x388996.toJSON();
        const _0x27c2b4 = _0x51aa86 && Object.keys(_0x51aa86).length;
        if (_0x51aa86 === undefined || _0x51aa86.enabled === false && _0x27c2b4 === 1) {
          continue;
        }
        _0x3aa6c8.thing[_0x5983b3] = _0x51aa86;
      }
      for (const _0x1c9b12 in _0x3aa6c8) {
        const _0x1931ce = _0x3aa6c8[_0x1c9b12];
        if (!Cesium__namespace.defined(_0x1931ce) || isObject(_0x1931ce) && Object.keys(_0x1931ce).length === 0) {
          delete _0x3aa6c8[_0x1c9b12];
        }
      }
      return _0x3aa6c8;
    }
    getDefaultContextMenu() {
      return getDefaultContextMenu(this);
    }
    getCurrentMousePosition(_0x288260) {
      return this.mouseEvent.getCurrentMousePosition(_0x288260);
    }
    getCenter(_0x2cf002) {
      return getCenter(this.scene, _0x2cf002);
    }
    getHeight(_0x2e65b9, _0x5e677b) {
      return getHeight(this.scene, _0x2e65b9, _0x5e677b);
    }
    getCameraDistance() {
      const _0x3b4ef2 = this.getCenter();
      if (_0x3b4ef2) {
        if (_0x3b4ef2.alt < 0) {
          _0x3b4ef2.alt = 0;
        }
        const _0x27ad8e = Cesium__namespace.Cartesian3.distance(_0x3b4ef2.toCartesian(), this._viewer.camera.positionWC);
        return _0x27ad8e;
      } else {
        return 0;
      }
    }
    getExtent(_0x214676) {
      const _0x118452 = getMapExtentPositions(this.scene);
      const _0x19fbb2 = getMaxHeight(_0x118452);
      const _0x542f1d = Cesium__namespace.Rectangle.fromCartesianArray(_0x118452);
      let _0x18726b = Cesium__namespace.Math.toDegrees(_0x542f1d.west);
      let _0x62e7f3 = Cesium__namespace.Math.toDegrees(_0x542f1d.east);
      let _0x1c36fd = Cesium__namespace.Math.toDegrees(_0x542f1d.north);
      let _0x4a230d = Cesium__namespace.Math.toDegrees(_0x542f1d.south);
      if (Cesium__namespace.defined(_0x214676?.scale)) {
        const _0xcd5c11 = _0x214676.scale;
        const _0x2206c6 = (_0x62e7f3 - _0x18726b) / 2 * _0xcd5c11;
        const _0x46553e = (_0x1c36fd - _0x4a230d) / 2 * _0xcd5c11;
        _0x18726b -= _0x2206c6;
        _0x62e7f3 += _0x2206c6;
        _0x4a230d -= _0x46553e;
        _0x1c36fd += _0x46553e;
      }
      _0x18726b = Math.max(_0x18726b, -180);
      _0x62e7f3 = Math.min(_0x62e7f3, 180);
      _0x4a230d = Math.max(_0x4a230d, -90);
      _0x1c36fd = Math.min(_0x1c36fd, 90);
      if (_0x214676 !== null && _0x214676 !== undefined && _0x214676.formatNum) {
        _0x18726b = formatNum$1(_0x18726b, LngLatPoint.FormatLength);
        _0x62e7f3 = formatNum$1(_0x62e7f3, LngLatPoint.FormatLength);
        _0x4a230d = formatNum$1(_0x4a230d, LngLatPoint.FormatLength);
        _0x1c36fd = formatNum$1(_0x1c36fd, LngLatPoint.FormatLength);
      }
      const _0x50aa2f = {
        xmin: _0x18726b,
        xmax: _0x62e7f3,
        ymin: _0x4a230d,
        ymax: _0x1c36fd,
        height: _0x19fbb2,
        positions: _0x118452
      };
      return _0x50aa2f;
    }
    getRealAlt(_0x5b2000) {
      var _0x100647;
      if ((_0x100647 = this.options.scene) === null || _0x100647 === undefined || (_0x100647 = _0x100647.globe) === null || _0x100647 === undefined || !_0x100647.realAlt) {
        return _0x5b2000;
      }
      const _0x1bae5c = this._viewer.scene.verticalExaggeration;
      if (_0x1bae5c) {
        return _0x5b2000 / _0x1bae5c;
      }
      return _0x5b2000;
    }
    expImage(_0x38e04a) {
      return expImage(this, _0x38e04a);
    }
    setCursor(_0x1c7d88 = "") {
      this._default_cursor = _0x1c7d88;
      this.container.style.cursor = _0x1c7d88;
    }
    _setEditCursor(_0x5ad179) {
      if (!this.container) {
        return;
      }
      if (_0x5ad179) {
        this.container.style.cursor = "crosshair";
      } else {
        this.container.style.cursor = this._default_cursor || "";
      }
      this.scene.onlyVertexPosition = this._onlyVertexPosition && _0x5ad179;
    }
    pick3DTileset(_0x30b4a3) {
      return pick3DTileset(this.scene, _0x30b4a3);
    }
    pickTilesetLayer(_0x9846f4) {
      const _0x49a6ef = pick3DTileset(this.scene, _0x9846f4);
      if (_0x49a6ef) {
        return this.getLayerById(_0x49a6ef._mars3d_layerId);
      } else {
        return null;
      }
    }
    on(_0x353628, _0x260664, _0x21a259) {
      const _0xee3a1b = this._sceneEvent.on(_0x353628, _0x260664, _0x21a259 || this);
      if (!_0xee3a1b) {
        super.on(_0x353628, _0x260664, _0x21a259);
      }
      return this;
    }
    off(_0x5a070b, _0x5c8c10, _0x2c503c) {
      const _0x254a50 = this._sceneEvent.off(_0x5a070b, _0x5c8c10, _0x2c503c || this);
      if (!_0x254a50) {
        super.off(_0x5a070b, _0x5c8c10, _0x2c503c);
      }
      return this;
    }
    listens(_0x113da1, _0x3f92ec) {
      if (this._sceneEvent && this._sceneEvent.hasType(_0x113da1)) {
        return this._sceneEvent.listens(_0x113da1);
      } else {
        return super.listens(_0x113da1, _0x3f92ec);
      }
    }
    _initLayers() {
      this.options.basemaps = this.options.basemaps || [];
      this.options.layers = this.options.layers || [];
      this._layerIdx = 1;
      this._arrLayerIdx = [];
      const _0x4e7872 = this.options.basemaps;
      const _0x4e440e = this.options.layers;
      for (let _0x1280e5 = 0; _0x1280e5 < _0x4e7872.length; _0x1280e5++) {
        const _0x2f41e1 = _0x4e7872[_0x1280e5];
        if (_0x2f41e1.id) {
          if (this._arrLayerIdx.indexOf(_0x2f41e1.id) !== -1) {
            delete _0x2f41e1.id;
            logWarn("addLayer:图层id存在冲突，已重新赋值id", _0x2f41e1);
          }
          this._arrLayerIdx.push(_0x2f41e1.id);
        }
        if (_0x2f41e1.layers) {
          for (let _0xcdcfba = 0; _0xcdcfba < _0x2f41e1.layers.length; _0xcdcfba++) {
            const _0x484780 = _0x2f41e1.layers[_0xcdcfba];
            if (_0x484780.id) {
              if (this._arrLayerIdx.indexOf(_0x484780.id) !== -1) {
                delete _0x484780.id;
                logWarn("addLayer:图层id存在冲突，已重新赋值id", _0x484780);
              }
              this._arrLayerIdx.push(_0x484780.id);
            }
          }
        }
      }
      for (let _0x3aadbc = 0; _0x3aadbc < _0x4e440e.length; _0x3aadbc++) {
        const _0x117548 = _0x4e440e[_0x3aadbc];
        if (_0x117548.id) {
          if (this._arrLayerIdx.indexOf(_0x117548.id) !== -1) {
            delete _0x117548.id;
            logWarn("addLayer:图层id存在冲突，已重新赋值id", _0x117548);
          }
          this._arrLayerIdx.push(_0x117548.id);
        }
        if (_0x117548.layers) {
          for (let _0x48649e = 0; _0x48649e < _0x117548.layers.length; _0x48649e++) {
            const _0x59453f = _0x117548.layers[_0x48649e];
            if (_0x59453f.id) {
              if (this._arrLayerIdx.indexOf(_0x59453f.id) !== -1) {
                delete _0x59453f.id;
                logWarn("addLayer:图层id存在冲突，已重新赋值id", _0x59453f);
              }
              this._arrLayerIdx.push(_0x59453f.id);
            }
          }
        }
      }
      const _0x599195 = [];
      const _0x50c54f = [];
      for (let _0x39fefb = 0; _0x39fefb < _0x4e7872.length; _0x39fefb++) {
        const _0x440eb6 = _0x4e7872[_0x39fefb];
        if (!_0x440eb6.name) {
          _0x440eb6.name = "";
        }
        if (!_0x440eb6.id) {
          _0x440eb6.id = this.getNextLayerId();
        }
        delete _0x440eb6.zIndex;
        const _0x249645 = create$3(_0x440eb6);
        if (!_0x249645) {
          continue;
        }
        _0x249645._hasMapInit = true;
        if (_0x440eb6.show) {
          const _0x2554cf = this.addLayer(_0x249645);
          _0x50c54f.push(_0x2554cf);
        } else {
          delete _0x440eb6.show;
        }
        this._optionsBasemapsList.set(_0x440eb6.id, _0x249645);
        if (_0x249645.hasChildLayer && _0x440eb6.layers) {
          for (let _0x1ce211 = 0; _0x1ce211 < _0x440eb6.layers.length; _0x1ce211++) {
            const _0x4e00b9 = _0x440eb6.layers[_0x1ce211];
            _0x4e00b9.pid = _0x440eb6.id;
            _0x4e00b9.parent = _0x249645;
            if (!_0x4e00b9.id) {
              _0x4e00b9.id = this.getNextLayerId();
            }
            _0x599195.push(_0x4e00b9);
          }
        } else {
          _0x599195.push(_0x440eb6);
        }
      }
      for (let _0x2a86c4 = 0; _0x2a86c4 < _0x4e440e.length; _0x2a86c4++) {
        const _0x586785 = _0x4e440e[_0x2a86c4];
        if (!_0x586785.id) {
          _0x586785.id = this.getNextLayerId();
        }
        const _0x44a151 = create$3(_0x586785);
        if (!_0x44a151) {
          continue;
        }
        _0x44a151._hasMapInit = true;
        if (_0x586785.show) {
          const _0x38b45e = this.addLayer(_0x44a151);
          _0x50c54f.push(_0x38b45e);
        } else {
          delete _0x586785.show;
        }
        this._optionsLayersList.set(_0x586785.id, _0x44a151);
        if (_0x44a151.hasChildLayer && _0x586785.layers) {
          for (let _0x23a569 = 0; _0x23a569 < _0x586785.layers.length; _0x23a569++) {
            const _0x5e6c58 = _0x586785.layers[_0x23a569];
            _0x5e6c58.pid = _0x586785.id;
            _0x5e6c58.parent = _0x44a151;
            if (!_0x5e6c58.id) {
              _0x5e6c58.id = this.getNextLayerId();
            }
            _0x599195.push(_0x5e6c58);
          }
        } else {
          _0x599195.push(_0x586785);
        }
      }
      for (let _0xe90da1 = 0; _0xe90da1 < _0x599195.length; _0xe90da1++) {
        const _0x1bc236 = _0x599195[_0xe90da1];
        if (_0x1bc236.type === "group") {
          continue;
        }
        let _0x34ce9f = Number(_0x1bc236.zIndex);
        if (isNaN(_0x34ce9f)) {
          _0x34ce9f = _0xe90da1;
        }
        _0x1bc236.zIndex = _0x34ce9f;
        const _0x4945c0 = this._layerList.get(_0x1bc236.id);
        if (_0x4945c0) {
          _0x4945c0.zIndex = _0x34ce9f;
        }
      }
      if (this.options.graphic) {
        const _0x519188 = this._addDefGraphicLayer();
        _0x50c54f.push(_0x519188);
      }
      const _0x126b67 = this;
      _0x50c54f.push(new Promise((_0x41a0f7, _0x11e3a8) => {
        let _0x2d2c45 = false;
        function _0x2acce8() {
          if (_0x2d2c45 || !_0x126b67.options) {
            return;
          }
          _0x2d2c45 = true;
          _0x126b67.off(EventType.tileLoadProgress, _0x403a79);
          _0x41a0f7(true);
        }
        function _0x403a79(_0x47d3c9) {
          if (_0x126b67.scene.globe.tilesLoaded || _0x47d3c9 === 0) {
            _0x2acce8();
          }
        }
        this.on(EventType.tileLoadProgress, _0x403a79);
        setTimeout(_0x2acce8, 5000);
      }));
      if (this._viewer.scene._terrainProviderPromise) {
        _0x50c54f.push(this._viewer.scene._terrainProviderPromise);
      }
      let _0x3ae4fb = false;
      const _0x1a89ce = () => {
        if (_0x3ae4fb) {
          return;
        }
        _0x3ae4fb = true;
        setTimeout(() => {
          this.fire(EventType.load);
          if (this._readyPromise) {
            this._readyPromise.resolve(this);
          }
        }, 100);
      };
      Promise.all(_0x50c54f).then(_0x1a89ce);
      setTimeout(_0x1a89ce, 8000);
    }
    _initTerrain() {
      var _0x110112;
      const _0x5b88e2 = this.options.terrain;
      const _0x1f8194 = (_0x110112 = this.scene) === null || _0x110112 === undefined || (_0x110112 = _0x110112.globe) === null || _0x110112 === undefined || (_0x110112 = _0x110112._surface) === null || _0x110112 === undefined || (_0x110112 = _0x110112.tileProvider) === null || _0x110112 === undefined ? undefined : _0x110112.marsOptions;
      if (_0x5b88e2 !== null && _0x5b88e2 !== undefined && _0x5b88e2.clip && _0x1f8194 !== null && _0x1f8194 !== undefined && _0x1f8194.clip) {
        _0x1f8194.clip.enabled = true;
      }
      if (_0x5b88e2 !== null && _0x5b88e2 !== undefined && _0x5b88e2.flat && _0x1f8194 !== null && _0x1f8194 !== undefined && _0x1f8194.flat) {
        _0x1f8194.flat.enabled = true;
      }
      if (_0x5b88e2 !== null && _0x5b88e2 !== undefined && _0x5b88e2.uplift && _0x1f8194 !== null && _0x1f8194 !== undefined && _0x1f8194.uplift) {
        _0x1f8194.uplift.enabled = true;
      }
      if (_0x5b88e2 !== null && _0x5b88e2 !== undefined && _0x5b88e2.flood && _0x1f8194 !== null && _0x1f8194 !== undefined && _0x1f8194.flood) {
        _0x1f8194.flood.enabled = true;
      }
    }
    setBasemapsOptions(_0x552c4d, _0xfe5c95 = true) {
      if (!_0x552c4d) {
        _0x552c4d = [];
      }
      this.options.basemaps = _0x552c4d;
      if (_0xfe5c95) {
        this._optionsBasemapsList.forEach(_0xa62920 => {
          _0xa62920.destroy();
        });
        this._optionsBasemapsList.removeAll();
        for (let _0xcc598 = 0; _0xcc598 < _0x552c4d.length; _0xcc598++) {
          const _0xa649d3 = _0x552c4d[_0xcc598];
          if (!_0xa649d3.name) {
            _0xa649d3.name = "";
          }
          if (!_0xa649d3.id) {
            _0xa649d3.id = this.getNextLayerId();
          }
          let _0x21a6e0 = Number(_0xa649d3.zIndex);
          if (isNaN(_0x21a6e0)) {
            _0x21a6e0 = _0xcc598;
          }
          _0xa649d3.zIndex = _0x21a6e0;
          const _0x394fd8 = create$3(_0xa649d3);
          if (!_0x394fd8) {
            continue;
          }
          _0x394fd8._hasMapInit = true;
          if (_0xa649d3.show) {
            this.addLayer(_0x394fd8);
            _0x394fd8.readyPromise.then(function (_0x3d6160) {
              if (_0x3d6160.toBottom) {
                _0x3d6160.toBottom();
              }
            });
          }
          this._optionsBasemapsList.set(_0xa649d3.id, _0x394fd8);
          if (_0x394fd8.hasChildLayer && _0xa649d3.layers) {
            for (let _0x1a7bb0 = 0; _0x1a7bb0 < _0xa649d3.layers.length; _0x1a7bb0++) {
              const _0x7f52f2 = _0xa649d3.layers[_0x1a7bb0];
              _0x7f52f2.pid = _0xa649d3.id;
              _0x7f52f2.parent = _0x394fd8;
              if (!_0x7f52f2.id) {
                _0x7f52f2.id = this.getNextLayerId();
              }
            }
          }
        }
      }
      if (this.control.baseLayerPicker) {
        this.control.baseLayerPicker.reload();
      }
      return this._optionsBasemapsList.values;
    }
    setLayersOptions(_0x2e558c, _0x3ffc1e) {
      if (_0x3ffc1e !== null && _0x3ffc1e !== undefined && _0x3ffc1e.filter) {
        this._optionsLayersList.removeByFilter(_0x3ffc1e.filter, _0x16a67a => {
          _0x16a67a.destroy();
        });
      } else {
        this._optionsLayersList.forEach(_0x21e50f => {
          _0x21e50f.destroy();
        });
        this._optionsLayersList.removeAll();
        this.options.layers = _0x2e558c || [];
      }
      if (!_0x2e558c || _0x2e558c.length === 0) {
        return;
      }
      for (let _0xc53249 = 0; _0xc53249 < _0x2e558c.length; _0xc53249++) {
        const _0x3c4bc5 = _0x2e558c[_0xc53249];
        if (!_0x3c4bc5.id) {
          _0x3c4bc5.id = this.getNextLayerId();
        }
        const _0x4b4f33 = create$3(_0x3c4bc5);
        if (!_0x4b4f33) {
          continue;
        }
        _0x4b4f33._hasMapInit = true;
        if (_0x3c4bc5.show) {
          this.addLayer(_0x4b4f33);
        }
        this._optionsLayersList.set(_0x3c4bc5.id, _0x4b4f33);
        if (_0x4b4f33.hasChildLayer && _0x3c4bc5.layers) {
          for (let _0x341d25 = 0; _0x341d25 < _0x3c4bc5.layers.length; _0x341d25++) {
            const _0x5e5b7a = _0x3c4bc5.layers[_0x341d25];
            _0x5e5b7a.pid = _0x3c4bc5.id;
            _0x5e5b7a.parent = _0x4b4f33;
            if (!_0x5e5b7a.id) {
              _0x5e5b7a.id = this.getNextLayerId();
            }
          }
        }
      }
      return this._optionsLayersList.values;
    }
    getNextLayerId() {
      while (this._arrLayerIdx.indexOf(this._layerIdx) !== -1) {
        this._layerIdx++;
      }
      this._arrLayerIdx.push(this._layerIdx);
      return this._layerIdx;
    }
    addLayer(_0x1fe4d0, _0x230063) {
      return new Promise((_0x505c07, _0x5c63a3) => {
        if (!_0x1fe4d0 || !_0x1fe4d0._onAdd) {
          _0x505c07(false);
          return;
        }
        if (Cesium__namespace.defined(_0x230063)) {
          _0x1fe4d0.show = _0x230063;
        }
        if (_0x1fe4d0._state === State.ADDED) {
          _0x505c07(false);
          return;
        }
        _0x1fe4d0._onAdd(this);
        const _0x46437b = this._layerList.get(_0x1fe4d0.id);
        if (_0x46437b && _0x46437b !== _0x1fe4d0) {
          _0x1fe4d0.id = this.getNextLayerId();
          logWarn("addLayer:图层id存在冲突，已重新赋值id", _0x1fe4d0);
        }
        this._layerList.set(_0x1fe4d0.id, _0x1fe4d0);
        const _0x504707 = setTimeout(() => {
          _0x505c07(true);
        }, 10000);
        _0x1fe4d0.readyPromise.then(function (_0x4226dc) {
          clearTimeout(_0x504707);
          _0x505c07(true);
        });
      });
    }
    removeLayer(_0xc2c8b6, _0xd81c8f = false) {
      if (!_0xc2c8b6) {
        return this;
      }
      if (isString(_0xc2c8b6) || isNumber(_0xc2c8b6)) {
        _0xc2c8b6 = this._layerList.get(_0xc2c8b6);
        if (!_0xc2c8b6) {
          return this;
        }
      }
      this._layerList.remove(_0xc2c8b6.id);
      if (_0xc2c8b6.isAdded) {
        if (_0xd81c8f && _0xc2c8b6.clear) {
          _0xc2c8b6.clear();
        }
        _0xc2c8b6._onRemove();
      }
      if (_0xd81c8f) {
        this._optionsBasemapsList.remove(_0xc2c8b6.id);
        this._optionsLayersList.remove(_0xc2c8b6.id);
        _0xc2c8b6.destroy();
      }
      return this;
    }
    hasLayer(_0x1856b1) {
      if (!_0x1856b1) {
        return false;
      }
      if (isObject(_0x1856b1)) {
        _0x1856b1 = _0x1856b1.id;
      }
      return this._layerList.contains(_0x1856b1);
    }
    eachLayer(_0x2694f8, _0x43f68b, _0x494db1) {
      this._layerList.forEach(_0x2694f8, _0x43f68b || this, _0x494db1);
      return this;
    }
    getLayer(_0x256db4, _0x2cf943) {
      if (isObject(_0x256db4)) {
        _0x256db4 = _0x256db4.id;
      }
      return this.getLayerByAttr(_0x256db4, _0x2cf943);
    }
    getLayerById(_0x1a7e7e) {
      let _0x1ad164 = this._layerList.get(_0x1a7e7e);
      if (_0x1ad164) {
        return _0x1ad164;
      }
      _0x1ad164 = this._optionsLayersList.get(_0x1a7e7e);
      if (_0x1ad164) {
        return _0x1ad164;
      }
      _0x1ad164 = this._optionsBasemapsList.get(_0x1a7e7e);
      if (_0x1ad164) {
        return _0x1ad164;
      }
      const _0x10f2d2 = this.getLayers({
        basemaps: true,
        layers: true
      });
      for (let _0x388a0a = 0, _0x193d79 = _0x10f2d2.length; _0x388a0a < _0x193d79; _0x388a0a++) {
        const _0xd5aeb = _0x10f2d2[_0x388a0a];
        if (_0xd5aeb.id === _0x1a7e7e) {
          return _0xd5aeb;
        }
        if (_0xd5aeb.hasChildLayer && _0xd5aeb.arrLayer) {
          for (let _0x52c978 = 0; _0x52c978 < _0xd5aeb.arrLayer.length; _0x52c978++) {
            const _0x4faf33 = _0xd5aeb.arrLayer[_0x52c978];
            if (_0x4faf33.id === _0x1a7e7e) {
              return _0x4faf33;
            }
          }
        }
      }
      return undefined;
    }
    getLayerByAttr(_0xe0b2e5, _0x4b80e9) {
      let _0x23ede1 = this._layerList.getByAttr(_0xe0b2e5, _0x4b80e9);
      if (_0x23ede1) {
        return _0x23ede1;
      }
      _0x23ede1 = this._optionsLayersList.getByAttr(_0xe0b2e5, _0x4b80e9);
      if (_0x23ede1) {
        return _0x23ede1;
      }
      _0x23ede1 = this._optionsBasemapsList.getByAttr(_0xe0b2e5, _0x4b80e9);
      if (_0x23ede1) {
        return _0x23ede1;
      }
      return undefined;
    }
    getLayersByAttr(_0x23e09d, _0x367207) {
      const _0x1c6dc1 = this._layerList.getListByAttr(_0x23e09d, _0x367207);
      let _0x435508 = this._optionsLayersList.getListByAttr(_0x23e09d, _0x367207);
      for (let _0x125226 = 0, _0x52a6eb = _0x435508.length; _0x125226 < _0x52a6eb; _0x125226++) {
        const _0xe6bc69 = _0x435508[_0x125226];
        if (!this._layerList.contains(_0xe6bc69.id)) {
          _0x1c6dc1.push(_0xe6bc69);
        }
      }
      _0x435508 = this._optionsBasemapsList.getListByAttr(_0x23e09d, _0x367207);
      for (let _0x2b832d = 0, _0x38bf78 = _0x435508.length; _0x2b832d < _0x38bf78; _0x2b832d++) {
        const _0x42163c = _0x435508[_0x2b832d];
        if (!this._layerList.contains(_0x42163c.id)) {
          _0x1c6dc1.push(_0x42163c);
        }
      }
      return _0x1c6dc1;
    }
    getLayers(_0x3ec261 = {}) {
      let _0x8e23f6 = [];
      if (_0x3ec261.basemaps) {
        if (_0x3ec261.filter) {
          this._optionsBasemapsList.forEach(_0x807808 => {
            if (_0x3ec261.filter(_0x807808)) {
              _0x8e23f6.push(_0x807808);
            }
          });
        } else {
          _0x8e23f6 = _0x8e23f6.concat(this._optionsBasemapsList.values);
        }
      }
      if (_0x3ec261.layers) {
        if (_0x3ec261.filter) {
          this._optionsLayersList.forEach(_0x555f00 => {
            if (_0x3ec261.filter(_0x555f00)) {
              _0x8e23f6.push(_0x555f00);
            }
          });
        } else {
          _0x8e23f6 = _0x8e23f6.concat(this._optionsLayersList.values);
        }
      }
      this._layerList.forEach(_0x5428b3 => {
        if (_0x5428b3.isPrivate) {
          return;
        }
        if (_0x3ec261.childs === false && _0x5428b3.parent) {
          return;
        }
        if (Cesium__namespace.defined(_0x3ec261.basemaps) && this._optionsBasemapsList.contains(_0x5428b3.id)) {
          return;
        }
        if (Cesium__namespace.defined(_0x3ec261.layers) && this._optionsLayersList.contains(_0x5428b3.id)) {
          return;
        }
        if (_0x3ec261.filter && !_0x3ec261.filter(_0x5428b3)) {
          return;
        }
        _0x8e23f6.push(_0x5428b3);
      });
      return _0x8e23f6;
    }
    getLayrsTree(_0x1615d6 = {}) {
      const _0x50a2d5 = [];
      const _0xd31179 = {
        basemaps: false,
        layers: true,
        childs: false,
        ..._0x1615d6
      };
      const _0x5ece82 = this.getLayers(_0xd31179);
      const _0x29e923 = {};
      let _0x77cd30 = true;
      for (let _0xf5bff4 = _0x5ece82.length - 1; _0xf5bff4 >= 0; _0xf5bff4--) {
        const _0x465608 = _0x5ece82[_0xf5bff4];
        if (!_0x465608.options || _0x465608.isPrivate || _0x465608.parent) {
          continue;
        }
        const _0x33397d = {
          id: _0x465608.id,
          pid: _0x465608.pid,
          type: _0x465608.type,
          name: _0x465608.name,
          show: _0x465608.isAdded && _0x465608.show,
          group: _0x465608.type === "group" && _0x465608.hasEmptyGroup,
          zIndex: _0x465608.zIndex,
          attr: _0x465608.options
        };
        let _0x30bd87 = _0x33397d;
        for (const _0x25f5ee in _0x30bd87) {
          const _0x1dd459 = _0x30bd87[_0x25f5ee];
          if (!Cesium__namespace.defined(_0x1dd459)) {
            delete _0x30bd87[_0x25f5ee];
          }
        }
        if (_0x30bd87.group) {
          _0x77cd30 = false;
        }
        if (_0x1615d6.forEach) {
          _0x30bd87 = _0x1615d6.forEach(_0x30bd87, _0x465608) ?? _0x30bd87;
        }
        if (_0x29e923[_0x30bd87.id]) {
          logWarn("存在id重复的图层配置，请排查!", _0x29e923[_0x30bd87.id], _0x30bd87);
        }
        _0x29e923[_0x30bd87.id] = _0x30bd87;
        delete _0x29e923[_0x30bd87.id].children;
        _0x50a2d5.push(_0x30bd87);
      }
      let _0x4334f7 = false;
      if (_0x77cd30 && _0x1615d6.autoGroup) {
        const _0x5b1214 = {};
        for (let _0x459bda = _0x50a2d5.length - 1; _0x459bda >= 0; _0x459bda--) {
          const _0x16cc2c = _0x50a2d5[_0x459bda];
          let _0x221543;
          if (isString(_0x1615d6.autoGroup)) {
            _0x221543 = _0x16cc2c[_0x1615d6.autoGroup] || _0x16cc2c.attr[_0x1615d6.autoGroup];
          } else {
            _0x221543 = _0x1615d6.autoGroup(_0x16cc2c, _0x29e923[_0x16cc2c.id]);
          }
          if (!_0x5b1214[_0x221543]) {
            let _0x5ebe6a = {
              id: createGuid(),
              type: "group",
              name: _0x221543,
              show: false,
              group: true
            };
            if (_0x1615d6.forEach) {
              _0x5ebe6a = _0x1615d6.forEach(_0x5ebe6a) ?? _0x5ebe6a;
            }
            _0x50a2d5.push(_0x5ebe6a);
            _0x5b1214[_0x221543] = _0x5ebe6a.id;
            _0x29e923[_0x5ebe6a.id] = _0x5ebe6a;
            _0x4334f7 = true;
          }
          _0x16cc2c.pid = _0x5b1214[_0x221543];
        }
      }
      function _0x277239(_0x330765, _0x2c5364) {
        if (Cesium__namespace.defined(_0x2c5364.zIndex)) {
          let _0x424ce7 = false;
          for (let _0x322b51 = 0; _0x322b51 < _0x330765.length; _0x322b51++) {
            if (_0x2c5364.zIndex > _0x330765[_0x322b51].zIndex) {
              _0x330765.splice(_0x322b51, 0, _0x2c5364);
              _0x424ce7 = true;
              break;
            }
          }
          if (!_0x424ce7) {
            _0x330765.push(_0x2c5364);
          }
        } else {
          _0x330765.push(_0x2c5364);
        }
      }
      const _0x34a9a2 = [];
      _0x50a2d5.forEach(function (_0x3092b7) {
        const _0x4662ba = _0x3092b7.pid && _0x29e923[_0x3092b7.pid];
        if (_0x4662ba) {
          if (!_0x4662ba.children) {
            _0x4662ba.children = [];
          }
          _0x277239(_0x4662ba.children, _0x3092b7);
        } else {
          delete _0x3092b7.pid;
          _0x277239(_0x34a9a2, _0x3092b7);
        }
      });
      const _0x10084b = {
        list: _0x50a2d5,
        tree: _0x34a9a2,
        isAutoGroup: _0x4334f7
      };
      return _0x10084b;
    }
    getBasemaps(_0x5667ce) {
      if (_0x5667ce) {
        const _0x27d99d = [];
        this._optionsBasemapsList.forEach(_0x592db7 => {
          if (_0x592db7.hasEmptyGroup) {
            return;
          }
          _0x27d99d.push(_0x592db7);
        });
        return _0x27d99d;
      } else {
        return this._optionsBasemapsList.values;
      }
    }
    getTileLayers() {
      let _0x5aa285 = [];
      _0x5aa285 = _0x5aa285.concat(this.getBasemaps(true));
      this._optionsLayersList.forEach(_0x4359ae => {
        if (_0x4359ae.isTile && !_0x4359ae.isPrivate) {
          _0x5aa285.push(_0x4359ae);
        }
      });
      this._layerList.forEach(_0x3b7a6c => {
        if (!_0x3b7a6c.isTile || _0x3b7a6c.isPrivate) {
          return;
        }
        if (this._optionsBasemapsList.contains(_0x3b7a6c.id)) {
          return;
        }
        if (this._optionsLayersList.contains(_0x3b7a6c.id)) {
          return;
        }
        _0x5aa285.push(_0x3b7a6c);
      });
      return _0x5aa285;
    }
    _initControls() {
      const _0x3b9dd5 = this.options?.control || {};
      setTimeout(() => {
        add(this._viewer?.scene, this.options?.licenseUrl);
      }, 3000);
      this._toolbar = new Toolbar(_0x3b9dd5.toolbar);
      this.addControl(this._toolbar);
      this._popupMgr = new PopupMgr(_0x3b9dd5.popup);
      this._popupMgr.isPrivate = true;
      this.addControl(this._popupMgr);
      this._tooltipMgr = new TooltipMgr(_0x3b9dd5.tooltip);
      this._tooltipMgr.isPrivate = true;
      this.addControl(this._tooltipMgr);
      this._contextmenuMgr = new ContextMenu(_0x3b9dd5.contextmenu);
      this._contextmenuMgr.isPrivate = true;
      this.addControl(this._contextmenuMgr);
      if (_0x3b9dd5.contextmenu?.hasDefault ?? true) {
        this.bindContextMenu(this.getDefaultContextMenu());
      }
      this._smallTooltip = new SmallTooltip(_0x3b9dd5.smallTooltip);
      this._smallTooltip.isPrivate = true;
      this.addControl(this._smallTooltip);
      for (const _0x400e20 in _0x3b9dd5) {
        const _0x5c6397 = _0x3b9dd5[_0x400e20];
        if (!_0x5c6397 || _0x5c6397.enabled === false || this._control[_0x400e20]) {
          continue;
        }
        const _0x287678 = create$2(_0x400e20, _0x5c6397);
        if (_0x287678) {
          this.addControl(_0x287678);
        }
      }
      const _0x3f40b4 = {
        "Error constructing CesiumWidget.": this.getLangText("ErrorCreateCatch"),
        "Visit <a href=\"http://get.webgl.org\">http://get.webgl.org</a> to verify that your web browser and hardware support WebGL.  Consider trying a different web browser or updating your video drivers.  Detailed error information is below:": this.getLangText("ErrorCreateCatchMessage"),
        "An error occurred while rendering.  Rendering has stopped.": this.getLangText("ErrorTitleRenderStopped")
      };
      const _0x30b0a3 = Cesium__namespace.CesiumWidget.prototype.showErrorPanel;
      Cesium__namespace.CesiumWidget.prototype.showErrorPanel = function (_0x39fe73, _0x2e91f3, _0x35250b) {
        _0x39fe73 = _0x3f40b4[_0x39fe73] || _0x39fe73;
        if (_0x3b9dd5.showRenderLoopErrors ?? true) {
          return _0x30b0a3.bind(this)(_0x39fe73, _0x2e91f3, _0x35250b);
        }
        logError(_0x39fe73, _0x2e91f3, _0x35250b);
      };
      logInfo("当前已开调试日志，如需关闭，请构造mars3d.Map前执行 mars3d.Log.hasInfo(false) 关闭");
    }
    addControl(_0x17f949, _0xf80fa4) {
      if (!_0x17f949 || !_0x17f949._onAdd) {
        return this;
      }
      if (_0x17f949.type && this._control[_0x17f949.type]) {
        if (!this._control[_0x17f949.type].isPrivate) {
          logWarn("地图上已有" + _0x17f949.type + "控件,请直接使用 map.control." + _0x17f949.type + " 对象 ", this);
        }
      }
      if (Cesium__namespace.defined(_0xf80fa4)) {
        _0x17f949.enabled = _0xf80fa4;
      }
      _0x17f949._onAdd(this);
      this._controlList.set(_0x17f949.id, _0x17f949);
      this._control[_0x17f949.type] = _0x17f949;
      const _0x4d5d78 = {
        control: _0x17f949
      };
      this.fire(EventType.addControl, _0x4d5d78);
      return this;
    }
    removeControl(_0x4e087a, _0x2edf4b = false) {
      if (!_0x4e087a) {
        return this;
      }
      this._controlList.remove(_0x4e087a.id);
      delete this._control[_0x4e087a.type];
      _0x4e087a._onRemove();
      const _0x436a1b = {
        control: _0x4e087a
      };
      this.fire(EventType.removeControl, _0x436a1b);
      if (_0x2edf4b) {
        _0x4e087a.destroy();
      }
      return this;
    }
    hasControl(_0x197667) {
      return this._controlList.contains(_0x197667?.id || _0x197667);
    }
    eachControl(_0xe05299, _0x94dfd, _0x4e8427) {
      this._controlList.forEach(_0xe05299, _0x94dfd || this, _0x4e8427);
      return this;
    }
    getControl(_0x71613, _0x1a2908 = "type") {
      return this._controlList.getByAttr(_0x71613, _0x1a2908);
    }
    _initEffect() {
      const _0x2471c6 = this.options?.effect;
      if (_0x2471c6) {
        for (const _0xf6db94 in _0x2471c6) {
          const _0x2b2f8b = _0x2471c6[_0xf6db94];
          if (!_0x2b2f8b || _0x2b2f8b.enabled === false) {
            continue;
          }
          const _0x5973dc = create$1(_0xf6db94, _0x2b2f8b);
          if (_0x5973dc) {
            this.addEffect(_0x5973dc);
          }
        }
      }
    }
    addEffect(_0xae6031) {
      if (!_0xae6031 || !_0xae6031._onAdd) {
        return this;
      }
      if (_0xae6031.type && this._effect[_0xae6031.type]) {
        logError("地图上已有" + _0xae6031.type + "特效,请直接使用 map.effect." + _0xae6031.type + " 对象 ", this);
        return;
      }
      this.addThing(_0xae6031);
      this._effect[_0xae6031.type] = _0xae6031;
      const _0x491bff = {
        effect: _0xae6031
      };
      this.fire(EventType.addEffect, _0x491bff);
    }
    removeEffect(_0x3097b2, _0x3eb459) {
      delete this._effect[_0x3097b2.type];
      const _0x4f387e = {
        effect: _0x3097b2
      };
      this.fire(EventType.removeEffect, _0x4f387e);
      this.removeThing(_0x3097b2, _0x3eb459);
    }
    getEffect(_0x4deb8c, _0x4eba10 = "type") {
      return this.getThing(_0x4deb8c, _0x4eba10);
    }
    eachEffect(_0x2d77ca, _0x2b09fc) {
      for (let _0x3d5a33 = this._thingList._array.length - 1; _0x3d5a33 >= 0; _0x3d5a33--) {
        const _0x49f24e = this._thingList._array[_0x3d5a33];
        if (_0x49f24e.isEffect) {
          _0x2d77ca.call(_0x2b09fc || this, _0x49f24e, _0x3d5a33);
        }
      }
      return this;
    }
    _initThing() {
      const _0x3a2943 = this.options?.thing;
      if (_0x3a2943) {
        for (const _0x494275 in _0x3a2943) {
          const _0x2eb953 = _0x3a2943[_0x494275];
          if (!_0x2eb953 || _0x2eb953.enabled === false) {
            continue;
          }
          const _0x45e57d = create(_0x494275, _0x2eb953);
          if (_0x45e57d) {
            this.addThing(_0x45e57d);
          }
        }
      }
    }
    addThing(_0x419e39) {
      if (!_0x419e39 || !_0x419e39._onAdd) {
        return this;
      }
      if (_0x419e39.type && this._thing[_0x419e39.type] && _0x419e39._isOnlyInMap) {
        logWarn("地图上已有" + _0x419e39.type + "对象,请确认是否无误, 可以直接用 map.thing." + _0x419e39.type + " 对象 ", this);
      }
      _0x419e39._onAdd(this);
      this._thingList.set(_0x419e39.id, _0x419e39);
      if (_0x419e39.type && !_0x419e39.isEffect) {
        this._thing[_0x419e39.type] = _0x419e39;
      }
      return this;
    }
    removeThing(_0x1743db, _0x1d5d70 = false) {
      if (!_0x1743db) {
        return this;
      }
      if (_0x1743db.type) {
        delete this._thing[_0x1743db.type];
      }
      this._thingList.remove(_0x1743db.id);
      if (_0x1d5d70 && _0x1743db.clear) {
        _0x1743db.clear();
      }
      _0x1743db._onRemove();
      if (_0x1d5d70) {
        _0x1743db.destroy();
      }
      return this;
    }
    hasThing(_0x10355b) {
      return this._thingList.contains(_0x10355b?.id || _0x10355b);
    }
    eachThing(_0xb00f7b, _0xa369a1, _0x194697) {
      this._thingList.forEach(_0xb00f7b, _0xa369a1 || this, _0x194697);
      return this;
    }
    getThing(_0x5c66ea, _0x5c3934) {
      return this._thingList.getByAttr(_0x5c66ea, _0x5c3934);
    }
    _initMethod(_0x5c0d88 = {}) {
      for (const _0x397807 in _0x5c0d88) {
        const _0x1209db = _0x5c0d88[_0x397807];
        switch (_0x397807) {
          case "basemap":
          case "hasTerrain":
          case "chinaCRS":
          case "lang":
          case "templateValues":
          case "fixedLight":
          case "zoomFactor":
          case "availabilityEnabled":
          case "onlyPickModelPosition":
          case "onlyPickTerrainPosition":
          case "onlyVertexPosition":
            {
              this[_0x397807] = _0x1209db;
              break;
            }
          case "cursor":
          case "setCursor":
            {
              this.setCursor(_0x1209db);
              break;
            }
          case "changeMouseModel":
            {
              this.changeMouseModel(_0x1209db);
              break;
            }
          case "setPitchRange":
            {
              if (!_0x1209db || _0x1209db.enabled === false) {
                this.clearPitchRange();
              } else {
                this.setPitchRange(_0x1209db.max, _0x1209db.min);
              }
              break;
            }
          case "setCameraViewList":
            {
              if (!_0x1209db || _0x1209db.enabled === false) {
                this.pauseCameraViewList();
              } else {
                this.setCameraViewList(_0x1209db.list, _0x1209db);
              }
              break;
            }
          case "openFlyAnimation":
            {
              if (!_0x1209db || _0x1209db.enabled === false) {
                this.cancelFlyTo();
              } else {
                this.openFlyAnimation(_0x1209db);
              }
              break;
            }
          case "rotateAnimation":
            {
              if (!_0x1209db || _0x1209db.enabled === false) {
                this.cancelFlyTo();
              } else {
                this.rotateAnimation(_0x1209db);
              }
              break;
            }
          case "token":
            {
              updateAll(_0x1209db);
              break;
            }
          default:
            {
              logWarn("未处理" + _0x397807 + "参数", _0x1209db);
              break;
            }
        }
      }
    }
    getLangText(_0x465779) {
      return this.lang[_0x465779] || _0x465779;
    }
    setLangText(_0xc2018d, _0x8a86ae) {
      if (_0xc2018d) {
        if (isString(_0xc2018d)) {
          this.lang[_0xc2018d] = _0x8a86ae;
        } else if (isObject(_0xc2018d)) {
          for (const _0x58b22b in _0xc2018d) {
            this.lang[_0x58b22b] = _0xc2018d[_0x58b22b];
          }
        }
      }
      this.eachControl(_0x10807d => {
        _0x10807d.reload();
      });
      this.eachLayer(_0x45c561 => {
        const _0x10d7ce = _0x45c561._graphic_editing;
        if (_0x10d7ce) {
          _0x10d7ce.stopEditing();
          _0x10d7ce.startEditing();
          _0x45c561.eachGraphic(_0x5ce1a3 => {
            if (_0x5ce1a3.updateText) {
              _0x5ce1a3.updateText();
            }
          });
        }
      });
    }
    zoomIn(_0x5c837f, _0x3bbe42) {
      const _0x375000 = this._zoomNavigation.zoomIn(_0x5c837f, _0x3bbe42);
      if (_0x375000) {
        const _0xa6b7f3 = {
          ztype: "zoomIn",
          relativeAmount: _0x5c837f,
          mandatory: _0x3bbe42
        };
        this.fire(EventType.zoom, _0xa6b7f3);
      }
      return _0x375000;
    }
    zoomOut(_0x103b62, _0x59fd5c) {
      const _0x23ed12 = this._zoomNavigation.zoomOut(_0x103b62, _0x59fd5c);
      if (_0x23ed12) {
        const _0x5d720c = {
          ztype: "zoomOut",
          relativeAmount: _0x103b62,
          mandatory: _0x59fd5c
        };
        this.fire(EventType.zoom, _0x5d720c);
      }
      return _0x23ed12;
    }
    changeMouseModel(_0x258e13) {
      if (_0x258e13) {
        this._viewer.scene.screenSpaceCameraController.tiltEventTypes = [Cesium__namespace.CameraEventType.RIGHT_DRAG, Cesium__namespace.CameraEventType.PINCH, {
          eventType: Cesium__namespace.CameraEventType.LEFT_DRAG,
          modifier: Cesium__namespace.KeyboardEventModifier.CTRL
        }, {
          eventType: Cesium__namespace.CameraEventType.RIGHT_DRAG,
          modifier: Cesium__namespace.KeyboardEventModifier.CTRL
        }];
        this._viewer.scene.screenSpaceCameraController.zoomEventTypes = [Cesium__namespace.CameraEventType.MIDDLE_DRAG, Cesium__namespace.CameraEventType.WHEEL, Cesium__namespace.CameraEventType.PINCH];
      } else {
        this._viewer.scene.screenSpaceCameraController.tiltEventTypes = [Cesium__namespace.CameraEventType.MIDDLE_DRAG, Cesium__namespace.CameraEventType.PINCH, {
          eventType: Cesium__namespace.CameraEventType.LEFT_DRAG,
          modifier: Cesium__namespace.KeyboardEventModifier.CTRL
        }, {
          eventType: Cesium__namespace.CameraEventType.RIGHT_DRAG,
          modifier: Cesium__namespace.KeyboardEventModifier.CTRL
        }];
        this._viewer.scene.screenSpaceCameraController.zoomEventTypes = [Cesium__namespace.CameraEventType.RIGHT_DRAG, Cesium__namespace.CameraEventType.WHEEL, Cesium__namespace.CameraEventType.PINCH];
      }
      if (this.control.mouseDownView) {
        this.control.mouseDownView.reload();
      }
    }
    clearPitchRange() {
      delete this._pitch_max;
      delete this._pitch_min;
      delete this._pitch_minHeight;
      this._viewer.scene.screenSpaceCameraController.inertiaSpin = 0.9;
      this._viewer.scene.screenSpaceCameraController.inertiaTranslate = 0.9;
      this.off(EventType.mouseDown, this._setPitchRange_rightDownHandler, this);
      this.off(EventType.mouseUp, this._setPitchRange_rightUpHandler, this);
      this.off(EventType.mouseMove, this._setPitchRange_mouseMoveHandler, this);
      this.off(EventType.cameraMoveStart, this._setPitchRange_cameraChangedHandler, this);
    }
    setPitchRange(_0x5bd6e4, _0x240cc0 = -90) {
      this.clearPitchRange();
      this._viewer.scene.screenSpaceCameraController.inertiaSpin = 0;
      this._viewer.scene.screenSpaceCameraController.inertiaTranslate = 0;
      this._pitch_max = Cesium__namespace.Math.toRadians(_0x5bd6e4);
      this._pitch_min = Cesium__namespace.Math.toRadians(_0x240cc0);
      this.on(EventType.mouseDown, this._setPitchRange_rightDownHandler, this);
      this.on(EventType.mouseUp, this._setPitchRange_rightUpHandler, this);
    }
    _setPitchRange_rightDownHandler(_0x295ff3) {
      if (this._viewer.scene.mode !== Cesium__namespace.SceneMode.SCENE3D) {
        return;
      }
      if (this._viewer.camera.positionCartographic.height > this._viewer.scene.screenSpaceCameraController.minimumCollisionTerrainHeight) {
        return;
      }
      this._pitch_minHeight = this._viewer.camera.positionCartographic.height;
      this.on(EventType.mouseMove, this._setPitchRange_mouseMoveHandler, this);
      this.on(EventType.cameraChanged, this._setPitchRange_cameraChangedHandler, this);
    }
    _setPitchRange_rightUpHandler(_0x418d47) {
      this._viewer.scene.screenSpaceCameraController.enableTilt = true;
      this.off(EventType.mouseMove, this._setPitchRange_mouseMoveHandler, this);
      this.off(EventType.cameraChanged, this._setPitchRange_cameraChangedHandler, this);
    }
    _setPitchRange_mouseMoveHandler(_0xe46fdb) {
      let _0x342806 = true;
      const _0x374163 = _0xe46fdb.endPosition.y < _0xe46fdb.startPosition.y;
      if (_0x374163 && this._viewer.camera.pitch > this._pitch_max) {
        _0x342806 = false;
      } else if (!_0x374163 && this._viewer.camera.pitch < this._pitch_min) {
        _0x342806 = false;
      } else {
        _0x342806 = true;
      }
      this._viewer.scene.screenSpaceCameraController.enableTilt = _0x342806;
    }
    _setPitchRange_cameraChangedHandler(_0x70d66b) {
      if (this._viewer.scene.mode !== Cesium__namespace.SceneMode.SCENE3D) {
        return;
      }
      if (this._viewer.camera.positionCartographic.height > this._viewer.scene.screenSpaceCameraController.minimumCollisionTerrainHeight) {
        return;
      }
      let _0x55a167 = this._viewer.camera.pitch;
      if (_0x55a167 > this._pitch_max || _0x55a167 < this._pitch_min) {
        this._viewer.scene.screenSpaceCameraController.enableTilt = false;
        if (_0x55a167 > this._pitch_max) {
          _0x55a167 = this._pitch_max;
        } else if (_0x55a167 < this._pitch_min) {
          _0x55a167 = this._pitch_min;
        }
        const _0x4b7b55 = this._viewer.camera.positionCartographic;
        const _0x22ae4b = Cesium__namespace.Cartesian3.fromRadians(_0x4b7b55.longitude, _0x4b7b55.latitude, Math.max(_0x4b7b55.height, this._pitch_minHeight));
        this._viewer.camera.cancelFlight();
        const _0x4ed42b = {
          pitch: _0x55a167
        };
        const _0x2acf52 = {
          destination: _0x22ae4b,
          orientation: _0x4ed42b
        };
        this._viewer.camera.setView(_0x2acf52);
        this._viewer.scene.screenSpaceCameraController.enableTilt = true;
      }
    }
    setPitch(_0x22db54, _0x3dcdc9 = {}) {
      const _0x4bc8f1 = this.getCenter();
      if (!_0x4bc8f1) {
        this.camera.setView({
          orientation: {
            pitch: Cesium__namespace.Math.toDegrees(_0x22db54)
          }
        });
        return Promise.resolve(false);
      }
      const _0x3c1790 = Cesium__namespace.Cartesian3.distance(_0x4bc8f1.toCartesian(), this._viewer.camera.positionWC);
      const _0x484fd0 = {
        ..._0x3dcdc9
      };
      _0x484fd0.radius = _0x3c1790;
      _0x484fd0.pitch = _0x22db54;
      return this.flyToPoint(_0x4bc8f1, _0x484fd0);
    }
    setHeading(_0x11c38e, _0x30d6c6 = {}) {
      const _0x25f846 = this.getCenter();
      if (!_0x25f846) {
        this.camera.setView({
          orientation: {
            heading: Cesium__namespace.Math.toDegrees(_0x11c38e)
          }
        });
        return Promise.resolve(false);
      }
      const _0x48f679 = Cesium__namespace.Cartesian3.distance(_0x25f846.toCartesian(), this._viewer.camera.positionWC);
      const _0x1f49f7 = {
        ..._0x30d6c6
      };
      _0x1f49f7.radius = _0x48f679;
      _0x1f49f7.heading = _0x11c38e;
      return this.flyToPoint(_0x25f846, _0x1f49f7);
    }
    cancelFlyTo() {
      Route.clearLastCamera();
      this._setCameraViewListState = false;
      this._viewer.camera.cancelFlight();
      return this;
    }
    cancelFlight() {
      return this.cancelFlyTo();
    }
    getCameraView(_0x332176) {
      return getCameraView(this.camera, _0x332176);
    }
    setCameraView(_0x8cbd9d, _0x4a2299 = {}) {
      return new Promise((_0x5ce4af, _0xeb703c) => {
        if (!_0x8cbd9d || _0x8cbd9d.lng === 0 && _0x8cbd9d.lat === 0 && _0x8cbd9d.alt === 0) {
          _0x5ce4af(false);
          return;
        }
        if (isNumber(_0x4a2299)) {
          _0x4a2299 = {
            duration: _0x4a2299
          };
        }
        let _0x406ed1 = _0x4a2299.minHeight ?? 2500;
        if (this._viewer.camera.positionCartographic.height < _0x406ed1) {
          _0x406ed1 = this._viewer.camera.positionCartographic.height;
        }
        if (Cesium__namespace.defined(_0x8cbd9d.alt)) {
          _0x406ed1 = _0x8cbd9d.alt;
        }
        let _0x5d5811;
        if (Cesium__namespace.defined(_0x8cbd9d.lng) && Cesium__namespace.defined(_0x8cbd9d.lat)) {
          _0x5d5811 = Cesium__namespace.Cartesian3.fromDegrees(_0x8cbd9d.lng, _0x8cbd9d.lat, _0x406ed1);
        } else if (Cesium__namespace.defined(_0x8cbd9d.x) && Cesium__namespace.defined(_0x8cbd9d.y)) {
          if (Cesium__namespace.defined(_0x8cbd9d.z)) {
            _0x406ed1 = _0x8cbd9d.z;
          }
          _0x5d5811 = Cesium__namespace.Cartesian3.fromDegrees(_0x8cbd9d.x, _0x8cbd9d.y, _0x406ed1);
        } else {
          _0x5d5811 = this._viewer.camera.position;
        }
        const _0x4ec19b = {
          ..._0x4a2299,
          destination: _0x5d5811,
          orientation: {
            heading: Cesium__namespace.Math.toRadians(_0x8cbd9d.heading ?? 0),
            pitch: Cesium__namespace.Math.toRadians(_0x8cbd9d.pitch ?? -90),
            roll: Cesium__namespace.Math.toRadians(_0x8cbd9d.roll ?? 0)
          },
          complete: () => {
            if (_0x4a2299.complete) {
              _0x4a2299.complete();
            }
            _0x5ce4af(true);
          },
          cancel: () => {
            if (_0x4a2299.cancel) {
              _0x4a2299.cancel();
            }
            _0x5ce4af(false);
          }
        };
        if (_0x4a2299.duration === 0) {
          this._viewer.camera.setView(_0x4ec19b);
          if (_0x4a2299.complete) {
            _0x4a2299.complete();
          }
          _0x5ce4af(true);
        } else {
          this._viewer.camera.flyTo(_0x4ec19b);
        }
      });
    }
    centerAt(_0x20d258, _0x1f567e) {
      return this.setCameraView(_0x20d258, _0x1f567e);
    }
    flyHome(_0x55e88f) {
      var _0x3cdcfa;
      var _0x42622b;
      if ((_0x3cdcfa = this.options) !== null && _0x3cdcfa !== undefined && (_0x3cdcfa = _0x3cdcfa.scene) !== null && _0x3cdcfa !== undefined && _0x3cdcfa.center) {
        this.setCameraView(this.options.scene.center, _0x55e88f);
      } else if ((_0x42622b = this.options) !== null && _0x42622b !== undefined && (_0x42622b = _0x42622b.scene) !== null && _0x42622b !== undefined && _0x42622b.extent) {
        this.flyToExtent(this.options.scene.extent, _0x55e88f);
      } else {
        ;
      }
    }
    setCameraViewList(_0x3bedbe, _0x2682ae = {}) {
      this.cancelFlyTo();
      this._setCameraViewListArr = _0x3bedbe;
      this._setCameraViewListOptions = _0x2682ae;
      this._setCameraViewListState = true;
      this._setCameraViewListItem(0, _0x2682ae);
    }
    pauseCameraViewList() {
      this.cancelFlyTo();
    }
    proceedCameraViewList() {
      this._setCameraViewListState = true;
      this._setCameraViewListItem(this._setCameraViewListIndex, this._setCameraViewListOptions);
    }
    _setCameraViewListItem(_0x401633, _0x4082bf) {
      const _0x24ffec = this;
      if (!this._setCameraViewListState || _0x401633 < 0 || _0x401633 >= this._setCameraViewListArr.length) {
        this._setCameraViewListState = false;
        if (_0x4082bf !== null && _0x4082bf !== undefined && _0x4082bf.complete) {
          _0x4082bf.complete();
        }
        return;
      }
      this._setCameraViewListIndex = _0x401633;
      const _0x15182c = this._setCameraViewListArr[_0x401633];
      if (!_0x15182c) {
        return;
      }
      if (_0x15182c.onStart) {
        _0x15182c.onStart();
      }
      const _0x4a0ca0 = this.clock.currentTime.clone();
      const _0xb23d11 = _0x15182c.duration_proceed ?? _0x15182c.duration;
      let _0x48f96e;
      this.setCameraView(_0x15182c, {
        easingFunction: Cesium__namespace.EasingFunction.LINEAR_NONE,
        ..._0x4082bf,
        duration: _0xb23d11,
        complete: () => {
          delete this._setCameraViewListIndex;
          delete _0x15182c.duration_proceed;
          if (_0x15182c.onEnd) {
            _0x15182c.onEnd();
          }
          const _0x43061e = _0x15182c.stop ?? 1;
          _0x48f96e = setTimeout(() => {
            _0x24ffec._setCameraViewListItem(++_0x401633, _0x4082bf);
          }, _0x43061e * 1000);
        },
        cancel: () => {
          this._setCameraViewListState = false;
          clearTimeout(_0x48f96e);
          if (_0x4a0ca0) {
            _0x15182c.duration_proceed = _0x15182c.duration_proceed ?? _0x15182c.duration;
            _0x15182c.duration_proceed -= Cesium__namespace.JulianDate.secondsDifference(this.clock.currentTime, _0x4a0ca0);
          }
          if (_0x4082bf !== null && _0x4082bf !== undefined && _0x4082bf.cancel) {
            _0x4082bf.cancel();
          }
        }
      });
    }
    flyTo(_0x5c878a, _0x4e3204) {
      if (!_0x5c878a) {
        return;
      }
      return this._viewer.flyTo(_0x5c878a, _0x4e3204);
    }
    flyToGraphic(_0x5e23cc, _0x41ce9d = {}) {
      if (!_0x5e23cc || _0x5e23cc.length === 0) {
        return Promise.resolve(false);
      }
      if (_0x5e23cc.flyTo) {
        _0x41ce9d.clampToGround = _0x5e23cc.style?.clampToGround;
        return _0x5e23cc.flyTo(_0x41ce9d);
      }
      if (!Array.isArray(_0x5e23cc)) {
        return Promise.resolve(false);
      }
      if (_0x5e23cc.length === 1) {
        return _0x5e23cc[0].flyTo(_0x41ce9d);
      }
      let _0xa898f8;
      for (let _0x4e72c7 = 0, _0x542513 = _0x5e23cc.length; _0x4e72c7 < _0x542513; _0x4e72c7++) {
        const _0x4dd631 = _0x5e23cc[_0x4e72c7];
        if (!_0x4dd631.getRectangle) {
          continue;
        }
        const _0x4bed68 = _0x4dd631.getRectangle();
        if (!Cesium__namespace.defined(_0x4bed68)) {
          continue;
        }
        if (_0xa898f8) {
          _0xa898f8 = Cesium__namespace.Rectangle.union(_0x4bed68, _0xa898f8);
        } else {
          _0xa898f8 = _0x4bed68;
        }
      }
      return this.flyToExtent(_0xa898f8, _0x41ce9d);
    }
    flyToPositions(_0xa7b75f, _0x7e71bd = {}) {
      if (!_0xa7b75f || _0xa7b75f.length === 0) {
        return Promise.resolve(false);
      }
      if (_0xa7b75f.length === 1) {
        return this.flyToPoint(_0xa7b75f[0], _0x7e71bd);
      }
      const _0x813cc = getRectangle(_0xa7b75f, true);
      if (!_0x813cc) {
        return Promise.resolve(false);
      }
      if (_0x813cc.xmin === _0x813cc.xmax && _0x813cc.ymin === _0x813cc.ymax || _0x813cc.xmax - _0x813cc.xmin > 200) {
        return this.flyToPoint([_0x813cc.xmin, _0x813cc.ymin, _0x813cc.height], _0x7e71bd);
      } else {
        _0x813cc.height = getMaxHeight(_0xa7b75f);
        _0x7e71bd.scale = _0x7e71bd.scale || 1.2;
        return this.flyToExtent(_0x813cc, _0x7e71bd);
      }
    }
    flyToExtent(_0x22a0fd, _0xff8a5d = {}) {
      if (!_0x22a0fd) {
        return;
      }
      if (_0x22a0fd instanceof Cesium__namespace.Rectangle) {
        _0x22a0fd = formatRectangle(_0x22a0fd);
      }
      const _0x4591c8 = _0x22a0fd.xmin;
      const _0x46a675 = _0x22a0fd.xmax;
      const _0x250e4a = _0x22a0fd.ymin;
      const _0x19a0bb = _0x22a0fd.ymax;
      const _0x220845 = (_0x4591c8 + _0x46a675) / 2;
      const _0x2ced9d = (_0x250e4a + _0x19a0bb) / 2;
      if (_0x220845 <= 1 && _0x2ced9d <= 1) {
        return Promise.resolve(false);
      }
      let _0xdbcf6 = _0x22a0fd.height ?? _0xff8a5d.height ?? 0;
      if (_0xdbcf6 === 0) {
        _0xdbcf6 = getHeight(this.scene, Cesium__namespace.Cartesian3.fromDegrees(_0x220845, _0x2ced9d), {
          min: 0
        }) ?? _0xdbcf6;
      }
      const _0x59efe1 = Cesium__namespace.Rectangle.fromDegrees(_0x4591c8, _0x250e4a, _0x46a675, _0x19a0bb);
      const _0x135289 = Math.max(_0x59efe1.height, _0x59efe1.width) / 2;
      if (_0x135289 > 0) {
        var _0x875dcd;
        _0xff8a5d.boundingRadius = Cesium__namespace.Math.chordLength(_0x135289, (_0x875dcd = this._viewer) === null || _0x875dcd === undefined ? undefined : _0x875dcd.scene.globe.ellipsoid.maximumRadius);
      }
      return this.flyToPoint(new LngLatPoint(_0x220845, _0x2ced9d, _0xdbcf6), _0xff8a5d);
    }
    flyToPoint(_0x1af959, _0x30656d = {}) {
      return new Promise((_0x100a1d, _0x325d4d) => {
        if (!_0x1af959) {
          _0x100a1d(false);
          return;
        }
        _0x1af959 = LngLatPoint.parse(_0x1af959);
        let _0x5e3fab = _0x1af959.toCartesian();
        if (_0x30656d.clampToGround) {
          if (this.hasTerrain) {
            getSurfaceHeight(this._viewer.scene, _0x5e3fab, {
              has3dtiles: true
            }).then(_0x4aee76 => {
              _0x1af959.alt = _0x4aee76.height;
              if (this._viewer.scene.verticalExaggeration) {
                _0x1af959.alt *= this._viewer.scene.verticalExaggeration;
              }
              delete _0x30656d.clampToGround;
              this.flyToPoint(_0x1af959, _0x30656d).then(_0x4c242c => {
                _0x100a1d(_0x4c242c);
              });
            });
            return;
          } else {
            _0x1af959.alt = 0;
            _0x5e3fab = _0x1af959.toCartesian();
          }
        }
        let _0x20902d = _0x30656d.radius || this.getCameraDistance() || 100;
        let _0x2b84a7 = _0x30656d.boundingRadius || 0;
        if (Cesium__namespace.defined(_0x30656d.scale) && _0x30656d.scale > 0) {
          _0x20902d *= _0x30656d.scale;
          _0x2b84a7 *= _0x30656d.scale;
        }
        if (this.cesiumWidget.trackedEntity) {
          _0x2b84a7 = 0;
        }
        if (Cesium__namespace.defined(_0x30656d.minHeight) && _0x20902d < _0x30656d.minHeight) {
          _0x20902d = _0x30656d.minHeight;
        }
        if (Cesium__namespace.defined(_0x30656d.maxHeight) && _0x20902d > _0x30656d.maxHeight) {
          _0x20902d = _0x30656d.maxHeight;
        }
        _0x20902d = Math.max(_0x20902d, this.scene.screenSpaceCameraController.minimumZoomDistance);
        _0x20902d = Math.min(_0x20902d, this.scene.screenSpaceCameraController.maximumZoomDistance);
        let _0x43ed3e;
        if (Cesium__namespace.defined(_0x30656d.pitch)) {
          _0x43ed3e = Cesium__namespace.Math.toRadians(_0x30656d.pitch);
        } else {
          _0x43ed3e = this._viewer.camera.pitch;
          const _0x310523 = Cesium__namespace.Math.toDegrees(_0x43ed3e);
          if (Cesium__namespace.defined(_0x30656d.minPitch) && _0x310523 < _0x30656d.minPitch) {
            _0x43ed3e = Cesium__namespace.Math.toRadians(_0x30656d.minPitch);
          }
          if (Cesium__namespace.defined(_0x30656d.maxPitch) && _0x310523 > _0x30656d.maxPitch) {
            _0x43ed3e = Cesium__namespace.Math.toRadians(_0x30656d.maxPitch);
          }
        }
        const _0x4fc8c6 = Cesium__namespace.defined(_0x30656d.heading) ? Cesium__namespace.Math.toRadians(_0x30656d.heading) : this._viewer.camera.heading;
        const _0x43b3dd = new Cesium__namespace.HeadingPitchRange(_0x4fc8c6, _0x43ed3e, _0x2b84a7 ? 0 : _0x20902d);
        const _0x2d854f = new Cesium__namespace.BoundingSphere(_0x5e3fab, _0x2b84a7);
        if (this.cesiumWidget.trackedEntity) {
          this._viewer.camera.lookAt(_0x5e3fab, _0x43b3dd);
          if (_0x30656d.complete) {
            _0x30656d.complete();
          }
          _0x100a1d(true);
        } else {
          this._viewer.camera.flyToBoundingSphere(_0x2d854f, {
            ..._0x30656d,
            offset: _0x43b3dd,
            complete: () => {
              if (_0x30656d.complete) {
                _0x30656d.complete();
              }
              _0x100a1d(true);
            },
            cancel: () => {
              if (_0x30656d.cancel) {
                _0x30656d.cancel();
              }
              _0x100a1d(false);
            }
          });
        }
      });
    }
    get flyAnimationPromise() {
      return this._flyAnimationPromise ?? Promise.resolve(false);
    }
    openFlyAnimation(_0x1a8f16 = {}) {
      const _0x34e248 = this._viewer;
      const _0x2db7f0 = _0x1a8f16.center || this.getCameraView();
      this._flyAnimationPromise = new Promise((_0x56dce2, _0x379c49) => {
        _0x34e248.camera.setView({
          destination: Cesium__namespace.Cartesian3.fromDegrees(-85.16, 13.71, 23000000)
        });
        _0x34e248.camera.flyTo({
          destination: Cesium__namespace.Cartesian3.fromDegrees(_0x2db7f0.lng, _0x2db7f0.lat, 23000000),
          duration: _0x1a8f16.duration1 || 2,
          easingFunction: _0x1a8f16.easingFunction1 || Cesium__namespace.EasingFunction.LINEAR_NONE,
          complete: () => {
            let _0x3ad9f8 = _0x2db7f0.alt ?? 90000;
            if (_0x3ad9f8 < 200000 && _0x2db7f0.pitch !== -90) {
              _0x3ad9f8 = _0x3ad9f8 * 1.2 + 8000;
              _0x34e248.camera.flyTo({
                destination: Cesium__namespace.Cartesian3.fromDegrees(_0x2db7f0.lng, _0x2db7f0.lat, _0x3ad9f8),
                duration: _0x1a8f16.duration2,
                easingFunction: _0x1a8f16.easingFunction2,
                complete: () => {
                  this.setCameraView(_0x2db7f0, {
                    duration: _0x1a8f16.duration3 || 2,
                    easingFunction: _0x1a8f16.easingFunction3,
                    complete: () => {
                      _0x56dce2(true);
                    },
                    cancel: () => {
                      _0x56dce2(false);
                    }
                  });
                },
                cancel: () => {
                  _0x56dce2(false);
                }
              });
            } else {
              this.setCameraView(_0x2db7f0, {
                duration: _0x1a8f16.duration3 || 2,
                easingFunction: _0x1a8f16.easingFunction3,
                complete: () => {
                  _0x56dce2(true);
                },
                cancel: () => {
                  _0x56dce2(false);
                }
              });
            }
          },
          cancel: () => {
            _0x56dce2(false);
          }
        });
      });
      return this._flyAnimationPromise;
    }
    rotateAnimation(_0x233de6 = {}) {
      const _0x247f12 = this._viewer;
      const _0x39db72 = _0x233de6.center || this.getCameraView({
        simplify: false
      });
      const _0x65cdde = (_0x233de6.duration ?? 10) / 3;
      return new Promise((_0xaba290, _0x4bc43d) => {
        _0x247f12.camera.flyTo({
          destination: Cesium__namespace.Cartesian3.fromDegrees(_0x39db72.lng + 120, _0x39db72.lat, _0x39db72.alt),
          orientation: {
            heading: Cesium__namespace.Math.toRadians(_0x39db72.heading),
            pitch: Cesium__namespace.Math.toRadians(_0x39db72.pitch),
            roll: Cesium__namespace.Math.toRadians(_0x39db72.roll || 0)
          },
          duration: _0x65cdde,
          easingFunction: Cesium__namespace.EasingFunction.LINEAR_NONE,
          complete: function () {
            _0x247f12.camera.flyTo({
              destination: Cesium__namespace.Cartesian3.fromDegrees(_0x39db72.lng + 240, _0x39db72.lat, _0x39db72.alt),
              orientation: {
                heading: Cesium__namespace.Math.toRadians(_0x39db72.heading),
                pitch: Cesium__namespace.Math.toRadians(_0x39db72.pitch),
                roll: Cesium__namespace.Math.toRadians(_0x39db72.roll || 0)
              },
              duration: _0x65cdde,
              easingFunction: Cesium__namespace.EasingFunction.LINEAR_NONE,
              complete: function () {
                _0x247f12.camera.flyTo({
                  destination: Cesium__namespace.Cartesian3.fromDegrees(_0x39db72.lng, _0x39db72.lat, _0x39db72.alt),
                  orientation: {
                    heading: Cesium__namespace.Math.toRadians(_0x39db72.heading),
                    pitch: Cesium__namespace.Math.toRadians(_0x39db72.pitch),
                    roll: Cesium__namespace.Math.toRadians(_0x39db72.roll || 0)
                  },
                  duration: _0x65cdde,
                  easingFunction: Cesium__namespace.EasingFunction.LINEAR_NONE,
                  complete: function () {
                    _0xaba290(true);
                  },
                  cancel: () => {
                    _0xaba290(false);
                  }
                });
              },
              cancel: () => {
                _0xaba290(false);
              }
            });
          },
          cancel: () => {
            _0xaba290(false);
          }
        });
      });
    }
    isHighlighting(_0x5942bd) {
      if (!this.last_highlighGraphic || !_0x5942bd) {
        return false;
      }
      return _0x5942bd === this.last_highlighGraphic || _0x5942bd === this.last_highlighGraphic._layer;
    }
    closeHighlight() {
      if (this.last_highlighGraphic && this.last_highlighGraphic.closeHighlight) {
        this.last_highlighGraphic.closeHighlight();
      }
      this._clearLastHighlight();
    }
    _clearLastHighlight() {
      this.last_highlighGraphic &&= null;
      if (this.outlineEffect) {
        this.outlineEffect.selected = [];
      }
    }
    openHighlight(_0x3dcc86, _0x1b457a, _0x150759) {
      if (!this._highlightEnabled || _0x1b457a.enabled === false) {
        return;
      }
      if (!_0x3dcc86.openHighlight) {
        logInfo("该对象暂不支持highlight高亮", _0x3dcc86);
        return;
      }
      this.closeHighlight();
      if (_0x1b457a.outlineEffect) {
        if (!this.outlineEffect) {
          this.outlineEffect = new Outline({
            eventType: false
          });
          this.addEffect(this.outlineEffect);
        }
        this.outlineEffect.setOptions(_0x1b457a);
        this.outlineEffect.selected = this.mouseEvent.getPicked(_0x150759);
      } else {
        _0x3dcc86.openHighlight(_0x1b457a, false, _0x150759?.pickedObject);
      }
      this.last_highlighGraphic = _0x3dcc86;
      this._viewer.scene.requestRender();
    }
    openPopup(_0x2e331c, _0x516fd3, _0x23a016) {
      const _0x5b2d5d = {
        content: _0x516fd3,
        options: _0x23a016
      };
      this._popupMgr.open(_0x2e331c, _0x5b2d5d);
      return this;
    }
    closePopup() {
      if (this._popupMgr) {
        this._popupMgr.closeAll();
      }
      return this;
    }
    openTooltip(_0x359199, _0x369f10, _0x43c24d = {}) {
      this._tooltipMgr.open(_0x359199, {
        content: _0x369f10,
        options: _0x43c24d,
        target: this
      });
      return this;
    }
    closeTooltip() {
      if (this._tooltipMgr) {
        this._tooltipMgr.close();
      }
      return this;
    }
    getContextMenu() {
      return this._contextmenuConfig?.content;
    }
    bindContextMenu(_0x297cc7, _0x33abc7) {
      const _0x1ce1f9 = {
        content: _0x297cc7,
        options: _0x33abc7
      };
      this._contextmenuConfig = _0x1ce1f9;
      return this;
    }
    unbindContextMenu() {
      this._contextmenuConfig = null;
      return this;
    }
    openContextMenu(_0x1bbd64) {
      if (_0x1bbd64 instanceof LngLatPoint) {
        _0x1bbd64 = _0x1bbd64.toCartesian();
      }
      this._contextmenuMgr.open(_0x1bbd64, this._contextmenuConfig);
      return this;
    }
    closeContextMenu() {
      if (this._contextmenuMgr) {
        this._contextmenuMgr.close();
      }
      return this;
    }
    openSmallTooltip(_0x1d6342, _0x2afdde) {
      this._smallTooltip.open(_0x1d6342, _0x2afdde);
      return this;
    }
    closeSmallTooltip() {
      if (!this._smallTooltip) {
        return;
      }
      this._smallTooltip.close();
      return this;
    }
    getTimeTaskList() {
      let _0x5663b7 = 0;
      const _0x3645e8 = [];
      const _0x3cd223 = this.control.subtitles?.listRun;
      if (_0x3cd223) {
        _0x3cd223.forEach(_0x1c5df2 => {
          _0x5663b7 = Math.max(_0x5663b7, _0x1c5df2.stop);
          const _0x4b5175 = {
            ..._0x1c5df2.options
          };
          _0x4b5175.type = "subtitles";
          _0x4b5175.name = _0x1c5df2.options.text;
          _0x4b5175.start = _0x1c5df2.start;
          _0x4b5175.duration = _0x1c5df2.duration;
          _0x4b5175.stop = _0x1c5df2.stop;
          _0x4b5175.listIndex = _0x1c5df2.index;
          _0x3645e8.push(_0x4b5175);
        });
      }
      const _0x2e17d1 = this.thing.task?.listRun;
      if (_0x2e17d1) {
        _0x2e17d1.forEach(_0x1e103d => {
          _0x5663b7 = Math.max(_0x5663b7, _0x1e103d.stop);
          const _0x50235f = {
            ..._0x1e103d.options
          };
          _0x50235f.type = "task";
          _0x50235f.name = _0x1e103d.name;
          _0x50235f.start = _0x1e103d.start;
          _0x50235f.duration = _0x1e103d.duration;
          _0x50235f.stop = _0x1e103d.stop;
          _0x50235f.listIndex = _0x1e103d.index;
          _0x50235f.taskType = _0x1e103d.type;
          _0x3645e8.push(_0x50235f);
        });
      }
      this.eachLayer(_0x68168e => {
        if (_0x68168e.isPrivate) {
          return;
        }
        const _0x1e39ff = _0x68168e.getAvailabilityJson();
        if (_0x1e39ff) {
          _0x1e39ff.forEach((_0xd8aa2a, _0x4fa845) => {
            _0x5663b7 = Math.max(_0x5663b7, _0xd8aa2a.stop);
            const _0x3d64ff = {
              type: "availability",
              origin: "layer",
              name: _0x68168e.name,
              start: _0xd8aa2a.start,
              duration: _0xd8aa2a.duration,
              stop: _0xd8aa2a.stop,
              listIndex: _0x4fa845,
              layerId: _0x68168e.id
            };
            _0x3645e8.push(_0x3d64ff);
          });
        }
        if (_0x68168e.eachGraphic) {
          _0x68168e.eachGraphic(_0x4d32d1 => {
            if (_0x4d32d1.isPrivate || _0x4d32d1.parent || !_0x4d32d1.state || _0x4d32d1._group_availability) {
              return;
            }
            const _0x30eedb = _0x4d32d1.getAvailabilityJson();
            if (_0x30eedb) {
              _0x30eedb.forEach((_0x18d024, _0x5a51c4) => {
                _0x5663b7 = Math.max(_0x5663b7, _0x18d024.stop);
                const _0x4e1cb7 = {
                  type: "availability",
                  origin: "graphic",
                  name: _0x4d32d1.name,
                  start: _0x18d024.start,
                  duration: _0x18d024.duration,
                  stop: _0x18d024.stop,
                  listIndex: _0x5a51c4,
                  layerId: _0x68168e.id,
                  graphicId: _0x4d32d1.id
                };
                _0x3645e8.push(_0x4e1cb7);
              });
            }
          });
        }
      });
      this.eachEffect(_0x58acc6 => {
        const _0x21ed5f = _0x58acc6.getAvailabilityJson();
        if (_0x21ed5f) {
          _0x21ed5f.forEach((_0x3498a3, _0x27d893) => {
            _0x5663b7 = Math.max(_0x5663b7, _0x3498a3.stop);
            const _0x439438 = {
              type: "availability",
              origin: "effect",
              name: _0x58acc6.name,
              start: _0x3498a3.start,
              duration: _0x3498a3.duration,
              stop: _0x3498a3.stop,
              listIndex: _0x27d893,
              effectType: _0x58acc6.type
            };
            _0x3645e8.push(_0x439438);
          });
        }
      });
      const _0x127913 = {
        list: _0x3645e8,
        duration: _0x5663b7
      };
      return _0x127913;
    }
    clear(_0x1972cf = true) {
      this._thingList.forEach(_0x8a2367 => {
        this.removeThing(_0x8a2367, _0x1972cf);
      }, this, true);
      this._thingList.removeAll();
      this._controlList.forEach(_0x150f74 => {
        if (!_0x150f74 || _0x150f74.isPrivate) {
          return;
        }
        this.removeControl(_0x150f74, _0x1972cf);
      }, this, true);
      this._controlList.removeAll();
      this._layerList.forEach(_0x52a4ae => {
        if (!_0x52a4ae || _0x52a4ae.isPrivate) {
          return;
        }
        this.removeLayer(_0x52a4ae, _0x1972cf);
      }, this, true);
      this._layerList.removeAll();
      this.hasTerrain = false;
      this._control = {};
      this._effect = {};
      this._thing = {};
    }
    destroy() {
      if (!this._viewer) {
        return;
      }
      try {
        this._controlList.destroy();
      } catch (_0x5d11db) {
        logWarn("_controlList.destroy 异常", _0x5d11db);
      }
      try {
        this._thingList.destroy();
      } catch (_0x48918b) {
        logWarn("_thingList.destroy 异常", _0x48918b);
      }
      try {
        this._mouseEvent.destroy();
      } catch (_0x4ce8b8) {
        logWarn("_mouseEvent.destroy 异常", _0x4ce8b8);
      }
      try {
        destroyObject(this._sceneOption);
        destroyObject(this._zoomNavigation);
        this._sceneEvent.destroy();
      } catch (_0x10ca88) {
        logWarn("_sceneEvent 等 destroy 异常", _0x10ca88);
      }
      try {
        this._layerList.destroy();
      } catch (_0x4f0590) {
        logWarn("_layerList.destroy 异常", _0x4f0590);
      }
      try {
        this._viewer.useDefaultRenderLoop = false;
        this._viewer.entities.removeAll();
        this._viewer.scene.primitives.removeAll();
        this._viewer.scene.groundPrimitives.removeAll();
        const _0x17b979 = this._viewer.scene.context._originalGLContext;
        const _0x227203 = this._viewer.scene;
        this._viewer.destroy();
        if (_0x17b979) {
          _0x17b979.canvas.width = 1;
          _0x17b979.canvas.height = 1;
          _0x17b979.getExtension("WEBGL_lose_context").loseContext();
        }
        destroyObject(_0x227203);
      } catch (_0x380e3c) {
        logWarn("_viewer.destroy异常", _0x380e3c);
      }
      destroyObject(this);
    }
  }
  function destroyObject(_0x5049a0) {
    try {
      for (const _0x3f8f23 in _0x5049a0) {
        delete _0x5049a0[_0x3f8f23];
      }
    } catch (_0x1fcaa7) {}
  }
  class MapCompare extends BaseControl {
    get mapEx() {
      return this._mapEx;
    }
    get basemap() {
      return this._mapEx.basemap;
    }
    set basemap(_0x620473) {
      this._mapEx.basemap = _0x620473;
    }
    get sync() {
      return this.options.sync ?? true;
    }
    set sync(_0x499f60) {
      this.options.sync = _0x499f60;
      if (_0x499f60) {
        this.unbindEvent();
        this.bindEvent();
      } else {
        this.unbindEvent();
      }
    }
    get parentContainer() {
      if (this.options.parentContainer) {
        return this.options.parentContainer;
      }
      return this._map.container.parentNode;
    }
    _mountedHook() {
      this._container = create$4("div", "mars3d-container mars3d-mapCompare " + this._className);
      this.setStyle(this.options.style);
    }
    _setOptionsHook(_0x24a872, _0x4fe548) {
      for (const _0x5816fb in _0x4fe548) {
        const _0x223f24 = _0x4fe548[_0x5816fb];
        switch (_0x5816fb) {
          case "style":
          case "className":
          case "enabled":
            {
              super._setOptionsHook(_0x24a872, _0x4fe548);
              break;
            }
          case "sync":
          case "basemap":
            {
              this[_0x5816fb] = _0x223f24;
              break;
            }
          default:
            {
              this.mapEx.setOptions(_0x4fe548);
              break;
            }
        }
      }
    }
    _showHook(_0x4125c5) {
      if (_0x4125c5) {
        if (!this.options.parentContainer) {
          this._last_mapWidth = this._map.container.style.width;
          this._map.container.style.width = "50%";
        }
      } else if (Cesium__namespace.defined(this._last_mapWidth)) {
        this._map.container.style.width = this._last_mapWidth;
        delete this._last_mapWidth;
      }
    }
    _addedHook() {
      if (!this.enabled) {
        return;
      }
      if (!this.options.parentContainer) {
        this._last_mapWidth = this._map.container.style.width;
        this._map.container.style.width = "50%";
      }
      const _0x46f355 = {
        scene: this._map.options.scene,
        ...this.options
      };
      const _0x3d13ec = _0x46f355;
      _0x3d13ec.control = _0x3d13ec.control || {};
      _0x3d13ec.control.baseLayerPicker = _0x3d13ec.control.baseLayerPicker ?? true;
      _0x3d13ec.control.sceneModePicker = _0x3d13ec.control.sceneModePicker ?? false;
      if (!_0x3d13ec.basemaps) {
        _0x3d13ec.basemaps = [];
        const _0x5a961a = this._map.getBasemaps(true);
        for (let _0x41ddc4 = 0, _0x22daea = _0x5a961a.length; _0x41ddc4 < _0x22daea; _0x41ddc4++) {
          const _0x529ad1 = _0x5a961a[_0x41ddc4];
          if (_0x529ad1.isPrivate) {
            continue;
          }
          const _0x22a04b = _0x529ad1.toJSON();
          _0x3d13ec.basemaps.push(_0x22a04b);
        }
      }
      if (this._map.options.licenseUrl) {
        _0x3d13ec.licenseUrl = this._map.options.licenseUrl;
      }
      this._mapEx = new Map(this._container, _0x3d13ec);
      this._map.camera.percentageChanged = 0.001;
      this._mapEx.camera.percentageChanged = 0.001;
      if (this.sync) {
        this.bindEvent();
      }
      if (this.options.basemap) {
        this._mapEx.basemap = this.options.basemap;
      }
      refresh(this._map.scene);
    }
    _removedBeforeHook() {
      this.unbindEvent();
      this._mapEx.destroy();
      delete this._mapEx;
      if (Cesium__namespace.defined(this._last_mapWidth)) {
        this._map.container.style.width = this._last_mapWidth;
        delete this._last_mapWidth;
      }
      refresh(this._map.scene);
    }
    bindEvent() {
      this._map.on(EventType.mouseMove, this._map_mouseMoveHandler, this);
      this._map.on(EventType.cameraChanged, this._map_extentChangeHandler, this);
      this._mapEx.on(EventType.mouseMove, this._mapEx_mouseMoveHandler, this);
      this._mapEx.on(EventType.cameraChanged, this._mapEx_extentChangeHandler, this);
      this._currMapIndex = 1;
      this._map_extentChangeHandler();
    }
    unbindEvent() {
      this._map.off(EventType.mouseMove, this._map_mouseMoveHandler, this);
      this._map.off(EventType.cameraChanged, this._map_extentChangeHandler, this);
      this._mapEx.off(EventType.mouseMove, this._mapEx_mouseMoveHandler, this);
      this._mapEx.off(EventType.cameraChanged, this._mapEx_extentChangeHandler, this);
    }
    _map_mouseMoveHandler(_0x4a776b) {
      this._currMapIndex = 1;
      if (this._mapEx.scene.mode !== Cesium__namespace.SceneMode.MORPHING) {
        this._mapEx.scene.camera.lookAtTransform(Cesium__namespace.Matrix4.IDENTITY);
      }
    }
    _map_extentChangeHandler(_0x237a63) {
      if (this._currMapIndex !== 1) {
        return;
      }
      const _0x13cc1f = getViewPoint(this._map);
      if (this._map.scene.mode !== Cesium__namespace.SceneMode.SCENE3D && _0x13cc1f.worldPosition) {
        this._mapEx.scene.camera.lookAt(_0x13cc1f.worldPosition, new Cesium__namespace.Cartesian3(0, 0, _0x13cc1f.height));
      } else {
        const _0x17fa8c = {
          destination: _0x13cc1f.destination,
          orientation: _0x13cc1f.orientation
        };
        this._mapEx.scene.camera.setView(_0x17fa8c);
      }
    }
    _mapEx_mouseMoveHandler(_0x3a632d) {
      this._currMapIndex = 2;
      if (this._map.scene.mode !== Cesium__namespace.SceneMode.MORPHING) {
        this._map.scene.camera.lookAtTransform(Cesium__namespace.Matrix4.IDENTITY);
      }
    }
    _mapEx_extentChangeHandler(_0x39c3e8) {
      if (this._currMapIndex !== 2) {
        return;
      }
      const _0x46718d = getViewPoint(this._mapEx);
      if (this._mapEx.scene.mode !== Cesium__namespace.SceneMode.SCENE3D && _0x46718d.worldPosition) {
        this._map.scene.camera.lookAt(_0x46718d.worldPosition, new Cesium__namespace.Cartesian3(0, 0, _0x46718d.height));
      } else {
        const _0x49879d = {
          destination: _0x46718d.destination,
          orientation: _0x46718d.orientation
        };
        this._map.scene.camera.setView(_0x49879d);
      }
    }
  }
  register$2("mapCompare", MapCompare);
  function getViewPoint(_0x40945b) {
    const _0x5d74f3 = _0x40945b.camera;
    const _0x2e8037 = new Cesium__namespace.Cartesian2(Math.floor(_0x40945b.canvas.clientWidth / 2), Math.floor(_0x40945b.canvas.clientHeight / 2));
    const _0x4030d5 = _0x40945b.scene.camera.pickEllipsoid(_0x2e8037);
    return {
      worldPosition: _0x4030d5,
      height: _0x5d74f3.positionCartographic.height,
      destination: _0x5d74f3.position.clone(),
      orientation: {
        heading: _0x5d74f3.heading,
        pitch: _0x5d74f3.pitch,
        roll: _0x5d74f3.roll
      }
    };
  }
  class OverviewMap extends BaseControl {
    get smallMap() {
      return this._smallMap;
    }
    get center() {
      return this._center;
    }
    get sync() {
      return this.options.sync ?? true;
    }
    set sync(_0x537e2a) {
      this.options.sync = _0x537e2a;
      if (_0x537e2a) {
        this.unbindEvent();
        this.bindEvent();
      } else {
        this.unbindEvent();
      }
    }
    _mountedHook() {
      this.options.flyToOptions = this.options.flyToOptions || {};
      this._container = create$4("div", "mars3d-overviewMap " + this._className);
      this._defaultPosition = {
        right: "10px",
        top: "10px"
      };
      this.setStyle(this.options.style);
    }
    _addedHook() {
      this.initMinMap();
      this._map.camera.percentageChanged = 0.01;
      if (this.sync) {
        this.bindEvent();
      }
    }
    _removedHook() {
      this.unbindEvent();
      this._smallMap.destroy();
      delete this._smallMap;
    }
    bindEvent() {
      this._map.on(EventType.cameraChanged, this._map_cameraChanged, this);
      this._map_cameraChanged();
    }
    unbindEvent() {
      this._map.off(EventType.cameraChanged, this._map_cameraChanged, this);
    }
    _map_cameraChanged() {
      if (this._extentRectangle) {
        if (this._map.camera.positionCartographic?.height > 15000000) {
          this._rectangle = Cesium__namespace.Rectangle.MAX_VALUE;
        } else {
          const _0x228edc = this._map.getExtent();
          this._rectangle = Cesium__namespace.Rectangle.fromDegrees(_0x228edc.xmin, _0x228edc.ymin, _0x228edc.xmax, _0x228edc.ymax);
        }
      }
      if (this._extentPolygon) {
        this._mapExtentPositions = getMapExtentPositions(this._map.scene);
      }
      this._center = this._map.getCenter(true);
      if (!this.options.flyToOptions.scale || this.options.flyToOptions.scale === 1) {
        const _0x25bf33 = this._map.getCameraView({
          simplify: false
        });
        this._smallMap.setCameraView(_0x25bf33, {
          duration: 0,
          ...this.options.flyToOptions
        });
      } else {
        const _0x34c6cd = Cesium__namespace.Cartesian3.distance(this._center, this._map.camera.positionWC);
        this._smallMap.flyToPoint(this._center, {
          duration: 0,
          radius: _0x34c6cd,
          heading: Cesium__namespace.Math.toDegrees(this._map.camera.heading),
          pitch: Cesium__namespace.Math.toDegrees(this._map.camera.pitch),
          ...this.options.flyToOptions
        });
      }
      this.fire(EventType.change);
    }
    initMinMap() {
      const _0x512335 = this._map.getCameraView({
        simplify: false
      });
      const _0x16b92f = {
        sceneMode: Cesium__namespace.SceneMode.SCENE2D,
        cameraController: {
          enableRotate: false,
          enableTranslate: false,
          enableTilt: false,
          enableZoom: false
        },
        ...this.options.scene
      };
      _0x16b92f.center = _0x512335;
      const _0xf37306 = {
        contextmenu: {
          hasDefault: false
        },
        ...this.options.control
      };
      const _0x17302a = {
        ...this.options.basemap
      };
      _0x17302a.show = true;
      const _0x4509cf = {
        scene: _0x16b92f,
        control: _0xf37306,
        basemaps: [_0x17302a],
        layers: this.options.layers
      };
      const _0x106c23 = _0x4509cf;
      if (this._map.options.licenseUrl) {
        _0x106c23.licenseUrl = this._map.options.licenseUrl;
      }
      this._smallMap = new Map(this._container, _0x106c23);
      if (this.options.polygon) {
        this._mapExtentPositions = getMapExtentPositions(this._map.scene);
        this._extentPolygon = new PolygonEntity({
          positions: new Cesium__namespace.CallbackProperty(_0x392a10 => {
            return this._mapExtentPositions;
          }, false),
          style: {
            color: "rgba(0,0,255,0.2)",
            outline: true,
            outlineWidth: 1,
            outlineColor: "#ff7800",
            ...this.options.polygon
          }
        });
        this._smallMap.graphicLayer.addGraphic(this._extentPolygon);
      }
      if (this.options.rectangle) {
        const _0x360e22 = this._map.getExtent();
        this._rectangle = Cesium__namespace.Rectangle.fromDegrees(_0x360e22.xmin, _0x360e22.ymin, _0x360e22.xmax, _0x360e22.ymax);
        this._extentRectangle = new RectangleEntity({
          rectangle: new Cesium__namespace.CallbackProperty(_0x4c7dbc => {
            return this._rectangle;
          }, false),
          style: {
            color: "rgba(0,0,255,0.2)",
            outline: true,
            outlineWidth: 1,
            outlineColor: "#ff7800",
            ...this.options.rectangle
          }
        });
        this._smallMap.graphicLayer.addGraphic(this._extentRectangle);
      }
    }
    _toJsonEx(_0x546fe4) {
      super._toJsonEx(_0x546fe4);
      _0x546fe4.basemap = this._smallMap.basemap.toJSON();
    }
  }
  register$2("overviewMap", OverviewMap);
  const icon$1 = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"20\" height=\"20\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect width=\"48\" height=\"48\" fill=\"white\" fill-opacity=\"0.01\"/>\n  <path d=\"M16 12V36\" stroke=\"#ffffff\" stroke-width=\"5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n  <path d=\"M32 12V36\" stroke=\"#ffffff\" stroke-width=\"5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>";
  const icon = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"20\" height=\"20\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect width=\"48\" height=\"48\" fill=\"white\" fill-opacity=\"0.01\"/>\n  <path d=\"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z\" fill=\"none\" stroke=\"#ffffff\" stroke-width=\"5\" stroke-linejoin=\"round\"/>\n</svg>";
  class ClockAnimate extends BaseControl {
    _mountedHook() {
      this._container = create$4("div", "mars3d-clockAnimate " + this._className);
      this._container.innerHTML = "\n      <button id=\"btn-clockAnimate-start\" class=\"mars3d-clockAnimate-btn\" title=\"" + this.getLangText("_暂停") + "\">\n        " + icon$1 + "\n      </button>\n      <button id=\"btn-clockAnimate-now\" class=\"mars3d-clockAnimate-btn\" title=\"返回到当前时间\" >\n        <svg width=\"20\" height=\"20\" style=\"margin-top: 5px;\" viewBox=\"0 0 48 58\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <rect width=\"48\" height=\"48\" fill=\"white\" fill-opacity=\"0.01\"/><rect width=\"48\" height=\"58\" fill=\"white\" fill-opacity=\"0.01\"/>\n          <path d=\"M34.0234 6.68921C31.0764 4.97912 27.6525 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44C35.0457 44 44 35.0457 44 24C44 20.3727 43.0344 16.9709 41.3461 14.0377\" stroke=\"#ffffff\" stroke-width=\"4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M31.9498 16.0502C31.9498 16.0502 28.5621 25.0947 27.0001 26.6568C25.438 28.2189 22.9053 28.2189 21.3432 26.6568C19.7811 25.0947 19.7811 22.562 21.3432 20.9999C22.9053 19.4378 31.9498 16.0502 31.9498 16.0502Z\" fill=\"none\" stroke=\"#ffffff\" stroke-width=\"4\" stroke-linejoin=\"round\"/>\n        </svg>\n      </button>\n      <span id=\"txt-clockAnimate-time\" class=\"time\" title=\"当前时间\"> 2017-08-25 00:00:00 </span>\n      <span id=\"txt-clockAnimate-all\" class=\"time\" title=\"总时长\"></span>\n      <input id=\"txt-clockAnimate-speed\" type=\"number\" class=\"mars3d-clockAnimate-speed\" value=\"1\" title=\"速度（倍率）\" />\n    ";
    }
    _addedHook() {
      const _0x5ec71e = this._container.querySelector("#btn-clockAnimate-now");
      _0x5ec71e.addEventListener("click", _0x5a541a => {
        this._map.clock.currentTime = Cesium__namespace.JulianDate.now();
        this.updateStatus();
        this.fire(EventType.click, {
          mouseEvent: _0x5a541a,
          targetType: "now",
          time: this._map.clock.currentTime
        });
      });
      setTimeout(() => {
        if (this.isAdded && !this.listens(EventType.click)) {
          _0x5ec71e.style.display = "none";
        }
      }, 500);
      const _0x490e59 = this._container.querySelector("#btn-clockAnimate-start");
      _0x490e59.addEventListener("click", _0x16b133 => {
        this._map.clock.shouldAnimate = !this._map.clock.shouldAnimate;
        this.updateStatus();
        this.fire(EventType.click, {
          mouseEvent: _0x16b133,
          targetType: "state",
          state: this._map.clock.shouldAnimate
        });
      });
      this._containerBtnStart = _0x490e59;
      this._containerTime = this._container.querySelector("#txt-clockAnimate-time");
      this._containerTime.addEventListener("click", _0x41d1f3 => {
        const _0x1dd4de = {
          mouseEvent: _0x41d1f3,
          targetType: "label"
        };
        this.fire(EventType.click, _0x1dd4de);
      });
      this._containerTimeAll = this._container.querySelector("#txt-clockAnimate-all");
      this._containerTimeAll.addEventListener("click", _0x1b6699 => {
        const _0x3d503b = {
          mouseEvent: _0x1b6699,
          targetType: "label"
        };
        this.fire(EventType.click, _0x3d503b);
      });
      if (this.options.format === "duration") {
        const _0x93bcd0 = Cesium__namespace.JulianDate.secondsDifference(this._map.clock.stopTime, this._map.clock.startTime);
        const _0x1ede43 = formatTime(_0x93bcd0, {
          getLangText: this.getLangText.bind(this)
        });
        this._containerTimeAll.innerHTML = "(共" + _0x1ede43 + ")";
      } else {
        this._containerTimeAll.style.display = "none";
      }
      this._containerSpeed = this._container.querySelector("#txt-clockAnimate-speed");
      if (this.options.speed ?? true) {
        this._containerSpeed.setAttribute("value", this._map.clock.multiplier);
        this._containerSpeed.addEventListener("change", _0x505007 => {
          const _0x43a72b = Number(this._containerSpeed.value || 1);
          if (!isNaN(_0x43a72b)) {
            this._map.clock.multiplier = _0x43a72b;
            const _0x9a732c = {
              mouseEvent: _0x505007,
              speed: _0x43a72b
            };
            this.fire(EventType.change, _0x9a732c);
          }
        });
        this._containerSpeed.addEventListener("focus", () => {
          this._isSpeedInputFocused = true;
        });
        this._containerSpeed.addEventListener("blur", () => {
          this._isSpeedInputFocused = false;
        });
      } else {
        this._containerSpeed.style.display = "none";
        delete this._containerSpeed;
      }
      setTimeout(() => {
        if (this.isAdded) {
          this._showHook(true);
        }
      }, 1000);
      this._timeTik = setInterval(() => {
        if (this.isAdded) {
          this.clock_onTickHandler();
        }
      }, 500);
      this.clock_onTickHandler();
    }
    _showHook(_0x1d0c83) {
      var _0x33aff1;
      const _0x39180e = this._map.control.timeline;
      const _0x40d31c = _0x39180e?.container;
      if (_0x40d31c && !Cesium__namespace.defined((_0x33aff1 = _0x39180e.options) === null || _0x33aff1 === undefined || (_0x33aff1 = _0x33aff1.style) === null || _0x33aff1 === undefined ? undefined : _0x33aff1.left)) {
        _0x40d31c.style.left = _0x1d0c83 ? this._container.offsetWidth + 1 + "px" : "0";
        _0x39180e.resize();
      }
      const _0x396263 = this._map.controls?.distanceLegend;
      if (_0x396263 && !Cesium__namespace.defined(_0x396263.options.bottom)) {
        const _0x5748b9 = _0x1d0c83 || _0x40d31c && _0x40d31c.style.display !== "none";
        const _0x49c657 = {
          bottom: _0x5748b9 ? "27px" : "2px"
        };
        _0x396263.setStyle(_0x49c657);
      }
    }
    _removedHook() {
      if (this._timeTik) {
        clearInterval(this._timeTik);
        this._timeTik = null;
      }
    }
    clock_onTickHandler() {
      this.updateStatus();
      if (this._containerSpeed) {
        const _0x3df958 = Number(this._containerSpeed.value);
        if (!this._isSpeedInputFocused && this._map.clock.multiplier !== _0x3df958) {
          this._containerSpeed.value = this._map.clock.multiplier;
          this._containerSpeed.setAttribute("value", this._map.clock.multiplier);
        }
      }
      if (this.options.format === "duration") {
        const _0xa64ade = Cesium__namespace.JulianDate.secondsDifference(this._map.clock.currentTime, this._map.clock.startTime);
        const _0x8a992e = formatTime(_0xa64ade, {
          getLangText: this.getLangText.bind(this)
        });
        this._containerTime.innerHTML = _0x8a992e;
        if (this._diffTimeStrLen !== _0x8a992e.length) {
          this._showHook(true);
          this._diffTimeStrLen = _0x8a992e.length;
        }
      } else {
        const _0x258fbc = Cesium__namespace.JulianDate.toDate(this._map.clock.currentTime);
        this._containerTime.innerHTML = formatDate(_0x258fbc, this.options.format || "yyyy-MM-dd HH:mm:ss");
      }
    }
    updateStatus() {
      var _0x51b21d;
      if (this.isAnimate === this._map.clock.shouldAnimate) {
        return;
      }
      this.isAnimate = this._map.clock.shouldAnimate;
      if (this.isAnimate) {
        this._containerBtnStart.setAttribute("title", this.getLangText("_暂停"));
        this._containerBtnStart.innerHTML = icon$1;
        if (this._containerSpeed) {
          this._containerSpeed.style.display = "inline";
        }
      } else {
        this._containerBtnStart.setAttribute("title", this.getLangText("_继续"));
        this._containerBtnStart.innerHTML = icon;
        if (this._containerSpeed) {
          this._containerSpeed.style.display = "none";
        }
      }
      const _0x1b33f9 = this._map.control.timeline;
      const _0x17e961 = _0x1b33f9?.container;
      if (_0x17e961 && !Cesium__namespace.defined((_0x51b21d = _0x1b33f9.options) === null || _0x51b21d === undefined || (_0x51b21d = _0x51b21d.style) === null || _0x51b21d === undefined ? undefined : _0x51b21d.left)) {
        _0x17e961.style.left = this._container.offsetWidth + 1 + "px";
        _0x1b33f9.resize();
      }
    }
  }
  register$2("clockAnimate", ClockAnimate);
  class Subtitles extends BaseControl {
    get currentTime() {
      return this._currentTime;
    }
    get currentIndex() {
      return this._currentIndex;
    }
    get count() {
      return this._arrTaskItem?.length;
    }
    get duration() {
      const _0x2ece19 = this._arrTaskItem?.length;
      if (_0x2ece19 === 0) {
        return 0;
      }
      return this._arrTaskItem[_0x2ece19 - 1].stop;
    }
    get list() {
      return this.options.list;
    }
    set list(_0x19e6dc) {
      this.options.list = _0x19e6dc;
      this._updateList();
    }
    get listRun() {
      return this._arrTaskItem;
    }
    _mountedHook() {
      this._container = create$4("div", "mars3d-subtitles " + this._className);
      this._defaultPosition = {
        width: "100%",
        bottom: "60px"
      };
      this.setStyle(this.options.style);
      this._updateList();
    }
    _setOptionsHook(_0x5312fa, _0x449dd1) {
      if (_0x449dd1.list) {
        this._updateList();
      }
    }
    getItemById(_0x530042) {
      for (let _0x5c819e = 0; _0x5c819e < this._arrTaskItem.length; _0x5c819e++) {
        const _0x48954a = this._arrTaskItem[_0x5c819e];
        if (_0x48954a.id === _0x530042) {
          return _0x48954a;
        }
      }
      return null;
    }
    addItem(_0x54e0a6) {
      this.options.list.push(_0x54e0a6);
      this._updateList();
    }
    updateItem(_0x583902) {
      let _0x311d3a = false;
      for (let _0x6f10ce = 0; _0x6f10ce < this.options.list.length; _0x6f10ce++) {
        const _0x22f925 = this.options.list[_0x6f10ce];
        if (_0x583902.id === _0x22f925.id) {
          this.options.list[_0x6f10ce] = _0x583902;
          _0x311d3a = true;
          break;
        }
      }
      if (_0x311d3a) {
        this._updateList();
      }
      return _0x311d3a;
    }
    removeItem(_0x56ad) {
      let _0x26044e = false;
      for (let _0x15b6d1 = 0; _0x15b6d1 < this.options.list.length; _0x15b6d1++) {
        const _0x39837d = this.options.list[_0x15b6d1];
        if (_0x39837d.id === _0x56ad) {
          this.options.list.splice(_0x15b6d1, 1);
          _0x26044e = true;
          break;
        }
      }
      if (_0x26044e) {
        this._updateList();
      }
      return _0x26044e;
    }
    _updateList() {
      if (this._container) {
        this._container.innerHTML = "";
        this._setContainerShow(false);
      }
      this._arrTaskItem = Task.getObjectList(this.options.list, this);
    }
    _addedHook() {
      this._timeTik = setInterval(() => {
        if (this.isAdded) {
          this._clock_onTickHandler();
        }
      }, 500);
      this._clock_onTickHandler();
      this._setContainerShow(false);
    }
    _removedHook() {
      if (this._timeTik) {
        clearInterval(this._timeTik);
        this._timeTik = null;
      }
      this.disableAll();
      if (this._container) {
        this._container.innerHTML = "";
        this._setContainerShow(false);
      }
    }
    disableAll() {
      if (this._arrTaskItem) {
        for (let _0x3a9d92 = 0; _0x3a9d92 < this._arrTaskItem.length; _0x3a9d92++) {
          const _0x8eb776 = this._arrTaskItem[_0x3a9d92];
          _0x8eb776.disable();
        }
      }
    }
    _clock_onTickHandler() {
      if (!this.show || !this.enabled || this._arrTaskItem.length === 0) {
        return;
      }
      if (this._map?.availabilityEnabled === false) {
        return;
      }
      const _0x4a7dae = this._map.clock;
      this._currentTime = Cesium__namespace.JulianDate.secondsDifference(_0x4a7dae.currentTime, _0x4a7dae.startTime);
      if (this._currentTime === 0) {
        this._arrTaskItem[0].disable();
      }
      for (let _0x3cdb86 = 0; _0x3cdb86 < this._arrTaskItem.length; _0x3cdb86++) {
        const _0x33a257 = this._arrTaskItem[_0x3cdb86];
        const _0x581070 = _0x33a257.update(this._currentTime);
        if (_0x581070) {
          this._currentIndex = _0x33a257.index;
        }
      }
    }
  }
  register$2("subtitles", Subtitles);
  class SubtitlesItem extends TaskItem {
    _activateWork(_0x1a0e02) {
      this._parent._container.innerHTML = _0x1a0e02.text;
      this._parent._setContainerShow(true);
    }
    _disableWork() {
      this._parent._container.innerHTML = "";
      this._parent._setContainerShow(false);
    }
  }
  Task.register("subtitles", SubtitlesItem);
  const _0x255804 = {
    __proto__: null,
    BaseControl: BaseControl,
    ContextMenu: ContextMenu,
    Toolbar: Toolbar,
    Animation: Animation,
    BaseLayerPicker: BaseLayerPicker,
    FullscreenButton: FullscreenButton,
    Geocoder: Geocoder,
    HomeButton: HomeButton,
    NavigationHelpButton: NavigationHelpButton,
    ProjectionPicker: ProjectionPicker,
    SceneModePicker: SceneModePicker,
    Timeline: Timeline,
    VRButton: VRButton,
    LocationBar: LocationBar,
    MouseDownView: MouseDownView,
    Zoom: Zoom,
    ToolButton: ToolButton,
    Compass: Compass,
    CubeView: CubeView,
    DistanceLegend: DistanceLegend,
    MapSplit: MapSplit,
    MapCompare: MapCompare,
    OverviewMap: OverviewMap,
    ClockAnimate: ClockAnimate,
    Subtitles: Subtitles
  };
  var index$1 = _0x255804;
  class BaseQueryRoute {
    constructor(_0x14fc14 = {}) {
      this.options = _0x14fc14;
      this._key_index = 0;
      if (_0x14fc14.key) {
        this._keys = Array.isArray(_0x14fc14.key) ? _0x14fc14.key : [_0x14fc14.key];
      }
      this._isWgs84 = this.options.chinaCRS !== ChinaCRS.GCJ02;
    }
    get keys() {
      return this._keys;
    }
    set keys(_0x565859) {
      this._keys = _0x565859;
    }
    get key() {
      const _0x290f74 = this._key_index++ % this._keys.length;
      return this._keys[_0x290f74];
    }
  }
  class GaodeRoute extends BaseQueryRoute {
    constructor(_0x1c6c28 = {}) {
      super(_0x1c6c28);
      if (!this._keys) {
        this._keys = gaodeArr;
      }
    }
    _formatRouteData(_0x4f2b15, _0x4957d6, _0x104c44) {
      let _0x3dfdff;
      let _0x310ec8;
      const _0x8d79fa = [];
      if (_0x4f2b15) {
        _0x3dfdff = _0x4f2b15.split(",");
        if (this._isWgs84) {
          _0x3dfdff = gcj2wgs(_0x3dfdff);
        }
      }
      if (_0x4957d6) {
        _0x310ec8 = _0x4957d6.split(",");
        if (this._isWgs84) {
          _0x310ec8 = gcj2wgs(_0x310ec8);
        }
      }
      if (_0x104c44 && _0x104c44.length > 0) {
        for (let _0x595d89 = 0; _0x595d89 < _0x104c44.length; _0x595d89++) {
          const _0x1295ad = [];
          _0x1295ad.push(_0x3dfdff);
          const _0x3d7f22 = _0x104c44[_0x595d89];
          const _0x3d2c96 = _0x3d7f22.steps;
          const _0x3a8acb = [];
          const _0x143279 = [];
          let _0x3fc6f6 = 0;
          for (let _0x2fcdd6 = 0; _0x2fcdd6 < _0x3d2c96.length; _0x2fcdd6++) {
            const _0x374ca7 = {
              instruction: _0x3d2c96[_0x2fcdd6].instruction,
              distance: Number(_0x3d2c96[_0x2fcdd6].step_distance),
              duration: Number(_0x3d2c96[_0x2fcdd6].cost.duration),
              points: [],
              route: _0x3d2c96[_0x2fcdd6].road_name
            };
            _0x3fc6f6 += _0x374ca7.duration;
            const _0x482300 = _0x3d2c96[_0x2fcdd6].polyline;
            const _0x3336b1 = _0x482300.split(";");
            for (let _0xaa4d68 = 0; _0xaa4d68 < _0x3336b1.length; _0xaa4d68++) {
              const _0x487fb6 = _0x3336b1[_0xaa4d68];
              let _0x56f146 = _0x487fb6.split(",");
              if (this._isWgs84) {
                _0x56f146 = gcj2wgs(_0x56f146);
              }
              _0x1295ad.push(_0x56f146);
              _0x374ca7.points.push(_0x56f146);
            }
            _0x143279.push(_0x374ca7.route);
            _0x3a8acb.push(_0x374ca7);
          }
          _0x1295ad.push(_0x310ec8);
          const _0x2e0d18 = {
            allDistance: _0x3d7f22.distance,
            allDuration: _0x3fc6f6,
            steps: _0x3a8acb,
            points: _0x1295ad,
            road: _0x143279
          };
          _0x8d79fa.push(_0x2e0d18);
        }
      }
      const _0x568e15 = {
        origin: _0x3dfdff,
        destination: _0x310ec8,
        paths: _0x8d79fa
      };
      return _0x568e15;
    }
    async _queryWalking(_0x3bfc15) {
      const _0x2b87b5 = {
        key: this.key,
        show_fields: "polyline,cost",
        output: "json"
      };
      const _0x2920ec = _0x2b87b5;
      let _0x4eeb6c = _0x3bfc15.points[0];
      let _0x2c32d7 = _0x3bfc15.points[_0x3bfc15.points.length - 1];
      if (this._isWgs84) {
        _0x4eeb6c = wgs2gcj(_0x4eeb6c);
        _0x2c32d7 = wgs2gcj(_0x2c32d7);
      }
      _0x2920ec.origin = _0x4eeb6c[0] + "," + _0x4eeb6c[1];
      _0x2920ec.destination = _0x2c32d7[0] + "," + _0x2c32d7[1];
      const _0x3e3dce = {
        url: "https://restapi.amap.com/v5/direction/walking",
        queryParameters: _0x2920ec,
        ...this.options
      };
      const _0x2df610 = await fetchJson$2(_0x3e3dce);
      if (_0x2df610.infocode !== "10000") {
        if (_0x3bfc15.error) {
          const _0x4b7eff = "路径规划 请求失败(" + _0x2df610.infocode + ")：" + _0x2df610.info;
          _0x3bfc15.error(_0x4b7eff);
        }
        return;
      }
      if (!_0x2df610.route || !_0x2df610.route.paths) {
        if (_0x3bfc15.error) {
          _0x3bfc15.error("未查询到相关结果！");
        }
        return;
      }
      const _0x174b80 = this._formatRouteData(_0x2920ec.origin, _0x2920ec.destination, _0x2df610.route.paths);
      return _0x174b80;
    }
    async _queryBicycling(_0x2bdba9) {
      const _0x33d055 = {
        key: this.key,
        show_fields: "polyline,cost",
        output: "json"
      };
      const _0x132792 = _0x33d055;
      let _0x399156 = _0x2bdba9.points[0];
      let _0x49baaa = _0x2bdba9.points[_0x2bdba9.points.length - 1];
      if (this._isWgs84) {
        _0x399156 = wgs2gcj(_0x399156);
        _0x49baaa = wgs2gcj(_0x49baaa);
      }
      _0x132792.origin = _0x399156[0] + "," + _0x399156[1];
      _0x132792.destination = _0x49baaa[0] + "," + _0x49baaa[1];
      const _0x37d286 = {
        url: "https://restapi.amap.com/v5/direction/bicycling",
        queryParameters: _0x132792,
        ...this.options
      };
      const _0x350f97 = await fetchJson$2(_0x37d286);
      if (_0x350f97.infocode !== "10000") {
        const _0x279903 = "路径规划 请求失败(" + _0x350f97.infocode + ")：" + _0x350f97.info;
        if (_0x2bdba9.error) {
          _0x2bdba9.error(_0x279903);
        }
        return;
      }
      if (!_0x350f97.route || !_0x350f97.route.paths) {
        if (_0x2bdba9.error) {
          _0x2bdba9.error("未查询到相关结果！");
        }
        return;
      }
      const _0x52401b = this._formatRouteData(_0x132792.origin, _0x132792.destination, _0x350f97.route.paths);
      return _0x52401b;
    }
    async _queryDriving(_0x13eeb2) {
      const _0x121c86 = {
        key: this.key,
        show_fields: "polyline,cost",
        output: "json",
        strategy: _0x13eeb2.strategy || 0
      };
      const _0x1004b5 = _0x121c86;
      let _0x220503 = _0x13eeb2.points[0];
      let _0x7577da = _0x13eeb2.points[_0x13eeb2.points.length - 1];
      if (this._isWgs84) {
        _0x220503 = wgs2gcj(_0x220503);
        _0x7577da = wgs2gcj(_0x7577da);
      }
      _0x1004b5.origin = _0x220503[0] + "," + _0x220503[1];
      _0x1004b5.destination = _0x7577da[0] + "," + _0x7577da[1];
      if (_0x13eeb2.points.length > 2) {
        let _0x2b4c55 = "";
        for (let _0x5f19fb = 1, _0x2072c5 = _0x13eeb2.points.length - 1; _0x5f19fb < _0x2072c5; _0x5f19fb++) {
          let _0x378cfe = _0x13eeb2.points[_0x5f19fb];
          if (this._isWgs84) {
            _0x378cfe = wgs2gcj(_0x378cfe);
          }
          _0x2b4c55 += _0x378cfe[0] + "," + _0x378cfe[1] + ";";
        }
        _0x1004b5.waypoints = _0x2b4c55;
      }
      if (_0x13eeb2.avoidpolygons?.length > 0) {
        let _0x28207b = "";
        for (let _0x26957a = 0, _0x54e4a9 = _0x13eeb2.avoidpolygons.length; _0x26957a < _0x54e4a9; _0x26957a++) {
          if (_0x26957a > 0) {
            _0x28207b += "|";
          }
          const _0x106094 = _0x13eeb2.avoidpolygons[_0x26957a];
          for (let _0x2e80c4 = 0, _0x411ab7 = _0x106094.length; _0x2e80c4 < _0x411ab7; _0x2e80c4++) {
            let _0x1f97f4 = _0x106094[_0x2e80c4];
            if (this._isWgs84) {
              _0x1f97f4 = wgs2gcj(_0x1f97f4);
            }
            _0x28207b += _0x1f97f4[0] + "," + _0x1f97f4[1] + ";";
          }
        }
        _0x1004b5.avoidpolygons = _0x28207b;
      }
      const _0x4b69f4 = {
        url: "https://restapi.amap.com/v5/direction/driving",
        queryParameters: _0x1004b5,
        ...this.options
      };
      const _0x550ff4 = await fetchJson$2(_0x4b69f4);
      if (_0x550ff4.infocode !== "10000") {
        if (_0x13eeb2.error) {
          const _0x40e580 = "路径规划 请求失败(" + _0x550ff4.infocode + ")：" + _0x550ff4.info;
          _0x13eeb2.error(_0x40e580);
        }
        return;
      }
      if (!_0x550ff4.route || !_0x550ff4.route.paths || _0x550ff4.route.paths.length === 0) {
        if (_0x13eeb2.error) {
          _0x13eeb2.error("未查询到相关结果！");
        }
        return;
      }
      const _0x4ef67b = this._formatRouteData(_0x1004b5.origin, _0x1004b5.destination, _0x550ff4.route.paths);
      return _0x4ef67b;
    }
  }
  const fetchJson = isMarsOnline ? Cesium__namespace.Resource.fetchJson : Cesium__namespace.Resource.fetchJsonp;
  class BaiduRoute extends BaseQueryRoute {
    constructor(_0x5418d3 = {}) {
      super(_0x5418d3);
      if (!this._keys) {
        this._keys = baiduArr;
      }
    }
    _formatRouteData(_0x555675, _0x470edd, _0x2c2675) {
      let _0x4d7a62;
      let _0x42287b;
      const _0x4b7d00 = [];
      if (_0x555675) {
        _0x4d7a62 = _0x555675.split(",");
        if (this._isWgs84) {
          _0x4d7a62 = gcj2wgs(_0x4d7a62);
        }
      }
      if (_0x470edd) {
        _0x42287b = _0x470edd.split(",");
        if (this._isWgs84) {
          _0x42287b = gcj2wgs(_0x42287b);
        }
      }
      if (_0x2c2675 && _0x2c2675.length > 0) {
        for (let _0x4ba83b = 0; _0x4ba83b < _0x2c2675.length; _0x4ba83b++) {
          const _0x44e701 = [];
          _0x44e701.push(_0x4d7a62);
          const _0x374f60 = _0x2c2675[_0x4ba83b];
          const _0x58d0c1 = _0x374f60.steps;
          const _0x3219f6 = [];
          const _0x51ba2e = [];
          let _0x51c97a = 0;
          for (let _0x3f835f = 0; _0x3f835f < _0x58d0c1.length; _0x3f835f++) {
            const _0x50c21f = {
              instruction: _0x58d0c1[_0x3f835f].instruction,
              distance: Number(_0x58d0c1[_0x3f835f].distance),
              duration: Number(_0x58d0c1[_0x3f835f].duration),
              points: []
            };
            _0x50c21f.instruction &&= _0x50c21f.instruction.replaceAll("<b>", "").replaceAll("</b>", "");
            _0x51c97a += _0x50c21f.duration;
            const _0x454a09 = _0x58d0c1[_0x3f835f].path.split(";");
            for (let _0x5e2c2e = 0; _0x5e2c2e < _0x454a09.length; _0x5e2c2e++) {
              const _0x56866d = _0x454a09[_0x5e2c2e];
              let _0x48051c = _0x56866d.split(",");
              if (this._isWgs84) {
                _0x48051c = gcj2wgs(_0x48051c);
              }
              _0x44e701.push(_0x48051c);
              _0x50c21f.points.push(_0x48051c);
            }
            _0x51ba2e.push(_0x50c21f.route);
            _0x3219f6.push(_0x50c21f);
          }
          _0x44e701.push(_0x42287b);
          const _0x5c4036 = {
            allDistance: _0x374f60.distance,
            allDuration: _0x51c97a,
            steps: _0x3219f6,
            points: _0x44e701,
            road: _0x51ba2e
          };
          _0x4b7d00.push(_0x5c4036);
        }
      }
      const _0x2d348a = {
        origin: _0x4d7a62,
        destination: _0x42287b,
        paths: _0x4b7d00
      };
      return _0x2d348a;
    }
    async _queryWalking(_0x33da5d) {
      var _0x4dcd80;
      const _0xdf535d = {
        ak: this.key,
        output: "json",
        coord_type: "wgs84",
        ret_coordtype: "gcj02"
      };
      const _0x4aeab8 = _0xdf535d;
      const _0x3787d3 = _0x33da5d.points[0];
      const _0x30112b = _0x33da5d.points[_0x33da5d.points.length - 1];
      _0x4aeab8.origin = _0x3787d3[1] + "," + _0x3787d3[0];
      _0x4aeab8.destination = _0x30112b[1] + "," + _0x30112b[0];
      const _0x324a5a = {
        url: "https://api.map.baidu.com/directionlite/v1/walking",
        queryParameters: _0x4aeab8,
        ...this.options
      };
      const _0x427973 = await fetchJson(_0x324a5a);
      if (_0x427973.status !== 0) {
        if (_0x33da5d.error) {
          const _0x45cf3e = "路径规划 请求失败(" + _0x427973.status + ")：" + _0x427973.message;
          _0x33da5d.error(_0x45cf3e);
        }
        return;
      }
      const _0xc0c1fc = _0x427973 === null || _0x427973 === undefined || (_0x4dcd80 = _0x427973.result) === null || _0x4dcd80 === undefined ? undefined : _0x4dcd80.routes;
      if (!_0xc0c1fc || _0xc0c1fc.length === 0) {
        if (_0x33da5d.error) {
          _0x33da5d.error("未查询到相关结果！");
        }
        return;
      }
      const _0x2aefb0 = this._formatRouteData(_0x4aeab8.origin, _0x4aeab8.destination, _0xc0c1fc);
      return _0x2aefb0;
    }
    async _queryBicycling(_0x320214) {
      var _0x2b069e;
      const _0xd9123e = {
        ak: this.key,
        output: "json",
        coord_type: "wgs84",
        ret_coordtype: "gcj02",
        steps_info: 1,
        riding_type: _0x320214.riding_type ?? 0
      };
      const _0x431fb8 = _0xd9123e;
      const _0x35959e = _0x320214.points[0];
      const _0x4c496e = _0x320214.points[_0x320214.points.length - 1];
      _0x431fb8.origin = _0x35959e[1] + "," + _0x35959e[0];
      _0x431fb8.destination = _0x4c496e[1] + "," + _0x4c496e[0];
      const _0x29f455 = {
        url: "https://api.map.baidu.com/directionlite/v1/riding",
        queryParameters: _0x431fb8,
        ...this.options
      };
      const _0x204544 = await fetchJson(_0x29f455);
      if (_0x204544.status !== 0) {
        if (_0x320214.error) {
          const _0x245475 = "路径规划 请求失败(" + _0x204544.status + ")：" + _0x204544.message;
          _0x320214.error(_0x245475);
        }
        return;
      }
      const _0x456dff = _0x204544 === null || _0x204544 === undefined || (_0x2b069e = _0x204544.result) === null || _0x2b069e === undefined ? undefined : _0x2b069e.routes;
      if (!_0x456dff || _0x456dff.length === 0) {
        if (_0x320214.error) {
          _0x320214.error("未查询到相关结果！");
        }
        return;
      }
      const _0x45cdbc = this._formatRouteData(_0x431fb8.origin, _0x431fb8.destination, _0x456dff);
      return _0x45cdbc;
    }
    async _queryDriving(_0x349e3a) {
      var _0x31f291;
      const _0x15e366 = {
        ak: this.key,
        output: "json",
        coord_type: "wgs84",
        ret_coordtype: "gcj02",
        steps_info: 1,
        tactics: _0x349e3a.tactics ?? 0
      };
      const _0x4daf1c = _0x15e366;
      const _0x58ea48 = _0x349e3a.points[0];
      const _0x47252f = _0x349e3a.points[_0x349e3a.points.length - 1];
      _0x4daf1c.origin = _0x58ea48[1] + "," + _0x58ea48[0];
      _0x4daf1c.destination = _0x47252f[1] + "," + _0x47252f[0];
      if (_0x349e3a.points.length > 2) {
        let _0x267250 = "";
        for (let _0x5a86be = 1, _0x23ba3b = _0x349e3a.points.length - 1; _0x5a86be < _0x23ba3b; _0x5a86be++) {
          const _0x413923 = _0x349e3a.points[_0x5a86be];
          _0x267250 += _0x413923[1] + "," + _0x413923[0] + ";";
        }
        _0x4daf1c.waypoints = _0x267250;
      }
      const _0x45e36e = {
        url: "https://api.map.baidu.com/directionlite/v1/driving",
        queryParameters: _0x4daf1c,
        ...this.options
      };
      const _0x3c4209 = await fetchJson(_0x45e36e);
      if (_0x3c4209.status !== 0) {
        if (_0x349e3a.error) {
          const _0x263733 = "路径规划 请求失败(" + _0x3c4209.status + ")：" + _0x3c4209.message;
          _0x349e3a.error(_0x263733);
        }
        return;
      }
      const _0x1701d1 = _0x3c4209 === null || _0x3c4209 === undefined || (_0x31f291 = _0x3c4209.result) === null || _0x31f291 === undefined ? undefined : _0x31f291.routes;
      if (!_0x1701d1 || _0x1701d1.length === 0) {
        if (_0x349e3a.error) {
          _0x349e3a.error("未查询到相关结果！");
        }
        return;
      }
      const _0x4b5970 = this._formatRouteData(_0x4daf1c.origin, _0x4daf1c.destination, _0x1701d1);
      return _0x4b5970;
    }
  }
  class TdtRoute extends BaseQueryRoute {
    constructor(_0x2fc41d = {}) {
      super(_0x2fc41d);
      if (!this._keys) {
        this._keys = tiandituArr;
      }
    }
    async _queryWalking(_0x39cac5) {
      _0x39cac5.style = "3";
      return await this._queryDriving(_0x39cac5);
    }
    async _queryBicycling(_0x2b5bdc) {
      _0x2b5bdc.style = "2";
      return await this._queryDriving(_0x2b5bdc);
    }
    async _queryDriving(_0x41a20a) {
      var _0x1f6b0c;
      const _0x42e473 = {
        style: _0x41a20a.style ?? "0"
      };
      const _0x541cc0 = _0x42e473;
      const _0x21bd52 = _0x41a20a.points[0];
      const _0x2a71cd = _0x41a20a.points[_0x41a20a.points.length - 1];
      _0x541cc0.orig = _0x21bd52[0] + "," + _0x21bd52[1];
      _0x541cc0.dest = _0x2a71cd[0] + "," + _0x2a71cd[1];
      if (_0x41a20a.points.length > 2) {
        let _0x3cda52 = "";
        for (let _0x571544 = 1, _0x245c46 = _0x41a20a.points.length - 1; _0x571544 < _0x245c46; _0x571544++) {
          const _0x660b21 = _0x41a20a.points[_0x571544];
          _0x3cda52 += _0x660b21[0] + "," + _0x660b21[1] + ";";
        }
        _0x541cc0.mid = _0x3cda52;
      }
      const _0x3cfb8d = await Cesium__namespace.Resource.fetchXML({
        url: "http://api.tianditu.gov.cn/drive",
        queryParameters: {
          type: "search",
          tk: this.key,
          postStr: JSON.stringify(_0x541cc0)
        },
        ...this.options
      });
      const _0x3799d8 = xmlToJson(_0x3cfb8d);
      const _0x2af1e9 = _0x3799d8 === null || _0x3799d8 === undefined || (_0x1f6b0c = _0x3799d8.result) === null || _0x1f6b0c === undefined || (_0x1f6b0c = _0x1f6b0c.routes) === null || _0x1f6b0c === undefined ? undefined : _0x1f6b0c.item;
      if (!_0x2af1e9 || _0x2af1e9.length === 0) {
        if (_0x41a20a.error) {
          _0x41a20a.error("未查询到相关结果！");
        }
        return;
      }
      const _0x24ce7a = this._formatRouteData(_0x21bd52, _0x2a71cd, _0x3799d8.result);
      return _0x24ce7a;
    }
    _formatRouteData(_0x16d45c, _0x3c4997, _0x2dde79) {
      var _0x4b93e9;
      const _0x550238 = [];
      const _0x1e3fac = [];
      const _0x1bdb7b = [];
      _0x550238.push(_0x16d45c);
      const _0x227d10 = _0x2dde79 === null || _0x2dde79 === undefined || (_0x4b93e9 = _0x2dde79.routes) === null || _0x4b93e9 === undefined ? undefined : _0x4b93e9.item;
      let _0xe8fc23 = _0x16d45c;
      for (let _0x4ae4eb = 0; _0x4ae4eb < _0x227d10.length; _0x4ae4eb++) {
        const _0x328661 = _0x227d10[_0x4ae4eb];
        const _0x554464 = _0x328661.nextStreetName["#text"];
        if (_0x554464) {
          _0x1bdb7b.push(_0x554464);
        }
        const _0x535878 = {
          instruction: _0x328661.strguide["#text"],
          points: [_0xe8fc23],
          route: _0x554464
        };
        const _0x487aec = _0x535878;
        const _0x58c339 = _0x328661.turnlatlon["#text"].split(",");
        _0xe8fc23 = [Number(_0x58c339[0]), Number(_0x58c339[1])];
        _0x550238.push(_0xe8fc23);
        _0x487aec.points.push(_0xe8fc23);
        _0x1e3fac.push(_0x487aec);
      }
      _0x550238.push(_0x3c4997);
      return {
        origin: _0x16d45c,
        destination: _0x3c4997,
        paths: [{
          allDistance: Number(_0x2dde79.distance["#text"]),
          allDuration: Number(_0x2dde79.duration["#text"]),
          steps: _0x1e3fac,
          points: _0x550238,
          road: _0x1bdb7b
        }]
      };
    }
  }
  function xmlToJson(_0xaf2244) {
    let _0x54403c = {};
    if (_0xaf2244.nodeType === 1) {
      if (_0xaf2244.attributes.length > 0) {
        _0x54403c["@attributes"] = {};
        for (let _0x1c1ea9 = 0; _0x1c1ea9 < _0xaf2244.attributes.length; _0x1c1ea9++) {
          const _0x512c0b = _0xaf2244.attributes.item(_0x1c1ea9);
          if (_0x512c0b.nodeValue) {
            _0x54403c["@attributes"][_0x512c0b.nodeName] = _0x512c0b.nodeValue;
          }
        }
      }
    } else if (_0xaf2244.nodeType === 3) {
      _0x54403c = _0xaf2244.nodeValue;
    }
    if (_0xaf2244.hasChildNodes()) {
      for (let _0x5adfd0 = 0; _0x5adfd0 < _0xaf2244.childNodes.length; _0x5adfd0++) {
        const _0x59346a = _0xaf2244.childNodes.item(_0x5adfd0);
        const _0x153b53 = _0x59346a.nodeName;
        if (typeof _0x54403c[_0x153b53] === "undefined") {
          const _0x309ce9 = xmlToJson(_0x59346a);
          if (_0x309ce9) {
            _0x54403c[_0x153b53] = _0x309ce9;
          }
        } else {
          if (typeof _0x54403c[_0x153b53].push === "undefined") {
            const _0x24b497 = _0x54403c[_0x153b53];
            _0x54403c[_0x153b53] = [];
            _0x54403c[_0x153b53].push(_0x24b497);
          }
          _0x54403c[_0x153b53].push(xmlToJson(_0x59346a));
        }
      }
    }
    return _0x54403c;
  }
  class QueryRoute {
    constructor(_0x1221f7 = {}) {
      this.setOptions(_0x1221f7);
    }
    setOptions(_0xb4a299) {
      this.options = {
        ...this.options,
        ..._0xb4a299
      };
      switch (_0xb4a299.service) {
        case QueryServiceType.TDT:
          this._service = new TdtRoute(_0xb4a299);
          break;
        case QueryServiceType.BAIDU:
          this._service = new BaiduRoute(_0xb4a299);
          break;
        case QueryServiceType.GAODE:
        default:
          this._service = new GaodeRoute(_0xb4a299);
          break;
      }
    }
    query(_0x1c607b) {
      switch (_0x1c607b.type) {
        case QueryRouteType.Bicycling:
          return this.queryBicycling(_0x1c607b);
        case QueryRouteType.Driving:
          return this.queryDriving(_0x1c607b);
        case QueryRouteType.Walking:
        default:
          return this.queryWalking(_0x1c607b);
      }
    }
    queryArr(_0xf403f5) {
      return new Promise((_0x485355, _0x18f578) => {
        const _0x5f3532 = this;
        let _0x5ed4ee = -1;
        const _0x3bcf3d = {};
        for (const _0x4aecdd in _0xf403f5) {
          if (_0x4aecdd === "points" || _0x4aecdd === "success" || _0x4aecdd === "error") {
            continue;
          }
          _0x3bcf3d[_0x4aecdd] = _0xf403f5[_0x4aecdd];
        }
        const _0x598c60 = _0xf403f5.points;
        const _0x5eda28 = [];
        function _0x456959() {
          _0x5ed4ee++;
          _0x3bcf3d.points = _0x598c60[_0x5ed4ee];
          _0x3bcf3d.success = function (_0xd7da0b) {
            if (_0xd7da0b && _0xd7da0b.paths && _0xd7da0b.paths.length > 0) {
              _0x5eda28.push(_0xd7da0b.paths[0]);
            } else {
              _0x5eda28.push(null);
            }
            if (_0x5ed4ee >= _0x598c60.length - 1) {
              if (_0xf403f5.success) {
                _0xf403f5.success(_0x5eda28);
              }
              _0x485355(_0x5eda28);
            } else {
              _0x456959();
            }
          };
          _0x3bcf3d.error = _0x3bcf3d.success;
          _0x5f3532.query(_0x3bcf3d);
        }
        _0x456959();
      });
    }
    queryWalking(_0x5310f2) {
      return this._service._queryWalking(_0x5310f2).then(_0x5c0c4e => {
        if (_0x5310f2.success) {
          _0x5310f2.success(_0x5c0c4e);
        }
        return _0x5c0c4e;
      }).catch(_0x288bc5 => {
        logError("QueryRoute 请求出错", _0x288bc5);
        if (_0x5310f2.error) {
          _0x5310f2.error("请求出错", _0x288bc5);
        }
      });
    }
    queryBicycling(_0x13696d) {
      return this._service._queryBicycling(_0x13696d).then(_0x4f45bd => {
        if (_0x13696d.success) {
          _0x13696d.success(_0x4f45bd);
        }
        return _0x4f45bd;
      }).catch(_0xe0e0ab => {
        logError("QueryRoute 请求出错", _0xe0e0ab);
        if (_0x13696d.error) {
          _0x13696d.error("请求出错", _0xe0e0ab);
        }
      });
    }
    queryDriving(_0x2ece4e) {
      return this._service._queryDriving(_0x2ece4e).then(_0x1a3433 => {
        if (_0x2ece4e.success) {
          _0x2ece4e.success(_0x1a3433);
        }
        return _0x1a3433;
      }).catch(_0x2d86f1 => {
        logError("QueryRoute 请求出错", _0x2d86f1);
        if (_0x2ece4e.error) {
          _0x2ece4e.error("请求出错", _0x2d86f1);
        }
      });
    }
    getShortestPath(_0x1106f1) {
      let _0x55dfbe = Number.MAX_VALUE;
      let _0x546c0c = null;
      let _0x2827dc = -1;
      for (let _0x2c2ec5 = 0; _0x2c2ec5 < _0x1106f1.length; _0x2c2ec5++) {
        const _0x5ddd82 = _0x1106f1[_0x2c2ec5];
        if (_0x5ddd82) {
          if (_0x5ddd82.allDistance <= _0x55dfbe) {
            _0x546c0c = _0x5ddd82;
            _0x2827dc = _0x2c2ec5;
            _0x55dfbe = _0x5ddd82.allDistance;
          }
        }
      }
      const _0x171e3a = {
        lineData: _0x546c0c,
        index: _0x2827dc
      };
      return _0x171e3a;
    }
  }
  const Def_Parameters = {
    service: "WFS",
    request: "GetFeature",
    version: "1.0.0",
    outputFormat: "application/json",
    maxFeatures: 1000
  };
  class QueryGeoServer extends BaseClass {
    get layer() {
      if (!this._geoJsonLayer) {
        const _0x33d468 = {
          ...this.options
        };
        const _0x19cf5c = _0x33d468;
        delete _0x19cf5c.url;
        delete _0x19cf5c.data;
        this._geoJsonLayer = new GeoJsonLayer(_0x19cf5c);
        this._geoJsonLayer.on(EventType.load, this.geoJsonLayer_onLoadHandler, this);
        this._geoJsonLayer.on(EventType.click, this.geoJsonLayer_onClickHandler, this);
      }
      return this._geoJsonLayer;
    }
    query(_0x2e54fc) {
      let _0x4cd7ab = "<Filter xmlns=\"http://www.opengis.net/ogc\" xmlns:gml=\"http://www.opengis.net/gml\"><And>";
      if (_0x2e54fc.text) {
        if (_0x2e54fc.like ?? true) {
          _0x4cd7ab += " <PropertyIsLike wildCard=\"*\" singleChar=\"#\" escapeChar=\"!\">\n            <PropertyName>" + _0x2e54fc.column + "</PropertyName>\n            <Literal>*" + _0x2e54fc.text + "*</Literal>\n        </PropertyIsLike>";
        } else {
          _0x4cd7ab += "<PropertyIsEqualTo>\n                <PropertyName>" + _0x2e54fc.column + "</PropertyName>\n                <Literal>" + _0x2e54fc.text + "</Literal>\n            </PropertyIsEqualTo> ";
        }
      }
      if (_0x2e54fc.graphic) {
        const _0xf45268 = _0x2e54fc.graphic;
        let _0x475377;
        if (_0xf45268.type === "rectangle") {
          _0x475377 = _0xf45268.outlineCoordinates;
        } else if (_0xf45268.type === "polygon") {
          _0x475377 = _0xf45268.coord;
        } else if (_0xf45268.type === "circle") {
          _0x475377 = _0xf45268.getOutlineCoordinates(true, 30);
        } else if (Cesium__namespace.defined(_0xf45268.xmax) && Cesium__namespace.defined(_0xf45268.xmin) && Cesium__namespace.defined(_0xf45268.ymin) && Cesium__namespace.defined(_0xf45268.ymax)) {
          _0x475377 = [[_0xf45268.xmin, _0xf45268.ymax], [_0xf45268.xmin, _0xf45268.ymin], [_0xf45268.xmax, _0xf45268.ymin], [_0xf45268.xmax, _0xf45268.ymax]];
        }
        if (_0x475377) {
          _0x475377.push(_0x475377[0]);
          let _0x31aee = "";
          for (let _0x2829ec = 0; _0x2829ec < _0x475377.length; _0x2829ec++) {
            let _0x4c10c1 = _0x475377[_0x2829ec];
            if (this.options.crs && this.options.crs !== CRS.EPSG4326 && this.options.crs !== CRS.EPSG4490) {
              _0x4c10c1 = proj4Trans(_0x4c10c1, "EPSG:4326", this.options.crs);
            }
            _0x31aee += _0x4c10c1[0] + "," + _0x4c10c1[1] + " ";
          }
          _0x4cd7ab += "<Intersects>\n                      <PropertyName>" + (_0x2e54fc.geometryName || "the_geom") + "</PropertyName>\n                      <gml:Polygon>\n                          <gml:outerBoundaryIs>\n                              <gml:LinearRing>\n                                  <gml:coordinates>" + _0x31aee + "</gml:coordinates>\n                              </gml:LinearRing>\n                          </gml:outerBoundaryIs>\n                      </gml:Polygon>\n                  </Intersects>";
        }
      }
      _0x4cd7ab += "</And></Filter>";
      const _0x23277b = {
        ...Def_Parameters,
        ..._0x2e54fc
      };
      _0x23277b.typeName = this.options.layer;
      _0x23277b.filter = _0x4cd7ab;
      const _0x30d00a = _0x23277b;
      delete _0x30d00a.success;
      delete _0x30d00a.error;
      delete _0x30d00a.graphic;
      delete _0x30d00a.text;
      delete _0x30d00a.column;
      return new Promise((_0x14f733, _0x4d7c83) => {
        const _0x3c877d = {
          ...this.options
        };
        _0x3c877d.queryParameters = _0x30d00a;
        sendAjax(_0x3c877d).then(_0x3eeb82 => {
          const _0x3888cf = {
            resolve: _0x14f733,
            reject: _0x4d7c83
          };
          _0x2e54fc._promise = _0x3888cf;
          this.processFeatureCollection(_0x3eeb82, _0x2e54fc);
        }).catch(_0x307c7b => {
          logError("QueryGeoServer 请求出错", _0x307c7b);
          if (_0x2e54fc.error) {
            _0x2e54fc.error("请求出错", _0x307c7b);
          }
        });
      });
    }
    queryBySql(_0x6fd453) {
      let _0xc90037 = _0x6fd453.cql_filter || "1=1";
      if (_0x6fd453.graphic) {
        let _0x34432f = _0x6fd453.graphic;
        const _0x4bbd3f = _0x6fd453.geometryName || "the_geom";
        let _0x28cf52;
        if (_0x34432f.type === "rectangle") {
          _0x34432f = _0x34432f.getRectangle({
            isFormat: true
          });
          const _0x38be19 = _0x34432f.xmin + "," + _0x34432f.ymin + "," + _0x34432f.xmax + "," + _0x34432f.ymax;
          _0xc90037 += " and BBOX(" + _0x4bbd3f + ", " + _0x38be19 + ")";
        } else if (_0x34432f.type === "polygon") {
          _0x28cf52 = _0x34432f.coord;
        } else if (_0x34432f.type === "circle") {
          _0x28cf52 = _0x34432f.getOutlineCoordinates(true, 30);
        } else if (Cesium__namespace.defined(_0x34432f.xmax) && Cesium__namespace.defined(_0x34432f.xmin) && Cesium__namespace.defined(_0x34432f.ymin) && Cesium__namespace.defined(_0x34432f.ymax)) {
          const _0x54761c = _0x34432f.xmin + "," + _0x34432f.ymin + "," + _0x34432f.xmax + "," + _0x34432f.ymax;
          _0xc90037 += " and BBOX(" + _0x4bbd3f + ", " + _0x54761c + ")";
        }
        if (_0x28cf52) {
          _0x28cf52.push(_0x28cf52[0]);
          const _0xc45d39 = [];
          for (let _0x37615f = 0; _0x37615f < _0x28cf52.length; _0x37615f++) {
            _0xc45d39.push(_0x28cf52[_0x37615f][0] + " " + _0x28cf52[_0x37615f][1]);
          }
          _0xc90037 += " and INTERSECTS (" + _0x4bbd3f + ",POLYGON((" + _0xc45d39.join(",") + ")))";
        }
      }
      const _0xba761b = {
        ...Def_Parameters,
        ..._0x6fd453
      };
      _0xba761b.typeName = this.options.layer;
      _0xba761b.cql_filter = _0xc90037;
      const _0x1fded3 = _0xba761b;
      delete _0x1fded3.success;
      delete _0x1fded3.error;
      delete _0x1fded3.graphic;
      return new Promise((_0x24c6ae, _0x5592fb) => {
        const _0x121351 = {
          ...this.options
        };
        _0x121351.queryParameters = _0x1fded3;
        sendAjax(_0x121351).then(_0x1b1b41 => {
          const _0x41e9d3 = {
            resolve: _0x24c6ae,
            reject: _0x5592fb
          };
          _0x6fd453._promise = _0x41e9d3;
          this.processFeatureCollection(_0x1b1b41, _0x6fd453);
        }).catch(_0x3a880a => {
          logError("QueryGeoServer 请求出错", _0x3a880a);
          if (_0x6fd453.error) {
            _0x6fd453.error("请求出错", _0x3a880a);
          }
        });
      });
    }
    processFeatureCollection(_0x503368, _0x22be67) {
      if (_0x503368 && _0x503368.type === "Feature") {
        _0x503368 = {
          type: "FeatureCollection",
          features: [_0x503368]
        };
      }
      if (!_0x503368 || !_0x503368.features || _0x503368.features.length === 0) {
        var _0x1f9ec5;
        if (_0x22be67.success) {
          _0x22be67.success({
            count: 0
          });
        }
        if ((_0x1f9ec5 = _0x22be67._promise) !== null && _0x1f9ec5 !== undefined && _0x1f9ec5.resolve) {
          _0x22be67._promise.resolve({
            count: 0
          });
        }
      } else {
        const _0x481367 = [];
        for (let _0x5e2c64 = 0; _0x5e2c64 < _0x503368.features.length; _0x5e2c64++) {
          var _0x34b8ee;
          const _0x5d0f6f = _0x503368.features[_0x5e2c64];
          if ((_0x5d0f6f === null || _0x5d0f6f === undefined || (_0x34b8ee = _0x5d0f6f.geometry) === null || _0x34b8ee === undefined || (_0x34b8ee = _0x34b8ee.coordinates) === null || _0x34b8ee === undefined ? undefined : _0x34b8ee.length) > 0) {
            _0x481367.push(_0x5d0f6f);
          }
        }
        _0x503368.features = _0x481367;
        if (this._geoJsonLayer) {
          this._last_success = _0x1d7069 => {
            var _0x3cc47c;
            const _0x52c3d4 = {
              geojson: _0x503368,
              count: _0x503368.features.length,
              list: _0x1d7069
            };
            const _0x3cf333 = _0x52c3d4;
            if (_0x22be67.success) {
              _0x22be67.success(_0x3cf333);
            }
            if ((_0x3cc47c = _0x22be67._promise) !== null && _0x3cc47c !== undefined && _0x3cc47c.resolve) {
              _0x22be67._promise.resolve(_0x3cf333);
            }
          };
          const _0x41d0c9 = {
            data: _0x503368
          };
          this._geoJsonLayer.load(_0x41d0c9);
        } else {
          var _0x2a3bfe;
          const _0x396389 = {
            geojson: _0x503368,
            count: _0x503368.features.length
          };
          const _0xff4de = _0x396389;
          if (_0x22be67.success) {
            _0x22be67.success(_0xff4de);
          }
          if ((_0x2a3bfe = _0x22be67._promise) !== null && _0x2a3bfe !== undefined && _0x2a3bfe.resolve) {
            _0x22be67._promise.resolve(_0xff4de);
          }
        }
      }
    }
    geoJsonLayer_onLoadHandler(_0x34c5d0) {
      if (this._last_success) {
        this._last_success(_0x34c5d0.list);
        this._last_success = null;
      }
      this.fire(EventType.load, _0x34c5d0);
    }
    geoJsonLayer_onClickHandler(_0x8004ca) {
      this.fire(EventType.click, {
        ..._0x8004ca,
        layer: this._geoJsonLayer
      });
    }
    clear() {
      this._last_success &&= null;
      if (this._geoJsonLayer) {
        this._geoJsonLayer.clear();
      }
    }
  }
  class QueryArcServer extends BaseClass {
    constructor(_0x53f28e = {}) {
      super(_0x53f28e);
      this.options = _0x53f28e;
      this._pageSize = _0x53f28e.pageSize ?? 10;
      this._allCount = 0;
      this._allPage = 0;
      this._pageIndex = 1;
      this.arrIDS = [];
    }
    get url() {
      return this.options.url;
    }
    set url(_0x4a6ae6) {
      this.options.url = _0x4a6ae6;
    }
    get pageSize() {
      return this._pageSize;
    }
    set pageSize(_0x35f18f) {
      this._pageSize = _0x35f18f;
    }
    get allCount() {
      return this._allCount;
    }
    get allPage() {
      return this._allPage;
    }
    get pageIndex() {
      return this._pageIndex;
    }
    set pageIndex(_0x6e32ab) {
      this._pageIndex = _0x6e32ab;
      this.showPage(_0x6e32ab);
    }
    get layer() {
      if (!this._geoJsonLayer) {
        const _0x38b2cf = {
          ...this.options
        };
        const _0x41b94f = _0x38b2cf;
        delete _0x41b94f.url;
        delete _0x41b94f.data;
        this._geoJsonLayer = new GeoJsonLayer(_0x41b94f);
        this._geoJsonLayer.on(EventType.load, this.geoJsonLayer_onLoadHandler, this);
        this._geoJsonLayer.on(EventType.click, this.geoJsonLayer_onClickHandler, this);
      }
      return this._geoJsonLayer;
    }
    showFirstPage() {
      this.showPage(1);
    }
    showPretPage() {
      this._pageIndex = this._pageIndex - 1;
      if (this._pageIndex < 1) {
        this._pageIndex = 1;
      }
      this.showPage(this._pageIndex);
    }
    showNextPage() {
      this._pageIndex = this._pageIndex + 1;
      if (this._pageIndex > this.allPage) {
        this._pageIndex = this.allPage;
      }
      this.showPage(this._pageIndex);
    }
    showPage(_0x2632c0) {
      this._pageIndex = _0x2632c0;
      this._queryPageByIds();
    }
    query(_0x4c3927) {
      this._pageIndex = 1;
      this.arrIDS = [];
      const _0x553b8d = {
        f: "json",
        inSr: 4326,
        outSR: 4326,
        outFields: "*",
        returnGeometry: true,
        where: _0x4c3927.where || "1=1",
        ..._0x4c3927.parameters
      };
      const _0x4d9e8a = _0x553b8d;
      if (this.options.token) {
        _0x4d9e8a.token = this.options.token;
      }
      if (_0x4c3927.column) {
        let _0x4abf9b = "";
        if (_0x4c3927.like ?? true) {
          _0x4abf9b = _0x4c3927.column + "  like '%" + _0x4c3927.text + "%' ";
        } else {
          _0x4abf9b = _0x4c3927.column + "='" + _0x4c3927.text + "'";
        }
        _0x4d9e8a.where = _0x4abf9b;
      }
      if (_0x4c3927.graphic) {
        const _0x4b0d1e = _0x4c3927.graphic;
        _0x4d9e8a.spatialRel = "esriSpatialRelIntersects";
        if (_0x4b0d1e.type === "rectangle") {
          const _0x5f1205 = _0x4b0d1e.outlineCoordinates;
          _0x4d9e8a.geometryType = "esriGeometryEnvelope";
          const _0x5ac377 = {
            xmin: _0x5f1205[0][0],
            ymin: _0x5f1205[0][1],
            xmax: _0x5f1205[2][0],
            ymax: _0x5f1205[2][1],
            spatialReference: {
              wkid: 4326
            }
          };
          _0x4d9e8a.geometry = JSON.stringify(_0x5ac377);
        } else if (Cesium__namespace.defined(_0x4b0d1e.xmax) && Cesium__namespace.defined(_0x4b0d1e.xmin) && Cesium__namespace.defined(_0x4b0d1e.ymin) && Cesium__namespace.defined(_0x4b0d1e.ymax)) {
          _0x4d9e8a.geometryType = "esriGeometryEnvelope";
          const _0x3114f0 = {
            xmin: _0x4b0d1e.xmin,
            ymin: _0x4b0d1e.ymin,
            xmax: _0x4b0d1e.xmax,
            ymax: _0x4b0d1e.ymax,
            spatialReference: {
              wkid: 4326
            }
          };
          _0x4d9e8a.geometry = JSON.stringify(_0x3114f0);
        } else {
          let _0x42cb7d;
          if (_0x4b0d1e.type === "polygon") {
            _0x42cb7d = _0x4b0d1e.toGeoJSON();
          } else if (_0x4b0d1e.type === "circle") {
            const _0x5315c9 = {
              type: "Polygon",
              coordinates: [_0x4b0d1e.outlineCoordinates]
            };
            const _0x3daed4 = {
              type: "Feature",
              geometry: _0x5315c9
            };
            _0x42cb7d = _0x3daed4;
          } else {
            _0x42cb7d = _0x4c3927.graphic;
          }
          _0x4d9e8a.geometry = JSON.stringify(geojsonToArcGIS$1(_0x42cb7d.geometry));
          _0x4d9e8a.geometryType = geojsonTypeToArcGIS(_0x42cb7d.geometry.type);
        }
      }
      return new Promise((_0x18e492, _0x3fbf21) => {
        const _0x4832e2 = {
          resolve: _0x18e492,
          reject: _0x3fbf21
        };
        _0x4c3927._promise = _0x4832e2;
        if (_0x4c3927.page ?? true) {
          _0x4d9e8a.returnIdsOnly = true;
          const _0x1f3a9d = {
            ...this.options
          };
          _0x1f3a9d.url = this.url + "/query";
          _0x1f3a9d.queryParameters = _0x4d9e8a;
          sendAjax(_0x1f3a9d).then(_0x110f6c => {
            const _0x54d904 = _0x110f6c.objectIds;
            if (_0x54d904) {
              this.arrIDS = _0x54d904;
              this._allCount = _0x54d904.length;
              this._allPage = Math.ceil(this._allCount / this._pageSize);
            }
            delete _0x4d9e8a.returnIdsOnly;
            this._queryPageByIds(_0x4d9e8a, _0x4c3927);
          }).catch(_0x1aa9ec => {
            logError("QueryArcServer 请求出错", _0x1aa9ec);
            if (_0x4c3927.error) {
              _0x4c3927.error(_0x1aa9ec, _0x1aa9ec.message);
            }
          });
        } else {
          const _0x231cb7 = {
            ...this.options
          };
          _0x231cb7.url = this.url + "/query";
          _0x231cb7.queryParameters = _0x4d9e8a;
          sendAjax(_0x231cb7).then(_0x1d0ae6 => {
            const _0x3535a2 = arcgisToGeoJSON$1(_0x1d0ae6);
            this.processFeatureCollection(_0x3535a2, _0x4c3927);
          }).catch(_0x961cb8 => {
            logError("QueryArcServer 请求出错", _0x961cb8);
            if (_0x4c3927.error) {
              _0x4c3927.error(_0x961cb8, _0x961cb8.message);
            }
          });
        }
      });
    }
    _queryPageByIds(_0x283285, _0x4422f0) {
      if (_0x283285) {
        this.lastParameters = _0x283285;
      } else if (this.lastParameters) {
        _0x283285 = this.lastParameters;
      }
      if (_0x4422f0) {
        this.lastQueryOpts = _0x4422f0;
      } else if (this.lastParameters) {
        _0x4422f0 = this.lastQueryOpts;
      }
      if (!this.arrIDS || this.arrIDS.length === 0 || this._pageIndex < 1 || this._pageIndex > this.allPage) {
        var _0x57b116;
        const _0x5d6b7c = {
          geojson: null,
          count: 0,
          allCount: this.allCount,
          pageSize: this.pageSize,
          allPage: this.allPage,
          pageIndex: this.pageIndex
        };
        const _0x455d58 = _0x5d6b7c;
        if (_0x4422f0.success) {
          _0x4422f0.success(_0x455d58);
        }
        if ((_0x57b116 = _0x4422f0._promise) !== null && _0x57b116 !== undefined && _0x57b116.resolve) {
          _0x4422f0._promise.resolve(_0x455d58);
        }
        return;
      }
      const _0x1b1ec5 = (this._pageIndex - 1) * this._pageSize;
      const _0x26c154 = this._pageIndex * this._pageSize;
      const _0xdf0f6c = this.arrIDS.slice(_0x1b1ec5, _0x26c154);
      _0x283285.objectIds = _0xdf0f6c.join(",");
      const _0x55e183 = {
        ...this.options
      };
      _0x55e183.url = this.url + "/query";
      _0x55e183.queryParameters = _0x283285;
      sendAjax(_0x55e183).then(_0x5861dc => {
        const _0x344fa2 = arcgisToGeoJSON$1(_0x5861dc);
        this.processFeatureCollection(_0x344fa2, _0x4422f0);
      }).catch(_0x48dc49 => {
        logError("QueryArcServer 请求出错", _0x48dc49);
        if (_0x4422f0.error) {
          _0x4422f0.error(_0x48dc49, _0x48dc49.message);
        }
      });
    }
    processFeatureCollection(_0x14333b, _0x4c68ec) {
      if (!_0x14333b || !_0x14333b.features || _0x14333b.features.length === 0) {
        var _0x39951b;
        const _0x1f78ad = {
          geojson: null,
          count: 0,
          allCount: this.allCount,
          pageSize: this.pageSize,
          allPage: this.allPage,
          pageIndex: this.pageIndex
        };
        const _0x213ce1 = _0x1f78ad;
        if (_0x4c68ec.success) {
          _0x4c68ec.success(_0x213ce1);
        }
        if ((_0x39951b = _0x4c68ec._promise) !== null && _0x39951b !== undefined && _0x39951b.resolve) {
          _0x4c68ec._promise.resolve(_0x213ce1);
        }
      } else {
        const _0x4165d3 = [];
        for (let _0x23515e = 0; _0x23515e < _0x14333b.features.length; _0x23515e++) {
          var _0x1941fc;
          const _0x4fa894 = _0x14333b.features[_0x23515e];
          if ((_0x4fa894 === null || _0x4fa894 === undefined || (_0x1941fc = _0x4fa894.geometry) === null || _0x1941fc === undefined || (_0x1941fc = _0x1941fc.coordinates) === null || _0x1941fc === undefined ? undefined : _0x1941fc.length) > 0) {
            _0x4165d3.push(_0x4fa894);
          }
        }
        _0x14333b.features = _0x4165d3;
        const _0x22f92e = {
          geojson: _0x14333b,
          count: _0x14333b.features.length,
          allCount: this.allCount,
          pageSize: this.pageSize,
          allPage: this.allPage,
          pageIndex: this.pageIndex
        };
        const _0x18bb25 = _0x22f92e;
        if (this._geoJsonLayer) {
          this._last_success = _0x2a8e5f => {
            var _0x1a6fd1;
            _0x18bb25.list = _0x2a8e5f;
            if (_0x4c68ec.success) {
              _0x4c68ec.success(_0x18bb25);
            }
            if ((_0x1a6fd1 = _0x4c68ec._promise) !== null && _0x1a6fd1 !== undefined && _0x1a6fd1.resolve) {
              _0x4c68ec._promise.resolve(_0x18bb25);
            }
          };
          const _0x586327 = {
            data: _0x14333b
          };
          this._geoJsonLayer.load(_0x586327);
        } else {
          var _0x46728a;
          if (_0x4c68ec.success) {
            _0x4c68ec.success(_0x18bb25);
          }
          if ((_0x46728a = _0x4c68ec._promise) !== null && _0x46728a !== undefined && _0x46728a.resolve) {
            _0x4c68ec._promise.resolve(_0x18bb25);
          }
        }
      }
    }
    geoJsonLayer_onLoadHandler(_0x4c64e7) {
      if (this._last_success) {
        this._last_success(_0x4c64e7.list);
        this._last_success = null;
      }
      this.fire(EventType.load, _0x4c64e7);
    }
    geoJsonLayer_onClickHandler(_0x48186b) {
      this.fire(EventType.click, {
        ..._0x48186b,
        layer: this._geoJsonLayer
      });
    }
    clear() {
      this._last_success &&= null;
      if (this._geoJsonLayer) {
        this._geoJsonLayer.clear();
      }
    }
  }
  function geojsonTypeToArcGIS(_0x317494) {
    let _0x330c93;
    switch (_0x317494) {
      case "MultiPoint":
        _0x330c93 = "esriGeometryMultipoint";
        break;
      case "LineString":
        _0x330c93 = "esriGeometryPolyline";
        break;
      case "MultiLineString":
        _0x330c93 = "esriGeometryPolyline";
        break;
      case "Polygon":
        _0x330c93 = "esriGeometryPolygon";
        break;
      case "MultiPolygon":
        _0x330c93 = "esriGeometryPolygon";
        break;
      case "Point":
      default:
        _0x330c93 = "esriGeometryPoint";
        break;
    }
    return _0x330c93;
  }
  const _0x100372 = {
    __proto__: null,
    BaseQueryPOI: BaseQueryPOI,
    QueryPOI: QueryPOI,
    BaseQueryRoute: BaseQueryRoute,
    QueryRoute: QueryRoute,
    QueryGeoServer: QueryGeoServer,
    QueryArcServer: QueryArcServer
  };
  var index = _0x100372;
  const name = "Mars3D三维可视化平台";
  const website = "http://mars3d.cn";
  const author = "合肥火星科技有限公司";
  exports.Cesium = Cesium__namespace;
  exports.turf = turf__namespace;
  exports.BaseClass = BaseClass;
  exports.BaseMaterialConver = BaseMaterialConver;
  exports.BaseStyleConver = BaseStyleConver;
  exports.BaseThing = BaseThing;
  exports.BillboardStyleConver = BillboardStyleConver;
  exports.BoxStyleConver = BoxStyleConver;
  exports.CRS = CRS;
  exports.ChinaCRS = ChinaCRS;
  exports.CircleStyleConver = CircleStyleConver;
  exports.ClipType = ClipType;
  exports.CloudStyleConver = CloudStyleConver;
  exports.ColorOptsConver = ColorOptsConver;
  exports.ColorRamp = ColorRamp;
  exports.ControlType = ControlType;
  exports.ControlUtil = ControlUtil;
  exports.CorridorStyleConver = CorridorStyleConver;
  exports.CylinderStyleConver = CylinderStyleConver;
  exports.DivGraphicStyleConver = DivGraphicStyleConver;
  exports.DomUtil = DomUtil;
  exports.DrawUtil = DrawUtil;
  exports.EditPointType = EditPointType;
  exports.EffectType = EffectType;
  exports.EffectUtil = EffectUtil;
  exports.EllipsoidStyleConver = EllipsoidStyleConver;
  exports.EventType = EventType;
  exports.GraphicType = GraphicType;
  exports.GraphicUtil = GraphicUtil;
  exports.GroundSkyBox = GroundSkyBox;
  exports.GroupThing = GroupThing;
  exports.Icon = Icon;
  exports.ImageOptsConver = ImageOptsConver;
  exports.LabelStyleConver = LabelStyleConver;
  exports.Lang = Lang;
  exports.LayerType = LayerType;
  exports.LayerUtil = LayerUtil;
  exports.LngLatArray = LngLatArray;
  exports.LngLatPoint = LngLatPoint;
  exports.LocalWorldTransform = LocalWorldTransform;
  exports.Log = Log;
  exports.Map = Map;
  exports.MarsArray = MarsArray;
  exports.MaterialType = MaterialType;
  exports.MaterialUtil = MaterialUtil;
  exports.MeasureUtil = MeasureUtil;
  exports.ModelStyleConver = ModelStyleConver;
  exports.MoveType = MoveType;
  exports.MultipleSkyBox = MultipleSkyBox;
  exports.PathStyleConver = PathStyleConver;
  exports.PlaneStyleConver = PlaneStyleConver;
  exports.PointCluster = PointCluster;
  exports.PointCollision = PointCollision;
  exports.PointStyleConver = PointStyleConver;
  exports.PointTrans = PointTrans;
  exports.PointUtil = PointUtil;
  exports.PolyUtil = PolyUtil;
  exports.PolygonStyleConver = PolygonStyleConver;
  exports.PolylineStyleConver = PolylineStyleConver;
  exports.PolylineVolumeStyleConver = PolylineVolumeStyleConver;
  exports.QueryRouteType = QueryRouteType;
  exports.QueryServiceType = QueryServiceType;
  exports.RectangleStyleConver = RectangleStyleConver;
  exports.RectangularSensorStyleConver = RectangularSensorStyleConver;
  exports.State = State;
  exports.TaskItem = TaskItem;
  exports.Texture3 = Texture3;
  exports.ThingType = ThingType;
  exports.ThingUtil = ThingUtil;
  exports.Token = Token;
  exports.Util = Util;
  exports.WallStyleConver = WallStyleConver;
  exports.author = author;
  exports.control = index$1;
  exports.edit = index$6;
  exports.effect = index$2;
  exports.graphic = index$7;
  exports.layer = index$4;
  exports.material = index$8;
  exports.name = name;
  exports.proj4 = proj4;
  exports.provider = index$5;
  exports.query = index;
  exports.thing = index$3;
  exports.update = update;
  exports.version = version;
  exports.website = website;
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
});